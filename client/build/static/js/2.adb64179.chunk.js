/*! For license information please see 2.adb64179.chunk.js.LICENSE.txt */
(this["webpackJsonpproject-titan"]=this["webpackJsonpproject-titan"]||[]).push([[2],[function(e,t,n){"use strict";e.exports=n(97)},function(e,t,n){"use strict";e.exports=n(93)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return C})),n.d(t,"c",(function(){return M})),n.d(t,"d",(function(){return B})),n.d(t,"e",(function(){return E})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return Z})),n.d(t,"k",(function(){return F})),n.d(t,"l",(function(){return H})),n.d(t,"m",(function(){return d})),n.d(t,"n",(function(){return p})),n.d(t,"o",(function(){return K})),n.d(t,"p",(function(){return ee})),n.d(t,"q",(function(){return y})),n.d(t,"r",(function(){return R})),n.d(t,"s",(function(){return b})),n.d(t,"t",(function(){return _})),n.d(t,"u",(function(){return x})),n.d(t,"v",(function(){return U})),n.d(t,"w",(function(){return T})),n.d(t,"x",(function(){return S})),n.d(t,"y",(function(){return g})),n.d(t,"z",(function(){return m})),n.d(t,"A",(function(){return O})),n.d(t,"B",(function(){return w})),n.d(t,"C",(function(){return k})),n.d(t,"D",(function(){return j})),n.d(t,"E",(function(){return P})),n.d(t,"F",(function(){return q})),n.d(t,"G",(function(){return V})),n.d(t,"H",(function(){return z})),n.d(t,"I",(function(){return $})),n.d(t,"J",(function(){return J})),n.d(t,"K",(function(){return N})),n.d(t,"L",(function(){return G})),n.d(t,"M",(function(){return X})),n.d(t,"N",(function(){return Q})),n.d(t,"O",(function(){return A}));var r=n(87),i=!1,o=!1,a="${JSCORE_VERSION}",s=function(e,t){if(!e)throw u(t)},u=function(e){return new Error("Firebase Database ("+a+") INTERNAL ASSERT FAILED: "+e)},l=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|l>>6,d=63&l;u||(d=64,a||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(l(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var l=o<<2|a>>4;if(r.push(l),64!==s){var c=a<<4&240|s>>2;if(r.push(c),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},f=function(e){var t=l(e);return c.encodeByteArray(t,!0)},h=function(e){try{return c.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function d(e){return p(void 0,e)}function p(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=p(e[n],t[n]));return e}var v=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function y(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function g(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())}function m(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}}function b(){return"object"===typeof self&&self.self===self}function _(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function w(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function x(){return y().indexOf("Electron/")>=0}function T(){var e=y();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function k(){return y().indexOf("MSAppHost/")>=0}function O(){return!0===i||!0===o}function S(){return"indexedDB"in self&&null!=indexedDB}function A(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}}))}function E(){return!(!navigator||!navigator.cookieEnabled)}var M=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,C.prototype.create),o}return Object(r.a)(t,e),t}(Error),C=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?I(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new M(i,s,r);return u},e}();function I(e,t){return e.replace(D,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var D=/\{\$([^}]+)}/g;function P(e){return JSON.parse(e)}function N(e){return JSON.stringify(e)}var L=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=P(h(o[0])||""),n=P(h(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}},j=function(e){var t=L(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},R=function(e){var t=L(e).claims;return"object"===typeof t&&!0===t.admin};function F(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function z(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function U(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function q(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function V(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}var B=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],l=this.chain_[2],c=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=c^u&(l^c),a=1518500249):(o=u^l^c,a=1859775393):r<60?(o=u&l|c&(u|l),a=2400959708):(o=u^l^c,a=3395469782);i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=c,c=l,l=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function H(e,t){var n=new W(e,t);return n.subscribe.bind(n)}var W=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Y),void 0===r.error&&(r.error=Y),void 0===r.complete&&(r.complete=Y);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function Y(){}var G=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function K(e,t){return e+" failed: "+t+" argument "}function X(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(K(e,t)+"must be a valid function.")}function Q(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(K(e,t)+"must be a valid context object.")}var J=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,s(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},$=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Z(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function ee(e){return e&&e._delegate?e._delegate:e}}).call(this,n(52))},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function o(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function a(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function s(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}Object.create},function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Pe}));var r=n(55),i=n(1),o=n.n(i),a=n(81),s=n.n(a),u=n(82),l=n(83),c=n(71),f=n(58),h=n.n(f);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},v=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!Object(r.typeOf)(e)},y=Object.freeze([]),g=Object.freeze({});function m(e){return"function"==typeof e}function b(e){return e.displayName||e.name||"Component"}function _(e){return e&&"string"==typeof e.styledComponentId}var w="undefined"!=typeof e&&(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_ATTR||Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_ATTR)||"data-styled",x="undefined"!=typeof window&&"HTMLElement"in window,T=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY?"false"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&("false"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY)),k={};function O(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var S=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&O(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),A=new Map,E=new Map,M=1,C=function(e){if(A.has(e))return A.get(e);for(;E.has(M);)M++;var t=M++;return A.set(e,t),E.set(t,e),t},I=function(e){return E.get(e)},D=function(e,t){A.set(e,t),E.set(t,e)},P="style["+w+'][data-styled-version="5.3.0"]',N=new RegExp("^"+w+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),L=function(e,t,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&e.registerName(t,r)},j=function(e,t){for(var n=t.innerHTML.split("/*!sc*/\n"),r=[],i=0,o=n.length;i<o;i++){var a=n[i].trim();if(a){var s=a.match(N);if(s){var u=0|parseInt(s[1],10),l=s[2];0!==u&&(D(l,u),L(e,l,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(a)}}},R=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},F=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(w))return r}}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(w,"active"),r.setAttribute("data-styled-version","5.3.0");var a=R();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},z=function(){function e(e){var t=this.element=F(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}O(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),U=function(){function e(e){var t=this.element=F(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),q=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),V=x,B={isServer:!x,useCSSOMInjection:!T},H=function(){function e(e,t,n){void 0===e&&(e=g),void 0===t&&(t={}),this.options=d({},B,{},e),this.gs=t,this.names=new Map(n),!this.options.isServer&&x&&V&&(V=!1,function(e){for(var t=document.querySelectorAll(P),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(w)&&(j(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return C(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(d({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new q(i):r?new z(i):new U(i),new S(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(C(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(C(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(C(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var o=I(i);if(void 0!==o){var a=e.names.get(o),s=t.getGroup(i);if(void 0!==a&&0!==s.length){var u=w+".g"+i+'[id="'+o+'"]',l="";void 0!==a&&a.forEach((function(e){e.length>0&&(l+=e+",")})),r+=""+s+u+'{content:"'+l+'"}/*!sc*/\n'}}}return r}(this)},e}(),W=/(a)(d)/gi,Y=function(e){return String.fromCharCode(e+(e>25?39:97))};function G(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Y(t%52)+n;return(Y(t%52)+n).replace(W,"$1-$2")}var K=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},X=function(e){return K(5381,e)};function Q(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(m(n)&&!_(n))return!1}return!0}var J=X("5.3.0"),$=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Q(e),this.componentId=t,this.baseHash=K(J,t),this.baseStyle=n,H.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var o=ye(this.rules,e,t,n).join(""),a=G(K(this.baseHash,o.length)>>>0);if(!t.hasNameForId(r,a)){var s=n(o,"."+a,void 0,r);t.insertRules(r,a,s)}i.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,l=K(this.baseHash,n.hash),c="",f=0;f<u;f++){var h=this.rules[f];if("string"==typeof h)c+=h;else if(h){var d=ye(h,e,t,n),p=Array.isArray(d)?d.join(""):d;l=K(l,p+f),c+=p}}if(c){var v=G(l>>>0);if(!t.hasNameForId(r,v)){var y=n(c,"."+v,void 0,r);t.insertRules(r,v,y)}i.push(v)}}return i.join(" ")},e}(),Z=/^\s*\/\/.*$/gm,ee=[":","[",".","#"];function te(e){var t,n,r,i,o=void 0===e?g:e,a=o.options,s=void 0===a?g:a,l=o.plugins,c=void 0===l?y:l,f=new u.a(s),h=[],d=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,o,a,s,u,l,c,f){switch(n){case 1:if(0===c&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===l)return r+"/*|*/";break;case 3:switch(l){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){h.push(e)})),p=function(e,r,o){return 0===r&&-1!==ee.indexOf(o[n.length])||o.match(i)?e:"."+t};function v(e,o,a,s){void 0===s&&(s="&");var u=e.replace(Z,""),l=o&&a?a+" "+o+" { "+u+" }":u;return t=s,n=o,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),f(a||!o?"":o,l)}return f.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,p))},d,function(e){if(-2===e){var t=h;return h=[],t}}])),v.hash=c.length?c.reduce((function(e,t){return t.name||O(15),K(e,t.name)}),5381).toString():"",v}var ne=o.a.createContext(),re=(ne.Consumer,o.a.createContext()),ie=(re.Consumer,new H),oe=te();function ae(){return Object(i.useContext)(ne)||ie}function se(){return Object(i.useContext)(re)||oe}function ue(e){var t=Object(i.useState)(e.stylisPlugins),n=t[0],r=t[1],a=ae(),u=Object(i.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),l=Object(i.useMemo)((function(){return te({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return Object(i.useEffect)((function(){s()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),o.a.createElement(ne.Provider,{value:u},o.a.createElement(re.Provider,{value:l},e.children))}var le=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=oe);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return O(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=oe),this.name+e.hash},e}(),ce=/([A-Z])/,fe=/([A-Z])/g,he=/^ms-/,de=function(e){return"-"+e.toLowerCase()};function pe(e){return ce.test(e)?e.replace(fe,de).replace(he,"-ms-"):e}var ve=function(e){return null==e||!1===e||""===e};function ye(e,t,n,r){if(Array.isArray(e)){for(var i,o=[],a=0,s=e.length;a<s;a+=1)""!==(i=ye(e[a],t,n,r))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return ve(e)?"":_(e)?"."+e.styledComponentId:m(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:ye(e(t),t,n,r):e instanceof le?n?(e.inject(n,r),e.getName(r)):e:v(e)?function e(t,n){var r,i,o=[];for(var a in t)t.hasOwnProperty(a)&&!ve(t[a])&&(v(t[a])?o.push.apply(o,e(t[a],a)):m(t[a])?o.push(pe(a)+":",t[a],";"):o.push(pe(a)+": "+(r=a,(null==(i=t[a])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in l.a?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(o,["}"]):o}(e):e.toString();var u}function ge(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return m(e)||v(e)?ye(p(y,[e].concat(n))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:ye(p(e,n))}new Set;var me=function(e,t,n){return void 0===n&&(n=g),e.theme!==n.theme&&e.theme||t||n.theme},be=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,_e=/(^-|-$)/g;function we(e){return e.replace(be,"-").replace(_e,"")}var xe=function(e){return G(X(e)>>>0)};function Te(e){return"string"==typeof e&&!0}var ke=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Oe=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Se(e,t,n){var r=e[n];ke(t)&&ke(r)?Ae(r,t):e[n]=t}function Ae(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if(ke(a))for(var s in a)Oe(s)&&Se(e,a[s],s)}return e}var Ee=o.a.createContext();Ee.Consumer;var Me={};function Ce(e,t,n){var r=_(e),a=!Te(e),s=t.attrs,u=void 0===s?y:s,l=t.componentId,f=void 0===l?function(e,t){var n="string"!=typeof e?"sc":we(e);Me[n]=(Me[n]||0)+1;var r=n+"-"+xe("5.3.0"+n+Me[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):l,p=t.displayName,v=void 0===p?function(e){return Te(e)?"styled."+e:"Styled("+b(e)+")"}(e):p,w=t.displayName&&t.componentId?we(t.displayName)+"-"+t.componentId:t.componentId||f,x=r&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,T=t.shouldForwardProp;r&&e.shouldForwardProp&&(T=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var k,O=new $(n,w,r?e.componentStyle:void 0),S=O.isStatic&&0===u.length,A=function(e,t){return function(e,t,n,r){var o=e.attrs,a=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,l=e.shouldForwardProp,f=e.styledComponentId,h=e.target,p=function(e,t,n){void 0===e&&(e=g);var r=d({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,o,a=e;for(t in m(a)&&(a=a(r)),a)r[t]=i[t]="className"===t?(n=i[t],o=a[t],n&&o?n+" "+o:n||o):a[t]})),[r,i]}(me(t,Object(i.useContext)(Ee),s)||g,t,o),v=p[0],y=p[1],b=function(e,t,n,r){var i=ae(),o=se();return t?e.generateAndInjectStyles(g,i,o):e.generateAndInjectStyles(n,i,o)}(a,r,v),_=n,w=y.$as||t.$as||y.as||t.as||h,x=Te(w),T=y!==t?d({},t,{},y):t,k={};for(var O in T)"$"!==O[0]&&"as"!==O&&("forwardedAs"===O?k.as=T[O]:(l?l(O,c.a,w):!x||Object(c.a)(O))&&(k[O]=T[O]));return t.style&&y.style!==t.style&&(k.style=d({},t.style,{},y.style)),k.className=Array.prototype.concat(u,f,b!==f?b:null,t.className,y.className).filter(Boolean).join(" "),k.ref=_,Object(i.createElement)(w,k)}(k,e,t,S)};return A.displayName=v,(k=o.a.forwardRef(A)).attrs=x,k.componentStyle=O,k.displayName=v,k.shouldForwardProp=T,k.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):y,k.styledComponentId=w,k.target=r?e.target:e,k.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),o=r&&r+"-"+(Te(e)?e:we(b(e)));return Ce(e,d({},i,{attrs:x,componentId:o}),n)},Object.defineProperty(k,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Ae({},e.defaultProps,t):t}}),k.toString=function(){return"."+k.styledComponentId},a&&h()(k,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),k}var Ie=function(e){return function e(t,n,i){if(void 0===i&&(i=g),!Object(r.isValidElementType)(n))return O(1,String(n));var o=function(){return t(n,i,ge.apply(void 0,arguments))};return o.withConfig=function(r){return e(t,n,d({},i,{},r))},o.attrs=function(r){return e(t,n,d({},i,{attrs:Array.prototype.concat(i.attrs,r).filter(Boolean)}))},o}(Ce,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Ie[e]=Ie(e)}));var De=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Q(e),H.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(ye(this.rules,t,n,r).join(""),""),o=this.componentId+e;n.insertRules(o,o,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&H.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function Pe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=ge.apply(void 0,[e].concat(n)),s="sc-global-"+xe(JSON.stringify(a)),u=new De(a,s);function l(e){var t=ae(),n=se(),r=Object(i.useContext)(Ee),o=Object(i.useRef)(t.allocateGSInstance(s)).current;return Object(i.useLayoutEffect)((function(){return c(o,e,t,r,n),function(){return u.removeStyles(o,t)}}),[o,e,t,r,n]),null}function c(e,t,n,r,i){if(u.isStatic)u.renderStyles(e,k,n,i);else{var o=d({},t,{theme:me(t,r,l.defaultProps)});u.renderStyles(e,o,n,i)}}return o.a.memo(l)}!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),n=R();return"<style "+[n&&'nonce="'+n+'"',w+'="true"','data-styled-version="5.3.0"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?O(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return O(2);var n=((t={})[w]="",t["data-styled-version"]="5.3.0",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=R();return r&&(n.nonce=r),[o.a.createElement("style",d({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new H({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?O(2):o.a.createElement(ue,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return O(3)}}();t.b=Ie}).call(this,n(51))},function(e,t,n){e.exports=n(99)()},function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"c",(function(){return f}));var r=n(13),i=function(){},o=function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})},a={arr:Array.isArray,obj:function(e){return!!e&&"Object"===e.constructor.name},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},und:function(e){return void 0===e}};function s(e,t){if(a.arr(e)){if(!a.arr(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var u=function(e){return a.str(e)&&("#"==e[0]||/\d/.test(e)||!(!r.colorNames||!r.colorNames[e]))},l=function(e,t,n){a.fun(e.forEach)?e.forEach(t,n):Object.keys(e).forEach((function(r){return t.call(n,e[r],r)}))},c=function(e){return a.und(e)?[]:a.arr(e)?e:[e]};function f(e,t){if(e.size){var n=Array.from(e);e.clear(),l(n,t)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(49);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";function r(e,t,n){return function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,o=e(r)+i;return t(o)}}function i(e){return function(t){return new Date(e(t).getTime()-1)}}function o(e){return function(t){return e.map((function(e){return e(t)}))}}function a(e){if(e instanceof Date)return e.getFullYear();if("number"===typeof e)return e;var t=parseInt(e,10);if("string"===typeof e&&!isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(e,"."))}function s(e){if(e instanceof Date)return e.getMonth();throw new Error("Failed to get month from date: ".concat(e,"."))}function u(e){if(e instanceof Date)return e.getMonth()+1;throw new Error("Failed to get human-readable month from date: ".concat(e,"."))}function l(e){if(e instanceof Date)return e.getDate();throw new Error("Failed to get year from date: ".concat(e,"."))}function c(e){if(e instanceof Date)return e.getHours();if("string"===typeof e){var t=e.split(":");if(t.length>=2){var n=t[0],r=parseInt(n,10);if(!isNaN(r))return r}}throw new Error("Failed to get hours from date: ".concat(e,"."))}function f(e){if(e instanceof Date)return e.getMinutes();if("string"===typeof e){var t=e.split(":");if(t.length>=2){var n=t[1]||0,r=parseInt(n,10);if(!isNaN(r))return r}}throw new Error("Failed to get minutes from date: ".concat(e,"."))}function h(e){if(e instanceof Date)return e.getSeconds();if("string"===typeof e){var t=e.split(":");if(t.length>=2){var n=t[2]||0,r=parseInt(n,10);if(!isNaN(r))return r}}throw new Error("Failed to get seconds from date: ".concat(e,"."))}function d(e){var t=a(e),n=t+(1-t)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}n.r(t),n.d(t,"getYear",(function(){return a})),n.d(t,"getMonth",(function(){return s})),n.d(t,"getMonthHuman",(function(){return u})),n.d(t,"getDate",(function(){return l})),n.d(t,"getHours",(function(){return c})),n.d(t,"getMinutes",(function(){return f})),n.d(t,"getSeconds",(function(){return h})),n.d(t,"getCenturyStart",(function(){return d})),n.d(t,"getPreviousCenturyStart",(function(){return p})),n.d(t,"getNextCenturyStart",(function(){return v})),n.d(t,"getCenturyEnd",(function(){return y})),n.d(t,"getPreviousCenturyEnd",(function(){return g})),n.d(t,"getNextCenturyEnd",(function(){return m})),n.d(t,"getCenturyRange",(function(){return b})),n.d(t,"getDecadeStart",(function(){return _})),n.d(t,"getPreviousDecadeStart",(function(){return w})),n.d(t,"getNextDecadeStart",(function(){return x})),n.d(t,"getDecadeEnd",(function(){return T})),n.d(t,"getPreviousDecadeEnd",(function(){return k})),n.d(t,"getNextDecadeEnd",(function(){return O})),n.d(t,"getDecadeRange",(function(){return S})),n.d(t,"getYearStart",(function(){return A})),n.d(t,"getPreviousYearStart",(function(){return E})),n.d(t,"getNextYearStart",(function(){return M})),n.d(t,"getYearEnd",(function(){return C})),n.d(t,"getPreviousYearEnd",(function(){return I})),n.d(t,"getNextYearEnd",(function(){return D})),n.d(t,"getYearRange",(function(){return P})),n.d(t,"getMonthStart",(function(){return L})),n.d(t,"getPreviousMonthStart",(function(){return j})),n.d(t,"getNextMonthStart",(function(){return R})),n.d(t,"getMonthEnd",(function(){return F})),n.d(t,"getPreviousMonthEnd",(function(){return z})),n.d(t,"getNextMonthEnd",(function(){return U})),n.d(t,"getMonthRange",(function(){return q})),n.d(t,"getDayStart",(function(){return B})),n.d(t,"getPreviousDayStart",(function(){return H})),n.d(t,"getNextDayStart",(function(){return W})),n.d(t,"getDayEnd",(function(){return Y})),n.d(t,"getPreviousDayEnd",(function(){return G})),n.d(t,"getNextDayEnd",(function(){return K})),n.d(t,"getDayRange",(function(){return X})),n.d(t,"getDaysInMonth",(function(){return Q})),n.d(t,"getHoursMinutes",(function(){return $})),n.d(t,"getHoursMinutesSeconds",(function(){return Z})),n.d(t,"getISOLocalMonth",(function(){return ee})),n.d(t,"getISOLocalDate",(function(){return te})),n.d(t,"getISOLocalDateTime",(function(){return ne}));var p=r(a,d,-100),v=r(a,d,100),y=i(v),g=r(a,y,-100),m=r(a,y,100),b=o([d,y]);function _(e){var t=a(e),n=t+(1-t)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var w=r(a,_,-10),x=r(a,_,10),T=i(x),k=r(a,T,-10),O=r(a,T,10),S=o([_,T]);function A(e){var t=a(e),n=new Date;return n.setFullYear(t,0,1),n.setHours(0,0,0,0),n}var E=r(a,A,-1),M=r(a,A,1),C=i(M),I=r(a,C,-1),D=r(a,C,1),P=o([A,C]);function N(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=a(n),o=s(n)+r,u=new Date;return u.setFullYear(i,o,1),u.setHours(0,0,0,0),e(u)}}function L(e){var t=a(e),n=s(e),r=new Date;return r.setFullYear(t,n,1),r.setHours(0,0,0,0),r}var j=N(L,-1),R=N(L,1),F=i(R),z=N(F,-1),U=N(F,1),q=o([L,F]);function V(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=a(n),o=s(n),u=l(n)+r,c=new Date;return c.setFullYear(i,o,u),c.setHours(0,0,0,0),e(c)}}function B(e){var t=a(e),n=s(e),r=l(e),i=new Date;return i.setFullYear(t,n,r),i.setHours(0,0,0,0),i}var H=V(B,-1),W=V(B,1),Y=i(W),G=V(Y,-1),K=V(Y,1),X=o([B,Y]);function Q(e){return l(F(e))}function J(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n="".concat(e);return n.length>=t?e:"0000".concat(n).slice(-t)}function $(e){var t=J(c(e)),n=J(f(e));return"".concat(t,":").concat(n)}function Z(e){var t=J(c(e)),n=J(f(e)),r=J(h(e));return"".concat(t,":").concat(n,":").concat(r)}function ee(e){var t=J(a(e),4),n=J(u(e));return"".concat(t,"-").concat(n)}function te(e){var t=J(a(e),4),n=J(u(e)),r=J(l(e));return"".concat(t,"-").concat(n,"-").concat(r)}function ne(e){return"".concat(te(e),"T").concat(Z(e))}},function(e,t,n){"use strict";var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.create;Object.create;var i,o,a=n(2),s=n(17),u=n(16),l=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i),c=new a.b("app","Firebase",l),f="@firebase/app",h="[DEFAULT]",d=((o={})[f]="fire-core",o["@firebase/analytics"]="fire-analytics",o["@firebase/auth"]="fire-auth",o["@firebase/database"]="fire-rtdb",o["@firebase/functions"]="fire-fn",o["@firebase/installations"]="fire-iid",o["@firebase/messaging"]="fire-fcm",o["@firebase/performance"]="fire-perf",o["@firebase/remote-config"]="fire-rc",o["@firebase/storage"]="fire-gcs",o["@firebase/firestore"]="fire-fst",o["fire-js"]="fire-js",o["firebase-wrapper"]="fire-js-all",o),p=new u.b("@firebase/app"),v=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Object(a.m)(e),this.container=new s.b(t.name),this._addComponent(new s.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t=h),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=h),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){p.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},e}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var y=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"===typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=h);var s=o.name;if("string"!==typeof s||!s)throw c.create("bad-app-name",{appName:String(s)});if(Object(a.k)(t,s))throw c.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=d[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var l=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&l.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&l.push("and"),u&&l.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void p.warn(l.join(" "))}o(new s.a(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.c,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw c.create("invalid-log-argument");Object(u.d)(e,t)},apps:null,SDK_VERSION:"8.4.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||h,!Object(a.k)(t,e))throw c.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[s])throw c.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&Object(a.n)(u,o.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,o.multipleInstances?e:[])}}for(var l=0,f=Object.keys(t);l<f.length;l++){var h=f[l];t[h]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(v);return t.INTERNAL=r(r({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(a.n)(t,e)},createSubscribe:a.l,ErrorFactory:a.b,deepExtend:a.n}),t}(),g=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if(Object(a.s)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=y.initializeApp;y.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(a.z)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,e)};var _,w,x=y;(_=x).INTERNAL.registerComponent(new s.a("platform-logger",(function(e){return new g(e)}),"PRIVATE")),_.registerVersion(f,"0.6.20",w),_.registerVersion("fire-js","");t.a=x},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return u}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.create;function a(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function u(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}Object.create},function(e,t,n){"use strict";n.r(t),n.d(t,"createStringInterpolator",(function(){return r})),n.d(t,"frameLoop",(function(){return s})),n.d(t,"to",(function(){return i})),n.d(t,"now",(function(){return u})),n.d(t,"colorNames",(function(){return l})),n.d(t,"skipAnimation",(function(){return c})),n.d(t,"requestAnimationFrame",(function(){return f})),n.d(t,"batchedUpdates",(function(){return h})),n.d(t,"willAdvance",(function(){return d})),n.d(t,"assign",(function(){return p}));var r,i,o=n(54),a=n(7),s=new o.a,u=function(){return performance.now()},l=null,c=!1,f="undefined"!==typeof window?window.requestAnimationFrame:function(){return-1},h=function(e){return e()},d=a.g,p=function(e){var t;return t=Object.assign({to:i,now:u,frameLoop:s,colorNames:l,skipAnimation:c,createStringInterpolator:r,requestAnimationFrame:f,batchedUpdates:h,willAdvance:d},function(e){var t={};for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}(e)),i=t.to,u=t.now,s=t.frameLoop,l=t.colorNames,c=t.skipAnimation,r=t.createStringInterpolator,f=t.requestAnimationFrame,h=t.batchedUpdates,d=t.willAdvance,t}},function(e,t,n){e.exports=n(102)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return d}));var o,a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,l=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),c=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=l[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},f=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=c,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function h(e){a.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return h}));var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function o(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function a(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function u(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}Object.create;var l=n(2),c=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),f="[DEFAULT]",h=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e=f);var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new l.a;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=r({identifier:f,optional:!1},e),n=t.identifier,i=t.optional,o=this.normalizeInstanceIdentifier(n);if(!this.isInitialized(o)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:o})}catch(a){if(i)return null;throw a}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:f})}catch(d){}try{for(var r=a(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=s(i.value,2),u=o[0],l=o[1],c=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:c});l.resolve(h)}catch(d){}}}catch(p){t={error:p}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=f),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return i(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(u(u([],s(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),s(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=f),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.instanceIdentifier,i=void 0===r?f:r,o=e.options,u=void 0===o?{}:o,l=this.normalizeInstanceIdentifier(i);if(this.isInitialized(l))throw Error(this.name+"("+l+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:l,options:u});try{for(var h=a(this.instancesDeferred.entries()),d=h.next();!d.done;d=h.next()){var p=s(d.value,2),v=p[0],y=p[1];l===this.normalizeInstanceIdentifier(v)&&y.resolve(c)}}catch(g){t={error:g}}finally{try{d&&!d.done&&(n=h.return)&&n.call(h)}finally{if(t)throw t.error}}return c},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===f?void 0:t),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:f:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var d=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new h(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(48);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.a)(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(26),i=n(59);function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=n(39);function s(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?Object(a.a)(e):t}function u(e){var t=Object(i.a)();return function(){var n,i=Object(r.a)(e);if(t){var o=Object(r.a)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return s(this,n)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return _}));var r=n(25),i=n(32),o=n(1),a=n.n(o),s=n(34),u=(n(6),n(11)),l=n(28),c=n(31),f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(s.a)(t.props),t}return Object(i.a)(t,e),t.prototype.render=function(){return a.a.createElement(r.b,{history:this.history,children:this.props.children})},t}(a.a.Component);a.a.Component;var h=function(e,t){return"function"===typeof e?e(t):e},d=function(e,t){return"string"===typeof e?Object(s.c)(e,null,null,t):e},p=function(e){return e},v=a.a.forwardRef;"undefined"===typeof v&&(v=p);var y=v((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=Object(l.a)(e,["innerRef","navigate","onClick"]),s=o.target,c=Object(u.a)({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return c.ref=p!==v&&t||n,a.a.createElement("a",c)}));var g=v((function(e,t){var n=e.component,i=void 0===n?y:n,o=e.replace,s=e.to,f=e.innerRef,g=Object(l.a)(e,["component","replace","to","innerRef"]);return a.a.createElement(r.d.Consumer,null,(function(e){e||Object(c.a)(!1);var n=e.history,r=d(h(s,e.location),e.location),l=r?n.createHref(r):"",y=Object(u.a)({},g,{href:l,navigate:function(){var t=h(s,e.location);(o?n.replace:n.push)(t)}});return p!==v?y.ref=t||f:y.innerRef=f,a.a.createElement(i,y)}))})),m=function(e){return e},b=a.a.forwardRef;"undefined"===typeof b&&(b=m);var _=b((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,o=e.activeClassName,s=void 0===o?"active":o,f=e.activeStyle,p=e.className,v=e.exact,y=e.isActive,_=e.location,w=e.sensitive,x=e.strict,T=e.style,k=e.to,O=e.innerRef,S=Object(l.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.a.createElement(r.d.Consumer,null,(function(e){e||Object(c.a)(!1);var n=_||e.location,o=d(h(k,n),n),l=o.pathname,A=l&&l.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),E=A?Object(r.e)(n.pathname,{path:A,exact:v,sensitive:w,strict:x}):null,M=!!(y?y(E,n):E),C=M?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(p,s):p,I=M?Object(u.a)({},T,{},f):T,D=Object(u.a)({"aria-current":M&&i||null,className:C,style:I,to:o},S);return m!==b?D.ref=t||O:D.innerRef=O,a.a.createElement(g,D)}))}))},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=Symbol.for("FluidValue:config");function i(e){var t=o(e);return t?t.get():e}function o(e){if(e)return e[r]}var a=function(){var e,t;e=this,t=this,Object.defineProperty(e,r,{value:t,configurable:!0})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return A})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return T})),n.d(t,"e",(function(){return I})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return w})),n.d(t,"h",(function(){return _}));var r=n(39),i=n(33),o=n(26),a=n(19),s=n(20),u=n(15),l=n(18),c=n(7),f=n(40),h=n(22),d=n(42),p=n(11),v=n(13),y=n(1),g=n(38),m=Symbol.for("Animated:node"),b=function(e){return e&&e[m]},_=function(e,t){return Object(c.a)(e,m,t)},w=function(e){return e&&e[m]&&e[m].getPayload()},x=function(){function e(){Object(u.a)(this,e),this.payload=void 0,_(this,this)}return Object(l.a)(e,[{key:"getPayload",value:function(){return this.payload||[]}}]),e}(),T=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this))._value=e,r.done=!0,r.elapsedTime=void 0,r.lastPosition=void 0,r.lastVelocity=void 0,r.v0=void 0,c.d.num(r._value)&&(r.lastPosition=r._value),r}return Object(l.a)(n,[{key:"getPayload",value:function(){return[this]}},{key:"getValue",value:function(){return this._value}},{key:"setValue",value:function(e,t){return c.d.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}},{key:"reset",value:function(){var e=this.done;this.done=!1,c.d.num(this._value)&&(this.elapsedTime=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}],[{key:"create",value:function(e,t){return new n(e)}}]),n}(x),k=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(e,r){var i;return Object(u.a)(this,n),(i=t.call(this,0))._value=void 0,i._string=null,i._toString=void 0,i._toString=Object(f.a)({output:[e,r]}),i}return Object(l.a)(n,[{key:"getValue",value:function(){var e=this._string;return null==e?this._string=this._toString(this._value):e}},{key:"setValue",value:function(e){if(c.d.num(e)){if(!Object(i.a)(Object(o.a)(n.prototype),"setValue",this).call(this,e))return!1;this._string=null}else this._string=e,this._value=1;return!0}},{key:"reset",value:function(e){e&&(this._toString=Object(f.a)({output:[this.getValue(),e]})),this._value=0,Object(i.a)(Object(o.a)(n.prototype),"reset",this).call(this)}}],[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(c.d.str(e)&&c.d.str(t))return new n(e,t);throw TypeError('Expected "from" and "to" to be strings')}}]),n}(T),O={current:null},S=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(u.a)(this,n),(e=t.call(this)).source=void 0,e.setValue(r),e}return Object(l.a)(n,[{key:"getValue",value:function(e){if(!this.source)return null;var t={};return Object(c.b)(this.source,(function(n,r){if((o=n)&&o[m]===o)t[r]=n.getValue(e);else{var i=Object(h.b)(n);i?t[r]=i.get():e||(t[r]=n)}var o})),t}},{key:"setValue",value:function(e){this.source=e,this.payload=this._makePayload(e)}},{key:"reset",value:function(){this.payload&&Object(c.b)(this.payload,(function(e){return e.reset()}))}},{key:"_makePayload",value:function(e){if(e){var t=new Set;return Object(c.b)(e,this._addToPayload,t),Array.from(t)}}},{key:"_addToPayload",value:function(e){var t=this;Object(h.b)(e)&&O.current&&O.current.dependencies.add(e);var n=w(e);n&&Object(c.b)(n,(function(e){return t.add(e)}))}}]),n}(x),A=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(e,a){var s,l;return Object(u.a)(this,n),(l=t.call(this,null)).source=void 0,Object(i.a)((s=Object(r.a)(l),Object(o.a)(n.prototype)),"setValue",s).call(s,l._makeAnimated(e,a)),l}return Object(l.a)(n,[{key:"getValue",value:function(){return this.source.map((function(e){return e.getValue()}))}},{key:"setValue",value:function(e){var t=this.getPayload();e&&e.length==t.length?Object(c.b)(t,(function(t,n){return t.setValue(e[n])})):(this.source=this._makeAnimated(e),this.payload=this._makePayload(this.source))}},{key:"_makeAnimated",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return e?e.map((function(e,n){return(Object(c.e)(e)?k:T).create(e,t[n])})):[]}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(S),E=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,null)).update=e,r.dirty=!1,r}return Object(l.a)(n,[{key:"setValue",value:function(e,t){if(e){if(t&&(O.current=t,e.style)){var r=t.host.createAnimatedStyle;e=Object(p.a)(Object(p.a)({},e),{},{style:r(e.style)})}Object(i.a)(Object(o.a)(n.prototype),"setValue",this).call(this,e),O.current=null}}},{key:"onParentChange",value:function(e){var t=this,n=e.type;this.dirty||"change"!==n||(this.dirty=!0,v.frameLoop.onFrame((function(){t.dirty=!1,t.update()})))}}]),n}(S),M=function(e,t){return Object(y.forwardRef)((function(n,r){var i=Object(y.useRef)(null),o=!c.d.fun(e)||e.prototype&&e.prototype.isReactComponent,a=Object(d.a)(),s=new E((function(){var e=i.current;o&&!e||!1===(!!e&&t.applyAnimatedValues(e,s.getValue(!0)))&&a()})),u=new Set;return s.setValue(n,{dependencies:u,host:t}),Object(g.a)((function(){return Object(c.b)(u,(function(e){return e.addChild(s)})),function(){return Object(c.b)(u,(function(e){return e.removeChild(s)}))}})),Object(y.createElement)(e,Object(p.a)({},t.getComponentProps(s.getValue()),{ref:o&&function(e){i.current=function(e,t){e&&(c.d.fun(e)?e(t):e.current=t);return t}(r,e)}}))}))};var C=Symbol.for("AnimatedComponent"),I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.applyAnimatedValues,r=void 0===n?function(){return!1}:n,i=t.createAnimatedStyle,o=void 0===i?function(e){return new S(e)}:i,a=t.getComponentProps,s=void 0===a?function(e){return e}:a,u={applyAnimatedValues:r,createAnimatedStyle:o,getComponentProps:s},l=function(e){var t=D(e)||"Anonymous";return(e=c.d.str(e)?M(e,u):e[C]||(e[C]=M(e,u))).displayName="Animated("+t+")",e};return Object(c.b)(e,(function(e,t){c.d.str(t)||(t=D(e)),l[t]=l(e)})),{animated:l}},D=function(e){return c.d.str(e)?e:e&&c.d.str(e.displayName)?e.displayName:c.d.fun(e)&&e.name||null}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return il})),n.d(t,"b",(function(){return sl})),n.d(t,"c",(function(){return pl})),n.d(t,"d",(function(){return yl})),n.d(t,"e",(function(){return al})),n.d(t,"f",(function(){return rl})),n.d(t,"g",(function(){return cl})),n.d(t,"h",(function(){return bl})),n.d(t,"i",(function(){return ml})),n.d(t,"j",(function(){return Us})),n.d(t,"k",(function(){return xl})),n.d(t,"l",(function(){return k})),n.d(t,"m",(function(){return qs})),n.d(t,"n",(function(){return Tl})),n.d(t,"o",(function(){return ul})),n.d(t,"p",(function(){return kl})),n.d(t,"q",(function(){return wl})),n.d(t,"r",(function(){return Xs})),n.d(t,"s",(function(){return nl})),n.d(t,"t",(function(){return vl}));var r=n(2),i=n(16),o=n(27),a=n(3),s=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();s.o=-1;var u={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},l=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(a.b)(t,e),t}(Error),c=new i.b("@firebase/firestore");function f(){return c.logLevel}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(c.logLevel<=i.a.DEBUG){var r=t.map(v);c.debug.apply(c,Object(a.d)(["Firestore (8.4.0): "+e],r))}}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(c.logLevel<=i.a.ERROR){var r=t.map(v);c.error.apply(c,Object(a.d)(["Firestore (8.4.0): "+e],r))}}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(c.logLevel<=i.a.WARN){var r=t.map(v);c.warn.apply(c,Object(a.d)(["Firestore (8.4.0): "+e],r))}}function v(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function y(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.4.0) INTERNAL ASSERTION FAILED: "+e;throw d(t),new Error(t)}function g(e,t){e||y()}function m(e,t){return e}function b(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var _=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=b(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function w(e,t){return e<t?-1:e>t?1:0}function x(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function T(e){return e+"\0"}var k=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new l(u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new l(u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new l(u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new l(u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?w(this.nanoseconds,e.nanoseconds):w(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),O=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new k(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function S(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function A(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function E(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var M=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&y(),void 0===n?n=e.length-t:n>e.length-t&&y(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.b)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new l(u.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(M),I=/^[_a-zA-Z][_a-zA-Z0-9]*$/,D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.b)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return I.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new l(u.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new l(u.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new l(u.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new l(u.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(M),P=function(){function e(e){this.fields=e,e.sort(D.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return x(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),N=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return w(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();N.EMPTY_BYTE_STRING=new N("");var L=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function j(e){if(g(!!e),"string"==typeof e){var t=0,n=L.exec(e);if(g(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:R(e.seconds),nanos:R(e.nanos)}}function R(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function F(e){return"string"==typeof e?N.fromBase64String(e):N.fromUint8Array(e)}function z(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function U(e){var t=e.mapValue.fields.__previous_value__;return z(t)?U(t):t}function q(e){var t=j(e.mapValue.fields.__local_write_time__.timestampValue);return new k(t.seconds,t.nanos)}function V(e){return null==e}function B(e){return 0===e&&1/e==-1/0}function H(e){return"number"==typeof e&&Number.isInteger(e)&&!B(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var W=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(C.fromString(t))},e.fromName=function(t){return new e(C.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===C.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return C.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new C(t.slice()))},e}();function Y(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?z(e)?4:10:y()}function G(e,t){var n=Y(e);if(n!==Y(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return q(e).isEqual(q(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=j(e.timestampValue),r=j(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return F(e.bytesValue).isEqual(F(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return R(e.geoPointValue.latitude)===R(t.geoPointValue.latitude)&&R(e.geoPointValue.longitude)===R(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return R(e.integerValue)===R(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=R(e.doubleValue),r=R(t.doubleValue);return n===r?B(n)===B(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return x(e.arrayValue.values||[],t.arrayValue.values||[],G);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(S(n)!==S(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!G(n[i],r[i])))return!1;return!0}(e,t);default:return y()}}function K(e,t){return void 0!==(e.values||[]).find((function(e){return G(e,t)}))}function X(e,t){var n=Y(e),r=Y(t);if(n!==r)return w(n,r);switch(n){case 0:return 0;case 1:return w(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=R(e.integerValue||e.doubleValue),r=R(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Q(e.timestampValue,t.timestampValue);case 4:return Q(q(e),q(t));case 5:return w(e.stringValue,t.stringValue);case 6:return function(e,t){var n=F(e),r=F(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=w(n[i],r[i]);if(0!==o)return o}return w(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=w(R(e.latitude),R(t.latitude));return 0!==n?n:w(R(e.longitude),R(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=X(n[i],r[i]);if(o)return o}return w(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=w(r[a],o[a]);if(0!==s)return s;var u=X(n[r[a]],i[o[a]]);if(0!==u)return u}return w(r.length,o.length)}(e.mapValue,t.mapValue);default:throw y()}}function Q(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return w(e,t);var n=j(e),r=j(t),i=w(n.seconds,r.seconds);return 0!==i?i:w(n.nanos,r.nanos)}function J(e){return $(e)}function $(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=j(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?F(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,W.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=$(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+$(e.fields[o])}return t+"}"}(e.mapValue):y();var t,n}function Z(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function ee(e){return!!e&&"integerValue"in e}function te(e){return!!e&&"arrayValue"in e}function ne(e){return!!e&&"nullValue"in e}function re(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ie(e){return!!e&&"mapValue"in e}var oe=function(){function e(e){this.overlayMap=new Map,this.partialValue=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){return e.extractNestedValue(this.buildProto(),t)},e.prototype.toProto=function(){return this.field(D.emptyPath())},e.prototype.set=function(e,t){this.setOverlay(e,t)},e.prototype.setAll=function(e){var t=this;e.forEach((function(e,n){e?t.set(n,e):t.delete(n)}))},e.prototype.delete=function(e){this.setOverlay(e,null)},e.prototype.isEqual=function(e){return G(this.buildProto(),e.buildProto())},e.prototype.setOverlay=function(e,t){for(var n=this.overlayMap,r=0;r<e.length-1;++r){var i=e.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Y(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(e.lastSegment(),t)},e.prototype.applyOverlay=function(t,n){var r=this,i=!1,o=e.extractNestedValue(this.partialValue,t),a=ie(o)?Object.assign({},o.mapValue.fields):{};return n.forEach((function(e,n){if(e instanceof Map){var o=r.applyOverlay(t.child(n),e);null!=o&&(a[n]=o,i=!0)}else null!==e?(a[n]=e,i=!0):a.hasOwnProperty(n)&&(delete a[n],i=!0)})),i?{mapValue:{fields:a}}:null},e.prototype.buildProto=function(){var e=this.applyOverlay(D.emptyPath(),this.overlayMap);return null!=e&&(this.partialValue=e,this.overlayMap.clear()),this.partialValue},e.extractNestedValue=function(e,t){if(t.isEmpty())return e;for(var n=e,r=0;r<t.length-1;++r){if(!n.mapValue.fields)return null;if(!ie(n=n.mapValue.fields[t.get(r)]))return null}return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.clone=function(){return new e(this.buildProto())},e}();function ae(e){var t=[];return A(e.fields||{},(function(e,n){var r=new D([e]);if(ie(n)){var i=ae(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new P(t)}var se=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,O.min(),oe.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,oe.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,oe.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=oe.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=oe.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),ue=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function le(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new ue(e,t,n,r,i,o,a)}function ce(e){var t=m(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+J(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),V(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Te(t.startAt)),t.endAt&&(n+="|ub:",n+=Te(t.endAt)),t.h=n}return t.h}function fe(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Oe(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!G(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ae(e.startAt,t.startAt)&&Ae(e.endAt,t.endAt)}function he(e){return W.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var de=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return Object(a.b)(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new pe(e,n,r):"array-contains"===n?new me(e,r):"in"===n?new be(e,r):"not-in"===n?new _e(e,r):"array-contains-any"===n?new we(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new ve(e,n):new ye(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(X(t,this.value)):null!==t&&Y(this.value)===Y(t)&&this.m(X(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return y()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),pe=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=W.fromName(r.referenceValue),i}return Object(a.b)(t,e),t.prototype.matches=function(e){var t=W.comparator(e.key,this.key);return this.m(t)},t}(de),ve=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=ge("in",n),r}return Object(a.b)(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(de),ye=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=ge("not-in",n),r}return Object(a.b)(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(de);function ge(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return W.fromName(e.referenceValue)}))}var me=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return Object(a.b)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return te(t)&&K(t.arrayValue,this.value)},t}(de),be=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return Object(a.b)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&K(this.value.arrayValue,t)},t}(de),_e=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return Object(a.b)(t,e),t.prototype.matches=function(e){if(K(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!K(this.value.arrayValue,t)},t}(de),we=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return Object(a.b)(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!te(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return K(t.value.arrayValue,e)}))},t}(de),xe=function(e,t){this.position=e,this.before=t};function Te(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return J(e)})).join(",")}var ke=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Oe(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Se(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?W.comparator(W.fromName(a.referenceValue),n.key):X(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Ae(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!G(e.position[n],t.position[n]))return!1;return!0}var Ee=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Me(e,t,n,r,i,o,a,s){return new Ee(e,t,n,r,i,o,a,s)}function Ce(e){return new Ee(e)}function Ie(e){return!V(e.limit)&&"F"===e.limitType}function De(e){return!V(e.limit)&&"L"===e.limitType}function Pe(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ne(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Le(e){return null!==e.collectionGroup}function je(e){var t=m(e);if(null===t.p){t.p=[];var n=Ne(t),r=Pe(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new ke(n)),t.p.push(new ke(D.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new ke(D.keyField(),u))}}}return t.p}function Re(e){var t=m(e);if(!t.T)if("F"===t.limitType)t.T=le(t.path,t.collectionGroup,je(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=je(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new ke(o.field,a))}var s=t.endAt?new xe(t.endAt.position,!t.endAt.before):null,u=t.startAt?new xe(t.startAt.position,!t.startAt.before):null;t.T=le(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function Fe(e,t,n){return new Ee(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ze(e,t){return fe(Re(e),Re(t))&&e.limitType===t.limitType}function Ue(e){return ce(Re(e))+"|lt:"+e.limitType}function qe(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+J(t.value);var t})).join(", ")+"]"),V(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+Te(e.startAt)),e.endAt&&(t+=", endAt: "+Te(e.endAt)),"Target("+t+")"}(Re(e))+"; limitType="+e.limitType+")"}function Ve(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):W.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Se(e.startAt,je(e),t))&&(!e.endAt||!Se(e.endAt,je(e),t))}(e,t)}function Be(e){return function(t,n){for(var r=!1,i=0,o=je(e);i<o.length;i++){var a=o[i],s=He(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function He(e,t,n){var r=e.field.isKeyField()?W.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?X(r,i):y()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return y()}}function We(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:B(t)?"-0":t}}function Ye(e){return{integerValue:""+e}}function Ge(e,t){return H(t)?Ye(t):We(e,t)}var Ke=function(){this._=void 0};function Xe(e,t,n){return e instanceof $e?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ze?et(e,t):e instanceof tt?nt(e,t):function(e,t){var n=Je(e,t),r=it(n)+it(e.A);return ee(n)&&ee(e.A)?Ye(r):We(e.R,r)}(e,t)}function Qe(e,t,n){return e instanceof Ze?et(e,t):e instanceof tt?nt(e,t):n}function Je(e,t){return e instanceof rt?ee(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var $e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.b)(t,e),t}(Ke),Ze=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Object(a.b)(t,e),t}(Ke);function et(e,t){for(var n=ot(t),r=function(e){n.some((function(t){return G(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var tt=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Object(a.b)(t,e),t}(Ke);function nt(e,t){for(var n=ot(t),r=function(e){n=n.filter((function(t){return!G(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var rt=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return Object(a.b)(t,e),t}(Ke);function it(e){return R(e.integerValue||e.doubleValue)}function ot(e){return te(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var at=function(e,t){this.field=e,this.transform=t},st=function(e,t){this.version=e,this.transformResults=t},ut=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function lt(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ct=function(){};function ft(e,t,n){e instanceof yt?function(e,t,n){var r=e.value.clone(),i=bt(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof gt?function(e,t,n){if(lt(e.precondition,t)){var r=bt(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(mt(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ht(e,t,n){e instanceof yt?function(e,t,n){if(lt(e.precondition,t)){var r=e.value.clone(),i=_t(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(vt(t),r).setHasLocalMutations()}}(e,t,n):e instanceof gt?function(e,t,n){if(lt(e.precondition,t)){var r=_t(e.fieldTransforms,n,t),i=t.data;i.setAll(mt(e)),i.setAll(r),t.convertToFoundDocument(vt(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){lt(e.precondition,t)&&t.convertToNoDocument(O.min())}(e,t)}function dt(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=Je(o.transform,a||null);null!=s&&(null==n&&(n=oe.empty()),n.set(o.field,s))}return n||null}function pt(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&x(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ze&&t instanceof Ze||e instanceof tt&&t instanceof tt?x(e.elements,t.elements,G):e instanceof rt&&t instanceof rt?G(e.A,t.A):e instanceof $e&&t instanceof $e}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function vt(e){return e.isFoundDocument()?e.version:O.min()}var yt=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(a.b)(t,e),t}(ct),gt=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Object(a.b)(t,e),t}(ct);function mt(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function bt(e,t,n){var r=new Map;g(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,Qe(a,s,n[i]))}return r}function _t(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,Xe(s,u,t))}return r}var wt,xt,Tt=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(a.b)(t,e),t}(ct),kt=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(a.b)(t,e),t}(ct),Ot=function(e){this.count=e};function St(e){switch(e){case u.OK:return y();case u.CANCELLED:case u.UNKNOWN:case u.DEADLINE_EXCEEDED:case u.RESOURCE_EXHAUSTED:case u.INTERNAL:case u.UNAVAILABLE:case u.UNAUTHENTICATED:return!1;case u.INVALID_ARGUMENT:case u.NOT_FOUND:case u.ALREADY_EXISTS:case u.PERMISSION_DENIED:case u.FAILED_PRECONDITION:case u.ABORTED:case u.OUT_OF_RANGE:case u.UNIMPLEMENTED:case u.DATA_LOSS:return!0;default:return y()}}function At(e){if(void 0===e)return d("GRPC error has no .code"),u.UNKNOWN;switch(e){case wt.OK:return u.OK;case wt.CANCELLED:return u.CANCELLED;case wt.UNKNOWN:return u.UNKNOWN;case wt.DEADLINE_EXCEEDED:return u.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return u.RESOURCE_EXHAUSTED;case wt.INTERNAL:return u.INTERNAL;case wt.UNAVAILABLE:return u.UNAVAILABLE;case wt.UNAUTHENTICATED:return u.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return u.INVALID_ARGUMENT;case wt.NOT_FOUND:return u.NOT_FOUND;case wt.ALREADY_EXISTS:return u.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return u.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return u.FAILED_PRECONDITION;case wt.ABORTED:return u.ABORTED;case wt.OUT_OF_RANGE:return u.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return u.UNIMPLEMENTED;case wt.DATA_LOSS:return u.DATA_LOSS;default:return y()}}(xt=wt||(wt={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";var Et=function(){function e(e,t){this.comparator=e,this.root=t||Ct.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ct.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ct.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Mt(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Mt(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Mt(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Mt(this.root,e,this.comparator,!0)},e}(),Mt=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Ct=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw y();if(this.right.isRed())throw y();var e=this.left.check();if(e!==this.right.check())throw y();return e+(this.isRed()?0:1)},e}();Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1,Ct.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw y()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Ct(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var It=function(){function e(e){this.comparator=e,this.data=new Et(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Dt(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Dt(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Dt=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Pt=new Et(W.comparator);function Nt(){return Pt}var Lt=new Et(W.comparator);function jt(){return Lt}var Rt=new Et(W.comparator);function Ft(){return Rt}var zt=new It(W.comparator);function Ut(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=zt,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var qt=new It(w);function Vt(){return qt}var Bt=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Ht.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(O.min(),r,Vt(),Nt(),Ut())},e}(),Ht=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(N.EMPTY_BYTE_STRING,n,Ut(),Ut(),Ut())},e}(),Wt=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},Yt=function(e,t){this.targetId=e,this.V=t},Gt=function(e,t,n,r){void 0===n&&(n=N.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Kt=function(){function e(){this.S=0,this.D=Jt(),this.C=N.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.$=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},e.prototype.M=function(){var e=Ut(),t=Ut(),n=Ut();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:y()}})),new Ht(this.C,this.N,e,t,n)},e.prototype.L=function(){this.F=!1,this.D=Jt()},e.prototype.B=function(e,t){this.F=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),Xt=function(){function e(e){this.W=e,this.G=new Map,this.H=Nt(),this.J=Qt(),this.Y=new It(w)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.$(e.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(e.resumeToken);break;case 2:r.K(),r.k||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.$(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.$(e.resumeToken));break;default:y()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(he(i))if(0===n){var o=new W(i.path);this.tt(t,o,se.newNoDocument(o,O.min()))}else g(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&he(o.target)){var a=new W(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,se.newNoDocument(a,e))}r.O&&(n.set(i,r.M()),r.L())}}));var r=Ut();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Bt(e,n,this.Y,this.H,r);return this.H=Nt(),this.J=Qt(),this.Y=new It(w),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new Kt,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new It(w),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||h("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.k?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new Kt),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function Qt(){return new Et(W.comparator)}function Jt(){return new Et(W.comparator)}var $t={asc:"ASCENDING",desc:"DESCENDING"},Zt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},en=function(e,t){this.databaseId=e,this.I=t};function tn(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function nn(e,t){return e.I?t.toBase64():t.toUint8Array()}function rn(e,t){return tn(e,t.toTimestamp())}function on(e){return g(!!e),O.fromTimestamp(function(e){var t=j(e);return new k(t.seconds,t.nanos)}(e))}function an(e,t){return function(e){return new C(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function sn(e){var t=C.fromString(e);return g(In(t)),t}function un(e,t){return an(e.databaseId,t.path)}function ln(e,t){var n=sn(t);if(n.get(1)!==e.databaseId.projectId)throw new l(u.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new l(u.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new W(dn(n))}function cn(e,t){return an(e.databaseId,t)}function fn(e){var t=sn(e);return 4===t.length?C.emptyPath():dn(t)}function hn(e){return new C(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function dn(e){return g(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function pn(e,t,n){return{name:un(e,t),fields:n.toProto().mapValue.fields}}function vn(e,t,n){var r=ln(e,t.name),i=on(t.updateTime),o=new oe({mapValue:{fields:t.fields}}),a=se.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function yn(e,t){var n;if(t instanceof yt)n={update:pn(e,t.key,t.value)};else if(t instanceof Tt)n={delete:un(e,t.key)};else if(t instanceof gt)n={update:pn(e,t.key,t.data),updateMask:Cn(t.fieldMask)};else{if(!(t instanceof kt))return y();n={verify:un(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof $e)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ze)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof tt)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof rt)return{fieldPath:t.field.canonicalString(),increment:n.A};throw y()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:rn(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:y()}(e,t.precondition)),n}function gn(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?ut.updateTime(on(e.updateTime)):void 0!==e.exists?ut.exists(e.exists):ut.none()}(t.currentDocument):ut.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)g("REQUEST_TIME"===t.setToServerValue),n=new $e;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Ze(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new tt(i)}else"increment"in t?n=new rt(e,t.increment):y();var o=D.fromServerFormat(t.fieldPath);return new at(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=ln(e,t.update.name),o=new oe({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new P(t.map((function(e){return D.fromServerFormat(e)})))}(t.updateMask);return new gt(i,o,a,n,r)}return new yt(i,o,n,r)}if(t.delete){var s=ln(e,t.delete);return new Tt(s,n)}if(t.verify){var u=ln(e,t.verify);return new kt(u,n)}return y()}function mn(e,t){return{documents:[cn(e,t.path)]}}function bn(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=cn(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=cn(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(re(e.value))return{unaryFilter:{field:Sn(e.field),op:"IS_NAN"}};if(ne(e.value))return{unaryFilter:{field:Sn(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(re(e.value))return{unaryFilter:{field:Sn(e.field),op:"IS_NOT_NAN"}};if(ne(e.value))return{unaryFilter:{field:Sn(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sn(e.field),op:On(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Sn(e.field),direction:kn(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||V(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=xn(t.startAt)),t.endAt&&(n.structuredQuery.endAt=xn(t.endAt)),n}function _n(e){var t=fn(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){g(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=wn(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new ke(An(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return V(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=Tn(n.startAt));var c=null;return n.endAt&&(c=Tn(n.endAt)),Me(t,i,s,a,u,"F",l,c)}function wn(e){return e?void 0!==e.unaryFilter?[Mn(e)]:void 0!==e.fieldFilter?[En(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return wn(e)})).reduce((function(e,t){return e.concat(t)})):y():[]}function xn(e){return{before:e.before,values:e.position}}function Tn(e){var t=!!e.before,n=e.values||[];return new xe(n,t)}function kn(e){return $t[e]}function On(e){return Zt[e]}function Sn(e){return{fieldPath:e.canonicalString()}}function An(e){return D.fromServerFormat(e.fieldPath)}function En(e){return de.create(An(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return y()}}(e.fieldFilter.op),e.fieldFilter.value)}function Mn(e){switch(e.unaryFilter.op){case"IS_NAN":var t=An(e.unaryFilter.field);return de.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=An(e.unaryFilter.field);return de.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=An(e.unaryFilter.field);return de.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=An(e.unaryFilter.field);return de.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return y()}}function Cn(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function In(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Dn(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Nn(t)),t=Pn(e.get(n),t);return Nn(t)}function Pn(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Nn(e){return e+"\x01\x01"}function Ln(e){var t=e.length;if(g(t>=2),2===t)return g("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),C.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&y(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:y()}o=a+2}return new C(r)}var jn=function(e,t){this.seconds=e,this.nanoseconds=t},Rn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Rn.store="owner",Rn.key="owner";var Fn=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Fn.store="mutationQueues",Fn.keyPath="userId";var zn=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};zn.store="mutations",zn.keyPath="batchId",zn.userMutationsIndex="userMutationsIndex",zn.userMutationsKeyPath=["userId","batchId"];var Un=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Dn(t)]},e.key=function(e,t,n){return[e,Dn(t),n]},e}();Un.store="documentMutations",Un.PLACEHOLDER=new Un;var qn=function(e,t){this.path=e,this.readTime=t},Vn=function(e,t){this.path=e,this.version=t},Bn=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Bn.store="remoteDocuments",Bn.readTimeIndex="readTimeIndex",Bn.readTimeIndexPath="readTime",Bn.collectionReadTimeIndex="collectionReadTimeIndex",Bn.collectionReadTimeIndexPath=["parentPath","readTime"];var Hn=function(e){this.byteSize=e};Hn.store="remoteDocumentGlobal",Hn.key="remoteDocumentGlobalKey";var Wn=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Wn.store="targets",Wn.keyPath="targetId",Wn.queryTargetsIndexName="queryTargetsIndex",Wn.queryTargetsKeyPath=["canonicalId","targetId"];var Yn=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Yn.store="targetDocuments",Yn.keyPath=["targetId","path"],Yn.documentTargetsIndex="documentTargetsIndex",Yn.documentTargetsKeyPath=["path","targetId"];var Gn=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Gn.key="targetGlobalKey",Gn.store="targetGlobal";var Kn=function(e,t){this.collectionId=e,this.parent=t};Kn.store="collectionParents",Kn.keyPath=["collectionId","parent"];var Xn=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Xn.store="clientMetadata",Xn.keyPath="clientId";var Qn=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Qn.store="bundles",Qn.keyPath="bundleId";var Jn=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Jn.store="namedQueries",Jn.keyPath="name";var $n=Object(a.d)(Object(a.d)([],Object(a.d)(Object(a.d)([],Object(a.d)(Object(a.d)([],Object(a.d)(Object(a.d)([],[Fn.store,zn.store,Un.store,Bn.store,Wn.store,Rn.store,Gn.store,Yn.store]),[Xn.store])),[Hn.store])),[Kn.store])),[Qn.store,Jn.store]),Zn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",er=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),tr=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},nr=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),rr=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new tr,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new ar(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=fr(t.target.error);n.ft.reject(new ar(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ar(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(h("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new ur(t)},e}(),ir=function(){function t(e,n,i){this.name=e,this.version=n,this.wt=i,12.2===t._t(Object(r.q)())&&d("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return h("SimpleDb","Removing database:",e),lr(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(r.q)(),n=t._t(e),i=0<n&&n<10,o=t.Et(e),a=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)},t.gt=function(){var t;return"undefined"!=typeof e&&"YES"===(null===(t=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}))||void 0===t?void 0:t.Tt)},t.It=function(e,t){return e.store(t)},t._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(e){return Object(a.a)(this,void 0,void 0,(function(){var t,n=this;return Object(a.c)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(h("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new ar(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new l(u.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new ar(e,n))},i.onupgradeneeded=function(e){h("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){h("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},t.prototype.runTransaction=function(e,t,n,r){return Object(a.a)(this,void 0,void 0,(function(){var i,o,s,u,l;return Object(a.c)(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,s=function(){var t,s,l,c,f;return Object(a.c)(this,(function(a){switch(a.label){case 0:++o,a.label=1;case 1:return a.trys.push([1,4,,5]),[4,u.At(e)];case 2:return u.db=a.sent(),t=rr.open(u.db,e,i?"readonly":"readwrite",n),s=r(t).catch((function(e){return t.abort(e),nr.reject(e)})).toPromise(),l={},s.catch((function(){})),[4,t.dt];case 3:return[2,(l.value=(a.sent(),s),l)];case 4:return c=a.sent(),f="FirebaseError"!==c.name&&o<3,h("SimpleDb","Transaction failed with error:",c.message,"Retrying:",f),u.close(),f?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},u=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(l=c.sent()))return[2,l.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),or=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return lr(this.Pt.delete())},e}(),ar=function(e){function t(t,n){var r=this;return(r=e.call(this,u.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(a.b)(t,e),t}(l);function sr(e){return"IndexedDbTransactionError"===e.name}var ur=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(h("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(h("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),lr(n)},e.prototype.add=function(e){return h("SimpleDb","ADD",this.store.name,e,e),lr(this.store.add(e))},e.prototype.get=function(e){var t=this;return lr(this.store.get(e)).next((function(n){return void 0===n&&(n=null),h("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return h("SimpleDb","DELETE",this.store.name,e),lr(this.store.delete(e))},e.prototype.count=function(){return h("SimpleDb","COUNT",this.store.name),lr(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Ft=function(e,t){h("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.Ot=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.$t=function(e){var t=this.cursor({});return new nr((function(n,r){t.onerror=function(e){var t=fr(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new nr((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new or(i),a=t(i.primaryKey,i.value,o);if(a instanceof nr){var s=a.catch((function(e){return o.done(),nr.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return nr.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function lr(e){return new nr((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=fr(e.target.error);n(t)}}))}var cr=!1;function fr(e){var t=ir._t(Object(r.q)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var i=new l("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return cr||(cr=!0,setTimeout((function(){throw i}),0)),i}}return e}var hr=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return Object(a.b)(t,e),t}(er);function dr(e,t){var n=m(e);return ir.It(n.Mt,t)}var pr=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&ft(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&ht(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&ht(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(O.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ut())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&x(this.mutations,e.mutations,(function(e,t){return pt(e,t)}))&&x(this.baseMutations,e.baseMutations,(function(e,t){return pt(e,t)}))},e}(),vr=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){g(t.mutations.length===r.length);for(var i=Ft(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),yr=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=O.min()),void 0===o&&(o=O.min()),void 0===a&&(a=N.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),gr=function(e){this.Lt=e};function mr(e,t){if(t.document)return vn(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=W.fromSegments(t.noDocument.path),r=Tr(t.noDocument.readTime),i=se.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=W.fromSegments(t.unknownDocument.path);return r=Tr(t.unknownDocument.version),se.newUnknownDocument(o,r)}return y()}function br(e,t,n){var r=_r(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:un(e,t.key),fields:t.data.toProto().mapValue.fields,updateTime:tn(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Bn(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=xr(t.version);return a=t.hasCommittedMutations,new Bn(null,new qn(s,u),null,a,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),c=xr(t.version);return new Bn(new Vn(l,c),null,null,!0,r,i)}return y()}function _r(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function wr(e){var t=new k(e[0],e[1]);return O.fromTimestamp(t)}function xr(e){var t=e.toTimestamp();return new jn(t.seconds,t.nanoseconds)}function Tr(e){var t=new k(e.seconds,e.nanoseconds);return O.fromTimestamp(t)}function kr(e,t){for(var n=(t.baseMutations||[]).map((function(t){return gn(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return gn(e.Lt,t)})),s=k.fromMillis(t.localWriteTimeMs);return new pr(t.batchId,s,n,a)}function Or(e){var t,n,r=Tr(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Tr(e.lastLimboFreeSnapshotVersion):O.min();return void 0!==e.query.documents?(g(1===(n=e.query).documents.length),t=Re(Ce(fn(n.documents[0])))):t=function(e){return Re(_n(e))}(e.query),new yr(t,e.targetId,0,e.lastListenSequenceNumber,r,i,N.fromBase64String(e.resumeToken))}function Sr(e,t){var n,r=xr(t.snapshotVersion),i=xr(t.lastLimboFreeSnapshotVersion);n=he(t.target)?mn(e.Lt,t.target):bn(e.Lt,t.target);var o=t.resumeToken.toBase64();return new Wn(t.targetId,ce(t.target),r,o,t.sequenceNumber,i,n)}function Ar(e){var t=_n({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Fe(t,t.limit,"L"):t}var Er=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return Mr(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Tr(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return Mr(e).put({bundleId:(n=t).id,createTime:xr(on(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Cr(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Ar(t.bundledQuery),readTime:Tr(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return Cr(e).put(function(e){return{name:e.name,readTime:xr(on(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function Mr(e){return dr(e,Qn.store)}function Cr(e){return dr(e,Jn.store)}var Ir=function(){function e(){this.Bt=new Dr}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),nr.resolve()},e.prototype.getCollectionParents=function(e,t){return nr.resolve(this.Bt.getEntries(t))},e}(),Dr=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new It(C.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new It(C.comparator)).toArray()},e}(),Pr=function(){function e(){this.qt=new Dr}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:Dn(i)};return Nr(e).put(o)}return nr.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[T(t),""],!1,!0);return Nr(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Ln(o.parent))}return n}))},e}();function Nr(e){return dr(e,Kn.store)}var Lr={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jr=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function Rr(e,t,n){var r=e.store(zn.store),i=e.store(Un.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.Ot({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){g(1===s)})));for(var l=[],c=0,f=n.mutations;c<f.length;c++){var h=f[c],d=Un.key(t,h.key.path,n.batchId);o.push(i.delete(d)),l.push(h.key)}return nr.waitFor(o).next((function(){return l}))}function Fr(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw y();t=e.noDocument}return JSON.stringify(t).length}jr.DEFAULT_COLLECTION_PERCENTILE=10,jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jr.DEFAULT=new jr(41943040,jr.DEFAULT_COLLECTION_PERCENTILE,jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jr.DISABLED=new jr(-1,0,0);var zr=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return e.Kt=function(t,n,r,i){return g(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return qr(e).Ot({index:zn.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=Vr(e),a=qr(e);return a.add({}).next((function(s){g("number"==typeof s);for(var u=new pr(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return yn(e.Lt,t)})),i=n.mutations.map((function(t){return yn(e.Lt,t)}));return new zn(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),c=[],f=new It((function(e,t){return w(e.canonicalString(),t.canonicalString())})),h=0,d=r;h<d.length;h++){var p=d[h],v=Un.key(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),c.push(a.put(l)),c.push(o.put(v,Un.PLACEHOLDER))}return f.forEach((function(t){c.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Qt[s]=u.keys()})),nr.waitFor(c).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return qr(e).get(t).next((function(e){return e?(g(e.userId===n.userId),kr(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Qt[t]?nr.resolve(this.Qt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Qt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return qr(e).Ot({index:zn.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(g(t.batchId>=r),o=kr(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return qr(e).Ot({index:zn.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return qr(e).Nt(zn.userMutationsIndex,n).next((function(e){return e.map((function(e){return kr(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=Un.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Vr(e).Ot({range:i},(function(r,i,a){var s=r[0],u=r[1],l=r[2],c=Ln(u);if(s===n.userId&&t.path.isEqual(c))return qr(e).get(l).next((function(e){if(!e)throw y();g(e.userId===n.userId),o.push(kr(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new It(w),i=[];return t.forEach((function(t){var o=Un.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=Vr(e).Ot({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],l=Ln(s);a===n.userId&&t.path.isEqual(l)?r=r.add(u):o.done()}));i.push(s)})),nr.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=Un.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new It(w);return Vr(e).Ot({range:a},(function(e,t,o){var a=e[0],u=e[1],l=e[2],c=Ln(u);a===n.userId&&r.isPrefixOf(c)?c.length===i&&(s=s.add(l)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(qr(e).get(t).next((function(e){if(null===e)throw y();g(e.userId===n.userId),r.push(kr(n.R,e))})))})),nr.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return Rr(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),nr.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Qt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return nr.resolve();var r=IDBKeyRange.lowerBound(Un.prefixForUser(t.userId)),i=[];return Vr(e).Ot({range:r},(function(e,n,r){if(e[0]===t.userId){var o=Ln(e[1]);i.push(o)}else r.done()})).next((function(){g(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return Ur(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return Br(e).get(this.userId).next((function(e){return e||new Fn(t.userId,-1,"")}))},e}();function Ur(e,t,n){var r=Un.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Vr(e).Ot({range:o,kt:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function qr(e){return dr(e,zn.store)}function Vr(e){return dr(e,Un.store)}function Br(e){return dr(e,Fn.store)}var Hr=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),Wr=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new Hr(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return O.fromTimestamp(new k(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Yr(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return g(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return Yr(e).Ot((function(a,s){var u=Or(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return nr.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return Yr(e).Ot((function(e,n){var r=Or(n);t(r)}))},e.prototype.Xt=function(e){return Gr(e).get(Gn.key).next((function(e){return g(null!==e),e}))},e.prototype.Zt=function(e,t){return Gr(e).put(Gn.key,t)},e.prototype.te=function(e,t){return Yr(e).put(Sr(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=ce(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Yr(e).Ot({range:r,index:Wn.queryTargetsIndexName},(function(e,n,r){var o=Or(n);fe(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=Kr(e);return t.forEach((function(t){var a=Dn(t.path);i.push(o.put(new Yn(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),nr.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=Kr(e);return nr.forEach(t,(function(t){var o=Dn(t.path);return nr.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=Kr(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Kr(e),i=Ut();return r.Ot({range:n,kt:!0},(function(e,t,n){var r=Ln(e[1]),o=new W(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=Dn(t.path),r=IDBKeyRange.bound([n],[T(n)],!1,!0),i=0;return Kr(e).Ot({index:Yn.documentTargetsIndex,kt:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return Yr(e).get(t).next((function(e){return e?Or(e):null}))},e}();function Yr(e){return dr(e,Wn.store)}function Gr(e){return dr(e,Gn.store)}function Kr(e){return dr(e,Yn.store)}function Xr(e){return Object(a.a)(this,void 0,void 0,(function(){return Object(a.c)(this,(function(t){if(e.code!==u.FAILED_PRECONDITION||e.message!==Zn)throw e;return h("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function Qr(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=w(n,i);return 0===a?w(r,o):a}var Jr=function(){function e(e){this.ne=e,this.buffer=new It(Qr),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Qr(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),$r=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;h("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Object(a.a)(t,void 0,void 0,(function(){var t;return Object(a.c)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return sr(t=n.sent())?(h("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Xr(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),Zr=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return nr.resolve(s.o);var r=new Jr(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(h("LruGarbageCollector","Garbage collection skipped; disabled"),nr.resolve(Lr)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(h("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Lr):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,o,a,s,u,l,c=this,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(h("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,s=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return o=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return l=Date.now(),f()<=i.a.DEBUG&&h("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-d)+"ms\n\tDetermined least recently used "+r+" in "+(s-a)+"ms\n\tRemoved "+o+" targets in "+(u-s)+"ms\n\tRemoved "+e+" documents in "+(l-u)+"ms\nTotal Duration: "+(l-d)+"ms"),nr.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:e})}))},e}(),ei=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new Zr(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return ti(e,n)},e.prototype.removeReference=function(e,t,n){return ti(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return ti(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return Br(e).$t((function(r){return Ur(e,r,t).next((function(e){return e&&(n=!0),nr.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),Kr(e).delete([0,Dn(a.path)])}))}));i.push(u)}})).next((function(){return nr.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return ti(e,t)},e.prototype.we=function(e,t){var n,r=Kr(e),i=s.o;return r.Ot({index:Yn.documentTargetsIndex},(function(e,r){var o=e[0],a=(e[1],r.path),u=r.sequenceNumber;0===o?(i!==s.o&&t(new W(Ln(n)),i),i=u,n=a):i=s.o})).next((function(){i!==s.o&&t(new W(Ln(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function ti(e,t){return Kr(e).put(function(e,t){return new Yn(0,Dn(e.path),t)}(t,e.currentSequenceNumber))}var ni=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){A(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return E(this.inner)},e}(),ri=function(){function e(){this.changes=new ni((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:O.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:se.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?nr.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),ii=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return si(e).put(ui(t),n)},e.prototype.removeEntry=function(e,t){var n=si(e),r=ui(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return si(e).get(ui(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return si(e).get(ui(t)).next((function(e){return{document:n.ye(t,e),size:Fr(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=Nt();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=Nt(),i=new Et(W.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,Fr(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return nr.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return si(e).Ot({range:r},(function(e,t,r){for(var a=W.fromSegments(e);o&&W.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=Nt(),o=t.path.length+1,a={};if(n.isEqual(O.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),l=_r(n);a.range=IDBKeyRange.lowerBound([u,l],!0),a.index=Bn.collectionReadTimeIndex}return si(e).Ot(a,(function(e,n,a){if(e.length===o){var s=mr(r.R,n);t.path.isPrefixOf(s.key.path)?Ve(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new oi(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return ai(e).get(Hn.key).next((function(e){return g(!!e),e}))},e.prototype.me=function(e,t){return ai(e).put(Hn.key,t)},e.prototype.ye=function(e,t){if(t){var n=mr(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(O.min()))return n}return se.newInvalidDocument(e)},e}(),oi=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new ni((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return Object(a.b)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new It((function(e,t){return w(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=br(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var l=Fr(u);r+=l-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var c=br(t.Ie.R,se.newNoDocument(o,O.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,c))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),nr.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(ri);function ai(e){return dr(e,Hn.store)}function si(e){return dr(e,Bn.store)}function ui(e){return e.path.toArray()}var li=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;g(n<r&&n>=0&&r<=11);var o=new rr("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Rn.store)}(e),function(e){e.createObjectStore(Fn.store,{keyPath:Fn.keyPath}),e.createObjectStore(zn.store,{keyPath:zn.keyPath,autoIncrement:!0}).createIndex(zn.userMutationsIndex,zn.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Un.store)}(e),ci(e),function(e){e.createObjectStore(Bn.store)}(e));var a=nr.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Yn.store),e.deleteObjectStore(Wn.store),e.deleteObjectStore(Gn.store)}(e),ci(e)),a=a.next((function(){return function(e){var t=e.store(Gn.store),n=new Gn(0,0,O.min().toTimestamp(),0);return t.put(Gn.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(zn.store).Nt().next((function(n){e.deleteObjectStore(zn.store),e.createObjectStore(zn.store,{keyPath:zn.keyPath,autoIncrement:!0}).createIndex(zn.userMutationsIndex,zn.userMutationsKeyPath,{unique:!0});var r=t.store(zn.store),i=n.map((function(e){return r.put(e)}));return nr.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(Xn.store,{keyPath:Xn.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(Hn.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Bn.store);t.createIndex(Bn.readTimeIndex,Bn.readTimeIndexPath,{unique:!1}),t.createIndex(Bn.collectionReadTimeIndex,Bn.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(Qn.store,{keyPath:Qn.keyPath})}(e),function(e){e.createObjectStore(Jn.store,{keyPath:Jn.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(Bn.store).Ot((function(e,n){t+=Fr(n)})).next((function(){var n=new Hn(t);return e.store(Hn.store).put(Hn.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(Fn.store),r=e.store(zn.store);return n.Nt().next((function(n){return nr.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(zn.userMutationsIndex,i).next((function(r){return nr.forEach(r,(function(r){g(r.userId===n.userId);var i=kr(t.R,r);return Rr(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(Yn.store),n=e.store(Bn.store);return e.store(Gn.store).get(Gn.key).next((function(e){var r=[];return n.Ot((function(n,i){var o=new C(n),a=function(e){return[0,Dn(e)]}(o);r.push(t.get(a).next((function(n){return n?nr.resolve():function(n){return t.put(new Yn(0,Dn(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return nr.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(Kn.store,{keyPath:Kn.keyPath});var n=t.store(Kn.store),r=new Dr,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Dn(i)})}};return t.store(Bn.store).Ot({kt:!0},(function(e,t){var n=new C(e);return i(n.popLast())})).next((function(){return t.store(Un.store).Ot({kt:!0},(function(e,t){e[0];var n=e[1],r=(e[2],Ln(n));return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(Wn.store);return n.Ot((function(e,r){var i=Or(r),o=Sr(t.R,i);return n.put(o)}))},e}();function ci(e){e.createObjectStore(Yn.store,{keyPath:Yn.keyPath}).createIndex(Yn.documentTargetsIndex,Yn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Wn.store,{keyPath:Wn.keyPath}).createIndex(Wn.queryTargetsIndexName,Wn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Gn.store)}var fi="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",hi=function(){function e(t,n,r,i,o,a,s,c,f,h){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=f,this.Ce=h,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new l(u.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ei(this,i),this.Le=n+"main",this.R=new gr(c),this.Be=new ir(this.Le,11,new li(this.R)),this.qe=new Wr(this.referenceDelegate,this.R),this.Ut=new Pr,this.Ue=function(e,t){return new ii(e,t)}(this.R,this.Ut),this.Qe=new Er,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===h&&d("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new l(u.FAILED_PRECONDITION,fi);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new s(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return Object(a.a)(t,void 0,void 0,(function(){return Object(a.c)(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return Object(a.a)(t,void 0,void 0,(function(){return Object(a.c)(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return Object(a.a)(t,void 0,void 0,(function(){return Object(a.c)(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return pi(t).put(new Xn(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(sr(t))return h("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return h("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return di(e).get(Rn.key).next((function(e){return nr.resolve(t.tn(e))}))},e.prototype.en=function(e){return pi(e).delete(this.clientId)},e.prototype.nn=function(){return Object(a.a)(this,void 0,void 0,(function(){var e,t,n,r,i=this;return Object(a.c)(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=dr(e,Xn.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return nr.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Ke)for(t=0,n=e;t<n.length;t++)r=n[t],this.Ke.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?nr.resolve(!0):di(e).get(Rn.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new l(u.FAILED_PRECONDITION,fi);return!1}}return!(!t.networkEnabled||!t.inForeground)||pi(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&h("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return Object(a.a)(this,void 0,void 0,(function(){var e=this;return Object(a.c)(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Rn.store,Xn.store],(function(t){var n=new hr(t,s.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return pi(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return zr.Kt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(e,t,n){var r=this;h("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,$n,(function(o){return i=new hr(o,r.Ne?r.Ne.next():s.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw d("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new l(u.FAILED_PRECONDITION,Zn);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return di(e).get(Rn.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new l(u.FAILED_PRECONDITION,fi)}))},e.prototype.Ze=function(e){var t=new Rn(this.clientId,this.allowTabSynchronization,Date.now());return di(e).put(Rn.key,t)},e.yt=function(){return ir.yt()},e.prototype.Xe=function(e){var t=this,n=di(e);return n.get(Rn.key).next((function(e){return t.tn(e)?(h("IndexedDbPersistence","Releasing primary lease."),n.delete(Rn.key)):nr.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(d("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){t.un(),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Ke)||void 0===t?void 0:t.getItem(this.on(e)));return h("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return d("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(e){d("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function di(e){return dr(e,Rn.store)}function pi(e){return dr(e,Xn.store)}function vi(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var yi=function(e,t){this.progress=e,this.wn=t},gi=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return W.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):Le(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new W(t)).next((function(e){var t=jt();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=jt();return this.Ut.getCollectionParents(e,i).next((function(a){return nr.forEach(a,(function(a){var s=function(e,t){return new Ee(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],l=u.key,c=r.get(l);null==c&&(c=se.newInvalidDocument(l),r=r.insert(l,c)),ht(u,c,o.localWriteTime),c.isFoundDocument()||(r=r.remove(l))}}))})).next((function(){return r.forEach((function(e,n){Ve(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=Ut(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof gt&&null===n.get(u.key)&&(r=r.add(u.key))}var l=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(l=l.insert(e,t))})),l}))},e}(),mi=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=Ut(),i=Ut(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),bi=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var o=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(O.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(a){var s=o.Cn(t,a);return(Ie(t)||De(t))&&o.Nn(t.limitType,s,r,n)?o.Dn(e,t):(f()<=i.a.DEBUG&&h("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),qe(t)),o.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return s.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new It(Be(e));return t.forEach((function(t,r){Ve(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return f()<=i.a.DEBUG&&h("QueryEngine","Using full collection scan to execute query:",qe(t)),this.Sn.getDocumentsMatchingQuery(e,t,O.min())},e}(),_i=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.Fn=new Et(w),this.kn=new ni((function(e){return ce(e)}),fe),this.On=O.min(),this._n=e.getMutationQueue(n),this.$n=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new gi(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Fn)}))},e}();function wi(e,t,n,r){return new _i(e,t,n,r)}function xi(e,t){return Object(a.a)(this,void 0,void 0,(function(){var n,r,i,o;return Object(a.c)(this,(function(a){switch(a.label){case 0:return n=m(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new gi(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=Ut(),s=0,u=o;s<u.length;s++){var l=u[s];n.push(l.batchId);for(var c=0,f=l.mutations;c<f.length;c++){var h=f[c];a=a.add(h.key)}}for(var d=0,p=t;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var y=0,g=v.mutations;y<g.length;y++){var m=g[y];a=a.add(m.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Ti(e,t){var n=m(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=nr.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);g(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function ki(e){var t=m(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function Oi(e,t){var n=m(e),r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var l=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,l),function(e,t,n){return g(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,l,t)&&a.push(n.qe.updateTargetData(e,l))}}}));var s=Nt();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Si(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(O.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return nr.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.Fn=i,e}))}function Si(e,t,n,r,i){var o=Ut();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=Nt();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(O.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):h("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Ai(e,t){var n=m(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function Ei(e,t){var n=m(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,nr.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new yr(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Fn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(e.targetId,e),n.kn.set(t,e.targetId)),e}))}function Mi(e,t,n){return Object(a.a)(this,void 0,void 0,(function(){var r,i,o,s;return Object(a.c)(this,(function(a){switch(a.label){case 0:r=m(e),i=r.Fn.get(t),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!sr(s=a.sent()))throw s;return h("LocalStore","Failed to update sequence numbers for target "+t+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}}))}))}function Ci(e,t,n){var r=m(e),i=O.min(),o=Ut();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=m(e),i=r.kn.get(n);return void 0!==i?nr.resolve(r.Fn.get(i)):r.qe.getTargetData(t,n)}(r,e,Re(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:O.min(),n?o:Ut())})).next((function(e){return{documents:e,Bn:o}}))}))}function Ii(e,t){var n=m(e),r=m(n.qe),i=n.Fn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function Di(e){var t=m(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=m(e),i=Nt(),o=_r(n),a=si(t),s=IDBKeyRange.lowerBound(o,!0);return a.Ot({index:Bn.readTimeIndex,range:s},(function(e,t){var n=mr(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:wr(o)}}))}(t.$n,e,t.On)})).then((function(e){var n=e.wn,r=e.readTime;return t.On=r,n}))}function Pi(e){return Object(a.a)(this,void 0,void 0,(function(){var t;return Object(a.c)(this,(function(n){return[2,(t=m(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=si(e),n=O.min();return t.Ot({index:Bn.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=wr(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.On=e}))]}))}))}function Ni(e,t,n,r){return Object(a.a)(this,void 0,void 0,(function(){var i,o,s,u,l,c,f,h,d,p;return Object(a.c)(this,(function(a){switch(a.label){case 0:for(i=m(e),o=Ut(),s=Nt(),u=Ft(),l=0,c=n;l<c.length;l++)f=c[l],h=t.qn(f.metadata.name),f.document&&(o=o.add(h)),s=s.insert(h,t.Un(f)),u=u.insert(h,t.Qn(f.metadata.readTime));return d=i.$n.newChangeBuffer({trackRemovals:!0}),[4,Ei(i,function(e){return Re(Ce(C.fromString("__bundle__/docs/"+e)))}(r))];case 1:return p=a.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Si(e,d,s,O.min(),u).next((function(t){return d.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return i.qe.addMatchingKeys(e,o,p.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function Li(e,t,n){return void 0===n&&(n=Ut()),Object(a.a)(this,void 0,void 0,(function(){var r,i;return Object(a.c)(this,(function(o){switch(o.label){case 0:return[4,Ei(e,Re(Ar(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=m(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=on(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(e,t);var a=r.withResumeToken(N.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Qe.saveNamedQuery(e,t)}))}))]}}))}))}var ji=function(){function e(e){this.R=e,this.Kn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return nr.resolve(this.Kn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Kn.set(t.id,{id:(n=t).id,version:n.version,createTime:on(n.createTime)}),nr.resolve()},e.prototype.getNamedQuery=function(e,t){return nr.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Ar(e.bundledQuery),readTime:on(e.readTime)}}(t)),nr.resolve()},e}(),Ri=function(){function e(){this.Wn=new It(Fi.Gn),this.zn=new It(Fi.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new Fi(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new Fi(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new W(new C([])),r=new Fi(n,e),i=new Fi(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new W(new C([])),n=new Fi(t,e),r=new Fi(t,e+1),i=Ut();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new Fi(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),Fi=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return W.comparator(e.key,t.key)||w(e.ns,t.ns)},e.Hn=function(e,t){return w(e.ns,t.ns)||W.comparator(e.key,t.key)},e}(),zi=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new It(Fi.Gn)}return e.prototype.checkEmpty=function(e){return nr.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new pr(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new Fi(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return nr.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return nr.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return nr.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return nr.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return nr.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Fi(t,0),i=new Fi(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),nr.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new It(w);return t.forEach((function(e){var t=new Fi(e,0),i=new Fi(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),nr.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;W.isDocumentKey(i)||(i=i.child(""));var o=new Fi(new W(i),0),a=new It(w);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),nr.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;g(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return nr.forEach(t.mutations,(function(i){var o=new Fi(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new Fi(t,0),r=this.rs.firstAfterOrEqual(n);return nr.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,nr.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),Ui=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Et(W.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return nr.resolve(n?n.document.clone():se.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=Nt();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():se.newInvalidDocument(e))})),nr.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=Nt(),i=new W(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,l=u.document,c=u.readTime;if(!t.path.isPrefixOf(s.path))break;c.compareTo(n)<=0||Ve(t,l)&&(r=r.insert(l.key,l.clone()))}return nr.resolve(r)},e.prototype.fs=function(e,t){return nr.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new qi(this)},e.prototype.getSize=function(e){return nr.resolve(this.size)},e}(),qi=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return Object(a.b)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),nr.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(ri),Vi=function(){function e(e){this.persistence=e,this.ds=new ni((function(e){return ce(e)}),fe),this.lastRemoteSnapshotVersion=O.min(),this.highestTargetId=0,this.ws=0,this._s=new Ri,this.targetCount=0,this.ys=Hr.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),nr.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return nr.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return nr.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),nr.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),nr.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new Hr(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,nr.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),nr.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,nr.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),nr.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return nr.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return nr.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),nr.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),nr.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),nr.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return nr.resolve(n)},e.prototype.containsKey=function(e,t){return nr.resolve(this._s.containsKey(t))},e}(),Bi=function(){function e(e,t){var n=this;this.gs={},this.Ne=new s(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new Vi(this),this.Ut=new Ir,this.Ue=function(e,t){return new Ui(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new gr(t),this.Qe=new ji(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new zi(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(e,t,n){var r=this;h("MemoryPersistence","Starting transaction:",e);var i=new Hi(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return nr.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),Hi=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return Object(a.b)(t,e),t}(er),Wi=function(){function e(e){this.persistence=e,this.As=new Ri,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw y()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),nr.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),nr.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),nr.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nr.forEach(this.vs,(function(r){var i=W.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return nr.or([function(){return nr.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),Yi=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function Gi(e,t){return"firestore_clients_"+e+"_"+t}function Ki(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Xi(e,t){return"firestore_targets_"+e+"_"+t}Yi.UNAUTHENTICATED=new Yi(null),Yi.GOOGLE_CREDENTIALS=new Yi("google-credentials-uid"),Yi.FIRST_PARTY=new Yi("first-party-uid");var Qi=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new l(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(d("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Ji=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new l(i.error.code,i.error.message)),o?new e(t,i.state,r):(d("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),$i=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Vt(),a=0;i&&a<r.activeTargetIds.length;++a)i=H(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(d("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Zi=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(d("SharedClientState","Failed to parse online state: "+t),null)},e}(),eo=function(){function e(){this.activeTargetIds=Vt()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),to=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Et(w),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=Gi(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new eo),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Qs=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return Object(a.a)(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,u,l,c,f,h=this;return Object(a.c)(this,(function(a){switch(a.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=a.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(Gi(this.persistenceKey,r)))&&(o=$i.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(u=this.js(s))&&this.Ws(u),l=0,c=this.Os;l<c.length;l++)f=c[l],this.Fs(f);return this.Os=[],this.window.addEventListener("unload",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Xi(this.persistenceKey,e));if(n){var r=Ji.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Ks(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Ks()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(Xi(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return h("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){h("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){h("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Fs=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(h("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void d("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Object(a.a)(t,void 0,void 0,(function(){var e,t,r,i,o,u;return Object(a.c)(this,(function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(u=function(e){var t=s.o;if(null!=e)try{var n=JSON.parse(e);g("number"==typeof n),t=n}catch(e){d("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==s.o&&this.sequenceNumberHandler(u);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new Qi(this.currentUser,e,t,n),i=Ki(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=Ki(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=Xi(this.persistenceKey,e),i=new Ji(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return $i.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Qi.Vs(new Yi(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return Ji.Vs(r,t)},e.prototype.js=function(e){return Zi.Vs(e)},e.prototype.ii=function(e){return Object(a.a)(this,void 0,void 0,(function(){return Object(a.c)(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(h("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.ks.insert(e,t):this.ks.remove(e),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.ks=r}))},e.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=Vt();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),no=function(){function e(){this.li=new eo,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new eo,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),ro=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),io=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){h("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){h("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),oo={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ao=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),so=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n}return Object(a.b)(t,e),t.prototype.ki=function(e,t,n,r){return new Promise((function(i,a){var s=new o.f;s.listenOnce(o.c.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case o.a.NO_ERROR:var t=s.getResponseJson();h("Connection","XHR received:",JSON.stringify(t)),i(t);break;case o.a.TIMEOUT:h("Connection",'RPC "'+e+'" timed out'),a(new l(u.DEADLINE_EXCEEDED,"Request time out"));break;case o.a.HTTP_ERROR:var n=s.getStatus();if(h("Connection",'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(u).indexOf(t)>=0?t:u.UNKNOWN}(r.status);a(new l(c,r.message))}else a(new l(u.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new l(u.UNAVAILABLE,"Connection failed."));break;default:y()}}finally{h("Connection",'RPC "'+e+'" completed.')}}));var c=JSON.stringify(r);s.send(t,"POST",c,n,15)}))},t.prototype.$i=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Object(o.g)(),a=Object(o.h)(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(s.initMessageHeaders,t),Object(r.y)()||Object(r.B)()||Object(r.u)()||Object(r.w)()||Object(r.C)()||Object(r.t)()||(s.httpHeadersOverwriteParam="$httpHeaders");var c=n.join("");h("Connection","Creating WebChannel: "+c,s);var f=i.createWebChannel(c,s),d=!1,v=!1,y=new ao({Ei:function(e){v?h("Connection","Not sending because WebChannel is closed:",e):(d||(h("Connection","Opening WebChannel transport."),f.open(),d=!0),h("Connection","WebChannel sending:",e),f.send(e))},Ti:function(){return f.close()}}),m=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return m(f,o.e.EventType.OPEN,(function(){v||h("Connection","WebChannel transport opened.")})),m(f,o.e.EventType.CLOSE,(function(){v||(v=!0,h("Connection","WebChannel transport closed"),y.Vi())})),m(f,o.e.EventType.ERROR,(function(e){v||(v=!0,p("Connection","WebChannel transport errored:",e),y.Vi(new l(u.UNAVAILABLE,"The operation could not be completed")))})),m(f,o.e.EventType.MESSAGE,(function(e){var t;if(!v){var n=e.data[0];g(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){h("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=wt[e];if(void 0!==t)return At(t)}(o),s=i.message;void 0===a&&(a=u.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),v=!0,y.Vi(new l(a,s)),f.close()}else h("Connection","WebChannel received:",n),y.Si(n)}})),m(a,o.b.STAT_EVENT,(function(e){e.stat===o.d.PROXY?h("Connection","Detected buffering proxy"):e.stat===o.d.NOPROXY&&h("Connection","Detected no buffering proxy")})),setTimeout((function(){y.Pi()}),0),y},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);h("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(e,i,o,n).then((function(e){return h("RestConnection","Received: ",e),e}),(function(t){throw p("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.Oi=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.Fi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.4.0",e["X-Firebase-GMPID"]=this.databaseInfo.appId,e["Content-Type"]="text/plain",t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=oo[e];return this.Di+"/v1/"+t+":"+n},e}());function uo(){return"undefined"!=typeof window?window:null}function lo(){return"undefined"!=typeof document?document:null}function co(e){return new en(e,!0)}var fo=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Ki=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&h("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Qi=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),ho=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new fo(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return Object(a.a)(this,void 0,void 0,(function(){return Object(a.c)(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return Object(a.a)(this,void 0,void 0,(function(){return Object(a.c)(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return Object(a.a)(this,void 0,void 0,(function(){return Object(a.c)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===u.RESOURCE_EXHAUSTED?(d(t.toString()),d("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):t&&t.code===u.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new l(u.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return Object(a.a)(e,void 0,void 0,(function(){return Object(a.c)(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return h("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(h("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),po=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return Object(a.b)(t,e),t.prototype.wr=function(e){return this.Hi.$i("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:y()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(g(void 0===t||"string"==typeof t),N.fromBase64String(t||"")):(g(void 0===t||t instanceof Uint8Array),N.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?u.UNKNOWN:At(e.code);return new l(t,e.message||"")}(s);n=new Gt(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=ln(e,r.document.name),o=on(r.document.updateTime);var s=new oe({mapValue:{fields:r.document.fields}}),c=(a=se.newFoundDocument(i,o,s),r.targetIds||[]),f=r.removedTargetIds||[];n=new Wt(c,f,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=ln(e,r.document),o=r.readTime?on(r.readTime):O.min(),s=se.newNoDocument(i,o),a=r.removedTargetIds||[],n=new Wt([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=ln(e,r.document),o=r.removedTargetIds||[],n=new Wt([],o,i,null);else{if(!("filter"in t))return y();t.filter;var h=t.filter;h.targetId,r=h.count||0,i=new Ot(r),o=h.targetId,n=new Yt(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return O.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?O.min():t.readTime?on(t.readTime):O.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=hn(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=he(r)?{documents:mn(e,r)}:{query:bn(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=nn(e,t.resumeToken):t.snapshotVersion.compareTo(O.min())>0&&(n.readTime=tn(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return y()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=hn(this.R),t.removeTarget=e,this.cr(t)},t}(ho),vo=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return Object(a.b)(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.$i("Write",e)},t.prototype.onMessage=function(e){if(g(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(g(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?on(e.updateTime):on(t);return n.isEqual(O.min())&&(n=on(t)),new st(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=on(e.commitTime);return this.listener.Tr(n,t)}return g(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=hn(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return yn(t.R,e)}))};this.cr(n)},t}(ho),yo=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(a.b)(t,e),t.prototype.br=function(){if(this.Rr)throw new l(u.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw e.code===u.UNAUTHENTICATED&&r.credentials.invalidateToken(),e}))},t.prototype.Oi=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Oi(e,t,n,i)})).catch((function(e){throw e.code===u.UNAUTHENTICATED&&r.credentials.invalidateToken(),e}))},t.prototype.terminate=function(){this.Rr=!1},t}((function(){})),go=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(d(t),this.Vr=!1):h("OnlineStateTracker",t)},e.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),mo=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return Object(a.a)(o,void 0,void 0,(function(){return Object(a.c)(this,(function(e){switch(e.label){case 0:return Ao(this)?(h("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return Object(a.a)(this,void 0,void 0,(function(){var t;return Object(a.c)(this,(function(n){switch(n.label){case 0:return(t=m(e)).$r.add(4),[4,_o(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.$r.delete(4),[4,bo(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new go(n,r)};function bo(e){return Object(a.a)(this,void 0,void 0,(function(){var t,n;return Object(a.c)(this,(function(r){switch(r.label){case 0:if(!Ao(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function _o(e){return Object(a.a)(this,void 0,void 0,(function(){var t,n;return Object(a.c)(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function wo(e,t){var n=m(e);n.Or.has(t.targetId)||(n.Or.set(t.targetId,t),So(n)?Oo(n):Vo(n).er()&&To(n,t))}function xo(e,t){var n=m(e),r=Vo(n);n.Or.delete(t),r.er()&&ko(n,t),0===n.Or.size&&(r.er()?r.ir():Ao(n)&&n.Br.set("Unknown"))}function To(e,t){e.qr.U(t.targetId),Vo(e).mr(t)}function ko(e,t){e.qr.U(t),Vo(e).yr(t)}function Oo(e){e.qr=new Xt({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.Or.get(t)||null}}),Vo(e).start(),e.Br.Sr()}function So(e){return Ao(e)&&!Vo(e).tr()&&e.Or.size>0}function Ao(e){return 0===m(e).$r.size}function Eo(e){e.qr=void 0}function Mo(e){return Object(a.a)(this,void 0,void 0,(function(){return Object(a.c)(this,(function(t){return e.Or.forEach((function(t,n){To(e,t)})),[2]}))}))}function Co(e,t){return Object(a.a)(this,void 0,void 0,(function(){return Object(a.c)(this,(function(n){return Eo(e),So(e)?(e.Br.Nr(t),Oo(e)):e.Br.set("Unknown"),[2]}))}))}function Io(e,t,n){return Object(a.a)(this,void 0,void 0,(function(){var r,i,o;return Object(a.c)(this,(function(s){switch(s.label){case 0:if(e.Br.set("Online"),!(t instanceof Gt&&2===t.state&&t.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(e,t){return Object(a.a)(this,void 0,void 0,(function(){var n,r,i,o;return Object(a.c)(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.Or.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.Or.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),h("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Do(e,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Wt?e.qr.X(t):t instanceof Yt?e.qr.rt(t):e.qr.et(t),n.isEqual(O.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,ki(e.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Or.get(r);i&&e.Or.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Or.get(t);if(n){e.Or.set(t,n.withResumeToken(N.EMPTY_BYTE_STRING,n.snapshotVersion)),ko(e,t);var r=new yr(n.target,t,1,n.sequenceNumber);To(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return h("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Do(e,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function Do(e,t,n){return Object(a.a)(this,void 0,void 0,(function(){var r=this;return Object(a.c)(this,(function(i){switch(i.label){case 0:if(!sr(t))throw t;return e.$r.add(1),[4,_o(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return ki(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return Object(a.a)(r,void 0,void 0,(function(){return Object(a.c)(this,(function(t){switch(t.label){case 0:return h("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.$r.delete(1),[4,bo(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function Po(e,t){return t().catch((function(n){return Do(e,n,t)}))}function No(e){return Object(a.a)(this,void 0,void 0,(function(){var t,n,r,i,o;return Object(a.c)(this,(function(a){switch(a.label){case 0:t=m(e),n=Bo(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return Ao(e)&&e.kr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Ai(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.kr.push(t);var n=Bo(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,Do(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Lo(t)&&jo(t),[2]}}))}))}function Lo(e){return Ao(e)&&!Bo(e).tr()&&e.kr.length>0}function jo(e){Bo(e).start()}function Ro(e){return Object(a.a)(this,void 0,void 0,(function(){return Object(a.c)(this,(function(t){return Bo(e).Ar(),[2]}))}))}function Fo(e){return Object(a.a)(this,void 0,void 0,(function(){var t,n,r,i;return Object(a.c)(this,(function(o){for(t=Bo(e),n=0,r=e.kr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function zo(e,t,n){return Object(a.a)(this,void 0,void 0,(function(){var r,i;return Object(a.c)(this,(function(o){switch(o.label){case 0:return r=e.kr.shift(),i=vr.from(r,t,n),[4,Po(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,No(e)];case 2:return o.sent(),[2]}}))}))}function Uo(e,t){return Object(a.a)(this,void 0,void 0,(function(){return Object(a.c)(this,(function(n){switch(n.label){case 0:return t&&Bo(e).pr?[4,function(e,t){return Object(a.a)(this,void 0,void 0,(function(){var n,r;return Object(a.c)(this,(function(i){switch(i.label){case 0:return St(r=t.code)&&r!==u.ABORTED?(n=e.kr.shift(),Bo(e).sr(),[4,Po(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,No(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Lo(e)&&jo(e),[2]}}))}))}function qo(e,t){return Object(a.a)(this,void 0,void 0,(function(){var n;return Object(a.c)(this,(function(r){switch(r.label){case 0:return n=m(e),t?(n.$r.delete(2),[4,bo(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.$r.add(2),[4,_o(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Vo(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=m(e);return r.br(),new po(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Mo.bind(null,e),Ri:Co.bind(null,e),_r:Io.bind(null,e)}),e.Mr.push((function(n){return Object(a.a)(t,void 0,void 0,(function(){return Object(a.c)(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),So(e)?Oo(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),Eo(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function Bo(e){var t=this;return e.Qr||(e.Qr=function(e,t,n){var r=m(e);return r.br(),new vo(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Ro.bind(null,e),Ri:Uo.bind(null,e),Ir:Fo.bind(null,e),Tr:zo.bind(null,e)}),e.Mr.push((function(n){return Object(a.a)(t,void 0,void 0,(function(){return Object(a.c)(this,(function(t){switch(t.label){case 0:return n?(e.Qr.sr(),[4,No(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Qr.stop()];case 3:t.sent(),e.kr.length>0&&(h("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Qr}var Ho=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new l(u.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Wo(e,t){if(d("AsyncQueue",t+": "+e),sr(e))return new l(u.UNAVAILABLE,t+": "+e);throw e}var Yo=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||W.comparator(t.key,n.key)}:function(e,t){return W.comparator(e.key,t.key)},this.keyedMap=jt(),this.sortedSet=new Et(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Go=function(){function e(){this.Kr=new Et(W.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Kr.get(t);n?0!==e.type&&3===n.type?this.Kr=this.Kr.insert(t,e):3===e.type&&1!==n.type?this.Kr=this.Kr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Kr=this.Kr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Kr=this.Kr.remove(t):1===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):y():this.Kr=this.Kr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Kr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),Ko=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Yo.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ze(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),Xo=function(){this.Wr=void 0,this.listeners=[]},Qo=function(){this.queries=new ni((function(e){return Ue(e)}),ze),this.onlineState="Unknown",this.Gr=new Set};function Jo(e,t){return Object(a.a)(this,void 0,void 0,(function(){var n,r,i,o,s,u,l;return Object(a.c)(this,(function(a){switch(a.label){case 0:if(n=m(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Xo),!i)return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=a.sent(),[3,4];case 3:return u=a.sent(),l=Wo(u,"Initialization of query '"+qe(t.query)+"' failed"),[2,void t.onError(l)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&ta(n),[2]}}))}))}function $o(e,t){return Object(a.a)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(a.c)(this,(function(a){return n=m(e),r=t.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(t))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Zo(e,t){for(var n=m(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var l=0,c=u.listeners;l<c.length;l++)c[l].Hr(a)&&(r=!0);u.Wr=a}}r&&ta(n)}function ea(e,t,n){var r=m(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function ta(e){e.Gr.forEach((function(e){e.next()}))}var na=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new Ko(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=Ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),ra=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),ia=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return ln(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?vn(this.R,e.document,!1):se.newNoDocument(this.qn(e.metadata.name),this.Qn(e.metadata.readTime))},e.prototype.Qn=function(e){return on(e)},e}(),oa=function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=aa(e)}return e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new ia(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var l=u[s],c=(t.get(l)||Ut()).add(a);t.set(l,c)}}return t},e.prototype.complete=function(){return Object(a.a)(this,void 0,void 0,(function(){var e,t,n,r,i;return Object(a.c)(this,(function(o){switch(o.label){case 0:return[4,Ni(this.localStore,new ia(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,Li(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new yi(Object.assign({},this.progress),e))]}}))}))},e}();function aa(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var sa=function(e){this.key=e},ua=function(e){this.key=e},la=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=Ut(),this.mutatedKeys=Ut(),this.lo=Be(e),this.fo=new Yo(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new Go,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Ie(this.query)&&i.size===this.query.limit?i.last():null,l=De(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),f=Ve(n.query,t)?t:null,h=!!c&&n.mutatedKeys.has(c.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;c&&f?c.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.yo(c,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.lo(f,u)>0||l&&n.lo(f,l)<0)&&(s=!0)):!c&&f?(r.track({type:0,doc:f}),p=!0):c&&!f&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(s=!0)),p&&(f?(a=a.add(f),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),Ie(this.query)||De(this.query))for(;a.size>this.query.limit;){var c=Ie(this.query)?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return y()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new Ko(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Go,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=Ut(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new ua(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new sa(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Ut();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return Ko.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),ca=function(e,t,n){this.query=e,this.targetId=t,this.view=n},fa=function(e){this.key=e,this.bo=!1},ha=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new ni((function(e){return Ue(e)}),ze),this.Vo=new Map,this.So=new Set,this.Do=new Et(W.comparator),this.Co=new Map,this.No=new Ri,this.xo={},this.Fo=new Map,this.ko=Hr.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),e}();function da(e,t){return Object(a.a)(this,void 0,void 0,(function(){var n,r,i,o,s,u;return Object(a.c)(this,(function(a){switch(a.label){case 0:return n=Va(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Ei(n.localStore,Re(t))];case 2:return s=a.sent(),u=n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,pa(n,t,r,"current"===u)];case 3:i=a.sent(),n.isPrimaryClient&&wo(n.remoteStore,s),a.label=4;case 4:return[2,i]}}))}))}function pa(e,t,n,r){return Object(a.a)(this,void 0,void 0,(function(){var i,o,s,u,l,c;return Object(a.c)(this,(function(f){switch(f.label){case 0:return e.$o=function(t,n,r){return function(e,t,n,r){return Object(a.a)(this,void 0,void 0,(function(){var i,o,s;return Object(a.c)(this,(function(a){switch(a.label){case 0:return(i=t.view._o(n)).Nn?[4,Ci(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(Aa(e,t.targetId,s.To),s.snapshot)]}}))}))}(e,t,n,r)},[4,Ci(e.localStore,t,!0)];case 1:return i=f.sent(),o=new la(t,i.Bn),s=o._o(i.documents),u=Ht.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),l=o.applyChanges(s,e.isPrimaryClient,u),Aa(e,n,l.To),c=new ca(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),l.snapshot)]}}))}))}function va(e,t){return Object(a.a)(this,void 0,void 0,(function(){var n,r,i;return Object(a.c)(this,(function(o){switch(o.label){case 0:return n=m(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!ze(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Mi(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),xo(n.remoteStore,r.targetId),Oa(n,r.targetId)})).catch(Xr)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Oa(n,r.targetId),[4,Mi(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function ya(e,t,n){return Object(a.a)(this,void 0,void 0,(function(){var r,i,o,s;return Object(a.c)(this,(function(a){switch(a.label){case 0:r=Ba(e),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(e,t){var n,r=m(e),i=k.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Ut());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var l=u[s],c=dt(l,n.get(l.key));null!=c&&a.push(new gt(l.key,c,ae(c.toProto().mapValue),ut.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Et(w)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,Ca(r,i.changes)];case 3:return a.sent(),[4,No(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Wo(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function ga(e,t){return Object(a.a)(this,void 0,void 0,(function(){var n,r;return Object(a.c)(this,(function(i){switch(i.label){case 0:n=m(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Oi(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(g(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?g(r.bo):e.removedDocuments.size>0&&(g(r.bo),r.bo=!1))})),[4,Ca(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Xr(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function ma(e,t,n){var r=m(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=m(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&ta(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ba(e,t,n){return Object(a.a)(this,void 0,void 0,(function(){var r,i,o,s,u,l;return Object(a.c)(this,(function(a){switch(a.label){case 0:return(r=m(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(s=(s=new Et(W.comparator)).insert(o,se.newNoDocument(o,O.min())),u=Ut().add(o),l=new Bt(O.min(),new Map,new It(w),s,u),[4,ga(r,l)]):[3,2];case 1:return a.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),Ma(r),[3,4];case 2:return[4,Mi(r.localStore,t,!1).then((function(){return Oa(r,t,n)})).catch(Xr)];case 3:a.sent(),a.label=4;case 4:return[2]}}))}))}function _a(e,t){return Object(a.a)(this,void 0,void 0,(function(){var n,r,i;return Object(a.c)(this,(function(o){switch(o.label){case 0:n=m(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Ti(n.localStore,t)];case 2:return i=o.sent(),ka(n,r,null),Ta(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Ca(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Xr(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function wa(e,t,n){return Object(a.a)(this,void 0,void 0,(function(){var r,i;return Object(a.c)(this,(function(o){switch(o.label){case 0:r=m(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=m(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return g(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),ka(r,t,n),Ta(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Ca(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Xr(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function xa(e,t){return Object(a.a)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(a.c)(this,(function(a){switch(a.label){case 0:Ao((n=m(e)).remoteStore)||h("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(e){var t=m(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=Wo(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(s),[3,4];case 4:return[2]}}))}))}function Ta(e,t){(e.Fo.get(t)||[]).forEach((function(e){e.resolve()})),e.Fo.delete(t)}function ka(e,t,n){var r=m(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function Oa(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||Sa(e,t)}))}function Sa(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(xo(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Ma(e))}function Aa(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof sa?(e.No.addReference(o.key,t),Ea(e,o)):o instanceof ua?(h("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||Sa(e,o.key)):y()}}function Ea(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(h("SyncEngine","New document in limbo: "+n),e.So.add(r),Ma(e))}function Ma(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new W(C.fromString(t)),r=e.ko.next();e.Co.set(r,new fa(n)),e.Do=e.Do.insert(n,r),wo(e.remoteStore,new yr(Re(Ce(n.path)),r,2,s.o))}}function Ca(e,t,n){return Object(a.a)(this,void 0,void 0,(function(){var r,i,o,s;return Object(a.c)(this,(function(u){switch(u.label){case 0:return r=m(e),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,a){s.push(r.$o(a,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=mi.Pn(a.targetId,e);o.push(t)}})))})),[4,Promise.all(s)]);case 1:return u.sent(),r.vo._r(i),[4,function(e,t){return Object(a.a)(this,void 0,void 0,(function(){var n,r,i,o,s,u,l,c,f;return Object(a.c)(this,(function(a){switch(a.label){case 0:n=m(e),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return nr.forEach(t,(function(t){return nr.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return nr.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return a.sent(),[3,4];case 3:if(!sr(r=a.sent()))throw r;return h("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)s=o[i],u=s.targetId,s.fromCache||(l=n.Fn.get(u),c=l.snapshotVersion,f=l.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(u,f));return[2]}}))}))}(r.localStore,o)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function Ia(e,t){return Object(a.a)(this,void 0,void 0,(function(){var n,r;return Object(a.c)(this,(function(i){switch(i.label){case 0:return(n=m(e)).currentUser.isEqual(t)?[3,3]:(h("SyncEngine","User change. New user:",t.toKey()),[4,xi(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.Fo.forEach((function(e){e.forEach((function(e){e.reject(new l(u.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Ca(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Da(e,t){var n=m(e),r=n.Co.get(t);if(r&&r.bo)return Ut().add(r.key);var i=Ut(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],l=n.Po.get(u);i=i.unionWith(l.view.wo)}return i}function Pa(e,t){return Object(a.a)(this,void 0,void 0,(function(){var n,r,i;return Object(a.c)(this,(function(o){switch(o.label){case 0:return[4,Ci((n=m(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&Aa(n,t.targetId,i.To),i)]}}))}))}function Na(e){return Object(a.a)(this,void 0,void 0,(function(){var t;return Object(a.c)(this,(function(n){return[2,Di((t=m(e)).localStore).then((function(e){return Ca(t,e)}))]}))}))}function La(e,t,n,r){return Object(a.a)(this,void 0,void 0,(function(){var i,o;return Object(a.c)(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=m(e),r=m(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):nr.resolve(null)}))}))}((i=m(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,No(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(ka(i,t,r||null),Ta(i,t),function(e,t){m(m(e)._n).Gt(t)}(i.localStore,t)):y(),a.label=4;case 4:return[4,Ca(i,o)];case 5:return a.sent(),[3,7];case 6:h("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function ja(e,t){return Object(a.a)(this,void 0,void 0,(function(){var n,r,i,o,s,u,l,c;return Object(a.c)(this,(function(a){switch(a.label){case 0:return Va(n=m(e)),Ba(n),!0!==t||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Ra(n,r.toArray())]);case 1:return i=a.sent(),n.Oo=!0,[4,qo(n.remoteStore,!0)];case 2:for(a.sent(),o=0,s=i;o<s.length;o++)u=s[o],wo(n.remoteStore,u);return[3,7];case 3:return!1!==t||!1===n.Oo?[3,7]:(l=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?l.push(t):c=c.then((function(){return Oa(n,t),Mi(n.localStore,t,!0)})),xo(n.remoteStore,t)})),[4,c]);case 4:return a.sent(),[4,Ra(n,l)];case 5:return a.sent(),function(e){var t=m(e);t.Co.forEach((function(e,n){xo(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new Et(W.comparator)}(n),n.Oo=!1,[4,qo(n.remoteStore,!1)];case 6:a.sent(),a.label=7;case 7:return[2]}}))}))}function Ra(e,t,n){return Object(a.a)(this,void 0,void 0,(function(){var n,r,i,o,s,u,l,c,f,h,d,p,v,y;return Object(a.c)(this,(function(a){switch(a.label){case 0:n=m(e),r=[],i=[],o=0,s=t,a.label=1;case 1:return o<s.length?(u=s[o],l=void 0,(c=n.Vo.get(u))&&0!==c.length?[4,Ei(n.localStore,Re(c[0]))]:[3,7]):[3,13];case 2:l=a.sent(),f=0,h=c,a.label=3;case 3:return f<h.length?(d=h[f],p=n.Po.get(d),[4,Pa(n,p)]):[3,6];case 4:(v=a.sent()).snapshot&&i.push(v.snapshot),a.label=5;case 5:return f++,[3,3];case 6:return[3,11];case 7:return[4,Ii(n.localStore,u)];case 8:return y=a.sent(),[4,Ei(n.localStore,y)];case 9:return l=a.sent(),[4,pa(n,Fa(y),u,!1)];case 10:a.sent(),a.label=11;case 11:r.push(l),a.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Fa(e){return Me(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function za(e){var t=m(e);return m(m(t.localStore).persistence).fn()}function Ua(e,t,n,r){return Object(a.a)(this,void 0,void 0,(function(){var i,o,s;return Object(a.c)(this,(function(a){switch(a.label){case 0:return(i=m(e)).Oo?(h("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Di(i.localStore)];case 3:return o=a.sent(),s=Bt.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Ca(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Mi(i.localStore,t,!0)];case 6:return a.sent(),Oa(i,t,r),[3,8];case 7:y(),a.label=8;case 8:return[2]}}))}))}function qa(e,t,n){return Object(a.a)(this,void 0,void 0,(function(){var r,i,o,s,u,l,c,f,d,p;return Object(a.c)(this,(function(v){switch(v.label){case 0:if(!(r=Va(e)).Oo)return[3,10];i=0,o=t,v.label=1;case 1:return i<o.length?(s=o[i],r.Vo.has(s)?(h("SyncEngine","Adding an already active target "+s),[3,5]):[4,Ii(r.localStore,s)]):[3,6];case 2:return u=v.sent(),[4,Ei(r.localStore,u)];case 3:return l=v.sent(),[4,pa(r,Fa(u),l.targetId,!1)];case 4:v.sent(),wo(r.remoteStore,l),v.label=5;case 5:return i++,[3,1];case 6:c=function(e){return Object(a.c)(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,Mi(r.localStore,e,!1).then((function(){xo(r.remoteStore,e),Oa(r,e)})).catch(Xr)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},f=0,d=n,v.label=7;case 7:return f<d.length?(p=d[f],[5,c(p)]):[3,10];case 8:v.sent(),v.label=9;case 9:return f++,[3,7];case 10:return[2]}}))}))}function Va(e){var t=m(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ga.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Da.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ba.bind(null,t),t.vo._r=Zo.bind(null,t.eventManager),t.vo.Mo=ea.bind(null,t.eventManager),t}function Ba(e){var t=m(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_a.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=wa.bind(null,t),t}function Ha(e,t,n){var r=m(e);(function(e,t,n){return Object(a.a)(this,void 0,void 0,(function(){var r,i,o,s,u,l;return Object(a.c)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,14,,15]),[4,t.getMetadata()];case 1:return r=a.sent(),[4,function(e,t){var n=m(e),r=on(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Qe.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(e.localStore,r)];case 2:return a.sent()?[4,t.close()]:[3,4];case 3:return[2,(a.sent(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)))];case 4:return n._updateProgress(aa(r)),i=new oa(r,e.localStore,t.R),[4,t.Lo()];case 5:o=a.sent(),a.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(s=a.sent())&&n._updateProgress(s),[4,t.Lo()];case 8:o=a.sent(),a.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return u=a.sent(),[4,Ca(e,u.wn,void 0)];case 12:return a.sent(),[4,function(e,t){var n=m(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Qe.saveBundleMetadata(e,t)}))}(e.localStore,r)];case 13:return a.sent(),n._completeWith(u.progress),[3,15];case 14:return p("SyncEngine","Loading bundle failed with "+(l=a.sent())),n._failWith(l),[3,15];case 15:return[2]}}))}))})(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var Wa=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return Object(a.a)(this,void 0,void 0,(function(){return Object(a.c)(this,(function(t){switch(t.label){case 0:return this.R=co(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Qo(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Qo=function(e){return wi(this.persistence,new bi,e.initialUser,this.R)},e.prototype.qo=function(e){return new Bi(Wi.bs,this.R)},e.prototype.Bo=function(e){return new no},e.prototype.terminate=function(){return Object(a.a)(this,void 0,void 0,(function(){return Object(a.c)(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),Ya=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Ko=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(a.b)(t,e),t.prototype.initialize=function(t){return Object(a.a)(this,void 0,void 0,(function(){return Object(a.c)(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,Pi(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,t)];case 3:return n.sent(),[4,Ba(this.Ko.syncEngine)];case 4:return n.sent(),[4,No(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},t.prototype.Qo=function(e){return wi(this.persistence,new bi,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new $r(t,e.asyncQueue)},t.prototype.qo=function(e){var t=vi(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?jr.withCacheSize(this.cacheSizeBytes):jr.DEFAULT;return new hi(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,uo(),lo(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new no},t}(Wa),Ga=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Ko=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(a.b)(t,e),t.prototype.initialize=function(t){return Object(a.a)(this,void 0,void 0,(function(){var n,r=this;return Object(a.c)(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof to?(this.sharedClientState.syncEngine={ui:La.bind(null,n),ai:Ua.bind(null,n),hi:qa.bind(null,n),fn:za.bind(null,n),ci:Na.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return Object(a.a)(r,void 0,void 0,(function(){return Object(a.c)(this,(function(t){switch(t.label){case 0:return[4,ja(this.Ko.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=uo();if(!to.yt(t))throw new l(u.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=vi(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new to(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(Ya),Ka=function(){function e(){}return e.prototype.initialize=function(e,t){return Object(a.a)(this,void 0,void 0,(function(){var n=this;return Object(a.c)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return ma(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ia.bind(null,this.syncEngine),[4,qo(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new Qo},e.prototype.createDatastore=function(e){var t,n=co(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new so(t));return function(e,t,n){return new yo(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return ma(a.syncEngine,e,0)},o=io.yt()?new io:new ro,new mo(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new ha(e,t,n,r,i,o);return a&&(s.Oo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return Object(a.a)(this,void 0,void 0,(function(){var t;return Object(a.c)(this,(function(n){switch(n.label){case 0:return t=m(e),h("RemoteStore","RemoteStore shutting down."),t.$r.add(5),[4,_o(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();function Xa(e,t){void 0===t&&(t=10240);var n=0;return{read:function(){return Object(a.a)(this,void 0,void 0,(function(){var r;return Object(a.c)(this,(function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]}))}))},cancel:function(){return Object(a.a)(this,void 0,void 0,(function(){return Object(a.c)(this,(function(e){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Qa=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),Ja=function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new tr,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return Object(a.a)(this,void 0,void 0,(function(){return Object(a.c)(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return Object(a.a)(this,void 0,void 0,(function(){return Object(a.c)(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return Object(a.a)(this,void 0,void 0,(function(){var e,t,n,r;return Object(a.c)(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new ra(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return Object(a.a)(this,void 0,void 0,(function(){var e,t;return Object(a.c)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return Object(a.a)(this,void 0,void 0,(function(){var t;return Object(a.c)(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return Object(a.a)(this,void 0,void 0,(function(){var e,t;return Object(a.c)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))},e}(),$a=function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return Object(a.a)(this,void 0,void 0,(function(){var t,n=this;return Object(a.c)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new l(u.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return Object(a.a)(this,void 0,void 0,(function(){var n,r,i,o,s,u;return Object(a.c)(this,(function(a){switch(a.label){case 0:return n=m(e),r=hn(n.R)+"/documents",i={documents:t.map((function(e){return un(n.R,e)}))},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=a.sent(),s=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){g(!!t.found),t.found.name,t.found.updateTime;var n=ln(e,t.found.name),r=on(t.found.updateTime),i=new oe({mapValue:{fields:t.found.fields}});return se.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){g(!!t.missing),g(!!t.readTime);var n=ln(e,t.missing),r=on(t.readTime);return se.newNoDocument(n,r)}(e,t):y()}(n.R,e);s.set(t.key.toString(),t)})),u=[],[2,(t.forEach((function(e){var t=s.get(e.toString());g(!!t),u.push(t)})),u)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new Tt(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return Object(a.a)(this,void 0,void 0,(function(){var e,t=this;return Object(a.c)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=W.fromPath(n);t.mutations.push(new kt(r,t.precondition(r)))})),[4,function(e,t){return Object(a.a)(this,void 0,void 0,(function(){var n,r,i;return Object(a.c)(this,(function(o){switch(o.label){case 0:return n=m(e),r=hn(n.R)+"/documents",i={writes:t.map((function(e){return yn(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw y();t=O.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new l(u.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?ut.updateTime(t):ut.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(O.min()))throw new l(u.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ut.updateTime(t)}return ut.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}(),Za=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new fo(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return Object(a.a)(e,void 0,void 0,(function(){var e,t,n=this;return Object(a.c)(this,(function(r){return e=new $a(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!V(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!St(t)}return!1},e}(),es=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Yi.UNAUTHENTICATED,this.clientId=_.u(),this.credentialListener=function(){},this.receivedInitialUser=new tr,this.credentials.setChangeListener((function(e){h("FirestoreClient","Received user=",e.uid),r.user=e,r.credentialListener(e),r.receivedInitialUser.resolve()}))}return e.prototype.getConfiguration=function(){return Object(a.a)(this,void 0,void 0,(function(){return Object(a.c)(this,(function(e){switch(e.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(e.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},e.prototype.setCredentialChangeListener=function(e){var t=this;this.credentialListener=e,this.receivedInitialUser.promise.then((function(){return t.credentialListener(t.user)}))},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new l(u.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Object(a.a)(e,void 0,void 0,(function(){var e,n;return Object(a.c)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=Wo(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function ts(e,t){return Object(a.a)(this,void 0,void 0,(function(){var n,r,i=this;return Object(a.c)(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),h("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,e.asyncQueue.enqueueRetryable((function(){return Object(a.a)(i,void 0,void 0,(function(){return Object(a.c)(this,(function(e){switch(e.label){case 0:return[4,xi(t.localStore,n)];case 1:return e.sent(),[2]}}))}))})))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function ns(e,t){return Object(a.a)(this,void 0,void 0,(function(){var n,r;return Object(a.c)(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,rs(e)];case 1:return n=i.sent(),h("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(n){return e.asyncQueue.enqueueRetryable((function(){return function(e,t){return Object(a.a)(this,void 0,void 0,(function(){var n,r;return Object(a.c)(this,(function(i){switch(i.label){case 0:return(n=m(e)).asyncQueue.verifyOperationInProgress(),h("RemoteStore","RemoteStore received new credentials"),r=Ao(n),n.$r.add(3),[4,_o(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.$r.delete(3),[4,bo(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,n)}))})),e.onlineComponents=t,[2]}}))}))}function rs(e){return Object(a.a)(this,void 0,void 0,(function(){return Object(a.c)(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(h("FirestoreClient","Using default OfflineComponentProvider"),[4,ts(e,new Wa)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function is(e){return Object(a.a)(this,void 0,void 0,(function(){return Object(a.c)(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(h("FirestoreClient","Using default OnlineComponentProvider"),[4,ns(e,new Ka)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function os(e){return rs(e).then((function(e){return e.persistence}))}function as(e){return rs(e).then((function(e){return e.localStore}))}function ss(e){return is(e).then((function(e){return e.remoteStore}))}function us(e){return is(e).then((function(e){return e.syncEngine}))}function ls(e){return Object(a.a)(this,void 0,void 0,(function(){var t,n;return Object(a.c)(this,(function(r){switch(r.label){case 0:return[4,is(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=da.bind(null,t.syncEngine),n.onUnlisten=va.bind(null,t.syncEngine),n)]}}))}))}function cs(e,t,n){var r=this;void 0===n&&(n={});var i=new tr;return e.asyncQueue.enqueueAndForget((function(){return Object(a.a)(r,void 0,void 0,(function(){var r;return Object(a.c)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Qa({next:function(o){t.enqueueAndForget((function(){return $o(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new l(u.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new l(u.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new na(Ce(n.path),o,{includeMetadataChanges:!0,so:!0});return Jo(e,a)},[4,ls(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function fs(e,t,n){var r=this;void 0===n&&(n={});var i=new tr;return e.asyncQueue.enqueueAndForget((function(){return Object(a.a)(r,void 0,void 0,(function(){var r;return Object(a.c)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Qa({next:function(n){t.enqueueAndForget((function(){return $o(e,a)})),n.fromCache&&"server"===r.source?i.reject(new l(u.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new na(n,o,{includeMetadataChanges:!0,so:!0});return Jo(e,a)},[4,ls(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var hs=function(e,t,n,r,i,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a},ds=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),ps=new Map,vs=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},ys=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){this.changeListener=e,e(Yi.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),gs=function(){function e(e){var t=this;this.oc=null,this.currentUser=Yi.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){t.cc++,t.currentUser=t.uc(),t.receivedInitialUser=!0,t.changeListener&&t.changeListener(t.currentUser)},this.cc=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),e.get().then((function(e){t.auth=e,t.oc&&t.auth.addAuthTokenListener(t.oc)}),(function(){})))}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(h("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(g("string"==typeof n.accessToken),new vs(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e){this.changeListener=e,this.receivedInitialUser&&e(this.currentUser)},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},e.prototype.uc=function(){var e=this.auth&&this.auth.getUid();return g(null===e||"string"==typeof e),new Yi(e)},e}(),ms=function(){function e(e,t,n){this.ac=e,this.hc=t,this.lc=n,this.type="FirstParty",this.user=Yi.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.hc},t=this.ac.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.lc&&(e["X-Goog-Iam-Authorization-Token"]=this.lc),e},enumerable:!1,configurable:!0}),e}(),bs=function(){function e(e,t,n){this.ac=e,this.hc=t,this.lc=n}return e.prototype.getToken=function(){return Promise.resolve(new ms(this.ac,this.hc,this.lc))},e.prototype.setChangeListener=function(e){e(Yi.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function _s(e,t,n){if(!n)throw new l(u.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function ws(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new l(u.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function xs(e,t,n,r){if(!0===t&&!0===r)throw new l(u.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Ts(e){if(!W.isDocumentKey(e))throw new l(u.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function ks(e){if(W.isDocumentKey(e))throw new l(u.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Os(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":y()}function Ss(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new l(u.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Os(e);throw new l(u.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function As(e,t){if(t<=0)throw new l(u.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var Es=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new l(u.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new l(u.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,xs("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},e}(),Ms=function(){function e(e,t){this._persistenceKey="(lite)",this._settings=new Es({}),this._settingsFrozen=!1,e instanceof ds?(this._databaseId=e,this._credentials=new ys):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new l(u.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ds(e.options.projectId)}(e),this._credentials=new gs(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new l(u.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new l(u.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Es(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new ys;switch(e.type){case"gapi":var t=e.client;return g(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new bs(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new l(u.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=ps.get(this))&&(h("ComponentProvider","Removing Datastore"),ps.delete(this),e.terminate()),Promise.resolve();var e},e}(),Cs=function(){function e(e,t,n){this._converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ds(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Is=function(){function e(e,t,n){this._converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Ds=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Ce(r))||this)._path=r,i.type="collection",i}return Object(a.b)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Cs(this.firestore,null,new W(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Is);function Ps(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=Object(r.p)(e),_s("collection","path",t),e instanceof Ms)return ks(n=C.fromString.apply(C,Object(a.d)([t],i))),new Ds(e,null,n);if(!(e instanceof Cs||e instanceof Ds))throw new l(u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ks(n=C.fromString.apply(C,Object(a.d)([e.path],i)).child(C.fromString(t))),new Ds(e.firestore,null,n)}function Ns(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=Object(r.p)(e),1===arguments.length&&(t=_.u()),_s("doc","path",t),e instanceof Ms)return Ts(n=C.fromString.apply(C,Object(a.d)([t],i))),new Cs(e,null,new W(n));if(!(e instanceof Cs||e instanceof Ds))throw new l(u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ts(n=e._path.child(C.fromString.apply(C,Object(a.d)([t],i)))),new Cs(e.firestore,e instanceof Ds?e._converter:null,new W(n))}function Ls(e,t){return e=Object(r.p)(e),t=Object(r.p)(t),(e instanceof Cs||e instanceof Ds)&&(t instanceof Cs||t instanceof Ds)&&e.firestore===t.firestore&&e.path===t.path&&e._converter===t._converter}function js(e,t){return e=Object(r.p)(e),t=Object(r.p)(t),e instanceof Is&&t instanceof Is&&e.firestore===t.firestore&&ze(e._query,t._query)&&e._converter===t._converter}var Rs=function(){function e(){var e=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new fo(this,"async_queue_retry"),this.Ec=function(){var t=lo();t&&h("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=lo();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Tc(),this.Ic(e)},e.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var e=lo();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ec)}},e.prototype.enqueue=function(e){return this.Tc(),this.wc?new Promise((function(e){})):this.Ic(e)},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.dc.push(e),t.Ac()}))},e.prototype.Ac=function(){return Object(a.a)(this,void 0,void 0,(function(){var e,t=this;return Object(a.c)(this,(function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!sr(e=n.sent()))throw e;return h("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.dc.length>0&&this.Zi.ji((function(){return t.Ac()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Ic=function(e){var t=this,n=this.fc.then((function(){return t.yc=!0,e().catch((function(e){throw t.mc=e,t.yc=!1,d("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.yc=!1,e}))}));return this.fc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Tc(),this.gc.indexOf(e)>-1&&(t=0);var i=Ho.createAndSchedule(this,e,t,n,(function(e){return r.Rc(e)}));return this._c.push(i),i},e.prototype.Tc=function(){this.mc&&y()},e.prototype.verifyOperationInProgress=function(){},e.prototype.bc=function(){return Object(a.a)(this,void 0,void 0,(function(){var e;return Object(a.c)(this,(function(t){switch(t.label){case 0:return[4,e=this.fc];case 1:t.sent(),t.label=2;case 2:if(e!==this.fc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.vc=function(e){for(var t=0,n=this._c;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Pc=function(e){var t=this;return this.bc().then((function(){t._c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.bc()}))},e.prototype.Vc=function(e){this.gc.push(e)},e.prototype.Rc=function(e){var t=this._c.indexOf(e);this._c.splice(t,1)},e}();function Fs(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var zs=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new tr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},e}(),Us=-1,qs=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._queue=new Rs,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return Object(a.b)(t,e),t.prototype._terminate=function(){return this._firestoreClient||Bs(this),this._firestoreClient.terminate()},t}(Ms);function Vs(e){return e._firestoreClient||Bs(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Bs(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new hs(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new es(e._credentials,e._queue,r)}function Hs(e,t,n){var r=this,i=new tr;return e.asyncQueue.enqueue((function(){return Object(a.a)(r,void 0,void 0,(function(){var r;return Object(a.c)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,ts(e,n)];case 1:return o.sent(),[4,ns(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===u.FAILED_PRECONDITION||e.code===u.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Ws(e){if(e._initialized||e._terminated)throw new l(u.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ys=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new l(u.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new D(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),Gs=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(N.fromBase64String(t))}catch(t){throw new l(u.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(N.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),Ks=function(e){this._methodName=e},Xs=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new l(u.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new l(u.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return w(this._lat,e._lat)||w(this._long,e._long)},e}(),Qs=/^__.*__$/,Js=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new gt(e,this.data,this.fieldMask,t,this.fieldTransforms):new yt(e,this.data,t,this.fieldTransforms)},e}(),$s=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new gt(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function Zs(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw y()}}var eu=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),e.prototype.Cc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.Nc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Cc({path:n,xc:!1});return r.Fc(e),r},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Cc({path:n,xc:!1});return r.Sc(),r},e.prototype.Oc=function(e){return this.Cc({path:void 0,xc:!0})},e.prototype.$c=function(e){return _u(e,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Sc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Fc(this.path.get(e))},e.prototype.Fc=function(e){if(0===e.length)throw this.$c("Document fields must not be empty");if(Zs(this.Dc)&&Qs.test(e))throw this.$c('Document fields cannot begin and end with "__"')},e}(),tu=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||co(e)}return e.prototype.Bc=function(e,t,n,r){return void 0===r&&(r=!1),new eu({Dc:e,methodName:t,Lc:n,path:D.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function nu(e){var t=e._freezeSettings(),n=co(e._databaseId);return new tu(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ru(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Bc(o.merge||o.mergeFields?2:0,t,n,i);yu("Data must be an object, but it was:",a,r);var s,c,f=pu(r,a);if(o.merge)s=new P(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){for(var h=[],d=0,p=o.mergeFields;d<p.length;d++){var v=gu(t,p[d],n);if(!a.contains(v))throw new l(u.INVALID_ARGUMENT,"Field '"+v+"' is specified in your field mask but missing from your input data.");wu(h,v)||h.push(v)}s=new P(h),c=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,c=a.fieldTransforms;return new Js(new oe(f),s,c)}var iu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.b)(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Dc)throw 1===e.Dc?e.$c(this._methodName+"() can only appear at the top level of your update data"):e.$c(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(Ks);function ou(e,t,n){return new eu({Dc:3,Lc:t.settings.Lc,methodName:e._methodName,xc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var au=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.b)(t,e),t.prototype._toFieldTransform=function(e){return new at(e.path,new $e)},t.prototype.isEqual=function(e){return e instanceof t},t}(Ks),su=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).qc=n,r}return Object(a.b)(t,e),t.prototype._toFieldTransform=function(e){var t=ou(this,e,!0),n=this.qc.map((function(e){return du(e,t)})),r=new Ze(n);return new at(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Ks),uu=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).qc=n,r}return Object(a.b)(t,e),t.prototype._toFieldTransform=function(e){var t=ou(this,e,!0),n=this.qc.map((function(e){return du(e,t)})),r=new tt(n);return new at(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Ks),lu=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Uc=n,r}return Object(a.b)(t,e),t.prototype._toFieldTransform=function(e){var t=new rt(e.R,Ge(e.R,this.Uc));return new at(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(Ks);function cu(e,t,n,i){var o=e.Bc(1,t,n);yu("Data must be an object, but it was:",o,i);var a=[],s=oe.empty();A(i,(function(e,i){var u=bu(t,e,n);i=Object(r.p)(i);var l=o.kc(u);if(i instanceof iu)a.push(u);else{var c=du(i,l);null!=c&&(a.push(u),s.set(u,c))}}));var u=new P(a);return new $s(s,u,o.fieldTransforms)}function fu(e,t,n,i,o,a){var s=e.Bc(1,t,n),c=[gu(t,i,n)],f=[o];if(a.length%2!=0)throw new l(u.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<a.length;h+=2)c.push(gu(t,a[h])),f.push(a[h+1]);for(var d=[],p=oe.empty(),v=c.length-1;v>=0;--v)if(!wu(d,c[v])){var y=c[v],g=f[v];g=Object(r.p)(g);var m=s.kc(y);if(g instanceof iu)d.push(y);else{var b=du(g,m);null!=b&&(d.push(y),p.set(y,b))}}var _=new P(d);return new $s(p,_,s.fieldTransforms)}function hu(e,t,n,r){return void 0===r&&(r=!1),du(n,e.Bc(r?4:3,t))}function du(e,t){if(vu(e=Object(r.p)(e)))return yu("Unsupported field value:",t,e),pu(e,t);if(e instanceof Ks)return function(e,t){if(!Zs(t.Dc))throw t.$c(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.$c(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xc&&4!==t.Dc)throw t.$c("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=du(o[i],t.Oc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Object(r.p)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ge(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=k.fromDate(e);return{timestampValue:tn(t.R,n)}}if(e instanceof k)return n=new k(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:tn(t.R,n)};if(e instanceof Xs)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Gs)return{bytesValue:nn(t.R,e._byteString)};if(e instanceof Cs){n=t.databaseId;var i=e.firestore._databaseId;if(!i.isEqual(n))throw t.$c("Document reference is for database "+i.projectId+"/"+i.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:an(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.$c("Unsupported field value: "+Os(e))}(e,t)}function pu(e,t){var n={};return E(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):A(e,(function(e,r){var i=du(r,t.Nc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function vu(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof k||e instanceof Xs||e instanceof Gs||e instanceof Cs||e instanceof Ks)}function yu(e,t,n){if(!vu(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Os(n);throw"an object"===r?t.$c(e+" a custom object"):t.$c(e+" "+r)}}function gu(e,t,n){if((t=Object(r.p)(t))instanceof Ys)return t._internalPath;if("string"==typeof t)return bu(e,t);throw _u("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var mu=new RegExp("[~\\*/\\[\\]]");function bu(e,t,n){if(t.search(mu)>=0)throw _u("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(Ys.bind.apply(Ys,Object(a.d)([void 0],t.split(".")))))._internalPath}catch(r){throw _u("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function _u(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var c="";return(o||a)&&(c+=" (found",o&&(c+=" in field "+r),a&&(c+=" in document "+i),c+=")"),new l(u.INVALID_ARGUMENT,(s+=". ")+e+c)}function wu(e,t){return e.some((function(e){return e.isEqual(t)}))}var xu=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Cs(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new Tu(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.toProto())}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(ku("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),Tu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.b)(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(xu);function ku(e,t){return"string"==typeof t?bu(e,t):t instanceof Ys?t._internalPath:t._delegate._internalPath}var Ou=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Su=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return Object(a.b)(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new Au(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.toProto(),e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(ku("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(xu),Au=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.b)(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(Su),Eu=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ou(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Au(n._firestore,n._userDataWriter,r.key,r,new Ou(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new l(u.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Au(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ou(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query._converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Au(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ou(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query._converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Mu(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function Mu(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return y()}}function Cu(e,t){return e instanceof Su&&t instanceof Su?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Eu&&t instanceof Eu&&e._firestore===t._firestore&&js(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Iu(e){if(De(e)&&0===e.explicitOrderBy.length)throw new l(u.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Du=function(){};function Pu(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var Nu=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qc=t,i.Kc=n,i.jc=r,i.type="where",i}return Object(a.b)(t,e),t.prototype._apply=function(e){var t=nu(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new l(u.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){qu(a,o);for(var c=[],f=0,h=a;f<h.length;f++){var d=h[f];c.push(Uu(r,e,d))}s={arrayValue:{values:c}}}else s=Uu(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||qu(a,o),s=hu(n,"where",a,"in"===o||"not-in"===o);var p=de.create(i,o,s);return function(e,t){if(t.g()){var n=Ne(e);if(null!==n&&!n.isEqual(t.field))throw new l(u.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=Pe(e);null!==r&&Vu(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new l(u.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new l(u.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,p),p}(e._query,0,t,e.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Is(e.firestore,e._converter,function(e,t){var n=e.filters.concat([t]);return new Ee(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(Du),Lu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Qc=t,r.Wc=n,r.type="orderBy",r}return Object(a.b)(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new l(u.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new l(u.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ke(t,n);return function(e,t){if(null===Pe(e)){var n=Ne(e);null!==n&&Vu(e,n,t.field)}}(e,r),r}(e._query,this.Qc,this.Wc);return new Is(e.firestore,e._converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Ee(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(Du),ju=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Gc=n,i.zc=r,i}return Object(a.b)(t,e),t.prototype._apply=function(e){return new Is(e.firestore,e._converter,Fe(e._query,this.Gc,this.zc))},t}(Du),Ru=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return Object(a.b)(t,e),t.prototype._apply=function(e){var t=zu(e,this.type,this.Hc,this.Jc);return new Is(e.firestore,e._converter,function(e,t){return new Ee(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(Du),Fu=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return Object(a.b)(t,e),t.prototype._apply=function(e){var t=zu(e,this.type,this.Hc,this.Jc);return new Is(e.firestore,e._converter,function(e,t){return new Ee(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(Du);function zu(e,t,n,i){if(n[0]=Object(r.p)(n[0]),n[0]instanceof xu)return function(e,t,n,r,i){if(!r)throw new l(u.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=je(e);a<s.length;a++){var c=s[a];if(c.field.isKeyField())o.push(Z(t,r.key));else{var f=r.data.field(c.field);if(z(f))throw new l(u.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===f){var h=c.field.canonicalString();throw new l(u.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+h+"' (used as the orderBy) does not exist.")}o.push(f)}}return new xe(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,i);var o=nu(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new l(u.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],c=0;c<i.length;c++){var f=i[c];if(a[c].field.isKeyField()){if("string"!=typeof f)throw new l(u.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof f);if(!Le(e)&&-1!==f.indexOf("/"))throw new l(u.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+f+"' contains a slash.");var h=e.path.child(C.fromString(f));if(!W.isDocumentKey(h))throw new l(u.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+h+"' is not because it contains an odd number of segments.");var d=new W(h);s.push(Z(t,d))}else{var p=hu(n,r,f);s.push(p)}}return new xe(s,o)}(e._query,e.firestore._databaseId,o,t,n,i)}function Uu(e,t,n){if("string"==typeof(n=Object(r.p)(n))){if(""===n)throw new l(u.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Le(t)&&-1!==n.indexOf("/"))throw new l(u.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=t.path.child(C.fromString(n));if(!W.isDocumentKey(i))throw new l(u.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return Z(e,new W(i))}if(n instanceof Cs)return Z(e,n._key);throw new l(u.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Os(n)+".")}function qu(e,t){if(!Array.isArray(e)||0===e.length)throw new l(u.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new l(u.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Vu(e,t,n){if(!n.isEqual(t))throw new l(u.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Bu=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),Y(e)){case 0:return null;case 1:return e.booleanValue;case 2:return R(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(F(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw y()}},e.prototype.convertObject=function(e,t){var n=this,r={};return A(e.fields||{},(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new Xs(R(e.latitude),R(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=U(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(q(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=j(e);return new k(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=C.fromString(e);g(In(n));var r=new ds(n.get(1),n.get(3)),i=new W(n.popFirst(5));return r.isEqual(t)||d("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function Hu(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Wu=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Object(a.b)(t,e),t.prototype.convertBytes=function(e){return new Gs(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cs(this.firestore,null,t)},t}(Bu),Yu=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=nu(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=Gu(e,this._firestore),i=Hu(r._converter,t,n),o=ru(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,ut.none())),this},e.prototype.update=function(e,t,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];this._verifyNotCommitted();var a,s=Gu(e,this._firestore);return a="string"==typeof(t=Object(r.p)(t))||t instanceof Ys?fu(this._dataReader,"WriteBatch.update",s._key,t,n,i):cu(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(a.toMutation(s._key,ut.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=Gu(e,this._firestore);return this._mutations=this._mutations.concat(new Tt(t._key,ut.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new l(u.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function Gu(e,t){if((e=Object(r.p)(e)).firestore!==t)throw new l(u.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Ku=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Object(a.b)(t,e),t.prototype.convertBytes=function(e){return new Gs(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cs(this.firestore,null,t)},t}(Bu);function Xu(e,t,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];e=Ss(e,Cs);var a=Ss(e.firestore,qs),s=nu(a);return Ju(a,[("string"==typeof(t=Object(r.p)(t))||t instanceof Ys?fu(s,"updateDoc",e._key,t,n,i):cu(s,"updateDoc",e._key,t)).toMutation(e._key,ut.exists(!0))])}function Qu(e){for(var t,n,i,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];e=Object(r.p)(e);var u={includeMetadataChanges:!1},l=0;"object"!=typeof o[l]||Fs(o[l])||(u=o[l],l++);var c,f,h,d={includeMetadataChanges:u.includeMetadataChanges};if(Fs(o[l])){var p=o[l];o[l]=null===(t=p.next)||void 0===t?void 0:t.bind(p),o[l+1]=null===(n=p.error)||void 0===n?void 0:n.bind(p),o[l+2]=null===(i=p.complete)||void 0===i?void 0:i.bind(p)}if(e instanceof Cs)f=Ss(e.firestore,qs),h=Ce(e._key.path),c={next:function(t){o[l]&&o[l]($u(f,e,t))},error:o[l+1],complete:o[l+2]};else{var v=Ss(e,Is);f=Ss(v.firestore,qs),h=v._query;var y=new Ku(f);c={next:function(e){o[l]&&o[l](new Eu(f,y,v,e))},error:o[l+1],complete:o[l+2]},Iu(e._query)}return function(e,t,n,r){var i=this,o=new Qa(r),s=new na(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return Object(a.a)(i,void 0,void 0,(function(){var t;return Object(a.c)(this,(function(n){switch(n.label){case 0:return t=Jo,[4,ls(e)];case 1:return[2,t.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return Object(a.a)(i,void 0,void 0,(function(){var t;return Object(a.c)(this,(function(n){switch(n.label){case 0:return t=$o,[4,ls(e)];case 1:return[2,t.apply(void 0,[n.sent(),s])]}}))}))}))}}(Vs(f),h,d,c)}function Ju(e,t){return function(e,t){var n=this,r=new tr;return e.asyncQueue.enqueueAndForget((function(){return Object(a.a)(n,void 0,void 0,(function(){var n;return Object(a.c)(this,(function(i){switch(i.label){case 0:return n=ya,[4,us(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(Vs(e),t)}function $u(e,t,n){var r=n.docs.get(t._key),i=new Ku(e);return new Su(e,i,t._key,r,new Ou(n.hasPendingWrites,n.fromCache),t._converter)}var Zu=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return Object(a.b)(t,e),t.prototype.get=function(t){var n=this,r=Gu(t,this._firestore),i=new Ku(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new Su(n._firestore,i,r._key,e._document,new Ou(!1,!1),r._converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=nu(e)}return e.prototype.get=function(e){var t=this,n=Gu(e,this._firestore),r=new Wu(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return y();var i=e[0];if(i.isFoundDocument())return new xu(t._firestore,r,i.key,i,n._converter);if(i.isNoDocument())return new xu(t._firestore,r,n._key,null,n._converter);throw y()}))},e.prototype.set=function(e,t,n){var r=Gu(e,this._firestore),i=Hu(r._converter,t,n),o=ru(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a,s=Gu(e,this._firestore);return a="string"==typeof(t=Object(r.p)(t))||t instanceof Ys?fu(this._dataReader,"Transaction.update",s._key,t,n,i):cu(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,a),this},e.prototype.delete=function(e){var t=Gu(e,this._firestore);return this._transaction.delete(t._key),this},e}());function el(){if("undefined"==typeof Uint8Array)throw new l(u.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function tl(){if("undefined"==typeof atob)throw new l(u.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var nl=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return tl(),new e(Gs.fromBase64String(t))},e.fromUint8Array=function(t){return el(),new e(Gs.fromUint8Array(t))},e.prototype.toBase64=function(){return tl(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return el(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),rl=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){Ws(e=Ss(e,qs));var n=Vs(e),r=e._freezeSettings(),i=new Ka;return Hs(n,i,new Ya(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){Ws(e=Ss(e,qs));var t=Vs(e),n=e._freezeSettings(),r=new Ka;return Hs(t,r,new Ga(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new l(u.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new tr;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return Object(a.a)(t,void 0,void 0,(function(){var t;return Object(a.c)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return Object(a.a)(this,void 0,void 0,(function(){var t;return Object(a.c)(this,(function(n){switch(n.label){case 0:return ir.yt()?(t=e+"main",[4,ir.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(vi(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),il=function(){function e(e,t,n){var r=this;this._delegate=t,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof ds||(this.Xc=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){e.merge&&delete(e=Object.assign(Object.assign({},this._delegate._getSettings()),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t){!function(e,t,n){var r=(e=Ss(e,Ms))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==t&&p("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},r),{host:t+":"+n,ssl:!1}))}(this._delegate,e,t)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Object(a.a)(t,void 0,void 0,(function(){var t,n;return Object(a.c)(this,(function(r){switch(r.label){case 0:return[4,os(e)];case 1:return t=r.sent(),[4,ss(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=m(e);return t.$r.delete(0),bo(t)}(n))]}}))}))}))}(Vs(Ss(this._delegate,qs)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Object(a.a)(t,void 0,void 0,(function(){var t,n;return Object(a.c)(this,(function(r){switch(r.label){case 0:return[4,os(e)];case 1:return t=r.sent(),[4,ss(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return Object(a.a)(this,void 0,void 0,(function(){var t;return Object(a.c)(this,(function(n){switch(n.label){case 0:return(t=m(e)).$r.add(0),[4,_o(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Vs(Ss(this._delegate,qs)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&xs("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new tr;return e.asyncQueue.enqueueAndForget((function(){return Object(a.a)(t,void 0,void 0,(function(){var t;return Object(a.c)(this,(function(r){switch(r.label){case 0:return t=xa,[4,us(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Vs(Ss(this._delegate,qs)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new Qa(t);return e.asyncQueue.enqueueAndForget((function(){return Object(a.a)(n,void 0,void 0,(function(){var t;return Object(a.c)(this,(function(n){switch(n.label){case 0:return t=function(e,t){m(e).Gr.add(t),t.next()},[4,ls(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return Object(a.a)(n,void 0,void 0,(function(){var t;return Object(a.c)(this,(function(n){switch(n.label){case 0:return t=function(e,t){m(e).Gr.delete(t)},[4,ls(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(Vs(e=Ss(e,qs)),Fs(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Xc)throw new l(u.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new bl(this,Ps(this._delegate,e))}catch(e){throw fl(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new cl(this,Ns(this._delegate,e))}catch(e){throw fl(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new yl(this,function(e,t){if(e=Ss(e,Ms),_s("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new l(u.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Is(e,null,function(e){return new Ee(C.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw fl(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new tr;return e.asyncQueue.enqueueAndForget((function(){return Object(a.a)(n,void 0,void 0,(function(){var n;return Object(a.c)(this,(function(i){switch(i.label){case 0:return[4,function(e){return is(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new Za(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(Vs(e),(function(n){return t(new Zu(e,n))}))}(this._delegate,(function(n){return e(new sl(t,n))}))},e.prototype.batch=function(){var e=this;return Vs(this._delegate),new ul(new Yu(this._delegate,(function(t){return Ju(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new l(u.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new l(u.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),ol=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Object(a.b)(t,e),t.prototype.convertBytes=function(e){return new nl(new Gs(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return cl.Zc(t,this.firestore,null)},t}(Bu);function al(e){var t;t=e,c.setLogLevel(t)}var sl=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new ol(e)}return e.prototype.get=function(e){var t=this,n=_l(e);return this._delegate.get(n).then((function(e){return new pl(t._firestore,new Su(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n._converter))}))},e.prototype.set=function(e,t,n){var r=_l(e);return n?(ws("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=_l(e);return 2===arguments.length?this._delegate.update(s,t):(r=this._delegate).update.apply(r,Object(a.d)([s,t,n],i)),this},e.prototype.delete=function(e){var t=_l(e);return this._delegate.delete(t),this},e}(),ul=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=_l(e);return n?(ws("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=_l(e);return 2===arguments.length?this._delegate.update(s,t):(r=this._delegate).update.apply(r,Object(a.d)([s,t,n],i)),this},e.prototype.delete=function(e){var t=_l(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),ll=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new Au(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new vl(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.tu=function(t,n){var r=e.eu,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new ol(t),n),i.set(n,o)),o},e}();ll.eu=new WeakMap;var cl=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ol(e)}return e.nu=function(t,n,r){if(t.length%2!=0)throw new l(u.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Cs(n._delegate,r,new W(t)))},e.Zc=function(t,n,r){return new e(n,new Cs(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new bl(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new bl(this.firestore,Ps(this._delegate,e))}catch(e){throw fl(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=Object(r.p)(e))instanceof Cs&&Ls(this._delegate,e)},e.prototype.set=function(e,t){t=ws("DocumentReference.set",t);try{return function(e,t,n){e=Ss(e,Cs);var r=Ss(e.firestore,qs),i=Hu(e._converter,t,n);return Ju(r,[ru(nu(r),"setDoc",e._key,i,null!==e._converter,n).toMutation(e._key,ut.none())])}(this._delegate,e,t)}catch(e){throw fl(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Xu(this._delegate,e):Xu.apply(void 0,Object(a.d)([this._delegate,e,t],n))}catch(e){throw fl(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Ju(Ss((e=this._delegate).firestore,qs),[new Tt(e._key,ut.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=hl(t),i=dl(t,(function(t){return new pl(e.firestore,new Su(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))}));return Qu(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Ss(e,Cs);var t=Ss(e.firestore,qs),n=Vs(t),r=new Ku(t);return function(e,t){var n=this,r=new tr;return e.asyncQueue.enqueueAndForget((function(){return Object(a.a)(n,void 0,void 0,(function(){var n;return Object(a.c)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return Object(a.a)(this,void 0,void 0,(function(){var r,i;return Object(a.c)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=m(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new l(u.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Wo(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,as(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new Su(t,r,e._key,n,new Ou(null!==n&&n.hasLocalMutations,!0),e._converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Ss(e,Cs);var t=Ss(e.firestore,qs);return cs(Vs(t),e._key,{source:"server"}).then((function(n){return $u(t,e,n)}))}(this._delegate):function(e){e=Ss(e,Cs);var t=Ss(e.firestore,qs);return cs(Vs(t),e._key).then((function(n){return $u(t,e,n)}))}(this._delegate)).then((function(e){return new pl(t.firestore,new Su(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(ll.tu(this.firestore,t)):this._delegate.withConverter(null))},e}();function fl(e,t,n){return e.message=e.message.replace(t,n),e}function hl(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!Fs(r))return r}return{}}function dl(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Fs(e[0])?e[0]:Fs(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var pl=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new cl(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return Cu(this._delegate,e._delegate)},e}(),vl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.b)(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(pl),yl=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ol(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Pu(this._delegate,function(e,t,n){var r=t,i=ku("where",e);return new Nu(i,r,n)}(t,n,r)))}catch(t){throw fl(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Pu(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=ku("orderBy",e);return new Lu(r,n)}(t,n)))}catch(t){throw fl(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Pu(this._delegate,function(e){return As("limit",e),new ju("limit",e,"F")}(t)))}catch(t){throw fl(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Pu(this._delegate,function(e){return As("limitToLast",e),new ju("limitToLast",e,"L")}(t)))}catch(t){throw fl(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Pu(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Ru("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw fl(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Pu(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Ru("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw fl(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Pu(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Fu("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw fl(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Pu(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Fu("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw fl(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return js(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Ss(e,Is);var t=Ss(e.firestore,qs),n=Vs(t),r=new Ku(t);return function(e,t){var n=this,r=new tr;return e.asyncQueue.enqueueAndForget((function(){return Object(a.a)(n,void 0,void 0,(function(){var n;return Object(a.c)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return Object(a.a)(this,void 0,void 0,(function(){var r,i,o,s,u;return Object(a.c)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,Ci(e,t,!0)];case 1:return u=a.sent(),r=new la(t,u.Bn),i=r._o(u.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=a.sent(),u=Wo(s,"Failed to execute query '"+t+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,as(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new Eu(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Ss(e,Is);var t=Ss(e.firestore,qs),n=Vs(t),r=new Ku(t);return fs(n,e._query,{source:"server"}).then((function(n){return new Eu(t,r,e,n)}))}(this._delegate):function(e){e=Ss(e,Is);var t=Ss(e.firestore,qs),n=Vs(t),r=new Ku(t);return Iu(e._query),fs(n,e._query).then((function(n){return new Eu(t,r,e,n)}))}(this._delegate)).then((function(e){return new ml(t.firestore,new Eu(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=hl(t),i=dl(t,(function(t){return new ml(e.firestore,new Eu(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Qu(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(ll.tu(this.firestore,t)):this._delegate.withConverter(null))},e}(),gl=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new vl(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),ml=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new yl(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new vl(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new gl(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new vl(n._firestore,r))}))},e.prototype.isEqual=function(e){return Cu(this._delegate,e._delegate)},e}(),bl=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return Object(a.b)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new cl(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new cl(this.firestore,void 0===e?Ns(this._delegate):Ns(this._delegate,e))}catch(e){throw fl(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=Ss(e.firestore,qs),r=Ns(e),i=Hu(e._converter,t);return Ju(n,[ru(nu(e.firestore),"addDoc",r._key,i,null!==e._converter,{}).toMutation(r._key,ut.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new cl(t.firestore,e)}))},t.prototype.isEqual=function(e){return Ls(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(ll.tu(this.firestore,e)):this._delegate.withConverter(null))},t}(yl);function _l(e){return Ss(e,Cs)}var wl=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(Ys.bind.apply(Ys,Object(a.d)([void 0],e)))}return e.documentId=function(){return new e(D.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=Object(r.p)(e))instanceof Ys&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),xl=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new au("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new iu("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new su("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new uu("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new lu("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();function Tl(e){return function(e,t){var n=Vs(e=Ss(e,qs)),r=new zs;return function(e,t,n,r){var i=this,o=function(e,t){return function(e,t){return new Ja(e,t)}(function(e,t){if(e instanceof Uint8Array)return Xa(e,t);if(e instanceof ArrayBuffer)return Xa(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,co(t));e.asyncQueue.enqueueAndForget((function(){return Object(a.a)(i,void 0,void 0,(function(){var t;return Object(a.c)(this,(function(n){switch(n.label){case 0:return t=Ha,[4,us(e)];case 1:return t.apply(void 0,[n.sent(),o,r]),[2]}}))}))}))}(n,e._databaseId,t,r),r}(this._delegate,e)}function kl(e){var t,n,r=this;return(t=this._delegate,n=e,function(e,t){var n=this;return e.asyncQueue.enqueue((function(){return Object(a.a)(n,void 0,void 0,(function(){var n;return Object(a.c)(this,(function(r){switch(r.label){case 0:return n=function(e,t){var n=m(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Qe.getNamedQuery(e,t)}))},[4,as(e)];case 1:return[2,n.apply(void 0,[r.sent(),t])]}}))}))}))}(Vs(t=Ss(t,qs)),n).then((function(e){return e?new Is(t,null,e.query):null}))).then((function(e){return e?new yl(r,e):null}))}}).call(this,n(51))},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return A}));var r=n(32),i=n(1),o=n.n(i),a=(n(6),n(34)),s=n(65),u=n(31),l=n(11),c=n(66),f=n.n(c),h=(n(55),n(28)),d=(n(58),function(e){var t=Object(s.a)();return t.displayName=e,t}("Router-History")),p=function(e){var t=Object(s.a)();return t.displayName=e,t}("Router"),v=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(p.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.a.createElement(d.Provider,{children:this.props.children||null,value:this.props.history}))},t}(o.a.Component);o.a.Component;o.a.Component;var y={},g=0;function m(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,l=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=y[n]||(y[n]={});if(r[e])return r[e];var i=[],o={regexp:f()(e,i,t),keys:i};return g<1e4&&(r[e]=o,g++),o}(n,{end:o,strict:s,sensitive:l}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var c=u[0],h=u.slice(1),d=e===c;return o&&!d?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:d,params:a.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}),null)}var b=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(p.Consumer,null,(function(t){t||Object(u.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?m(n.pathname,e.props):t.match,i=Object(l.a)({},t,{location:n,match:r}),a=e.props,s=a.children,c=a.component,f=a.render;return Array.isArray(s)&&0===s.length&&(s=null),o.a.createElement(p.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:c?o.a.createElement(c,i):f?f(i):null:"function"===typeof s?s(i):null)}))},t}(o.a.Component);function _(e){return"/"===e.charAt(0)?e:"/"+e}function w(e,t){if(!e)return t;var n=_(e);return 0!==t.pathname.indexOf(n)?t:Object(l.a)({},t,{pathname:t.pathname.substr(n.length)})}function x(e){return"string"===typeof e?e:Object(a.e)(e)}function T(e){return function(){Object(u.a)(!1)}}function k(){}o.a.Component;var O=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(p.Consumer,null,(function(t){t||Object(u.a)(!1);var n,r,i=e.props.location||t.location;return o.a.Children.forEach(e.props.children,(function(e){if(null==r&&o.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?m(i.pathname,Object(l.a)({},e.props,{path:a})):t.match}})),r?o.a.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(o.a.Component);var S=o.a.useContext;function A(){return S(d)}},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return ir})),n.d(t,"b",(function(){return ar})),n.d(t,"c",(function(){return or})),n.d(t,"d",(function(){return sr})),n.d(t,"e",(function(){return ur})),n.d(t,"f",(function(){return lr})),n.d(t,"g",(function(){return nr})),n.d(t,"h",(function(){return rr}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var o,a="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},s=s||{},u=a||self;function l(){}function c(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function f(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var h="closure_uid_"+(1e9*Math.random()>>>0),d=0;function p(e,t,n){return e.call.apply(e.bind,arguments)}function v(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function y(e,t,n){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p:v).apply(null,arguments)}function g(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function m(){return Date.now()}function b(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Kb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function _(){this.j=this.j,this.i=this.i}_.prototype.j=!1,_.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(e){Object.prototype.hasOwnProperty.call(e,h)&&e[h]||(e[h]=++d)})(this)},_.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var w=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},x=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function T(e){return Array.prototype.concat.apply([],arguments)}function k(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function O(e){return/^[\s\xa0]*$/.test(e)}var S,A=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function E(e,t){return-1!=e.indexOf(t)}function M(e,t){return e<t?-1:e>t?1:0}e:{var C=u.navigator;if(C){var I=C.userAgent;if(I){S=I;break e}}S=""}function D(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function P(e){var t={};for(var n in e)t[n]=e[n];return t}var N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<N.length;o++)n=N[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function j(e){return j[" "](e),e}j[" "]=l;var R,F=E(S,"Opera"),z=E(S,"Trident")||E(S,"MSIE"),U=E(S,"Edge"),q=U||z,V=E(S,"Gecko")&&!(E(S.toLowerCase(),"webkit")&&!E(S,"Edge"))&&!(E(S,"Trident")||E(S,"MSIE"))&&!E(S,"Edge"),B=E(S.toLowerCase(),"webkit")&&!E(S,"Edge");function H(){var e=u.document;return e?e.documentMode:void 0}e:{var W="",Y=function(){var e=S;return V?/rv:([^\);]+)(\)|;)/.exec(e):U?/Edge\/([\d\.]+)/.exec(e):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):B?/WebKit\/(\S+)/.exec(e):F?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Y&&(W=Y?Y[1]:""),z){var G=H();if(null!=G&&G>parseFloat(W)){R=String(G);break e}}R=W}var K,X={};function Q(e){return function(e,t){var n=X;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=A(String(R)).split("."),r=A(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=M(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||M(0==a[2].length,0==s[2].length)||M(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(u.document&&z){var J=H();K=J||(parseInt(R,10)||void 0)}else K=void 0;var $=K,Z=!z||9<=Number($),ee=z&&!Q("9"),te=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",l,t),u.removeEventListener("test",l,t)}catch(n){}return e}();function ne(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function re(e,t){if(ne.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(V){e:{try{j(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ie[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}ne.prototype.b=function(){this.defaultPrevented=!0},b(re,ne);var ie={2:"touch",3:"pen",4:"mouse"};re.prototype.b=function(){re.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,ee)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var oe="closure_listenable_"+(1e6*Math.random()|0),ae=0;function se(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++ae,this.Y=this.Z=!1}function ue(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function le(e){this.src=e,this.a={},this.b=0}function ce(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=w(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ue(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function fe(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.ca==r)return i}return-1}le.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=fe(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new se(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var he="closure_lm_"+(1e6*Math.random()|0),de={};function pe(e,t,n,r,i){if(r&&r.once)return ye(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)pe(e,t[o],n,r,i);return null}return n=ke(n),e&&e[oe]?e.va(t,n,f(r)?!!r.capture:!!r,i):ve(e,t,n,!1,r,i)}function ve(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=f(i)?!!i.capture:!!i;if(a&&!Z)return null;var s=xe(e);if(s||(e[he]=s=new le(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=we,t=Z?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)te||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(be(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ye(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)ye(e,t[o],n,r,i);return null}return n=ke(n),e&&e[oe]?e.wa(t,n,f(r)?!!r.capture:!!r,i):ve(e,t,n,!0,r,i)}function ge(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)ge(e,t[o],n,r,i);else r=f(r)?!!r.capture:!!r,n=ke(n),e&&e[oe]?(e=e.c,(t=String(t).toString())in e.a&&(-1<(n=fe(o=e.a[t],n,r,i))&&(ue(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=xe(e))&&(t=e.a[t.toString()],e=-1,t&&(e=fe(t,n,r,i)),(n=-1<e?t[e]:null)&&me(n))}function me(e){if("number"!==typeof e&&e&&!e.Y){var t=e.src;if(t&&t[oe])ce(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(be(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=xe(t))?(ce(n,e),0==n.b&&(n.src=null,t[he]=null)):ue(e)}}}function be(e){return e in de?de[e]:de[e]="on"+e}function _e(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&me(e),n.call(r,t)}function we(e,t){if(e.Y)return!0;if(!Z){if(!t)e:{t=["window","event"];for(var n=u,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return _e(e,t=new re(t,this))}return _e(e,new re(t,this))}function xe(e){return(e=e[he])instanceof le?e:null}var Te="__closure_events_fn_"+(1e9*Math.random()>>>0);function ke(e){return"function"===typeof e?e:(e[Te]||(e[Te]=function(t){return e.handleEvent(t)}),e[Te])}function Oe(){_.call(this),this.c=new le(this),this.J=this,this.C=null}function Se(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,"string"===typeof t)t=new ne(t,e);else if(t instanceof ne)t.target=t.target||e;else{var i=t;L(t=new ne(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.a=n[o];i=Ae(a,r,!0,t)&&i}if(i=Ae(a=t.a=e,r,!0,t)&&i,i=Ae(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Ae(a=t.a=n[o],r,!1,t)&&i}function Ae(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&ce(e.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}b(Oe,_),Oe.prototype[oe]=!0,(o=Oe.prototype).addEventListener=function(e,t,n,r){pe(this,e,t,n,r)},o.removeEventListener=function(e,t,n,r){ge(this,e,t,n,r)},o.G=function(){if(Oe.X.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)ue(n[r]);delete t.a[e],t.b--}}this.C=null},o.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},o.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var Ee=u.JSON.stringify;function Me(){this.b=this.a=null}var Ce,Ie=new(function(){function e(e,t){this.c=e,this.f=t,this.b=0,this.a=null}return e.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},e}())((function(){return new Pe}),(function(e){e.reset()}));function De(){var e=Re,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Pe(){this.next=this.b=this.a=null}function Ne(e){u.setTimeout((function(){throw e}),0)}function Le(e,t){Ce||function(){var e=u.Promise.resolve(void 0);Ce=function(){e.then(Fe)}}(),je||(Ce(),je=!0),Re.add(e,t)}Me.prototype.add=function(e,t){var n=Ie.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Pe.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Pe.prototype.reset=function(){this.next=this.b=this.a=null};var je=!1,Re=new Me;function Fe(){for(var e;e=De();){try{e.a.call(e.b)}catch(n){Ne(n)}var t=Ie;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}je=!1}function ze(e,t){Oe.call(this),this.b=e||1,this.a=t||u,this.f=y(this.Za,this),this.g=m()}function Ue(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}function qe(e,t,n){if("function"===typeof e)n&&(e=y(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=y(e.handleEvent,e)}return 2147483647<Number(t)?-1:u.setTimeout(e,t||0)}function Ve(e){e.a=qe((function(){e.a=null,e.c&&(e.c=!1,Ve(e))}),e.h);var t=e.b;e.b=null,e.g.apply(null,t)}b(ze,Oe),(o=ze.prototype).aa=!1,o.M=null,o.Za=function(){if(this.aa){var e=m()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Se(this,"tick"),this.aa&&(Ue(this),this.start()))}},o.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=m())},o.G=function(){ze.X.G.call(this),Ue(this),delete this.a};var Be=function(e){function t(t,n){var r=e.call(this)||this;return r.g=t,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.f=function(e){this.b=arguments,this.a?this.c=!0:Ve(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(u.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(_);function He(e){_.call(this),this.b=e,this.a={}}b(He,_);var We=[];function Ye(e,t,n,r){Array.isArray(n)||(n&&(We[0]=n.toString()),n=We);for(var i=0;i<n.length;i++){var o=pe(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function Ge(e){D(e.a,(function(e,t){this.a.hasOwnProperty(t)&&me(e)}),e),e.a={}}function Ke(){this.a=!0}function Xe(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Ee(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}He.prototype.G=function(){He.X.G.call(this),Ge(this)},He.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ke.prototype.info=function(){};var Qe={},Je=null;function $e(){return Je=Je||new Oe}function Ze(e){ne.call(this,Qe.Fa,e)}function et(e){var t=$e();Se(t,new Ze(t,e))}function tt(e,t){ne.call(this,Qe.STAT_EVENT,e),this.stat=t}function nt(e){var t=$e();Se(t,new tt(t,e))}function rt(e){ne.call(this,Qe.Ga,e)}function it(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return u.setTimeout((function(){e()}),t)}Qe.Fa="serverreachability",b(Ze,ne),Qe.STAT_EVENT="statevent",b(tt,ne),Qe.Ga="timingevent",b(rt,ne);var ot={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},at={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function st(){}function ut(e){var t;return(t=e.a)||(t=e.a={}),t}function lt(){}st.prototype.a=null;var ct,ft={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function ht(){ne.call(this,"d")}function dt(){ne.call(this,"c")}function pt(){}function vt(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new He(this),this.P=yt,e=q?125:void 0,this.R=new ze(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}b(ht,ne),b(dt,ne),b(pt,st),ct=new pt;var yt=45e3,gt={},mt={};function bt(e,t,n){e.H=1,e.i=qt(Lt(t)),e.j=n,e.I=!0,_t(e,null)}function _t(e,t){e.u=m(),Tt(e),e.l=Lt(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),en(n.b,"t",r),e.D=0,e.a=Xn(e.g,e.g.C?t:null),0<e.O&&(e.F=new Be(y(e.Ca,e,e.a),e.O)),Ye(e.J,e.a,"readystatechange",e.Xa),t=e.B?P(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),et(1),function(e,t,n,r,i,o){e.info((function(){if(e.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");a=2<=f.length&&"type"==f[1]?a+(c+"=")+l+"&":a+(c+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.c,e.m,e.l,e.f,e.S,e.j)}function wt(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=xt(e,n);if(i==mt){4==t&&(e.h=4,nt(14),r=!1),Xe(e.c,e.f,null,"[Incomplete Response]");break}if(i==gt){e.h=4,nt(15),Xe(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}Xe(e.c,e.f,i,null),Et(e,i)}4==t&&0==n.length&&(e.h=1,nt(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,(t=e.g).a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),qn(t),t.F=!0,nt(11))):(Xe(e.c,e.f,n,"[Invalid Chunked Response]"),At(e),St(e))}function xt(e,t){var n=e.D,r=t.indexOf("\n",n);return-1==r?mt:(n=Number(t.substring(n,r)),isNaN(n)?gt:(r+=1)+n>t.length?mt:(t=t.substr(r,n),e.D=r+n,t))}function Tt(e){e.T=m()+e.P,kt(e,e.P)}function kt(e,t){if(null!=e.o)throw Error("WatchDog timer not null");e.o=it(y(e.Va,e),t)}function Ot(e){e.o&&(u.clearTimeout(e.o),e.o=null)}function St(e){0==e.g.v||e.A||Hn(e.g,e)}function At(e){Ot(e);var t=e.F;t&&"function"==typeof t.ja&&t.ja(),e.F=null,Ue(e.R),Ge(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function Et(e,t){try{var n=e.g;if(0!=n.v&&(n.a==e||un(n.b,e)))if(n.I=e.N,!e.C&&un(n.b,e)&&3==n.v){try{var r=n.ka.a.parse(t)}catch(g){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.j){if(n.a){if(!(n.a.u+3e3<e.u))break e;Bn(n),Dn(n)}Un(n),nt(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=it(y(n.Sa,n),6e3));if(1>=sn(n.b)&&n.ea){try{n.ea()}catch(g){}n.ea=void 0}}else Yn(n,11)}else if((e.C||n.a==e)&&Bn(n),!O(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(i=t[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"===typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var l=e.a;if(l){var c=l.a?l.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var f=u.b;!f.a&&(E(c,"spdy")||E(c,"quic")||E(c,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(ln(f,f.b),f.b=null))}if(u.A){var h=l.a?l.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(u.na=h,Ut(u.B,u.A,h))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=m()-e.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=e;if((u=n).la=Kn(u,u.C?u.ga:null,u.fa),d.C){cn(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(Ot(p),Tt(p)),u.a=d}else zn(u);0<n.g.length&&Ln(n)}else"stop"!=i[0]&&"close"!=i[0]||Yn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Yn(n,7):In(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);et(4)}catch(g){}}function Mt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(c(e)||"string"===typeof e)x(e,t,void 0);else{if(e.L&&"function"==typeof e.L)var n=e.L();else if(e.K&&"function"==typeof e.K)n=void 0;else if(c(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.K&&"function"==typeof e.K)return e.K();if("string"===typeof e)return e.split("");if(c(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Ct(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Ct)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function It(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Dt(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Dt(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Dt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(o=vt.prototype).setTimeout=function(e){this.P=e},o.Xa=function(e){e=e.target;var t=this.F;t&&3==An(e)?t.f():this.Ca(e)},o.Ca=function(e){try{if(e==this.a)e:{var t=An(this.a),n=this.a.ua(),r=this.a.W();if(!(3>t||3==t&&!q&&!this.a.$())){this.A||4!=t||7==n||et(8==n||0>=r?3:2),Ot(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,t,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(a)){var u=a;break t}}u=null}if(!u){this.b=!1,this.h=3,nt(12),At(this),St(this);break e}Xe(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Et(this,u)}this.I?(wt(this,t,o),q&&this.b&&3==t&&(Ye(this.J,this.R,"tick",this.Wa),this.R.start())):(Xe(this.c,this.f,o,null),Et(this,o)),4==t&&At(this),this.b&&!this.A&&(4==t?Hn(this.g,this):(this.b=!1,Tt(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,nt(12)):(this.h=0,nt(13)),At(this),St(this)}}}catch(l){}},o.Wa=function(){if(this.a){var e=An(this.a),t=this.a.$();this.D<t.length&&(Ot(this),wt(this,e,t),this.b&&4!=e&&Tt(this))}},o.cancel=function(){this.A=!0,At(this)},o.Va=function(){this.o=null;var e=m();0<=e-this.T?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.c,this.l),2!=this.H&&(et(3),nt(17)),At(this),this.h=2,St(this)):kt(this,this.T-e)},(o=Ct.prototype).K=function(){It(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},o.L=function(){return It(this),this.a.concat()},o.get=function(e,t){return Dt(this.b,e)?this.b[e]:t},o.set=function(e,t){Dt(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},o.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Pt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Nt(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof Nt){this.a=void 0!==t?t:e.a,jt(this,e.f),this.j=e.j,Rt(this,e.c),Ft(this,e.h),this.g=e.g,t=e.b;var n=new Qt;n.c=t.c,t.a&&(n.a=new Ct(t.a),n.b=t.b),zt(this,n),this.i=e.i}else e&&(n=String(e).match(Pt))?(this.a=!!t,jt(this,n[1]||"",!0),this.j=Vt(n[2]||""),Rt(this,n[3]||"",!0),Ft(this,n[4]),this.g=Vt(n[5]||"",!0),zt(this,n[6]||"",!0),this.i=Vt(n[7]||"")):(this.a=!!t,this.b=new Qt(null,this.a))}function Lt(e){return new Nt(e)}function jt(e,t,n){e.f=n?Vt(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Rt(e,t,n){e.c=n?Vt(t,!0):t}function Ft(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function zt(e,t,n){t instanceof Qt?(e.b=t,function(e,t){t&&!e.f&&(Jt(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&($t(this,t),en(this,n,e))}),e)),e.f=t}(e.b,e.a)):(n||(t=Bt(t,Kt)),e.b=new Qt(t,e.a))}function Ut(e,t,n){e.b.set(t,n)}function qt(e){return Ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^m()).toString(36)),e}function Vt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Bt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ht),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ht(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Nt.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Bt(t,Wt,!0),":");var n=this.c;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(Bt(t,Wt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(Bt(n,"/"==n.charAt(0)?Gt:Yt,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Bt(n,Xt)),e.join("")};var Wt=/[#\/\?@]/g,Yt=/[#\?:]/g,Gt=/[#\?]/g,Kt=/[#\?@]/g,Xt=/#/g;function Qt(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Jt(e){e.a||(e.a=new Ct,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function $t(e,t){Jt(e),t=tn(e,t),Dt(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Dt((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&It(e)))}function Zt(e,t){return Jt(e),t=tn(e,t),Dt(e.a.b,t)}function en(e,t,n){$t(e,t),0<n.length&&(e.c=null,e.a.set(tn(e,t),k(n)),e.b+=n.length)}function tn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(o=Qt.prototype).add=function(e,t){Jt(this),this.c=null,e=tn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},o.forEach=function(e,t){Jt(this),this.a.forEach((function(n,r){x(n,(function(n){e.call(t,n,r,this)}),this)}),this)},o.L=function(){Jt(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},o.K=function(e){Jt(this);var t=[];if("string"===typeof e)Zt(this,e)&&(t=T(t,this.a.get(tn(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=T(t,e[n])}return t},o.set=function(e,t){return Jt(this),this.c=null,Zt(this,e=tn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},o.get=function(e,t){return e&&0<(e=this.K(e)).length?String(e[0]):t},o.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var nn=function(e,t){this.b=e,this.a=t};function rn(e){this.g=e||on,u.PerformanceNavigationTiming?e=0<(e=u.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(u.ia&&u.ia.ya&&u.ia.ya()&&u.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var on=10;function an(e){return!!e.b||!!e.a&&e.a.size>=e.f}function sn(e){return e.b?1:e.a?e.a.size:0}function un(e,t){return e.b?e.b==t:!!e.a&&e.a.has(t)}function ln(e,t){e.a?e.a.add(t):e.b=t}function cn(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function fn(e){var t,n;if(null!=e.b)return e.c.concat(e.b.s);if(null!=e.a&&0!==e.a.size){var r=e.c;try{for(var o=i(e.a.values()),a=o.next();!a.done;a=o.next()){var s=a.value;r=r.concat(s.s)}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}return k(e.c)}function hn(){}function dn(){this.a=new hn}function pn(e,t,n){var r=n||"";try{Mt(e,(function(e,n){var i=e;f(e)&&(i=Ee(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function vn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}rn.prototype.cancel=function(){var e,t;if(this.c=fn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=i(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(o){e={error:o}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},hn.prototype.stringify=function(e){return u.JSON.stringify(e,void 0)},hn.prototype.parse=function(e){return u.JSON.parse(e,void 0)};var yn=u.JSON.parse;function gn(e){Oe.call(this),this.headers=new Ct,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=mn,this.D=this.F=!1}b(gn,Oe);var mn="",bn=/^https?$/i,_n=["POST","PUT"];function wn(e){return"content-type"==e.toLowerCase()}function xn(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,Tn(e),On(e)}function Tn(e){e.u||(e.u=!0,Se(e,"complete"),Se(e,"error"))}function kn(e){if(e.b&&"undefined"!=typeof s&&(!e.s[1]||4!=An(e)||2!=e.W()))if(e.l&&4==An(e))qe(e.za,0,e);else if(Se(e,"readystatechange"),4==An(e)){e.b=!1;try{var t,n=e.W();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.B).match(Pt)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!bn.test(o?o.toLowerCase():"")}t=i}if(t)Se(e,"complete"),Se(e,"success");else{e.h=6;try{var l=2<An(e)?e.a.statusText:""}catch(n){l=""}e.f=l+" ["+e.W()+"]",Tn(e)}}finally{On(e)}}}function On(e,t){if(e.a){Sn(e);var n=e.a,r=e.s[0]?l:null;e.a=null,e.s=null,t||Se(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Sn(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(u.clearTimeout(e.m),e.m=null)}function An(e){return e.a?e.a.readyState:0}function En(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return D(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ut(e,t,n))}function Mn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Cn(e){this.pa=0,this.g=[],this.c=new Ke,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Mn("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Mn("baseRetryDelayMs",5e3,e),this.Ra=Mn("retryDelaySeedMs",1e4,e),this.Ma=Mn("forwardChannelMaxRetries",2,e),this.ma=Mn("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new rn(e&&e.concurrentRequestLimit),this.ka=new dn,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function In(e){if(Pn(e),3==e.v){var t=e.R++,n=Lt(e.B);Ut(n,"SID",e.J),Ut(n,"RID",t),Ut(n,"TYPE","terminate"),Rn(e,n),(t=new vt(e,e.c,t,void 0)).H=2,t.i=qt(Lt(n)),n=!1,u.navigator&&u.navigator.sendBeacon&&(n=u.navigator.sendBeacon(t.i.toString(),"")),!n&&u.Image&&((new Image).src=t.i,n=!0),n||(t.a=Xn(t.g,null),t.a.ba(t.i)),t.u=m(),Tt(t)}Gn(e)}function Dn(e){e.a&&(qn(e),e.a.cancel(),e.a=null)}function Pn(e){Dn(e),e.j&&(u.clearTimeout(e.j),e.j=null),Bn(e),e.b.cancel(),e.h&&("number"===typeof e.h&&u.clearTimeout(e.h),e.h=null)}function Nn(e,t){e.g.push(new nn(e.Oa++,t)),3==e.v&&Ln(e)}function Ln(e){an(e.b)||e.h||(e.h=!0,Le(e.Ba,e),e.u=0)}function jn(e,t){var n;n=t?t.f:e.R++;var r=Lt(e.B);Ut(r,"SID",e.J),Ut(r,"RID",n),Ut(r,"AID",e.P),Rn(e,r),e.i&&e.l&&En(r,e.i,e.l),n=new vt(e,e.c,n,e.u+1),null===e.i&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=Fn(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),ln(e.b,n),bt(n,r,t)}function Rn(e,t){e.f&&Mt({},(function(e,n){Ut(t,n,e)}))}function Fn(e,t,n){n=Math.min(e.g.length,n);var r=e.f?y(e.f.Ja,e.f,e):null;e:for(var i=e.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var l=i[u].b,c=i[u].a;if(0>(l-=o))o=Math.max(0,i[u].b-100),s=!1;else try{pn(c,a,"req"+l+"_")}catch(f){r&&r(c)}}if(s){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function zn(e){e.a||e.j||(e.T=1,Le(e.Aa,e),e.o=0)}function Un(e){return!(e.a||e.j||3<=e.o)&&(e.T++,e.j=it(y(e.Aa,e),Wn(e,e.o)),e.o++,!0)}function qn(e){null!=e.s&&(u.clearTimeout(e.s),e.s=null)}function Vn(e){e.a=new vt(e,e.c,"rpc",e.T),null===e.i&&(e.a.B=e.l),e.a.O=0;var t=Lt(e.la);Ut(t,"RID","rpc"),Ut(t,"SID",e.J),Ut(t,"CI",e.H?"0":"1"),Ut(t,"AID",e.P),Rn(e,t),Ut(t,"TYPE","xmlhttp"),e.i&&e.l&&En(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=qt(Lt(t)),n.j=null,n.I=!0,_t(n,e)}function Bn(e){null!=e.m&&(u.clearTimeout(e.m),e.m=null)}function Hn(e,t){var n=null;if(e.a==t){Bn(e),qn(e),e.a=null;var r=2}else{if(!un(e.b,t))return;n=t.s,cn(e.b,t),r=1}if(e.I=t.N,0!=e.v)if(t.b)if(1==r){n=t.j?t.j.length:0,t=m()-t.u;var i=e.u;Se(r=$e(),new rt(r,n,t,i)),Ln(e)}else zn(e);else if(3==(i=t.h)||0==i&&0<e.I||!(1==r&&function(e,t){return!(sn(e.b)>=e.b.f-(e.h?1:0))&&(e.h?(e.g=t.s.concat(e.g),!0):!(1==e.v||2==e.v||e.u>=(e.La?0:e.Ma))&&(e.h=it(y(e.Ba,e,t),Wn(e,e.u)),e.u++,!0))}(e,t)||2==r&&Un(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:Yn(e,5);break;case 4:Yn(e,10);break;case 3:Yn(e,6);break;default:Yn(e,2)}}function Wn(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function Yn(e,t){if(e.c.info("Error code "+t),2==t){var n=null;e.f&&(n=null);var r=y(e.Ya,e);n||(n=new Nt("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||jt(n,"https"),qt(n)),function(e,t){var n=new Ke;if(u.Image){var r=new Image;r.onload=g(vn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=g(vn,n,r,"TestLoadImage: error",!1,t),r.onabort=g(vn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=g(vn,n,r,"TestLoadImage: timeout",!1,t),u.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else nt(2);e.v=0,e.f&&e.f.ra(t),Gn(e),Pn(e)}function Gn(e){e.v=0,e.I=-1,e.f&&(0==fn(e.b).length&&0==e.g.length||(e.b.c.length=0,k(e.g),e.g.length=0),e.f.qa())}function Kn(e,t,n){var r=function(e){return e instanceof Nt?Lt(e):new Nt(e,void 0)}(n);if(""!=r.c)t&&Rt(r,t+"."+r.c),Ft(r,r.h);else{var i=u.location;r=function(e,t,n,r){var i=new Nt(null,void 0);return e&&jt(i,e),t&&Rt(i,t),n&&Ft(i,n),r&&(i.g=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&D(e.V,(function(e,t){Ut(r,t,e)})),t=e.A,n=e.na,t&&n&&Ut(r,t,n),Ut(r,"VER",e.ha),Rn(e,r),r}function Xn(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new gn(e.Na)).F=e.C,t}function Qn(){}function Jn(){if(z&&!(10<=Number($)))throw Error("Environmental error: no available transport.")}function $n(e,t){Oe.call(this),this.a=new Cn(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!O(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!O(t)&&(this.a.A=t,null!==(e=this.b)&&t in e&&(t in(e=this.b)&&delete e[t])),this.f=new tr(this)}function Zn(e){ht.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function er(){dt.call(this),this.status=1}function tr(e){this.a=e}(o=gn.prototype).ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?ut(this.H):ut(ct),this.a.onreadystatechange=y(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(o){return void xn(this,o)}e=n||"";var i=new Ct(this.headers);r&&Mt(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=wn,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.L()),n=u.FormData&&e instanceof u.FormData,!(0<=w(_n,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Sn(this),0<this.o&&((this.D=function(e){return z&&Q(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=y(this.xa,this)):this.m=qe(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(o){xn(this,o)}},o.xa=function(){"undefined"!=typeof s&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Se(this,"timeout"),this.abort(8))},o.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,Se(this,"complete"),Se(this,"abort"),On(this))},o.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),On(this,!0)),gn.X.G.call(this)},o.za=function(){this.j||(this.A||this.l||this.g?kn(this):this.Ua())},o.Ua=function(){kn(this)},o.W=function(){try{return 2<An(this)?this.a.status:-1}catch(e){return-1}},o.$=function(){try{return this.a?this.a.responseText:""}catch(e){return""}},o.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),yn(t)}},o.ua=function(){return this.h},o.Qa=function(){return"string"===typeof this.f?this.f:String(this.f)},(o=Cn.prototype).ha=8,o.v=1,o.Ba=function(e){if(this.h)if(this.h=null,1==this.v){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t,n=new vt(this,this.c,e,void 0),r=this.l;if(this.O&&(r?L(r=P(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)e:{for(var i=t=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"===typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.g.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=Fn(this,n,t),Ut(i=Lt(this.B),"RID",e),Ut(i,"CVER",22),this.A&&Ut(i,"X-HTTP-Session-Id",this.A),Rn(this,i),this.i&&r&&En(i,this.i,r),ln(this.b,n),this.Ia&&Ut(i,"TYPE","init"),this.da?(Ut(i,"$req",t),Ut(i,"SID","null"),n.U=!0,bt(n,i,null)):bt(n,i,t),this.v=2}}else 3==this.v&&(e?jn(this,e):0==this.g.length||an(this.b)||jn(this))},o.Aa=function(){if(this.j=null,Vn(this),this.U&&!(this.F||null==this.a||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=it(y(this.Ta,this),e)}},o.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,nt(10),Dn(this),Vn(this))},o.Sa=function(){null!=this.m&&(this.m=null,Dn(this),Un(this),nt(19))},o.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),nt(2)):(this.c.info("Failed to ping google.com"),nt(1))},(o=Qn.prototype).ta=function(){},o.sa=function(){},o.ra=function(){},o.qa=function(){},o.Ja=function(){},Jn.prototype.a=function(e,t){return new $n(e,t)},b($n,Oe),$n.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;nt(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=Kn(e,null,e.fa),Ln(e)},$n.prototype.close=function(){In(this.a)},$n.prototype.h=function(e){if("string"===typeof e){var t={};t.__data__=e,Nn(this.a,t)}else this.l?((t={}).__data__=Ee(e),Nn(this.a,t)):Nn(this.a,e)},$n.prototype.G=function(){this.a.f=null,delete this.f,In(this.a),delete this.a,$n.X.G.call(this)},b(Zn,ht),b(er,dt),b(tr,Qn),tr.prototype.ta=function(){Se(this.a,"a")},tr.prototype.sa=function(e){Se(this.a,new Zn(e))},tr.prototype.ra=function(e){Se(this.a,new er(e))},tr.prototype.qa=function(){Se(this.a,"b")},Jn.prototype.createWebChannel=Jn.prototype.a,$n.prototype.send=$n.prototype.h,$n.prototype.open=$n.prototype.g,$n.prototype.close=$n.prototype.close,ot.NO_ERROR=0,ot.TIMEOUT=8,ot.HTTP_ERROR=6,at.COMPLETE="complete",lt.EventType=ft,ft.OPEN="a",ft.CLOSE="b",ft.ERROR="c",ft.MESSAGE="d",Oe.prototype.listen=Oe.prototype.va,gn.prototype.listenOnce=gn.prototype.wa,gn.prototype.getLastError=gn.prototype.Qa,gn.prototype.getLastErrorCode=gn.prototype.ua,gn.prototype.getStatus=gn.prototype.W,gn.prototype.getResponseJson=gn.prototype.Pa,gn.prototype.getResponseText=gn.prototype.$,gn.prototype.send=gn.prototype.ba;var nr=function(){return new Jn},rr=function(){return $e()},ir=ot,or=at,ar=Qe,sr={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},ur=lt,lr=gn}).call(this,n(52))},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},function(e,t,n){e.exports=n(132)},function(e,t,n){"use strict";var r=n(72),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function a(e){return"undefined"===typeof e}function s(e){return null!==e&&"object"===typeof e}function u(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===i.call(e)}function c(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:s,isPlainObject:u,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:l,isStream:function(e){return s(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:c,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],n);return t},extend:function(e,t,n){return c(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,n){"use strict";var r="Invariant failed";t.a=function(e,t){if(!e)throw new Error(r)}},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(26);function i(e,t,n){return(i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(r.a)(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return M})),n.d(t,"d",(function(){return I})),n.d(t,"c",(function(){return v})),n.d(t,"f",(function(){return y})),n.d(t,"e",(function(){return p}));var r=n(11);function i(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var a=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&i(e),u=t&&i(t),l=s||u;if(e&&i(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var c=a[a.length-1];n="."===c||".."===c||""===c}else n=!1;for(var f=0,h=a.length;h>=0;h--){var d=a[h];"."===d?o(a,h):".."===d?(o(a,h),f++):f&&(o(a,h),f--)}if(!l)for(;f--;f)a.unshift("..");!l||""===a[0]||a[0]&&i(a[0])||a.unshift("");var p=a.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var u=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=s(t),i=s(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},l=n(31);function c(e){return"/"===e.charAt(0)?e:"/"+e}function f(e){return"/"===e.charAt(0)?e.substr(1):e}function h(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function d(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function v(e,t,n,i){var o;"string"===typeof e?(o=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(o=Object(r.a)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function y(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&u(e.state,t.state)}function g(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var m=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}var _="popstate",w="hashchange";function x(){try{return window.history.state||{}}catch(e){return{}}}function T(e){void 0===e&&(e={}),m||Object(l.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,s=void 0!==a&&a,u=o.getUserConfirmation,f=void 0===u?b:u,y=o.keyLength,T=void 0===y?6:y,k=e.basename?d(c(e.basename)):"";function O(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return k&&(o=h(o,k)),v(o,r,n)}function S(){return Math.random().toString(36).substr(2,T)}var A=g();function E(e){Object(r.a)(U,e),U.length=t.length,A.notifyListeners(U.location,U.action)}function M(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||D(O(e.state))}function C(){D(O(x()))}var I=!1;function D(e){if(I)I=!1,E();else{A.confirmTransitionTo(e,"POP",f,(function(t){t?E({action:"POP",location:e}):function(e){var t=U.location,n=N.indexOf(t.key);-1===n&&(n=0);var r=N.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(I=!0,j(i))}(e)}))}}var P=O(x()),N=[P.key];function L(e){return k+p(e)}function j(e){t.go(e)}var R=0;function F(e){1===(R+=e)&&1===e?(window.addEventListener(_,M),i&&window.addEventListener(w,C)):0===R&&(window.removeEventListener(_,M),i&&window.removeEventListener(w,C))}var z=!1;var U={length:t.length,action:"POP",location:P,createHref:L,push:function(e,r){var i="PUSH",o=v(e,r,S(),U.location);A.confirmTransitionTo(o,i,f,(function(e){if(e){var r=L(o),a=o.key,u=o.state;if(n)if(t.pushState({key:a,state:u},null,r),s)window.location.href=r;else{var l=N.indexOf(U.location.key),c=N.slice(0,l+1);c.push(o.key),N=c,E({action:i,location:o})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",o=v(e,r,S(),U.location);A.confirmTransitionTo(o,i,f,(function(e){if(e){var r=L(o),a=o.key,u=o.state;if(n)if(t.replaceState({key:a,state:u},null,r),s)window.location.replace(r);else{var l=N.indexOf(U.location.key);-1!==l&&(N[l]=o.key),E({action:i,location:o})}else window.location.replace(r)}}))},go:j,goBack:function(){j(-1)},goForward:function(){j(1)},block:function(e){void 0===e&&(e=!1);var t=A.setPrompt(e);return z||(F(1),z=!0),function(){return z&&(z=!1,F(-1)),t()}},listen:function(e){var t=A.appendListener(e);return F(1),function(){F(-1),t()}}};return U}var k="hashchange",O={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+f(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:f,decodePath:c},slash:{encodePath:c,decodePath:c}};function S(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function A(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function E(e){window.location.replace(S(window.location.href)+"#"+e)}function M(e){void 0===e&&(e={}),m||Object(l.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,o=void 0===i?b:i,a=n.hashType,s=void 0===a?"slash":a,u=e.basename?d(c(e.basename)):"",f=O[s],y=f.encodePath,_=f.decodePath;function w(){var e=_(A());return u&&(e=h(e,u)),v(e)}var x=g();function T(e){Object(r.a)(U,e),U.length=t.length,x.notifyListeners(U.location,U.action)}var M=!1,C=null;function I(){var e,t,n=A(),r=y(n);if(n!==r)E(r);else{var i=w(),a=U.location;if(!M&&(t=i,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(C===p(i))return;C=null,function(e){if(M)M=!1,T();else{var t="POP";x.confirmTransitionTo(e,t,o,(function(n){n?T({action:t,location:e}):function(e){var t=U.location,n=L.lastIndexOf(p(t));-1===n&&(n=0);var r=L.lastIndexOf(p(e));-1===r&&(r=0);var i=n-r;i&&(M=!0,j(i))}(e)}))}}(i)}}var D=A(),P=y(D);D!==P&&E(P);var N=w(),L=[p(N)];function j(e){t.go(e)}var R=0;function F(e){1===(R+=e)&&1===e?window.addEventListener(k,I):0===R&&window.removeEventListener(k,I)}var z=!1;var U={length:t.length,action:"POP",location:N,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=S(window.location.href)),n+"#"+y(u+p(e))},push:function(e,t){var n="PUSH",r=v(e,void 0,void 0,U.location);x.confirmTransitionTo(r,n,o,(function(e){if(e){var t=p(r),i=y(u+t);if(A()!==i){C=t,function(e){window.location.hash=e}(i);var o=L.lastIndexOf(p(U.location)),a=L.slice(0,o+1);a.push(t),L=a,T({action:n,location:r})}else T()}}))},replace:function(e,t){var n="REPLACE",r=v(e,void 0,void 0,U.location);x.confirmTransitionTo(r,n,o,(function(e){if(e){var t=p(r),i=y(u+t);A()!==i&&(C=t,E(i));var o=L.indexOf(p(U.location));-1!==o&&(L[o]=t),T({action:n,location:r})}}))},go:j,goBack:function(){j(-1)},goForward:function(){j(1)},block:function(e){void 0===e&&(e=!1);var t=x.setPrompt(e);return z||(F(1),z=!0),function(){return z&&(z=!1,F(-1)),t()}},listen:function(e){var t=x.appendListener(e);return F(1),function(){F(-1),t()}}};return U}function C(e,t,n){return Math.min(Math.max(e,t),n)}function I(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,o=void 0===i?["/"]:i,a=t.initialIndex,s=void 0===a?0:a,u=t.keyLength,l=void 0===u?6:u,c=g();function f(e){Object(r.a)(_,e),_.length=_.entries.length,c.notifyListeners(_.location,_.action)}function h(){return Math.random().toString(36).substr(2,l)}var d=C(s,0,o.length-1),y=o.map((function(e){return v(e,void 0,"string"===typeof e?h():e.key||h())})),m=p;function b(e){var t=C(_.index+e,0,_.entries.length-1),r=_.entries[t];c.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var _={length:y.length,action:"POP",location:y[d],index:d,entries:y,createHref:m,push:function(e,t){var r="PUSH",i=v(e,t,h(),_.location);c.confirmTransitionTo(i,r,n,(function(e){if(e){var t=_.index+1,n=_.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),f({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=v(e,t,h(),_.location);c.confirmTransitionTo(i,r,n,(function(e){e&&(_.entries[_.index]=i,f({action:r,location:i}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=_.index+e;return t>=0&&t<_.entries.length},block:function(e){return void 0===e&&(e=!1),c.setPrompt(e)},listen:function(e){return c.appendListener(e)}};return _}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(13);n.d(t,"Globals",(function(){return r}));n(22)},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1),i="undefined"!==typeof window&&window.document&&window.document.createElement?r.useLayoutEffect:r.useEffect},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(13),i=n(7),o=function e(t,n,o){if(i.d.fun(t))return t;if(i.d.arr(t))return e({range:t,output:n,extrapolate:o});if(i.d.str(t.output[0]))return r.createStringInterpolator(t);var a=t,s=a.output,u=a.range||[0,1],l=a.extrapolateLeft||a.extrapolate||"extend",c=a.extrapolateRight||a.extrapolate||"extend",f=a.easing||function(e){return e};return function(e){var t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,u);return function(e,t,n,r,i,o,a,s,u){var l=u?u(e):e;if(l<t){if("identity"===a)return l;"clamp"===a&&(l=t)}if(l>n){if("identity"===s)return l;"clamp"===s&&(l=n)}if(r===i)return r;if(t===n)return e<=t?r:i;t===-1/0?l=-l:n===1/0?l-=t:l=(l-t)/(n-t);l=o(l),r===-1/0?l=-l:i===1/0?l+=r:l=l*(i-r)+r;return l}(e,u[t],u[t+1],s[t],s[t+1],f,l,c,a.map)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(1),i=n.n(r),o={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=i.a.createContext&&i.a.createContext(o),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function l(e){return e&&e.map((function(e,t){return i.a.createElement(e.tag,s({key:t},e.attr),l(e.child))}))}function c(e){return function(t){return i.a.createElement(f,s({attr:s({},e.attr)},t),l(e.child))}}function f(e){var t=function(t){var n,r=e.attr,o=e.size,a=e.title,l=u(e,["attr","size","title"]),c=o||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),i.a.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:n,style:s(s({color:e.color||t.color},t.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&i.a.createElement("title",null,a),e.children)};return void 0!==a?i.a.createElement(a.Consumer,null,(function(e){return t(e)})):t(o)}function h(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}}]})(e)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return a}));var r=n(1),i=function(e){return Object(r.useEffect)(e,[])},o=function(){var e=Object(r.useState)(0)[1],t=Object(r.useRef)(!1);return i((function(){return function(){t.current=!0}})),function(){t.current||e({})}};function a(e){var t=Object(r.useRef)(void 0);return Object(r.useEffect)((function(){t.current=e})),t.current}},function(e,t,n){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new c(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function l(e){this._index=e}function c(e,t){this._cursor=e,this._request=t}function f(e){this._store=e}function h(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new h(n)}function p(e){this._db=e}function v(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))}function y(e){return r(indexedDB,"deleteDatabase",[e])}o(l,"_index",["name","keyPath","multiEntry","unique"]),a(l,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(l,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(c,"_cursor",["direction","key","primaryKey","value"]),a(c,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(c.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new c(e,t._request)}))}))})})),f.prototype.createIndex=function(){return new l(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new l(this._store.index.apply(this._store,arguments))},o(f,"_store",["name","keyPath","indexNames","autoIncrement"]),a(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(f,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},o(h,"_tx",["objectStoreNames","mode"]),s(h,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[f,l].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[l,f].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=v,e.deleteDb=y,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(57);var i=n(49);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMaxDate=t.isMinDate=t.isValueType=void 0;var r,i=(r=n(6))&&r.__esModule?r:{default:r};function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s,u=[].concat(function(e){if(Array.isArray(e))return a(e)}(s=["century","decade","year","month"].slice(1))||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(s)||function(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),["day"]),l=i.default.oneOf(u);t.isValueType=l;t.isMinDate=function(e,t,n){var r=e[t];if(!r)return null;if(!(r instanceof Date))return new Error("Invalid prop `".concat(t,"` of type `").concat(o(r),"` supplied to `").concat(n,"`, expected instance of `Date`."));var i=e.maxDate;return i&&r>i?new Error("Invalid prop `".concat(t,"` of type `").concat(o(r),"` supplied to `").concat(n,"`, minDate cannot be larger than maxDate.")):null};t.isMaxDate=function(e,t,n){var r=e[t];if(!r)return null;if(!(r instanceof Date))return new Error("Invalid prop `".concat(t,"` of type `").concat(o(r),"` supplied to `").concat(n,"`, expected instance of `Date`."));var i=e.minDate;return i&&r<i?new Error("Invalid prop `".concat(t,"` of type `").concat(o(r),"` supplied to `").concat(n,"`, maxDate cannot be smaller than minDate.")):null}},function(e,t,n){"use strict";function r(){return Array.prototype.slice.call(arguments).reduce((function(e,t){return"string"===typeof t||Array.isArray(t)?e.concat(t):e}),[]).filter(Boolean).join(" ")}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(94)},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(57);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(119);var r,i=(r=n(120))&&r.__esModule?r:{default:r};n(131);var o=i.default;t.default=o},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,l=[],c=!1,f=-1;function h(){c&&u&&(c=!1,u.length?l=u.concat(l):f=-1,l.length&&d())}function d(){if(!c){var e=s(h);c=!0;for(var t=l.length;t;){for(u=l,l=[];++f<t;)u&&u[f].run();f=-1,t=l.length}u=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||c||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){return null!==e&&!1!==e&&!Number.isNaN(Number(e))}Object.defineProperty(t,"__esModule",{value:!0}),t.between=function(e,t,n){if(t&&t>e)return t;if(n&&n<e)return n;return e},t.safeMin=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Math.min.apply(Math,r(t.filter(o)))},t.safeMax=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Math.max.apply(Math,r(t.filter(o)))}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var r=n(13),i=function(e){return(0,r.requestAnimationFrame)(e)},o=function(e){void 0===e&&(e=i);var t=!0,n=!1,o=0,s=[],u=0,l=new Set,c=new Set,f=new Set,h=function(e){var t=s.indexOf(e);t<0&&(t=s.findIndex((function(t){return t.priority>e.priority})),s.splice(~t?t:s.length,0,e))},d=function n(){if(!t)try{y(),e(n)}catch(r){console.error(r)}},p=function(){t&&(t=!1,0==o&&(o=r.now(),e(d)))},v=[];this.setTimeout=function(e,t){var n=r.now()+t,i=a(v,(function(e){return e.time>n})),o={time:n,handler:e,cancel:function e(){var t=v.findIndex((function(t){return t.cancel==e}));t>=0&&v.splice(t,1)}};return v.splice(i,0,o),p(),o};var y=this.advance=function(){var e=r.now();if(l.size&&(l.forEach(h),l.clear()),v.length&&r.batchedUpdates((function(){var t=a(v,(function(t){return t.time>e}));v.splice(0,t).forEach((function(e){return e.handler()}))})),e>o){var t=Math.min(64,e-o);o=e,r.batchedUpdates((function(){s.length&&(r.willAdvance(s),s=s.filter((function(e){return u=e.priority,e.idle||e.advance(t),!e.idle})),u=0),c.size&&(c.forEach((function(t){return t(e)})),c.clear()),f.size&&(n=!0,f.forEach((function(t){return t(e)})),f.clear(),n=!1)}))}};this.start=function(e){u>e.priority?l.add(e):(h(e),p())},this.onFrame=function(e){c.add(e),p()},this.onWrite=function(e){n?e(o):f.add(e)}};function a(e,t){var n=e.findIndex(t);return n<0?e.length:n}}).call(this,n(51))},function(e,t,n){"use strict";e.exports=n(98)},function(e,t,n){"use strict";n.r(t),n.d(t,"getUserLocales",(function(){return o})),n.d(t,"getUserLocale",(function(){return a}));var r=n(67),i=n.n(r);var o=i()((function(){var e=[];return"undefined"!==typeof window&&(window.navigator.languages&&(e=e.concat(window.navigator.languages)),window.navigator.language&&e.push(window.navigator.language),window.navigator.userLanguage&&e.push(window.navigator.userLanguage),window.navigator.browserLanguage&&e.push(window.navigator.browserLanguage),window.navigator.systemLanguage&&e.push(window.navigator.systemLanguage)),e.push("en-US"),function(e){return e.map((function(e){if(!e||-1===e.indexOf("-")||e.toLowerCase()!==e)return e;var t=e.split("-");return"".concat(t[0],"-").concat(t[1].toUpperCase())}))}(e.filter((function(e,t,n){return n.indexOf(e)===t})))}));var a=i()((function(){return o()[0]}));t.default=a},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(55),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var l=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=c(n);f&&(a=a.concat(f(n)));for(var s=u(t),v=u(n),y=0;y<a.length;++y){var g=a[y];if(!o[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var m=h(n,g);try{l(t,g,m)}catch(b){}}}}return t}},function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};var i=n(22),o=n(40),a="[-+]?\\d*\\.?\\d+",s=a+"%";function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var l=new RegExp("rgb"+u(a,a,a)),c=new RegExp("rgba"+u(a,a,a,a)),f=new RegExp("hsl"+u(a,s,s)),h=new RegExp("hsla"+u(a,s,s,a)),d=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,p=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,v=/^#([0-9a-fA-F]{6})$/,y=/^#([0-9a-fA-F]{8})$/,g=n(13);function m(e,t,n){var r=(1-Math.abs(2*n-1))*t,i=n-r/2,o=function(e,t,n){return e<60?[t,n,0]:e<120?[n,t,0]:e<180?[0,t,n]:e<240?[0,n,t]:e<300?[n,0,t]:[t,0,n]}(e,r,r*(1-Math.abs(e/60%2-1))),a=o[0],s=o[1],u=o[2];return Math.round(255*(a+i))<<24|Math.round(255*(s+i))<<16|Math.round(255*(u+i))<<8}function b(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function _(e){return(parseFloat(e)%360+360)%360/360}function w(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function x(e){var t=parseFloat(e);return t<0?0:t>100?1:t/100}function T(e){var t=function(e){var t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=v.exec(e))?parseInt(t[1]+"ff",16)>>>0:g.colorNames&&void 0!==g.colorNames[e]?g.colorNames[e]:(t=l.exec(e))?(b(t[1])<<24|b(t[2])<<16|b(t[3])<<8|255)>>>0:(t=c.exec(e))?(b(t[1])<<24|b(t[2])<<16|b(t[3])<<8|w(t[4]))>>>0:(t=d.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=y.exec(e))?parseInt(t[1],16)>>>0:(t=p.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=f.exec(e))?(255|m(_(t[1]),x(t[2]),x(t[3])))>>>0:(t=h.exec(e))?(m(_(t[1]),x(t[2]),x(t[3]))|w(t[4]))>>>0:null}(e);return null===t?e:"rgba("+((4278190080&(t=t||0))>>>24)+", "+((16711680&t)>>>16)+", "+((65280&t)>>>8)+", "+(255&t)/255+")"}var k,O=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,S=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,A=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,E=function(e,t,n,r,i){return"rgba("+Math.round(t)+", "+Math.round(n)+", "+Math.round(r)+", "+i+")"},M=function(e){k||(k=g.colorNames?new RegExp("("+Object.keys(g.colorNames).join("|")+")","g"):/^\b$/);var t=e.output.map((function(e){return Object(i.c)(e).replace(S,T).replace(k,T)})),n=t.map((function(e){return e.match(O).map(Number)})),a=n[0].map((function(e,t){return n.map((function(e){if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]}))})).map((function(t){return Object(o.a)(r(r({},e),{output:t}))}));return function(e){var n=0;return t[0].replace(O,(function(){return String(a[n++](e))})).replace(A,E)}}},,function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,u=a(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))i.call(n,c)&&(u[c]=n[c]);if(r){s=r(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var i=l(n(1)),o=l(n(6)),a=l(n(46)),s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(125));function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}var c="undefined"!==typeof window&&"navigator"in window&&navigator.userAgent.match(/ Edge\/1/);function f(e){var t=e.target;c?requestAnimationFrame((function(){return t.select()})):t.select()}function h(e){return function(t){var n=t.key,r=t.target.value,i=!isNaN(parseInt(n,10)),o="undefined"===typeof window?null:window.getSelection().toString();i&&(o||r.length<e)||t.preventDefault()}}function d(e){var t=e.ariaLabel,n=e.autoFocus,r=e.className,o=e.disabled,u=e.itemRef,l=e.max,c=e.min,d=e.name,p=e.nameForClass,v=e.onChange,y=e.onKeyDown,g=e.onKeyUp,m=e.placeholder,b=void 0===m?"--":m,_=e.required,w=e.showLeadingZeros,x=e.step,T=e.value,k=w&&T&&T<10&&!T.toString().startsWith("0"),O=l?l.toString().length:null;return[k&&i.default.createElement("span",{key:"leadingZero",className:"".concat(r,"__leadingZero")},"0"),i.default.createElement("input",{key:"input","aria-label":t,autoComplete:"off",autoFocus:n,className:(0,a.default)("".concat(r,"__input"),"".concat(r,"__").concat(p||d),k&&"".concat(r,"__input--hasLeadingZero")),"data-input":"true",disabled:o,inputMode:"numeric",max:l,min:c,name:d,onChange:v,onFocus:f,onKeyDown:y,onKeyPress:h(O),onKeyUp:function(e){(0,s.default)(e.target),g&&g(e)},placeholder:b,ref:function(e){e&&((0,s.default)(e),function(e){if(document.fonts){var t=(0,s.getFontShorthand)(e);t&&(document.fonts.check(t)||document.fonts.addEventListener("loadingdone",(function(){(0,s.default)(e)})))}}(e)),u&&u(e,d)},required:_,step:x,type:"number",value:null!==T?T:""})]}d.propTypes={ariaLabel:o.default.string,autoFocus:o.default.bool,className:o.default.string.isRequired,disabled:o.default.bool,itemRef:o.default.func,max:o.default.number,min:o.default.number,name:o.default.string,nameForClass:o.default.string,onChange:o.default.func,onKeyDown:o.default.func,onKeyUp:o.default.func,placeholder:o.default.string,required:o.default.bool,showLeadingZeros:o.default.bool,step:o.default.number,value:o.default.string}},function(e,t,n){"use strict";n.d(t,"useSpring",(function(){return De}));var r=n(39),i=n(8),o=n(29),a=n.n(o),s=n(33),u=n(26),l=n(18),c=n(19),f=n(20),h=n(89),d=n(37),p=n(68),v=n(15),y=n(44),g=n(38),m=n(7),b=n(22),_=n(36),w=n(42),x=n(40),T=n(11),k=n(1),O=n(23),S=n(13),A=n(69),E=n(70),M=n(28),C=n(60);var I=Object(T.a)(Object(T.a)({},{tension:170,friction:26}),{},{mass:1,damping:1,easing:function(e){return e},clamp:!1}),D=function e(){Object(v.a)(this,e),this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,I)};function P(e,t){if(m.d.und(t.decay)){var n=!m.d.und(t.tension)||!m.d.und(t.friction);!n&&m.d.und(t.frequency)&&m.d.und(t.damping)&&m.d.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var N=[],L=function e(){Object(v.a)(this,e),this.changed=!1,this.values=N,this.toValues=null,this.fromValues=N,this.to=void 0,this.from=void 0,this.config=new D,this.immediate=!1,this.onStart=void 0,this.onChange=void 0,this.onRest=[]},j=function(e,t){return Object(A.b)(e,t||[{}])};function R(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return m.d.fun(e)?e.apply(void 0,n):e}var F=function(e,t){return!0===e||!!(t&&e&&(m.d.fun(e)?e(t):Object(m.h)(e).includes(t)))},z=function(e,t,n){return e&&(m.d.fun(e)?e(t,n):m.d.arr(e)?e[t]:Object(T.a)({},e))},U=function(e,t){return!0===e.default?e[t]:e.default?e.default[t]:void 0},q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=V;e.default&&!0!==e.default&&(e=e.default,r=Object.keys(e));var i,o=Object(p.a)(r);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=e[a];m.d.und(s)||t.includes(a)||(n[a]=s)}}catch(u){o.e(u)}finally{o.f()}return n},V=["pause","cancel","config","immediate","onDelayEnd","onProps","onStart","onChange","onRest"],B={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onDelayEnd:1,onProps:1,onStart:1,onChange:1,onRest:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,keys:1,callId:1,parentId:1};function H(e){var t=function(e){var t={},n=0;if(Object(m.b)(e,(function(e,r){B[r]||(t[r]=e,n++)})),n)return t}(e);if(t){var n={to:t};return Object(m.b)(e,(function(e,r){return r in t||(n[r]=e)})),n}return Object(T.a)({},e)}function W(e){var t=Object(b.b)(e);return t?W(t.get()):m.d.arr(e)?e.map(W):Object(m.e)(e)?Object(S.createStringInterpolator)({range:[0,1],output:[e,e]})(1):e}function Y(e,t){var n=t.key,r=t.props,i=t.state,o=t.actions;return new Promise((function(t,a){var s,u,l=!1,c=F(r.cancel,n);function f(){i.resumeQueue.add(h),u.cancel(),s=u.time-_.Globals.now()}function h(){s>0?(i.pauseQueue.add(f),u=_.Globals.frameLoop.setTimeout(d,s)):d()}function d(){i.pauseQueue.delete(f),e<=(i.cancelId||0)&&(c=!0);try{o.start(Object(T.a)(Object(T.a)({},r),{},{callId:e,delay:s,cancel:c,pause:l}),t)}catch(n){a(n)}}c?d():(s=R(r.delay||0,n),(l=F(r.pause,n))?(i.resumeQueue.add(h),o.pause()):(o.resume(),h()))}))}var G=function(e,t){return 1==t.length?t[0]:t.some((function(e){return e.cancelled}))?Q(e):t.every((function(e){return e.noop}))?K(e):X(e,t.every((function(e){return e.finished})))},K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.get();return{value:t,noop:!0,finished:!0,target:e}},X=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.get();return{value:n,finished:t,target:e}},Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.get();return{value:t,cancelled:!0,target:e}};function J(e,t,n,r){return $.apply(this,arguments)}function $(){return($=Object(d.a)(a.a.mark((function e(t,n,r,i){var o,s,u,l,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.pause){e.next=3;break}return e.next=3,new Promise((function(e){r.resumeQueue.add(e)}));case 3:if(o=n.callId,s=n.parentId,u=n.onRest,l=r.asyncTo,c=r.promise,s||t!==l||n.reset){e.next=7;break}return e.abrupt("return",c);case 7:return e.abrupt("return",r.promise=Object(d.a)(a.a.mark((function e(){var f,h,v,y,g,b,_,w;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.asyncId=o,r.asyncTo=t,f=q(n,["onRest"]),y=new Promise((function(e,t){return h=e,v=t})),g=function(e){var t=o<=(r.cancelId||0)&&Q(i)||o!==r.asyncId&&X(i,!1);if(t)throw e.result=t,e},b=function(e){return function(){var t=function(e){throw e instanceof ee&&v(e),e};try{return e.apply(void 0,arguments).catch(t)}catch(n){t(n)}}}((function(e,t){var n=new ee;g(n);var s=m.d.obj(e)?Object(T.a)({},e):Object(T.a)(Object(T.a)({},t),{},{to:e});return s.parentId=o,Object(m.b)(f,(function(e,t){m.d.und(s[t])&&(s[t]=e)})),i.start(s).then(function(){var e=Object(d.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g(n),!i.is("PAUSED")){e.next=4;break}return e.next=4,new Promise((function(e){r.resumeQueue.add(e)}));case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),e.prev=7,m.d.arr(t)?w=function(){var e=Object(d.a)(a.a.mark((function e(t){var n,r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(p.a)(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,b(i);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()(t):m.d.fun(t)&&(w=Promise.resolve(t(b,i.stop.bind(i)))),e.next=11,Promise.all([w.then(h),y]);case 11:_=X(i,!0),e.next=21;break;case 14:if(e.prev=14,e.t0=e.catch(7),!(e.t0 instanceof ee)){e.next=20;break}_=e.t0.result,e.next=21;break;case 20:throw e.t0;case 21:return e.prev=21,o==r.asyncId&&(r.asyncId=s,r.asyncTo=s?l:void 0,r.promise=s?c:void 0),e.finish(21);case 24:return m.d.fun(u)&&Object(S.batchedUpdates)((function(){u(_)})),e.abrupt("return",_);case 26:case"end":return e.stop()}}),e,null,[[7,14,21,24]])})))());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e,t){e.cancelId=t,e.asyncId=e.asyncTo=e.promise=void 0}var ee=function(e){Object(c.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(v.a)(this,n),(e=t.call(this,"An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")).result=void 0,e}return n}(Object(h.a)(Error)),te=function(e){return e instanceof re},ne=1,re=function(e){Object(c.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(v.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).id=ne++,e.key=void 0,e._priority=0,e._children=new Set,e}return Object(l.a)(n,[{key:"priority",get:function(){return this._priority},set:function(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}},{key:"get",value:function(){var e=Object(O.f)(this);return e&&e.getValue()}},{key:"to",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(S.to)(this,t)}},{key:"interpolate",value:function(){Object(E.a)();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(S.to)(this,t)}},{key:"addChild",value:function(e){this._children.size||this._attach(),this._children.add(e)}},{key:"removeChild",value:function(e){this._children.delete(e),this._children.size||this._detach()}},{key:"onParentChange",value:function(e){var t=e.type;this.idle?"start"==t&&(this._reset(),this._start()):"reset"==t&&this._reset()}},{key:"_attach",value:function(){}},{key:"_detach",value:function(){}},{key:"_reset",value:function(){this._emit({type:"reset",parent:this})}},{key:"_start",value:function(){this._emit({type:"start",parent:this})}},{key:"_onChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._emit({type:"change",parent:this,value:e,idle:t})}},{key:"_onPriorityChange",value:function(e){this.idle||S.frameLoop.start(this),this._emit({type:"priority",parent:this,priority:e})}},{key:"_emit",value:function(e){Object(m.b)(Array.from(this._children),(function(t){t.onParentChange(e)}))}}]),n}(b.a),ie="CREATED",oe="IDLE",ae="ACTIVE",se="PAUSED",ue="DISPOSED",le=function(e){Object(c.a)(n,e);var t=Object(f.a)(n);function n(e,r){var i;if(Object(v.a)(this,n),(i=t.call(this)).key=void 0,i.animation=new L,i.queue=void 0,i._phase=ie,i._state={pauseQueue:new Set,resumeQueue:new Set},i._defaultProps={},i._lastCallId=0,i._lastToId=0,!m.d.und(e)||!m.d.und(r)){var o=m.d.obj(e)?Object(T.a)({},e):Object(T.a)(Object(T.a)({},r),{},{from:e});o.default=!0,i.start(o)}return i}return Object(l.a)(n,[{key:"idle",get:function(){return!this.is(ae)&&!this._state.asyncTo}},{key:"goal",get:function(){return Object(b.c)(this.animation.to)}},{key:"velocity",get:function(){var e=Object(O.f)(this);return e instanceof O.d?e.lastVelocity||0:e.getPayload().map((function(e){return e.lastVelocity||0}))}},{key:"advance",value:function(e){var t=this,n=!0,r=!1,i=this.animation,o=i.config,a=i.toValues,s=Object(O.g)(i.to);if(!s){var u=Object(b.b)(i.to);u&&(a=Object(m.h)(u.get()))}return i.values.forEach((function(u,l){if(!u.done){var c=s?s[l].lastPosition:a[l],f=i.immediate,h=c;if(!f){if(h=u.lastPosition,o.tension<=0)return void(u.done=!0);var d,p=u.elapsedTime+=e,v=i.fromValues[l],y=null!=u.v0?u.v0:u.v0=m.d.arr(o.velocity)?o.velocity[l]:o.velocity;if(m.d.und(o.duration))if(o.decay){var g=!0===o.decay?.998:o.decay,b=Math.exp(-(1-g)*p);h=v+y/(1-g)*(1-b),f=Math.abs(u.lastPosition-h)<.1,d=y*b}else{d=null==u.lastVelocity?y:u.lastVelocity;for(var _=o.precision||(v==c?.005:Math.min(1,.001*Math.abs(c-v))),w=o.restVelocity||_/10,x=o.clamp?0:o.bounce,T=!m.d.und(x),k=v==c?u.v0>0:v<c,O=Math.ceil(e/1),S=0;S<O&&(Math.abs(d)>w||!(f=Math.abs(c-h)<=_));++S){T&&(h==c||h>c==k)&&(d=-d*x,h=c),h+=1*(d+=1*((1e-6*-o.tension*(h-c)+.001*-o.friction*d)/o.mass))}}else{var A=o.progress||0;o.duration<=0?A=1:A+=(1-A)*Math.min(1,p/o.duration),d=((h=v+o.easing(A)*(c-v))-u.lastPosition)/e,f=1==A}u.lastVelocity=d,Number.isNaN(h)&&(console.warn("Got NaN while animating:",t),f=!0)}s&&!s[l].done&&(f=!1),f?u.done=!0:n=!1,u.setValue(h,o.round)&&(r=!0)}})),n?this.finish():r&&this._onChange(this.get()),n}},{key:"is",value:function(e){return this._phase==e}},{key:"set",value:function(e){var t=this;return Object(S.batchedUpdates)((function(){if(t._focus(e),t._set(e)&&!t.is(ae))return t._onChange(t.get(),!0);t._stop()})),this}},{key:"pause",value:function(){ce(this,"pause"),this.is(se)||(this._phase=se,Object(m.c)(this._state.pauseQueue,(function(e){return e()})))}},{key:"resume",value:function(){ce(this,"resume"),this.is(se)&&(this._start(),Object(m.c)(this._state.resumeQueue,(function(e){return e()})))}},{key:"finish",value:function(e){var t=this;if(this.resume(),this.is(ae)){var n=this.animation;!n.config.decay&&m.d.und(e)&&(e=n.to),m.d.und(e)||this._set(e),Object(S.batchedUpdates)((function(){n.changed||(n.changed=!0,n.onStart&&n.onStart(t)),t._stop()}))}return this}},{key:"update",value:function(e){return ce(this,"update"),(this.queue||(this.queue=[])).push(e),this}},{key:"start",value:function(){var e=Object(d.a)(a.a.mark((function e(t,n){var r,i,o=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ce(this,"start"),m.d.und(t)?(r=this.queue||[],this.queue=[]):r=[m.d.obj(t)?t:Object(T.a)(Object(T.a)({},n),{},{to:t})],e.next=4,Promise.all(r.map((function(e){return o._update(e)})));case 4:return i=e.sent,e.abrupt("return",G(this,i));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"stop",value:function(e){var t=this;return this.is(ue)||(Z(this._state,this._lastCallId),this._focus(this.get()),Object(S.batchedUpdates)((function(){return t._stop(e)}))),this}},{key:"reset",value:function(){this._update({reset:!0})}},{key:"dispose",value:function(){this.is(ue)||(this.animation&&(this.animation.onRest=[]),this.stop(),this._phase=ue)}},{key:"onParentChange",value:function(e){Object(s.a)(Object(u.a)(n.prototype),"onParentChange",this).call(this,e),"change"==e.type?this.is(ae)||(this._reset(),this.is(se)||this._start()):"priority"==e.type&&(this.priority=e.priority+1)}},{key:"_prepareNode",value:function(e){var t=e.to,n=e.from,r=e.reverse,i=this.key||"",o={to:t=!m.d.obj(t)||Object(b.b)(t)?t:t[i],from:n=!m.d.obj(n)||Object(b.b)(n)?n:n[i]};if(this.is(ie)){if(r){var a=[n,t];t=a[0],n=a[1]}n=Object(b.c)(n);var s=this._updateNode(m.d.und(n)?Object(b.c)(t):n);s&&!m.d.und(n)&&s.setValue(n)}return o}},{key:"_updateNode",value:function(e){var t=Object(O.f)(this);if(!m.d.und(e)){var n=this._getNodeType(e);t&&t.constructor===n||Object(O.h)(this,t=n.create(e))}return t}},{key:"_getNodeType",value:function(e){var t=Object(O.f)(e);return t?t.constructor:m.d.arr(e)?O.a:Object(m.e)(e)?O.c:O.d}},{key:"_update",value:function(e,t){var n=this,r=this._defaultProps,i=function(t){var n=U(e,t);m.d.und(n)||(r[t]=n),r[t]&&(e[t]=r[t])};i("cancel"),i("pause");var o=this._prepareNode(e);return Y(++this._lastCallId,{key:this.key,props:e,state:this._state,actions:{pause:this.pause.bind(this),resume:this.resume.bind(this),start:this._merge.bind(this,o)}}).then((function(r){if(e.loop&&r.finished&&(!t||!r.noop)){var i=de(e);if(i)return n._update(i,!0)}return r}))}},{key:"_merge",value:function(e,t,n){if(t.cancel)return this.stop(!0),n(Q(this));var r=this.key,i=this.animation,o=this._defaultProps,a=!m.d.und(e.to),s=!m.d.und(e.from);if(a||s){if(!(t.callId>this._lastToId))return n(Q(this));this._lastToId=t.callId}var u=function(e){return m.d.und(t[e])?o[e]:t[e]},l=fe(u("onDelayEnd"),r);l&&l(t,this),t.default&&function(e,t,n){q(t,n,e)}(o,t,["pause","cancel"]);var c=i.to,f=i.from,h=e.to,d=void 0===h?c:h,p=e.from,v=void 0===p?f:p;if(s&&!a&&(d=v),t.reverse){var y=[v,d];d=y[0],v=y[1]}var g=!Object(m.f)(v,f);g&&(i.from=v);var _=!Object(m.f)(d,c);_&&this._focus(d);var w=Object(b.b)(d),x=Object(b.b)(v);x&&(v=x.get());var k=m.d.arr(t.to)||m.d.fun(t.to),A=i.config,E=A.decay,M=A.velocity;t.config&&!k&&function(e,t,n){for(var r in n&&(P(n=Object(T.a)({},n),t),t=Object(T.a)(Object(T.a)({},n),t)),P(e,t),Object.assign(e,t),I)null==e[r]&&(e[r]=I[r]);var i=e.mass,o=e.frequency,a=e.damping;m.d.und(o)||(o<.01&&(o=.01),a<0&&(a=0),e.tension=Math.pow(2*Math.PI/o,2)*i,e.friction=4*Math.PI*a*i/o)}(A,R(t.config,r),t.config!==o.config?R(o.config,r):void 0);var C=Object(O.f)(this);if(!C||m.d.und(d))return n(X(this,!0));var D=m.d.und(t.reset)?s&&!t.default:!m.d.und(v)&&F(t.reset,r),N=D?v:this.get(),L=W(d),j=m.d.num(L)||m.d.arr(L)||Object(m.e)(L),z=!k&&(!j||F(o.immediate||t.immediate,r));if(_)if(z)C=this._updateNode(L);else{var U=this._getNodeType(d);if(U!==C.constructor)throw Error("Cannot animate between "+C.constructor.name+" and "+U.name+', as the "to" prop suggests')}var V=C.constructor,B=!!w,H=!1;if(!B){var Y=D||this.is(ie)&&g;(_||Y)&&(B=!(H=Object(m.f)(W(N),L))),Object(m.f)(A.decay,E)&&Object(m.f)(A.velocity,M)||(B=!0)}if(H&&this.is(ae)&&(i.changed&&!D?B=!0:B||this._stop()),!k){(B||Object(b.b)(c))&&(i.values=C.getPayload(),i.toValues=w?null:V==O.c?[1]:Object(m.h)(L)),i.immediate=z,i.onStart=fe(u("onStart"),r),i.onChange=fe(u("onChange"),r);var G=i.onRest,$=D&&!t.onRest?G[0]||m.g:he(fe(u("onRest"),r),this);if(B){i.onRest=[$,he(n,this)];var Z=D?0:1;Z<G.length&&Object(S.batchedUpdates)((function(){for(;Z<G.length;Z++)G[Z]()}))}else(D||t.onRest)&&(i.onRest[0]=$)}var ee=fe(u("onProps"),r);ee&&ee(t,this),D&&C.setValue(N),k?n(J(t.to,t,this._state,this)):B?(D&&(this._phase=oe),this._reset(),this._start()):this.is(ae)&&!_?i.onRest.push(he(n,this)):n(K(this,N))}},{key:"_focus",value:function(e){var t=this.animation;if(e!==t.to){var n=Object(b.b)(t.to);n&&n.removeChild(this),t.to=e;var r=0;(n=Object(b.b)(e))&&(n.addChild(this),te(e)&&(r=(e.priority||0)+1)),this.priority=r}}},{key:"_set",value:function(e){var t=Object(b.b)(e);t&&(e=t.get());var n=Object(O.f)(this),r=n&&n.getValue();return n?n.setValue(e):this._updateNode(e),!Object(m.f)(e,r)}},{key:"_onChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.animation;r.changed||t||(r.changed=!0,r.onStart&&r.onStart(this)),r.onChange&&r.onChange(e,this),Object(s.a)(Object(u.a)(n.prototype),"_onChange",this).call(this,e,t)}},{key:"_reset",value:function(){var e=this.animation;Object(O.f)(this).reset(e.to),this.is(ae)||(e.changed=!1),e.immediate||(e.fromValues=e.values.map((function(e){return e.lastPosition}))),Object(s.a)(Object(u.a)(n.prototype),"_reset",this).call(this)}},{key:"_start",value:function(){this.is(ae)||(this._phase=ae,Object(s.a)(Object(u.a)(n.prototype),"_start",this).call(this),S.skipAnimation?this.finish():S.frameLoop.start(this))}},{key:"_stop",value:function(e){if(this.resume(),this.is(ae)){this._phase=oe,this._onChange(this.get(),!0);var t=this.animation;Object(m.b)(t.values,(function(e){e.done=!0}));var n=t.onRest;n.length&&(t.onRest=[t.toValues?m.g:n[0]],t.changed||(n[0]=m.g),Object(m.b)(n,(function(t){return t(e)})))}}}]),n}(re);function ce(e,t){if(e.is(ue))throw Error('Cannot call "'+t+'" of disposed "'+e.constructor.name+'" object')}function fe(e,t){return m.d.fun(e)?e:t&&e?e[t]:void 0}var he=function(e,t){var n=t.animation.to;return e?function(r){if(r)e(Q(t));else{var i=W(n),o=W(t.get()),a=Object(m.f)(o,i);e(X(t,a))}}:m.g};function de(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.to,r=R(t);if(r){var i=!0!==r&&H(r),o=(i||e).reverse,a=!i||i.reset;return pe(Object(T.a)(Object(T.a)({},e),{},{loop:t,default:!1,to:!o||m.d.arr(n)||m.d.fun(n)?n:void 0,from:a?e.from:void 0,reset:a},i))}}function pe(e){var t=e=H(e),n=t.to,r=t.from,i=new Set;return r?ye(r,i):delete e.from,m.d.obj(n)?ye(n,i):n||delete e.to,e.keys=i.size?Array.from(i):null,e}function ve(e){var t=pe(e);return m.d.und(t.default)&&(t.default=q(t,[!0===t.immediate&&"immediate"])),t}function ye(e,t){Object(m.b)(e,(function(e,n){return null!=e&&t.add(n)}))}var ge=["onStart","onChange","onRest"],me=1,be=function(){function e(t,n){Object(v.a)(this,e),this.id=me++,this.springs={},this.queue=[],this._flush=void 0,this._initialProps=void 0,this._phase=ie,this._lastAsyncId=0,this._active=new Set,this._state={pauseQueue:new Set,resumeQueue:new Set},this._events={onStart:new Set,onChange:new Set,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),t&&this.start(t)}return Object(l.a)(e,[{key:"idle",get:function(){return!this._state.asyncTo&&Object.values(this.springs).every((function(e){return e.idle}))}},{key:"is",value:function(e){return this._phase==e}},{key:"get",value:function(){var e={};return this.each((function(t,n){return e[n]=t.get()})),e}},{key:"update",value:function(e){return e&&this.queue.push(pe(e)),this}},{key:"start",value:function(e){var t=e?Object(m.h)(e).map(pe):this.queue;return e||(this.queue=[]),this._flush?this._flush(this,t):(Se(this,t),_e(this,t))}},{key:"stop",value:function(e){if(m.d.und(e))this.each((function(e){return e.stop()})),Z(this._state,this._lastAsyncId);else{var t=this.springs;Object(m.b)(Object(m.h)(e),(function(e){return t[e].stop()}))}return this}},{key:"pause",value:function(e){if(m.d.und(e))this.each((function(e){return e.pause()}));else{var t=this.springs;Object(m.b)(Object(m.h)(e),(function(e){return t[e].pause()}))}return this}},{key:"resume",value:function(e){if(m.d.und(e))this.each((function(e){return e.resume()}));else{var t=this.springs;Object(m.b)(Object(m.h)(e),(function(e){return t[e].resume()}))}return this}},{key:"reset",value:function(){return this.each((function(e){return e.reset()})),this}},{key:"each",value:function(e){Object(m.b)(this.springs,e)}},{key:"dispose",value:function(){this._state.asyncTo=void 0,this.each((function(e){return e.dispose()})),this.springs={}}},{key:"_onFrame",value:function(){var e=this,t=this._events,n=t.onStart,r=t.onChange,o=t.onRest,a=this._active.size>0;a&&this._phase!=ae&&(this._phase=ae,Object(m.c)(n,(function(t){return t(e)})));var s=(r.size||!a&&o.size)&&this.get();Object(m.c)(r,(function(e){return e(s)})),a||(this._phase=oe,Object(m.c)(o,(function(e){var t=Object(i.a)(e,2),n=t[0],r=t[1];r.value=s,n(r)})))}},{key:"onParentChange",value:function(e){"change"==e.type&&(this._active[e.idle?"delete":"add"](e.parent),S.frameLoop.onFrame(this._onFrame))}}]),e}();function _e(e,t){return Promise.all(t.map((function(t){return we(e,t)}))).then((function(t){return G(e,t)}))}function we(e,t,n){var r=t.to,i=t.loop,o=t.onRest;i&&(t.loop=!1);var a=m.d.arr(r)||m.d.fun(r)?r:void 0;a?(t.to=void 0,t.onRest=void 0):Object(m.b)(ge,(function(n){var r=t[n];if(m.d.fun(r)){var i=e._events[n];i instanceof Set?t[n]=function(){return i.add(r)}:t[n]=function(e){var t=e.finished,n=e.cancelled,o=i.get(r);o?(t||(o.finished=!1),n&&(o.cancelled=!0)):i.set(r,{value:null,finished:t,cancelled:n})}}}));var s=(t.keys||Object.keys(e.springs)).map((function(n){return e.springs[n].start(t)})),u=e._state;return a?s.push(Y(++e._lastAsyncId,{props:t,state:u,actions:{pause:m.g,resume:m.g,start:function(t,n){t.onRest=o,t.cancel?function(e,t){return!m.d.und(U(e,t))}(t,"cancel")&&Z(u,t.callId):n(J(a,t,u,e))}}})):t.keys||!0!==t.cancel||Z(u,e._lastAsyncId),Promise.all(s).then((function(o){var a=G(e,o);if(i&&a.finished&&(!n||!a.noop)){var s=de(t,i,r);if(s)return Se(e,[s]),we(e,s,!0)}return a}))}function xe(e,t){var n=Object(T.a)({},e.springs);return t&&Object(m.b)(Object(m.h)(t),(function(e){m.d.und(e.keys)&&(e=pe(e)),m.d.obj(e.to)||(e=Object(T.a)(Object(T.a)({},e),{},{to:void 0})),Oe(n,e,(function(e){return ke(e)}))})),n}function Te(e,t){Object(m.b)(t,(function(t,n){e.springs[n]||(e.springs[n]=t,t.addChild(e))}))}function ke(e,t){var n=new le;return n.key=e,t&&n.addChild(t),n}function Oe(e,t,n){t.keys&&Object(m.b)(t.keys,(function(r){(e[r]||(e[r]=n(r)))._prepareNode(t)}))}function Se(e,t){Object(m.b)(t,(function(t){Oe(e.springs,t,(function(t){return ke(t,e)}))}))}var Ae=Object(k.createContext)({}),Ee=function(e){var t=e.children,n=Object(M.a)(e,["children"]),r=Object(k.useContext)(Ae);n=j((function(){return Object(T.a)(Object(T.a)({},r),n)}),[r,n.pause,n.cancel,n.immediate,n.config]);var i=Ae.Provider;return Object(k.createElement)(i,{value:n},t)};Ee.Provider=Ae.Provider,Ee.Consumer=Ae.Consumer;var Me=function(){return Object(k.useContext)(Ae)},Ce=function(e){return{get controllers(){return e()},update:function(t){return Object(m.b)(e(),(function(e,n){e.update(z(t,n,e))})),this},start:function(t){return Object(d.a)(a.a.mark((function n(){var r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all(e().map((function(e,n){var r=z(t,n,e);return e.start(r)})));case 2:return r=n.sent,n.abrupt("return",{value:r.map((function(e){return e.value})),finished:r.every((function(e){return e.finished}))});case 4:case"end":return n.stop()}}),n)})))()},stop:function(t){return Object(m.b)(e(),(function(e){return e.stop(t)}))},pause:function(t){return Object(m.b)(e(),(function(e){return e.pause(t)}))},resume:function(t){return Object(m.b)(e(),(function(e){return e.resume(t)}))}}};function Ie(e,t,n){var r=m.d.fun(t)&&t;r&&!n&&(n=[]);var o=Object(k.useRef)(0),a=Object(w.a)(),s=Object(k.useState)((function(){return{ctrls:[],queue:[],flush:function(e,t){var n=xe(e,t);return o.current>0&&!l.queue.length&&!Object.keys(n).some((function(t){return!e.springs[t]}))?_e(e,t):new Promise((function(r){Te(e,n),l.queue.push((function(){r(_e(e,t))})),a()}))}}})),u=Object(i.a)(s,1),l=u[0],c=Object(k.useRef)(),f=Object(y.a)(l.ctrls),h=[],d=Object(w.c)(e)||0,p=f.slice(e,d);function v(e,n){for(var i=e;i<n;i++){var o=f[i]||(f[i]=new be(null,l.flush)),a=r?r(i,o):t[i];a&&(a=h[i]=ve(a),0==i&&(c.current=a.ref,a.ref=void 0))}}j((function(){f.length=e,v(d,e)}),[e]),j((function(){v(0,Math.min(d,e))}),n);var b=Object(k.useMemo)((function(){return Ce((function(){return l.ctrls}))}),[]),_=f.map((function(e,t){return xe(e,h[t])})),x=Me();Object(g.a)((function(){o.current++,l.ctrls=f,c.current&&(c.current.current=b);var e=l.queue;e.length&&(l.queue=[],Object(m.b)(e,(function(e){return e()}))),Object(m.b)(p,(function(e){return e.dispose()})),Object(m.b)(f,(function(e,t){Te(e,_[t]),e.start({default:x});var n=h[t];n&&(c.current?e.queue.push(n):e.start(n))}))})),Object(w.b)((function(){return function(){Object(m.b)(l.ctrls,(function(e){return e.dispose()}))}}));var O=_.map((function(e){return Object(T.a)({},e)}));return r||3==arguments.length?[O,b.start,b.stop]:O}function De(e,t){var n=m.d.fun(e),r=Ie(1,n?e:[e],n?t||[]:t),o=Object(i.a)(r,3),a=Object(i.a)(o[0],1),s=a[0],u=o[1],l=o[2];return n||2==arguments.length?[s,u,l]:s}var Pe=function(e){Object(c.a)(n,e);var t=Object(f.a)(n);function n(e,i){var o;Object(v.a)(this,n),(o=t.call(this)).source=e,o.key=void 0,o.idle=!0,o.calc=void 0,o.calc=x.a.apply(void 0,Object(y.a)(i));var a=o._get(),s=m.d.arr(a)?O.a:O.d;return Object(O.h)(Object(r.a)(o),s.create(a)),o}return Object(l.a)(n,[{key:"advance",value:function(e){var t=this._get(),n=this.get();Object(m.f)(t,n)||(Object(O.f)(this).setValue(t),this._onChange(t,this.idle))}},{key:"_get",value:function(){var e=m.d.arr(this.source)?this.source.map((function(e){return e.get()})):Object(m.h)(this.source.get());return this.calc.apply(this,Object(y.a)(e))}},{key:"_reset",value:function(){Object(m.b)(Object(O.g)(this),(function(e){return e.reset()})),Object(s.a)(Object(u.a)(n.prototype),"_reset",this).call(this)}},{key:"_start",value:function(){this.idle=!1,Object(s.a)(Object(u.a)(n.prototype),"_start",this).call(this),S.skipAnimation?(this.idle=!0,this.advance()):S.frameLoop.start(this)}},{key:"_attach",value:function(){var e=this,t=!0,n=1;Object(m.b)(Object(m.h)(this.source),(function(r){te(r)&&(r.idle||(t=!1),n=Math.max(n,r.priority+1)),r.addChild(e)})),this.priority=n,t||(this._reset(),this._start())}},{key:"_detach",value:function(){var e=this;Object(m.b)(Object(m.h)(this.source),(function(t){t.removeChild(e)})),this.idle=!0}},{key:"onParentChange",value:function(e){"start"==e.type?this.advance():"change"==e.type?this.idle?this.advance():e.idle&&(this.idle=Object(m.h)(this.source).every((function(e){return!1!==e.idle})),this.idle&&(this.advance(),Object(m.b)(Object(O.g)(this),(function(e){e.done=!0})))):"priority"==e.type&&(this.priority=Object(m.h)(this.source).reduce((function(e,t){return Math.max(e,(t.priority||0)+1)}),0)),Object(s.a)(Object(u.a)(n.prototype),"onParentChange",this).call(this,e)}}]),n}(re);_.Globals.assign({createStringInterpolator:C.a,to:function(e,t){return new Pe(e,t)}})},function(e,t,n){"use strict";(function(e){var r=n(1),i=n.n(r),o=n(32),a=n(6),s=n.n(a),u=1073741823,l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};function c(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var f=i.a.createContext||function(e,t){var n,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return l[e]=(l[e]||0)+1}()+"__",f=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=c(t.props.value),t}Object(o.a)(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof t?t(r,i):u,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},r.render=function(){return this.props.children},n}(r.Component);f.childContextTypes=((n={})[a]=s.a.object.isRequired,n);var h=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(o.a)(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?u:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?u:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return h.contextTypes=((i={})[a]=s.a.object,i),{Provider:f,Consumer:h}};t.a=f}).call(this,n(52))},function(e,t,n){var r=n(101);e.exports=d,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",c=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(s+=e.slice(a,d),a=d+f.length,h)s+=h[1];else{var p=e[a],v=n[2],y=n[3],g=n[4],m=n[5],b=n[6],_=n[7];s&&(r.push(s),s="");var w=null!=v&&null!=p&&p!==v,x="+"===b||"*"===b,T="?"===b||"*"===b,k=n[2]||c,O=g||m;r.push({name:y||o++,prefix:v||"",delimiter:k,optional:T,repeat:x,partial:w,asterisk:!!_,pattern:O?l(O):_?".*":"[^"+u(k)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var o="",s=t||{},u=(i||{}).pretty?a:encodeURIComponent,l=0;l<e.length;l++){var c=e[l];if("string"!==typeof c){var f,h=s[c.name];if(null==h){if(c.optional){c.partial&&(o+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(r(h)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=u(h[d]),!n[l].test(f))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(0===d?c.prefix:c.delimiter)+f}}else{if(f=c.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(h),!n[l].test(f))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+f+'"');o+=c.prefix+f}}else o+=c}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function c(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var l=e[s];if("string"===typeof l)a+=u(l);else{var h=u(l.prefix),d="(?:"+l.pattern+")";t.push(l),l.repeat&&(d+="(?:"+h+d+")*"),a+=d=l.optional?l.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=u(n.delimiter||"/"),v=a.slice(-p.length)===p;return i||(a=(v?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&v?"":"(?="+p+"|$)",c(new RegExp("^"+a,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return c(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(o(e,n),t,n)}(e,t,n)}},function(e,t){var n=1/0,r=17976931348623157e292,i=NaN,o="[object Symbol]",a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,f=Object.prototype.toString;function h(e,t){var h;if("function"!=typeof t)throw new TypeError("Expected a function");return e=function(e){var t=function(e){if(!e)return 0===e?e:0;if((e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&f.call(e)==o}(e))return i;if(d(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=d(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=u.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):s.test(e)?i:+e}(e))===n||e===-1/0){return(e<0?-1:1)*r}return e===e?e:0}(e),h=t%1;return t===t?h?t-h:t:0}(e),function(){return--e>0&&(h=t.apply(this,arguments)),e<=1&&(t=void 0),h}}function d(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){return h(2,e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(49);function i(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(r.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n(1);function i(e,t){var n=Object(r.useState)((function(){return{inputs:t,result:e()}}))[0],i=Object(r.useRef)(!0),o=Object(r.useRef)(n),a=i.current||Boolean(t&&o.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,o.current.inputs))?o.current:{inputs:t,result:e()};return Object(r.useEffect)((function(){i.current=!1,o.current=a}),[a]),a.result}function o(e,t){return i((function(){return e}),t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=!1;function i(){r||(r=!0,console.warn('react-spring: The "interpolate" function is deprecated in v10 (use "to" instead)'))}},function(e,t,n){"use strict";var r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return r.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));t.a=i},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(30);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";(function(t){var r=n(30),i=n(107),o={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s={adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(e=n(76)),e}(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){s.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){s.headers[e]=r.merge(o)})),e.exports=s}).call(this,n(51))},function(e,t,n){"use strict";var r=n(30),i=n(108),o=n(110),a=n(73),s=n(111),u=n(114),l=n(115),c=n(77);e.exports=function(e){return new Promise((function(t,n){var f=e.data,h=e.headers;r.isFormData(f)&&delete h["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",v=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";h.Authorization="Basic "+btoa(p+":"+v)}var y=s(e.baseURL,e.url);if(d.open(e.method.toUpperCase(),a(y,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?u(d.getAllResponseHeaders()):null,o={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:r,config:e,request:d};i(t,n,o),d=null}},d.onabort=function(){d&&(n(c("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){n(c("Network Error",e,null,d)),d=null},d.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(c(t,e,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var g=(e.withCredentials||l(y))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;g&&(h[e.xsrfHeaderName]=g)}if("setRequestHeader"in d&&r.forEach(h,(function(e,t){"undefined"===typeof f&&"content-type"===t.toLowerCase()?delete h[t]:d.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),e.responseType)try{d.responseType=e.responseType}catch(m){if("json"!==e.responseType)throw m}"function"===typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),n(e),d=null)})),f||(f=null),d.send(f)}))}},function(e,t,n){"use strict";var r=n(109);e.exports=function(e,t,n,i,o){var a=new Error(e);return r(a,t,n,i,o)}},function(e,t,n){"use strict";var r=n(30);e.exports=function(e,t){t=t||{};var n={},i=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function u(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function l(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(e[i],t[i])}r.forEach(i,(function(e){r.isUndefined(t[e])||(n[e]=u(void 0,t[e]))})),r.forEach(o,l),r.forEach(a,(function(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(void 0,t[i])})),r.forEach(s,(function(r){r in t?n[r]=u(e[r],t[r]):r in e&&(n[r]=u(void 0,e[r]))}));var c=i.concat(o).concat(a).concat(s),f=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===c.indexOf(e)}));return r.forEach(f,l),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFormatter=o,t.formatShortMonth=t.formatMonth=void 0;var r,i=(r=n(56))&&r.__esModule?r:{default:r};function o(e){return function(t,n){return n.toLocaleString(t||(0,i.default)(),e)}}function a(e){return function(t,n){return o(e)(t,function(e){var t=new Date(e);return new Date(t.setHours(12))}(n))}}var s=a({month:"long"});t.formatMonth=s;var u=a({month:"short"});t.formatShortMonth=u},function(e,t){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var l=o[u];if(!s(l))return!1;var c=e[l],f=t[l];if(!1===(i=n?n.call(r,c,f,l):void 0)||void 0===i&&c!==f)return!1}return!0}},function(e,t,n){"use strict";t.a=function(e){function t(e,r,u,l,h){for(var d,p,v,y,_,x=0,T=0,k=0,O=0,S=0,D=0,N=v=d=0,j=0,R=0,F=0,z=0,U=u.length,q=U-1,V="",B="",H="",W="";j<U;){if(p=u.charCodeAt(j),j===q&&0!==T+O+k+x&&(0!==T&&(p=47===T?10:47),O=k=x=0,U++,q++),0===T+O+k+x){if(j===q&&(0<R&&(V=V.replace(f,"")),0<V.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:V+=u.charAt(j)}p=59}switch(p){case 123:for(d=(V=V.trim()).charCodeAt(0),v=1,z=++j;j<U;){switch(p=u.charCodeAt(j)){case 123:v++;break;case 125:v--;break;case 47:switch(p=u.charCodeAt(j+1)){case 42:case 47:e:{for(N=j+1;N<q;++N)switch(u.charCodeAt(N)){case 47:if(42===p&&42===u.charCodeAt(N-1)&&j+2!==N){j=N+1;break e}break;case 10:if(47===p){j=N+1;break e}}j=N}}break;case 91:p++;case 40:p++;case 34:case 39:for(;j++<q&&u.charCodeAt(j)!==p;);}if(0===v)break;j++}switch(v=u.substring(z,j),0===d&&(d=(V=V.replace(c,"").trim()).charCodeAt(0)),d){case 64:switch(0<R&&(V=V.replace(f,"")),p=V.charCodeAt(1)){case 100:case 109:case 115:case 45:R=r;break;default:R=I}if(z=(v=t(r,R,v,p,h+1)).length,0<P&&(_=s(3,v,R=n(I,V,F),r,E,A,z,p,h,l),V=R.join(""),void 0!==_&&0===(z=(v=_.trim()).length)&&(p=0,v="")),0<z)switch(p){case 115:V=V.replace(w,a);case 100:case 109:case 45:v=V+"{"+v+"}";break;case 107:v=(V=V.replace(g,"$1 $2"))+"{"+v+"}",v=1===C||2===C&&o("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=V+v,112===l&&(B+=v,v="")}else v="";break;default:v=t(r,n(r,V,F),v,l,h+1)}H+=v,v=F=R=N=d=0,V="",p=u.charCodeAt(++j);break;case 125:case 59:if(1<(z=(V=(0<R?V.replace(f,""):V).trim()).length))switch(0===N&&(d=V.charCodeAt(0),45===d||96<d&&123>d)&&(z=(V=V.replace(" ",":")).length),0<P&&void 0!==(_=s(1,V,r,e,E,A,B.length,l,h,l))&&0===(z=(V=_.trim()).length)&&(V="\0\0"),d=V.charCodeAt(0),p=V.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){W+=V+u.charAt(j);break}default:58!==V.charCodeAt(z-1)&&(B+=i(V,d,p,V.charCodeAt(2)))}F=R=N=d=0,V="",p=u.charCodeAt(++j)}}switch(p){case 13:case 10:47===T?T=0:0===1+d&&107!==l&&0<V.length&&(R=1,V+="\0"),0<P*L&&s(0,V,r,e,E,A,B.length,l,h,l),A=1,E++;break;case 59:case 125:if(0===T+O+k+x){A++;break}default:switch(A++,y=u.charAt(j),p){case 9:case 32:if(0===O+x+T)switch(S){case 44:case 58:case 9:case 32:y="";break;default:32!==p&&(y=" ")}break;case 0:y="\\0";break;case 12:y="\\f";break;case 11:y="\\v";break;case 38:0===O+T+x&&(R=F=1,y="\f"+y);break;case 108:if(0===O+T+x+M&&0<N)switch(j-N){case 2:112===S&&58===u.charCodeAt(j-3)&&(M=S);case 8:111===D&&(M=D)}break;case 58:0===O+T+x&&(N=j);break;case 44:0===T+k+O+x&&(R=1,y+="\r");break;case 34:case 39:0===T&&(O=O===p?0:0===O?p:O);break;case 91:0===O+T+k&&x++;break;case 93:0===O+T+k&&x--;break;case 41:0===O+T+x&&k--;break;case 40:if(0===O+T+x){if(0===d)switch(2*S+3*D){case 533:break;default:d=1}k++}break;case 64:0===T+k+O+x+N+v&&(v=1);break;case 42:case 47:if(!(0<O+x+k))switch(T){case 0:switch(2*p+3*u.charCodeAt(j+1)){case 235:T=47;break;case 220:z=j,T=42}break;case 42:47===p&&42===S&&z+2!==j&&(33===u.charCodeAt(z+2)&&(B+=u.substring(z,j+1)),y="",T=0)}}0===T&&(V+=y)}D=S,S=p,j++}if(0<(z=B.length)){if(R=r,0<P&&(void 0!==(_=s(2,B,R,e,E,A,z,l,h,l))&&0===(B=_).length))return W+B+H;if(B=R.join(",")+"{"+B+"}",0!==C*M){switch(2!==C||o(B,2)||(M=0),M){case 111:B=B.replace(b,":-moz-$1")+B;break;case 112:B=B.replace(m,"::-webkit-input-$1")+B.replace(m,"::-moz-$1")+B.replace(m,":-ms-input-$1")+B}M=0}}return W+B+H}function n(e,t,n){var i=t.trim().split(v);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<o;++s)for(var l=0;l<a;++l)t[u++]=r(e[l]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(y,"$1"+e.trim());case 58:return e.trim()+t.replace(y,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(y,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var a=e+";",s=2*t+3*n+4*r;if(944===s){e=a.indexOf(":",9)+1;var u=a.substring(e,a.length-1).trim();return u=a.substring(0,e).trim()+u+";",1===C||2===C&&o(u,1)?"-webkit-"+u+u:u}if(0===C||2===C&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(S,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return d.test(a)?a.replace(h,":-webkit-")+a.replace(h,":-moz-")+a:a;case 1e3:switch(t=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=a.replace(_,"tb");break;case 232:u=a.replace(_,"tb-rl");break;case 220:u=a.replace(_,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(u=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(T,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(T,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===O.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),N(2!==t?r:r.replace(k,"$1"),n,t)}function a(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,o,a,s,u,c){for(var f,h=0,d=t;h<P;++h)switch(f=D[h].call(l,e,d,n,r,i,o,a,s,u,c)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function u(e){return void 0!==(e=e.prefix)&&(N=null,e?"function"!==typeof e?C=1:(C=2,N=e):C=0),u}function l(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<P){var i=s(-1,n,r,r,E,A,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var o=t(I,r,n,0,0);return 0<P&&(void 0!==(i=s(-2,o,r,r,E,A,o.length,0,0,0))&&(o=i)),"",M=0,A=E=1,o}var c=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,y=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,m=/::(place)/g,b=/:(read-only)/g,_=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,T=/-self|flex-/g,k=/[^]*?(:[rp][el]a[\w-]+)[^]*/,O=/stretch|:\s*\w+\-(?:conte|avail)/,S=/([^-])(image-set\()/,A=1,E=1,M=0,C=1,I=[],D=[],P=0,N=null,L=0;return l.use=function e(t){switch(t){case void 0:case null:P=D.length=0;break;default:if("function"===typeof t)D[P++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},l.set=u,void 0!==e&&u(e),l}},function(e,t,n){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,n){(function(t){e.exports=function(){var e;return function(){function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};t[a][0].call(l.exports,(function(e){return i(t[a][1][e]||e)}),l,l.exports,e,t,n,r)}return n[a].exports}for(var o=!1,a=0;a<r.length;a++)i(r[a]);return i}return e}()({1:[function(e,t,n){"use strict";var r=e("../src/lib"),i={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid transparent;border-left-color:#69738a;margin-top:8px;margin-right:-30px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:#fff;","X .select-outline-2":"stroke:#000;stroke-dasharray:2px 2px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var o in i){var a=o.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");r.addStyleRule(a,i[o])}},{"../src/lib":230}],2:[function(e,t,n){"use strict";t.exports=e("../src/transforms/aggregate")},{"../src/transforms/aggregate":381}],3:[function(e,t,n){"use strict";t.exports=e("../src/traces/bar")},{"../src/traces/bar":331}],4:[function(e,t,n){"use strict";t.exports=e("../src/components/calendars")},{"../src/components/calendars":98}],5:[function(e,t,n){"use strict";t.exports=e("../src/core")},{"../src/core":212}],6:[function(e,t,n){"use strict";t.exports=e("../src/transforms/filter")},{"../src/transforms/filter":382}],7:[function(e,t,n){"use strict";t.exports=e("../src/transforms/groupby")},{"../src/transforms/groupby":383}],8:[function(e,t,n){"use strict";var r=e("./core");r.register([e("./bar"),e("./pie"),e("./aggregate"),e("./filter"),e("./groupby"),e("./sort"),e("./calendars")]),t.exports=r},{"./aggregate":2,"./bar":3,"./calendars":4,"./core":5,"./filter":6,"./groupby":7,"./pie":9,"./sort":10}],9:[function(e,t,n){"use strict";t.exports=e("../src/traces/pie")},{"../src/traces/pie":346}],10:[function(e,t,n){"use strict";t.exports=e("../src/transforms/sort")},{"../src/transforms/sort":385}],11:[function(t,n,r){(function(){var t={version:"3.6.1"},r=[].slice,i=function(e){return r.call(e)},o=this.document;function a(e){return e&&(e.ownerDocument||e.document||e).documentElement}function s(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}if(o)try{i(o.documentElement.childNodes)[0].nodeType}catch(il){i=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),o)try{o.createElement("DIV").style.setProperty("opacity",0,"")}catch(ol){var u=this.Element.prototype,l=u.setAttribute,c=u.setAttributeNS,f=this.CSSStyleDeclaration.prototype,h=f.setProperty;u.setAttribute=function(e,t){l.call(this,e,t+"")},u.setAttributeNS=function(e,t,n){c.call(this,e,t,n+"")},f.setProperty=function(e,t,n){h.call(this,e,t+"",n)}}function d(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function p(e){return null===e?NaN:+e}function v(e){return!isNaN(e)}function y(e){return{left:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}t.ascending=d,t.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},t.min=function(e,t){var n,r,i=-1,o=e.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=e[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=t.call(e,e[i],i))&&n>r&&(n=r)}return n},t.max=function(e,t){var n,r,i=-1,o=e.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=e[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=t.call(e,e[i],i))&&r>n&&(n=r)}return n},t.extent=function(e,t){var n,r,i,o=-1,a=e.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=e[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e[o])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++o<a;)if(null!=(r=t.call(e,e[o],o))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t.call(e,e[o],o))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},t.sum=function(e,t){var n,r=0,i=e.length,o=-1;if(1===arguments.length)for(;++o<i;)v(n=+e[o])&&(r+=n);else for(;++o<i;)v(n=+t.call(e,e[o],o))&&(r+=n);return r},t.mean=function(e,t){var n,r=0,i=e.length,o=-1,a=i;if(1===arguments.length)for(;++o<i;)v(n=p(e[o]))?r+=n:--a;else for(;++o<i;)v(n=p(t.call(e,e[o],o)))?r+=n:--a;if(a)return r/a},t.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],o=n-r;return o?i+o*(e[r]-i):i},t.median=function(e,n){var r,i=[],o=e.length,a=-1;if(1===arguments.length)for(;++a<o;)v(r=p(e[a]))&&i.push(r);else for(;++a<o;)v(r=p(n.call(e,e[a],a)))&&i.push(r);if(i.length)return t.quantile(i.sort(d),.5)},t.variance=function(e,t){var n,r,i=e.length,o=0,a=0,s=-1,u=0;if(1===arguments.length)for(;++s<i;)v(n=p(e[s]))&&(a+=(r=n-o)*(n-(o+=r/++u)));else for(;++s<i;)v(n=p(t.call(e,e[s],s)))&&(a+=(r=n-o)*(n-(o+=r/++u)));if(u>1)return a/(u-1)},t.deviation=function(){var e=t.variance.apply(this,arguments);return e?Math.sqrt(e):e};var g=y(d);function m(e){return e.length}t.bisectLeft=g.left,t.bisect=t.bisectRight=g.right,t.bisector=function(e){return y(1===e.length?function(t,n){return d(e(t),n)}:e)},t.shuffle=function(e,t,n){(o=arguments.length)<3&&(n=e.length,o<2&&(t=0));for(var r,i,o=n-t;o;)i=Math.random()*o--|0,r=e[o+t],e[o+t]=e[i+t],e[i+t]=r;return e},t.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},t.pairs=function(e){for(var t=0,n=e.length-1,r=e[0],i=new Array(n<0?0:n);t<n;)i[t]=[r,r=e[++t]];return i},t.transpose=function(e){if(!(o=e.length))return[];for(var n=-1,r=t.min(e,m),i=new Array(r);++n<r;)for(var o,a=-1,s=i[n]=new Array(o);++a<o;)s[a]=e[a][n];return i},t.zip=function(){return t.transpose(arguments)},t.keys=function(e){var t=[];for(var n in e)t.push(n);return t},t.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},t.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},t.merge=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(t=(r=e[i]).length;--t>=0;)n[--a]=r[t];return n};var b=Math.abs;function _(e){for(var t=1;e*t%1;)t*=10;return t}function w(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function x(){this._=Object.create(null)}t.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n===1/0)throw new Error("infinite range");var r,i=[],o=_(b(n)),a=-1;if(e*=o,t*=o,(n*=o)<0)for(;(r=e+n*++a)>t;)i.push(r/o);else for(;(r=e+n*++a)<t;)i.push(r/o);return i},t.map=function(e,t){var n=new x;if(e instanceof x)e.forEach((function(e,t){n.set(e,t)}));else if(Array.isArray(e)){var r,i=-1,o=e.length;if(1===arguments.length)for(;++i<o;)n.set(i,e[i]);else for(;++i<o;)n.set(t.call(e,r=e[i],i),r)}else for(var a in e)n.set(a,e[a]);return n};var T="__proto__",k="\0";function O(e){return(e+="")===T||e[0]===k?k+e:e}function S(e){return(e+="")[0]===k?e.slice(1):e}function A(e){return O(e)in this._}function E(e){return(e=O(e))in this._&&delete this._[e]}function M(){var e=[];for(var t in this._)e.push(S(t));return e}function C(){var e=0;for(var t in this._)++e;return e}function I(){for(var e in this._)return!1;return!0}function D(){this._=Object.create(null)}function P(e){return e}function N(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function L(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=j.length;n<r;++n){var i=j[n]+t;if(i in e)return i}}w(x,{has:A,get:function(e){return this._[O(e)]},set:function(e,t){return this._[O(e)]=t},remove:E,keys:M,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:S(t),value:this._[t]});return e},size:C,empty:I,forEach:function(e){for(var t in this._)e.call(this,S(t),this._[t])}}),t.nest=function(){var e,n,r={},i=[],o=[];function a(t,o,s){if(s>=i.length)return n?n.call(r,o):e?o.sort(e):o;for(var u,l,c,f,h=-1,d=o.length,p=i[s++],v=new x;++h<d;)(f=v.get(u=p(l=o[h])))?f.push(l):v.set(u,[l]);return t?(l=t(),c=function(e,n){l.set(e,a(t,n,s))}):(l={},c=function(e,n){l[e]=a(t,n,s)}),v.forEach(c),l}function s(e,t){if(t>=i.length)return e;var n=[],r=o[t++];return e.forEach((function(e,r){n.push({key:e,values:s(r,t)})})),r?n.sort((function(e,t){return r(e.key,t.key)})):n}return r.map=function(e,t){return a(t,e,0)},r.entries=function(e){return s(a(t.map,e,0),0)},r.key=function(e){return i.push(e),r},r.sortKeys=function(e){return o[i.length-1]=e,r},r.sortValues=function(t){return e=t,r},r.rollup=function(e){return n=e,r},r},t.set=function(e){var t=new D;if(e)for(var n=0,r=e.length;n<r;++n)t.add(e[n]);return t},w(D,{has:A,add:function(e){return this._[O(e+="")]=!0,e},remove:E,values:M,size:C,empty:I,forEach:function(e){for(var t in this._)e.call(this,S(t))}}),t.behavior={},t.rebind=function(e,t){for(var n,r=1,i=arguments.length;++r<i;)e[n=arguments[r]]=N(e,t,t[n]);return e};var j=["webkit","ms","moz","Moz","o","O"];function R(){}function F(){}function z(e){var t=[],n=new x;function r(){for(var n,r=t,i=-1,o=r.length;++i<o;)(n=r[i].on)&&n.apply(this,arguments);return e}return r.on=function(r,i){var o,a=n.get(r);return arguments.length<2?a&&a.on:(a&&(a.on=null,t=t.slice(0,o=t.indexOf(a)).concat(t.slice(o+1)),n.remove(r)),i&&t.push(n.set(r,{on:i})),e)},r}function U(){t.event.preventDefault()}function q(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n}function V(e){for(var n=new F,r=0,i=arguments.length;++r<i;)n[arguments[r]]=z(n);return n.of=function(r,i){return function(o){try{var a=o.sourceEvent=t.event;o.target=e,t.event=o,n[o.type].apply(r,i)}finally{t.event=a}}},n}t.dispatch=function(){for(var e=new F,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=z(e);return e},F.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},t.event=null,t.requote=function(e){return e.replace(B,"\\$&")};var B=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,H={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]};function W(e){return H(e,X),e}var Y=function(e,t){return t.querySelector(e)},G=function(e,t){return t.querySelectorAll(e)},K=function(e,t){var n=e.matches||e[L(e,"matchesSelector")];return(K=function(e,t){return n.call(e,t)})(e,t)};"function"===typeof Sizzle&&(Y=function(e,t){return Sizzle(e,t)[0]||null},G=Sizzle,K=Sizzle.matchesSelector),t.selection=function(){return t.select(o.documentElement)};var X=t.selection.prototype=[];function Q(e){return"function"===typeof e?e:function(){return Y(e,this)}}function J(e){return"function"===typeof e?e:function(){return G(e,this)}}X.select=function(e){var t,n,r,i,o=[];e=Q(e);for(var a=-1,s=this.length;++a<s;){o.push(t=[]),t.parentNode=(r=this[a]).parentNode;for(var u=-1,l=r.length;++u<l;)(i=r[u])?(t.push(n=e.call(i,i.__data__,u,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):t.push(null)}return W(o)},X.selectAll=function(e){var t,n,r=[];e=J(e);for(var o=-1,a=this.length;++o<a;)for(var s=this[o],u=-1,l=s.length;++u<l;)(n=s[u])&&(r.push(t=i(e.call(n,n.__data__,u,o))),t.parentNode=n);return W(r)};var $="http://www.w3.org/1999/xhtml",Z={svg:"http://www.w3.org/2000/svg",xhtml:$,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ee(e,n){function r(){this.removeAttribute(e)}function i(){this.removeAttributeNS(e.space,e.local)}function o(){this.setAttribute(e,n)}function a(){this.setAttributeNS(e.space,e.local,n)}function s(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}function u(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}return e=t.ns.qualify(e),null==n?e.local?i:r:"function"===typeof n?e.local?u:s:e.local?a:o}function te(e){return e.trim().replace(/\s+/g," ")}function ne(e){return new RegExp("(?:^|\\s+)"+t.requote(e)+"(?:\\s+|$)","g")}function re(e){return(e+"").trim().split(/^|\s+/)}function ie(e,t){var n=(e=re(e).map(oe)).length;function r(){for(var r=-1;++r<n;)e[r](this,t)}function i(){for(var r=-1,i=t.apply(this,arguments);++r<n;)e[r](this,i)}return"function"===typeof t?i:r}function oe(e){var t=ne(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||n.setAttribute("class",te(i+" "+e))):n.setAttribute("class",te(i.replace(t," ")))}}function ae(e,t,n){function r(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function o(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return null==t?r:"function"===typeof t?o:i}function se(e,t){function n(){delete this[e]}function r(){this[e]=t}function i(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?n:"function"===typeof t?i:r}function ue(e){function n(){var t=this.ownerDocument,n=this.namespaceURI;return n===$&&t.documentElement.namespaceURI===$?t.createElement(e):t.createElementNS(n,e)}function r(){return this.ownerDocument.createElementNS(e.space,e.local)}return"function"===typeof e?e:(e=t.ns.qualify(e)).local?r:n}function le(){var e=this.parentNode;e&&e.removeChild(this)}function ce(e){return{__data__:e}}function fe(e){return function(){return K(this,e)}}function he(e){return arguments.length||(e=d),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function de(e,t){for(var n=0,r=e.length;n<r;n++)for(var i,o=e[n],a=0,s=o.length;a<s;a++)(i=o[a])&&t(i,a,n);return e}function pe(e){return H(e,ve),e}t.ns={prefix:Z,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),Z.hasOwnProperty(n)?{space:Z[n],local:e}:e}},X.attr=function(e,n){if(arguments.length<2){if("string"===typeof e){var r=this.node();return(e=t.ns.qualify(e)).local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}for(n in e)this.each(ee(n,e[n]));return this}return this.each(ee(e,n))},X.classed=function(e,t){if(arguments.length<2){if("string"===typeof e){var n=this.node(),r=(e=re(e)).length,i=-1;if(t=n.classList){for(;++i<r;)if(!t.contains(e[i]))return!1}else for(t=n.getAttribute("class");++i<r;)if(!ne(e[i]).test(t))return!1;return!0}for(t in e)this.each(ie(t,e[t]));return this}return this.each(ie(e,t))},X.style=function(e,t,n){var r=arguments.length;if(r<3){if("string"!==typeof e){for(n in r<2&&(t=""),e)this.each(ae(n,e[n],t));return this}if(r<2){var i=this.node();return s(i).getComputedStyle(i,null).getPropertyValue(e)}n=""}return this.each(ae(e,t,n))},X.property=function(e,t){if(arguments.length<2){if("string"===typeof e)return this.node()[e];for(t in e)this.each(se(t,e[t]));return this}return this.each(se(e,t))},X.text=function(e){return arguments.length?this.each("function"===typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},X.html=function(e){return arguments.length?this.each("function"===typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},X.append=function(e){return e=ue(e),this.select((function(){return this.appendChild(e.apply(this,arguments))}))},X.insert=function(e,t){return e=ue(e),t=Q(t),this.select((function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)}))},X.remove=function(){return this.each(le)},X.data=function(e,t){var n,r,i=-1,o=this.length;if(!arguments.length){for(e=new Array(o=(n=this[0]).length);++i<o;)(r=n[i])&&(e[i]=r.__data__);return e}function a(e,n){var r,i,o,a=e.length,c=n.length,f=Math.min(a,c),h=new Array(c),d=new Array(c),p=new Array(a);if(t){var v,y=new x,g=new Array(a);for(r=-1;++r<a;)(i=e[r])&&(y.has(v=t.call(i,i.__data__,r))?p[r]=i:y.set(v,i),g[r]=v);for(r=-1;++r<c;)(i=y.get(v=t.call(n,o=n[r],r)))?!0!==i&&(h[r]=i,i.__data__=o):d[r]=ce(o),y.set(v,!0);for(r=-1;++r<a;)r in g&&!0!==y.get(g[r])&&(p[r]=e[r])}else{for(r=-1;++r<f;)i=e[r],o=n[r],i?(i.__data__=o,h[r]=i):d[r]=ce(o);for(;r<c;++r)d[r]=ce(n[r]);for(;r<a;++r)p[r]=e[r]}d.update=h,d.parentNode=h.parentNode=p.parentNode=e.parentNode,s.push(d),u.push(h),l.push(p)}var s=pe([]),u=W([]),l=W([]);if("function"===typeof e)for(;++i<o;)a(n=this[i],e.call(n,n.parentNode.__data__,i));else for(;++i<o;)a(n=this[i],e);return u.enter=function(){return s},u.exit=function(){return l},u},X.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},X.filter=function(e){var t,n,r,i=[];"function"!==typeof e&&(e=fe(e));for(var o=0,a=this.length;o<a;o++){i.push(t=[]),t.parentNode=(n=this[o]).parentNode;for(var s=0,u=n.length;s<u;s++)(r=n[s])&&e.call(r,r.__data__,s,o)&&t.push(r)}return W(i)},X.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},X.sort=function(e){e=he.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},X.each=function(e){return de(this,(function(t,n,r){e.call(t,t.__data__,n,r)}))},X.call=function(e){var t=i(arguments);return e.apply(t[0]=this,t),this},X.empty=function(){return!this.node()},X.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},X.size=function(){var e=0;return de(this,(function(){++e})),e};var ve=[];function ye(e){var t,n;return function(r,i,o){var a,s=e[o].update,u=s.length;for(o!=n&&(n=o,t=0),i>=t&&(t=i+1);!(a=s[t])&&++t<u;);return a}}function ge(e,n,r){var o="__on"+e,a=e.indexOf("."),s=be;a>0&&(e=e.slice(0,a));var u=me.get(e);function l(){var t=this[o];t&&(this.removeEventListener(e,t,t.$),delete this[o])}function c(){var t=s(n,i(arguments));l.call(this),this.addEventListener(e,this[o]=t,t.$=r),t._=n}function f(){var n,r=new RegExp("^__on([^.]+)"+t.requote(e)+"$");for(var i in this)if(n=i.match(r)){var o=this[i];this.removeEventListener(n[1],o,o.$),delete this[i]}}return u&&(e=u,s=_e),a?n?c:l:n?R:f}t.selection.enter=pe,t.selection.enter.prototype=ve,ve.append=X.append,ve.empty=X.empty,ve.node=X.node,ve.call=X.call,ve.size=X.size,ve.select=function(e){for(var t,n,r,i,o,a=[],s=-1,u=this.length;++s<u;){r=(i=this[s]).update,a.push(t=[]),t.parentNode=i.parentNode;for(var l=-1,c=i.length;++l<c;)(o=i[l])?(t.push(r[l]=n=e.call(i.parentNode,o.__data__,l,s)),n.__data__=o.__data__):t.push(null)}return W(a)},ve.insert=function(e,t){return arguments.length<2&&(t=ye(this)),X.insert.call(this,e,t)},t.select=function(e){var t;return"string"===typeof e?(t=[Y(e,o)]).parentNode=o.documentElement:(t=[e]).parentNode=a(e),W([t])},t.selectAll=function(e){var t;return"string"===typeof e?(t=i(G(e,o))).parentNode=o.documentElement:(t=i(e)).parentNode=null,W([t])},X.on=function(e,t,n){var r=arguments.length;if(r<3){if("string"!==typeof e){for(n in r<2&&(t=!1),e)this.each(ge(n,e[n],t));return this}if(r<2)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(ge(e,t,n))};var me=t.map({mouseenter:"mouseover",mouseleave:"mouseout"});function be(e,n){return function(r){var i=t.event;t.event=r,n[0]=this.__data__;try{e.apply(this,n)}finally{t.event=i}}}function _e(e,t){var n=be(e,t);return function(e){var t=this,r=e.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||n.call(t,e)}}o&&me.forEach((function(e){"on"+e in o&&me.remove(e)}));var we,xe=0;function Te(e){var n=".dragsuppress-"+ ++xe,r="click"+n,i=t.select(s(e)).on("touchmove"+n,U).on("dragstart"+n,U).on("selectstart"+n,U);if(null==we&&(we=!("onselectstart"in e)&&L(e.style,"userSelect")),we){var o=a(e).style,u=o[we];o[we]="none"}return function(e){if(i.on(n,null),we&&(o[we]=u),e){var t=function(){i.on(r,null)};i.on(r,(function(){U(),t()}),!0),setTimeout(t,0)}}}t.mouse=function(e){return Oe(e,q())};var ke=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Oe(e,n){n.changedTouches&&(n=n.changedTouches[0]);var r=e.ownerSVGElement||e;if(r.createSVGPoint){var i=r.createSVGPoint();if(ke<0){var o=s(e);if(o.scrollX||o.scrollY){var a=(r=t.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();ke=!(a.f||a.e),r.remove()}}return ke?(i.x=n.pageX,i.y=n.pageY):(i.x=n.clientX,i.y=n.clientY),[(i=i.matrixTransform(e.getScreenCTM().inverse())).x,i.y]}var u=e.getBoundingClientRect();return[n.clientX-u.left-e.clientLeft,n.clientY-u.top-e.clientTop]}function Se(){return t.event.changedTouches[0].identifier}t.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=q().changedTouches),t)for(var r,i=0,o=t.length;i<o;++i)if((r=t[i]).identifier===n)return Oe(e,r)},t.behavior.drag=function(){var e=V(o,"drag","dragstart","dragend"),n=null,r=a(R,t.mouse,s,"mousemove","mouseup"),i=a(Se,t.touch,P,"touchmove","touchend");function o(){this.on("mousedown.drag",r).on("touchstart.drag",i)}function a(r,i,o,a,s){return function(){var u,l=this,c=t.event.target.correspondingElement||t.event.target,f=l.parentNode,h=e.of(l,arguments),d=0,p=r(),v=".drag"+(null==p?"":"-"+p),y=t.select(o(c)).on(a+v,b).on(s+v,_),g=Te(c),m=i(f,p);function b(){var e,t,n=i(f,p);n&&(e=n[0]-m[0],t=n[1]-m[1],d|=e|t,m=n,h({type:"drag",x:n[0]+u[0],y:n[1]+u[1],dx:e,dy:t}))}function _(){i(f,p)&&(y.on(a+v,null).on(s+v,null),g(d),h({type:"dragend"}))}u=n?[(u=n.apply(l,arguments)).x-m[0],u.y-m[1]]:[0,0],h({type:"dragstart"})}}return o.origin=function(e){return arguments.length?(n=e,o):n},t.rebind(o,e,"on")},t.touches=function(e,t){return arguments.length<2&&(t=q().touches),t?i(t).map((function(t){var n=Oe(e,t);return n.identifier=t.identifier,n})):[]};var Ae=1e-6,Ee=Ae*Ae,Me=Math.PI,Ce=2*Me,Ie=Ce-Ae,De=Me/2,Pe=Me/180,Ne=180/Me;function Le(e){return e>0?1:e<0?-1:0}function je(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function Re(e){return e>1?0:e<-1?Me:Math.acos(e)}function Fe(e){return e>1?De:e<-1?-De:Math.asin(e)}function ze(e){return((e=Math.exp(e))-1/e)/2}function Ue(e){return((e=Math.exp(e))+1/e)/2}function qe(e){return((e=Math.exp(2*e))-1)/(e+1)}function Ve(e){return(e=Math.sin(e/2))*e}var Be=Math.SQRT2,He=2,We=4;t.interpolateZoom=function(e,t){var n,r,i=e[0],o=e[1],a=e[2],s=t[0],u=t[1],l=t[2],c=s-i,f=u-o,h=c*c+f*f;if(h<Ee)r=Math.log(l/a)/Be,n=function(e){return[i+e*c,o+e*f,a*Math.exp(Be*e*r)]};else{var d=Math.sqrt(h),p=(l*l-a*a+We*h)/(2*a*He*d),v=(l*l-a*a-We*h)/(2*l*He*d),y=Math.log(Math.sqrt(p*p+1)-p),g=Math.log(Math.sqrt(v*v+1)-v);r=(g-y)/Be,n=function(e){var t=e*r,n=Ue(y),s=a/(He*d)*(n*qe(Be*t+y)-ze(y));return[i+s*c,o+s*f,a*n/Ue(Be*t+y)]}}return n.duration=1e3*r,n},t.behavior.zoom=function(){var e,n,r,i,a,u,l,c,f,h={x:0,y:0,k:1},d=[960,500],p=Ke,v=250,y=0,g="mousedown.zoom",m="mousemove.zoom",b="mouseup.zoom",_="touchstart.zoom",w=V(x,"zoomstart","zoom","zoomend");function x(e){e.on(g,D).on(Ge+".zoom",N).on("dblclick.zoom",L).on(_,P)}function T(e){return[(e[0]-h.x)/h.k,(e[1]-h.y)/h.k]}function k(e){return[e[0]*h.k+h.x,e[1]*h.k+h.y]}function O(e){h.k=Math.max(p[0],Math.min(p[1],e))}function S(e,t){t=k(t),h.x+=e[0]-t[0],h.y+=e[1]-t[1]}function A(e,r,i,o){e.__chart__={x:h.x,y:h.y,k:h.k},O(Math.pow(2,o)),S(n=r,i),e=t.select(e),v>0&&(e=e.transition().duration(v)),e.call(x.event)}function E(){l&&l.domain(u.range().map((function(e){return(e-h.x)/h.k})).map(u.invert)),f&&f.domain(c.range().map((function(e){return(e-h.y)/h.k})).map(c.invert))}function M(e){y++||e({type:"zoomstart"})}function C(e){E(),e({type:"zoom",scale:h.k,translate:[h.x,h.y]})}function I(e){--y||(e({type:"zoomend"}),n=null)}function D(){var e=this,n=w.of(e,arguments),r=0,i=t.select(s(e)).on(m,u).on(b,l),o=T(t.mouse(e)),a=Te(e);function u(){r=1,S(t.mouse(e),o),C(n)}function l(){i.on(m,null).on(b,null),a(r),I(n)}Au.call(e),M(n)}function P(){var e,n=this,r=w.of(n,arguments),i={},o=0,s=".zoom-"+t.event.changedTouches[0].identifier,u="touchmove"+s,l="touchend"+s,c=[],f=t.select(n),d=Te(n);function p(){var r=t.touches(n);return e=h.k,r.forEach((function(e){e.identifier in i&&(i[e.identifier]=T(e))})),r}function v(){var e=t.event.target;t.select(e).on(u,y).on(l,m),c.push(e);for(var r=t.event.changedTouches,s=0,f=r.length;s<f;++s)i[r[s].identifier]=null;var d=p(),v=Date.now();if(1===d.length){if(v-a<500){var g=d[0];A(n,g,i[g.identifier],Math.floor(Math.log(h.k)/Math.LN2)+1),U()}a=v}else if(d.length>1){g=d[0];var b=d[1],_=g[0]-b[0],w=g[1]-b[1];o=_*_+w*w}}function y(){var s,u,l,c,f=t.touches(n);Au.call(n);for(var h=0,d=f.length;h<d;++h,c=null)if(l=f[h],c=i[l.identifier]){if(u)break;s=l,u=c}if(c){var p=(p=l[0]-s[0])*p+(p=l[1]-s[1])*p,v=o&&Math.sqrt(p/o);s=[(s[0]+l[0])/2,(s[1]+l[1])/2],u=[(u[0]+c[0])/2,(u[1]+c[1])/2],O(v*e)}a=null,S(s,u),C(r)}function m(){if(t.event.touches.length){for(var e=t.event.changedTouches,n=0,o=e.length;n<o;++n)delete i[e[n].identifier];for(var a in i)return void p()}t.selectAll(c).on(s,null),f.on(g,D).on(_,P),d(),I(r)}v(),M(r),f.on(g,null).on(_,v)}function N(){var o=w.of(this,arguments);i?clearTimeout(i):(Au.call(this),e=T(n=r||t.mouse(this)),M(o)),i=setTimeout((function(){i=null,I(o)}),50),U(),O(Math.pow(2,.002*Ye())*h.k),S(n,e),C(o)}function L(){var e=t.mouse(this),n=Math.log(h.k)/Math.LN2;A(this,e,T(e),t.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}return Ge||(Ge="onwheel"in o?(Ye=function(){return-t.event.deltaY*(t.event.deltaMode?120:1)},"wheel"):"onmousewheel"in o?(Ye=function(){return t.event.wheelDelta},"mousewheel"):(Ye=function(){return-t.event.detail},"MozMousePixelScroll")),x.event=function(e){e.each((function(){var e=w.of(this,arguments),r=h;Cu?t.select(this).transition().each("start.zoom",(function(){h=this.__chart__||{x:0,y:0,k:1},M(e)})).tween("zoom:zoom",(function(){var i=d[0],o=d[1],a=n?n[0]:i/2,s=n?n[1]:o/2,u=t.interpolateZoom([(a-h.x)/h.k,(s-h.y)/h.k,i/h.k],[(a-r.x)/r.k,(s-r.y)/r.k,i/r.k]);return function(t){var n=u(t),r=i/n[2];this.__chart__=h={x:a-n[0]*r,y:s-n[1]*r,k:r},C(e)}})).each("interrupt.zoom",(function(){I(e)})).each("end.zoom",(function(){I(e)})):(this.__chart__=h,M(e),C(e),I(e))}))},x.translate=function(e){return arguments.length?(h={x:+e[0],y:+e[1],k:h.k},E(),x):[h.x,h.y]},x.scale=function(e){return arguments.length?(h={x:h.x,y:h.y,k:null},O(+e),E(),x):h.k},x.scaleExtent=function(e){return arguments.length?(p=null==e?Ke:[+e[0],+e[1]],x):p},x.center=function(e){return arguments.length?(r=e&&[+e[0],+e[1]],x):r},x.size=function(e){return arguments.length?(d=e&&[+e[0],+e[1]],x):d},x.duration=function(e){return arguments.length?(v=+e,x):v},x.x=function(e){return arguments.length?(l=e,u=e.copy(),h={x:0,y:0,k:1},x):l},x.y=function(e){return arguments.length?(f=e,c=e.copy(),h={x:0,y:0,k:1},x):f},t.rebind(x,w,"on")};var Ye,Ge,Ke=[0,1/0];function Xe(){}function Qe(e,t,n){return this instanceof Qe?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof Qe?new Qe(e.h,e.s,e.l):mt(""+e,bt,Qe):new Qe(e,t,n)}t.color=Xe,Xe.prototype.toString=function(){return this.rgb()+""},t.hsl=Qe;var Je=Qe.prototype=new Xe;function $e(e,t,n){var r,i;function o(e){return e>360?e-=360:e<0&&(e+=360),e<60?r+(i-r)*e/60:e<180?i:e<240?r+(i-r)*(240-e)/60:r}function a(e){return Math.round(255*o(e))}return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)||t<0?0:t>1?1:t,r=2*(n=n<0?0:n>1?1:n)-(i=n<=.5?n*(1+t):n+t-n*t),new dt(a(e+120),a(e),a(e-120))}function Ze(e,n,r){return this instanceof Ze?(this.h=+e,this.c=+n,void(this.l=+r)):arguments.length<2?e instanceof Ze?new Ze(e.h,e.c,e.l):lt(e instanceof nt?e.l:(e=_t((e=t.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new Ze(e,n,r)}Je.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new Qe(this.h,this.s,this.l/e)},Je.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new Qe(this.h,this.s,e*this.l)},Je.rgb=function(){return $e(this.h,this.s,this.l)},t.hcl=Ze;var et=Ze.prototype=new Xe;function tt(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new nt(n,Math.cos(e*=Pe)*t,Math.sin(e)*t)}function nt(e,t,n){return this instanceof nt?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof nt?new nt(e.l,e.a,e.b):e instanceof Ze?tt(e.h,e.c,e.l):_t((e=dt(e)).r,e.g,e.b):new nt(e,t,n)}et.brighter=function(e){return new Ze(this.h,this.c,Math.min(100,this.l+rt*(arguments.length?e:1)))},et.darker=function(e){return new Ze(this.h,this.c,Math.max(0,this.l-rt*(arguments.length?e:1)))},et.rgb=function(){return tt(this.h,this.c,this.l).rgb()},t.lab=nt;var rt=18,it=.95047,ot=1,at=1.08883,st=nt.prototype=new Xe;function ut(e,t,n){var r=(e+16)/116,i=r+t/500,o=r-n/200;return new dt(ht(3.2404542*(i=ct(i)*it)-1.5371385*(r=ct(r)*ot)-.4985314*(o=ct(o)*at)),ht(-.969266*i+1.8760108*r+.041556*o),ht(.0556434*i-.2040259*r+1.0572252*o))}function lt(e,t,n){return e>0?new Ze(Math.atan2(n,t)*Ne,Math.sqrt(t*t+n*n),e):new Ze(NaN,NaN,e)}function ct(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function ft(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function ht(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function dt(e,t,n){return this instanceof dt?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof dt?new dt(e.r,e.g,e.b):mt(""+e,dt,$e):new dt(e,t,n)}function pt(e){return new dt(e>>16,e>>8&255,255&e)}function vt(e){return pt(e)+""}st.brighter=function(e){return new nt(Math.min(100,this.l+rt*(arguments.length?e:1)),this.a,this.b)},st.darker=function(e){return new nt(Math.max(0,this.l-rt*(arguments.length?e:1)),this.a,this.b)},st.rgb=function(){return ut(this.l,this.a,this.b)},t.rgb=dt;var yt=dt.prototype=new Xe;function gt(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function mt(e,t,n){var r,i,o,a=0,s=0,u=0;if(r=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(xt(i[0]),xt(i[1]),xt(i[2]))}return(o=Tt.get(e))?t(o.r,o.g,o.b):(null==e||"#"!==e.charAt(0)||isNaN(o=parseInt(e.slice(1),16))||(4===e.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,u=15&o,u|=u<<4):7===e.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,u=255&o)),t(a,s,u))}function bt(e,t,n){var r,i,o=Math.min(e/=255,t/=255,n/=255),a=Math.max(e,t,n),s=a-o,u=(a+o)/2;return s?(i=u<.5?s/(a+o):s/(2-a-o),r=e==a?(t-n)/s+(t<n?6:0):t==a?(n-e)/s+2:(e-t)/s+4,r*=60):(r=NaN,i=u>0&&u<1?0:r),new Qe(r,i,u)}function _t(e,t,n){var r=ft((.4124564*(e=wt(e))+.3575761*(t=wt(t))+.1804375*(n=wt(n)))/it),i=ft((.2126729*e+.7151522*t+.072175*n)/ot);return nt(116*i-16,500*(r-i),200*(i-ft((.0193339*e+.119192*t+.9503041*n)/at)))}function wt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function xt(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}yt.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return t||n||r?(t&&t<i&&(t=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new dt(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))):new dt(i,i,i)},yt.darker=function(e){return new dt((e=Math.pow(.7,arguments.length?e:1))*this.r,e*this.g,e*this.b)},yt.hsl=function(){return bt(this.r,this.g,this.b)},yt.toString=function(){return"#"+gt(this.r)+gt(this.g)+gt(this.b)};var Tt=t.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function kt(e){return"function"===typeof e?e:function(){return e}}function Ot(e){return function(t,n,r){return 2===arguments.length&&"function"===typeof n&&(r=n,n=null),St(t,n,e,r)}}function St(e,n,r,o){var a={},s=t.dispatch("beforesend","progress","load","error"),u={},l=new XMLHttpRequest,c=null;function f(){var e,t=l.status;if(!t&&Et(l)||t>=200&&t<300||304===t){try{e=r.call(a,l)}catch(il){return void s.error.call(a,il)}s.load.call(a,e)}else s.error.call(a,l)}return self.XDomainRequest&&!("withCredentials"in l)&&/^(http(s)?:)?\/\//.test(e)&&(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=f:l.onreadystatechange=function(){l.readyState>3&&f()},l.onprogress=function(e){var n=t.event;t.event=e;try{s.progress.call(a,l)}finally{t.event=n}},a.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?u[e]:(null==t?delete u[e]:u[e]=t+"",a)},a.mimeType=function(e){return arguments.length?(n=null==e?null:e+"",a):n},a.responseType=function(e){return arguments.length?(c=e,a):c},a.response=function(e){return r=e,a},["get","post"].forEach((function(e){a[e]=function(){return a.send.apply(a,[e].concat(i(arguments)))}})),a.send=function(t,r,i){if(2===arguments.length&&"function"===typeof r&&(i=r,r=null),l.open(t,e,!0),null==n||"accept"in u||(u.accept=n+",*/*"),l.setRequestHeader)for(var o in u)l.setRequestHeader(o,u[o]);return null!=n&&l.overrideMimeType&&l.overrideMimeType(n),null!=c&&(l.responseType=c),null!=i&&a.on("error",i).on("load",(function(e){i(null,e)})),s.beforesend.call(a,l),l.send(null==r?null:r),a},a.abort=function(){return l.abort(),a},t.rebind(a,s,"on"),null==o?a:a.get(At(o))}function At(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function Et(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}Tt.forEach((function(e,t){Tt.set(e,pt(t))})),t.functor=kt,t.xhr=Ot(P),t.dsv=function(e,t){var n=new RegExp('["'+e+"\n]"),r=e.charCodeAt(0);function i(e,n,r){arguments.length<3&&(r=n,n=null);var i=St(e,t,null==n?o:a(n),r);return i.row=function(e){return arguments.length?i.response(null==(n=e)?o:a(e)):n},i}function o(e){return i.parse(e.responseText)}function a(e){return function(t){return i.parse(t.responseText,e)}}function s(t){return t.map(u).join(e)}function u(e){return n.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}return i.parse=function(e,t){var n;return i.parseRows(e,(function(e,r){if(n)return n(e,r-1);var i=function(t){for(var n={},r=e.length,i=0;i<r;++i)n[e[i]]=t[i];return n};n=t?function(e,n){return t(i(e),n)}:i}))},i.parseRows=function(e,t){var n,i,o={},a={},s=[],u=e.length,l=0,c=0;function f(){if(l>=u)return a;if(i)return i=!1,o;var t=l;if(34===e.charCodeAt(t)){for(var n=t;n++<u;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}return l=n+2,13===(s=e.charCodeAt(n+1))?(i=!0,10===e.charCodeAt(n+2)&&++l):10===s&&(i=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;l<u;){var s,c=1;if(10===(s=e.charCodeAt(l++)))i=!0;else if(13===s)i=!0,10===e.charCodeAt(l)&&(++l,++c);else if(s!==r)continue;return e.slice(t,l-c)}return e.slice(t)}for(;(n=f())!==a;){for(var h=[];n!==o&&n!==a;)h.push(n),n=f();t&&null==(h=t(h,c++))||s.push(h)}return s},i.format=function(t){if(Array.isArray(t[0]))return i.formatRows(t);var n=new D,r=[];return t.forEach((function(e){for(var t in e)n.has(t)||r.push(n.add(t))})),[r.map(u).join(e)].concat(t.map((function(t){return r.map((function(e){return u(t[e])})).join(e)}))).join("\n")},i.formatRows=function(e){return e.map(s).join("\n")},i},t.csv=t.dsv(",","text/csv"),t.tsv=t.dsv("\t","text/tab-separated-values");var Mt,Ct,It,Dt,Pt=this[L(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};function Nt(e,t,n){var r=arguments.length;r<2&&(t=0),r<3&&(n=Date.now());var i={c:e,t:n+t,n:null};return Ct?Ct.n=i:Mt=i,Ct=i,It||(Dt=clearTimeout(Dt),It=1,Pt(Lt)),i}function Lt(){var e=jt(),t=Rt()-e;t>24?(isFinite(t)&&(clearTimeout(Dt),Dt=setTimeout(Lt,t)),It=0):(It=1,Pt(Lt))}function jt(){for(var e=Date.now(),t=Mt;t;)e>=t.t&&t.c(e-t.t)&&(t.c=null),t=t.n;return e}function Rt(){for(var e,t=Mt,n=1/0;t;)t.c?(t.t<n&&(n=t.t),t=(e=t).n):t=e?e.n=t.n:Mt=t.n;return Ct=e,n}function Ft(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}t.timer=function(){Nt.apply(this,arguments)},t.timer.flush=function(){jt(),Rt()},t.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var zt=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(Ut);function Ut(e,t){var n=Math.pow(10,3*b(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function qt(e){var n=e.decimal,r=e.thousands,i=e.grouping,o=e.currency,a=i&&r?function(e,t){for(var n=e.length,o=[],a=0,s=i[0],u=0;n>0&&s>0&&(u+s+1>t&&(s=Math.max(1,t-u)),o.push(e.substring(n-=s,n+s)),!((u+=s+1)>t));)s=i[a=(a+1)%i.length];return o.reverse().join(r)}:P;return function(e){var r=Vt.exec(e),i=r[1]||" ",s=r[2]||">",u=r[3]||"-",l=r[4]||"",c=r[5],f=+r[6],h=r[7],d=r[8],p=r[9],v=1,y="",g="",m=!1,b=!0;switch(d&&(d=+d.substring(1)),(c||"0"===i&&"="===s)&&(c=i="0",s="="),p){case"n":h=!0,p="g";break;case"%":v=100,g="%",p="f";break;case"p":v=100,g="%",p="r";break;case"b":case"o":case"x":case"X":"#"===l&&(y="0"+p.toLowerCase());case"c":b=!1;case"d":m=!0,d=0;break;case"s":v=-1,p="r"}"$"===l&&(y=o[0],g=o[1]),"r"!=p||d||(p="g"),null!=d&&("g"==p?d=Math.max(1,Math.min(21,d)):"e"!=p&&"f"!=p||(d=Math.max(0,Math.min(20,d)))),p=Bt.get(p)||Ht;var _=c&&h;return function(e){var r=g;if(m&&e%1)return"";var o=e<0||0===e&&1/e<0?(e=-e,"-"):"-"===u?"":u;if(v<0){var l=t.formatPrefix(e,d);e=l.scale(e),r=l.symbol+g}else e*=v;var w,x,T=(e=p(e,d)).lastIndexOf(".");if(T<0){var k=b?e.lastIndexOf("e"):-1;k<0?(w=e,x=""):(w=e.substring(0,k),x=e.substring(k))}else w=e.substring(0,T),x=n+e.substring(T+1);!c&&h&&(w=a(w,1/0));var O=y.length+w.length+x.length+(_?0:o.length),S=O<f?new Array(O=f-O+1).join(i):"";return _&&(w=a(S+w,S.length?f-x.length:1/0)),o+=y,e=w+x,("<"===s?o+e+S:">"===s?S+o+e:"^"===s?S.substring(0,O>>=1)+o+e+S.substring(O):o+(_?e:S+e))+r}}}t.formatPrefix=function(e,n){var r=0;return(e=+e)&&(e<0&&(e*=-1),n&&(e=t.round(e,Ft(e,n))),r=1+Math.floor(1e-12+Math.log(e)/Math.LN10),r=Math.max(-24,Math.min(24,3*Math.floor((r-1)/3)))),zt[8+r/3]};var Vt=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Bt=t.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,n){return(e=t.round(e,Ft(e,n))).toFixed(Math.max(0,Math.min(20,Ft(e*(1+1e-15),n))))}});function Ht(e){return e+""}var Wt=t.time={},Yt=Date;function Gt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Gt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Kt.setUTCDate.apply(this._,arguments)},setDay:function(){Kt.setUTCDay.apply(this._,arguments)},setFullYear:function(){Kt.setUTCFullYear.apply(this._,arguments)},setHours:function(){Kt.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Kt.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Kt.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Kt.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Kt.setUTCSeconds.apply(this._,arguments)},setTime:function(){Kt.setTime.apply(this._,arguments)}};var Kt=Date.prototype;function Xt(e,t,n){function r(t){var n=e(t),r=o(n,1);return t-n<r-t?n:r}function i(n){return t(n=e(new Yt(n-1)),1),n}function o(e,n){return t(e=new Yt(+e),n),e}function a(e,r,o){var a=i(e),s=[];if(o>1)for(;a<r;)n(a)%o||s.push(new Date(+a)),t(a,1);else for(;a<r;)s.push(new Date(+a)),t(a,1);return s}function s(e,t,n){try{Yt=Gt;var r=new Gt;return r._=e,a(r,t,n)}finally{Yt=Date}}e.floor=e,e.round=r,e.ceil=i,e.offset=o,e.range=a;var u=e.utc=Qt(e);return u.floor=u,u.round=Qt(r),u.ceil=Qt(i),u.offset=Qt(o),u.range=s,e}function Qt(e){return function(t,n){try{Yt=Gt;var r=new Gt;return r._=t,e(r,n)._}finally{Yt=Date}}}function Jt(e){var n=e.dateTime,r=e.date,i=e.time,o=e.periods,a=e.days,s=e.shortDays,u=e.months,l=e.shortMonths;function c(e){var t=e.length;function n(n){for(var r,i,o,a=[],s=-1,u=0;++s<t;)37===e.charCodeAt(s)&&(a.push(e.slice(u,s)),null!=(i=$t[r=e.charAt(++s)])&&(r=e.charAt(++s)),(o=w[r])&&(r=o(n,null==i?"e"===r?" ":"0":i)),a.push(r),u=s+1);return a.push(e.slice(u,s)),a.join("")}return n.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(f(n,e,t,0)!=t.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var r=null!=n.Z&&Yt!==Gt,i=new(r?Gt:Yt);return"j"in n?i.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),i.setFullYear(n.y,0,1),i.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(i.getDay()+5)%7:n.w+7*n.U-(i.getDay()+6)%7)):i.setFullYear(n.y,n.m,n.d),i.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),r?i._:i},n.toString=function(){return e},n}function f(e,t,n,r){for(var i,o,a,s=0,u=t.length,l=n.length;s<u;){if(r>=l)return-1;if(37===(i=t.charCodeAt(s++))){if(a=t.charAt(s++),!(o=x[a in $t?t.charAt(s++):a])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}c.utc=function(e){var t=c(e);function n(e){try{var n=new(Yt=Gt);return n._=e,t(n)}finally{Yt=Date}}return n.parse=function(e){try{Yt=Gt;var n=t.parse(e);return n&&n._}finally{Yt=Date}},n.toString=t.toString,n},c.multi=c.utc.multi=wn;var h=t.map(),d=nn(a),p=rn(a),v=nn(s),y=rn(s),g=nn(u),m=rn(u),b=nn(l),_=rn(l);o.forEach((function(e,t){h.set(e.toLowerCase(),t)}));var w={a:function(e){return s[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return u[e.getMonth()]},c:c(n),d:function(e,t){return tn(e.getDate(),t,2)},e:function(e,t){return tn(e.getDate(),t,2)},H:function(e,t){return tn(e.getHours(),t,2)},I:function(e,t){return tn(e.getHours()%12||12,t,2)},j:function(e,t){return tn(1+Wt.dayOfYear(e),t,3)},L:function(e,t){return tn(e.getMilliseconds(),t,3)},m:function(e,t){return tn(e.getMonth()+1,t,2)},M:function(e,t){return tn(e.getMinutes(),t,2)},p:function(e){return o[+(e.getHours()>=12)]},S:function(e,t){return tn(e.getSeconds(),t,2)},U:function(e,t){return tn(Wt.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return tn(Wt.mondayOfYear(e),t,2)},x:c(r),X:c(i),y:function(e,t){return tn(e.getFullYear()%100,t,2)},Y:function(e,t){return tn(e.getFullYear()%1e4,t,4)},Z:bn,"%":function(){return"%"}},x={a:T,A:k,b:O,B:S,c:A,d:dn,e:dn,H:vn,I:vn,j:pn,L:mn,m:hn,M:yn,p:C,S:gn,U:an,w:on,W:sn,x:E,X:M,y:ln,Y:un,Z:cn,"%":_n};function T(e,t,n){v.lastIndex=0;var r=v.exec(t.slice(n));return r?(e.w=y.get(r[0].toLowerCase()),n+r[0].length):-1}function k(e,t,n){d.lastIndex=0;var r=d.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1}function O(e,t,n){b.lastIndex=0;var r=b.exec(t.slice(n));return r?(e.m=_.get(r[0].toLowerCase()),n+r[0].length):-1}function S(e,t,n){g.lastIndex=0;var r=g.exec(t.slice(n));return r?(e.m=m.get(r[0].toLowerCase()),n+r[0].length):-1}function A(e,t,n){return f(e,w.c.toString(),t,n)}function E(e,t,n){return f(e,w.x.toString(),t,n)}function M(e,t,n){return f(e,w.X.toString(),t,n)}function C(e,t,n){var r=h.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)}return c}Wt.year=Xt((function(e){return(e=Wt.day(e)).setMonth(0,1),e}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e){return e.getFullYear()})),Wt.years=Wt.year.range,Wt.years.utc=Wt.year.utc.range,Wt.day=Xt((function(e){var t=new Yt(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e){return e.getDate()-1})),Wt.days=Wt.day.range,Wt.days.utc=Wt.day.utc.range,Wt.dayOfYear=function(e){var t=Wt.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach((function(e,t){t=7-t;var n=Wt[e]=Xt((function(e){return(e=Wt.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e}),(function(e,t){e.setDate(e.getDate()+7*Math.floor(t))}),(function(e){var n=Wt.year(e).getDay();return Math.floor((Wt.dayOfYear(e)+(n+t)%7)/7)-(n!==t)}));Wt[e+"s"]=n.range,Wt[e+"s"].utc=n.utc.range,Wt[e+"OfYear"]=function(e){var n=Wt.year(e).getDay();return Math.floor((Wt.dayOfYear(e)+(n+t)%7)/7)}})),Wt.week=Wt.sunday,Wt.weeks=Wt.sunday.range,Wt.weeks.utc=Wt.sunday.utc.range,Wt.weekOfYear=Wt.sundayOfYear;var $t={"-":"",_:" ",0:"0"},Zt=/^\s*\d+/,en=/^%/;function tn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function nn(e){return new RegExp("^(?:"+e.map(t.requote).join("|")+")","i")}function rn(e){for(var t=new x,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function on(e,t,n){Zt.lastIndex=0;var r=Zt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function an(e,t,n){Zt.lastIndex=0;var r=Zt.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function sn(e,t,n){Zt.lastIndex=0;var r=Zt.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function un(e,t,n){Zt.lastIndex=0;var r=Zt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function ln(e,t,n){Zt.lastIndex=0;var r=Zt.exec(t.slice(n,n+2));return r?(e.y=fn(+r[0]),n+r[0].length):-1}function cn(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function fn(e){return e+(e>68?1900:2e3)}function hn(e,t,n){Zt.lastIndex=0;var r=Zt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function dn(e,t,n){Zt.lastIndex=0;var r=Zt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function pn(e,t,n){Zt.lastIndex=0;var r=Zt.exec(t.slice(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function vn(e,t,n){Zt.lastIndex=0;var r=Zt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function yn(e,t,n){Zt.lastIndex=0;var r=Zt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function gn(e,t,n){Zt.lastIndex=0;var r=Zt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function mn(e,t,n){Zt.lastIndex=0;var r=Zt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function bn(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=b(t)/60|0,i=b(t)%60;return n+tn(r,"0",2)+tn(i,"0",2)}function _n(e,t,n){en.lastIndex=0;var r=en.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function wn(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}t.locale=function(e){return{numberFormat:qt(e),timeFormat:Jt(e)}};var xn=t.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Tn(){}t.format=xn.numberFormat,t.geo={},Tn.prototype={s:0,t:0,add:function(e){On(e,this.t,kn),On(kn.s,this.s,this),this.s?this.t+=kn.t:this.s=kn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var kn=new Tn;function On(e,t,n){var r=n.s=e+t,i=r-e,o=r-i;n.t=e-o+(t-i)}function Sn(e,t){e&&En.hasOwnProperty(e.type)&&En[e.type](e,t)}t.geo.stream=function(e,t){e&&An.hasOwnProperty(e.type)?An[e.type](e,t):Sn(e,t)};var An={Feature:function(e,t){Sn(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Sn(n[r].geometry,t)}},En={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Mn(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Mn(n[r],t,0)},Polygon:function(e,t){Cn(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Cn(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Sn(n[r],t)}};function Mn(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function Cn(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Mn(e[n],t,1);t.polygonEnd()}t.geo.area=function(e){return In=0,t.geo.stream(e,Hn),In};var In,Dn,Pn,Nn,Ln,jn,Rn,Fn,zn,Un,qn,Vn,Bn=new Tn,Hn={sphere:function(){In+=4*Me},point:R,lineStart:R,lineEnd:R,polygonStart:function(){Bn.reset(),Hn.lineStart=Wn},polygonEnd:function(){var e=2*Bn;In+=e<0?4*Me+e:e,Hn.lineStart=Hn.lineEnd=Hn.point=R}};function Wn(){var e,t,n,r,i;function o(e,t){t=t*Pe/2+Me/4;var o=(e*=Pe)-n,a=o>=0?1:-1,s=a*o,u=Math.cos(t),l=Math.sin(t),c=i*l,f=r*u+c*Math.cos(s),h=c*a*Math.sin(s);Bn.add(Math.atan2(h,f)),n=e,r=u,i=l}Hn.point=function(a,s){Hn.point=o,n=(e=a)*Pe,r=Math.cos(s=(t=s)*Pe/2+Me/4),i=Math.sin(s)},Hn.lineEnd=function(){o(e,t)}}function Yn(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function Gn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Kn(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Xn(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Qn(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Jn(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function $n(e){return[Math.atan2(e[1],e[0]),Fe(e[2])]}function Zn(e,t){return b(e[0]-t[0])<Ae&&b(e[1]-t[1])<Ae}t.geo.bounds=function(){var e,n,r,i,o,a,s,u,l,c,f,h={point:d,lineStart:v,lineEnd:y,polygonStart:function(){h.point=g,h.lineStart=m,h.lineEnd=_,l=0,Hn.polygonStart()},polygonEnd:function(){Hn.polygonEnd(),h.point=d,h.lineStart=v,h.lineEnd=y,Bn<0?(e=-(r=180),n=-(i=90)):l>Ae?i=90:l<-Ae&&(n=-90),f[0]=e,f[1]=r}};function d(t,o){c.push(f=[e=t,r=t]),o<n&&(n=o),o>i&&(i=o)}function p(t,a){var s=Yn([t*Pe,a*Pe]);if(u){var l=Kn(u,s),c=Kn([l[1],-l[0],0],l);Jn(c),c=$n(c);var f=t-o,h=f>0?1:-1,p=c[0]*Ne*h,v=b(f)>180;if(v^(h*o<p&&p<h*t))(y=c[1]*Ne)>i&&(i=y);else if(v^(h*o<(p=(p+360)%360-180)&&p<h*t)){var y;(y=-c[1]*Ne)<n&&(n=y)}else a<n&&(n=a),a>i&&(i=a);v?t<o?w(e,t)>w(e,r)&&(r=t):w(t,r)>w(e,r)&&(e=t):r>=e?(t<e&&(e=t),t>r&&(r=t)):t>o?w(e,t)>w(e,r)&&(r=t):w(t,r)>w(e,r)&&(e=t)}else d(t,a);u=s,o=t}function v(){h.point=p}function y(){f[0]=e,f[1]=r,h.point=d,u=null}function g(e,t){if(u){var n=e-o;l+=b(n)>180?n+(n>0?360:-360):n}else a=e,s=t;Hn.point(e,t),p(e,t)}function m(){Hn.lineStart()}function _(){g(a,s),Hn.lineEnd(),b(l)>Ae&&(e=-(r=180)),f[0]=e,f[1]=r,u=null}function w(e,t){return(t-=e)<0?t+360:t}function x(e,t){return e[0]-t[0]}function T(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}return function(o){if(i=r=-(e=n=1/0),c=[],t.geo.stream(o,h),l=c.length){c.sort(x);for(var a=1,s=[v=c[0]];a<l;++a)T((d=c[a])[0],v)||T(d[1],v)?(w(v[0],d[1])>w(v[0],v[1])&&(v[1]=d[1]),w(d[0],v[1])>w(v[0],v[1])&&(v[0]=d[0])):s.push(v=d);for(var u,l,d,p=-1/0,v=(a=0,s[l=s.length-1]);a<=l;v=d,++a)d=s[a],(u=w(v[1],d[0]))>p&&(p=u,e=d[0],r=v[1])}return c=f=null,e===1/0||n===1/0?[[NaN,NaN],[NaN,NaN]]:[[e,n],[r,i]]}}(),t.geo.centroid=function(e){Dn=Pn=Nn=Ln=jn=Rn=Fn=zn=Un=qn=Vn=0,t.geo.stream(e,er);var n=Un,r=qn,i=Vn,o=n*n+r*r+i*i;return o<Ee&&(n=Rn,r=Fn,i=zn,Pn<Ae&&(n=Nn,r=Ln,i=jn),(o=n*n+r*r+i*i)<Ee)?[NaN,NaN]:[Math.atan2(r,n)*Ne,Fe(i/Math.sqrt(o))*Ne]};var er={sphere:R,point:tr,lineStart:rr,lineEnd:ir,polygonStart:function(){er.lineStart=or},polygonEnd:function(){er.lineStart=rr}};function tr(e,t){e*=Pe;var n=Math.cos(t*=Pe);nr(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function nr(e,t,n){++Dn,Nn+=(e-Nn)/Dn,Ln+=(t-Ln)/Dn,jn+=(n-jn)/Dn}function rr(){var e,t,n;function r(r,i){r*=Pe;var o=Math.cos(i*=Pe),a=o*Math.cos(r),s=o*Math.sin(r),u=Math.sin(i),l=Math.atan2(Math.sqrt((l=t*u-n*s)*l+(l=n*a-e*u)*l+(l=e*s-t*a)*l),e*a+t*s+n*u);Pn+=l,Rn+=l*(e+(e=a)),Fn+=l*(t+(t=s)),zn+=l*(n+(n=u)),nr(e,t,n)}er.point=function(i,o){i*=Pe;var a=Math.cos(o*=Pe);e=a*Math.cos(i),t=a*Math.sin(i),n=Math.sin(o),er.point=r,nr(e,t,n)}}function ir(){er.point=tr}function or(){var e,t,n,r,i;function o(e,t){e*=Pe;var o=Math.cos(t*=Pe),a=o*Math.cos(e),s=o*Math.sin(e),u=Math.sin(t),l=r*u-i*s,c=i*a-n*u,f=n*s-r*a,h=Math.sqrt(l*l+c*c+f*f),d=n*a+r*s+i*u,p=h&&-Re(d)/h,v=Math.atan2(h,d);Un+=p*l,qn+=p*c,Vn+=p*f,Pn+=v,Rn+=v*(n+(n=a)),Fn+=v*(r+(r=s)),zn+=v*(i+(i=u)),nr(n,r,i)}er.point=function(a,s){e=a,t=s,er.point=o,a*=Pe;var u=Math.cos(s*=Pe);n=u*Math.cos(a),r=u*Math.sin(a),i=Math.sin(s),nr(n,r,i)},er.lineEnd=function(){o(e,t),er.lineEnd=ir,er.point=tr}}function ar(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function sr(){return!0}function ur(e,t,n,r,i){var o=[],a=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if(Zn(n,r)){i.lineStart();for(var s=0;s<t;++s)i.point((n=e[s])[0],n[1]);i.lineEnd()}else{var u=new cr(n,e,null,!0),l=new cr(n,null,u,!1);u.o=l,o.push(u),a.push(l),u=new cr(r,e,null,!1),l=new cr(r,null,u,!0),u.o=l,o.push(u),a.push(l)}}})),a.sort(t),lr(o),lr(a),o.length){for(var s=0,u=n,l=a.length;s<l;++s)a[s].e=u=!u;for(var c,f,h=o[0];;){for(var d=h,p=!0;d.v;)if((d=d.n)===h)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(s=0,l=c.length;s<l;++s)i.point((f=c[s])[0],f[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(p)for(s=(c=d.p.z).length-1;s>=0;--s)i.point((f=c[s])[0],f[1]);else r(d.x,d.p.x,-1,i);d=d.p}c=(d=d.o).z,p=!p}while(!d.v);i.lineEnd()}}}function lr(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function cr(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function fr(e,n,r,i){return function(o,a){var s,u=n(a),l=o.invert(i[0],i[1]),c={point:f,lineStart:d,lineEnd:p,polygonStart:function(){c.point=_,c.lineStart=w,c.lineEnd=x,s=[],v=[]},polygonEnd:function(){c.point=f,c.lineStart=d,c.lineEnd=p,s=t.merge(s);var e=br(l,v);s.length?(b||(a.polygonStart(),b=!0),ur(s,pr,e,r,a)):e&&(b||(a.polygonStart(),b=!0),a.lineStart(),r(null,null,1,a),a.lineEnd()),b&&(a.polygonEnd(),b=!1),s=v=null},sphere:function(){a.polygonStart(),a.lineStart(),r(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function f(t,n){var r=o(t,n);e(t=r[0],n=r[1])&&a.point(t,n)}function h(e,t){var n=o(e,t);u.point(n[0],n[1])}function d(){c.point=h,u.lineStart()}function p(){c.point=f,u.lineEnd()}var v,y,g=dr(),m=n(g),b=!1;function _(e,t){y.push([e,t]);var n=o(e,t);m.point(n[0],n[1])}function w(){m.lineStart(),y=[]}function x(){_(y[0][0],y[0][1]),m.lineEnd();var e,t=m.clean(),n=g.buffer(),r=n.length;if(y.pop(),v.push(y),y=null,r)if(1&t){var i,o=-1;if((r=(e=n[0]).length-1)>0){for(b||(a.polygonStart(),b=!0),a.lineStart();++o<r;)a.point((i=e[o])[0],i[1]);a.lineEnd()}}else r>1&&2&t&&n.push(n.pop().concat(n.shift())),s.push(n.filter(hr))}return c}}function hr(e){return e.length>1}function dr(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:R,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function pr(e,t){return((e=e.x)[0]<0?e[1]-De-Ae:De-e[1])-((t=t.x)[0]<0?t[1]-De-Ae:De-t[1])}var vr=fr(sr,yr,mr,[-Me,-Me/2]);function yr(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var s=o>0?Me:-Me,u=b(o-n);b(u-Me)<Ae?(e.point(n,r=(r+a)/2>0?De:-De),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(o,r),t=0):i!==s&&u>=Me&&(b(n-i)<Ae&&(n-=i*Ae),b(o-s)<Ae&&(o-=s*Ae),r=gr(n,r,o,a),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=o,r=a),i=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}function gr(e,t,n,r){var i,o,a=Math.sin(e-n);return b(a)>Ae?Math.atan((Math.sin(t)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(t))*Math.sin(e))/(i*o*a)):(t+r)/2}function mr(e,t,n,r){var i;if(null==e)i=n*De,r.point(-Me,i),r.point(0,i),r.point(Me,i),r.point(Me,0),r.point(Me,-i),r.point(0,-i),r.point(-Me,-i),r.point(-Me,0),r.point(-Me,i);else if(b(e[0]-t[0])>Ae){var o=e[0]<t[0]?Me:-Me;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function br(e,t){var n=e[0],r=e[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;Bn.reset();for(var s=0,u=t.length;s<u;++s){var l=t[s],c=l.length;if(c)for(var f=l[0],h=f[0],d=f[1]/2+Me/4,p=Math.sin(d),v=Math.cos(d),y=1;;){y===c&&(y=0);var g=(e=l[y])[0],m=e[1]/2+Me/4,b=Math.sin(m),_=Math.cos(m),w=g-h,x=w>=0?1:-1,T=x*w,k=T>Me,O=p*b;if(Bn.add(Math.atan2(O*x*Math.sin(T),v*_+O*Math.cos(T))),o+=k?w+x*Ce:w,k^h>=n^g>=n){var S=Kn(Yn(f),Yn(e));Jn(S);var A=Kn(i,S);Jn(A);var E=(k^w>=0?-1:1)*Fe(A[2]);(r>E||r===E&&(S[0]||S[1]))&&(a+=k^w>=0?1:-1)}if(!y++)break;h=g,p=b,v=_,f=e}}return(o<-Ae||o<Ae&&Bn<-Ae)^1&a}function _r(e){var t=Math.cos(e),n=t>0,r=b(t)>Ae;return fr(i,o,ii(e,6*Pe),n?[0,-e]:[-Me,e-Me]);function i(e,n){return Math.cos(e)*Math.cos(n)>t}function o(e){var t,o,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(f,h){var d,p=[f,h],v=i(f,h),y=n?v?0:s(f,h):v?s(f+(f<0?Me:-Me),h):0;if(!t&&(l=u=v)&&e.lineStart(),v!==u&&(d=a(t,p),(Zn(t,d)||Zn(p,d))&&(p[0]+=Ae,p[1]+=Ae,v=i(p[0],p[1]))),v!==u)c=0,v?(e.lineStart(),d=a(p,t),e.point(d[0],d[1])):(d=a(t,p),e.point(d[0],d[1]),e.lineEnd()),t=d;else if(r&&t&&n^v){var g;y&o||!(g=a(p,t,!0))||(c=0,n?(e.lineStart(),e.point(g[0][0],g[0][1]),e.point(g[1][0],g[1][1]),e.lineEnd()):(e.point(g[1][0],g[1][1]),e.lineEnd(),e.lineStart(),e.point(g[0][0],g[0][1])))}!v||t&&Zn(t,p)||e.point(p[0],p[1]),t=p,u=v,o=y},lineEnd:function(){u&&e.lineEnd(),t=null},clean:function(){return c|(l&&u)<<1}}}function a(e,n,r){var i=[1,0,0],o=Kn(Yn(e),Yn(n)),a=Gn(o,o),s=o[0],u=a-s*s;if(!u)return!r&&e;var l=t*a/u,c=-t*s/u,f=Kn(i,o),h=Qn(i,l);Xn(h,Qn(o,c));var d=f,p=Gn(h,d),v=Gn(d,d),y=p*p-v*(Gn(h,h)-1);if(!(y<0)){var g=Math.sqrt(y),m=Qn(d,(-p-g)/v);if(Xn(m,h),m=$n(m),!r)return m;var _,w=e[0],x=n[0],T=e[1],k=n[1];x<w&&(_=w,w=x,x=_);var O=x-w,S=b(O-Me)<Ae;if(!S&&k<T&&(_=T,T=k,k=_),S||O<Ae?S?T+k>0^m[1]<(b(m[0]-w)<Ae?T:k):T<=m[1]&&m[1]<=k:O>Me^(w<=m[0]&&m[0]<=x)){var A=Qn(d,(-p+g)/v);return Xn(A,h),[m,$n(A)]}}}function s(t,r){var i=n?e:Me-e,o=0;return t<-i?o|=1:t>i&&(o|=2),r<-i?o|=4:r>i&&(o|=8),o}}function wr(e,t,n,r){return function(i){var o,a=i.a,s=i.b,u=a.x,l=a.y,c=0,f=1,h=s.x-u,d=s.y-l;if(o=e-u,h||!(o>0)){if(o/=h,h<0){if(o<c)return;o<f&&(f=o)}else if(h>0){if(o>f)return;o>c&&(c=o)}if(o=n-u,h||!(o<0)){if(o/=h,h<0){if(o>f)return;o>c&&(c=o)}else if(h>0){if(o<c)return;o<f&&(f=o)}if(o=t-l,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<f&&(f=o)}else if(d>0){if(o>f)return;o>c&&(c=o)}if(o=r-l,d||!(o<0)){if(o/=d,d<0){if(o>f)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<f&&(f=o)}return c>0&&(i.a={x:u+c*h,y:l+c*d}),f<1&&(i.b={x:u+f*h,y:l+f*d}),i}}}}}}var xr=1e9;function Tr(e,n,r,i){return function(u){var l,c,f,h,d,p,v,y,g,m,b,_=u,w=dr(),x=wr(e,n,r,i),T={point:A,lineStart:E,lineEnd:M,polygonStart:function(){u=w,l=[],c=[],b=!0},polygonEnd:function(){u=_,l=t.merge(l);var n=k([e,i]),r=b&&n,o=l.length;(r||o)&&(u.polygonStart(),r&&(u.lineStart(),O(null,null,1,u),u.lineEnd()),o&&ur(l,a,n,O,u),u.polygonEnd()),l=c=f=null}};function k(e){for(var t=0,n=c.length,r=e[1],i=0;i<n;++i)for(var o,a=1,s=c[i],u=s.length,l=s[0];a<u;++a)o=s[a],l[1]<=r?o[1]>r&&je(l,o,e)>0&&++t:o[1]<=r&&je(l,o,e)<0&&--t,l=o;return 0!==t}function O(t,a,u,l){var c=0,f=0;if(null==t||(c=o(t,u))!==(f=o(a,u))||s(t,a)<0^u>0)do{l.point(0===c||3===c?e:r,c>1?i:n)}while((c=(c+u+4)%4)!==f);else l.point(a[0],a[1])}function S(t,o){return e<=t&&t<=r&&n<=o&&o<=i}function A(e,t){S(e,t)&&u.point(e,t)}function E(){T.point=C,c&&c.push(f=[]),m=!0,g=!1,v=y=NaN}function M(){l&&(C(h,d),p&&g&&w.rejoin(),l.push(w.buffer())),T.point=A,g&&u.lineEnd()}function C(e,t){var n=S(e=Math.max(-xr,Math.min(xr,e)),t=Math.max(-xr,Math.min(xr,t)));if(c&&f.push([e,t]),m)h=e,d=t,p=n,m=!1,n&&(u.lineStart(),u.point(e,t));else if(n&&g)u.point(e,t);else{var r={a:{x:v,y:y},b:{x:e,y:t}};x(r)?(g||(u.lineStart(),u.point(r.a.x,r.a.y)),u.point(r.b.x,r.b.y),n||u.lineEnd(),b=!1):n&&(u.lineStart(),u.point(e,t),b=!1)}v=e,y=t,g=n}return T};function o(t,i){return b(t[0]-e)<Ae?i>0?0:3:b(t[0]-r)<Ae?i>0?2:1:b(t[1]-n)<Ae?i>0?1:0:i>0?3:2}function a(e,t){return s(e.x,t.x)}function s(e,t){var n=o(e,1),r=o(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}}function kr(e){var t=0,n=Me/3,r=Qr(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*Me/180,n=e[1]*Me/180):[t/Me*180,n/Me*180]},i}function Or(e,t){var n=Math.sin(e),r=(n+Math.sin(t))/2,i=1+n*(2*r-n),o=Math.sqrt(i)/r;function a(e,t){var n=Math.sqrt(i-2*r*Math.sin(t))/r;return[n*Math.sin(e*=r),o-n*Math.cos(e)]}return a.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/r,Fe((i-(e*e+n*n)*r*r)/(2*r))]},a}t.geo.clipExtent=function(){var e,t,n,r,i,o,a={stream:function(e){return i&&(i.valid=!1),(i=o(e)).valid=!0,i},extent:function(s){return arguments.length?(o=Tr(e=+s[0][0],t=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),a):[[e,t],[n,r]]}};return a.extent([[0,0],[960,500]])},(t.geo.conicEqualArea=function(){return kr(Or)}).raw=Or,t.geo.albers=function(){return t.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},t.geo.albersUsa=function(){var e,n,r,i,o=t.geo.albers(),a=t.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=t.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,n){e=[t,n]}};function l(t){var o=t[0],a=t[1];return e=null,n(o,a),e||(r(o,a),e)||i(o,a),e}return l.invert=function(e){var t=o.scale(),n=o.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?a:i>=.166&&i<.234&&r>=-.214&&r<-.115?s:o).invert(e)},l.stream=function(e){var t=o.stream(e),n=a.stream(e),r=s.stream(e);return{point:function(e,i){t.point(e,i),n.point(e,i),r.point(e,i)},sphere:function(){t.sphere(),n.sphere(),r.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},l.precision=function(e){return arguments.length?(o.precision(e),a.precision(e),s.precision(e),l):o.precision()},l.scale=function(e){return arguments.length?(o.scale(e),a.scale(.35*e),s.scale(e),l.translate(o.translate())):o.scale()},l.translate=function(e){if(!arguments.length)return o.translate();var t=o.scale(),c=+e[0],f=+e[1];return n=o.translate(e).clipExtent([[c-.455*t,f-.238*t],[c+.455*t,f+.238*t]]).stream(u).point,r=a.translate([c-.307*t,f+.201*t]).clipExtent([[c-.425*t+Ae,f+.12*t+Ae],[c-.214*t-Ae,f+.234*t-Ae]]).stream(u).point,i=s.translate([c-.205*t,f+.212*t]).clipExtent([[c-.214*t+Ae,f+.166*t+Ae],[c-.115*t-Ae,f+.234*t-Ae]]).stream(u).point,l},l.scale(1070)};var Sr,Ar,Er,Mr,Cr,Ir,Dr={point:R,lineStart:R,lineEnd:R,polygonStart:function(){Ar=0,Dr.lineStart=Pr},polygonEnd:function(){Dr.lineStart=Dr.lineEnd=Dr.point=R,Sr+=b(Ar/2)}};function Pr(){var e,t,n,r;function i(e,t){Ar+=r*e-n*t,n=e,r=t}Dr.point=function(o,a){Dr.point=i,e=n=o,t=r=a},Dr.lineEnd=function(){i(e,t)}}var Nr={point:Lr,lineStart:R,lineEnd:R,polygonStart:R,polygonEnd:R};function Lr(e,t){e<Er&&(Er=e),e>Cr&&(Cr=e),t<Mr&&(Mr=t),t>Ir&&(Ir=t)}function jr(){var e=Rr(4.5),t=[],n={point:r,lineStart:function(){n.point=i},lineEnd:a,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=a,n.point=r},pointRadius:function(t){return e=Rr(t),n},result:function(){if(t.length){var e=t.join("");return t=[],e}}};function r(n,r){t.push("M",n,",",r,e)}function i(e,r){t.push("M",e,",",r),n.point=o}function o(e,n){t.push("L",e,",",n)}function a(){n.point=r}function s(){t.push("Z")}return n}function Rr(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}var Fr,zr={point:Ur,lineStart:qr,lineEnd:Vr,polygonStart:function(){zr.lineStart=Br},polygonEnd:function(){zr.point=Ur,zr.lineStart=qr,zr.lineEnd=Vr}};function Ur(e,t){Nn+=e,Ln+=t,++jn}function qr(){var e,t;function n(n,r){var i=n-e,o=r-t,a=Math.sqrt(i*i+o*o);Rn+=a*(e+n)/2,Fn+=a*(t+r)/2,zn+=a,Ur(e=n,t=r)}zr.point=function(r,i){zr.point=n,Ur(e=r,t=i)}}function Vr(){zr.point=Ur}function Br(){var e,t,n,r;function i(e,t){var i=e-n,o=t-r,a=Math.sqrt(i*i+o*o);Rn+=a*(n+e)/2,Fn+=a*(r+t)/2,zn+=a,Un+=(a=r*e-n*t)*(n+e),qn+=a*(r+t),Vn+=3*a,Ur(n=e,r=t)}zr.point=function(o,a){zr.point=i,Ur(e=n=o,t=r=a)},zr.lineEnd=function(){i(e,t)}}function Hr(e){var t=4.5,n={point:r,lineStart:function(){n.point=i},lineEnd:a,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=a,n.point=r},pointRadius:function(e){return t=e,n},result:R};function r(n,r){e.moveTo(n+t,r),e.arc(n,r,t,0,Ce)}function i(t,r){e.moveTo(t,r),n.point=o}function o(t,n){e.lineTo(t,n)}function a(){n.point=r}function s(){e.closePath()}return n}function Wr(e){var t=.5,n=Math.cos(30*Pe),r=16;function i(e){return(r?a:o)(e)}function o(t){return Kr(t,(function(n,r){n=e(n,r),t.point(n[0],n[1])}))}function a(t){var n,i,o,a,u,l,c,f,h,d,p,v,y={point:g,lineStart:m,lineEnd:_,polygonStart:function(){t.polygonStart(),y.lineStart=w},polygonEnd:function(){t.polygonEnd(),y.lineStart=m}};function g(n,r){n=e(n,r),t.point(n[0],n[1])}function m(){f=NaN,y.point=b,t.lineStart()}function b(n,i){var o=Yn([n,i]),a=e(n,i);s(f,h,c,d,p,v,f=a[0],h=a[1],c=n,d=o[0],p=o[1],v=o[2],r,t),t.point(f,h)}function _(){y.point=g,t.lineEnd()}function w(){m(),y.point=x,y.lineEnd=T}function x(e,t){b(n=e,t),i=f,o=h,a=d,u=p,l=v,y.point=b}function T(){s(f,h,c,d,p,v,i,o,n,a,u,l,r,t),y.lineEnd=_,_()}return y}function s(r,i,o,a,u,l,c,f,h,d,p,v,y,g){var m=c-r,_=f-i,w=m*m+_*_;if(w>4*t&&y--){var x=a+d,T=u+p,k=l+v,O=Math.sqrt(x*x+T*T+k*k),S=Math.asin(k/=O),A=b(b(k)-1)<Ae||b(o-h)<Ae?(o+h)/2:Math.atan2(T,x),E=e(A,S),M=E[0],C=E[1],I=M-r,D=C-i,P=_*I-m*D;(P*P/w>t||b((m*I+_*D)/w-.5)>.3||a*d+u*p+l*v<n)&&(s(r,i,o,a,u,l,M,C,A,x/=O,T/=O,k,y,g),g.point(M,C),s(M,C,A,x,T,k,c,f,h,d,p,v,y,g))}}return i.precision=function(e){return arguments.length?(r=(t=e*e)>0&&16,i):Math.sqrt(t)},i}function Yr(e){var t=Wr((function(t,n){return e([t*Ne,n*Ne])}));return function(e){return Jr(t(e))}}function Gr(e){this.stream=e}function Kr(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function Xr(e){return Qr((function(){return e}))()}function Qr(e){var n,r,i,o,a,s,u=Wr((function(e,t){return[(e=n(e,t))[0]*l+o,a-e[1]*l]})),l=150,c=480,f=250,h=0,d=0,p=0,v=0,y=0,g=vr,m=P,b=null,_=null;function w(e){return[(e=i(e[0]*Pe,e[1]*Pe))[0]*l+o,a-e[1]*l]}function x(e){return(e=i.invert((e[0]-o)/l,(a-e[1])/l))&&[e[0]*Ne,e[1]*Ne]}function T(){i=ar(r=ei(p,v,y),n);var e=n(h,d);return o=c-e[0]*l,a=f+e[1]*l,k()}function k(){return s&&(s.valid=!1,s=null),w}return w.stream=function(e){return s&&(s.valid=!1),(s=Jr(g(r,u(m(e))))).valid=!0,s},w.clipAngle=function(e){return arguments.length?(g=null==e?(b=e,vr):_r((b=+e)*Pe),k()):b},w.clipExtent=function(e){return arguments.length?(_=e,m=e?Tr(e[0][0],e[0][1],e[1][0],e[1][1]):P,k()):_},w.scale=function(e){return arguments.length?(l=+e,T()):l},w.translate=function(e){return arguments.length?(c=+e[0],f=+e[1],T()):[c,f]},w.center=function(e){return arguments.length?(h=e[0]%360*Pe,d=e[1]%360*Pe,T()):[h*Ne,d*Ne]},w.rotate=function(e){return arguments.length?(p=e[0]%360*Pe,v=e[1]%360*Pe,y=e.length>2?e[2]%360*Pe:0,T()):[p*Ne,v*Ne,y*Ne]},t.rebind(w,u,"precision"),function(){return n=e.apply(this,arguments),w.invert=n.invert&&x,T()}}function Jr(e){return Kr(e,(function(t,n){e.point(t*Pe,n*Pe)}))}function $r(e,t){return[e,t]}function Zr(e,t){return[e>Me?e-Ce:e<-Me?e+Ce:e,t]}function ei(e,t,n){return e?t||n?ar(ni(e),ri(t,n)):ni(e):t||n?ri(t,n):Zr}function ti(e){return function(t,n){return[(t+=e)>Me?t-Ce:t<-Me?t+Ce:t,n]}}function ni(e){var t=ti(e);return t.invert=ti(-e),t}function ri(e,t){var n=Math.cos(e),r=Math.sin(e),i=Math.cos(t),o=Math.sin(t);function a(e,t){var a=Math.cos(t),s=Math.cos(e)*a,u=Math.sin(e)*a,l=Math.sin(t),c=l*n+s*r;return[Math.atan2(u*i-c*o,s*n-l*r),Fe(c*i+u*o)]}return a.invert=function(e,t){var a=Math.cos(t),s=Math.cos(e)*a,u=Math.sin(e)*a,l=Math.sin(t),c=l*i-u*o;return[Math.atan2(u*i+l*o,s*n+c*r),Fe(c*n-s*r)]},a}function ii(e,t){var n=Math.cos(e),r=Math.sin(e);return function(i,o,a,s){var u=a*t;null!=i?(i=oi(n,i),o=oi(n,o),(a>0?i<o:i>o)&&(i+=a*Ce)):(i=e+a*Ce,o=e-.5*u);for(var l,c=i;a>0?c>o:c<o;c-=u)s.point((l=$n([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],l[1])}}function oi(e,t){var n=Yn(t);n[0]-=e,Jn(n);var r=Re(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Ae)%(2*Math.PI)}function ai(e,n,r){var i=t.range(e,n-Ae,r).concat(n);return function(e){return i.map((function(t){return[e,t]}))}}function si(e,n,r){var i=t.range(e,n-Ae,r).concat(n);return function(e){return i.map((function(t){return[t,e]}))}}function ui(e){return e.source}function li(e){return e.target}function ci(e,t,n,r){var i=Math.cos(t),o=Math.sin(t),a=Math.cos(r),s=Math.sin(r),u=i*Math.cos(e),l=i*Math.sin(e),c=a*Math.cos(n),f=a*Math.sin(n),h=2*Math.asin(Math.sqrt(Ve(r-t)+i*a*Ve(n-e))),d=1/Math.sin(h),p=h?function(e){var t=Math.sin(e*=h)*d,n=Math.sin(h-e)*d,r=n*u+t*c,i=n*l+t*f,a=n*o+t*s;return[Math.atan2(i,r)*Ne,Math.atan2(a,Math.sqrt(r*r+i*i))*Ne]}:function(){return[e*Ne,t*Ne]};return p.distance=h,p}t.geo.path=function(){var e,n,r,i,o,a=4.5;function s(e){return e&&("function"===typeof a&&i.pointRadius(+a.apply(this,arguments)),o&&o.valid||(o=r(i)),t.geo.stream(e,o)),i.result()}function u(){return o=null,s}return s.area=function(e){return Sr=0,t.geo.stream(e,r(Dr)),Sr},s.centroid=function(e){return Nn=Ln=jn=Rn=Fn=zn=Un=qn=Vn=0,t.geo.stream(e,r(zr)),Vn?[Un/Vn,qn/Vn]:zn?[Rn/zn,Fn/zn]:jn?[Nn/jn,Ln/jn]:[NaN,NaN]},s.bounds=function(e){return Cr=Ir=-(Er=Mr=1/0),t.geo.stream(e,r(Nr)),[[Er,Mr],[Cr,Ir]]},s.projection=function(t){return arguments.length?(r=(e=t)?t.stream||Yr(t):P,u()):e},s.context=function(e){return arguments.length?(i=null==(n=e)?new jr:new Hr(e),"function"!==typeof a&&i.pointRadius(a),u()):n},s.pointRadius=function(e){return arguments.length?(a="function"===typeof e?e:(i.pointRadius(+e),+e),s):a},s.projection(t.geo.albersUsa()).context(null)},t.geo.transform=function(e){return{stream:function(t){var n=new Gr(t);for(var r in e)n[r]=e[r];return n}}},Gr.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},t.geo.projection=Xr,t.geo.projectionMutator=Qr,(t.geo.equirectangular=function(){return Xr($r)}).raw=$r.invert=$r,t.geo.rotation=function(e){function t(t){return(t=e(t[0]*Pe,t[1]*Pe))[0]*=Ne,t[1]*=Ne,t}return e=ei(e[0]%360*Pe,e[1]*Pe,e.length>2?e[2]*Pe:0),t.invert=function(t){return(t=e.invert(t[0]*Pe,t[1]*Pe))[0]*=Ne,t[1]*=Ne,t},t},Zr.invert=$r,t.geo.circle=function(){var e,t,n=[0,0],r=6;function i(){var e="function"===typeof n?n.apply(this,arguments):n,r=ei(-e[0]*Pe,-e[1]*Pe,0).invert,i=[];return t(null,null,1,{point:function(e,t){i.push(e=r(e,t)),e[0]*=Ne,e[1]*=Ne}}),{type:"Polygon",coordinates:[i]}}return i.origin=function(e){return arguments.length?(n=e,i):n},i.angle=function(n){return arguments.length?(t=ii((e=+n)*Pe,r*Pe),i):e},i.precision=function(n){return arguments.length?(t=ii(e*Pe,(r=+n)*Pe),i):r},i.angle(90)},t.geo.distance=function(e,t){var n,r=(t[0]-e[0])*Pe,i=e[1]*Pe,o=t[1]*Pe,a=Math.sin(r),s=Math.cos(r),u=Math.sin(i),l=Math.cos(i),c=Math.sin(o),f=Math.cos(o);return Math.atan2(Math.sqrt((n=f*a)*n+(n=l*c-u*f*s)*n),u*c+l*f*s)},t.geo.graticule=function(){var e,n,r,i,o,a,s,u,l,c,f,h,d=10,p=d,v=90,y=360,g=2.5;function m(){return{type:"MultiLineString",coordinates:_()}}function _(){return t.range(Math.ceil(i/v)*v,r,v).map(f).concat(t.range(Math.ceil(u/y)*y,s,y).map(h)).concat(t.range(Math.ceil(n/d)*d,e,d).filter((function(e){return b(e%v)>Ae})).map(l)).concat(t.range(Math.ceil(a/p)*p,o,p).filter((function(e){return b(e%y)>Ae})).map(c))}return m.lines=function(){return _().map((function(e){return{type:"LineString",coordinates:e}}))},m.outline=function(){return{type:"Polygon",coordinates:[f(i).concat(h(s).slice(1),f(r).reverse().slice(1),h(u).reverse().slice(1))]}},m.extent=function(e){return arguments.length?m.majorExtent(e).minorExtent(e):m.minorExtent()},m.majorExtent=function(e){return arguments.length?(i=+e[0][0],r=+e[1][0],u=+e[0][1],s=+e[1][1],i>r&&(e=i,i=r,r=e),u>s&&(e=u,u=s,s=e),m.precision(g)):[[i,u],[r,s]]},m.minorExtent=function(t){return arguments.length?(n=+t[0][0],e=+t[1][0],a=+t[0][1],o=+t[1][1],n>e&&(t=n,n=e,e=t),a>o&&(t=a,a=o,o=t),m.precision(g)):[[n,a],[e,o]]},m.step=function(e){return arguments.length?m.majorStep(e).minorStep(e):m.minorStep()},m.majorStep=function(e){return arguments.length?(v=+e[0],y=+e[1],m):[v,y]},m.minorStep=function(e){return arguments.length?(d=+e[0],p=+e[1],m):[d,p]},m.precision=function(t){return arguments.length?(g=+t,l=ai(a,o,90),c=si(n,e,g),f=ai(u,s,90),h=si(i,r,g),m):g},m.majorExtent([[-180,-90+Ae],[180,90-Ae]]).minorExtent([[-180,-80-Ae],[180,80+Ae]])},t.geo.greatArc=function(){var e,n,r=ui,i=li;function o(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||i.apply(this,arguments)]}}return o.distance=function(){return t.geo.distance(e||r.apply(this,arguments),n||i.apply(this,arguments))},o.source=function(t){return arguments.length?(r=t,e="function"===typeof t?null:t,o):r},o.target=function(e){return arguments.length?(i=e,n="function"===typeof e?null:e,o):i},o.precision=function(){return arguments.length?o:0},o},t.geo.interpolate=function(e,t){return ci(e[0]*Pe,e[1]*Pe,t[0]*Pe,t[1]*Pe)},t.geo.length=function(e){return Fr=0,t.geo.stream(e,fi),Fr};var fi={sphere:R,point:R,lineStart:hi,lineEnd:R,polygonStart:R,polygonEnd:R};function hi(){var e,t,n;function r(r,i){var o=Math.sin(i*=Pe),a=Math.cos(i),s=b((r*=Pe)-e),u=Math.cos(s);Fr+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=n*o-t*a*u)*s),t*o+n*a*u),e=r,t=o,n=a}fi.point=function(i,o){e=i*Pe,t=Math.sin(o*=Pe),n=Math.cos(o),fi.point=r},fi.lineEnd=function(){fi.point=fi.lineEnd=R}}function di(e,t){function n(t,n){var r=Math.cos(t),i=Math.cos(n),o=e(r*i);return[o*i*Math.sin(t),o*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),i=t(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(e*o,r*a),Math.asin(r&&n*o/r)]},n}var pi=di((function(e){return Math.sqrt(2/(1+e))}),(function(e){return 2*Math.asin(e/2)}));(t.geo.azimuthalEqualArea=function(){return Xr(pi)}).raw=pi;var vi=di((function(e){var t=Math.acos(e);return t&&t/Math.sin(t)}),P);function yi(e,t){var n=Math.cos(e),r=function(e){return Math.tan(Me/4+e/2)},i=e===t?Math.sin(e):Math.log(n/Math.cos(t))/Math.log(r(t)/r(e)),o=n*Math.pow(r(e),i)/i;if(!i)return bi;function a(e,t){o>0?t<-De+Ae&&(t=-De+Ae):t>De-Ae&&(t=De-Ae);var n=o/Math.pow(r(t),i);return[n*Math.sin(i*e),o-n*Math.cos(i*e)]}return a.invert=function(e,t){var n=o-t,r=Le(i)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/i,2*Math.atan(Math.pow(o/r,1/i))-De]},a}function gi(e,t){var n=Math.cos(e),r=e===t?Math.sin(e):(n-Math.cos(t))/(t-e),i=n/r+e;if(b(r)<Ae)return $r;function o(e,t){var n=i-t;return[n*Math.sin(r*e),i-n*Math.cos(r*e)]}return o.invert=function(e,t){var n=i-t;return[Math.atan2(e,n)/r,i-Le(r)*Math.sqrt(e*e+n*n)]},o}(t.geo.azimuthalEquidistant=function(){return Xr(vi)}).raw=vi,(t.geo.conicConformal=function(){return kr(yi)}).raw=yi,(t.geo.conicEquidistant=function(){return kr(gi)}).raw=gi;var mi=di((function(e){return 1/e}),Math.atan);function bi(e,t){return[e,Math.log(Math.tan(Me/4+t/2))]}function _i(e){var t,n=Xr(e),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var a=o.apply(n,arguments);if(a===n){if(t=null==e){var s=Me*r(),u=i();o([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else t&&(a=null);return a},n.clipExtent(null)}(t.geo.gnomonic=function(){return Xr(mi)}).raw=mi,bi.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-De]},(t.geo.mercator=function(){return _i(bi)}).raw=bi;var wi=di((function(){return 1}),Math.asin);(t.geo.orthographic=function(){return Xr(wi)}).raw=wi;var xi=di((function(e){return 1/(1+e)}),(function(e){return 2*Math.atan(e)}));function Ti(e,t){return[Math.log(Math.tan(Me/4+t/2)),-e]}function ki(e){return e[0]}function Oi(e){return e[1]}function Si(e){for(var t=e.length,n=[0,1],r=2,i=2;i<t;i++){for(;r>1&&je(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Ai(e,t){return e[0]-t[0]||e[1]-t[1]}(t.geo.stereographic=function(){return Xr(xi)}).raw=xi,Ti.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-De]},(t.geo.transverseMercator=function(){var e=_i(Ti),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90])}).raw=Ti,t.geom={},t.geom.hull=function(e){var t=ki,n=Oi;if(arguments.length)return r(e);function r(e){if(e.length<3)return[];var r,i=kt(t),o=kt(n),a=e.length,s=[],u=[];for(r=0;r<a;r++)s.push([+i.call(this,e[r],r),+o.call(this,e[r],r),r]);for(s.sort(Ai),r=0;r<a;r++)u.push([s[r][0],-s[r][1]]);var l=Si(s),c=Si(u),f=c[0]===l[0],h=c[c.length-1]===l[l.length-1],d=[];for(r=l.length-1;r>=0;--r)d.push(e[s[l[r]][2]]);for(r=+f;r<c.length-h;++r)d.push(e[s[c[r]][2]]);return d}return r.x=function(e){return arguments.length?(t=e,r):t},r.y=function(e){return arguments.length?(n=e,r):n},r},t.geom.polygon=function(e){return H(e,Ei),e};var Ei=t.geom.polygon.prototype=[];function Mi(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function Ci(e,t,n,r){var i=e[0],o=n[0],a=t[0]-i,s=r[0]-o,u=e[1],l=n[1],c=t[1]-u,f=r[1]-l,h=(s*(u-l)-f*(i-o))/(f*a-s*c);return[i+h*a,u+h*c]}function Ii(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}Ei.area=function(){for(var e,t=-1,n=this.length,r=this[n-1],i=0;++t<n;)e=r,r=this[t],i+=e[1]*r[0]-e[0]*r[1];return.5*i},Ei.centroid=function(e){var t,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(e=-1/(6*this.area()));++r<i;)t=s,s=this[r],n=t[0]*s[1]-s[0]*t[1],o+=(t[0]+s[0])*n,a+=(t[1]+s[1])*n;return[o*e,a*e]},Ei.clip=function(e){for(var t,n,r,i,o,a,s=Ii(e),u=-1,l=this.length-Ii(this),c=this[l-1];++u<l;){for(t=e.slice(),e.length=0,i=this[u],o=t[(r=t.length-s)-1],n=-1;++n<r;)Mi(a=t[n],c,i)?(Mi(o,c,i)||e.push(Ci(o,a,c,i)),e.push(a)):Mi(o,c,i)&&e.push(Ci(o,a,c,i)),o=a;s&&e.push(e[0]),c=i}return e};var Di,Pi,Ni,Li,ji,Ri=[],Fi=[];function zi(){ao(this),this.edge=this.site=this.circle=null}function Ui(e){var t=Ri.pop()||new zi;return t.site=e,t}function qi(e){Ji(e),Ni.remove(e),Ri.push(e),ao(e)}function Vi(e){var t=e.circle,n=t.x,r=t.cy,i={x:n,y:r},o=e.P,a=e.N,s=[e];qi(e);for(var u=o;u.circle&&b(n-u.circle.x)<Ae&&b(r-u.circle.cy)<Ae;)o=u.P,s.unshift(u),qi(u),u=o;s.unshift(u),Ji(u);for(var l=a;l.circle&&b(n-l.circle.x)<Ae&&b(r-l.circle.cy)<Ae;)a=l.N,s.push(l),qi(l),l=a;s.push(l),Ji(l);var c,f=s.length;for(c=1;c<f;++c)l=s[c],u=s[c-1],ro(l.edge,u.site,l.site,i);u=s[0],(l=s[f-1]).edge=to(u.site,l.site,null,i),Qi(u),Qi(l)}function Bi(e){for(var t,n,r,i,o=e.x,a=e.y,s=Ni._;s;)if((r=Hi(s,a)-o)>Ae)s=s.L;else{if(!((i=o-Wi(s,a))>Ae)){r>-Ae?(t=s.P,n=s):i>-Ae?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}var u=Ui(e);if(Ni.insert(t,u),t||n){if(t===n)return Ji(t),n=Ui(t.site),Ni.insert(u,n),u.edge=n.edge=to(t.site,u.site),Qi(t),void Qi(n);if(n){Ji(t),Ji(n);var l=t.site,c=l.x,f=l.y,h=e.x-c,d=e.y-f,p=n.site,v=p.x-c,y=p.y-f,g=2*(h*y-d*v),m=h*h+d*d,b=v*v+y*y,_={x:(y*m-d*b)/g+c,y:(h*b-v*m)/g+f};ro(n.edge,l,p,_),u.edge=to(l,e,null,_),n.edge=to(e,p,null,_),Qi(t),Qi(n)}else u.edge=to(t.site,u.site)}}function Hi(e,t){var n=e.site,r=n.x,i=n.y,o=i-t;if(!o)return r;var a=e.P;if(!a)return-1/0;var s=(n=a.site).x,u=n.y,l=u-t;if(!l)return s;var c=s-r,f=1/o-1/l,h=c/l;return f?(-h+Math.sqrt(h*h-2*f*(c*c/(-2*l)-u+l/2+i-o/2)))/f+r:(r+s)/2}function Wi(e,t){var n=e.N;if(n)return Hi(n,t);var r=e.site;return r.y===t?r.x:1/0}function Yi(e){this.site=e,this.edges=[]}function Gi(e){for(var t,n,r,i,o,a,s,u,l,c,f=e[0][0],h=e[1][0],d=e[0][1],p=e[1][1],v=Pi,y=v.length;y--;)if((o=v[y])&&o.prepare())for(u=(s=o.edges).length,a=0;a<u;)r=(c=s[a].end()).x,i=c.y,t=(l=s[++a%u].start()).x,n=l.y,(b(r-t)>Ae||b(i-n)>Ae)&&(s.splice(a,0,new io(no(o.site,c,b(r-f)<Ae&&p-i>Ae?{x:f,y:b(t-f)<Ae?n:p}:b(i-p)<Ae&&h-r>Ae?{x:b(n-p)<Ae?t:h,y:p}:b(r-h)<Ae&&i-d>Ae?{x:h,y:b(t-h)<Ae?n:d}:b(i-d)<Ae&&r-f>Ae?{x:b(n-d)<Ae?t:f,y:d}:null),o.site,null)),++u)}function Ki(e,t){return t.angle-e.angle}function Xi(){ao(this),this.x=this.y=this.arc=this.site=this.cy=null}function Qi(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,o=n.site;if(r!==o){var a=i.x,s=i.y,u=r.x-a,l=r.y-s,c=o.x-a,f=2*(u*(y=o.y-s)-l*c);if(!(f>=-Ee)){var h=u*u+l*l,d=c*c+y*y,p=(y*h-l*d)/f,v=(u*d-c*h)/f,y=v+s,g=Fi.pop()||new Xi;g.arc=e,g.site=i,g.x=p+a,g.y=y+Math.sqrt(p*p+v*v),g.cy=y,e.circle=g;for(var m=null,b=ji._;b;)if(g.y<b.y||g.y===b.y&&g.x<=b.x){if(!b.L){m=b.P;break}b=b.L}else{if(!b.R){m=b;break}b=b.R}ji.insert(m,g),m||(Li=g)}}}}function Ji(e){var t=e.circle;t&&(t.P||(Li=t.N),ji.remove(t),Fi.push(t),ao(t),e.circle=null)}function $i(e){for(var t,n=Di,r=wr(e[0][0],e[0][1],e[1][0],e[1][1]),i=n.length;i--;)(!Zi(t=n[i],e)||!r(t)||b(t.a.x-t.b.x)<Ae&&b(t.a.y-t.b.y)<Ae)&&(t.a=t.b=null,n.splice(i,1))}function Zi(e,t){var n=e.b;if(n)return!0;var r,i,o=e.a,a=t[0][0],s=t[1][0],u=t[0][1],l=t[1][1],c=e.l,f=e.r,h=c.x,d=c.y,p=f.x,v=f.y,y=(h+p)/2,g=(d+v)/2;if(v===d){if(y<a||y>=s)return;if(h>p){if(o){if(o.y>=l)return}else o={x:y,y:u};n={x:y,y:l}}else{if(o){if(o.y<u)return}else o={x:y,y:l};n={x:y,y:u}}}else if(i=g-(r=(h-p)/(v-d))*y,r<-1||r>1)if(h>p){if(o){if(o.y>=l)return}else o={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else{if(o){if(o.y<u)return}else o={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else if(d<v){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return e.a=o,e.b=n,!0}function eo(e,t){this.l=e,this.r=t,this.a=this.b=null}function to(e,t,n,r){var i=new eo(e,t);return Di.push(i),n&&ro(i,e,t,n),r&&ro(i,t,e,r),Pi[e.i].edges.push(new io(i,e,t)),Pi[t.i].edges.push(new io(i,t,e)),i}function no(e,t,n){var r=new eo(e,null);return r.a=t,r.b=n,Di.push(r),r}function ro(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function io(e,t,n){var r=e.a,i=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function oo(){this._=null}function ao(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function so(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function uo(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function lo(e){for(;e.L;)e=e.L;return e}function co(e,t){var n,r,i,o=e.sort(fo).pop();for(Di=[],Pi=new Array(e.length),Ni=new oo,ji=new oo;;)if(i=Li,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===n&&o.y===r||(Pi[o.i]=new Yi(o),Bi(o),n=o.x,r=o.y),o=e.pop();else{if(!i)break;Vi(i.arc)}t&&($i(t),Gi(t));var a={cells:Pi,edges:Di};return Ni=ji=Di=Pi=null,a}function fo(e,t){return t.y-e.y||t.x-e.x}Yi.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)(e=t[n].edge).b&&e.a||t.splice(n,1);return t.sort(Ki),t.length},io.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},oo.prototype={insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=lo(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(so(this,n),n=(e=n).U),n.C=!1,r.C=!0,uo(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(uo(this,n),n=(e=n).U),n.C=!1,r.C=!0,so(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,o=e.L,a=e.R;if(n=o?a?lo(a):o:a,i?i.L===e?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=e.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=a,a.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===i.L){if((t=i.R).C&&(t.C=!1,i.C=!0,so(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,uo(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,so(this,i),e=this._;break}}else if((t=i.L).C&&(t.C=!1,i.C=!0,uo(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,so(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,uo(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}},t.geom.voronoi=function(e){var t=ki,n=Oi,r=t,i=n,o=ho;if(e)return a(e);function a(e){var t=new Array(e.length),n=o[0][0],r=o[0][1],i=o[1][0],a=o[1][1];return co(s(e),o).cells.forEach((function(o,s){var u=o.edges,l=o.site;(t[s]=u.length?u.map((function(e){var t=e.start();return[t.x,t.y]})):l.x>=n&&l.x<=i&&l.y>=r&&l.y<=a?[[n,a],[i,a],[i,r],[n,r]]:[]).point=e[s]})),t}function s(e){return e.map((function(e,t){return{x:Math.round(r(e,t)/Ae)*Ae,y:Math.round(i(e,t)/Ae)*Ae,i:t}}))}return a.links=function(e){return co(s(e)).edges.filter((function(e){return e.l&&e.r})).map((function(t){return{source:e[t.l.i],target:e[t.r.i]}}))},a.triangles=function(e){var t=[];return co(s(e)).cells.forEach((function(n,r){for(var i,o=n.site,a=n.edges.sort(Ki),s=-1,u=a.length,l=a[u-1].edge,c=l.l===o?l.r:l.l;++s<u;)i=c,c=(l=a[s].edge).l===o?l.r:l.l,r<i.i&&r<c.i&&po(o,i,c)<0&&t.push([e[r],e[i.i],e[c.i]])})),t},a.x=function(e){return arguments.length?(r=kt(t=e),a):t},a.y=function(e){return arguments.length?(i=kt(n=e),a):n},a.clipExtent=function(e){return arguments.length?(o=null==e?ho:e,a):o===ho?null:o},a.size=function(e){return arguments.length?a.clipExtent(e&&[[0,0],e]):o===ho?null:o&&o[1]},a};var ho=[[-1e6,-1e6],[1e6,1e6]];function po(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function vo(e){return e.x}function yo(e){return e.y}function go(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function mo(e,t,n,r,i,o){if(!e(t,n,r,i,o)){var a=.5*(n+i),s=.5*(r+o),u=t.nodes;u[0]&&mo(e,u[0],n,r,a,s),u[1]&&mo(e,u[1],a,r,i,s),u[2]&&mo(e,u[2],n,s,a,o),u[3]&&mo(e,u[3],a,s,i,o)}}function bo(e,t,n,r,i,o,a){var s,u=1/0;return function e(l,c,f,h,d){if(!(c>o||f>a||h<r||d<i)){if(p=l.point){var p,v=t-l.x,y=n-l.y,g=v*v+y*y;if(g<u){var m=Math.sqrt(u=g);r=t-m,i=n-m,o=t+m,a=n+m,s=p}}for(var b=l.nodes,_=.5*(c+h),w=.5*(f+d),x=(n>=w)<<1|t>=_,T=x+4;x<T;++x)if(l=b[3&x])switch(3&x){case 0:e(l,c,f,_,w);break;case 1:e(l,_,f,h,w);break;case 2:e(l,c,w,_,d);break;case 3:e(l,_,w,h,d)}}}(e,r,i,o,a),s}function _o(e,n){e=t.rgb(e),n=t.rgb(n);var r=e.r,i=e.g,o=e.b,a=n.r-r,s=n.g-i,u=n.b-o;return function(e){return"#"+gt(Math.round(r+a*e))+gt(Math.round(i+s*e))+gt(Math.round(o+u*e))}}function wo(e,t){var n,r={},i={};for(n in e)n in t?r[n]=So(e[n],t[n]):i[n]=e[n];for(n in t)n in e||(i[n]=t[n]);return function(e){for(n in r)i[n]=r[n](e);return i}}function xo(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function To(e,t){var n,r,i,o=ko.lastIndex=Oo.lastIndex=0,a=-1,s=[],u=[];for(e+="",t+="";(n=ko.exec(e))&&(r=Oo.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:xo(n,r)})),o=Oo.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?(t=u[0].x,function(e){return t(e)+""}):function(){return t}:(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})}t.geom.delaunay=function(e){return t.geom.voronoi().triangles(e)},t.geom.quadtree=function(e,t,n,r,i){var o,a=ki,s=Oi;if(o=arguments.length)return a=vo,s=yo,3===o&&(i=n,r=t,n=t=0),u(e);function u(e){var u,l,c,f,h,d,p,v,y,g=kt(a),m=kt(s);if(null!=t)d=t,p=n,v=r,y=i;else if(v=y=-(d=p=1/0),l=[],c=[],h=e.length,o)for(f=0;f<h;++f)(u=e[f]).x<d&&(d=u.x),u.y<p&&(p=u.y),u.x>v&&(v=u.x),u.y>y&&(y=u.y),l.push(u.x),c.push(u.y);else for(f=0;f<h;++f){var _=+g(u=e[f],f),w=+m(u,f);_<d&&(d=_),w<p&&(p=w),_>v&&(v=_),w>y&&(y=w),l.push(_),c.push(w)}var x=v-d,T=y-p;function k(e,t,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(e.leaf){var u=e.x,l=e.y;if(null!=u)if(b(u-n)+b(l-r)<.01)O(e,t,n,r,i,o,a,s);else{var c=e.point;e.x=e.y=e.point=null,O(e,c,u,l,i,o,a,s),O(e,t,n,r,i,o,a,s)}else e.x=n,e.y=r,e.point=t}else O(e,t,n,r,i,o,a,s)}function O(e,t,n,r,i,o,a,s){var u=.5*(i+a),l=.5*(o+s),c=n>=u,f=r>=l,h=f<<1|c;e.leaf=!1,c?i=u:a=u,f?o=l:s=l,k(e=e.nodes[h]||(e.nodes[h]=go()),t,n,r,i,o,a,s)}x>T?y=p+x:v=d+T;var S=go();if(S.add=function(e){k(S,e,+g(e,++f),+m(e,f),d,p,v,y)},S.visit=function(e){mo(e,S,d,p,v,y)},S.find=function(e){return bo(S,e[0],e[1],d,p,v,y)},f=-1,null==t){for(;++f<h;)k(S,e[f],l[f],c[f],d,p,v,y);--f}else e.forEach(S.add);return l=c=e=u=null,S}return u.x=function(e){return arguments.length?(a=e,u):a},u.y=function(e){return arguments.length?(s=e,u):s},u.extent=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),u):null==t?null:[[t,n],[r,i]]},u.size=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=n=0,r=+e[0],i=+e[1]),u):null==t?null:[r-t,i-n]},u},t.interpolateRgb=_o,t.interpolateObject=wo,t.interpolateNumber=xo,t.interpolateString=To;var ko=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Oo=new RegExp(ko.source,"g");function So(e,n){for(var r,i=t.interpolators.length;--i>=0&&!(r=t.interpolators[i](e,n)););return r}function Ao(e,t){var n,r=[],i=[],o=e.length,a=t.length,s=Math.min(e.length,t.length);for(n=0;n<s;++n)r.push(So(e[n],t[n]));for(;n<o;++n)i[n]=e[n];for(;n<a;++n)i[n]=t[n];return function(e){for(n=0;n<s;++n)i[n]=r[n](e);return i}}t.interpolate=So,t.interpolators=[function(e,t){var n=typeof t;return("string"===n?Tt.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?_o:To:t instanceof Xe?_o:Array.isArray(t)?Ao:"object"===n&&isNaN(t)?wo:xo)(e,t)}],t.interpolateArray=Ao;var Eo=function(){return P},Mo=t.map({linear:Eo,poly:Ro,quad:function(){return No},cubic:function(){return Lo},sin:function(){return Fo},exp:function(){return zo},circle:function(){return Uo},elastic:qo,back:Vo,bounce:function(){return Bo}}),Co=t.map({in:P,out:Do,"in-out":Po,"out-in":function(e){return Po(Do(e))}});function Io(e){return function(t){return t<=0?0:t>=1?1:e(t)}}function Do(e){return function(t){return 1-e(1-t)}}function Po(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function No(e){return e*e}function Lo(e){return e*e*e}function jo(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function Ro(e){return function(t){return Math.pow(t,e)}}function Fo(e){return 1-Math.cos(e*De)}function zo(e){return Math.pow(2,10*(e-1))}function Uo(e){return 1-Math.sqrt(1-e*e)}function qo(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/Ce*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*Ce/t)}}function Vo(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Bo(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Ho(e,n){e=t.hcl(e),n=t.hcl(n);var r=e.h,i=e.c,o=e.l,a=n.h-r,s=n.c-i,u=n.l-o;return isNaN(s)&&(s=0,i=isNaN(i)?n.c:i),isNaN(a)?(a=0,r=isNaN(r)?n.h:r):a>180?a-=360:a<-180&&(a+=360),function(e){return tt(r+a*e,i+s*e,o+u*e)+""}}function Wo(e,n){e=t.hsl(e),n=t.hsl(n);var r=e.h,i=e.s,o=e.l,a=n.h-r,s=n.s-i,u=n.l-o;return isNaN(s)&&(s=0,i=isNaN(i)?n.s:i),isNaN(a)?(a=0,r=isNaN(r)?n.h:r):a>180?a-=360:a<-180&&(a+=360),function(e){return $e(r+a*e,i+s*e,o+u*e)+""}}function Yo(e,n){e=t.lab(e),n=t.lab(n);var r=e.l,i=e.a,o=e.b,a=n.l-r,s=n.a-i,u=n.b-o;return function(e){return ut(r+a*e,i+s*e,o+u*e)+""}}function Go(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function Ko(e){var t=[e.a,e.b],n=[e.c,e.d],r=Qo(t),i=Xo(t,n),o=Qo(Jo(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*Ne,this.translate=[e.e,e.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*Ne:0}function Xo(e,t){return e[0]*t[0]+e[1]*t[1]}function Qo(e){var t=Math.sqrt(Xo(e,e));return t&&(e[0]/=t,e[1]/=t),t}function Jo(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}t.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.slice(0,t):e,i=t>=0?e.slice(t+1):"in";return n=Mo.get(n)||Eo,Io((i=Co.get(i)||P)(n.apply(null,r.call(arguments,1))))},t.interpolateHcl=Ho,t.interpolateHsl=Wo,t.interpolateLab=Yo,t.interpolateRound=Go,t.transform=function(e){var n=o.createElementNS(t.ns.prefix.svg,"g");return(t.transform=function(e){if(null!=e){n.setAttribute("transform",e);var t=n.transform.baseVal.consolidate()}return new Ko(t?t.matrix:$o)})(e)},Ko.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var $o={a:1,b:0,c:0,d:1,e:0,f:0};function Zo(e){return e.length?e.pop()+",":""}function ea(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:xo(e[0],t[0])},{i:i-2,x:xo(e[1],t[1])})}else(t[0]||t[1])&&n.push("translate("+t+")")}function ta(e,t,n,r){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),r.push({i:n.push(Zo(n)+"rotate(",null,")")-2,x:xo(e,t)})):t&&n.push(Zo(n)+"rotate("+t+")")}function na(e,t,n,r){e!==t?r.push({i:n.push(Zo(n)+"skewX(",null,")")-2,x:xo(e,t)}):t&&n.push(Zo(n)+"skewX("+t+")")}function ra(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push(Zo(n)+"scale(",null,",",null,")");r.push({i:i-4,x:xo(e[0],t[0])},{i:i-2,x:xo(e[1],t[1])})}else 1===t[0]&&1===t[1]||n.push(Zo(n)+"scale("+t+")")}function ia(e,n){var r=[],i=[];return e=t.transform(e),n=t.transform(n),ea(e.translate,n.translate,r,i),ta(e.rotate,n.rotate,r,i),na(e.skew,n.skew,r,i),ra(e.scale,n.scale,r,i),e=n=null,function(e){for(var t,n=-1,o=i.length;++n<o;)r[(t=i[n]).i]=t.x(e);return r.join("")}}function oa(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function aa(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function sa(e){for(var t=e.source,n=e.target,r=la(t,n),i=[t];t!==r;)t=t.parent,i.push(t);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function ua(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function la(e,t){if(e===t)return e;for(var n=ua(e),r=ua(t),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}function ca(e){e.fixed|=2}function fa(e){e.fixed&=-7}function ha(e){e.fixed|=4,e.px=e.x,e.py=e.y}function da(e){e.fixed&=-5}function pa(e,t,n){var r=0,i=0;if(e.charge=0,!e.leaf)for(var o,a=e.nodes,s=a.length,u=-1;++u<s;)null!=(o=a[u])&&(pa(o,t,n),e.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var l=t*n[e.point.index];e.charge+=e.pointCharge=l,r+=l*e.point.x,i+=l*e.point.y}e.cx=r/e.charge,e.cy=i/e.charge}t.interpolateTransform=ia,t.layout={},t.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(sa(e[n]));return t}},t.layout.chord=function(){var e,n,r,i,o,a,s,u={},l=0;function c(){var u,c,h,d,p,v={},y=[],g=t.range(i),m=[];for(e=[],n=[],u=0,d=-1;++d<i;){for(c=0,p=-1;++p<i;)c+=r[d][p];y.push(c),m.push(t.range(i)),u+=c}for(o&&g.sort((function(e,t){return o(y[e],y[t])})),a&&m.forEach((function(e,t){e.sort((function(e,n){return a(r[t][e],r[t][n])}))})),u=(Ce-l*i)/u,c=0,d=-1;++d<i;){for(h=c,p=-1;++p<i;){var b=g[d],_=m[b][p],w=r[b][_],x=c,T=c+=w*u;v[b+"-"+_]={index:b,subindex:_,startAngle:x,endAngle:T,value:w}}n[b]={index:b,startAngle:h,endAngle:c,value:y[b]},c+=l}for(d=-1;++d<i;)for(p=d-1;++p<i;){var k=v[d+"-"+p],O=v[p+"-"+d];(k.value||O.value)&&e.push(k.value<O.value?{source:O,target:k}:{source:k,target:O})}s&&f()}function f(){e.sort((function(e,t){return s((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)}))}return u.matrix=function(t){return arguments.length?(i=(r=t)&&r.length,e=n=null,u):r},u.padding=function(t){return arguments.length?(l=t,e=n=null,u):l},u.sortGroups=function(t){return arguments.length?(o=t,e=n=null,u):o},u.sortSubgroups=function(t){return arguments.length?(a=t,e=null,u):a},u.sortChords=function(t){return arguments.length?(s=t,e&&f(),u):s},u.chords=function(){return e||c(),e},u.groups=function(){return n||c(),n},u},t.layout.force=function(){var e,n,r,i,o,a,s={},u=t.dispatch("start","tick","end"),l=[1,1],c=.9,f=va,h=ya,d=-30,p=ga,v=.1,y=.64,g=[],m=[];function b(e){return function(t,n,r,i){if(t.point!==e){var o=t.cx-e.x,a=t.cy-e.y,s=i-n,u=o*o+a*a;if(s*s/y<u){if(u<p){var l=t.charge/u;e.px-=o*l,e.py-=a*l}return!0}t.point&&u&&u<p&&(l=t.pointCharge/u,e.px-=o*l,e.py-=a*l)}return!t.charge}}function _(e){e.px=t.event.x,e.py=t.event.y,s.resume()}return s.tick=function(){if((r*=.99)<.005)return e=null,u.end({type:"end",alpha:r=0}),!0;var n,s,f,h,p,y,_,w,x,T=g.length,k=m.length;for(s=0;s<k;++s)h=(f=m[s]).source,(y=(w=(p=f.target).x-h.x)*w+(x=p.y-h.y)*x)&&(w*=y=r*o[s]*((y=Math.sqrt(y))-i[s])/y,x*=y,p.x-=w*(_=h.weight+p.weight?h.weight/(h.weight+p.weight):.5),p.y-=x*_,h.x+=w*(_=1-_),h.y+=x*_);if((_=r*v)&&(w=l[0]/2,x=l[1]/2,s=-1,_))for(;++s<T;)(f=g[s]).x+=(w-f.x)*_,f.y+=(x-f.y)*_;if(d)for(pa(n=t.geom.quadtree(g),r,a),s=-1;++s<T;)(f=g[s]).fixed||n.visit(b(f));for(s=-1;++s<T;)(f=g[s]).fixed?(f.x=f.px,f.y=f.py):(f.x-=(f.px-(f.px=f.x))*c,f.y-=(f.py-(f.py=f.y))*c);u.tick({type:"tick",alpha:r})},s.nodes=function(e){return arguments.length?(g=e,s):g},s.links=function(e){return arguments.length?(m=e,s):m},s.size=function(e){return arguments.length?(l=e,s):l},s.linkDistance=function(e){return arguments.length?(f="function"===typeof e?e:+e,s):f},s.distance=s.linkDistance,s.linkStrength=function(e){return arguments.length?(h="function"===typeof e?e:+e,s):h},s.friction=function(e){return arguments.length?(c=+e,s):c},s.charge=function(e){return arguments.length?(d="function"===typeof e?e:+e,s):d},s.chargeDistance=function(e){return arguments.length?(p=e*e,s):Math.sqrt(p)},s.gravity=function(e){return arguments.length?(v=+e,s):v},s.theta=function(e){return arguments.length?(y=e*e,s):Math.sqrt(y)},s.alpha=function(t){return arguments.length?(t=+t,r?t>0?r=t:(e.c=null,e.t=NaN,e=null,u.end({type:"end",alpha:r=0})):t>0&&(u.start({type:"start",alpha:r=t}),e=Nt(s.tick)),s):r},s.start=function(){var e,t,n,r=g.length,u=m.length,c=l[0],p=l[1];for(e=0;e<r;++e)(n=g[e]).index=e,n.weight=0;for(e=0;e<u;++e)"number"==typeof(n=m[e]).source&&(n.source=g[n.source]),"number"==typeof n.target&&(n.target=g[n.target]),++n.source.weight,++n.target.weight;for(e=0;e<r;++e)n=g[e],isNaN(n.x)&&(n.x=v("x",c)),isNaN(n.y)&&(n.y=v("y",p)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(i=[],"function"===typeof f)for(e=0;e<u;++e)i[e]=+f.call(this,m[e],e);else for(e=0;e<u;++e)i[e]=f;if(o=[],"function"===typeof h)for(e=0;e<u;++e)o[e]=+h.call(this,m[e],e);else for(e=0;e<u;++e)o[e]=h;if(a=[],"function"===typeof d)for(e=0;e<r;++e)a[e]=+d.call(this,g[e],e);else for(e=0;e<r;++e)a[e]=d;function v(n,i){if(!t){for(t=new Array(r),l=0;l<r;++l)t[l]=[];for(l=0;l<u;++l){var o=m[l];t[o.source.index].push(o.target),t[o.target.index].push(o.source)}}for(var a,s=t[e],l=-1,c=s.length;++l<c;)if(!isNaN(a=s[l][n]))return a;return Math.random()*i}return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){if(n||(n=t.behavior.drag().origin(P).on("dragstart.force",ca).on("drag.force",_).on("dragend.force",fa)),!arguments.length)return n;this.on("mouseover.force",ha).on("mouseout.force",da).call(n)},t.rebind(s,u,"on")};var va=20,ya=1,ga=1/0;function ma(e,n){return t.rebind(e,n,"sort","children","value"),e.nodes=e,e.links=ka,e}function ba(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(i=e.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function _a(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(o=e.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(e=r.pop());)t(e)}function wa(e){return e.children}function xa(e){return e.value}function Ta(e,t){return t.value-e.value}function ka(e){return t.merge(e.map((function(e){return(e.children||[]).map((function(t){return{source:e,target:t}}))})))}t.layout.hierarchy=function(){var e=Ta,t=wa,n=xa;function r(i){var o,a=[i],s=[];for(i.depth=0;null!=(o=a.pop());)if(s.push(o),(l=t.call(r,o,o.depth))&&(u=l.length)){for(var u,l,c;--u>=0;)a.push(c=l[u]),c.parent=o,c.depth=o.depth+1;n&&(o.value=0),o.children=l}else n&&(o.value=+n.call(r,o,o.depth)||0),delete o.children;return _a(i,(function(t){var r,i;e&&(r=t.children)&&r.sort(e),n&&(i=t.parent)&&(i.value+=t.value)})),s}return r.sort=function(t){return arguments.length?(e=t,r):e},r.children=function(e){return arguments.length?(t=e,r):t},r.value=function(e){return arguments.length?(n=e,r):n},r.revalue=function(e){return n&&(ba(e,(function(e){e.children&&(e.value=0)})),_a(e,(function(e){var t;e.children||(e.value=+n.call(r,e,e.depth)||0),(t=e.parent)&&(t.value+=e.value)}))),e},r},t.layout.partition=function(){var e=t.layout.hierarchy(),n=[1,1];function r(e,t,n,i){var o=e.children;if(e.x=t,e.y=e.depth*i,e.dx=n,e.dy=i,o&&(a=o.length)){var a,s,u,l=-1;for(n=e.value?n/e.value:0;++l<a;)r(s=o[l],t,u=s.value*n,i),t+=u}}function i(e){var t=e.children,n=0;if(t&&(r=t.length))for(var r,o=-1;++o<r;)n=Math.max(n,i(t[o]));return 1+n}function o(t,o){var a=e.call(this,t,o);return r(a[0],0,n[0],n[1]/i(a[0])),a}return o.size=function(e){return arguments.length?(n=e,o):n},ma(o,e)},t.layout.pie=function(){var e=Number,n=Oa,r=0,i=Ce,o=0;function a(s){var u,l=s.length,c=s.map((function(t,n){return+e.call(a,t,n)})),f=+("function"===typeof r?r.apply(this,arguments):r),h=("function"===typeof i?i.apply(this,arguments):i)-f,d=Math.min(Math.abs(h)/l,+("function"===typeof o?o.apply(this,arguments):o)),p=d*(h<0?-1:1),v=t.sum(c),y=v?(h-l*p)/v:0,g=t.range(l),m=[];return null!=n&&g.sort(n===Oa?function(e,t){return c[t]-c[e]}:function(e,t){return n(s[e],s[t])}),g.forEach((function(e){m[e]={data:s[e],value:u=c[e],startAngle:f,endAngle:f+=u*y+p,padAngle:d}})),m}return a.value=function(t){return arguments.length?(e=t,a):e},a.sort=function(e){return arguments.length?(n=e,a):n},a.startAngle=function(e){return arguments.length?(r=e,a):r},a.endAngle=function(e){return arguments.length?(i=e,a):i},a.padAngle=function(e){return arguments.length?(o=e,a):o},a};var Oa={};function Sa(e){return e.x}function Aa(e){return e.y}function Ea(e,t,n){e.y0=t,e.y=n}t.layout.stack=function(){var e=P,n=Ia,r=Da,i=Ea,o=Sa,a=Aa;function s(u,l){if(!(d=u.length))return u;var c=u.map((function(t,n){return e.call(s,t,n)})),f=c.map((function(e){return e.map((function(e,t){return[o.call(s,e,t),a.call(s,e,t)]}))})),h=n.call(s,f,l);c=t.permute(c,h),f=t.permute(f,h);var d,p,v,y,g=r.call(s,f,l),m=c[0].length;for(v=0;v<m;++v)for(i.call(s,c[0][v],y=g[v],f[0][v][1]),p=1;p<d;++p)i.call(s,c[p][v],y+=f[p-1][v][1],f[p][v][1]);return u}return s.values=function(t){return arguments.length?(e=t,s):e},s.order=function(e){return arguments.length?(n="function"===typeof e?e:Ma.get(e)||Ia,s):n},s.offset=function(e){return arguments.length?(r="function"===typeof e?e:Ca.get(e)||Da,s):r},s.x=function(e){return arguments.length?(o=e,s):o},s.y=function(e){return arguments.length?(a=e,s):a},s.out=function(e){return arguments.length?(i=e,s):i},s};var Ma=t.map({"inside-out":function(e){var n,r,i=e.length,o=e.map(Pa),a=e.map(Na),s=t.range(i).sort((function(e,t){return o[e]-o[t]})),u=0,l=0,c=[],f=[];for(n=0;n<i;++n)r=s[n],u<l?(u+=a[r],c.push(r)):(l+=a[r],f.push(r));return f.reverse().concat(c)},reverse:function(e){return t.range(e.length).reverse()},default:Ia}),Ca=t.map({silhouette:function(e){var t,n,r,i=e.length,o=e[0].length,a=[],s=0,u=[];for(n=0;n<o;++n){for(t=0,r=0;t<i;t++)r+=e[t][n][1];r>s&&(s=r),a.push(r)}for(n=0;n<o;++n)u[n]=(s-a[n])/2;return u},wiggle:function(e){var t,n,r,i,o,a,s,u,l,c=e.length,f=e[0],h=f.length,d=[];for(d[0]=u=l=0,n=1;n<h;++n){for(t=0,i=0;t<c;++t)i+=e[t][n][1];for(t=0,o=0,s=f[n][0]-f[n-1][0];t<c;++t){for(r=0,a=(e[t][n][1]-e[t][n-1][1])/(2*s);r<t;++r)a+=(e[r][n][1]-e[r][n-1][1])/s;o+=a*e[t][n][1]}d[n]=u-=i?o/i*s:0,u<l&&(l=u)}for(n=0;n<h;++n)d[n]-=l;return d},expand:function(e){var t,n,r,i=e.length,o=e[0].length,a=1/i,s=[];for(n=0;n<o;++n){for(t=0,r=0;t<i;t++)r+=e[t][n][1];if(r)for(t=0;t<i;t++)e[t][n][1]/=r;else for(t=0;t<i;t++)e[t][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:Da});function Ia(e){return t.range(e.length)}function Da(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function Pa(e){for(var t,n=1,r=0,i=e[0][1],o=e.length;n<o;++n)(t=e[n][1])>i&&(r=n,i=t);return r}function Na(e){return e.reduce(La,0)}function La(e,t){return e+t[1]}function ja(e,t){return Ra(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function Ra(e,t){for(var n=-1,r=+e[0],i=(e[1]-r)/t,o=[];++n<=t;)o[n]=i*n+r;return o}function Fa(e){return[t.min(e),t.max(e)]}function za(e,t){return e.value-t.value}function Ua(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function qa(e,t){e._pack_next=t,t._pack_prev=e}function Va(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return.999*i*i>n*n+r*r}function Ba(e){if((t=e.children)&&(u=t.length)){var t,n,r,i,o,a,s,u,l=1/0,c=-1/0,f=1/0,h=-1/0;if(t.forEach(Ha),(n=t[0]).x=-n.r,n.y=0,b(n),u>1&&((r=t[1]).x=r.r,r.y=0,b(r),u>2))for(Ga(n,r,i=t[2]),b(i),Ua(n,i),n._pack_prev=i,Ua(i,r),r=n._pack_next,o=3;o<u;o++){Ga(n,r,i=t[o]);var d=0,p=1,v=1;for(a=r._pack_next;a!==r;a=a._pack_next,p++)if(Va(a,i)){d=1;break}if(1==d)for(s=n._pack_prev;s!==a._pack_prev&&!Va(s,i);s=s._pack_prev,v++);d?(p<v||p==v&&r.r<n.r?qa(n,r=a):qa(n=s,r),o--):(Ua(n,i),r=i,b(i))}var y=(l+c)/2,g=(f+h)/2,m=0;for(o=0;o<u;o++)(i=t[o]).x-=y,i.y-=g,m=Math.max(m,i.r+Math.sqrt(i.x*i.x+i.y*i.y));e.r=m,t.forEach(Wa)}function b(e){l=Math.min(e.x-e.r,l),c=Math.max(e.x+e.r,c),f=Math.min(e.y-e.r,f),h=Math.max(e.y+e.r,h)}}function Ha(e){e._pack_next=e._pack_prev=e}function Wa(e){delete e._pack_next,delete e._pack_prev}function Ya(e,t,n,r){var i=e.children;if(e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r,i)for(var o=-1,a=i.length;++o<a;)Ya(i[o],t,n,r)}function Ga(e,t,n){var r=e.r+n.r,i=t.x-e.x,o=t.y-e.y;if(r&&(i||o)){var a=t.r+n.r,s=i*i+o*o,u=.5+((r*=r)-(a*=a))/(2*s),l=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=e.x+u*i+l*o,n.y=e.y+u*o-l*i}else n.x=e.x+r,n.y=e.y}function Ka(e,t){return e.parent==t.parent?1:2}function Xa(e){var t=e.children;return t.length?t[0]:e.t}function Qa(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function Ja(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function $a(e){for(var t,n=0,r=0,i=e.children,o=i.length;--o>=0;)(t=i[o]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}function Za(e,t,n){return e.a.parent===t.parent?e.a:n}function es(e){return 1+t.max(e,(function(e){return e.y}))}function ts(e){return e.reduce((function(e,t){return e+t.x}),0)/e.length}function ns(e){var t=e.children;return t&&t.length?ns(t[0]):e}function rs(e){var t,n=e.children;return n&&(t=n.length)?rs(n[t-1]):e}function is(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function os(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],o=e.dy-t[0]-t[2];return i<0&&(n+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function as(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function ss(e){return e.rangeExtent?e.rangeExtent():as(e.range())}function us(e,t,n,r){var i=n(e[0],e[1]),o=r(t[0],t[1]);return function(e){return o(i(e))}}function ls(e,t){var n,r=0,i=e.length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function cs(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:fs}t.layout.histogram=function(){var e=!0,n=Number,r=Fa,i=ja;function o(o,a){for(var s,u,l=[],c=o.map(n,this),f=r.call(this,c,a),h=i.call(this,f,c,a),d=(a=-1,c.length),p=h.length-1,v=e?1:1/d;++a<p;)(s=l[a]=[]).dx=h[a+1]-(s.x=h[a]),s.y=0;if(p>0)for(a=-1;++a<d;)(u=c[a])>=f[0]&&u<=f[1]&&((s=l[t.bisect(h,u,1,p)-1]).y+=v,s.push(o[a]));return l}return o.value=function(e){return arguments.length?(n=e,o):n},o.range=function(e){return arguments.length?(r=kt(e),o):r},o.bins=function(e){return arguments.length?(i="number"===typeof e?function(t){return Ra(t,e)}:kt(e),o):i},o.frequency=function(t){return arguments.length?(e=!!t,o):e},o},t.layout.pack=function(){var e,n=t.layout.hierarchy().sort(za),r=0,i=[1,1];function o(t,o){var a=n.call(this,t,o),s=a[0],u=i[0],l=i[1],c=null==e?Math.sqrt:"function"===typeof e?e:function(){return e};if(s.x=s.y=0,_a(s,(function(e){e.r=+c(e.value)})),_a(s,Ba),r){var f=r*(e?1:Math.max(2*s.r/u,2*s.r/l))/2;_a(s,(function(e){e.r+=f})),_a(s,Ba),_a(s,(function(e){e.r-=f}))}return Ya(s,u/2,l/2,e?1:1/Math.max(2*s.r/u,2*s.r/l)),a}return o.size=function(e){return arguments.length?(i=e,o):i},o.radius=function(t){return arguments.length?(e=null==t||"function"===typeof t?t:+t,o):e},o.padding=function(e){return arguments.length?(r=+e,o):r},ma(o,n)},t.layout.tree=function(){var e=t.layout.hierarchy().sort(null).value(null),n=Ka,r=[1,1],i=null;function o(t,o){var l=e.call(this,t,o),f=l[0],h=a(f);if(_a(h,s),h.parent.m=-h.z,ba(h,u),i)ba(f,c);else{var d=f,p=f,v=f;ba(f,(function(e){e.x<d.x&&(d=e),e.x>p.x&&(p=e),e.depth>v.depth&&(v=e)}));var y=n(d,p)/2-d.x,g=r[0]/(p.x+n(p,d)/2+y),m=r[1]/(v.depth||1);ba(f,(function(e){e.x=(e.x+y)*g,e.y=e.depth*m}))}return l}function a(e){for(var t,n={A:null,children:[e]},r=[n];null!=(t=r.pop());)for(var i,o=t.children,a=0,s=o.length;a<s;++a)r.push((o[a]=i={_:o[a],parent:t,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}function s(e){var t=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(t.length){$a(e);var o=(t[0].z+t[t.length-1].z)/2;i?(e.z=i.z+n(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+n(e._,i._));e.parent.A=l(e,i,e.parent.A||r[0])}function u(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function l(e,t,r){if(t){for(var i,o=e,a=e,s=t,u=o.parent.children[0],l=o.m,c=a.m,f=s.m,h=u.m;s=Qa(s),o=Xa(o),s&&o;)u=Xa(u),(a=Qa(a)).a=e,(i=s.z+f-o.z-l+n(s._,o._))>0&&(Ja(Za(s,e,r),e,i),l+=i,c+=i),f+=s.m,l+=o.m,h+=u.m,c+=a.m;s&&!Qa(a)&&(a.t=s,a.m+=f-c),o&&!Xa(u)&&(u.t=o,u.m+=l-h,r=e)}return r}function c(e){e.x*=r[0],e.y=e.depth*r[1]}return o.separation=function(e){return arguments.length?(n=e,o):n},o.size=function(e){return arguments.length?(i=null==(r=e)?c:null,o):i?null:r},o.nodeSize=function(e){return arguments.length?(i=null==(r=e)?null:c,o):i?r:null},ma(o,e)},t.layout.cluster=function(){var e=t.layout.hierarchy().sort(null).value(null),n=Ka,r=[1,1],i=!1;function o(t,o){var a,s=e.call(this,t,o),u=s[0],l=0;_a(u,(function(e){var t=e.children;t&&t.length?(e.x=ts(t),e.y=es(t)):(e.x=a?l+=n(e,a):0,e.y=0,a=e)}));var c=ns(u),f=rs(u),h=c.x-n(c,f)/2,d=f.x+n(f,c)/2;return _a(u,i?function(e){e.x=(e.x-u.x)*r[0],e.y=(u.y-e.y)*r[1]}:function(e){e.x=(e.x-h)/(d-h)*r[0],e.y=(1-(u.y?e.y/u.y:1))*r[1]}),s}return o.separation=function(e){return arguments.length?(n=e,o):n},o.size=function(e){return arguments.length?(i=null==(r=e),o):i?null:r},o.nodeSize=function(e){return arguments.length?(i=null!=(r=e),o):i?r:null},ma(o,e)},t.layout.treemap=function(){var e,n=t.layout.hierarchy(),r=Math.round,i=[1,1],o=null,a=is,s=!1,u="squarify",l=.5*(1+Math.sqrt(5));function c(e,t){for(var n,r,i=-1,o=e.length;++i<o;)r=(n=e[i]).value*(t<0?0:t),n.area=isNaN(r)||r<=0?0:r}function f(e){var t=e.children;if(t&&t.length){var n,r,i,o=a(e),s=[],l=t.slice(),h=1/0,v="slice"===u?o.dx:"dice"===u?o.dy:"slice-dice"===u?1&e.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(c(l,o.dx*o.dy/e.value),s.area=0;(i=l.length)>0;)s.push(n=l[i-1]),s.area+=n.area,"squarify"!==u||(r=d(s,v))<=h?(l.pop(),h=r):(s.area-=s.pop().area,p(s,v,o,!1),v=Math.min(o.dx,o.dy),s.length=s.area=0,h=1/0);s.length&&(p(s,v,o,!0),s.length=s.area=0),t.forEach(f)}}function h(e){var t=e.children;if(t&&t.length){var n,r=a(e),i=t.slice(),o=[];for(c(i,r.dx*r.dy/e.value),o.area=0;n=i.pop();)o.push(n),o.area+=n.area,null!=n.z&&(p(o,n.z?r.dx:r.dy,r,!i.length),o.length=o.area=0);t.forEach(h)}}function d(e,t){for(var n,r=e.area,i=0,o=1/0,a=-1,s=e.length;++a<s;)(n=e[a].area)&&(n<o&&(o=n),n>i&&(i=n));return t*=t,(r*=r)?Math.max(t*i*l/r,r/(t*o*l)):1/0}function p(e,t,n,i){var o,a=-1,s=e.length,u=n.x,l=n.y,c=t?r(e.area/t):0;if(t==n.dx){for((i||c>n.dy)&&(c=n.dy);++a<s;)(o=e[a]).x=u,o.y=l,o.dy=c,u+=o.dx=Math.min(n.x+n.dx-u,c?r(o.area/c):0);o.z=!0,o.dx+=n.x+n.dx-u,n.y+=c,n.dy-=c}else{for((i||c>n.dx)&&(c=n.dx);++a<s;)(o=e[a]).x=u,o.y=l,o.dx=c,l+=o.dy=Math.min(n.y+n.dy-l,c?r(o.area/c):0);o.z=!1,o.dy+=n.y+n.dy-l,n.x+=c,n.dx-=c}}function v(t){var r=e||n(t),o=r[0];return o.x=o.y=0,o.value?(o.dx=i[0],o.dy=i[1]):o.dx=o.dy=0,e&&n.revalue(o),c([o],o.dx*o.dy/o.value),(e?h:f)(o),s&&(e=r),r}return v.size=function(e){return arguments.length?(i=e,v):i},v.padding=function(e){if(!arguments.length)return o;function t(t){var n=e.call(v,t,t.depth);return null==n?is(t):os(t,"number"===typeof n?[n,n,n,n]:n)}function n(t){return os(t,e)}var r;return a=null==(o=e)?is:"function"===(r=typeof e)?t:"number"===r?(e=[e,e,e,e],n):n,v},v.round=function(e){return arguments.length?(r=e?Math.round:Number,v):r!=Number},v.sticky=function(t){return arguments.length?(s=t,e=null,v):s},v.ratio=function(e){return arguments.length?(l=e,v):l},v.mode=function(e){return arguments.length?(u=e+"",v):u},ma(v,n)},t.random={normal:function(e,t){var n=arguments.length;return n<2&&(t=1),n<1&&(e=0),function(){var n,r,i;do{i=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var e=t.random.normal.apply(t,arguments);return function(){return Math.exp(e())}},bates:function(e){var n=t.random.irwinHall(e);return function(){return n()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t}}},t.scale={};var fs={floor:P,ceil:P};function hs(e,n,r,i){var o=[],a=[],s=0,u=Math.min(e.length,n.length)-1;for(e[u]<e[0]&&(e=e.slice().reverse(),n=n.slice().reverse());++s<=u;)o.push(r(e[s-1],e[s])),a.push(i(n[s-1],n[s]));return function(n){var r=t.bisect(e,n,1,u)-1;return a[r](o[r](n))}}function ds(e,t,n,r){var i,o;function a(){var a=Math.min(e.length,t.length)>2?hs:us,u=r?aa:oa;return i=a(e,t,u,n),o=a(t,e,u,So),s}function s(e){return i(e)}return s.invert=function(e){return o(e)},s.domain=function(t){return arguments.length?(e=t.map(Number),a()):e},s.range=function(e){return arguments.length?(t=e,a()):t},s.rangeRound=function(e){return s.range(e).interpolate(Go)},s.clamp=function(e){return arguments.length?(r=e,a()):r},s.interpolate=function(e){return arguments.length?(n=e,a()):n},s.ticks=function(t){return gs(e,t)},s.tickFormat=function(t,n){return ms(e,t,n)},s.nice=function(t){return vs(e,t),a()},s.copy=function(){return ds(e,t,n,r)},a()}function ps(e,n){return t.rebind(e,n,"range","rangeRound","interpolate","clamp")}function vs(e,t){return ls(e,cs(ys(e,t)[2])),ls(e,cs(ys(e,t)[2])),e}function ys(e,t){null==t&&(t=10);var n=as(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),o=t/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function gs(e,n){return t.range.apply(t,ys(e,n))}function ms(e,n,r){var i=ys(e,n);if(r){var o=Vt.exec(r);if(o.shift(),"s"===o[8]){var a=t.formatPrefix(Math.max(b(i[0]),b(i[1])));return o[7]||(o[7]="."+_s(a.scale(i[2]))),o[8]="f",r=t.format(o.join("")),function(e){return r(a.scale(e))+a.symbol}}o[7]||(o[7]="."+ws(o[8],i)),r=o.join("")}else r=",."+_s(i[2])+"f";return t.format(r)}t.scale.linear=function(){return ds([0,1],[0,1],So,!1)};var bs={s:1,g:1,p:1,r:1,e:1};function _s(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function ws(e,t){var n=_s(t[2]);return e in bs?Math.abs(n-_s(Math.max(b(t[0]),b(t[1]))))+ +("e"!==e):n-2*("%"===e)}function xs(e,n,r,i){function o(e){return(r?Math.log(e<0?0:e):-Math.log(e>0?0:-e))/Math.log(n)}function a(e){return r?Math.pow(n,e):-Math.pow(n,-e)}function s(t){return e(o(t))}return s.invert=function(t){return a(e.invert(t))},s.domain=function(t){return arguments.length?(r=t[0]>=0,e.domain((i=t.map(Number)).map(o)),s):i},s.base=function(t){return arguments.length?(n=+t,e.domain(i.map(o)),s):n},s.nice=function(){var t=ls(i.map(o),r?Math:ks);return e.domain(t),i=t.map(a),s},s.ticks=function(){var e=as(i),t=[],s=e[0],u=e[1],l=Math.floor(o(s)),c=Math.ceil(o(u)),f=n%1?2:n;if(isFinite(c-l)){if(r){for(;l<c;l++)for(var h=1;h<f;h++)t.push(a(l)*h);t.push(a(l))}else for(t.push(a(l));l++<c;)for(h=f-1;h>0;h--)t.push(a(l)*h);for(l=0;t[l]<s;l++);for(c=t.length;t[c-1]>u;c--);t=t.slice(l,c)}return t},s.tickFormat=function(e,r){if(!arguments.length)return Ts;arguments.length<2?r=Ts:"function"!==typeof r&&(r=t.format(r));var i=Math.max(1,n*e/s.ticks().length);return function(e){var t=e/a(Math.round(o(e)));return t*n<n-.5&&(t*=n),t<=i?r(e):""}},s.copy=function(){return xs(e.copy(),n,r,i)},ps(s,e)}t.scale.log=function(){return xs(t.scale.linear().domain([0,1]),10,!0,[1,10])};var Ts=t.format(".0e"),ks={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};function Os(e,t,n){var r=Ss(t),i=Ss(1/t);function o(t){return e(r(t))}return o.invert=function(t){return i(e.invert(t))},o.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(r)),o):n},o.ticks=function(e){return gs(n,e)},o.tickFormat=function(e,t){return ms(n,e,t)},o.nice=function(e){return o.domain(vs(n,e))},o.exponent=function(a){return arguments.length?(r=Ss(t=a),i=Ss(1/t),e.domain(n.map(r)),o):t},o.copy=function(){return Os(e.copy(),t,n)},ps(o,e)}function Ss(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function As(e,n){var r,i,o;function a(t){return i[((r.get(t)||("range"===n.t?r.set(t,e.push(t)):NaN))-1)%i.length]}function s(n,r){return t.range(e.length).map((function(e){return n+r*e}))}return a.domain=function(t){if(!arguments.length)return e;e=[],r=new x;for(var i,o=-1,s=t.length;++o<s;)r.has(i=t[o])||r.set(i,e.push(i));return a[n.t].apply(a,n.a)},a.range=function(e){return arguments.length?(i=e,o=0,n={t:"range",a:arguments},a):i},a.rangePoints=function(t,r){arguments.length<2&&(r=0);var u=t[0],l=t[1],c=e.length<2?(u=(u+l)/2,0):(l-u)/(e.length-1+r);return i=s(u+c*r/2,c),o=0,n={t:"rangePoints",a:arguments},a},a.rangeRoundPoints=function(t,r){arguments.length<2&&(r=0);var u=t[0],l=t[1],c=e.length<2?(u=l=Math.round((u+l)/2),0):(l-u)/(e.length-1+r)|0;return i=s(u+Math.round(c*r/2+(l-u-(e.length-1+r)*c)/2),c),o=0,n={t:"rangeRoundPoints",a:arguments},a},a.rangeBands=function(t,r,u){arguments.length<2&&(r=0),arguments.length<3&&(u=r);var l=t[1]<t[0],c=t[l-0],f=(t[1-l]-c)/(e.length-r+2*u);return i=s(c+f*u,f),l&&i.reverse(),o=f*(1-r),n={t:"rangeBands",a:arguments},a},a.rangeRoundBands=function(t,r,u){arguments.length<2&&(r=0),arguments.length<3&&(u=r);var l=t[1]<t[0],c=t[l-0],f=t[1-l],h=Math.floor((f-c)/(e.length-r+2*u));return i=s(c+Math.round((f-c-(e.length-r)*h)/2),h),l&&i.reverse(),o=Math.round(h*(1-r)),n={t:"rangeRoundBands",a:arguments},a},a.rangeBand=function(){return o},a.rangeExtent=function(){return as(n.a[0])},a.copy=function(){return As(e,n)},a.domain(e)}t.scale.pow=function(){return Os(t.scale.linear(),1,[0,1])},t.scale.sqrt=function(){return t.scale.pow().exponent(.5)},t.scale.ordinal=function(){return As([],{t:"range",a:[[]]})},t.scale.category10=function(){return t.scale.ordinal().range(Es)},t.scale.category20=function(){return t.scale.ordinal().range(Ms)},t.scale.category20b=function(){return t.scale.ordinal().range(Cs)},t.scale.category20c=function(){return t.scale.ordinal().range(Is)};var Es=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(vt),Ms=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(vt),Cs=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(vt),Is=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(vt);function Ds(e,n){var r;function i(){var i=0,a=n.length;for(r=[];++i<a;)r[i-1]=t.quantile(e,i/a);return o}function o(e){if(!isNaN(e=+e))return n[t.bisect(r,e)]}return o.domain=function(t){return arguments.length?(e=t.map(p).filter(v).sort(d),i()):e},o.range=function(e){return arguments.length?(n=e,i()):n},o.quantiles=function(){return r},o.invertExtent=function(t){return(t=n.indexOf(t))<0?[NaN,NaN]:[t>0?r[t-1]:e[0],t<r.length?r[t]:e[e.length-1]]},o.copy=function(){return Ds(e,n)},i()}function Ps(e,t,n){var r,i;function o(t){return n[Math.max(0,Math.min(i,Math.floor(r*(t-e))))]}function a(){return r=n.length/(t-e),i=n.length-1,o}return o.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],a()):[e,t]},o.range=function(e){return arguments.length?(n=e,a()):n},o.invertExtent=function(t){return[t=(t=n.indexOf(t))<0?NaN:t/r+e,t+1/r]},o.copy=function(){return Ps(e,t,n)},a()}function Ns(e,n){function r(r){if(r<=r)return n[t.bisect(e,r)]}return r.domain=function(t){return arguments.length?(e=t,r):e},r.range=function(e){return arguments.length?(n=e,r):n},r.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]},r.copy=function(){return Ns(e,n)},r}function Ls(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return gs(e,t)},t.tickFormat=function(t,n){return ms(e,t,n)},t.copy=function(){return Ls(e)},t}function js(){return 0}t.scale.quantile=function(){return Ds([],[])},t.scale.quantize=function(){return Ps(0,1,[0,1])},t.scale.threshold=function(){return Ns([.5],[0,1])},t.scale.identity=function(){return Ls([0,1])},t.svg={},t.svg.arc=function(){var e=Fs,t=zs,n=js,r=Rs,i=Us,o=qs,a=Vs;function s(){var s=Math.max(0,+e.apply(this,arguments)),l=Math.max(0,+t.apply(this,arguments)),c=i.apply(this,arguments)-De,f=o.apply(this,arguments)-De,h=Math.abs(f-c),d=c>f?0:1;if(l<s&&(p=l,l=s,s=p),h>=Ie)return u(l,d)+(s?u(s,1-d):"")+"Z";var p,v,y,g,m,b,_,w,x,T,k,O,S=0,A=0,E=[];if((g=(+a.apply(this,arguments)||0)/2)&&(y=r===Rs?Math.sqrt(s*s+l*l):+r.apply(this,arguments),d||(A*=-1),l&&(A=Fe(y/l*Math.sin(g))),s&&(S=Fe(y/s*Math.sin(g)))),l){m=l*Math.cos(c+A),b=l*Math.sin(c+A),_=l*Math.cos(f-A),w=l*Math.sin(f-A);var M=Math.abs(f-c-2*A)<=Me?0:1;if(A&&Bs(m,b,_,w)===d^M){var C=(c+f)/2;m=l*Math.cos(C),b=l*Math.sin(C),_=w=null}}else m=b=0;if(s){x=s*Math.cos(f-S),T=s*Math.sin(f-S),k=s*Math.cos(c+S),O=s*Math.sin(c+S);var I=Math.abs(c-f+2*S)<=Me?0:1;if(S&&Bs(x,T,k,O)===1-d^I){var D=(c+f)/2;x=s*Math.cos(D),T=s*Math.sin(D),k=O=null}}else x=T=0;if(h>Ae&&(p=Math.min(Math.abs(l-s)/2,+n.apply(this,arguments)))>.001){v=s<l^d?0:1;var P=p,N=p;if(h<Me){var L=null==k?[x,T]:null==_?[m,b]:Ci([m,b],[k,O],[_,w],[x,T]),j=m-L[0],R=b-L[1],F=_-L[0],z=w-L[1],U=1/Math.sin(Math.acos((j*F+R*z)/(Math.sqrt(j*j+R*R)*Math.sqrt(F*F+z*z)))/2),q=Math.sqrt(L[0]*L[0]+L[1]*L[1]);N=Math.min(p,(s-q)/(U-1)),P=Math.min(p,(l-q)/(U+1))}if(null!=_){var V=Hs(null==k?[x,T]:[k,O],[m,b],l,P,d),B=Hs([_,w],[x,T],l,P,d);p===P?E.push("M",V[0],"A",P,",",P," 0 0,",v," ",V[1],"A",l,",",l," 0 ",1-d^Bs(V[1][0],V[1][1],B[1][0],B[1][1]),",",d," ",B[1],"A",P,",",P," 0 0,",v," ",B[0]):E.push("M",V[0],"A",P,",",P," 0 1,",v," ",B[0])}else E.push("M",m,",",b);if(null!=k){var H=Hs([m,b],[k,O],s,-N,d),W=Hs([x,T],null==_?[m,b]:[_,w],s,-N,d);p===N?E.push("L",W[0],"A",N,",",N," 0 0,",v," ",W[1],"A",s,",",s," 0 ",d^Bs(W[1][0],W[1][1],H[1][0],H[1][1]),",",1-d," ",H[1],"A",N,",",N," 0 0,",v," ",H[0]):E.push("L",W[0],"A",N,",",N," 0 0,",v," ",H[0])}else E.push("L",x,",",T)}else E.push("M",m,",",b),null!=_&&E.push("A",l,",",l," 0 ",M,",",d," ",_,",",w),E.push("L",x,",",T),null!=k&&E.push("A",s,",",s," 0 ",I,",",1-d," ",k,",",O);return E.push("Z"),E.join("")}function u(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}return s.innerRadius=function(t){return arguments.length?(e=kt(t),s):e},s.outerRadius=function(e){return arguments.length?(t=kt(e),s):t},s.cornerRadius=function(e){return arguments.length?(n=kt(e),s):n},s.padRadius=function(e){return arguments.length?(r=e==Rs?Rs:kt(e),s):r},s.startAngle=function(e){return arguments.length?(i=kt(e),s):i},s.endAngle=function(e){return arguments.length?(o=kt(e),s):o},s.padAngle=function(e){return arguments.length?(a=kt(e),s):a},s.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-De;return[Math.cos(r)*n,Math.sin(r)*n]},s};var Rs="auto";function Fs(e){return e.innerRadius}function zs(e){return e.outerRadius}function Us(e){return e.startAngle}function qs(e){return e.endAngle}function Vs(e){return e&&e.padAngle}function Bs(e,t,n,r){return(e-n)*t-(t-r)*e>0?0:1}function Hs(e,t,n,r,i){var o=e[0]-t[0],a=e[1]-t[1],s=(i?r:-r)/Math.sqrt(o*o+a*a),u=s*a,l=-s*o,c=e[0]+u,f=e[1]+l,h=t[0]+u,d=t[1]+l,p=(c+h)/2,v=(f+d)/2,y=h-c,g=d-f,m=y*y+g*g,b=n-r,_=c*d-h*f,w=(g<0?-1:1)*Math.sqrt(Math.max(0,b*b*m-_*_)),x=(_*g-y*w)/m,T=(-_*y-g*w)/m,k=(_*g+y*w)/m,O=(-_*y+g*w)/m,S=x-p,A=T-v,E=k-p,M=O-v;return S*S+A*A>E*E+M*M&&(x=k,T=O),[[x-u,T-l],[x*n/b,T*n/b]]}function Ws(e){var t=ki,n=Oi,r=sr,i=Gs,o=i.key,a=.7;function s(o){var s,u=[],l=[],c=-1,f=o.length,h=kt(t),d=kt(n);function p(){u.push("M",i(e(l),a))}for(;++c<f;)r.call(this,s=o[c],c)?l.push([+h.call(this,s,c),+d.call(this,s,c)]):l.length&&(p(),l=[]);return l.length&&p(),u.length?u.join(""):null}return s.x=function(e){return arguments.length?(t=e,s):t},s.y=function(e){return arguments.length?(n=e,s):n},s.defined=function(e){return arguments.length?(r=e,s):r},s.interpolate=function(e){return arguments.length?(o="function"===typeof e?i=e:(i=Ys.get(e)||Gs).key,s):o},s.tension=function(e){return arguments.length?(a=e,s):a},s}t.svg.line=function(){return Ws(P)};var Ys=t.map({linear:Gs,"linear-closed":Ks,step:Xs,"step-before":Qs,"step-after":Js,basis:ru,"basis-open":iu,"basis-closed":ou,bundle:au,cardinal:eu,"cardinal-open":$s,"cardinal-closed":Zs,monotone:vu});function Gs(e){return e.length>1?e.join("L"):e+"Z"}function Ks(e){return e.join("L")+"Z"}function Xs(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function Qs(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function Js(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function $s(e,t){return e.length<4?Gs(e):e[1]+tu(e.slice(1,-1),nu(e,t))}function Zs(e,t){return e.length<3?Ks(e):e[0]+tu((e.push(e[0]),e),nu([e[e.length-2]].concat(e,[e[1]]),t))}function eu(e,t){return e.length<3?Gs(e):e[0]+tu(e,nu(e,t))}function tu(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return Gs(e);var n=e.length!=t.length,r="",i=e[0],o=e[1],a=t[0],s=a,u=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=e[1],u=2),t.length>1){s=t[1],o=e[u],u++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var l=2;l<t.length;l++,u++)o=e[u],s=t[l],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=e[u];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function nu(e,t){for(var n,r=[],i=(1-t)/2,o=e[0],a=e[1],s=1,u=e.length;++s<u;)n=o,o=a,a=e[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function ru(e){if(e.length<3)return Gs(e);var t=1,n=e.length,r=e[0],i=r[0],o=r[1],a=[i,i,i,(r=e[1])[0]],s=[o,o,o,r[1]],u=[i,",",o,"L",su(cu,a),",",su(cu,s)];for(e.push(e[n-1]);++t<=n;)r=e[t],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),fu(u,a,s);return e.pop(),u.push("L",r),u.join("")}function iu(e){if(e.length<4)return Gs(e);for(var t,n=[],r=-1,i=e.length,o=[0],a=[0];++r<3;)t=e[r],o.push(t[0]),a.push(t[1]);for(n.push(su(cu,o)+","+su(cu,a)),--r;++r<i;)t=e[r],o.shift(),o.push(t[0]),a.shift(),a.push(t[1]),fu(n,o,a);return n.join("")}function ou(e){for(var t,n,r=-1,i=e.length,o=i+4,a=[],s=[];++r<4;)n=e[r%i],a.push(n[0]),s.push(n[1]);for(t=[su(cu,a),",",su(cu,s)],--r;++r<o;)n=e[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),fu(t,a,s);return t.join("")}function au(e,t){var n=e.length-1;if(n)for(var r,i,o=e[0][0],a=e[0][1],s=e[n][0]-o,u=e[n][1]-a,l=-1;++l<=n;)i=l/n,(r=e[l])[0]=t*r[0]+(1-t)*(o+i*s),r[1]=t*r[1]+(1-t)*(a+i*u);return ru(e)}function su(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}Ys.forEach((function(e,t){t.key=e,t.closed=/-closed$/.test(e)}));var uu=[0,2/3,1/3,0],lu=[0,1/3,2/3,0],cu=[0,1/6,2/3,1/6];function fu(e,t,n){e.push("C",su(uu,t),",",su(uu,n),",",su(lu,t),",",su(lu,n),",",su(cu,t),",",su(cu,n))}function hu(e,t){return(t[1]-e[1])/(t[0]-e[0])}function du(e){for(var t=0,n=e.length-1,r=[],i=e[0],o=e[1],a=r[0]=hu(i,o);++t<n;)r[t]=(a+(a=hu(i=o,o=e[t+1])))/2;return r[t]=a,r}function pu(e){for(var t,n,r,i,o=[],a=du(e),s=-1,u=e.length-1;++s<u;)t=hu(e[s],e[s+1]),b(t)<Ae?a[s]=a[s+1]=0:(i=(n=a[s]/t)*n+(r=a[s+1]/t)*r)>9&&(i=3*t/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r);for(s=-1;++s<=u;)i=(e[Math.min(u,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}function vu(e){return e.length<3?Gs(e):e[0]+tu(e,pu(e))}function yu(e){for(var t,n,r,i=-1,o=e.length;++i<o;)n=(t=e[i])[0],r=t[1]-De,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function gu(e){var t=ki,n=ki,r=0,i=Oi,o=sr,a=Gs,s=a.key,u=a,l="L",c=.7;function f(s){var f,h,d,p=[],v=[],y=[],g=-1,m=s.length,b=kt(t),_=kt(r),w=t===n?function(){return h}:kt(n),x=r===i?function(){return d}:kt(i);function T(){p.push("M",a(e(y),c),l,u(e(v.reverse()),c),"Z")}for(;++g<m;)o.call(this,f=s[g],g)?(v.push([h=+b.call(this,f,g),d=+_.call(this,f,g)]),y.push([+w.call(this,f,g),+x.call(this,f,g)])):v.length&&(T(),v=[],y=[]);return v.length&&T(),p.length?p.join(""):null}return f.x=function(e){return arguments.length?(t=n=e,f):n},f.x0=function(e){return arguments.length?(t=e,f):t},f.x1=function(e){return arguments.length?(n=e,f):n},f.y=function(e){return arguments.length?(r=i=e,f):i},f.y0=function(e){return arguments.length?(r=e,f):r},f.y1=function(e){return arguments.length?(i=e,f):i},f.defined=function(e){return arguments.length?(o=e,f):o},f.interpolate=function(e){return arguments.length?(s="function"===typeof e?a=e:(a=Ys.get(e)||Gs).key,u=a.reverse||a,l=a.closed?"M":"L",f):s},f.tension=function(e){return arguments.length?(c=e,f):c},f}function mu(e){return e.radius}function bu(e){return[e.x,e.y]}function _u(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]-De;return[n*Math.cos(r),n*Math.sin(r)]}}function wu(){return 64}function xu(){return"circle"}function Tu(e){var t=Math.sqrt(e/Me);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}t.svg.line.radial=function(){var e=Ws(yu);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Qs.reverse=Js,Js.reverse=Qs,t.svg.area=function(){return gu(P)},t.svg.area.radial=function(){var e=gu(yu);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},t.svg.chord=function(){var e=ui,t=li,n=mu,r=Us,i=qs;function o(n,r){var i=a(this,e,n,r),o=a(this,t,n,r);return"M"+i.p0+u(i.r,i.p1,i.a1-i.a0)+(s(i,o)?l(i.r,i.p1,i.r,i.p0):l(i.r,i.p1,o.r,o.p0)+u(o.r,o.p1,o.a1-o.a0)+l(o.r,o.p1,i.r,i.p0))+"Z"}function a(e,t,o,a){var s=t.call(e,o,a),u=n.call(e,s,a),l=r.call(e,s,a)-De,c=i.call(e,s,a)-De;return{r:u,a0:l,a1:c,p0:[u*Math.cos(l),u*Math.sin(l)],p1:[u*Math.cos(c),u*Math.sin(c)]}}function s(e,t){return e.a0==t.a0&&e.a1==t.a1}function u(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Me)+",1 "+t}function l(e,t,n,r){return"Q 0,0 "+r}return o.radius=function(e){return arguments.length?(n=kt(e),o):n},o.source=function(t){return arguments.length?(e=kt(t),o):e},o.target=function(e){return arguments.length?(t=kt(e),o):t},o.startAngle=function(e){return arguments.length?(r=kt(e),o):r},o.endAngle=function(e){return arguments.length?(i=kt(e),o):i},o},t.svg.diagonal=function(){var e=ui,t=li,n=bu;function r(r,i){var o=e.call(this,r,i),a=t.call(this,r,i),s=(o.y+a.y)/2,u=[o,{x:o.x,y:s},{x:a.x,y:s},a];return"M"+(u=u.map(n))[0]+"C"+u[1]+" "+u[2]+" "+u[3]}return r.source=function(t){return arguments.length?(e=kt(t),r):e},r.target=function(e){return arguments.length?(t=kt(e),r):t},r.projection=function(e){return arguments.length?(n=e,r):n},r},t.svg.diagonal.radial=function(){var e=t.svg.diagonal(),n=bu,r=e.projection;return e.projection=function(e){return arguments.length?r(_u(n=e)):n},e},t.svg.symbol=function(){var e=xu,t=wu;function n(n,r){return(ku.get(e.call(this,n,r))||Tu)(t.call(this,n,r))}return n.type=function(t){return arguments.length?(e=kt(t),n):e},n.size=function(e){return arguments.length?(t=kt(e),n):t},n};var ku=t.map({circle:Tu,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Su)),n=t*Su;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Ou),n=t*Ou/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Ou),n=t*Ou/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});t.svg.symbolTypes=ku.keys();var Ou=Math.sqrt(3),Su=Math.tan(30*Pe);X.transition=function(e){for(var t,n,r=Cu||++Pu,i=ju(e),o=[],a=Iu||{time:Date.now(),ease:jo,delay:0,duration:250},s=-1,u=this.length;++s<u;){o.push(t=[]);for(var l=this[s],c=-1,f=l.length;++c<f;)(n=l[c])&&Ru(n,c,i,r,a),t.push(n)}return Mu(o,i,r)},X.interrupt=function(e){return this.each(null==e?Au:Eu(ju(e)))};var Au=Eu(ju());function Eu(e){return function(){var t,n,r;(t=this[e])&&(r=t[n=t.active])&&(r.timer.c=null,r.timer.t=NaN,--t.count?delete t[n]:delete this[e],t.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function Mu(e,t,n){return H(e,Du),e.namespace=t,e.id=n,e}var Cu,Iu,Du=[],Pu=0;function Nu(e,t,n,r){var i=e.id,o=e.namespace;return de(e,"function"===typeof n?function(e,a,s){e[o][i].tween.set(t,r(n.call(e,e.__data__,a,s)))}:(n=r(n),function(e){e[o][i].tween.set(t,n)}))}function Lu(e){return null==e&&(e=""),function(){this.textContent=e}}function ju(e){return null==e?"__transition__":"__transition_"+e+"__"}function Ru(e,t,n,r,i){var o,a,s,u,l,c=e[n]||(e[n]={active:0,count:0}),f=c[r];function h(e){var t=f.delay;if(a.t=t+o,t<=e)return d(e-t);a.c=d}function d(n){var i=c.active,h=c[i];for(var d in h&&(h.timer.c=null,h.timer.t=NaN,--c.count,delete c[i],h.event&&h.event.interrupt.call(e,e.__data__,h.index)),c)if(+d<r){var v=c[d];v.timer.c=null,v.timer.t=NaN,--c.count,delete c[d]}a.c=p,Nt((function(){return a.c&&p(n||1)&&(a.c=null,a.t=NaN),1}),0,o),c.active=r,f.event&&f.event.start.call(e,e.__data__,t),l=[],f.tween.forEach((function(n,r){(r=r.call(e,e.__data__,t))&&l.push(r)})),u=f.ease,s=f.duration}function p(i){for(var o=i/s,a=u(o),h=l.length;h>0;)l[--h].call(e,a);if(o>=1)return f.event&&f.event.end.call(e,e.__data__,t),--c.count?delete c[r]:delete e[n],1}f||(o=i.time,a=Nt(h,0,o),f=c[r]={tween:new x,time:o,timer:a,delay:i.delay,duration:i.duration,ease:i.ease,index:t},i=null,++c.count)}Du.call=X.call,Du.empty=X.empty,Du.node=X.node,Du.size=X.size,t.transition=function(e,n){return e&&e.transition?Cu?e.transition(n):e:t.selection().transition(e)},t.transition.prototype=Du,Du.select=function(e){var t,n,r,i=this.id,o=this.namespace,a=[];e=Q(e);for(var s=-1,u=this.length;++s<u;){a.push(t=[]);for(var l=this[s],c=-1,f=l.length;++c<f;)(r=l[c])&&(n=e.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),Ru(n,c,o,i,r[o][i]),t.push(n)):t.push(null)}return Mu(a,o,i)},Du.selectAll=function(e){var t,n,r,i,o,a=this.id,s=this.namespace,u=[];e=J(e);for(var l=-1,c=this.length;++l<c;)for(var f=this[l],h=-1,d=f.length;++h<d;)if(r=f[h]){o=r[s][a],n=e.call(r,r.__data__,h,l),u.push(t=[]);for(var p=-1,v=n.length;++p<v;)(i=n[p])&&Ru(i,p,s,a,o),t.push(i)}return Mu(u,s,a)},Du.filter=function(e){var t,n,r=[];"function"!==typeof e&&(e=fe(e));for(var i=0,o=this.length;i<o;i++){r.push(t=[]);for(var a,s=0,u=(a=this[i]).length;s<u;s++)(n=a[s])&&e.call(n,n.__data__,s,i)&&t.push(n)}return Mu(r,this.namespace,this.id)},Du.tween=function(e,t){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(e):de(this,null==t?function(t){t[r][n].tween.remove(e)}:function(i){i[r][n].tween.set(e,t)})},Du.attr=function(e,n){if(arguments.length<2){for(n in e)this.attr(n,e[n]);return this}var r="transform"==e?ia:So,i=t.ns.qualify(e);function o(){this.removeAttribute(i)}function a(){this.removeAttributeNS(i.space,i.local)}function s(e){return null==e?o:(e+="",function(){var t,n=this.getAttribute(i);return n!==e&&(t=r(n,e),function(e){this.setAttribute(i,t(e))})})}function u(e){return null==e?a:(e+="",function(){var t,n=this.getAttributeNS(i.space,i.local);return n!==e&&(t=r(n,e),function(e){this.setAttributeNS(i.space,i.local,t(e))})})}return Nu(this,"attr."+e,n,i.local?u:s)},Du.attrTween=function(e,n){var r=t.ns.qualify(e);function i(e,t){var i=n.call(this,e,t,this.getAttribute(r));return i&&function(e){this.setAttribute(r,i(e))}}function o(e,t){var i=n.call(this,e,t,this.getAttributeNS(r.space,r.local));return i&&function(e){this.setAttributeNS(r.space,r.local,i(e))}}return this.tween("attr."+e,r.local?o:i)},Du.style=function(e,t,n){var r=arguments.length;if(r<3){if("string"!==typeof e){for(n in r<2&&(t=""),e)this.style(n,e[n],t);return this}n=""}function i(){this.style.removeProperty(e)}function o(t){return null==t?i:(t+="",function(){var r,i=s(this).getComputedStyle(this,null).getPropertyValue(e);return i!==t&&(r=So(i,t),function(t){this.style.setProperty(e,r(t),n)})})}return Nu(this,"style."+e,t,o)},Du.styleTween=function(e,t,n){function r(r,i){var o=t.call(this,r,i,s(this).getComputedStyle(this,null).getPropertyValue(e));return o&&function(t){this.style.setProperty(e,o(t),n)}}return arguments.length<3&&(n=""),this.tween("style."+e,r)},Du.text=function(e){return Nu(this,"text",e,Lu)},Du.remove=function(){var e=this.namespace;return this.each("end.transition",(function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)}))},Du.ease=function(e){var n=this.id,r=this.namespace;return arguments.length<1?this.node()[r][n].ease:("function"!==typeof e&&(e=t.ease.apply(t,arguments)),de(this,(function(t){t[r][n].ease=e})))},Du.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:de(this,"function"===typeof e?function(r,i,o){r[n][t].delay=+e.call(r,r.__data__,i,o)}:(e=+e,function(r){r[n][t].delay=e}))},Du.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:de(this,"function"===typeof e?function(r,i,o){r[n][t].duration=Math.max(1,e.call(r,r.__data__,i,o))}:(e=Math.max(1,e),function(r){r[n][t].duration=e}))},Du.each=function(e,n){var r=this.id,i=this.namespace;if(arguments.length<2){var o=Iu,a=Cu;try{Cu=r,de(this,(function(t,n,o){Iu=t[i][r],e.call(t,t.__data__,n,o)}))}finally{Iu=o,Cu=a}}else de(this,(function(o){var a=o[i][r];(a.event||(a.event=t.dispatch("start","end","interrupt"))).on(e,n)}));return this},Du.transition=function(){for(var e,t,n,r=this.id,i=++Pu,o=this.namespace,a=[],s=0,u=this.length;s<u;s++){a.push(e=[]);for(var l,c=0,f=(l=this[s]).length;c<f;c++)(t=l[c])&&Ru(t,c,o,i,{time:(n=t[o][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),e.push(t)}return Mu(a,o,i)},t.svg.axis=function(){var e,n=t.scale.linear(),r=Fu,o=6,a=6,s=3,u=[10],l=null;function c(i){i.each((function(){var i,c=t.select(this),f=this.__chart__||n,h=this.__chart__=n.copy(),d=null==l?h.ticks?h.ticks.apply(h,u):h.domain():l,p=null==e?h.tickFormat?h.tickFormat.apply(h,u):P:e,v=c.selectAll(".tick").data(d,h),y=v.enter().insert("g",".domain").attr("class","tick").style("opacity",Ae),g=t.transition(v.exit()).style("opacity",Ae).remove(),m=t.transition(v.order()).style("opacity",1),b=Math.max(o,0)+s,_=ss(h),w=c.selectAll(".domain").data([0]),x=(w.enter().append("path").attr("class","domain"),t.transition(w));y.append("line"),y.append("text");var T,k,O,S,A=y.select("line"),E=m.select("line"),M=v.select("text").text(p),C=y.select("text"),I=m.select("text"),D="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(i=Uu,T="x",O="y",k="x2",S="y2",M.attr("dy",D<0?"0em":".71em").style("text-anchor","middle"),x.attr("d","M"+_[0]+","+D*a+"V0H"+_[1]+"V"+D*a)):(i=qu,T="y",O="x",k="y2",S="x2",M.attr("dy",".32em").style("text-anchor",D<0?"end":"start"),x.attr("d","M"+D*a+","+_[0]+"H0V"+_[1]+"H"+D*a)),A.attr(S,D*o),C.attr(O,D*b),E.attr(k,0).attr(S,D*o),I.attr(T,0).attr(O,D*b),h.rangeBand){var N=h,L=N.rangeBand()/2;f=h=function(e){return N(e)+L}}else f.rangeBand?f=h:g.call(i,h,f);y.call(i,f,h),m.call(i,h,h)}))}return c.scale=function(e){return arguments.length?(n=e,c):n},c.orient=function(e){return arguments.length?(r=e in zu?e+"":Fu,c):r},c.ticks=function(){return arguments.length?(u=i(arguments),c):u},c.tickValues=function(e){return arguments.length?(l=e,c):l},c.tickFormat=function(t){return arguments.length?(e=t,c):e},c.tickSize=function(e){var t=arguments.length;return t?(o=+e,a=+arguments[t-1],c):o},c.innerTickSize=function(e){return arguments.length?(o=+e,c):o},c.outerTickSize=function(e){return arguments.length?(a=+e,c):a},c.tickPadding=function(e){return arguments.length?(s=+e,c):s},c.tickSubdivide=function(){return arguments.length&&c},c};var Fu="bottom",zu={top:1,right:1,bottom:1,left:1};function Uu(e,t,n){e.attr("transform",(function(e){var r=t(e);return"translate("+(isFinite(r)?r:n(e))+",0)"}))}function qu(e,t,n){e.attr("transform",(function(e){var r=t(e);return"translate(0,"+(isFinite(r)?r:n(e))+")"}))}t.svg.brush=function(){var e,n,r=V(h,"brushstart","brush","brushend"),i=null,o=null,a=[0,0],u=[0,0],l=!0,c=!0,f=Bu[0];function h(e){e.each((function(){var e=t.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",y).on("touchstart.brush",y),n=e.selectAll(".background").data([0]);n.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var r=e.selectAll(".resize").data(f,P);r.exit().remove(),r.enter().append("g").attr("class",(function(e){return"resize "+e})).style("cursor",(function(e){return Vu[e]})).append("rect").attr("x",(function(e){return/[ew]$/.test(e)?-3:null})).attr("y",(function(e){return/^[ns]/.test(e)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden"),r.style("display",h.empty()?"none":null);var a,s=t.transition(e),u=t.transition(n);i&&(a=ss(i),u.attr("x",a[0]).attr("width",a[1]-a[0]),p(s)),o&&(a=ss(o),u.attr("y",a[0]).attr("height",a[1]-a[0]),v(s)),d(s)}))}function d(e){e.selectAll(".resize").attr("transform",(function(e){return"translate("+a[+/e$/.test(e)]+","+u[+/^s/.test(e)]+")"}))}function p(e){e.select(".extent").attr("x",a[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",a[1]-a[0])}function v(e){e.select(".extent").attr("y",u[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",u[1]-u[0])}function y(){var f,y,g=this,m=t.select(t.event.target),b=r.of(g,arguments),_=t.select(g),w=m.datum(),x=!/^(n|s)$/.test(w)&&i,T=!/^(e|w)$/.test(w)&&o,k=m.classed("extent"),O=Te(g),S=t.mouse(g),A=t.select(s(g)).on("keydown.brush",C).on("keyup.brush",I);if(t.event.changedTouches?A.on("touchmove.brush",D).on("touchend.brush",N):A.on("mousemove.brush",D).on("mouseup.brush",N),_.interrupt().selectAll("*").interrupt(),k)S[0]=a[0]-S[0],S[1]=u[0]-S[1];else if(w){var E=+/w$/.test(w),M=+/^n/.test(w);y=[a[1-E]-S[0],u[1-M]-S[1]],S[0]=a[E],S[1]=u[M]}else t.event.altKey&&(f=S.slice());function C(){32==t.event.keyCode&&(k||(f=null,S[0]-=a[1],S[1]-=u[1],k=2),U())}function I(){32==t.event.keyCode&&2==k&&(S[0]+=a[1],S[1]+=u[1],k=0,U())}function D(){var e=t.mouse(g),n=!1;y&&(e[0]+=y[0],e[1]+=y[1]),k||(t.event.altKey?(f||(f=[(a[0]+a[1])/2,(u[0]+u[1])/2]),S[0]=a[+(e[0]<f[0])],S[1]=u[+(e[1]<f[1])]):f=null),x&&P(e,i,0)&&(p(_),n=!0),T&&P(e,o,1)&&(v(_),n=!0),n&&(d(_),b({type:"brush",mode:k?"move":"resize"}))}function P(t,r,i){var o,s,h=ss(r),d=h[0],p=h[1],v=S[i],y=i?u:a,g=y[1]-y[0];if(k&&(d-=v,p-=g+v),o=(i?c:l)?Math.max(d,Math.min(p,t[i])):t[i],k?s=(o+=v)+g:(f&&(v=Math.max(d,Math.min(p,2*f[i]-o))),v<o?(s=o,o=v):s=v),y[0]!=o||y[1]!=s)return i?n=null:e=null,y[0]=o,y[1]=s,!0}function N(){D(),_.style("pointer-events","all").selectAll(".resize").style("display",h.empty()?"none":null),t.select("body").style("cursor",null),A.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),O(),b({type:"brushend"})}_.style("pointer-events","none").selectAll(".resize").style("display",null),t.select("body").style("cursor",m.style("cursor")),b({type:"brushstart"}),D()}return h.event=function(i){i.each((function(){var i=r.of(this,arguments),o={x:a,y:u,i:e,j:n},s=this.__chart__||o;this.__chart__=o,Cu?t.select(this).transition().each("start.brush",(function(){e=s.i,n=s.j,a=s.x,u=s.y,i({type:"brushstart"})})).tween("brush:brush",(function(){var t=Ao(a,o.x),r=Ao(u,o.y);return e=n=null,function(e){a=o.x=t(e),u=o.y=r(e),i({type:"brush",mode:"resize"})}})).each("end.brush",(function(){e=o.i,n=o.j,i({type:"brush",mode:"resize"}),i({type:"brushend"})})):(i({type:"brushstart"}),i({type:"brush",mode:"resize"}),i({type:"brushend"}))}))},h.x=function(e){return arguments.length?(f=Bu[!(i=e)<<1|!o],h):i},h.y=function(e){return arguments.length?(f=Bu[!i<<1|!(o=e)],h):o},h.clamp=function(e){return arguments.length?(i&&o?(l=!!e[0],c=!!e[1]):i?l=!!e:o&&(c=!!e),h):i&&o?[l,c]:i?l:o?c:null},h.extent=function(t){var r,s,l,c,f;return arguments.length?(i&&(r=t[0],s=t[1],o&&(r=r[0],s=s[0]),e=[r,s],i.invert&&(r=i(r),s=i(s)),s<r&&(f=r,r=s,s=f),r==a[0]&&s==a[1]||(a=[r,s])),o&&(l=t[0],c=t[1],i&&(l=l[1],c=c[1]),n=[l,c],o.invert&&(l=o(l),c=o(c)),c<l&&(f=l,l=c,c=f),l==u[0]&&c==u[1]||(u=[l,c])),h):(i&&(e?(r=e[0],s=e[1]):(r=a[0],s=a[1],i.invert&&(r=i.invert(r),s=i.invert(s)),s<r&&(f=r,r=s,s=f))),o&&(n?(l=n[0],c=n[1]):(l=u[0],c=u[1],o.invert&&(l=o.invert(l),c=o.invert(c)),c<l&&(f=l,l=c,c=f))),i&&o?[[r,l],[s,c]]:i?[r,s]:o&&[l,c])},h.clear=function(){return h.empty()||(a=[0,0],u=[0,0],e=n=null),h},h.empty=function(){return!!i&&a[0]==a[1]||!!o&&u[0]==u[1]},t.rebind(h,r,"on")};var Vu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Bu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Hu=Wt.format=xn.timeFormat,Wu=Hu.utc,Yu=Wu("%Y-%m-%dT%H:%M:%S.%LZ");function Gu(e){return e.toISOString()}function Ku(e,n,r){function i(t){return e(t)}function o(e,r){var i=(e[1]-e[0])/r,o=t.bisect(Qu,i);return o==Qu.length?[n.year,ys(e.map((function(e){return e/31536e6})),r)[2]]:o?n[i/Qu[o-1]<Qu[o]/i?o-1:o]:[Zu,ys(e,r)[2]]}return i.invert=function(t){return Xu(e.invert(t))},i.domain=function(t){return arguments.length?(e.domain(t),i):e.domain().map(Xu)},i.nice=function(e,t){var n=i.domain(),r=as(n),a=null==e?o(r,10):"number"===typeof e&&o(r,e);function s(n){return!isNaN(n)&&!e.range(n,Xu(+n+1),t).length}return a&&(e=a[0],t=a[1]),i.domain(ls(n,t>1?{floor:function(t){for(;s(t=e.floor(t));)t=Xu(t-1);return t},ceil:function(t){for(;s(t=e.ceil(t));)t=Xu(+t+1);return t}}:e))},i.ticks=function(e,t){var n=as(i.domain()),r=null==e?o(n,10):"number"===typeof e?o(n,e):!e.range&&[{range:e},t];return r&&(e=r[0],t=r[1]),e.range(n[0],Xu(+n[1]+1),t<1?1:t)},i.tickFormat=function(){return r},i.copy=function(){return Ku(e.copy(),n,r)},ps(i,e)}function Xu(e){return new Date(e)}Hu.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Gu:Yu,Gu.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},Gu.toString=Yu.toString,Wt.second=Xt((function(e){return new Yt(1e3*Math.floor(e/1e3))}),(function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))}),(function(e){return e.getSeconds()})),Wt.seconds=Wt.second.range,Wt.seconds.utc=Wt.second.utc.range,Wt.minute=Xt((function(e){return new Yt(6e4*Math.floor(e/6e4))}),(function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))}),(function(e){return e.getMinutes()})),Wt.minutes=Wt.minute.range,Wt.minutes.utc=Wt.minute.utc.range,Wt.hour=Xt((function(e){var t=e.getTimezoneOffset()/60;return new Yt(36e5*(Math.floor(e/36e5-t)+t))}),(function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))}),(function(e){return e.getHours()})),Wt.hours=Wt.hour.range,Wt.hours.utc=Wt.hour.utc.range,Wt.month=Xt((function(e){return(e=Wt.day(e)).setDate(1),e}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e){return e.getMonth()})),Wt.months=Wt.month.range,Wt.months.utc=Wt.month.utc.range;var Qu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Ju=[[Wt.second,1],[Wt.second,5],[Wt.second,15],[Wt.second,30],[Wt.minute,1],[Wt.minute,5],[Wt.minute,15],[Wt.minute,30],[Wt.hour,1],[Wt.hour,3],[Wt.hour,6],[Wt.hour,12],[Wt.day,1],[Wt.day,2],[Wt.week,1],[Wt.month,1],[Wt.month,3],[Wt.year,1]],$u=Hu.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",sr]]),Zu={range:function(e,n,r){return t.range(Math.ceil(e/r)*r,+n,r).map(Xu)},floor:P,ceil:P};Ju.year=Wt.year,Wt.scale=function(){return Ku(t.scale.linear(),Ju,$u)};var el=Ju.map((function(e){return[e[0].utc,e[1]]})),tl=Wu.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",sr]]);function nl(e){return JSON.parse(e.responseText)}function rl(e){var t=o.createRange();return t.selectNode(o.body),t.createContextualFragment(e.responseText)}el.year=Wt.year.utc,Wt.scale.utc=function(){return Ku(t.scale.linear(),el,tl)},t.text=Ot((function(e){return e.responseText})),t.json=function(e,t){return St(e,"application/json",nl,t)},t.html=function(e,t){return St(e,"text/html",rl,t)},t.xml=Ot((function(e){return e.responseXML})),"function"===typeof e&&e.amd?(this.d3=t,e(t)):"object"===typeof n&&n.exports?n.exports=t:this.d3=t}).apply(self)},{}],12:[function(e,t,n){"use strict";var r,i="object"===typeof Reflect?Reflect:null,o=i&&"function"===typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};function a(e){console&&console.warn&&console.warn(e)}r=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!==e};function u(){u.init.call(this)}t.exports=u,t.exports.once=_,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var l=10;function c(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function f(e){return void 0===e._maxListeners?u.defaultMaxListeners:e._maxListeners}function h(e,t,n,r){var i,o,s;if(c(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"===typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=f(e))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,a(u)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=d.bind(r);return i.listener=n,r.wrapFn=i,i}function v(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?b(i):g(i,i.length)}function y(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function b(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function _(e,t){return new Promise((function(n,r){function i(){void 0!==o&&e.removeListener("error",o),n([].slice.call(arguments))}var o;"error"!==t&&(o=function(n){e.removeListener(t,i),r(n)},e.once("error",o)),e.once(t,i)}))}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!==typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),u.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},u.prototype.getMaxListeners=function(){return f(this)},u.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[e];if(void 0===u)return!1;if("function"===typeof u)o(u,this,t);else{var l=u.length,c=g(u,l);for(n=0;n<l;++n)o(c[n],this,t)}return!0},u.prototype.addListener=function(e,t){return h(this,e,t,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(e,t){return h(this,e,t,!0)},u.prototype.once=function(e,t){return c(t),this.on(e,p(this,e,t)),this},u.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,p(this,e,t)),this},u.prototype.removeListener=function(e,t){var n,r,i,o,a;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():m(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},u.prototype.listeners=function(e){return v(this,e,!0)},u.prototype.rawListeners=function(e){return v(this,e,!1)},u.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):y.call(e,t)},u.prototype.listenerCount=y,u.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},{}],13:[function(t,n,r){!function(i,o){"object"===typeof r&&"undefined"!==typeof n?o(r,t("d3-time")):"function"===typeof e&&e.amd?e(["exports","d3-time"],o):o((i=i||self).d3=i.d3||{},i.d3)}(this,(function(e,t){"use strict";function n(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function r(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function i(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function o(e){var o=e.dateTime,a=e.date,u=e.time,l=e.periods,c=e.days,f=e.shortDays,h=e.months,me=e.shortMonths,be=d(l),_e=p(l),we=d(c),xe=p(c),Te=d(f),ke=p(f),Oe=d(h),Se=p(h),Ae=d(me),Ee=p(me),Me={a:Be,A:He,b:We,B:Ye,c:null,d:L,e:L,f:U,H:j,I:R,j:F,L:z,m:q,M:V,p:Ge,q:Ke,Q:ye,s:ge,S:B,u:H,U:W,V:Y,w:G,W:K,x:null,X:null,y:X,Y:Q,Z:J,"%":ve},Ce={a:Xe,A:Qe,b:Je,B:$e,c:null,d:$,e:$,f:re,H:Z,I:ee,j:te,L:ne,m:ie,M:oe,p:Ze,q:et,Q:ye,s:ge,S:ae,u:se,U:ue,V:le,w:ce,W:fe,x:null,X:null,y:he,Y:de,Z:pe,"%":ve},Ie={a:je,A:Re,b:Fe,B:ze,c:Ue,d:O,e:O,f:I,H:A,I:A,j:S,L:C,m:k,M:E,p:Le,q:T,Q:P,s:N,S:M,u:y,U:g,V:m,w:v,W:b,x:qe,X:Ve,y:w,Y:_,Z:x,"%":D};function De(e,t){return function(n){var r,i,o,a=[],u=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++u<c;)37===e.charCodeAt(u)&&(a.push(e.slice(l,u)),null!=(i=s[r=e.charAt(++u)])?r=e.charAt(++u):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=u+1);return a.push(e.slice(l,u)),a.join("")}}function Pe(e,o){return function(a){var s,u,l=i(1900,void 0,1);if(Ne(l,e,a+="",0)!=a.length)return null;if("Q"in l)return new Date(l.Q);if("s"in l)return new Date(1e3*l.s+("L"in l?l.L:0));if(o&&!("Z"in l)&&(l.Z=0),"p"in l&&(l.H=l.H%12+12*l.p),void 0===l.m&&(l.m="q"in l?l.q:0),"V"in l){if(l.V<1||l.V>53)return null;"w"in l||(l.w=1),"Z"in l?(u=(s=r(i(l.y,0,1))).getUTCDay(),s=u>4||0===u?t.utcMonday.ceil(s):t.utcMonday(s),s=t.utcDay.offset(s,7*(l.V-1)),l.y=s.getUTCFullYear(),l.m=s.getUTCMonth(),l.d=s.getUTCDate()+(l.w+6)%7):(u=(s=n(i(l.y,0,1))).getDay(),s=u>4||0===u?t.timeMonday.ceil(s):t.timeMonday(s),s=t.timeDay.offset(s,7*(l.V-1)),l.y=s.getFullYear(),l.m=s.getMonth(),l.d=s.getDate()+(l.w+6)%7)}else("W"in l||"U"in l)&&("w"in l||(l.w="u"in l?l.u%7:"W"in l?1:0),u="Z"in l?r(i(l.y,0,1)).getUTCDay():n(i(l.y,0,1)).getDay(),l.m=0,l.d="W"in l?(l.w+6)%7+7*l.W-(u+5)%7:l.w+7*l.U-(u+6)%7);return"Z"in l?(l.H+=l.Z/100|0,l.M+=l.Z%100,r(l)):n(l)}}function Ne(e,t,n,r){for(var i,o,a=0,u=t.length,l=n.length;a<u;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=Ie[i in s?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function Le(e,t,n){var r=be.exec(t.slice(n));return r?(e.p=_e[r[0].toLowerCase()],n+r[0].length):-1}function je(e,t,n){var r=Te.exec(t.slice(n));return r?(e.w=ke[r[0].toLowerCase()],n+r[0].length):-1}function Re(e,t,n){var r=we.exec(t.slice(n));return r?(e.w=xe[r[0].toLowerCase()],n+r[0].length):-1}function Fe(e,t,n){var r=Ae.exec(t.slice(n));return r?(e.m=Ee[r[0].toLowerCase()],n+r[0].length):-1}function ze(e,t,n){var r=Oe.exec(t.slice(n));return r?(e.m=Se[r[0].toLowerCase()],n+r[0].length):-1}function Ue(e,t,n){return Ne(e,o,t,n)}function qe(e,t,n){return Ne(e,a,t,n)}function Ve(e,t,n){return Ne(e,u,t,n)}function Be(e){return f[e.getDay()]}function He(e){return c[e.getDay()]}function We(e){return me[e.getMonth()]}function Ye(e){return h[e.getMonth()]}function Ge(e){return l[+(e.getHours()>=12)]}function Ke(e){return 1+~~(e.getMonth()/3)}function Xe(e){return f[e.getUTCDay()]}function Qe(e){return c[e.getUTCDay()]}function Je(e){return me[e.getUTCMonth()]}function $e(e){return h[e.getUTCMonth()]}function Ze(e){return l[+(e.getUTCHours()>=12)]}function et(e){return 1+~~(e.getUTCMonth()/3)}return Me.x=De(a,Me),Me.X=De(u,Me),Me.c=De(o,Me),Ce.x=De(a,Ce),Ce.X=De(u,Ce),Ce.c=De(o,Ce),{format:function(e){var t=De(e+="",Me);return t.toString=function(){return e},t},parse:function(e){var t=Pe(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=De(e+="",Ce);return t.toString=function(){return e},t},utcParse:function(e){var t=Pe(e+="",!0);return t.toString=function(){return e},t}}}var a,s={"-":"",_:" ",0:"0"},u=/^\s*\d+/,l=/^%/,c=/[\\^$*+?|[\]().{}]/g;function f(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function h(e){return e.replace(c,"\\$&")}function d(e){return new RegExp("^(?:"+e.map(h).join("|")+")","i")}function p(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function v(e,t,n){var r=u.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function y(e,t,n){var r=u.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function g(e,t,n){var r=u.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function m(e,t,n){var r=u.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function b(e,t,n){var r=u.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function _(e,t,n){var r=u.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function w(e,t,n){var r=u.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function x(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function T(e,t,n){var r=u.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function k(e,t,n){var r=u.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function O(e,t,n){var r=u.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function S(e,t,n){var r=u.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function A(e,t,n){var r=u.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function E(e,t,n){var r=u.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function M(e,t,n){var r=u.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function C(e,t,n){var r=u.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function I(e,t,n){var r=u.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function D(e,t,n){var r=l.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function P(e,t,n){var r=u.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function N(e,t,n){var r=u.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function L(e,t){return f(e.getDate(),t,2)}function j(e,t){return f(e.getHours(),t,2)}function R(e,t){return f(e.getHours()%12||12,t,2)}function F(e,n){return f(1+t.timeDay.count(t.timeYear(e),e),n,3)}function z(e,t){return f(e.getMilliseconds(),t,3)}function U(e,t){return z(e,t)+"000"}function q(e,t){return f(e.getMonth()+1,t,2)}function V(e,t){return f(e.getMinutes(),t,2)}function B(e,t){return f(e.getSeconds(),t,2)}function H(e){var t=e.getDay();return 0===t?7:t}function W(e,n){return f(t.timeSunday.count(t.timeYear(e)-1,e),n,2)}function Y(e,n){var r=e.getDay();return e=r>=4||0===r?t.timeThursday(e):t.timeThursday.ceil(e),f(t.timeThursday.count(t.timeYear(e),e)+(4===t.timeYear(e).getDay()),n,2)}function G(e){return e.getDay()}function K(e,n){return f(t.timeMonday.count(t.timeYear(e)-1,e),n,2)}function X(e,t){return f(e.getFullYear()%100,t,2)}function Q(e,t){return f(e.getFullYear()%1e4,t,4)}function J(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+f(t/60|0,"0",2)+f(t%60,"0",2)}function $(e,t){return f(e.getUTCDate(),t,2)}function Z(e,t){return f(e.getUTCHours(),t,2)}function ee(e,t){return f(e.getUTCHours()%12||12,t,2)}function te(e,n){return f(1+t.utcDay.count(t.utcYear(e),e),n,3)}function ne(e,t){return f(e.getUTCMilliseconds(),t,3)}function re(e,t){return ne(e,t)+"000"}function ie(e,t){return f(e.getUTCMonth()+1,t,2)}function oe(e,t){return f(e.getUTCMinutes(),t,2)}function ae(e,t){return f(e.getUTCSeconds(),t,2)}function se(e){var t=e.getUTCDay();return 0===t?7:t}function ue(e,n){return f(t.utcSunday.count(t.utcYear(e)-1,e),n,2)}function le(e,n){var r=e.getUTCDay();return e=r>=4||0===r?t.utcThursday(e):t.utcThursday.ceil(e),f(t.utcThursday.count(t.utcYear(e),e)+(4===t.utcYear(e).getUTCDay()),n,2)}function ce(e){return e.getUTCDay()}function fe(e,n){return f(t.utcMonday.count(t.utcYear(e)-1,e),n,2)}function he(e,t){return f(e.getUTCFullYear()%100,t,2)}function de(e,t){return f(e.getUTCFullYear()%1e4,t,4)}function pe(){return"+0000"}function ve(){return"%"}function ye(e){return+e}function ge(e){return Math.floor(+e/1e3)}function me(t){return a=o(t),e.timeFormat=a.format,e.timeParse=a.parse,e.utcFormat=a.utcFormat,e.utcParse=a.utcParse,a}me({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var be="%Y-%m-%dT%H:%M:%S.%LZ";function _e(e){return e.toISOString()}var we=Date.prototype.toISOString?_e:e.utcFormat(be);function xe(e){var t=new Date(e);return isNaN(t)?null:t}var Te=+new Date("2000-01-01T00:00:00.000Z")?xe:e.utcParse(be);e.isoFormat=we,e.isoParse=Te,e.timeFormatDefaultLocale=me,e.timeFormatLocale=o,Object.defineProperty(e,"__esModule",{value:!0})}))},{"d3-time":14}],14:[function(t,n,r){!function(t,i){"object"===typeof r&&"undefined"!==typeof n?i(r):"function"===typeof e&&e.amd?e(["exports"],i):i((t=t||self).d3=t.d3||{})}(this,(function(e){"use strict";var t=new Date,n=new Date;function r(e,i,o,a){function s(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return s.floor=function(t){return e(t=new Date(+t)),t},s.ceil=function(t){return e(t=new Date(t-1)),i(t,1),e(t),t},s.round=function(e){var t=s(e),n=s.ceil(e);return e-t<n-e?t:n},s.offset=function(e,t){return i(e=new Date(+e),null==t?1:Math.floor(t)),e},s.range=function(t,n,r){var o,a=[];if(t=s.ceil(t),r=null==r?1:Math.floor(r),!(t<n)||!(r>0))return a;do{a.push(o=new Date(+t)),i(t,r),e(t)}while(o<t&&t<n);return a},s.filter=function(t){return r((function(n){if(n>=n)for(;e(n),!t(n);)n.setTime(n-1)}),(function(e,n){if(e>=e)if(n<0)for(;++n<=0;)for(;i(e,-1),!t(e););else for(;--n>=0;)for(;i(e,1),!t(e););}))},o&&(s.count=function(r,i){return t.setTime(+r),n.setTime(+i),e(t),e(n),Math.floor(o(t,n))},s.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?s.filter(a?function(t){return a(t)%e===0}:function(t){return s.count(0,t)%e===0}):s:null}),s}var i=r((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?r((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):i:null};var o=i.range,a=1e3,s=6e4,u=36e5,l=864e5,c=6048e5,f=r((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*a)}),(function(e,t){return(t-e)/a}),(function(e){return e.getUTCSeconds()})),h=f.range,d=r((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*a)}),(function(e,t){e.setTime(+e+t*s)}),(function(e,t){return(t-e)/s}),(function(e){return e.getMinutes()})),p=d.range,v=r((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*a-e.getMinutes()*s)}),(function(e,t){e.setTime(+e+t*u)}),(function(e,t){return(t-e)/u}),(function(e){return e.getHours()})),y=v.range,g=r((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*s)/l}),(function(e){return e.getDate()-1})),m=g.range;function b(e){return r((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*s)/c}))}var _=b(0),w=b(1),x=b(2),T=b(3),k=b(4),O=b(5),S=b(6),A=_.range,E=w.range,M=x.range,C=T.range,I=k.range,D=O.range,P=S.range,N=r((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()})),L=N.range,j=r((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));j.every=function(e){return isFinite(e=Math.floor(e))&&e>0?r((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var R=j.range,F=r((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*s)}),(function(e,t){return(t-e)/s}),(function(e){return e.getUTCMinutes()})),z=F.range,U=r((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*u)}),(function(e,t){return(t-e)/u}),(function(e){return e.getUTCHours()})),q=U.range,V=r((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/l}),(function(e){return e.getUTCDate()-1})),B=V.range;function H(e){return r((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/c}))}var W=H(0),Y=H(1),G=H(2),K=H(3),X=H(4),Q=H(5),J=H(6),$=W.range,Z=Y.range,ee=G.range,te=K.range,ne=X.range,re=Q.range,ie=J.range,oe=r((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()})),ae=oe.range,se=r((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));se.every=function(e){return isFinite(e=Math.floor(e))&&e>0?r((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var ue=se.range;e.timeDay=g,e.timeDays=m,e.timeFriday=O,e.timeFridays=D,e.timeHour=v,e.timeHours=y,e.timeInterval=r,e.timeMillisecond=i,e.timeMilliseconds=o,e.timeMinute=d,e.timeMinutes=p,e.timeMonday=w,e.timeMondays=E,e.timeMonth=N,e.timeMonths=L,e.timeSaturday=S,e.timeSaturdays=P,e.timeSecond=f,e.timeSeconds=h,e.timeSunday=_,e.timeSundays=A,e.timeThursday=k,e.timeThursdays=I,e.timeTuesday=x,e.timeTuesdays=M,e.timeWednesday=T,e.timeWednesdays=C,e.timeWeek=_,e.timeWeeks=A,e.timeYear=j,e.timeYears=R,e.utcDay=V,e.utcDays=B,e.utcFriday=Q,e.utcFridays=re,e.utcHour=U,e.utcHours=q,e.utcMillisecond=i,e.utcMilliseconds=o,e.utcMinute=F,e.utcMinutes=z,e.utcMonday=Y,e.utcMondays=Z,e.utcMonth=oe,e.utcMonths=ae,e.utcSaturday=J,e.utcSaturdays=ie,e.utcSecond=f,e.utcSeconds=h,e.utcSunday=W,e.utcSundays=$,e.utcThursday=X,e.utcThursdays=ne,e.utcTuesday=G,e.utcTuesdays=ee,e.utcWednesday=K,e.utcWednesdays=te,e.utcWeek=W,e.utcWeeks=$,e.utcYear=se,e.utcYears=ue,Object.defineProperty(e,"__esModule",{value:!0})}))},{}],15:[function(e,t,n){"use strict";var r=e("is-string-blank");t.exports=function(e){var t=typeof e;if("string"===t){var n=e;if(0===(e=+e)&&r(n))return!1}else if("number"!==t)return!1;return e-e<1}},{"is-string-blank":50}],16:[function(e,t,n){function r(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=t[9],h=t[10],d=t[11],p=t[12],v=t[13],y=t[14],g=t[15];return e[0]=s*(h*g-d*y)-f*(u*g-l*y)+v*(u*d-l*h),e[1]=-(r*(h*g-d*y)-f*(i*g-o*y)+v*(i*d-o*h)),e[2]=r*(u*g-l*y)-s*(i*g-o*y)+v*(i*l-o*u),e[3]=-(r*(u*d-l*h)-s*(i*d-o*h)+f*(i*l-o*u)),e[4]=-(a*(h*g-d*y)-c*(u*g-l*y)+p*(u*d-l*h)),e[5]=n*(h*g-d*y)-c*(i*g-o*y)+p*(i*d-o*h),e[6]=-(n*(u*g-l*y)-a*(i*g-o*y)+p*(i*l-o*u)),e[7]=n*(u*d-l*h)-a*(i*d-o*h)+c*(i*l-o*u),e[8]=a*(f*g-d*v)-c*(s*g-l*v)+p*(s*d-l*f),e[9]=-(n*(f*g-d*v)-c*(r*g-o*v)+p*(r*d-o*f)),e[10]=n*(s*g-l*v)-a*(r*g-o*v)+p*(r*l-o*s),e[11]=-(n*(s*d-l*f)-a*(r*d-o*f)+c*(r*l-o*s)),e[12]=-(a*(f*y-h*v)-c*(s*y-u*v)+p*(s*h-u*f)),e[13]=n*(f*y-h*v)-c*(r*y-i*v)+p*(r*h-i*f),e[14]=-(n*(s*y-u*v)-a*(r*y-i*v)+p*(r*u-i*s)),e[15]=n*(s*h-u*f)-a*(r*h-i*f)+c*(r*u-i*s),e}t.exports=r},{}],17:[function(e,t,n){function r(e){var t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}t.exports=r},{}],18:[function(e,t,n){function r(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}t.exports=r},{}],19:[function(e,t,n){function r(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}t.exports=r},{}],20:[function(e,t,n){function r(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],f=e[10],h=e[11],d=e[12],p=e[13],v=e[14],y=e[15];return(t*a-n*o)*(f*y-h*v)-(t*s-r*o)*(c*y-h*p)+(t*u-i*o)*(c*v-f*p)+(n*s-r*a)*(l*y-h*d)-(n*u-i*a)*(l*v-f*d)+(r*u-i*s)*(l*p-c*d)}t.exports=r},{}],21:[function(e,t,n){function r(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,f=r*s,h=i*a,d=i*s,p=i*u,v=o*a,y=o*s,g=o*u;return e[0]=1-f-p,e[1]=c+g,e[2]=h-y,e[3]=0,e[4]=c-g,e[5]=1-l-p,e[6]=d+v,e[7]=0,e[8]=h+y,e[9]=d-v,e[10]=1-l-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}t.exports=r},{}],22:[function(e,t,n){function r(e,t,n){var r,i,o,a=n[0],s=n[1],u=n[2],l=Math.sqrt(a*a+s*s+u*u);return Math.abs(l)<1e-6?null:(a*=l=1/l,s*=l,u*=l,r=Math.sin(t),o=1-(i=Math.cos(t)),e[0]=a*a*o+i,e[1]=s*a*o+u*r,e[2]=u*a*o-s*r,e[3]=0,e[4]=a*s*o-u*r,e[5]=s*s*o+i,e[6]=u*s*o+a*r,e[7]=0,e[8]=a*u*o+s*r,e[9]=s*u*o-a*r,e[10]=u*u*o+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}t.exports=r},{}],23:[function(e,t,n){function r(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=r+r,u=i+i,l=o+o,c=r*s,f=r*u,h=r*l,d=i*u,p=i*l,v=o*l,y=a*s,g=a*u,m=a*l;return e[0]=1-(d+v),e[1]=f+m,e[2]=h-g,e[3]=0,e[4]=f-m,e[5]=1-(c+v),e[6]=p+y,e[7]=0,e[8]=h+g,e[9]=p-y,e[10]=1-(c+d),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}t.exports=r},{}],24:[function(e,t,n){function r(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}t.exports=r},{}],25:[function(e,t,n){function r(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}t.exports=r},{}],26:[function(e,t,n){function r(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}t.exports=r},{}],27:[function(e,t,n){function r(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}t.exports=r},{}],28:[function(e,t,n){function r(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}t.exports=r},{}],29:[function(e,t,n){function r(e,t,n,r,i,o,a){var s=1/(n-t),u=1/(i-r),l=1/(o-a);return e[0]=2*o*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*u,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(i+r)*u,e[10]=(a+o)*l,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*o*2*l,e[15]=0,e}t.exports=r},{}],30:[function(e,t,n){function r(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}t.exports=r},{}],31:[function(e,t,n){t.exports={create:e("./create"),clone:e("./clone"),copy:e("./copy"),identity:e("./identity"),transpose:e("./transpose"),invert:e("./invert"),adjoint:e("./adjoint"),determinant:e("./determinant"),multiply:e("./multiply"),translate:e("./translate"),scale:e("./scale"),rotate:e("./rotate"),rotateX:e("./rotateX"),rotateY:e("./rotateY"),rotateZ:e("./rotateZ"),fromRotation:e("./fromRotation"),fromRotationTranslation:e("./fromRotationTranslation"),fromScaling:e("./fromScaling"),fromTranslation:e("./fromTranslation"),fromXRotation:e("./fromXRotation"),fromYRotation:e("./fromYRotation"),fromZRotation:e("./fromZRotation"),fromQuat:e("./fromQuat"),frustum:e("./frustum"),perspective:e("./perspective"),perspectiveFromFieldOfView:e("./perspectiveFromFieldOfView"),ortho:e("./ortho"),lookAt:e("./lookAt"),str:e("./str")}},{"./adjoint":16,"./clone":17,"./copy":18,"./create":19,"./determinant":20,"./fromQuat":21,"./fromRotation":22,"./fromRotationTranslation":23,"./fromScaling":24,"./fromTranslation":25,"./fromXRotation":26,"./fromYRotation":27,"./fromZRotation":28,"./frustum":29,"./identity":30,"./invert":32,"./lookAt":33,"./multiply":34,"./ortho":35,"./perspective":36,"./perspectiveFromFieldOfView":37,"./rotate":38,"./rotateX":39,"./rotateY":40,"./rotateZ":41,"./scale":42,"./str":43,"./translate":44,"./transpose":45}],32:[function(e,t,n){function r(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=t[9],h=t[10],d=t[11],p=t[12],v=t[13],y=t[14],g=t[15],m=n*s-r*a,b=n*u-i*a,_=n*l-o*a,w=r*u-i*s,x=r*l-o*s,T=i*l-o*u,k=c*v-f*p,O=c*y-h*p,S=c*g-d*p,A=f*y-h*v,E=f*g-d*v,M=h*g-d*y,C=m*M-b*E+_*A+w*S-x*O+T*k;return C?(C=1/C,e[0]=(s*M-u*E+l*A)*C,e[1]=(i*E-r*M-o*A)*C,e[2]=(v*T-y*x+g*w)*C,e[3]=(h*x-f*T-d*w)*C,e[4]=(u*S-a*M-l*O)*C,e[5]=(n*M-i*S+o*O)*C,e[6]=(y*_-p*T-g*b)*C,e[7]=(c*T-h*_+d*b)*C,e[8]=(a*E-s*S+l*k)*C,e[9]=(r*S-n*E-o*k)*C,e[10]=(p*x-v*_+g*m)*C,e[11]=(f*_-c*x-d*m)*C,e[12]=(s*O-a*A-u*k)*C,e[13]=(n*A-r*O+i*k)*C,e[14]=(v*b-p*w-y*m)*C,e[15]=(c*w-f*b+h*m)*C,e):null}t.exports=r},{}],33:[function(e,t,n){var r=e("./identity");function i(e,t,n,i){var o,a,s,u,l,c,f,h,d,p,v=t[0],y=t[1],g=t[2],m=i[0],b=i[1],_=i[2],w=n[0],x=n[1],T=n[2];return Math.abs(v-w)<1e-6&&Math.abs(y-x)<1e-6&&Math.abs(g-T)<1e-6?r(e):(f=v-w,h=y-x,d=g-T,o=b*(d*=p=1/Math.sqrt(f*f+h*h+d*d))-_*(h*=p),a=_*(f*=p)-m*d,s=m*h-b*f,(p=Math.sqrt(o*o+a*a+s*s))?(o*=p=1/p,a*=p,s*=p):(o=0,a=0,s=0),u=h*s-d*a,l=d*o-f*s,c=f*a-h*o,(p=Math.sqrt(u*u+l*l+c*c))?(u*=p=1/p,l*=p,c*=p):(u=0,l=0,c=0),e[0]=o,e[1]=u,e[2]=f,e[3]=0,e[4]=a,e[5]=l,e[6]=h,e[7]=0,e[8]=s,e[9]=c,e[10]=d,e[11]=0,e[12]=-(o*v+a*y+s*g),e[13]=-(u*v+l*y+c*g),e[14]=-(f*v+h*y+d*g),e[15]=1,e)}t.exports=i},{"./identity":30}],34:[function(e,t,n){function r(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],h=t[9],d=t[10],p=t[11],v=t[12],y=t[13],g=t[14],m=t[15],b=n[0],_=n[1],w=n[2],x=n[3];return e[0]=b*r+_*s+w*f+x*v,e[1]=b*i+_*u+w*h+x*y,e[2]=b*o+_*l+w*d+x*g,e[3]=b*a+_*c+w*p+x*m,b=n[4],_=n[5],w=n[6],x=n[7],e[4]=b*r+_*s+w*f+x*v,e[5]=b*i+_*u+w*h+x*y,e[6]=b*o+_*l+w*d+x*g,e[7]=b*a+_*c+w*p+x*m,b=n[8],_=n[9],w=n[10],x=n[11],e[8]=b*r+_*s+w*f+x*v,e[9]=b*i+_*u+w*h+x*y,e[10]=b*o+_*l+w*d+x*g,e[11]=b*a+_*c+w*p+x*m,b=n[12],_=n[13],w=n[14],x=n[15],e[12]=b*r+_*s+w*f+x*v,e[13]=b*i+_*u+w*h+x*y,e[14]=b*o+_*l+w*d+x*g,e[15]=b*a+_*c+w*p+x*m,e}t.exports=r},{}],35:[function(e,t,n){function r(e,t,n,r,i,o,a){var s=1/(t-n),u=1/(r-i),l=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*u,e[14]=(a+o)*l,e[15]=1,e}t.exports=r},{}],36:[function(e,t,n){function r(e,t,n,r,i){var o=1/Math.tan(t/2),a=1/(r-i);return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(i+r)*a,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*i*r*a,e[15]=0,e}t.exports=r},{}],37:[function(e,t,n){function r(e,t,n,r){var i=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),u=2/(a+s),l=2/(i+o);return e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=l,e[6]=0,e[7]=0,e[8]=-(a-s)*u*.5,e[9]=(i-o)*l*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}t.exports=r},{}],38:[function(e,t,n){function r(e,t,n,r){var i,o,a,s,u,l,c,f,h,d,p,v,y,g,m,b,_,w,x,T,k,O,S,A,E=r[0],M=r[1],C=r[2],I=Math.sqrt(E*E+M*M+C*C);return Math.abs(I)<1e-6?null:(E*=I=1/I,M*=I,C*=I,i=Math.sin(n),a=1-(o=Math.cos(n)),s=t[0],u=t[1],l=t[2],c=t[3],f=t[4],h=t[5],d=t[6],p=t[7],v=t[8],y=t[9],g=t[10],m=t[11],b=E*E*a+o,_=M*E*a+C*i,w=C*E*a-M*i,x=E*M*a-C*i,T=M*M*a+o,k=C*M*a+E*i,O=E*C*a+M*i,S=M*C*a-E*i,A=C*C*a+o,e[0]=s*b+f*_+v*w,e[1]=u*b+h*_+y*w,e[2]=l*b+d*_+g*w,e[3]=c*b+p*_+m*w,e[4]=s*x+f*T+v*k,e[5]=u*x+h*T+y*k,e[6]=l*x+d*T+g*k,e[7]=c*x+p*T+m*k,e[8]=s*O+f*S+v*A,e[9]=u*O+h*S+y*A,e[10]=l*O+d*S+g*A,e[11]=c*O+p*S+m*A,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}t.exports=r},{}],39:[function(e,t,n){function r(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],a=t[5],s=t[6],u=t[7],l=t[8],c=t[9],f=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+l*r,e[5]=a*i+c*r,e[6]=s*i+f*r,e[7]=u*i+h*r,e[8]=l*i-o*r,e[9]=c*i-a*r,e[10]=f*i-s*r,e[11]=h*i-u*r,e}t.exports=r},{}],40:[function(e,t,n){function r(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],u=t[3],l=t[8],c=t[9],f=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-l*r,e[1]=a*i-c*r,e[2]=s*i-f*r,e[3]=u*i-h*r,e[8]=o*r+l*i,e[9]=a*r+c*i,e[10]=s*r+f*i,e[11]=u*r+h*i,e}t.exports=r},{}],41:[function(e,t,n){function r(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],u=t[3],l=t[4],c=t[5],f=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+l*r,e[1]=a*i+c*r,e[2]=s*i+f*r,e[3]=u*i+h*r,e[4]=l*i-o*r,e[5]=c*i-a*r,e[6]=f*i-s*r,e[7]=h*i-u*r,e}t.exports=r},{}],42:[function(e,t,n){function r(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}t.exports=r},{}],43:[function(e,t,n){function r(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}t.exports=r},{}],44:[function(e,t,n){function r(e,t,n){var r,i,o,a,s,u,l,c,f,h,d,p,v=n[0],y=n[1],g=n[2];return t===e?(e[12]=t[0]*v+t[4]*y+t[8]*g+t[12],e[13]=t[1]*v+t[5]*y+t[9]*g+t[13],e[14]=t[2]*v+t[6]*y+t[10]*g+t[14],e[15]=t[3]*v+t[7]*y+t[11]*g+t[15]):(r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],h=t[9],d=t[10],p=t[11],e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=l,e[7]=c,e[8]=f,e[9]=h,e[10]=d,e[11]=p,e[12]=r*v+s*y+f*g+t[12],e[13]=i*v+u*y+h*g+t[13],e[14]=o*v+l*y+d*g+t[14],e[15]=a*v+c*y+p*g+t[15]),e}t.exports=r},{}],45:[function(e,t,n){function r(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],o=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=i,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}t.exports=r},{}],46:[function(e,n,r){(function(t){(function(){"use strict";var r,i=e("is-browser");r="function"===typeof t.matchMedia?!t.matchMedia("(hover: none)").matches:i,n.exports=r}).call(this)}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"is-browser":48}],47:[function(e,t,n){"use strict";var r=e("is-browser");function i(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(n){e=!1}return e}t.exports=r&&i()},{"is-browser":48}],48:[function(e,t,n){t.exports=!0},{}],49:[function(e,t,n){"use strict";t.exports=o,t.exports.isMobile=o,t.exports.default=o;var r=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,i=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;function o(e){e||(e={});var t=e.ua;if(t||"undefined"===typeof navigator||(t=navigator.userAgent),t&&t.headers&&"string"===typeof t.headers["user-agent"]&&(t=t.headers["user-agent"]),"string"!==typeof t)return!1;var n=e.tablet?i.test(t):r.test(t);return!n&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==t.indexOf("Macintosh")&&-1!==t.indexOf("Safari")&&(n=!0),n}},{}],50:[function(e,t,n){"use strict";t.exports=function(e){for(var t,n=e.length,r=0;r<n;r++)if(((t=e.charCodeAt(r))<9||t>13)&&32!==t&&133!==t&&160!==t&&5760!==t&&6158!==t&&(t<8192||t>8205)&&8232!==t&&8233!==t&&8239!==t&&8287!==t&&8288!==t&&12288!==t&&65279!==t)return!1;return!0}},{}],51:[function(e,t,n){var r={left:0,top:0};function i(e,t,n){t=t||e.currentTarget||e.srcElement,Array.isArray(n)||(n=[0,0]);var r=e.clientX||0,i=e.clientY||0,a=o(t);return n[0]=r-a.left,n[1]=i-a.top,n}function o(e){return e===window||e===document||e===document.body?r:e.getBoundingClientRect()}t.exports=i},{}],52:[function(n,r,i){(function(t,n){(function(){var i,o,a;a=function(){"use strict";var e,t,r,i=Object.prototype.toString,o="undefined"!=typeof n?function(e){return n(e)}:setTimeout;try{Object.defineProperty({},"x",{}),e=function(e,t,n,r){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!1!==r})}}catch(g){e=function(e,t,n){return e[t]=n,e}}function a(e,n){r.add(e,n),t||(t=o(r.drain))}function s(e){var t,n=typeof e;return null==e||"object"!=n&&"function"!=n||(t=e.then),"function"==typeof t&&t}function u(){for(var e=0;e<this.chain.length;e++)l(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function l(e,t,n){var r,i;try{!1===t?n.reject(e.msg):(r=!0===t?e.msg:t.call(void 0,e.msg))===n.promise?n.reject(TypeError("Promise-chain cycle")):(i=s(r))?i.call(r,n.resolve,n.reject):n.resolve(r)}catch(g){n.reject(g)}}function c(e){var t,n=this;if(!n.triggered){n.triggered=!0,n.def&&(n=n.def);try{(t=s(e))?a((function(){var r=new d(n);try{t.call(e,(function(){c.apply(r,arguments)}),(function(){f.apply(r,arguments)}))}catch(g){f.call(r,g)}})):(n.msg=e,n.state=1,n.chain.length>0&&a(u,n))}catch(g){f.call(new d(n),g)}}}function f(e){var t=this;t.triggered||(t.triggered=!0,t.def&&(t=t.def),t.msg=e,t.state=2,t.chain.length>0&&a(u,t))}function h(e,t,n,r){for(var i=0;i<t.length;i++)!function(i){e.resolve(t[i]).then((function(e){n(i,e)}),r)}(i)}function d(e){this.def=e,this.triggered=!1}function p(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function v(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var t=new p(this);this.then=function(e,n){var r={success:"function"!=typeof e||e,failure:"function"==typeof n&&n};return r.promise=new this.constructor((function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");r.resolve=e,r.reject=t})),t.chain.push(r),0!==t.state&&a(u,t),r.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,(function(e){c.call(t,e)}),(function(e){f.call(t,e)}))}catch(g){f.call(t,g)}}r=function(){var e,n,r;function i(e,t){this.fn=e,this.self=t,this.next=void 0}return{add:function(t,o){r=new i(t,o),n?n.next=r:e=r,n=r,r=void 0},drain:function(){var r=e;for(e=n=t=void 0;r;)r.fn.call(r.self),r=r.next}}}();var y=e({},"constructor",v,!1);return v.prototype=y,e(y,"__NPO__",0,!1),e(v,"resolve",(function(e){var t=this;return e&&"object"==typeof e&&1===e.__NPO__?e:new t((function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");t(e)}))})),e(v,"reject",(function(e){return new this((function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");n(e)}))})),e(v,"all",(function(e){var t=this;return"[object Array]"!=i.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t((function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");var i=e.length,o=Array(i),a=0;h(t,e,(function(e,t){o[e]=t,++a===i&&n(o)}),r)}))})),e(v,"race",(function(e){var t=this;return"[object Array]"!=i.call(e)?t.reject(TypeError("Not an array")):new t((function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");h(t,e,(function(e,t){n(t)}),r)}))})),v},(o="undefined"!=typeof t?t:this)[i="Promise"]=o[i]||a(),"undefined"!=typeof r&&r.exports?r.exports=o[i]:"function"==typeof e&&e.amd&&e((function(){return o[i]}))}).call(this)}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{},n("timers").setImmediate)},{timers:64}],53:[function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function s(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}t.exports=s()?Object.assign:function(e,t){for(var n,s,u=a(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))i.call(n,c)&&(u[c]=n[c]);if(r){s=r(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},{}],54:[function(e,t,n){t.exports=o;var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},i=/([astvzqmhlc])([^astvzqmhlc]*)/gi;function o(e){var t=[];return e.replace(i,(function(e,n,i){var o=n.toLowerCase();for(i=s(i),"m"==o&&i.length>2&&(t.push([n].concat(i.splice(0,2))),o="l",n="m"==n?"l":"L");;){if(i.length==r[o])return i.unshift(n),t.push(i);if(i.length<r[o])throw new Error("malformed path data");t.push([n].concat(i.splice(0,r[o])))}})),t}var a=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;function s(e){var t=e.match(a);return t?t.map(Number):[]}},{}],55:[function(e,t,n){var r,i=e("./lib/build-log"),o=e("./lib/epsilon"),a=e("./lib/intersecter"),s=e("./lib/segment-chainer"),u=e("./lib/segment-selector"),l=e("./lib/geojson"),c=!1,f=o();function h(e,t,n){var i=r.segments(e),o=r.segments(t),a=n(r.combine(i,o));return r.polygon(a)}r={buildLog:function(e){return!0===e?c=i():!1===e&&(c=!1),!1!==c&&c.list},epsilon:function(e){return f.epsilon(e)},segments:function(e){var t=a(!0,f,c);return e.regions.forEach(t.addRegion),{segments:t.calculate(e.inverted),inverted:e.inverted}},combine:function(e,t){return{combined:a(!1,f,c).calculate(e.segments,e.inverted,t.segments,t.inverted),inverted1:e.inverted,inverted2:t.inverted}},selectUnion:function(e){return{segments:u.union(e.combined,c),inverted:e.inverted1||e.inverted2}},selectIntersect:function(e){return{segments:u.intersect(e.combined,c),inverted:e.inverted1&&e.inverted2}},selectDifference:function(e){return{segments:u.difference(e.combined,c),inverted:e.inverted1&&!e.inverted2}},selectDifferenceRev:function(e){return{segments:u.differenceRev(e.combined,c),inverted:!e.inverted1&&e.inverted2}},selectXor:function(e){return{segments:u.xor(e.combined,c),inverted:e.inverted1!==e.inverted2}},polygon:function(e){return{regions:s(e.segments,f,c),inverted:e.inverted}},polygonFromGeoJSON:function(e){return l.toPolygon(r,e)},polygonToGeoJSON:function(e){return l.fromPolygon(r,f,e)},union:function(e,t){return h(e,t,r.selectUnion)},intersect:function(e,t){return h(e,t,r.selectIntersect)},difference:function(e,t){return h(e,t,r.selectDifference)},differenceRev:function(e,t){return h(e,t,r.selectDifferenceRev)},xor:function(e,t){return h(e,t,r.selectXor)}},"object"===typeof window&&(window.PolyBool=r),t.exports=r},{"./lib/build-log":56,"./lib/epsilon":57,"./lib/geojson":58,"./lib/intersecter":59,"./lib/segment-chainer":61,"./lib/segment-selector":62}],56:[function(e,t,n){function r(){var e,t=0,n=!1;function r(t,n){return e.list.push({type:t,data:n?JSON.parse(JSON.stringify(n)):void 0}),e}return e={list:[],segmentId:function(){return t++},checkIntersection:function(e,t){return r("check",{seg1:e,seg2:t})},segmentChop:function(e,t){return r("div_seg",{seg:e,pt:t}),r("chop",{seg:e,pt:t})},statusRemove:function(e){return r("pop_seg",{seg:e})},segmentUpdate:function(e){return r("seg_update",{seg:e})},segmentNew:function(e,t){return r("new_seg",{seg:e,primary:t})},segmentRemove:function(e){return r("rem_seg",{seg:e})},tempStatus:function(e,t,n){return r("temp_status",{seg:e,above:t,below:n})},rewind:function(e){return r("rewind",{seg:e})},status:function(e,t,n){return r("status",{seg:e,above:t,below:n})},vert:function(t){return t===n?e:(n=t,r("vert",{x:t}))},log:function(e){return"string"!==typeof e&&(e=JSON.stringify(e,!1,"  ")),r("log",{txt:e})},reset:function(){return r("reset")},selected:function(e){return r("selected",{segs:e})},chainStart:function(e){return r("chain_start",{seg:e})},chainRemoveHead:function(e,t){return r("chain_rem_head",{index:e,pt:t})},chainRemoveTail:function(e,t){return r("chain_rem_tail",{index:e,pt:t})},chainNew:function(e,t){return r("chain_new",{pt1:e,pt2:t})},chainMatch:function(e){return r("chain_match",{index:e})},chainClose:function(e){return r("chain_close",{index:e})},chainAddHead:function(e,t){return r("chain_add_head",{index:e,pt:t})},chainAddTail:function(e,t){return r("chain_add_tail",{index:e,pt:t})},chainConnect:function(e,t){return r("chain_con",{index1:e,index2:t})},chainReverse:function(e){return r("chain_rev",{index:e})},chainJoin:function(e,t){return r("chain_join",{index1:e,index2:t})},done:function(){return r("done")}}}t.exports=r},{}],57:[function(e,t,n){function r(e){"number"!==typeof e&&(e=1e-10);var t={epsilon:function(t){return"number"===typeof t&&(e=t),e},pointAboveOrOnLine:function(t,n,r){var i=n[0],o=n[1],a=r[0],s=r[1],u=t[0];return(a-i)*(t[1]-o)-(s-o)*(u-i)>=-e},pointBetween:function(t,n,r){var i=t[1]-n[1],o=r[0]-n[0],a=t[0]-n[0],s=r[1]-n[1],u=a*o+i*s;return!(u<e)&&!(u-(o*o+s*s)>-e)},pointsSameX:function(t,n){return Math.abs(t[0]-n[0])<e},pointsSameY:function(t,n){return Math.abs(t[1]-n[1])<e},pointsSame:function(e,n){return t.pointsSameX(e,n)&&t.pointsSameY(e,n)},pointsCompare:function(e,n){return t.pointsSameX(e,n)?t.pointsSameY(e,n)?0:e[1]<n[1]?-1:1:e[0]<n[0]?-1:1},pointsCollinear:function(t,n,r){var i=t[0]-n[0],o=t[1]-n[1],a=n[0]-r[0],s=n[1]-r[1];return Math.abs(i*s-a*o)<e},linesIntersect:function(t,n,r,i){var o=n[0]-t[0],a=n[1]-t[1],s=i[0]-r[0],u=i[1]-r[1],l=o*u-a*s;if(Math.abs(l)<e)return!1;var c=t[0]-r[0],f=t[1]-r[1],h=(s*f-u*c)/l,d=(o*f-a*c)/l,p={alongA:0,alongB:0,pt:[t[0]+h*o,t[1]+h*a]};return p.alongA=h<=-e?-2:h<e?-1:h-1<=-e?0:h-1<e?1:2,p.alongB=d<=-e?-2:d<e?-1:d-1<=-e?0:d-1<e?1:2,p},pointInsideRegion:function(t,n){for(var r=t[0],i=t[1],o=n[n.length-1][0],a=n[n.length-1][1],s=!1,u=0;u<n.length;u++){var l=n[u][0],c=n[u][1];c-i>e!=a-i>e&&(o-l)*(i-c)/(a-c)+l-r>e&&(s=!s),o=l,a=c}return s}};return t}t.exports=r},{}],58:[function(e,t,n){var r={toPolygon:function(e,t){function n(t){if(t.length<=0)return e.segments({inverted:!1,regions:[]});function n(t){var n=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[n]})}for(var r=n(t[0]),i=1;i<t.length;i++)r=e.selectDifference(e.combine(r,n(t[i])));return r}if("Polygon"===t.type)return e.polygon(n(t.coordinates));if("MultiPolygon"===t.type){for(var r=e.segments({inverted:!1,regions:[]}),i=0;i<t.coordinates.length;i++)r=e.selectUnion(e.combine(r,n(t.coordinates[i])));return e.polygon(r)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,t,n){function r(e,n){return t.pointInsideRegion([.5*(e[0][0]+e[1][0]),.5*(e[0][1]+e[1][1])],n)}function i(e){return{region:e,children:[]}}n=e.polygon(e.segments(n));var o=i(null);function a(e,t){for(var n=0;n<e.children.length;n++)if(r(t,(s=e.children[n]).region))return void a(s,t);var o=i(t);for(n=0;n<e.children.length;n++){var s;r((s=e.children[n]).region,t)&&(o.children.push(s),e.children.splice(n,1),n--)}e.children.push(o)}for(var s=0;s<n.regions.length;s++){var u=n.regions[s];u.length<3||a(o,u)}function l(e,t){for(var n=0,r=e[e.length-1][0],i=e[e.length-1][1],o=[],a=0;a<e.length;a++){var s=e[a][0],u=e[a][1];o.push([s,u]),n+=u*r-s*i,r=s,i=u}return n<0!==t&&o.reverse(),o.push([o[0][0],o[0][1]]),o}var c=[];function f(e){var t=[l(e.region,!1)];c.push(t);for(var n=0;n<e.children.length;n++)t.push(h(e.children[n]))}function h(e){for(var t=0;t<e.children.length;t++)f(e.children[t]);return l(e.region,!0)}for(s=0;s<o.children.length;s++)f(o.children[s]);return c.length<=0?{type:"Polygon",coordinates:[]}:1==c.length?{type:"Polygon",coordinates:c[0]}:{type:"MultiPolygon",coordinates:c}}};t.exports=r},{}],59:[function(e,t,n){var r=e("./linked-list");function i(e,t,n){function i(e,t){return{id:n?n.segmentId():-1,start:e,end:t,myFill:{above:null,below:null},otherFill:null}}function o(e,t,r){return{id:n?n.segmentId():-1,start:e,end:t,myFill:{above:r.myFill.above,below:r.myFill.below},otherFill:null}}var a=r.create();function s(e,n,r,i,o,a){var s=t.pointsCompare(n,o);return 0!==s?s:t.pointsSame(r,a)?0:e!==i?e?1:-1:t.pointAboveOrOnLine(r,i?o:a,i?a:o)?1:-1}function u(e,t){a.insertBefore(e,(function(n){return s(e.isStart,e.pt,t,n.isStart,n.pt,n.other.pt)<0}))}function l(e,t){var n=r.node({isStart:!0,pt:e.start,seg:e,primary:t,other:null,status:null});return u(n,e.end),n}function c(e,t,n){var i=r.node({isStart:!1,pt:t.end,seg:t,primary:n,other:e,status:null});e.other=i,u(i,e.pt)}function f(e,t){var n=l(e,t);return c(n,e,t),n}function h(e,t){n&&n.segmentChop(e.seg,t),e.other.remove(),e.seg.end=t,e.other.pt=t,u(e.other,e.pt)}function d(e,t){var n=o(t,e.seg.end,e.seg);return h(e,t),f(n,e.primary)}function p(i,o){var s=r.create();function u(e,n){var r=e.seg.start,i=e.seg.end,o=n.seg.start,a=n.seg.end;return t.pointsCollinear(r,o,a)?t.pointsCollinear(i,o,a)||t.pointAboveOrOnLine(i,o,a)?1:-1:t.pointAboveOrOnLine(r,o,a)?1:-1}function l(e){return s.findTransition((function(t){return u(e,t.ev)>0}))}function c(e,r){var i=e.seg,o=r.seg,a=i.start,s=i.end,u=o.start,l=o.end;n&&n.checkIntersection(i,o);var c=t.linesIntersect(a,s,u,l);if(!1===c){if(!t.pointsCollinear(a,s,u))return!1;if(t.pointsSame(a,l)||t.pointsSame(s,u))return!1;var f=t.pointsSame(a,u),h=t.pointsSame(s,l);if(f&&h)return r;var p=!f&&t.pointBetween(a,u,l),v=!h&&t.pointBetween(s,u,l);if(f)return v?d(r,s):d(e,l),r;p&&(h||(v?d(r,s):d(e,l)),d(r,a))}else 0===c.alongA&&(-1===c.alongB?d(e,u):0===c.alongB?d(e,c.pt):1===c.alongB&&d(e,l)),0===c.alongB&&(-1===c.alongA?d(r,a):0===c.alongA?d(r,c.pt):1===c.alongA&&d(r,s));return!1}for(var f=[];!a.isEmpty();){var h=a.getHead();if(n&&n.vert(h.pt[0]),h.isStart){var p=function(){if(y){var e=c(h,y);if(e)return e}return!!g&&c(h,g)};n&&n.segmentNew(h.seg,h.primary);var v=l(h),y=v.before?v.before.ev:null,g=v.after?v.after.ev:null;n&&n.tempStatus(h.seg,!!y&&y.seg,!!g&&g.seg);var m,b,_=p();if(_)e?(b=null===h.seg.myFill.below||h.seg.myFill.above!==h.seg.myFill.below)&&(_.seg.myFill.above=!_.seg.myFill.above):_.seg.otherFill=h.seg.myFill,n&&n.segmentUpdate(_.seg),h.other.remove(),h.remove();if(a.getHead()!==h){n&&n.rewind(h.seg);continue}e?(b=null===h.seg.myFill.below||h.seg.myFill.above!==h.seg.myFill.below,h.seg.myFill.below=g?g.seg.myFill.above:i,h.seg.myFill.above=b?!h.seg.myFill.below:h.seg.myFill.below):null===h.seg.otherFill&&(m=g?h.primary===g.primary?g.seg.otherFill.above:g.seg.myFill.above:h.primary?o:i,h.seg.otherFill={above:m,below:m}),n&&n.status(h.seg,!!y&&y.seg,!!g&&g.seg),h.other.status=v.insert(r.node({ev:h}))}else{var w=h.status;if(null===w)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(s.exists(w.prev)&&s.exists(w.next)&&c(w.prev.ev,w.next.ev),n&&n.statusRemove(w.ev.seg),w.remove(),!h.primary){var x=h.seg.myFill;h.seg.myFill=h.seg.otherFill,h.seg.otherFill=x}f.push(h.seg)}a.getHead().remove()}return n&&n.done(),f}return e?{addRegion:function(e){for(var n,r=e[e.length-1],o=0;o<e.length;o++){n=r,r=e[o];var a=t.pointsCompare(n,r);0!==a&&f(i(a<0?n:r,a<0?r:n),!0)}},calculate:function(e){return p(e,!1)}}:{calculate:function(e,t,n,r){return e.forEach((function(e){f(o(e.start,e.end,e),!0)})),n.forEach((function(e){f(o(e.start,e.end,e),!1)})),p(t,r)}}}t.exports=i},{"./linked-list":60}],60:[function(e,t,n){var r={create:function(){var e={root:{root:!0,next:null},exists:function(t){return null!==t&&t!==e.root},isEmpty:function(){return null===e.root.next},getHead:function(){return e.root.next},insertBefore:function(t,n){for(var r=e.root,i=e.root.next;null!==i;){if(n(i))return t.prev=i.prev,t.next=i,i.prev.next=t,void(i.prev=t);r=i,i=i.next}r.next=t,t.prev=r,t.next=null},findTransition:function(t){for(var n=e.root,r=e.root.next;null!==r&&!t(r);)n=r,r=r.next;return{before:n===e.root?null:n,after:r,insert:function(e){return e.prev=n,e.next=r,n.next=e,null!==r&&(r.prev=e),e}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};t.exports=r},{}],61:[function(e,t,n){function r(e,t,n){var r=[],i=[];return e.forEach((function(e){var o=e.start,a=e.end;if(t.pointsSame(o,a))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{n&&n.chainStart(e);for(var s={index:0,matches_head:!1,matches_pt1:!1},u={index:0,matches_head:!1,matches_pt1:!1},l=s,c=0;c<r.length;c++){var f=(y=r[c])[0],h=(y[1],y[y.length-1]);if(y[y.length-2],t.pointsSame(f,o)){if(k(c,!0,!0))break}else if(t.pointsSame(f,a)){if(k(c,!0,!1))break}else if(t.pointsSame(h,o)){if(k(c,!1,!0))break}else if(t.pointsSame(h,a)&&k(c,!1,!1))break}if(l===s)return r.push([o,a]),void(n&&n.chainNew(o,a));if(l===u){n&&n.chainMatch(s.index);var d=s.index,p=s.matches_pt1?a:o,v=s.matches_head,y=r[d],g=v?y[0]:y[y.length-1],m=v?y[1]:y[y.length-2],b=v?y[y.length-1]:y[0],_=v?y[y.length-2]:y[1];return t.pointsCollinear(m,g,p)&&(v?(n&&n.chainRemoveHead(s.index,p),y.shift()):(n&&n.chainRemoveTail(s.index,p),y.pop()),g=m),t.pointsSame(b,p)?(r.splice(d,1),t.pointsCollinear(_,b,g)&&(v?(n&&n.chainRemoveTail(s.index,g),y.pop()):(n&&n.chainRemoveHead(s.index,g),y.shift())),n&&n.chainClose(s.index),void i.push(y)):void(v?(n&&n.chainAddHead(s.index,p),y.unshift(p)):(n&&n.chainAddTail(s.index,p),y.push(p)))}var w=s.index,x=u.index;n&&n.chainConnect(w,x);var T=r[w].length<r[x].length;s.matches_head?u.matches_head?T?(O(w),S(w,x)):(O(x),S(x,w)):S(x,w):u.matches_head?S(w,x):T?(O(w),S(x,w)):(O(x),S(w,x))}function k(e,t,n){return l.index=e,l.matches_head=t,l.matches_pt1=n,l===s?(l=u,!1):(l=null,!0)}function O(e){n&&n.chainReverse(e),r[e].reverse()}function S(e,i){var o=r[e],a=r[i],s=o[o.length-1],u=o[o.length-2],l=a[0],c=a[1];t.pointsCollinear(u,s,l)&&(n&&n.chainRemoveTail(e,s),o.pop(),s=u),t.pointsCollinear(s,l,c)&&(n&&n.chainRemoveHead(i,l),a.shift()),n&&n.chainJoin(e,i),r[e]=o.concat(a),r.splice(i,1)}})),i}t.exports=r},{}],62:[function(e,t,n){function r(e,t,n){var r=[];return e.forEach((function(e){var i=(e.myFill.above?8:0)+(e.myFill.below?4:0)+(e.otherFill&&e.otherFill.above?2:0)+(e.otherFill&&e.otherFill.below?1:0);0!==t[i]&&r.push({id:n?n.segmentId():-1,start:e.start,end:e.end,myFill:{above:1===t[i],below:2===t[i]},otherFill:null})})),n&&n.selected(r),r}var i={union:function(e,t){return r(e,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],t)},intersect:function(e,t){return r(e,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],t)},difference:function(e,t){return r(e,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],t)},differenceRev:function(e,t){return r(e,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],t)},xor:function(e,t){return r(e,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],t)}};t.exports=i},{}],63:[function(e,t,n){var r,i,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function l(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}!function(){try{r="function"===typeof setTimeout?setTimeout:a}catch(e){r=a}try{i="function"===typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var c,f=[],h=!1,d=-1;function p(){h&&c&&(h=!1,c.length?f=c.concat(f):d=-1,f.length&&v())}function v(){if(!h){var e=u(p);h=!0;for(var t=f.length;t;){for(c=f,f=[];++d<t;)c&&c[d].run();d=-1,t=f.length}c=null,h=!1,l(e)}}function y(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new y(e,t)),1!==f.length||h||u(v)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],64:[function(e,t,n){(function(t,r){(function(){var i=e("process/browser.js").nextTick,o=Function.prototype.apply,a=Array.prototype.slice,s={},u=0;function l(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new l(o.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new l(o.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n.setImmediate="function"===typeof t?t:function(e){var t=u++,r=!(arguments.length<2)&&a.call(arguments,1);return s[t]=!0,i((function(){s[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))})),t},n.clearImmediate="function"===typeof r?r:function(e){delete s[e]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":63,timers:64}],65:[function(t,n,r){!function(t){var r=/^\s+/,i=/\s+$/,o=0,a=t.round,s=t.min,u=t.max,l=t.random;function c(e,t){if(t=t||{},(e=e||"")instanceof c)return e;if(!(this instanceof c))return new c(e,t);var n=f(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=a(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=a(this._r)),this._g<1&&(this._g=a(this._g)),this._b<1&&(this._b=a(this._b)),this._ok=n.ok,this._tc_id=o++}function f(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,l=!1;return"string"==typeof e&&(e=K(e)),"object"==typeof e&&(G(e.r)&&G(e.g)&&G(e.b)?(t=h(e.r,e.g,e.b),a=!0,l="%"===String(e.r).substr(-1)?"prgb":"rgb"):G(e.h)&&G(e.s)&&G(e.v)?(r=B(e.s),i=B(e.v),t=y(e.h,r,i),a=!0,l="hsv"):G(e.h)&&G(e.s)&&G(e.l)&&(r=B(e.s),o=B(e.l),t=p(e.h,r,o),a=!0,l="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=j(n),{ok:a,format:e.format||l,r:s(255,u(t.r,0)),g:s(255,u(t.g,0)),b:s(255,u(t.b,0)),a:n}}function h(e,t,n){return{r:255*R(e,255),g:255*R(t,255),b:255*R(n,255)}}function d(e,t,n){e=R(e,255),t=R(t,255),n=R(n,255);var r,i,o=u(e,t,n),a=s(e,t,n),l=(o+a)/2;if(o==a)r=i=0;else{var c=o-a;switch(i=l>.5?c/(2-o-a):c/(o+a),o){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{h:r,s:i,l:l}}function p(e,t,n){var r,i,o;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=R(e,360),t=R(t,100),n=R(n,100),0===t)r=i=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,u=2*n-s;r=a(u,s,e+1/3),i=a(u,s,e),o=a(u,s,e-1/3)}return{r:255*r,g:255*i,b:255*o}}function v(e,t,n){e=R(e,255),t=R(t,255),n=R(n,255);var r,i,o=u(e,t,n),a=s(e,t,n),l=o,c=o-a;if(i=0===o?0:c/o,o==a)r=0;else{switch(o){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{h:r,s:i,v:l}}function y(e,n,r){e=6*R(e,360),n=R(n,100),r=R(r,100);var i=t.floor(e),o=e-i,a=r*(1-n),s=r*(1-o*n),u=r*(1-(1-o)*n),l=i%6;return{r:255*[r,s,a,a,u,r][l],g:255*[u,r,r,s,a,a][l],b:255*[a,a,u,r,r,s][l]}}function g(e,t,n,r){var i=[V(a(e).toString(16)),V(a(t).toString(16)),V(a(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function m(e,t,n,r,i){var o=[V(a(e).toString(16)),V(a(t).toString(16)),V(a(n).toString(16)),V(H(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function b(e,t,n,r){return[V(H(r)),V(a(e).toString(16)),V(a(t).toString(16)),V(a(n).toString(16))].join("")}function _(e,t){t=0===t?0:t||10;var n=c(e).toHsl();return n.s-=t/100,n.s=F(n.s),c(n)}function w(e,t){t=0===t?0:t||10;var n=c(e).toHsl();return n.s+=t/100,n.s=F(n.s),c(n)}function x(e){return c(e).desaturate(100)}function T(e,t){t=0===t?0:t||10;var n=c(e).toHsl();return n.l+=t/100,n.l=F(n.l),c(n)}function k(e,t){t=0===t?0:t||10;var n=c(e).toRgb();return n.r=u(0,s(255,n.r-a(-t/100*255))),n.g=u(0,s(255,n.g-a(-t/100*255))),n.b=u(0,s(255,n.b-a(-t/100*255))),c(n)}function O(e,t){t=0===t?0:t||10;var n=c(e).toHsl();return n.l-=t/100,n.l=F(n.l),c(n)}function S(e,t){var n=c(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,c(n)}function A(e){var t=c(e).toHsl();return t.h=(t.h+180)%360,c(t)}function E(e){var t=c(e).toHsl(),n=t.h;return[c(e),c({h:(n+120)%360,s:t.s,l:t.l}),c({h:(n+240)%360,s:t.s,l:t.l})]}function M(e){var t=c(e).toHsl(),n=t.h;return[c(e),c({h:(n+90)%360,s:t.s,l:t.l}),c({h:(n+180)%360,s:t.s,l:t.l}),c({h:(n+270)%360,s:t.s,l:t.l})]}function C(e){var t=c(e).toHsl(),n=t.h;return[c(e),c({h:(n+72)%360,s:t.s,l:t.l}),c({h:(n+216)%360,s:t.s,l:t.l})]}function I(e,t,n){t=t||6,n=n||30;var r=c(e).toHsl(),i=360/n,o=[c(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(c(r));return o}function D(e,t){t=t||6;for(var n=c(e).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/t;t--;)a.push(c({h:r,s:i,v:o})),o=(o+s)%1;return a}c.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,n,r,i=this.toRgb();return e=i.r/255,n=i.g/255,r=i.b/255,.2126*(e<=.03928?e/12.92:t.pow((e+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:t.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:t.pow((r+.055)/1.055,2.4))},setAlpha:function(e){return this._a=j(e),this._roundA=a(100*this._a)/100,this},toHsv:function(){var e=v(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=v(this._r,this._g,this._b),t=a(360*e.h),n=a(100*e.s),r=a(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=d(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=d(this._r,this._g,this._b),t=a(360*e.h),n=a(100*e.s),r=a(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return g(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return m(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:a(this._r),g:a(this._g),b:a(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+a(this._r)+", "+a(this._g)+", "+a(this._b)+")":"rgba("+a(this._r)+", "+a(this._g)+", "+a(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:a(100*R(this._r,255))+"%",g:a(100*R(this._g,255))+"%",b:a(100*R(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+a(100*R(this._r,255))+"%, "+a(100*R(this._g,255))+"%, "+a(100*R(this._b,255))+"%)":"rgba("+a(100*R(this._r,255))+"%, "+a(100*R(this._g,255))+"%, "+a(100*R(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(N[g(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+b(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=c(e);n="#"+b(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return c(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(T,arguments)},brighten:function(){return this._applyModification(k,arguments)},darken:function(){return this._applyModification(O,arguments)},desaturate:function(){return this._applyModification(_,arguments)},saturate:function(){return this._applyModification(w,arguments)},greyscale:function(){return this._applyModification(x,arguments)},spin:function(){return this._applyModification(S,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(I,arguments)},complement:function(){return this._applyCombination(A,arguments)},monochromatic:function(){return this._applyCombination(D,arguments)},splitcomplement:function(){return this._applyCombination(C,arguments)},triad:function(){return this._applyCombination(E,arguments)},tetrad:function(){return this._applyCombination(M,arguments)}},c.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:B(e[r]));e=n}return c(e,t)},c.equals=function(e,t){return!(!e||!t)&&c(e).toRgbString()==c(t).toRgbString()},c.random=function(){return c.fromRatio({r:l(),g:l(),b:l()})},c.mix=function(e,t,n){n=0===n?0:n||50;var r=c(e).toRgb(),i=c(t).toRgb(),o=n/100;return c({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},c.readability=function(e,n){var r=c(e),i=c(n);return(t.max(r.getLuminance(),i.getLuminance())+.05)/(t.min(r.getLuminance(),i.getLuminance())+.05)},c.isReadable=function(e,t,n){var r,i,o=c.readability(e,t);switch(i=!1,(r=X(n)).level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},c.mostReadable=function(e,t,n){var r,i,o,a,s=null,u=0;i=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var l=0;l<t.length;l++)(r=c.readability(e,t[l]))>u&&(u=r,s=c(t[l]));return c.isReadable(e,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,c.mostReadable(e,["#fff","#000"],n))};var P=c.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},N=c.hexNames=L(P);function L(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function j(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function R(e,n){U(e)&&(e="100%");var r=q(e);return e=s(n,u(0,parseFloat(e))),r&&(e=parseInt(e*n,10)/100),t.abs(e-n)<1e-6?1:e%n/parseFloat(n)}function F(e){return s(1,u(0,e))}function z(e){return parseInt(e,16)}function U(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function q(e){return"string"===typeof e&&-1!=e.indexOf("%")}function V(e){return 1==e.length?"0"+e:""+e}function B(e){return e<=1&&(e=100*e+"%"),e}function H(e){return t.round(255*parseFloat(e)).toString(16)}function W(e){return z(e)/255}var Y=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function G(e){return!!Y.CSS_UNIT.exec(e)}function K(e){e=e.replace(r,"").replace(i,"").toLowerCase();var t,n=!1;if(P[e])e=P[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=Y.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=Y.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=Y.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=Y.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=Y.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=Y.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=Y.hex8.exec(e))?{r:z(t[1]),g:z(t[2]),b:z(t[3]),a:W(t[4]),format:n?"name":"hex8"}:(t=Y.hex6.exec(e))?{r:z(t[1]),g:z(t[2]),b:z(t[3]),format:n?"name":"hex"}:(t=Y.hex4.exec(e))?{r:z(t[1]+""+t[1]),g:z(t[2]+""+t[2]),b:z(t[3]+""+t[3]),a:W(t[4]+""+t[4]),format:n?"name":"hex8"}:!!(t=Y.hex3.exec(e))&&{r:z(t[1]+""+t[1]),g:z(t[2]+""+t[2]),b:z(t[3]+""+t[3]),format:n?"name":"hex"}}function X(e){var t,n;return"AA"!==(t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==t&&(t="AA"),"small"!==(n=(e.size||"small").toLowerCase())&&"large"!==n&&(n="small"),{level:t,size:n}}"undefined"!==typeof n&&n.exports?n.exports=c:"function"===typeof e&&e.amd?e((function(){return c})):window.tinycolor=c}(Math)},{}],66:[function(e,t,n){var r=e("../main"),i=e("object-assign"),o=r.instance();function a(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}a.prototype=new r.baseCalendar,i(a.prototype,{name:"Chinese",jdEpoch:1721425.5,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(e,t){if("string"===typeof e){var n=e.match(u);return n?n[0]:""}var r=this._validateYear(e),i=e.month(),o=""+this.toChineseMonth(r,i);return t&&o.length<2&&(o="0"+o),this.isIntercalaryMonth(r,i)&&(o+="i"),o},monthNames:function(e){if("string"===typeof e){var t=e.match(l);return t?t[0]:""}var n=this._validateYear(e),r=e.month(),i=["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"][this.toChineseMonth(n,r)-1];return this.isIntercalaryMonth(n,r)&&(i="\u95f0"+i),i},monthNamesShort:function(e){if("string"===typeof e){var t=e.match(c);return t?t[0]:""}var n=this._validateYear(e),r=e.month(),i=["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"][this.toChineseMonth(n,r)-1];return this.isIntercalaryMonth(n,r)&&(i="\u95f0"+i),i},parseMonth:function(e,t){e=this._validateYear(e);var n,r=parseInt(t);if(isNaN(r))"\u95f0"===t[0]&&(n=!0,t=t.substring(1)),"\u6708"===t[t.length-1]&&(t=t.substring(0,t.length-1)),r=1+["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"].indexOf(t);else{var i=t[t.length-1];n="i"===i||"I"===i}return this.toMonthIndex(e,r,n)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(e,t){if(e.year&&(e=e.year()),"number"!==typeof e||e<1888||e>2111)throw t.replace(/\{0\}/,this.local.name);return e},toMonthIndex:function(e,t,n){var i=this.intercalaryMonth(e);if(n&&t!==i||t<1||t>12)throw r.local.invalidMonth.replace(/\{0\}/,this.local.name);return i?!n&&t<=i?t-1:t:t-1},toChineseMonth:function(e,t){e.year&&(t=(e=e.year()).month());var n=this.intercalaryMonth(e);if(t<0||t>(n?12:11))throw r.local.invalidMonth.replace(/\{0\}/,this.local.name);return n?t<n?t+1:t:t+1},intercalaryMonth:function(e){e=this._validateYear(e);var t=f[e-f[0]]>>13;return t},isIntercalaryMonth:function(e,t){e.year&&(t=(e=e.year()).month());var n=this.intercalaryMonth(e);return!!n&&n===t},leapYear:function(e){return 0!==this.intercalaryMonth(e)},weekOfYear:function(e,t,n){var i,a=this._validateYear(e,r.local.invalidyear),s=h[a-h[0]],u=s>>9&4095,l=s>>5&15,c=31&s;(i=o.newDate(u,l,c)).add(4-(i.dayOfWeek()||7),"d");var f=this.toJD(e,t,n)-i.toJD();return 1+Math.floor(f/7)},monthsInYear:function(e){return this.leapYear(e)?13:12},daysInMonth:function(e,t){e.year&&(t=e.month(),e=e.year()),e=this._validateYear(e);var n=f[e-f[0]];if(t>(n>>13?12:11))throw r.local.invalidMonth.replace(/\{0\}/,this.local.name);var i=n&1<<12-t?30:29;return i},weekDay:function(e,t,n){return(this.dayOfWeek(e,t,n)||7)<6},toJD:function(e,t,n){var i=this._validate(e,s,n,r.local.invalidDate);e=this._validateYear(i.year()),t=i.month(),n=i.day();var a=this.isIntercalaryMonth(e,t),s=this.toChineseMonth(e,t),u=p(e,s,n,a);return o.toJD(u.year,u.month,u.day)},fromJD:function(e){var t=o.fromJD(e),n=d(t.year(),t.month(),t.day()),r=this.toMonthIndex(n.year,n.month,n.isIntercalary);return this.newDate(n.year,r,n.day)},fromString:function(e){var t=e.match(s),n=this._validateYear(+t[1]),r=+t[2],i=!!t[3],o=this.toMonthIndex(n,r,i),a=+t[4];return this.newDate(n,o,a)},add:function(e,t,n){var r=e.year(),i=e.month(),o=this.isIntercalaryMonth(r,i),s=this.toChineseMonth(r,i),u=Object.getPrototypeOf(a.prototype).add.call(this,e,t,n);if("y"===n){var l=u.year(),c=u.month(),f=this.isIntercalaryMonth(l,s),h=o&&f?this.toMonthIndex(l,s,!0):this.toMonthIndex(l,s,!1);h!==c&&u.month(h)}return u}});var s=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,u=/^\d?\d[iI]?/m,l=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?\u6708/m,c=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?/m;r.calendars.chinese=a;var f=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],h=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function d(e,t,n,r){var i,o;if("object"===typeof e)i=e,o=t||{};else{if(!("number"===typeof e&&e>=1888&&e<=2111))throw new Error("Solar year outside range 1888-2111");if(!("number"===typeof t&&t>=1&&t<=12))throw new Error("Solar month outside range 1 - 12");if(!("number"===typeof n&&n>=1&&n<=31))throw new Error("Solar day outside range 1 - 31");i={year:e,month:t,day:n},o=r||{}}var a=h[i.year-h[0]],s=i.year<<9|i.month<<5|i.day;o.year=s>=a?i.year:i.year-1,a=h[o.year-h[0]];var u,l=new Date(a>>9&4095,(a>>5&15)-1,31&a),c=new Date(i.year,i.month-1,i.day);u=Math.round((c-l)/864e5);var d,p=f[o.year-f[0]];for(d=0;d<13;d++){var v=p&1<<12-d?30:29;if(u<v)break;u-=v}var y=p>>13;return!y||d<y?(o.isIntercalary=!1,o.month=1+d):d===y?(o.isIntercalary=!0,o.month=d):(o.isIntercalary=!1,o.month=d),o.day=1+u,o}function p(e,t,n,r,i){var o,a,s;if("object"===typeof e)a=e,o=t||{};else{var u;if(!("number"===typeof e&&e>=1888&&e<=2111))throw new Error("Lunar year outside range 1888-2111");if(!("number"===typeof t&&t>=1&&t<=12))throw new Error("Lunar month outside range 1 - 12");if(!("number"===typeof n&&n>=1&&n<=30))throw new Error("Lunar day outside range 1 - 30");"object"===typeof r?(u=!1,o=r):(u=!!r,o=i||{}),a={year:e,month:t,day:n,isIntercalary:u}}s=a.day-1;var l,c=f[a.year-f[0]],d=c>>13;l=d&&(a.month>d||a.isIntercalary)?a.month:a.month-1;for(var p=0;p<l;p++)s+=c&1<<12-p?30:29;var v=h[a.year-h[0]],y=new Date(v>>9&4095,(v>>5&15)-1,(31&v)+s);return o.year=y.getFullYear(),o.month=1+y.getMonth(),o.day=y.getDate(),o}},{"../main":80,"object-assign":53}],67:[function(e,t,n){var r=e("../main"),i=e("object-assign");function o(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}o.prototype=new r.baseCalendar,i(o.prototype,{name:"Coptic",jdEpoch:1825029.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear);return(e=t.year()+(t.year()<0?1:0))%4===3||e%4===-1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,r.local.invalidYear||r.regionalOptions[""].invalidYear),13},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,r.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(13===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(e,t,n){return(this.dayOfWeek(e,t,n)||7)<6},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);return(e=i.year())<0&&e++,i.day()+30*(i.month()-1)+365*(e-1)+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(e){var t=Math.floor(e)+.5-this.jdEpoch,n=Math.floor((t-Math.floor((t+366)/1461))/365)+1;n<=0&&n--,t=Math.floor(e)+.5-this.newDate(n,1,1).toJD();var r=Math.floor(t/30)+1,i=t-30*(r-1)+1;return this.newDate(n,r,i)}}),r.calendars.coptic=o},{"../main":80,"object-assign":53}],68:[function(e,t,n){var r=e("../main"),i=e("object-assign");function o(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}o.prototype=new r.baseCalendar,i(o.prototype,{name:"Discworld",jdEpoch:1721425.5,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(e){return this._validate(e,this.minMonth,this.minDay,r.local.invalidYear),!1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,r.local.invalidYear),13},daysInYear:function(e){return this._validate(e,this.minMonth,this.minDay,r.local.invalidYear),400},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/8)+1},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,r.local.invalidMonth);return this.daysPerMonth[n.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(e,t,n){return(this._validate(e,t,n,r.local.invalidDate).day()+1)%8},weekDay:function(e,t,n){var r=this.dayOfWeek(e,t,n);return r>=2&&r<=6},extraInfo:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);return{century:a[Math.floor((i.year()-1)/100)+1]||""}},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);return e=i.year()+(i.year()<0?1:0),t=i.month(),(n=i.day())+(t>1?16:0)+(t>2?32*(t-2):0)+400*(e-1)+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e+.5)-Math.floor(this.jdEpoch)-1;var t=Math.floor(e/400)+1;e-=400*(t-1),e+=e>15?16:0;var n=Math.floor(e/32)+1,r=e-32*(n-1)+1;return this.newDate(t<=0?t-1:t,n,r)}});var a={20:"Fruitbat",21:"Anchovy"};r.calendars.discworld=o},{"../main":80,"object-assign":53}],69:[function(e,t,n){var r=e("../main"),i=e("object-assign");function o(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}o.prototype=new r.baseCalendar,i(o.prototype,{name:"Ethiopian",jdEpoch:1724220.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear);return(e=t.year()+(t.year()<0?1:0))%4===3||e%4===-1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,r.local.invalidYear||r.regionalOptions[""].invalidYear),13},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,r.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(13===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(e,t,n){return(this.dayOfWeek(e,t,n)||7)<6},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);return(e=i.year())<0&&e++,i.day()+30*(i.month()-1)+365*(e-1)+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(e){var t=Math.floor(e)+.5-this.jdEpoch,n=Math.floor((t-Math.floor((t+366)/1461))/365)+1;n<=0&&n--,t=Math.floor(e)+.5-this.newDate(n,1,1).toJD();var r=Math.floor(t/30)+1,i=t-30*(r-1)+1;return this.newDate(n,r,i)}}),r.calendars.ethiopian=o},{"../main":80,"object-assign":53}],70:[function(e,t,n){var r=e("../main"),i=e("object-assign");function o(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}function a(e,t){return e-t*Math.floor(e/t)}o.prototype=new r.baseCalendar,i(o.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear);return this._leapYear(t.year())},_leapYear:function(e){return a(7*(e=e<0?e+1:e)+1,19)<7},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,r.local.invalidYear),this._leapYear(e.year?e.year():e)?13:12},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(e){return e=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear).year(),this.toJD(-1===e?1:e+1,7,1)-this.toJD(e,7,1)},daysInMonth:function(e,t){return e.year&&(t=e.month(),e=e.year()),this._validate(e,t,this.minDay,r.local.invalidMonth),12===t&&this.leapYear(e)||8===t&&5===a(this.daysInYear(e),10)?30:9===t&&3===a(this.daysInYear(e),10)?29:this.daysPerMonth[t-1]},weekDay:function(e,t,n){return 6!==this.dayOfWeek(e,t,n)},extraInfo:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);return{yearType:(this.leapYear(i)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(i)%10-3]}},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);e=i.year(),t=i.month(),n=i.day();var o=e<=0?e+1:e,a=this.jdEpoch+this._delay1(o)+this._delay2(o)+n+1;if(t<7){for(var s=7;s<=this.monthsInYear(e);s++)a+=this.daysInMonth(e,s);for(s=1;s<t;s++)a+=this.daysInMonth(e,s)}else for(s=7;s<t;s++)a+=this.daysInMonth(e,s);return a},_delay1:function(e){var t=Math.floor((235*e-234)/19),n=12084+13753*t,r=29*t+Math.floor(n/25920);return a(3*(r+1),7)<3&&r++,r},_delay2:function(e){var t=this._delay1(e-1),n=this._delay1(e);return this._delay1(e+1)-n===356?2:n-t===382?1:0},fromJD:function(e){e=Math.floor(e)+.5;for(var t=Math.floor(98496*(e-this.jdEpoch)/35975351)-1;e>=this.toJD(-1===t?1:t+1,7,1);)t++;for(var n=e<this.toJD(t,1,1)?7:1;e>this.toJD(t,n,this.daysInMonth(t,n));)n++;var r=e-this.toJD(t,n,1)+1;return this.newDate(t,n,r)}}),r.calendars.hebrew=o},{"../main":80,"object-assign":53}],71:[function(e,t,n){var r=e("../main"),i=e("object-assign");function o(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}o.prototype=new r.baseCalendar,i(o.prototype,{name:"Islamic",jdEpoch:1948439.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(e){return(11*this._validate(e,this.minMonth,this.minDay,r.local.invalidYear).year()+14)%30<11},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(e){return this.leapYear(e)?355:354},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,r.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(12===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(e,t,n){return 5!==this.dayOfWeek(e,t,n)},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);return e=i.year(),t=i.month(),e=e<=0?e+1:e,(n=i.day())+Math.ceil(29.5*(t-1))+354*(e-1)+Math.floor((3+11*e)/30)+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e)+.5;var t=Math.floor((30*(e-this.jdEpoch)+10646)/10631);t=t<=0?t-1:t;var n=Math.min(12,Math.ceil((e-29-this.toJD(t,1,1))/29.5)+1),r=e-this.toJD(t,n,1)+1;return this.newDate(t,n,r)}}),r.calendars.islamic=o},{"../main":80,"object-assign":53}],72:[function(e,t,n){var r=e("../main"),i=e("object-assign");function o(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}o.prototype=new r.baseCalendar,i(o.prototype,{name:"Julian",jdEpoch:1721423.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear);return(e=t.year()<0?t.year()+1:t.year())%4===0},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(4-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,r.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(2===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(e,t,n){return(this.dayOfWeek(e,t,n)||7)<6},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);return e=i.year(),t=i.month(),n=i.day(),e<0&&e++,t<=2&&(e--,t+=12),Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+n-1524.5},fromJD:function(e){var t=Math.floor(e+.5)+1524,n=Math.floor((t-122.1)/365.25),r=Math.floor(365.25*n),i=Math.floor((t-r)/30.6001),o=i-Math.floor(i<14?1:13),a=n-Math.floor(o>2?4716:4715),s=t-r-Math.floor(30.6001*i);return a<=0&&a--,this.newDate(a,o,s)}}),r.calendars.julian=o},{"../main":80,"object-assign":53}],73:[function(e,t,n){var r=e("../main"),i=e("object-assign");function o(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}function a(e,t){return e-t*Math.floor(e/t)}function s(e,t){return a(e-1,t)+1}o.prototype=new r.baseCalendar,i(o.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(e){return this._validate(e,this.minMonth,this.minDay,r.local.invalidYear),!1},formatYear:function(e){e=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear).year();var t=Math.floor(e/400);return e%=400,e+=e<0?400:0,t+"."+Math.floor(e/20)+"."+e%20},forYear:function(e){if((e=e.split(".")).length<3)throw"Invalid Mayan year";for(var t=0,n=0;n<e.length;n++){var r=parseInt(e[n],10);if(Math.abs(r)>19||n>0&&r<0)throw"Invalid Mayan year";t=20*t+r}return t},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,r.local.invalidYear),18},weekOfYear:function(e,t,n){return this._validate(e,t,n,r.local.invalidDate),0},daysInYear:function(e){return this._validate(e,this.minMonth,this.minDay,r.local.invalidYear),360},daysInMonth:function(e,t){return this._validate(e,t,this.minDay,r.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(e,t,n){return this._validate(e,t,n,r.local.invalidDate).day()},weekDay:function(e,t,n){return this._validate(e,t,n,r.local.invalidDate),!0},extraInfo:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate).toJD(),o=this._toHaab(i),a=this._toTzolkin(i);return{haabMonthName:this.local.haabMonths[o[0]-1],haabMonth:o[0],haabDay:o[1],tzolkinDayName:this.local.tzolkinMonths[a[0]-1],tzolkinDay:a[0],tzolkinTrecena:a[1]}},_toHaab:function(e){var t=a(8+(e-=this.jdEpoch)+340,365);return[Math.floor(t/20)+1,a(t,20)]},_toTzolkin:function(e){return[s(20+(e-=this.jdEpoch),20),s(e+4,13)]},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);return i.day()+20*i.month()+360*i.year()+this.jdEpoch},fromJD:function(e){e=Math.floor(e)+.5-this.jdEpoch;var t=Math.floor(e/360);e%=360,e+=e<0?360:0;var n=Math.floor(e/20),r=e%20;return this.newDate(t,n,r)}}),r.calendars.mayan=o},{"../main":80,"object-assign":53}],74:[function(e,t,n){var r=e("../main"),i=e("object-assign");function o(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}o.prototype=new r.baseCalendar;var a=r.instance("gregorian");i(o.prototype,{name:"Nanakshahi",jdEpoch:2257673.5,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear||r.regionalOptions[""].invalidYear);return a.leapYear(t.year()+(t.year()<1?1:0)+1469)},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(1-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,r.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(12===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(e,t,n){return(this.dayOfWeek(e,t,n)||7)<6},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidMonth);(e=i.year())<0&&e++;for(var o=i.day(),s=1;s<i.month();s++)o+=this.daysPerMonth[s-1];return o+a.toJD(e+1468,3,13)},fromJD:function(e){e=Math.floor(e+.5);for(var t=Math.floor((e-(this.jdEpoch-1))/366);e>=this.toJD(t+1,1,1);)t++;for(var n=e-Math.floor(this.toJD(t,1,1)+.5)+1,r=1;n>this.daysInMonth(t,r);)n-=this.daysInMonth(t,r),r++;return this.newDate(t,r,n)}}),r.calendars.nanakshahi=o},{"../main":80,"object-assign":53}],75:[function(e,t,n){var r=e("../main"),i=e("object-assign");function o(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}o.prototype=new r.baseCalendar,i(o.prototype,{name:"Nepali",jdEpoch:1700709.5,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(e){return this.daysInYear(e)!==this.daysPerYear},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(e){if(e=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear).year(),"undefined"===typeof this.NEPALI_CALENDAR_DATA[e])return this.daysPerYear;for(var t=0,n=this.minMonth;n<=12;n++)t+=this.NEPALI_CALENDAR_DATA[e][n];return t},daysInMonth:function(e,t){return e.year&&(t=e.month(),e=e.year()),this._validate(e,t,this.minDay,r.local.invalidMonth),"undefined"===typeof this.NEPALI_CALENDAR_DATA[e]?this.daysPerMonth[t-1]:this.NEPALI_CALENDAR_DATA[e][t]},weekDay:function(e,t,n){return 6!==this.dayOfWeek(e,t,n)},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);e=i.year(),t=i.month(),n=i.day();var o=r.instance(),a=0,s=t,u=e;this._createMissingCalendarData(e);var l=e-(s>9||9===s&&n>=this.NEPALI_CALENDAR_DATA[u][0]?56:57);for(9!==t&&(a=n,s--);9!==s;)s<=0&&(s=12,u--),a+=this.NEPALI_CALENDAR_DATA[u][s],s--;return 9===t?(a+=n-this.NEPALI_CALENDAR_DATA[u][0])<0&&(a+=o.daysInYear(l)):a+=this.NEPALI_CALENDAR_DATA[u][9]-this.NEPALI_CALENDAR_DATA[u][0],o.newDate(l,1,1).add(a,"d").toJD()},fromJD:function(e){var t=r.instance().fromJD(e),n=t.year(),i=t.dayOfYear(),o=n+56;this._createMissingCalendarData(o);for(var a=9,s=this.NEPALI_CALENDAR_DATA[o][0],u=this.NEPALI_CALENDAR_DATA[o][a]-s+1;i>u;)++a>12&&(a=1,o++),u+=this.NEPALI_CALENDAR_DATA[o][a];var l=this.NEPALI_CALENDAR_DATA[o][a]-(u-i);return this.newDate(o,a,l)},_createMissingCalendarData:function(e){var t=this.daysPerMonth.slice(0);t.unshift(17);for(var n=e-1;n<e+2;n++)"undefined"===typeof this.NEPALI_CALENDAR_DATA[n]&&(this.NEPALI_CALENDAR_DATA[n]=t)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),r.calendars.nepali=o},{"../main":80,"object-assign":53}],76:[function(e,t,n){var r=e("../main"),i=e("object-assign");function o(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}function a(e,t){return e-t*Math.floor(e/t)}o.prototype=new r.baseCalendar,i(o.prototype,{name:"Persian",jdEpoch:1948320.5,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xe6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xe6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear);return 682*((t.year()-(t.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(-(r.dayOfWeek()+1)%7,"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,r.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(12===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(e,t,n){return 5!==this.dayOfWeek(e,t,n)},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);e=i.year(),t=i.month(),n=i.day();var o=e-(e>=0?474:473),s=474+a(o,2820);return n+(t<=7?31*(t-1):30*(t-1)+6)+Math.floor((682*s-110)/2816)+365*(s-1)+1029983*Math.floor(o/2820)+this.jdEpoch-1},fromJD:function(e){var t=(e=Math.floor(e)+.5)-this.toJD(475,1,1),n=Math.floor(t/1029983),r=a(t,1029983),i=2820;if(1029982!==r){var o=Math.floor(r/366),s=a(r,366);i=Math.floor((2134*o+2816*s+2815)/1028522)+o+1}var u=i+2820*n+474;u=u<=0?u-1:u;var l=e-this.toJD(u,1,1)+1,c=l<=186?Math.ceil(l/31):Math.ceil((l-6)/30),f=e-this.toJD(u,c,1)+1;return this.newDate(u,c,f)}}),r.calendars.persian=o,r.calendars.jalali=o},{"../main":80,"object-assign":53}],77:[function(e,t,n){var r=e("../main"),i=e("object-assign"),o=r.instance();function a(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}a.prototype=new r.baseCalendar,i(a.prototype,{name:"Taiwan",jdEpoch:2419402.5,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear);return e=this._t2gYear(t.year()),o.leapYear(e)},weekOfYear:function(e,t,n){var i=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear);return e=this._t2gYear(i.year()),o.weekOfYear(e,i.month(),i.day())},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,r.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(2===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(e,t,n){return(this.dayOfWeek(e,t,n)||7)<6},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);return e=this._t2gYear(i.year()),o.toJD(e,i.month(),i.day())},fromJD:function(e){var t=o.fromJD(e),n=this._g2tYear(t.year());return this.newDate(n,t.month(),t.day())},_t2gYear:function(e){return e+this.yearsOffset+(e>=-this.yearsOffset&&e<=-1?1:0)},_g2tYear:function(e){return e-this.yearsOffset-(e>=1&&e<=this.yearsOffset?1:0)}}),r.calendars.taiwan=a},{"../main":80,"object-assign":53}],78:[function(e,t,n){var r=e("../main"),i=e("object-assign"),o=r.instance();function a(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}a.prototype=new r.baseCalendar,i(a.prototype,{name:"Thai",jdEpoch:1523098.5,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear);return e=this._t2gYear(t.year()),o.leapYear(e)},weekOfYear:function(e,t,n){var i=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear);return e=this._t2gYear(i.year()),o.weekOfYear(e,i.month(),i.day())},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,r.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(2===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(e,t,n){return(this.dayOfWeek(e,t,n)||7)<6},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);return e=this._t2gYear(i.year()),o.toJD(e,i.month(),i.day())},fromJD:function(e){var t=o.fromJD(e),n=this._g2tYear(t.year());return this.newDate(n,t.month(),t.day())},_t2gYear:function(e){return e-this.yearsOffset-(e>=1&&e<=this.yearsOffset?1:0)},_g2tYear:function(e){return e+this.yearsOffset+(e>=-this.yearsOffset&&e<=-1?1:0)}}),r.calendars.thai=a},{"../main":80,"object-assign":53}],79:[function(e,t,n){var r=e("../main"),i=e("object-assign");function o(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}o.prototype=new r.baseCalendar,i(o.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear);return 355===this.daysInYear(t.year())},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(e){for(var t=0,n=1;n<=12;n++)t+=this.daysInMonth(e,n);return t},daysInMonth:function(e,t){for(var n=this._validate(e,t,this.minDay,r.local.invalidMonth).toJD()-24e5+.5,i=0,o=0;o<a.length;o++){if(a[o]>n)return a[i]-a[i-1];i++}return 30},weekDay:function(e,t,n){return 5!==this.dayOfWeek(e,t,n)},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate),o=12*(i.year()-1)+i.month()-15292;return i.day()+a[o-1]-1+24e5-.5},fromJD:function(e){for(var t=e-24e5+.5,n=0,r=0;r<a.length&&!(a[r]>t);r++)n++;var i=n+15292,o=Math.floor((i-1)/12),s=o+1,u=i-12*o,l=t-a[n-1]+1;return this.newDate(s,u,l)},isValid:function(e,t,n){var i=r.baseCalendar.prototype.isValid.apply(this,arguments);return i&&(i=(e=null!=e.year?e.year:e)>=1276&&e<=1500),i},_validate:function(e,t,n,i){var o=r.baseCalendar.prototype._validate.apply(this,arguments);if(o.year<1276||o.year>1500)throw i.replace(/\{0\}/,this.local.name);return o}}),r.calendars.ummalqura=o;var a=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},{"../main":80,"object-assign":53}],80:[function(e,t,n){var r=e("object-assign");function i(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function o(e,t,n,r){if(this._calendar=e,this._year=t,this._month=n,this._day=r,0===this._calendar._validateLevel&&!this._calendar.isValid(this._year,this._month,this._day))throw(l.local.invalidDate||l.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function a(e,t){return"000000".substring(0,t-(e=""+e).length)+e}function s(){this.shortYearCutoff="+10"}function u(e){this.local=this.regionalOptions[e]||this.regionalOptions[""]}r(i.prototype,{instance:function(e,t){e=(e||"gregorian").toLowerCase(),t=t||"";var n=this._localCals[e+"-"+t];if(!n&&this.calendars[e]&&(n=new this.calendars[e](t),this._localCals[e+"-"+t]=n),!n)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,e);return n},newDate:function(e,t,n,r,i){return(r=(null!=e&&e.year?e.calendar():"string"===typeof r?this.instance(r,i):r)||this.instance()).newDate(e,t,n)},substituteDigits:function(e){return function(t){return(t+"").replace(/[0-9]/g,(function(t){return e[t]}))}},substituteChineseDigits:function(e,t){return function(n){for(var r="",i=0;n>0;){var o=n%10;r=(0===o?"":e[o]+t[i])+r,i++,n=Math.floor(n/10)}return 0===r.indexOf(e[1]+t[1])&&(r=r.substr(1)),r||e[0]}}}),r(o.prototype,{newDate:function(e,t,n){return this._calendar.newDate(null==e?this:e,t,n)},year:function(e){return 0===arguments.length?this._year:this.set(e,"y")},month:function(e){return 0===arguments.length?this._month:this.set(e,"m")},day:function(e){return 0===arguments.length?this._day:this.set(e,"d")},date:function(e,t,n){if(!this._calendar.isValid(e,t,n))throw(l.local.invalidDate||l.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=e,this._month=t,this._day=n,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(e,t){return this._calendar.add(this,e,t)},set:function(e,t){return this._calendar.set(this,e,t)},compareTo:function(e){if(this._calendar.name!==e._calendar.name)throw(l.local.differentCalendars||l.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,e._calendar.local.name);var t=this._year!==e._year?this._year-e._year:this._month!==e._month?this.monthOfYear()-e.monthOfYear():this._day-e._day;return 0===t?0:t<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(e){return this._calendar.fromJD(e)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(e){return this._calendar.fromJSDate(e)},toString:function(){return(this.year()<0?"-":"")+a(Math.abs(this.year()),4)+"-"+a(this.month(),2)+"-"+a(this.day(),2)}}),r(s.prototype,{_validateLevel:0,newDate:function(e,t,n){return null==e?this.today():(e.year&&(this._validate(e,t,n,l.local.invalidDate||l.regionalOptions[""].invalidDate),n=e.day(),t=e.month(),e=e.year()),new o(this,e,t,n))},today:function(){return this.fromJSDate(new Date)},epoch:function(e){return this._validate(e,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear);return(t.year()<0?"-":"")+a(Math.abs(t.year()),4)},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear),12},monthOfYear:function(e,t){var n=this._validate(e,t,this.minDay,l.local.invalidMonth||l.regionalOptions[""].invalidMonth);return(n.month()+this.monthsInYear(n)-this.firstMonth)%this.monthsInYear(n)+this.minMonth},fromMonthOfYear:function(e,t){var n=(t+this.firstMonth-2*this.minMonth)%this.monthsInYear(e)+this.minMonth;return this._validate(e,n,this.minDay,l.local.invalidMonth||l.regionalOptions[""].invalidMonth),n},daysInYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear);return this.leapYear(t)?366:365},dayOfYear:function(e,t,n){var r=this._validate(e,t,n,l.local.invalidDate||l.regionalOptions[""].invalidDate);return r.toJD()-this.newDate(r.year(),this.fromMonthOfYear(r.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(e,t,n){var r=this._validate(e,t,n,l.local.invalidDate||l.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(r))+2)%this.daysInWeek()},extraInfo:function(e,t,n){return this._validate(e,t,n,l.local.invalidDate||l.regionalOptions[""].invalidDate),{}},add:function(e,t,n){return this._validate(e,this.minMonth,this.minDay,l.local.invalidDate||l.regionalOptions[""].invalidDate),this._correctAdd(e,this._add(e,t,n),t,n)},_add:function(e,t,n){if(this._validateLevel++,"d"===n||"w"===n){var r=e.toJD()+t*("w"===n?this.daysInWeek():1),i=e.calendar().fromJD(r);return this._validateLevel--,[i.year(),i.month(),i.day()]}try{var o=e.year()+("y"===n?t:0),a=e.monthOfYear()+("m"===n?t:0),s=(i=e.day(),function(e){for(;a<e.minMonth;)o--,a+=e.monthsInYear(o);for(var t=e.monthsInYear(o);a>t-1+e.minMonth;)o++,a-=t,t=e.monthsInYear(o)});"y"===n?(e.month()!==this.fromMonthOfYear(o,a)&&(a=this.newDate(o,e.month(),this.minDay).monthOfYear()),a=Math.min(a,this.monthsInYear(o)),i=Math.min(i,this.daysInMonth(o,this.fromMonthOfYear(o,a)))):"m"===n&&(s(this),i=Math.min(i,this.daysInMonth(o,this.fromMonthOfYear(o,a))));var u=[o,this.fromMonthOfYear(o,a),i];return this._validateLevel--,u}catch(l){throw this._validateLevel--,l}},_correctAdd:function(e,t,n,r){if(!this.hasYearZero&&("y"===r||"m"===r)&&(0===t[0]||e.year()>0!==t[0]>0)){var i={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[r],o=n<0?-1:1;t=this._add(e,n*i[0]+o*i[1],i[2])}return e.date(t[0],t[1],t[2])},set:function(e,t,n){this._validate(e,this.minMonth,this.minDay,l.local.invalidDate||l.regionalOptions[""].invalidDate);var r="y"===n?t:e.year(),i="m"===n?t:e.month(),o="d"===n?t:e.day();return"y"!==n&&"m"!==n||(o=Math.min(o,this.daysInMonth(r,i))),e.date(r,i,o)},isValid:function(e,t,n){this._validateLevel++;var r=this.hasYearZero||0!==e;if(r){var i=this.newDate(e,t,this.minDay);r=t>=this.minMonth&&t-this.minMonth<this.monthsInYear(i)&&n>=this.minDay&&n-this.minDay<this.daysInMonth(i)}return this._validateLevel--,r},toJSDate:function(e,t,n){var r=this._validate(e,t,n,l.local.invalidDate||l.regionalOptions[""].invalidDate);return l.instance().fromJD(this.toJD(r)).toJSDate()},fromJSDate:function(e){return this.fromJD(l.instance().fromJSDate(e).toJD())},_validate:function(e,t,n,r){if(e.year){if(0===this._validateLevel&&this.name!==e.calendar().name)throw(l.local.differentCalendars||l.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,e.calendar().local.name);return e}try{if(this._validateLevel++,1===this._validateLevel&&!this.isValid(e,t,n))throw r.replace(/\{0\}/,this.local.name);var i=this.newDate(e,t,n);return this._validateLevel--,i}catch(o){throw this._validateLevel--,o}}}),u.prototype=new s,r(u.prototype,{name:"Gregorian",jdEpoch:1721425.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear);return(e=t.year()+(t.year()<0?1:0))%4===0&&(e%100!==0||e%400===0)},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(4-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,l.local.invalidMonth||l.regionalOptions[""].invalidMonth);return this.daysPerMonth[n.month()-1]+(2===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(e,t,n){return(this.dayOfWeek(e,t,n)||7)<6},toJD:function(e,t,n){var r=this._validate(e,t,n,l.local.invalidDate||l.regionalOptions[""].invalidDate);e=r.year(),t=r.month(),n=r.day(),e<0&&e++,t<3&&(t+=12,e--);var i=Math.floor(e/100),o=2-i+Math.floor(i/4);return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+n+o-1524.5},fromJD:function(e){var t=Math.floor(e+.5),n=Math.floor((t-1867216.25)/36524.25),r=1524+(n=t+1+n-Math.floor(n/4)),i=Math.floor((r-122.1)/365.25),o=Math.floor(365.25*i),a=Math.floor((r-o)/30.6001),s=r-o-Math.floor(30.6001*a),u=a-(a>13.5?13:1),l=i-(u>2.5?4716:4715);return l<=0&&l--,this.newDate(l,u,s)},toJSDate:function(e,t,n){var r=this._validate(e,t,n,l.local.invalidDate||l.regionalOptions[""].invalidDate),i=new Date(r.year(),r.month()-1,r.day());return i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0),i.setHours(i.getHours()>12?i.getHours()+2:0),i},fromJSDate:function(e){return this.newDate(e.getFullYear(),e.getMonth()+1,e.getDate())}});var l=t.exports=new i;l.cdate=o,l.baseCalendar=s,l.calendars.gregorian=u},{"object-assign":53}],81:[function(e,t,n){var r=e("object-assign"),i=e("./main");r(i.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),i.local=i.regionalOptions[""],r(i.cdate.prototype,{formatDate:function(e,t){return"string"!==typeof e&&(t=e,e=""),this._calendar.formatDate(e||"",this,t)}}),r(i.baseCalendar.prototype,{UNIX_EPOCH:i.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:i.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(e,t,n){if("string"!==typeof e&&(n=t,t=e,e=""),!t)return"";if(t.calendar()!==this)throw i.local.invalidFormat||i.regionalOptions[""].invalidFormat;e=e||this.local.dateFormat;for(var r=(n=n||{}).dayNamesShort||this.local.dayNamesShort,o=n.dayNames||this.local.dayNames,a=n.monthNumbers||this.local.monthNumbers,s=n.monthNamesShort||this.local.monthNamesShort,u=n.monthNames||this.local.monthNames,l=(n.calculateWeek||this.local.calculateWeek,function(t,n){for(var r=1;b+r<e.length&&e.charAt(b+r)===t;)r++;return b+=r-1,Math.floor(r/(n||1))>1}),c=function(e,t,n,r){var i=""+t;if(l(e,r))for(;i.length<n;)i="0"+i;return i},f=function(e,t,n,r){return l(e)?r[t]:n[t]},h=this,d=function(e){return"function"===typeof a?a.call(h,e,l("m")):y(c("m",e.month(),2))},p=function(e,t){return t?"function"===typeof u?u.call(h,e):u[e.month()-h.minMonth]:"function"===typeof s?s.call(h,e):s[e.month()-h.minMonth]},v=this.local.digits,y=function(e){return n.localNumbers&&v?v(e):e},g="",m=!1,b=0;b<e.length;b++)if(m)"'"!==e.charAt(b)||l("'")?g+=e.charAt(b):m=!1;else switch(e.charAt(b)){case"d":g+=y(c("d",t.day(),2));break;case"D":g+=f("D",t.dayOfWeek(),r,o);break;case"o":g+=c("o",t.dayOfYear(),3);break;case"w":g+=c("w",t.weekOfYear(),2);break;case"m":g+=d(t);break;case"M":g+=p(t,l("M"));break;case"y":g+=l("y",2)?t.year():(t.year()%100<10?"0":"")+t.year()%100;break;case"Y":l("Y",2),g+=t.formatYear();break;case"J":g+=t.toJD();break;case"@":g+=(t.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":g+=(t.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":l("'")?g+="'":m=!0;break;default:g+=e.charAt(b)}return g},parseDate:function(e,t,n){if(null==t)throw i.local.invalidArguments||i.regionalOptions[""].invalidArguments;if(""===(t="object"===typeof t?t.toString():t+""))return null;e=e||this.local.dateFormat;var r=(n=n||{}).shortYearCutoff||this.shortYearCutoff;r="string"!==typeof r?r:this.today().year()%100+parseInt(r,10);for(var o=n.dayNamesShort||this.local.dayNamesShort,a=n.dayNames||this.local.dayNames,s=n.parseMonth||this.local.parseMonth,u=n.monthNumbers||this.local.monthNumbers,l=n.monthNamesShort||this.local.monthNamesShort,c=n.monthNames||this.local.monthNames,f=-1,h=-1,d=-1,p=-1,v=-1,y=!1,g=!1,m=function(t,n){for(var r=1;S+r<e.length&&e.charAt(S+r)===t;)r++;return S+=r-1,Math.floor(r/(n||1))>1},b=function(e,n){var r=m(e,n),o=[2,3,r?4:2,r?4:2,10,11,20]["oyYJ@!".indexOf(e)+1],a=new RegExp("^-?\\d{1,"+o+"}"),s=t.substring(O).match(a);if(!s)throw(i.local.missingNumberAt||i.regionalOptions[""].missingNumberAt).replace(/\{0\}/,O);return O+=s[0].length,parseInt(s[0],10)},_=this,w=function(){if("function"===typeof u){m("m");var e=u.call(_,t.substring(O));return O+=e.length,e}return b("m")},x=function(e,n,r,o){for(var a=m(e,o)?r:n,s=0;s<a.length;s++)if(t.substr(O,a[s].length).toLowerCase()===a[s].toLowerCase())return O+=a[s].length,s+_.minMonth;throw(i.local.unknownNameAt||i.regionalOptions[""].unknownNameAt).replace(/\{0\}/,O)},T=function(){if("function"===typeof c){var e=m("M")?c.call(_,t.substring(O)):l.call(_,t.substring(O));return O+=e.length,e}return x("M",l,c)},k=function(){if(t.charAt(O)!==e.charAt(S))throw(i.local.unexpectedLiteralAt||i.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,O);O++},O=0,S=0;S<e.length;S++)if(g)"'"!==e.charAt(S)||m("'")?k():g=!1;else switch(e.charAt(S)){case"d":p=b("d");break;case"D":x("D",o,a);break;case"o":v=b("o");break;case"w":b("w");break;case"m":d=w();break;case"M":d=T();break;case"y":var A=S;y=!m("y",2),S=A,h=b("y",2);break;case"Y":h=b("Y",2);break;case"J":f=b("J")+.5,"."===t.charAt(O)&&(O++,b("J"));break;case"@":f=b("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":f=b("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":O=t.length;break;case"'":m("'")?k():g=!0;break;default:k()}if(O<t.length)throw i.local.unexpectedText||i.regionalOptions[""].unexpectedText;if(-1===h?h=this.today().year():h<100&&y&&(h+=-1===r?1900:this.today().year()-this.today().year()%100-(h<=r?0:100)),"string"===typeof d&&(d=s.call(this,h,d)),v>-1){d=1,p=v;for(var E=this.daysInMonth(h,d);p>E;E=this.daysInMonth(h,d))d++,p-=E}return f>-1?this.fromJD(f):this.newDate(h,d,p)},determineDate:function(e,t,n,r,i){n&&"object"!==typeof n&&(i=r,r=n,n=null),"string"!==typeof r&&(i=r,r="");var o=this,a=function(e){try{return o.parseDate(r,e,i)}catch(u){}for(var t=((e=e.toLowerCase()).match(/^c/)&&n?n.newDate():null)||o.today(),a=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,s=a.exec(e);s;)t.add(parseInt(s[1],10),s[2]||"d"),s=a.exec(e);return t};return t=t?t.newDate():null,e=null==e?t:"string"===typeof e?a(e):"number"===typeof e?isNaN(e)||e===1/0||e===-1/0?t:o.today().add(e,"d"):o.newDate(e)}})},{"./main":80,"object-assign":53}],82:[function(e,t,n){"use strict";t.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},{}],83:[function(e,t,n){"use strict";var r=e("./arrow_paths"),i=e("../../plots/font_attributes"),o=e("../../plots/cartesian/constants"),a=e("../../plot_api/plot_template").templatedArray;e("../../constants/axis_placeable_objects"),t.exports=a("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:i({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:r.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:r.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",o.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",o.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:i({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},{"../../constants/axis_placeable_objects":206,"../../plot_api/plot_template":265,"../../plots/cartesian/constants":283,"../../plots/font_attributes":305,"./arrow_paths":82}],84:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes"),o=e("./draw").draw;function a(e){var t=e._fullLayout;r.filterVisible(t.annotations).forEach((function(t){var n=i.getFromId(e,t.xref),r=i.getFromId(e,t.yref),o=i.getRefType(t.xref),a=i.getRefType(t.yref);t._extremes={},"range"===o&&s(t,n),"range"===a&&s(t,r)}))}function s(e,t){var n,r=t._id,o=r.charAt(0),a=e[o],s=e["a"+o],u=e[o+"ref"],l=e["a"+o+"ref"],c=e["_"+o+"padplus"],f=e["_"+o+"padminus"],h={x:1,y:-1}[o]*e[o+"shift"],d=3*e.arrowsize*e.arrowwidth||0,p=d+h,v=d-h,y=3*e.startarrowsize*e.arrowwidth||0,g=y+h,m=y-h;if(l===u){var b=i.findExtremes(t,[t.r2c(a)],{ppadplus:p,ppadminus:v}),_=i.findExtremes(t,[t.r2c(s)],{ppadplus:Math.max(c,g),ppadminus:Math.max(f,m)});n={min:[b.min[0],_.min[0]],max:[b.max[0],_.max[0]]}}else g=s?g+s:g,m=s?m-s:m,n=i.findExtremes(t,[t.r2c(a)],{ppadplus:Math.max(c,p,g),ppadminus:Math.max(f,v,m)});e._extremes[r]=n}t.exports=function(e){var t=e._fullLayout;if(r.filterVisible(t.annotations).length&&e._fullData.length)return r.syncOrAsync([o,a],e)}},{"../../lib":230,"../../plots/cartesian/axes":276,"./draw":89}],85:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../registry"),o=e("../../plot_api/plot_template").arrayEditor;function a(e,t){var n=u(e,t);return n.on.length>0||n.explicitOff.length>0}function s(e,t){var n,a,s=u(e,t),l=s.on,c=s.off.concat(s.explicitOff),f={},h=e._fullLayout.annotations;if(l.length||c.length){for(n=0;n<l.length;n++)(a=o(e.layout,"annotations",h[l[n]])).modifyItem("visible",!0),r.extendFlat(f,a.getUpdateObj());for(n=0;n<c.length;n++)(a=o(e.layout,"annotations",h[c[n]])).modifyItem("visible",!1),r.extendFlat(f,a.getUpdateObj());return i.call("update",e,{},f)}}function u(e,t){var n,r,i,o,a,s,u,c=e._fullLayout.annotations,f=[],h=[],d=[],p=(t||[]).length;for(n=0;n<c.length;n++)if(o=(i=c[n]).clicktoshow){for(r=0;r<p;r++)if(s=(a=t[r]).xaxis,u=a.yaxis,s._id===i.xref&&u._id===i.yref&&s.d2r(a.x)===l(i._xclick,s)&&u.d2r(a.y)===l(i._yclick,u)){(i.visible?"onout"===o?h:d:f).push(n);break}r===p&&i.visible&&"onout"===o&&h.push(n)}return{on:f,off:h,explicitOff:d}}function l(e,t){return"log"===t.type?t.l2r(e):t.d2r(e)}t.exports={hasClickToShow:a,onClick:s}},{"../../lib":230,"../../plot_api/plot_template":265,"../../registry":313}],86:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../color");t.exports=function(e,t,n,o){o("opacity");var a=o("bgcolor"),s=o("bordercolor"),u=i.opacity(s);o("borderpad");var l=o("borderwidth"),c=o("showarrow");if(o("text",c?" ":n._dfltTitle.annotation),o("textangle"),r.coerceFont(o,"font",n.font),o("width"),o("align"),o("height")&&o("valign"),c){var f,h,d=o("arrowside");-1!==d.indexOf("end")&&(f=o("arrowhead"),h=o("arrowsize")),-1!==d.indexOf("start")&&(o("startarrowhead",f),o("startarrowsize",h)),o("arrowcolor",u?t.bordercolor:i.defaultLine),o("arrowwidth",2*(u&&l||1)),o("standoff"),o("startstandoff")}var p=o("hovertext"),v=n.hoverlabel||{};if(p){var y=o("hoverlabel.bgcolor",v.bgcolor||(i.opacity(a)?i.rgb(a):i.defaultLine)),g=o("hoverlabel.bordercolor",v.bordercolor||i.contrast(y));r.coerceFont(o,"hoverlabel.font",{family:v.font.family,size:v.font.size,color:v.font.color||g})}o("captureevents",!!p)}},{"../../lib":230,"../color":100}],87:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib/to_log_range");t.exports=function(e,t,n,o){t=t||{};var a="log"===n&&"linear"===t.type,s="linear"===n&&"log"===t.type;if(a||s)for(var u,l,c=e._fullLayout.annotations,f=t._id.charAt(0),h=0;h<c.length;h++)u=c[h],l="annotations["+h+"].",u[f+"ref"]===t._id&&d(f),u["a"+f+"ref"]===t._id&&d("a"+f);function d(e){var n=u[e],s=null;s=a?i(n,t.range):Math.pow(10,n),r(s)||(s=null),o(l+e,s)}}},{"../../lib/to_log_range":254,"fast-isnumeric":15}],88:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes"),o=e("../../plots/array_container_defaults"),a=e("./common_defaults"),s=e("./attributes");function u(e,t,n){function o(n,i){return r.coerce(e,t,s,n,i)}var u=o("visible"),l=o("clicktoshow");if(u||l){a(e,t,n,o);for(var c=t.showarrow,f=["x","y"],h=[-10,-30],d={_fullLayout:n},p=0;p<2;p++){var v=f[p],y=i.coerceRef(e,t,d,v,"","paper");if("paper"!==y&&i.getFromId(d,y)._annIndices.push(t._index),i.coercePosition(t,d,o,y,v,.5),c){var g="a"+v,m=i.coerceRef(e,t,d,g,"pixel",["pixel","paper"]);"pixel"!==m&&m!==y&&(m=t[g]="pixel");var b="pixel"===m?h[p]:.4;i.coercePosition(t,d,o,m,g,b)}o(v+"anchor"),o(v+"shift")}if(r.noneOrAll(e,t,["x","y"]),c&&r.noneOrAll(e,t,["ax","ay"]),l){var _=o("xclick"),w=o("yclick");t._xclick=void 0===_?t.x:i.cleanPosition(_,d,t.xref),t._yclick=void 0===w?t.y:i.cleanPosition(w,d,t.yref)}}}t.exports=function(e,t){o(e,t,{name:"annotations",handleItemDefaults:u})}},{"../../lib":230,"../../plots/array_container_defaults":271,"../../plots/cartesian/axes":276,"./attributes":83,"./common_defaults":86}],89:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../../registry"),o=e("../../plots/plots"),a=e("../../lib"),s=a.strTranslate,u=e("../../plots/cartesian/axes"),l=e("../color"),c=e("../drawing"),f=e("../fx"),h=e("../../lib/svg_text_utils"),d=e("../../lib/setcursor"),p=e("../dragelement"),v=e("../../plot_api/plot_template").arrayEditor,y=e("./draw_arrow_head");function g(e){var t=e._fullLayout;t._infolayer.selectAll(".annotation").remove();for(var n=0;n<t.annotations.length;n++)t.annotations[n].visible&&m(e,n);return o.previousPromises(e)}function m(e,t){var n=e._fullLayout.annotations[t]||{},r=u.getFromId(e,n.xref),i=u.getFromId(e,n.yref);r&&r.setScale(),i&&i.setScale(),_(e,n,t,!1,r,i)}function b(e,t,n,r,i){var o=i[n],a=i[n+"ref"],s=-1!==n.indexOf("y"),l="domain"===u.getRefType(a),c=s?r.h:r.w;return e?l?o+(s?-t:t)/e._length:e.p2r(e.r2p(o)+t):o+(s?-t:t)/c}function _(e,t,n,o,g,m){var _,w,x=e._fullLayout,T=e._fullLayout._size,k=e._context.edits;o?(_="annotation-"+o,w=o+".annotations"):(_="annotation",w="annotations");var O=v(e.layout,w,t),S=O.modifyBase,A=O.modifyItem,E=O.getUpdateObj;x._infolayer.selectAll("."+_+'[data-index="'+n+'"]').remove();var M="clip"+x._uid+"_ann"+n;if(t._input&&!1!==t.visible){var C={x:{},y:{}},I=+t.textangle||0,D=x._infolayer.append("g").classed(_,!0).attr("data-index",String(n)).style("opacity",t.opacity),P=D.append("g").classed("annotation-text-g",!0),N=k[t.showarrow?"annotationTail":"annotationPosition"],L=t.captureevents||k.annotationText||N,j=P.append("g").style("pointer-events",L?"all":null).call(d,"pointer").on("click",(function(){e._dragging=!1,e.emit("plotly_clickannotation",Y(r.event))}));t.hovertext&&j.on("mouseover",(function(){var n=t.hoverlabel,r=n.font,i=this.getBoundingClientRect(),o=e.getBoundingClientRect();f.loneHover({x0:i.left-o.left,x1:i.right-o.left,y:(i.top+i.bottom)/2-o.top,text:t.hovertext,color:n.bgcolor,borderColor:n.bordercolor,fontFamily:r.family,fontSize:r.size,fontColor:r.color},{container:x._hoverlayer.node(),outerContainer:x._paper.node(),gd:e})})).on("mouseout",(function(){f.loneUnhover(x._hoverlayer.node())}));var R=t.borderwidth,F=t.borderpad,z=R+F,U=j.append("rect").attr("class","bg").style("stroke-width",R+"px").call(l.stroke,t.bordercolor).call(l.fill,t.bgcolor),q=t.width||t.height,V=x._topclips.selectAll("#"+M).data(q?[0]:[]);V.enter().append("clipPath").classed("annclip",!0).attr("id",M).append("rect"),V.exit().remove();var B=t.font,H=x._meta?a.templateString(t.text,x._meta):t.text,W=j.append("text").classed("annotation-text",!0).text(H);k.annotationText?W.call(h.makeEditable,{delegate:j,gd:e}).call(G).on("edit",(function(n){t.text=n,this.call(G),A("text",n),g&&g.autorange&&S(g._name+".autorange",!0),m&&m.autorange&&S(m._name+".autorange",!0),i.call("_guiRelayout",e,E())})):W.call(G)}else r.selectAll("#"+M).remove();function Y(e){var r={index:n,annotation:t._input,fullAnnotation:t,event:e};return o&&(r.subplotId=o),r}function G(n){return n.call(c.font,B).attr({"text-anchor":{left:"start",right:"end"}[t.align]||"middle"}),h.convertToTspans(n,e,K),n}function K(){var n=W.selectAll("a");1===n.size()&&n.text()===W.text()&&j.insert("a",":first-child").attr({"xlink:xlink:href":n.attr("xlink:href"),"xlink:xlink:show":n.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(U.node());var r=j.select(".annotation-text-math-group"),f=!r.empty(),v=c.bBox((f?r:W).node()),_=v.width,w=v.height,O=t.width||_,L=t.height||w,F=Math.round(O+2*z),B=Math.round(L+2*z);function H(e,t){return"auto"===t&&(t=e<1/3?"left":e>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[t]}for(var G=!1,K=["x","y"],X=0;X<K.length;X++){var Q,J,$,Z,ee,te=K[X],ne=t[te+"ref"]||te,re=t["a"+te+"ref"],ie={x:g,y:m}[te],oe=(I+("x"===te?0:-90))*Math.PI/180,ae=F*Math.cos(oe),se=B*Math.sin(oe),ue=Math.abs(ae)+Math.abs(se),le=t[te+"anchor"],ce=t[te+"shift"]*("x"===te?1:-1),fe=C[te],he=u.getRefType(ne);if(ie&&"domain"!==he){var de=ie.r2fraction(t[te]);(de<0||de>1)&&(re===ne?((de=ie.r2fraction(t["a"+te]))<0||de>1)&&(G=!0):G=!0),Q=ie._offset+ie.r2p(t[te]),Z=.5}else{var pe="domain"===he;"x"===te?($=t[te],Q=pe?ie._offset+ie._length*$:Q=T.l+T.w*$):($=1-t[te],Q=pe?ie._offset+ie._length*$:Q=T.t+T.h*$),Z=t.showarrow?.5:$}if(t.showarrow){fe.head=Q;var ve=t["a"+te];if(ee=ae*H(.5,t.xanchor)-se*H(.5,t.yanchor),re===ne){var ye=u.getRefType(re);"domain"===ye?("y"===te&&(ve=1-ve),fe.tail=ie._offset+ie._length*ve):"paper"===ye?"y"===te?(ve=1-ve,fe.tail=T.t+T.h*ve):fe.tail=T.l+T.w*ve:fe.tail=ie._offset+ie.r2p(ve),J=ee}else fe.tail=Q+ve,J=ee+ve;fe.text=fe.tail+ee;var ge=x["x"===te?"width":"height"];if("paper"===ne&&(fe.head=a.constrain(fe.head,1,ge-1)),"pixel"===re){var me=-Math.max(fe.tail-3,fe.text),be=Math.min(fe.tail+3,fe.text)-ge;me>0?(fe.tail+=me,fe.text+=me):be>0&&(fe.tail-=be,fe.text-=be)}fe.tail+=ce,fe.head+=ce}else J=ee=ue*H(Z,le),fe.text=Q+ee;fe.text+=ce,ee+=ce,J+=ce,t["_"+te+"padplus"]=ue/2+J,t["_"+te+"padminus"]=ue/2-J,t["_"+te+"size"]=ue,t["_"+te+"shift"]=ee}if(G)j.remove();else{var _e=0,we=0;if("left"!==t.align&&(_e=(O-_)*("center"===t.align?.5:1)),"top"!==t.valign&&(we=(L-w)*("middle"===t.valign?.5:1)),f)r.select("svg").attr({x:z+_e-1,y:z+we}).call(c.setClipUrl,q?M:null,e);else{var xe=z+we-v.top,Te=z+_e-v.left;W.call(h.positionText,Te,xe).call(c.setClipUrl,q?M:null,e)}V.select("rect").call(c.setRect,z,z,O,L),U.call(c.setRect,R/2,R/2,F-R,B-R),j.call(c.setTranslate,Math.round(C.x.text-F/2),Math.round(C.y.text-B/2)),P.attr({transform:"rotate("+I+","+C.x.text+","+C.y.text+")"});var ke,Oe=function(n,r){D.selectAll(".annotation-arrow-g").remove();var u=C.x.head,f=C.y.head,h=C.x.tail+n,d=C.y.tail+r,v=C.x.text+n,_=C.y.text+r,w=a.rotationXYMatrix(I,v,_),x=a.apply2DTransform(w),O=a.apply2DTransform2(w),M=+U.attr("width"),N=+U.attr("height"),L=v-.5*M,R=L+M,F=_-.5*N,z=F+N,q=[[L,F,L,z],[L,z,R,z],[R,z,R,F],[R,F,L,F]].map(O);if(!q.reduce((function(e,t){return e^!!a.segmentsIntersect(u,f,u+1e6,f+1e6,t[0],t[1],t[2],t[3])}),!1)){q.forEach((function(e){var t=a.segmentsIntersect(h,d,u,f,e[0],e[1],e[2],e[3]);t&&(h=t.x,d=t.y)}));var V=t.arrowwidth,B=t.arrowcolor,H=t.arrowside,W=D.append("g").style({opacity:l.opacity(B)}).classed("annotation-arrow-g",!0),Y=W.append("path").attr("d","M"+h+","+d+"L"+u+","+f).style("stroke-width",V+"px").call(l.stroke,l.rgb(B));if(y(Y,H,t),k.annotationPosition&&Y.node().parentNode&&!o){var G=u,K=f;if(t.standoff){var X=Math.sqrt(Math.pow(u-h,2)+Math.pow(f-d,2));G+=t.standoff*(h-u)/X,K+=t.standoff*(d-f)/X}var Q,J,$=W.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(h-G)+","+(d-K),transform:s(G,K)}).style("stroke-width",V+6+"px").call(l.stroke,"rgba(0,0,0,0)").call(l.fill,"rgba(0,0,0,0)");p.init({element:$.node(),gd:e,prepFn:function(){var e=c.getTranslate(j);Q=e.x,J=e.y,g&&g.autorange&&S(g._name+".autorange",!0),m&&m.autorange&&S(m._name+".autorange",!0)},moveFn:function(e,n){var r=x(Q,J),i=r[0]+e,o=r[1]+n;j.call(c.setTranslate,i,o),A("x",b(g,e,"x",T,t)),A("y",b(m,n,"y",T,t)),t.axref===t.xref&&A("ax",b(g,e,"ax",T,t)),t.ayref===t.yref&&A("ay",b(m,n,"ay",T,t)),W.attr("transform",s(e,n)),P.attr({transform:"rotate("+I+","+i+","+o+")"})},doneFn:function(){i.call("_guiRelayout",e,E());var t=document.querySelector(".js-notes-box-panel");t&&t.redraw(t.selectedObj)}})}}};t.showarrow&&Oe(0,0),N&&p.init({element:j.node(),gd:e,prepFn:function(){ke=P.attr("transform")},moveFn:function(e,n){var r="pointer";if(t.showarrow)t.axref===t.xref?A("ax",b(g,e,"ax",T,t)):A("ax",t.ax+e),t.ayref===t.yref?A("ay",b(m,n,"ay",T.w,t)):A("ay",t.ay+n),Oe(e,n);else{if(o)return;var i,a;if(g)i=b(g,e,"x",T,t);else{var u=t._xsize/T.w,l=t.x+(t._xshift-t.xshift)/T.w-u/2;i=p.align(l+e/T.w,u,0,1,t.xanchor)}if(m)a=b(m,n,"y",T,t);else{var c=t._ysize/T.h,f=t.y-(t._yshift+t.yshift)/T.h-c/2;a=p.align(f-n/T.h,c,0,1,t.yanchor)}A("x",i),A("y",a),g&&m||(r=p.getCursor(g?.5:i,m?.5:a,t.xanchor,t.yanchor))}P.attr({transform:s(e,n)+ke}),d(j,r)},clickFn:function(n,r){t.captureevents&&e.emit("plotly_clickannotation",Y(r))},doneFn:function(){d(j),i.call("_guiRelayout",e,E());var t=document.querySelector(".js-notes-box-panel");t&&t.redraw(t.selectedObj)}})}}}t.exports={draw:g,drawOne:m,drawRaw:_}},{"../../lib":230,"../../lib/setcursor":250,"../../lib/svg_text_utils":252,"../../plot_api/plot_template":265,"../../plots/cartesian/axes":276,"../../plots/plots":311,"../../registry":313,"../color":100,"../dragelement":119,"../drawing":122,"../fx":140,"./draw_arrow_head":90,"@plotly/d3":11}],90:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../color"),o=e("./arrow_paths"),a=e("../../lib"),s=a.strScale,u=a.strRotate,l=a.strTranslate;t.exports=function(e,t,n){var a,c,f,h,d=e.node(),p=o[n.arrowhead||0],v=o[n.startarrowhead||0],y=(n.arrowwidth||1)*(n.arrowsize||1),g=(n.arrowwidth||1)*(n.startarrowsize||1),m=t.indexOf("start")>=0,b=t.indexOf("end")>=0,_=p.backoff*y+n.standoff,w=v.backoff*g+n.startstandoff;if("line"===d.nodeName){a={x:+e.attr("x1"),y:+e.attr("y1")},c={x:+e.attr("x2"),y:+e.attr("y2")};var x=a.x-c.x,T=a.y-c.y;if(h=(f=Math.atan2(T,x))+Math.PI,_&&w&&_+w>Math.sqrt(x*x+T*T))return void N();if(_){if(_*_>x*x+T*T)return void N();var k=_*Math.cos(f),O=_*Math.sin(f);c.x+=k,c.y+=O,e.attr({x2:c.x,y2:c.y})}if(w){if(w*w>x*x+T*T)return void N();var S=w*Math.cos(f),A=w*Math.sin(f);a.x-=S,a.y-=A,e.attr({x1:a.x,y1:a.y})}}else if("path"===d.nodeName){var E=d.getTotalLength(),M="";if(E<_+w)return void N();var C=d.getPointAtLength(0),I=d.getPointAtLength(.1);f=Math.atan2(C.y-I.y,C.x-I.x),a=d.getPointAtLength(Math.min(w,E)),M="0px,"+w+"px,";var D=d.getPointAtLength(E),P=d.getPointAtLength(E-.1);h=Math.atan2(D.y-P.y,D.x-P.x),c=d.getPointAtLength(Math.max(0,E-_)),M+=E-(M?w+_:_)+"px,"+E+"px",e.style("stroke-dasharray",M)}function N(){e.style("stroke-dasharray","0px,100px")}function L(t,o,a,c){t.path&&(t.noRotate&&(a=0),r.select(d.parentNode).append("path").attr({class:e.attr("class"),d:t.path,transform:l(o.x,o.y)+u(180*a/Math.PI)+s(c)}).style({fill:i.rgb(n.arrowcolor),"stroke-width":0}))}m&&L(v,a,f,g),b&&L(p,c,h,y)}},{"../../lib":230,"../color":100,"./arrow_paths":82,"@plotly/d3":11}],91:[function(e,t,n){"use strict";var r=e("./draw"),i=e("./click");t.exports={moduleType:"component",name:"annotations",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),includeBasePlot:e("../../plots/cartesian/include_components")("annotations"),calcAutorange:e("./calc_autorange"),draw:r.draw,drawOne:r.drawOne,drawRaw:r.drawRaw,hasClickToShow:i.hasClickToShow,onClick:i.onClick,convertCoords:e("./convert_coords")}},{"../../plots/cartesian/include_components":289,"./attributes":83,"./calc_autorange":84,"./click":85,"./convert_coords":87,"./defaults":88,"./draw":89}],92:[function(e,t,n){"use strict";var r=e("../annotations/attributes"),i=e("../../plot_api/edit_types").overrideAll,o=e("../../plot_api/plot_template").templatedArray;t.exports=i(o("annotation",{visible:r.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:r.xanchor,xshift:r.xshift,yanchor:r.yanchor,yshift:r.yshift,text:r.text,textangle:r.textangle,font:r.font,width:r.width,height:r.height,opacity:r.opacity,align:r.align,valign:r.valign,bgcolor:r.bgcolor,bordercolor:r.bordercolor,borderpad:r.borderpad,borderwidth:r.borderwidth,showarrow:r.showarrow,arrowcolor:r.arrowcolor,arrowhead:r.arrowhead,startarrowhead:r.startarrowhead,arrowside:r.arrowside,arrowsize:r.arrowsize,startarrowsize:r.startarrowsize,arrowwidth:r.arrowwidth,standoff:r.standoff,startstandoff:r.startstandoff,hovertext:r.hovertext,hoverlabel:r.hoverlabel,captureevents:r.captureevents}),"calc","from-root")},{"../../plot_api/edit_types":258,"../../plot_api/plot_template":265,"../annotations/attributes":83}],93:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes");function o(e,t){var n=t.fullSceneLayout.domain,o=t.fullLayout._size,a={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};e._xa={},r.extendFlat(e._xa,a),i.setConvert(e._xa),e._xa._offset=o.l+n.x[0]*o.w,e._xa.l2p=function(){return.5*(1+e._pdata[0]/e._pdata[3])*o.w*(n.x[1]-n.x[0])},e._ya={},r.extendFlat(e._ya,a),i.setConvert(e._ya),e._ya._offset=o.t+(1-n.y[1])*o.h,e._ya.l2p=function(){return.5*(1-e._pdata[1]/e._pdata[3])*o.h*(n.y[1]-n.y[0])}}t.exports=function(e){for(var t=e.fullSceneLayout.annotations,n=0;n<t.length;n++)o(t[n],e);e.fullLayout._infolayer.selectAll(".annotation-"+e.id).remove()}},{"../../lib":230,"../../plots/cartesian/axes":276}],94:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes"),o=e("../../plots/array_container_defaults"),a=e("../annotations/common_defaults"),s=e("./attributes");function u(e,t,n,o){function u(n,i){return r.coerce(e,t,s,n,i)}function l(e){var r=e+"axis",o={_fullLayout:{}};return o._fullLayout[r]=n[r],i.coercePosition(t,o,u,e,e,.5)}u("visible")&&(a(e,t,o.fullLayout,u),l("x"),l("y"),l("z"),r.noneOrAll(e,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",u("xanchor"),u("yanchor"),u("xshift"),u("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",u("ax",-10),u("ay",-30),r.noneOrAll(e,t,["ax","ay"])))}t.exports=function(e,t,n){o(e,t,{name:"annotations",handleItemDefaults:u,fullLayout:n.fullLayout})}},{"../../lib":230,"../../plots/array_container_defaults":271,"../../plots/cartesian/axes":276,"../annotations/common_defaults":86,"./attributes":92}],95:[function(e,t,n){"use strict";var r=e("../annotations/draw").drawRaw,i=e("../../plots/gl3d/project"),o=["x","y","z"];t.exports=function(e){for(var t=e.fullSceneLayout,n=e.dataScale,a=t.annotations,s=0;s<a.length;s++){for(var u=a[s],l=!1,c=0;c<3;c++){var f=o[c],h=u[f],d=t[f+"axis"].r2fraction(h);if(d<0||d>1){l=!0;break}}l?e.fullLayout._infolayer.select(".annotation-"+e.id+'[data-index="'+s+'"]').remove():(u._pdata=i(e.glplot.cameraParams,[t.xaxis.r2l(u.x)*n[0],t.yaxis.r2l(u.y)*n[1],t.zaxis.r2l(u.z)*n[2]]),r(e.graphDiv,u,s,e.id,u._xa,u._ya))}}},{"../../plots/gl3d/project":308,"../annotations/draw":89}],96:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../lib");function o(e,t){var n=r.subplotsRegistry.gl3d;if(n)for(var o=n.attrRegex,a=Object.keys(e),s=0;s<a.length;s++){var u=a[s];o.test(u)&&(e[u].annotations||[]).length&&(i.pushUnique(t._basePlotModules,n),i.pushUnique(t._subplots.gl3d,u))}}t.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e("./attributes")}}},layoutAttributes:e("./attributes"),handleDefaults:e("./defaults"),includeBasePlot:o,convert:e("./convert"),draw:e("./draw")}},{"../../lib":230,"../../registry":313,"./attributes":92,"./convert":93,"./defaults":94,"./draw":95}],97:[function(e,t,n){"use strict";t.exports=e("world-calendars/dist/main"),e("world-calendars/dist/plus"),e("world-calendars/dist/calendars/chinese"),e("world-calendars/dist/calendars/coptic"),e("world-calendars/dist/calendars/discworld"),e("world-calendars/dist/calendars/ethiopian"),e("world-calendars/dist/calendars/hebrew"),e("world-calendars/dist/calendars/islamic"),e("world-calendars/dist/calendars/julian"),e("world-calendars/dist/calendars/mayan"),e("world-calendars/dist/calendars/nanakshahi"),e("world-calendars/dist/calendars/nepali"),e("world-calendars/dist/calendars/persian"),e("world-calendars/dist/calendars/taiwan"),e("world-calendars/dist/calendars/thai"),e("world-calendars/dist/calendars/ummalqura")},{"world-calendars/dist/calendars/chinese":66,"world-calendars/dist/calendars/coptic":67,"world-calendars/dist/calendars/discworld":68,"world-calendars/dist/calendars/ethiopian":69,"world-calendars/dist/calendars/hebrew":70,"world-calendars/dist/calendars/islamic":71,"world-calendars/dist/calendars/julian":72,"world-calendars/dist/calendars/mayan":73,"world-calendars/dist/calendars/nanakshahi":74,"world-calendars/dist/calendars/nepali":75,"world-calendars/dist/calendars/persian":76,"world-calendars/dist/calendars/taiwan":77,"world-calendars/dist/calendars/thai":78,"world-calendars/dist/calendars/ummalqura":79,"world-calendars/dist/main":80,"world-calendars/dist/plus":81}],98:[function(e,t,n){"use strict";var r=e("./calendars"),i=e("../../lib"),o=e("../../constants/numerical"),a=o.EPOCHJD,s=o.ONEDAY,u={valType:"enumerated",values:Object.keys(r.calendars),editType:"calc",dflt:"gregorian"},l=function(e,t,n,r){var o={};return o[n]=u,i.coerce(e,t,o,n,r)},c=function(e,t,n,r){for(var i=0;i<n.length;i++)l(e,t,n[i]+"calendar",r.calendar)},f={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},h={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},d={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},p="##",v={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:p,w:p,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function y(e,t,n){for(var r,i,o,u,l,c=Math.floor((t+.05)/s)+a,f=m(n).fromJD(c),h=0;-1!==(h=e.indexOf("%",h));)"0"===(r=e.charAt(h+1))||"-"===r||"_"===r?(o=3,i=e.charAt(h+2),"_"===r&&(r="-")):(i=r,r="0",o=2),(u=v[i])?(l=u===p?p:f.formatDate(u[r]),e=e.substr(0,h)+l+e.substr(h+o),h+=l.length):h+=o;return e}var g={};function m(e){var t=g[e];return t||(t=g[e]=r.instance(e))}function b(e){return i.extendFlat({},u,{description:e})}function _(e){return"Sets the calendar system to use with `"+e+"` date data."}var w={xcalendar:b(_("x"))},x=i.extendFlat({},w,{ycalendar:b(_("y"))}),T=i.extendFlat({},x,{zcalendar:b(_("z"))}),k=b(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));t.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:x,bar:x,box:x,heatmap:x,contour:x,histogram:x,histogram2d:x,histogram2dcontour:x,scatter3d:T,surface:T,mesh3d:T,scattergl:x,ohlc:w,candlestick:w},layout:{calendar:b(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:k},yaxis:{calendar:k},scene:{xaxis:{calendar:k},yaxis:{calendar:k},zaxis:{calendar:k}},polar:{radialaxis:{calendar:k}}},transforms:{filter:{valuecalendar:b(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:b(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:u,handleDefaults:l,handleTraceDefaults:c,CANONICAL_SUNDAY:h,CANONICAL_TICK:f,DFLTRANGE:d,getCal:m,worldCalFmt:y}},{"../../constants/numerical":210,"../../lib":230,"./calendars":97}],99:[function(e,t,n){"use strict";n.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],n.defaultLine="#444",n.lightLine="#eee",n.background="#fff",n.borderLine="#BEC8D9",n.lightFraction=1e3/11},{}],100:[function(e,t,n){"use strict";var r=e("tinycolor2"),i=e("fast-isnumeric"),o=e("../../lib/array").isTypedArray,a=t.exports={},s=e("./attributes");a.defaults=s.defaults;var u=a.defaultLine=s.defaultLine;a.lightLine=s.lightLine;var l=a.background=s.background;function c(e){if(i(e)||"string"!==typeof e)return e;var t=e.trim();if("rgb"!==t.substr(0,3))return e;var n=t.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return e;var r=n[1].trim().split(/\s*[\s,]\s*/),o="a"===t.charAt(3)&&4===r.length;if(!o&&3!==r.length)return e;for(var a=0;a<r.length;a++){if(!r[a].length)return e;if(r[a]=Number(r[a]),!(r[a]>=0))return e;if(3===a)r[a]>1&&(r[a]=1);else if(r[a]>=1)return e}var s=Math.round(255*r[0])+", "+Math.round(255*r[1])+", "+Math.round(255*r[2]);return o?"rgba("+s+", "+r[3]+")":"rgb("+s+")"}a.tinyRGB=function(e){var t=e.toRgb();return"rgb("+Math.round(t.r)+", "+Math.round(t.g)+", "+Math.round(t.b)+")"},a.rgb=function(e){return a.tinyRGB(r(e))},a.opacity=function(e){return e?r(e).getAlpha():0},a.addOpacity=function(e,t){var n=r(e).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+t+")"},a.combine=function(e,t){var n=r(e).toRgb();if(1===n.a)return r(e).toRgbString();var i=r(t||l).toRgb(),o=1===i.a?i:{r:255*(1-i.a)+i.r*i.a,g:255*(1-i.a)+i.g*i.a,b:255*(1-i.a)+i.b*i.a},a={r:o.r*(1-n.a)+n.r*n.a,g:o.g*(1-n.a)+n.g*n.a,b:o.b*(1-n.a)+n.b*n.a};return r(a).toRgbString()},a.contrast=function(e,t,n){var i=r(e);return 1!==i.getAlpha()&&(i=r(a.combine(e,l))),(i.isDark()?t?i.lighten(t):l:n?i.darken(n):u).toString()},a.stroke=function(e,t){var n=r(t);e.style({stroke:a.tinyRGB(n),"stroke-opacity":n.getAlpha()})},a.fill=function(e,t){var n=r(t);e.style({fill:a.tinyRGB(n),"fill-opacity":n.getAlpha()})},a.clean=function(e){if(e&&"object"===typeof e){var t,n,r,i,s=Object.keys(e);for(t=0;t<s.length;t++)if(i=e[r=s[t]],"color"===r.substr(r.length-5))if(Array.isArray(i))for(n=0;n<i.length;n++)i[n]=c(i[n]);else e[r]=c(i);else if("colorscale"===r.substr(r.length-10)&&Array.isArray(i))for(n=0;n<i.length;n++)Array.isArray(i[n])&&(i[n][1]=c(i[n][1]));else if(Array.isArray(i)){var u=i[0];if(!Array.isArray(u)&&u&&"object"===typeof u)for(n=0;n<i.length;n++)a.clean(i[n])}else i&&"object"===typeof i&&!o(i)&&a.clean(i)}}},{"../../lib/array":216,"./attributes":99,"fast-isnumeric":15,tinycolor2:65}],101:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/layout_attributes"),i=e("../../plots/font_attributes"),o=e("../../lib/extend").extendFlat,a=e("../../plot_api/edit_types").overrideAll;t.exports=a({thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",dflt:1.02,min:-2,max:3},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",dflt:.5,min:-2,max:3},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle"},ypad:{valType:"number",min:0,dflt:10},outlinecolor:r.linecolor,outlinewidth:r.linewidth,bordercolor:r.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:r.tickmode,nticks:r.nticks,tick0:r.tick0,dtick:r.dtick,tickvals:r.tickvals,ticktext:r.ticktext,ticks:o({},r.ticks,{dflt:""}),ticklabeloverflow:o({},r.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside bottom","inside bottom"],dflt:"outside"},ticklen:r.ticklen,tickwidth:r.tickwidth,tickcolor:r.tickcolor,showticklabels:r.showticklabels,tickfont:i({}),tickangle:r.tickangle,tickformat:r.tickformat,tickformatstops:r.tickformatstops,tickprefix:r.tickprefix,showtickprefix:r.showtickprefix,ticksuffix:r.ticksuffix,showticksuffix:r.showticksuffix,separatethousands:r.separatethousands,exponentformat:r.exponentformat,minexponent:r.minexponent,showexponent:r.showexponent,title:{text:{valType:"string"},font:i({}),side:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}},_deprecated:{title:{valType:"string"},titlefont:i({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},{"../../lib/extend":224,"../../plot_api/edit_types":258,"../../plots/cartesian/layout_attributes":291,"../../plots/font_attributes":305}],102:[function(e,t,n){"use strict";t.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},{}],103:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plot_api/plot_template"),o=e("../../plots/cartesian/tick_value_defaults"),a=e("../../plots/cartesian/tick_mark_defaults"),s=e("../../plots/cartesian/tick_label_defaults"),u=e("./attributes");t.exports=function(e,t,n){var l=i.newContainer(t,"colorbar"),c=e.colorbar||{};function f(e,t){return r.coerce(c,l,u,e,t)}var h=f("thicknessmode");f("thickness","fraction"===h?30/(n.width-n.margin.l-n.margin.r):30);var d=f("lenmode");f("len","fraction"===d?1:n.height-n.margin.t-n.margin.b),f("x"),f("xanchor"),f("xpad"),f("y"),f("yanchor"),f("ypad"),r.noneOrAll(c,l,["x","y"]),f("outlinecolor"),f("outlinewidth"),f("bordercolor"),f("borderwidth"),f("bgcolor");var p=f("ticklabelposition");f("ticklabeloverflow",-1!==p.indexOf("inside")?"hide past domain":"hide past div"),o(c,l,f,"linear");var v=n.font,y={outerTicks:!1,font:v};-1!==p.indexOf("inside")&&(y.bgColor="black"),s(c,l,f,"linear",y),a(c,l,f,"linear",y),f("title.text",n._dfltTitle.colorbar);var g=l.tickfont,m=r.extendFlat({},g,{color:v.color,size:r.bigFont(g.size)});r.coerceFont(f,"title.font",m),f("title.side")}},{"../../lib":230,"../../plot_api/plot_template":265,"../../plots/cartesian/tick_label_defaults":298,"../../plots/cartesian/tick_mark_defaults":299,"../../plots/cartesian/tick_value_defaults":300,"./attributes":101}],104:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("tinycolor2"),o=e("../../plots/plots"),a=e("../../registry"),s=e("../../plots/cartesian/axes"),u=e("../dragelement"),l=e("../../lib"),c=l.strTranslate,f=e("../../lib/extend").extendFlat,h=e("../../lib/setcursor"),d=e("../drawing"),p=e("../color"),v=e("../titles"),y=e("../../lib/svg_text_utils"),g=e("../colorscale/helpers").flipScale,m=e("../../plots/cartesian/axis_defaults"),b=e("../../plots/cartesian/position_defaults"),_=e("../../plots/cartesian/layout_attributes"),w=e("../../constants/alignment"),x=w.LINE_SPACING,T=w.FROM_TL,k=w.FROM_BR,O=e("./constants").cn;function S(e){var t=e._fullLayout._infolayer.selectAll("g."+O.colorbar).data(A(e),(function(e){return e._id}));t.enter().append("g").attr("class",(function(e){return e._id})).classed(O.colorbar,!0),t.each((function(t){var n=r.select(this);l.ensureSingle(n,"rect",O.cbbg),l.ensureSingle(n,"g",O.cbfills),l.ensureSingle(n,"g",O.cblines),l.ensureSingle(n,"g",O.cbaxis,(function(e){e.classed(O.crisp,!0)})),l.ensureSingle(n,"g",O.cbtitleunshift,(function(e){e.append("g").classed(O.cbtitle,!0)})),l.ensureSingle(n,"rect",O.cboutline);var i=E(n,t,e);i&&i.then&&(e._promises||[]).push(i),e._context.edits.colorbarPosition&&M(n,t,e)})),t.exit().each((function(t){o.autoMargin(e,t._id)})).remove(),t.order()}function A(e){var t,n,r,i,o=e._fullLayout,a=e.calcdata,s=[];function u(e){return f(e,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function l(){"function"===typeof i.calc?i.calc(e,r,t):(t._fillgradient=n.reversescale?g(n.colorscale):n.colorscale,t._zrange=[n[i.min],n[i.max]])}for(var c=0;c<a.length;c++){var h=a[c],d=(r=h[0].trace)._module.colorbar;if(!0===r.visible&&d)for(var p=Array.isArray(d),v=p?d:[d],y=0;y<v.length;y++){var m=(i=v[y]).container;(n=m?r[m]:r)&&n.showscale&&((t=u(n.colorbar))._id="cb"+r.uid+(p&&m?"-"+m:""),t._traceIndex=r.index,t._propPrefix=(m?m+".":"")+"colorbar.",t._meta=r._meta,l(),s.push(t))}}for(var b in o._colorAxes)if((n=o[b]).showscale){var _=o._colorAxes[b];(t=u(n.colorbar))._id="cb"+b,t._propPrefix=b+".colorbar.",t._meta=o._meta,i={min:"cmin",max:"cmax"},"heatmap"!==_[0]&&(r=_[1],i.calc=r._module.colorbar.calc),l(),s.push(t)}return s}function E(e,t,n){var a=n._fullLayout,u=a._size,h=t._fillcolor,g=t._line,m=t.title,b=m.side,_=t._zrange||r.extent(("function"===typeof h?h:g.color).domain()),w="function"===typeof g.color?g.color:function(){return g.color},S="function"===typeof h?h:function(){return h},A=t._levels,E=C(n,t,_),M=E.fill,D=E.line,P=Math.round(t.thickness*("fraction"===t.thicknessmode?u.w:1)),N=P/u.w,L=Math.round(t.len*("fraction"===t.lenmode?u.h:1)),j=L/u.h,R=t.xpad/u.w,F=(t.borderwidth+t.outlinewidth)/2,z=t.ypad/u.h,U=Math.round(t.x*u.w+t.xpad),q=t.x-N*({middle:.5,right:1}[t.xanchor]||0),V=t.y+j*(({top:-.5,bottom:.5}[t.yanchor]||0)-.5),B=Math.round(u.h*(1-V)),H=B-L;t._lenFrac=j,t._thickFrac=N,t._xLeftFrac=q,t._yBottomFrac=V;var W=t._axis=I(n,t,_);if(W.position=t.x+R+N,-1!==["top","bottom"].indexOf(b)&&(W.title.side=b,W.titlex=t.x+R,W.titley=V+("top"===m.side?j-z:z)),g.color&&"auto"===t.tickmode){W.tickmode="linear",W.tick0=A.start;var Y=A.size,G=l.constrain((B-H)/50,4,15)+1,K=(_[1]-_[0])/((t.nticks||G)*Y);if(K>1){var X=Math.pow(10,Math.floor(Math.log(K)/Math.LN10));Y*=X*l.roundUp(K/X,[2,5,10]),(Math.abs(A.start)/A.size+1e-6)%1<2e-6&&(W.tick0=0)}W.dtick=Y}W.domain=[V+z,V+j-z],W.setScale(),e.attr("transform",c(Math.round(u.l),Math.round(u.t)));var Q,J=e.select("."+O.cbtitleunshift).attr("transform",c(-Math.round(u.l),-Math.round(u.t))),$=e.select("."+O.cbaxis),Z=0;function ee(r,i){var o={propContainer:W,propName:t._propPrefix+"title",traceIndex:t._traceIndex,_meta:t._meta,placeholder:a._dfltTitle.colorbar,containerGroup:e.select("."+O.cbtitle)},s="h"===r.charAt(0)?r.substr(1):"h"+r;e.selectAll("."+s+",."+s+"-math-group").remove(),v.draw(n,r,f(o,i||{}))}function te(){if(-1!==["top","bottom"].indexOf(b)){var e,n=u.l+(t.x+R)*u.w,r=W.title.font.size;e="top"===b?(1-(V+j-z))*u.h+u.t+3+.75*r:(1-(V+z))*u.h+u.t-3-.25*r,ee(W._id+"title",{attributes:{x:n,y:e,"text-anchor":"start"}})}}function ne(){if(-1===["top","bottom"].indexOf(b)){var e=W.title.font.size,t=W._offset+W._length/2,i=u.l+(W.position||0)*u.w+("right"===W.side?10+e*(W.showticklabels?1:.5):-10-e*(W.showticklabels?.5:0));ee("h"+W._id+"title",{avoid:{selection:r.select(n).selectAll("g."+W._id+"tick"),side:b,offsetLeft:u.l,offsetTop:0,maxShift:a.width},attributes:{x:i,y:t,"text-anchor":"middle"},transform:{rotate:"-90",offset:0}})}}function re(){if(-1!==["top","bottom"].indexOf(b)){var o=e.select("."+O.cbtitle),a=o.select("text"),f=[-t.outlinewidth/2,t.outlinewidth/2],h=o.select(".h"+W._id+"title-math-group").node(),p=15.6;if(a.node()&&(p=parseInt(a.node().style.fontSize,10)*x),h?(Z=d.bBox(h).height)>p&&(f[1]-=(Z-p)/2):a.node()&&!a.classed(O.jsPlaceholder)&&(Z=d.bBox(a.node()).height),Z){if(Z+=5,"top"===b)W.domain[1]-=Z/u.h,f[1]*=-1;else{W.domain[0]+=Z/u.h;var v=y.lineCount(a);f[1]+=(1-v)*p}o.attr("transform",c(f[0],f[1])),W.setScale()}}e.selectAll("."+O.cbfills+",."+O.cblines).attr("transform",c(0,Math.round(u.h*(1-W.domain[1])))),$.attr("transform",c(0,Math.round(-u.t)));var m=e.select("."+O.cbfills).selectAll("rect."+O.cbfill).attr("style","").data(M);m.enter().append("rect").classed(O.cbfill,!0).style("stroke","none"),m.exit().remove();var T=_.map(W.c2p).map(Math.round).sort((function(e,t){return e-t}));m.each((function(e,o){var a=[0===o?_[0]:(M[o]+M[o-1])/2,o===M.length-1?_[1]:(M[o]+M[o+1])/2].map(W.c2p).map(Math.round);a[1]=l.constrain(a[1]+(a[1]>a[0])?1:-1,T[0],T[1]);var s=r.select(this).attr({x:U,width:Math.max(P,2),y:r.min(a),height:Math.max(r.max(a)-r.min(a),2)});if(t._fillgradient)d.gradient(s,n,t._id,"vertical",t._fillgradient,"fill");else{var u=S(e).replace("e-","");s.attr("fill",i(u).toHexString())}}));var k=e.select("."+O.cblines).selectAll("path."+O.cbline).data(g.color&&g.width?D:[]);k.enter().append("path").classed(O.cbline,!0),k.exit().remove(),k.each((function(e){r.select(this).attr("d","M"+U+","+(Math.round(W.c2p(e))+g.width/2%1)+"h"+P).call(d.lineGroupStyle,g.width,w(e),g.dash)})),$.selectAll("g."+W._id+"tick,path").remove();var A=U+P+(t.outlinewidth||0)/2-("outside"===t.ticks?1:0),E=s.calcTicks(W),C=s.getTickSigns(W)[2];return s.drawTicks(n,W,{vals:"inside"===W.ticks?s.clipEnds(W,E):E,layer:$,path:s.makeTickPath(W,A,C),transFn:s.makeTransTickFn(W)}),s.drawLabels(n,W,{vals:E,layer:$,transFn:s.makeTransTickLabelFn(W),labelFns:s.makeLabelFns(W,A)})}function ie(){var r=P+t.outlinewidth/2;if(-1===W.ticklabelposition.indexOf("inside")&&(r+=d.bBox($.node()).width),(Q=J.select("text")).node()&&!Q.classed(O.jsPlaceholder)){var i,a=J.select(".h"+W._id+"title-math-group").node();i=a&&-1!==["top","bottom"].indexOf(b)?d.bBox(a).width:d.bBox(J.node()).right-U-u.l,r=Math.max(r,i)}var s=2*t.xpad+r+t.borderwidth+t.outlinewidth/2,l=B-H;e.select("."+O.cbbg).attr({x:U-t.xpad-(t.borderwidth+t.outlinewidth)/2,y:H-F,width:Math.max(s,2),height:Math.max(l+2*F,2)}).call(p.fill,t.bgcolor).call(p.stroke,t.bordercolor).style("stroke-width",t.borderwidth),e.selectAll("."+O.cboutline).attr({x:U,y:H+t.ypad+("top"===b?Z:0),width:Math.max(P,2),height:Math.max(l-2*t.ypad-Z,2)}).call(p.stroke,t.outlinecolor).style({fill:"none","stroke-width":t.outlinewidth});var f=({center:.5,right:1}[t.xanchor]||0)*s;e.attr("transform",c(u.l-f,u.t));var h={},v=T[t.yanchor],y=k[t.yanchor];"pixels"===t.lenmode?(h.y=t.y,h.t=l*v,h.b=l*y):(h.t=h.b=0,h.yt=t.y+t.len*v,h.yb=t.y-t.len*y);var g=T[t.xanchor],m=k[t.xanchor];if("pixels"===t.thicknessmode)h.x=t.x,h.l=s*g,h.r=s*m;else{var _=s-P;h.l=_*g,h.r=_*m,h.xl=t.x-t.thickness*g,h.xr=t.x+t.thickness*m}o.autoMargin(n,t._id,h)}return l.syncOrAsync([o.previousPromises,te,re,ne,o.previousPromises,ie],n)}function M(e,t,n){var r,i,o,s=n._fullLayout._size;u.init({element:e.node(),gd:n,prepFn:function(){r=e.attr("transform"),h(e)},moveFn:function(n,a){e.attr("transform",r+c(n,a)),i=u.align(t._xLeftFrac+n/s.w,t._thickFrac,0,1,t.xanchor),o=u.align(t._yBottomFrac-a/s.h,t._lenFrac,0,1,t.yanchor);var l=u.getCursor(i,o,t.xanchor,t.yanchor);h(e,l)},doneFn:function(){if(h(e),void 0!==i&&void 0!==o){var r={};r[t._propPrefix+"x"]=i,r[t._propPrefix+"y"]=o,void 0!==t._traceIndex?a.call("_guiRestyle",n,r,t._traceIndex):a.call("_guiRelayout",n,r)}}})}function C(e,t,n){var r,i,o=t._levels,a=[],s=[],u=o.end+o.size/100,l=o.size,c=1.001*n[0]-.001*n[1],f=1.001*n[1]-.001*n[0];for(i=0;i<1e5&&(r=o.start+i*l,!(l>0?r>=u:r<=u));i++)r>c&&r<f&&a.push(r);if(t._fillgradient)s=[0];else if("function"===typeof t._fillcolor){var h=t._filllevels;if(h)for(u=h.end+h.size/100,l=h.size,i=0;i<1e5&&(r=h.start+i*l,!(l>0?r>=u:r<=u));i++)r>n[0]&&r<n[1]&&s.push(r);else(s=a.map((function(e){return e-o.size/2}))).push(s[s.length-1]+o.size)}else t._fillcolor&&"string"===typeof t._fillcolor&&(s=[0]);return o.size<0&&(a.reverse(),s.reverse()),{line:a,fill:s}}function I(e,t,n){var r=e._fullLayout,i={type:"linear",range:n,tickmode:t.tickmode,nticks:t.nticks,tick0:t.tick0,dtick:t.dtick,tickvals:t.tickvals,ticktext:t.ticktext,ticks:t.ticks,ticklen:t.ticklen,tickwidth:t.tickwidth,tickcolor:t.tickcolor,showticklabels:t.showticklabels,ticklabelposition:t.ticklabelposition,ticklabeloverflow:t.ticklabeloverflow,tickfont:t.tickfont,tickangle:t.tickangle,tickformat:t.tickformat,exponentformat:t.exponentformat,minexponent:t.minexponent,separatethousands:t.separatethousands,showexponent:t.showexponent,showtickprefix:t.showtickprefix,tickprefix:t.tickprefix,showticksuffix:t.showticksuffix,ticksuffix:t.ticksuffix,title:t.title,showline:!0,anchor:"free",side:"right",position:1},o={type:"linear",_id:"y"+t._id},a={letter:"y",font:r.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:r.calendar};function s(e,t){return l.coerce(i,o,_,e,t)}return m(i,o,s,a,r),b(i,o,s,a),o}t.exports={draw:S}},{"../../constants/alignment":205,"../../lib":230,"../../lib/extend":224,"../../lib/setcursor":250,"../../lib/svg_text_utils":252,"../../plots/cartesian/axes":276,"../../plots/cartesian/axis_defaults":278,"../../plots/cartesian/layout_attributes":291,"../../plots/cartesian/position_defaults":294,"../../plots/plots":311,"../../registry":313,"../color":100,"../colorscale/helpers":111,"../dragelement":119,"../drawing":122,"../titles":198,"./constants":102,"@plotly/d3":11,tinycolor2:65}],105:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e){return r.isPlainObject(e.colorbar)}},{"../../lib":230}],106:[function(e,t,n){"use strict";t.exports={moduleType:"component",name:"colorbar",attributes:e("./attributes"),supplyDefaults:e("./defaults"),draw:e("./draw").draw,hasColorbar:e("./has_colorbar")}},{"./attributes":101,"./defaults":103,"./draw":104,"./has_colorbar":105}],107:[function(e,t,n){"use strict";var r=e("../colorbar/attributes"),i=e("../../lib/regex").counter,o=e("./scales.js").scales;function a(e){return"`"+e+"`"}Object.keys(o),t.exports=function(e,t){e=e||"";var n,s=(t=t||{}).cLetter||"c",u=("onlyIfNumerical"in t?t.onlyIfNumerical:Boolean(e),"noScale"in t?t.noScale:"marker.line"===e),l="showScaleDflt"in t?t.showScaleDflt:"z"===s,c="string"===typeof t.colorscaleDflt?o[t.colorscaleDflt]:null,f=t.editTypeOverride||"",h=e?e+".":"";"colorAttr"in t?(n=t.colorAttr,t.colorAttr):a(h+(n={z:"z",c:"color"}[s]));var d=s+"auto",p=s+"min",v=s+"max",y=s+"mid",g=(a(h+d),a(h+p),a(h+v),{});g[p]=g[v]=void 0;var m={};m[d]=!1;var b={};return"color"===n&&(b.color={valType:"color",arrayOk:!0,editType:f||"style"},t.anim&&(b.color.anim=!0)),b[d]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:g},b[p]={valType:"number",dflt:null,editType:f||"plot",impliedEdits:m},b[v]={valType:"number",dflt:null,editType:f||"plot",impliedEdits:m},b[y]={valType:"number",dflt:null,editType:"calc",impliedEdits:g},b.colorscale={valType:"colorscale",editType:"calc",dflt:c,impliedEdits:{autocolorscale:!1}},b.autocolorscale={valType:"boolean",dflt:!1!==t.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0}},b.reversescale={valType:"boolean",dflt:!1,editType:"plot"},u||(b.showscale={valType:"boolean",dflt:l,editType:"calc"},b.colorbar=r),t.noColorAxis||(b.coloraxis={valType:"subplotid",regex:i("coloraxis"),dflt:null,editType:"calc"}),b}},{"../../lib/regex":246,"../colorbar/attributes":101,"./scales.js":115}],108:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),o=e("./helpers").extractOpts;t.exports=function(e,t,n){var a,s=e._fullLayout,u=n.vals,l=n.containerStr,c=l?i.nestedProperty(t,l).get():t,f=o(c),h=!1!==f.auto,d=f.min,p=f.max,v=f.mid,y=function(){return i.aggNums(Math.min,null,u)},g=function(){return i.aggNums(Math.max,null,u)};void 0===d?d=y():h&&(d=c._colorAx&&r(d)?Math.min(d,y()):y()),void 0===p?p=g():h&&(p=c._colorAx&&r(p)?Math.max(p,g()):g()),h&&void 0!==v&&(p-v>v-d?d=v-(p-v):p-v<v-d&&(p=v+(v-d))),d===p&&(d-=.5,p+=.5),f._sync("min",d),f._sync("max",p),f.autocolorscale&&(a=d*p<0?s.colorscale.diverging:d>=0?s.colorscale.sequential:s.colorscale.sequentialminus,f._sync("colorscale",a))}},{"../../lib":230,"./helpers":111,"fast-isnumeric":15}],109:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./helpers").hasColorscale,o=e("./helpers").extractOpts;t.exports=function(e,t){function n(e,t){var n=e["_"+t];void 0!==n&&(e[t]=n)}function a(e,i){var a=i.container?r.nestedProperty(e,i.container).get():e;if(a)if(a.coloraxis)a._colorAx=t[a.coloraxis];else{var s=o(a),u=s.auto;(u||void 0===s.min)&&n(a,i.min),(u||void 0===s.max)&&n(a,i.max),s.autocolorscale&&n(a,"colorscale")}}for(var s=0;s<e.length;s++){var u=e[s],l=u._module.colorbar;if(l)if(Array.isArray(l))for(var c=0;c<l.length;c++)a(u,l[c]);else a(u,l);i(u,"marker.line")&&a(u,{container:"marker.line",min:"cmin",max:"cmax"})}for(var f in t._colorAxes)a(t[f],{min:"cmin",max:"cmax"})}},{"../../lib":230,"./helpers":111}],110:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),o=e("../colorbar/has_colorbar"),a=e("../colorbar/defaults"),s=e("./scales").isValid,u=e("../../registry").traceIs;function l(e,t){var n=t.slice(0,t.length-1);return t?i.nestedProperty(e,n).get()||{}:e}t.exports=function e(t,n,c,f,h){var d=h.prefix,p=h.cLetter,v="_module"in n,y=l(t,d),g=l(n,d),m=l(n._template||{},d)||{},b=function(){return delete t.coloraxis,delete n.coloraxis,e(t,n,c,f,h)};if(v){var _=c._colorAxes||{},w=f(d+"coloraxis");if(w){var x=u(n,"contour")&&i.nestedProperty(n,"contours.coloring").get()||"heatmap",T=_[w];return void(T?(T[2].push(b),T[0]!==x&&(T[0]=!1,i.warn(["Ignoring coloraxis:",w,"setting","as it is linked to incompatible colorscales."].join(" ")))):_[w]=[x,n,[b]])}}var k=y[p+"min"],O=y[p+"max"],S=r(k)&&r(O)&&k<O;f(d+p+"auto",!S)?f(d+p+"mid"):(f(d+p+"min"),f(d+p+"max"));var A,E,M=y.colorscale,C=m.colorscale;void 0!==M&&(A=!s(M)),void 0!==C&&(A=!s(C)),f(d+"autocolorscale",A),f(d+"colorscale"),f(d+"reversescale"),"marker.line."!==d&&(d&&v&&(E=o(y)),f(d+"showscale",E)&&(d&&m&&(g._template=m),a(y,g,c)))}},{"../../lib":230,"../../registry":313,"../colorbar/defaults":103,"../colorbar/has_colorbar":105,"./scales":115,"fast-isnumeric":15}],111:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("tinycolor2"),o=e("fast-isnumeric"),a=e("../../lib"),s=e("../color"),u=e("./scales").isValid;function l(e,t,n){var r=t?a.nestedProperty(e,t).get()||{}:e,i=r[n||"color"],s=!1;if(a.isArrayOrTypedArray(i))for(var l=0;l<i.length;l++)if(o(i[l])){s=!0;break}return a.isPlainObject(r)&&(s||!0===r.showscale||o(r.cmin)&&o(r.cmax)||u(r.colorscale)||a.isPlainObject(r.colorbar))}var c=["showscale","autocolorscale","colorscale","reversescale","colorbar"],f=["min","max","mid","auto"];function h(e){var t,n,r,i=e._colorAx,o=i||e,a={};for(n=0;n<c.length;n++)a[r=c[n]]=o[r];if(i)for(t="c",n=0;n<f.length;n++)a[r=f[n]]=o["c"+r];else{var s;for(n=0;n<f.length;n++)((s="c"+(r=f[n]))in o||(s="z"+r)in o)&&(a[r]=o[s]);t=s.charAt(0)}return a._sync=function(e,n){var r=-1!==f.indexOf(e)?t+e:e;o[r]=o["_"+r]=n},a}function d(e){for(var t=h(e),n=t.min,r=t.max,i=t.reversescale?p(t.colorscale):t.colorscale,o=i.length,a=new Array(o),s=new Array(o),u=0;u<o;u++){var l=i[u];a[u]=n+l[0]*(r-n),s[u]=l[1]}return{domain:a,range:s}}function p(e){for(var t=e.length,n=new Array(t),r=t-1,i=0;r>=0;r--,i++){var o=e[r];n[i]=[1-o[0],o[1]]}return n}function v(e,t){t=t||{};for(var n=e.domain,a=e.range,u=a.length,l=new Array(u),c=0;c<u;c++){var f=i(a[c]).toRgb();l[c]=[f.r,f.g,f.b,f.a]}var h,d=r.scale.linear().domain(n).range(l).clamp(!0),p=t.noNumericCheck,v=t.returnArray;return(h=p&&v?d:p?function(e){return g(d(e))}:v?function(e){return o(e)?d(e):i(e).isValid()?e:s.defaultLine}:function(e){return o(e)?g(d(e)):i(e).isValid()?e:s.defaultLine}).domain=d.domain,h.range=function(){return a},h}function y(e,t){return v(d(e),t)}function g(e){var t={r:e[0],g:e[1],b:e[2],a:e[3]};return i(t).toRgbString()}t.exports={hasColorscale:l,extractOpts:h,extractScale:d,flipScale:p,makeColorScaleFunc:v,makeColorScaleFuncFromTrace:y}},{"../../lib":230,"../color":100,"./scales":115,"@plotly/d3":11,"fast-isnumeric":15,tinycolor2:65}],112:[function(e,t,n){"use strict";var r=e("./scales"),i=e("./helpers");t.exports={moduleType:"component",name:"colorscale",attributes:e("./attributes"),layoutAttributes:e("./layout_attributes"),supplyLayoutDefaults:e("./layout_defaults"),handleDefaults:e("./defaults"),crossTraceDefaults:e("./cross_trace_defaults"),calc:e("./calc"),scales:r.scales,defaultScale:r.defaultScale,getScale:r.get,isValidScale:r.isValid,hasColorscale:i.hasColorscale,extractOpts:i.extractOpts,extractScale:i.extractScale,flipScale:i.flipScale,makeColorScaleFunc:i.makeColorScaleFunc,makeColorScaleFuncFromTrace:i.makeColorScaleFuncFromTrace}},{"./attributes":107,"./calc":108,"./cross_trace_defaults":109,"./defaults":110,"./helpers":111,"./layout_attributes":113,"./layout_defaults":114,"./scales":115}],113:[function(e,t,n){"use strict";var r=e("../../lib/extend").extendFlat,i=e("./attributes"),o=e("./scales").scales;t.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:o.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:o.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:o.RdBu,editType:"calc"}},coloraxis:r({_isSubplotObj:!0,editType:"calc"},i("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},{"../../lib/extend":224,"./attributes":107,"./scales":115}],114:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plot_api/plot_template"),o=e("./layout_attributes"),a=e("./defaults");t.exports=function(e,t){function n(n,i){return r.coerce(e,t,o,n,i)}n("colorscale.sequential"),n("colorscale.sequentialminus"),n("colorscale.diverging");var s,u,l=t._colorAxes;function c(e,t){return r.coerce(s,u,o.coloraxis,e,t)}for(var f in l){var h=l[f];if(h[0])s=e[f]||{},(u=i.newContainer(t,f,"coloraxis"))._name=f,a(s,u,t,c,{prefix:"",cLetter:"c"});else{for(var d=0;d<h[2].length;d++)h[2][d]();delete t._colorAxes[f]}}}},{"../../lib":230,"../../plot_api/plot_template":265,"./defaults":110,"./layout_attributes":113}],115:[function(e,t,n){"use strict";var r=e("tinycolor2"),i={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},o=i.RdBu;function a(e,t){if(t||(t=o),!e)return t;function n(){try{e=i[e]||JSON.parse(e)}catch(n){e=t}}return"string"===typeof e&&(n(),"string"===typeof e&&n()),s(e)?e:t}function s(e){var t=0;if(!Array.isArray(e)||e.length<2)return!1;if(!e[0]||!e[e.length-1])return!1;if(0!==+e[0][0]||1!==+e[e.length-1][0])return!1;for(var n=0;n<e.length;n++){var i=e[n];if(2!==i.length||+i[0]<t||!r(i[1]).isValid())return!1;t=+i[0]}return!0}function u(e){return void 0!==i[e]||s(e)}t.exports={scales:i,defaultScale:o,get:a,isValid:u}},{tinycolor2:65}],116:[function(e,t,n){"use strict";t.exports=function(e,t,n,r,i){var o=(e-n)/(r-n),a=o+t/(r-n),s=(o+a)/2;return"left"===i||"bottom"===i?o:"center"===i||"middle"===i?s:"right"===i||"top"===i?a:o<2/3-s?o:a>4/3-s?a:s}},{}],117:[function(e,t,n){"use strict";var r=e("../../lib"),i=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];t.exports=function(e,t,n,o){return e="left"===n?0:"center"===n?1:"right"===n?2:r.constrain(Math.floor(3*e),0,2),t="bottom"===o?0:"middle"===o?1:"top"===o?2:r.constrain(Math.floor(3*t),0,2),i[t][e]}},{"../../lib":230}],118:[function(e,t,n){"use strict";n.selectMode=function(e){return"lasso"===e||"select"===e},n.drawMode=function(e){return"drawclosedpath"===e||"drawopenpath"===e||"drawline"===e||"drawrect"===e||"drawcircle"===e},n.openMode=function(e){return"drawline"===e||"drawopenpath"===e},n.rectMode=function(e){return"select"===e||"drawline"===e||"drawrect"===e||"drawcircle"===e},n.freeMode=function(e){return"lasso"===e||"drawclosedpath"===e||"drawopenpath"===e},n.selectingOrDrawing=function(e){return n.freeMode(e)||n.rectMode(e)}},{}],119:[function(e,t,n){"use strict";var r=e("mouse-event-offset"),i=e("has-hover"),o=e("has-passive-events"),a=e("../../lib").removeElement,s=e("../../plots/cartesian/constants"),u=t.exports={};u.align=e("./align"),u.getCursor=e("./cursor");var l=e("./unhover");function c(){var e=document.createElement("div");e.className="dragcover";var t=e.style;return t.position="fixed",t.left=0,t.right=0,t.top=0,t.bottom=0,t.zIndex=999999999,t.background="none",document.body.appendChild(e),e}function f(e){return r(e.changedTouches?e.changedTouches[0]:e,document.body)}u.unhover=l.wrapped,u.unhoverRaw=l.raw,u.init=function(e){var t,n,r,l,h,d,p,v,y=e.gd,g=1,m=y._context.doubleClickDelay,b=e.element;function _(e,t,n){return Math.abs(e)<n&&(e=0),Math.abs(t)<n&&(t=0),[e,t]}y._mouseDownTime||(y._mouseDownTime=0),b.style.pointerEvents="all",b.onmousedown=x,o?(b._ontouchstart&&b.removeEventListener("touchstart",b._ontouchstart),b._ontouchstart=x,b.addEventListener("touchstart",x,{passive:!1})):b.ontouchstart=x;var w=e.clampFn||_;function x(o){y._dragged=!1,y._dragging=!0;var a=f(o);t=a[0],n=a[1],p=o.target,d=o,v=2===o.buttons||o.ctrlKey,"undefined"===typeof o.clientX&&"undefined"===typeof o.clientY&&(o.clientX=t,o.clientY=n),(r=(new Date).getTime())-y._mouseDownTime<m?g+=1:(g=1,y._mouseDownTime=r),e.prepFn&&e.prepFn(o,t,n),i&&!v?(h=c()).style.cursor=window.getComputedStyle(b).cursor:i||(h=document,l=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(b).cursor),document.addEventListener("mouseup",k),document.addEventListener("touchend",k),!1!==e.dragmode&&(o.preventDefault(),document.addEventListener("mousemove",T),document.addEventListener("touchmove",T,{passive:!1}))}function T(r){r.preventDefault();var i=f(r),o=e.minDrag||s.MINDRAG,a=w(i[0]-t,i[1]-n,o),l=a[0],c=a[1];(l||c)&&(y._dragged=!0,u.unhover(y,r)),y._dragged&&e.moveFn&&!v&&(y._dragdata={element:b,dx:l,dy:c},e.moveFn(l,c))}function k(t){if(delete y._dragdata,!1!==e.dragmode&&(t.preventDefault(),document.removeEventListener("mousemove",T),document.removeEventListener("touchmove",T)),document.removeEventListener("mouseup",k),document.removeEventListener("touchend",k),i?a(h):l&&(h.documentElement.style.cursor=l,l=null),y._dragging){if(y._dragging=!1,(new Date).getTime()-y._mouseDownTime>m&&(g=Math.max(g-1,1)),y._dragged)e.doneFn&&e.doneFn();else if(e.clickFn&&e.clickFn(g,d),!v){var n;try{n=new MouseEvent("click",t)}catch(o){var r=f(t);(n=document.createEvent("MouseEvents")).initMouseEvent("click",t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,r[0],r[1],t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget)}p.dispatchEvent(n)}y._dragging=!1,y._dragged=!1}else y._dragged=!1}},u.coverSlip=c},{"../../lib":230,"../../plots/cartesian/constants":283,"./align":116,"./cursor":117,"./unhover":120,"has-hover":46,"has-passive-events":47,"mouse-event-offset":51}],120:[function(e,t,n){"use strict";var r=e("../../lib/events"),i=e("../../lib/throttle"),o=e("../../lib/dom").getGraphDiv,a=e("../fx/constants"),s=t.exports={};s.wrapped=function(e,t,n){(e=o(e))._fullLayout&&i.clear(e._fullLayout._uid+a.HOVERID),s.raw(e,t,n)},s.raw=function(e,t){var n=e._fullLayout,i=e._hoverdata;t||(t={}),t.target&&!e._dragged&&!1===r.triggerHandler(e,"plotly_beforehover",t)||(n._hoverlayer.selectAll("g").remove(),n._hoverlayer.selectAll("line").remove(),n._hoverlayer.selectAll("circle").remove(),e._hoverdata=void 0,t.target&&i&&e.emit("plotly_unhover",{event:t,points:i}))}},{"../../lib/dom":222,"../../lib/events":223,"../../lib/throttle":253,"../fx/constants":134}],121:[function(e,t,n){"use strict";n.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},n.pattern={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},{}],122:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("fast-isnumeric"),o=e("tinycolor2"),a=e("../../registry"),s=e("../color"),u=e("../colorscale"),l=e("../../lib"),c=l.strTranslate,f=e("../../lib/svg_text_utils"),h=e("../../constants/xmlns_namespaces"),d=e("../../constants/alignment").LINE_SPACING,p=e("../../constants/interactions").DESELECTDIM,v=e("../../traces/scatter/subtypes"),y=e("../../traces/scatter/make_bubble_size_func"),g=e("../../components/fx/helpers").appendArrayPointValue,m=t.exports={};m.font=function(e,t,n,r){l.isPlainObject(t)&&(r=t.color,n=t.size,t=t.family),t&&e.style("font-family",t),n+1&&e.style("font-size",n+"px"),r&&e.call(s.fill,r)},m.setPosition=function(e,t,n){e.attr("x",t).attr("y",n)},m.setSize=function(e,t,n){e.attr("width",t).attr("height",n)},m.setRect=function(e,t,n,r,i){e.call(m.setPosition,t,n).call(m.setSize,r,i)},m.translatePoint=function(e,t,n,r){var o=n.c2p(e.x),a=r.c2p(e.y);return!!(i(o)&&i(a)&&t.node())&&("text"===t.node().nodeName?t.attr("x",o).attr("y",a):t.attr("transform",c(o,a)),!0)},m.translatePoints=function(e,t,n){e.each((function(e){var i=r.select(this);m.translatePoint(e,i,t,n)}))},m.hideOutsideRangePoint=function(e,t,n,r,i,o){t.attr("display",n.isPtWithinRange(e,i)&&r.isPtWithinRange(e,o)?null:"none")},m.hideOutsideRangePoints=function(e,t){if(t._hasClipOnAxisFalse){var n=t.xaxis,i=t.yaxis;e.each((function(t){var o=t[0].trace,s=o.xcalendar,u=o.ycalendar,l=a.traceIs(o,"bar-like")?".bartext":".point,.textpoint";e.selectAll(l).each((function(e){m.hideOutsideRangePoint(e,r.select(this),n,i,s,u)}))}))}},m.crispRound=function(e,t,n){return t&&i(t)?e._context.staticPlot?t:t<1?1:Math.round(t):n||0},m.singleLineStyle=function(e,t,n,r,i){t.style("fill","none");var o=(((e||[])[0]||{}).trace||{}).line||{},a=n||o.width||0,u=i||o.dash||"";s.stroke(t,r||o.color),m.dashLine(t,u,a)},m.lineGroupStyle=function(e,t,n,i){e.style("fill","none").each((function(e){var o=(((e||[])[0]||{}).trace||{}).line||{},a=t||o.width||0,u=i||o.dash||"";r.select(this).call(s.stroke,n||o.color).call(m.dashLine,u,a)}))},m.dashLine=function(e,t,n){n=+n||0,t=m.dashStyle(t,n),e.style({"stroke-dasharray":t,"stroke-width":n+"px"})},m.dashStyle=function(e,t){t=+t||1;var n=Math.max(t,3);return"solid"===e?e="":"dot"===e?e=n+"px,"+n+"px":"dash"===e?e=3*n+"px,"+3*n+"px":"longdash"===e?e=5*n+"px,"+5*n+"px":"dashdot"===e?e=3*n+"px,"+n+"px,"+n+"px,"+n+"px":"longdashdot"===e&&(e=5*n+"px,"+2*n+"px,"+n+"px,"+2*n+"px"),e},m.singleFillStyle=function(e){var t=(((r.select(e.node()).data()[0]||[])[0]||{}).trace||{}).fillcolor;t&&e.call(s.fill,t)},m.fillGroupStyle=function(e){e.style("stroke-width",0).each((function(e){var t=r.select(this);e[0].trace&&t.call(s.fill,e[0].trace.fillcolor)}))};var b=e("./symbol_defs");m.symbolNames=[],m.symbolFuncs=[],m.symbolNeedLines={},m.symbolNoDot={},m.symbolNoFill={},m.symbolList=[],Object.keys(b).forEach((function(e){var t=b[e],n=t.n;m.symbolList.push(n,String(n),e,n+100,String(n+100),e+"-open"),m.symbolNames[n]=e,m.symbolFuncs[n]=t.f,t.needLine&&(m.symbolNeedLines[n]=!0),t.noDot?m.symbolNoDot[n]=!0:m.symbolList.push(n+200,String(n+200),e+"-dot",n+300,String(n+300),e+"-open-dot"),t.noFill&&(m.symbolNoFill[n]=!0)}));var _=m.symbolNames.length,w="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";function x(e,t){var n=e%100;return m.symbolFuncs[n](t)+(e>=200?w:"")}m.symbolNumber=function(e){if(i(e))e=+e;else if("string"===typeof e){var t=0;e.indexOf("-open")>0&&(t=100,e=e.replace("-open","")),e.indexOf("-dot")>0&&(t+=200,e=e.replace("-dot","")),(e=m.symbolNames.indexOf(e))>=0&&(e+=t)}return e%100>=_||e>=400?0:Math.floor(Math.max(e,0))};var T={x1:1,x2:0,y1:0,y2:0},k={x1:0,x2:0,y1:1,y2:0},O=r.format("~.1f"),S={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:T},horizontalreversed:{node:"linearGradient",attrs:T,reversed:!0},vertical:{node:"linearGradient",attrs:k},verticalreversed:{node:"linearGradient",attrs:k,reversed:!0}};m.gradient=function(e,t,n,i,a,u){for(var c=a.length,f=S[i],h=new Array(c),d=0;d<c;d++)f.reversed?h[c-1-d]=[O(100*(1-a[d][0])),a[d][1]]:h[d]=[O(100*a[d][0]),a[d][1]];var p=t._fullLayout,v="g"+p._uid+"-"+n,y=p._defs.select(".gradients").selectAll("#"+v).data([i+h.join(";")],l.identity);y.exit().remove(),y.enter().append(f.node).each((function(){var e=r.select(this);f.attrs&&e.attr(f.attrs),e.attr("id",v);var t=e.selectAll("stop").data(h);t.exit().remove(),t.enter().append("stop"),t.each((function(e){var t=o(e[1]);r.select(this).attr({offset:e[0]+"%","stop-color":s.tinyRGB(t),"stop-opacity":t.getAlpha()})}))})),e.style(u,R(v,t)).style(u+"-opacity",null);var g=function(e){return"."+e.attr("class").replace(/\s/g,".")},m=g(r.select(e.node().parentNode))+">"+g(e);p._gradientUrlQueryParts[m]=1},m.pattern=function(e,t,n,i,o,a,u,c,f,h,d,p){var v="legend"===t;c&&("overlay"===f?(h=c,d=s.contrast(h)):(h=void 0,d=c));var y,g,m,b,_,w,x=n._fullLayout,T="p"+x._uid+"-"+i,k=function(e,t,n,r,i){return r+(i-r)*(e-t)/(n-t)},O={};switch(o){case"/":y=a*Math.sqrt(2),g=a*Math.sqrt(2),w="path",O={d:m="M-"+y/4+","+g/4+"l"+y/2+",-"+g/2+"M0,"+g+"L"+y+",0M"+y/4*3+","+g/4*5+"l"+y/2+",-"+g/2,opacity:p,stroke:d,"stroke-width":(b=u*a)+"px"};break;case"\\":y=a*Math.sqrt(2),g=a*Math.sqrt(2),w="path",O={d:m="M"+y/4*3+",-"+g/4+"l"+y/2+","+g/2+"M0,0L"+y+","+g+"M-"+y/4+","+g/4*3+"l"+y/2+","+g/2,opacity:p,stroke:d,"stroke-width":(b=u*a)+"px"};break;case"x":y=a*Math.sqrt(2),g=a*Math.sqrt(2),m="M-"+y/4+","+g/4+"l"+y/2+",-"+g/2+"M0,"+g+"L"+y+",0M"+y/4*3+","+g/4*5+"l"+y/2+",-"+g/2+"M"+y/4*3+",-"+g/4+"l"+y/2+","+g/2+"M0,0L"+y+","+g+"M-"+y/4+","+g/4*3+"l"+y/2+","+g/2,b=a-a*Math.sqrt(1-u),w="path",O={d:m,opacity:p,stroke:d,"stroke-width":b+"px"};break;case"|":w="path",w="path",O={d:m="M"+(y=a)/2+",0L"+y/2+","+(g=a),opacity:p,stroke:d,"stroke-width":(b=u*a)+"px"};break;case"-":w="path",w="path",O={d:m="M0,"+(g=a)/2+"L"+(y=a)+","+g/2,opacity:p,stroke:d,"stroke-width":(b=u*a)+"px"};break;case"+":w="path",m="M"+(y=a)/2+",0L"+y/2+","+(g=a)+"M0,"+g/2+"L"+y+","+g/2,b=a-a*Math.sqrt(1-u),w="path",O={d:m,opacity:p,stroke:d,"stroke-width":b+"px"};break;case".":y=a,g=a,_=u<Math.PI/4?Math.sqrt(u*a*a/Math.PI):k(u,Math.PI/4,1,a/2,a/Math.sqrt(2)),w="circle",O={cx:y/2,cy:g/2,r:_,opacity:p,fill:d}}var S=[o||"noSh",h||"noBg",d||"noFg",a,u].join(";"),A=x._defs.select(".patterns").selectAll("#"+T).data([S],l.identity);A.exit().remove(),A.enter().append("pattern").each((function(){var e=r.select(this);if(e.attr({id:T,width:y+"px",height:g+"px",patternUnits:"userSpaceOnUse",patternTransform:v?"scale(0.8)":""}),h){var t=e.selectAll("rect").data([0]);t.exit().remove(),t.enter().append("rect").attr({width:y+"px",height:g+"px",fill:h})}var n=e.selectAll(w).data([0]);n.exit().remove(),n.enter().append(w).attr(O)})),e.style("fill",R(T,n)).style("fill-opacity",null),e.classed("pattern_filled",!0);var E="."+r.select(e.node().parentNode).attr("class").replace(/\s/g,".")+">.pattern_filled";x._patternUrlQueryParts[E]=1},m.initGradients=function(e){var t=e._fullLayout;l.ensureSingle(t._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),t._gradientUrlQueryParts={}},m.initPatterns=function(e){var t=e._fullLayout;l.ensureSingle(t._defs,"g","patterns").selectAll("pattern").remove(),t._patternUrlQueryParts={}},m.getPatternAttr=function(e,t,n){return e&&l.isArrayOrTypedArray(e)?t<e.length?e[t]:n:e},m.pointStyle=function(e,t,n){if(e.size()){var i=m.makePointStyleFns(t);e.each((function(e){m.singlePointStyle(e,r.select(this),t,i,n)}))}},m.singlePointStyle=function(e,t,n,r,i){var o=n.marker,a=o.line;if(t.style("opacity",r.selectedOpacityFn?r.selectedOpacityFn(e):void 0===e.mo?o.opacity:e.mo),r.ms2mrc){var u;u="various"===e.ms||"various"===o.size?3:r.ms2mrc(e.ms),e.mrc=u,r.selectedSizeFn&&(u=e.mrc=r.selectedSizeFn(e));var c=m.symbolNumber(e.mx||o.symbol)||0;e.om=c%200>=100,t.attr("d",x(c,u))}var f,h,d,p=!1;if(e.so)d=a.outlierwidth,h=a.outliercolor,f=o.outliercolor;else{var v=(a||{}).width;d=(e.mlw+1||v+1||(e.trace?(e.trace.marker.line||{}).width:0)+1)-1||0,h="mlc"in e?e.mlcc=r.lineScale(e.mlc):l.isArrayOrTypedArray(a.color)?s.defaultLine:a.color,l.isArrayOrTypedArray(o.color)&&(f=s.defaultLine,p=!0),f="mc"in e?e.mcc=r.markerScale(e.mc):o.color||"rgba(0,0,0,0)",r.selectedColorFn&&(f=r.selectedColorFn(e))}if(e.om)t.call(s.stroke,f).style({"stroke-width":(d||1)+"px",fill:"none"});else{t.style("stroke-width",(e.isBlank?0:d)+"px");var y=o.gradient,g=e.mgt;g?p=!0:g=y&&y.type,l.isArrayOrTypedArray(g)&&(g=g[0],S[g]||(g=0));var b=o.pattern,_=b&&m.getPatternAttr(b.shape,e.i,"");if(g&&"none"!==g){var w=e.mgc;w?p=!0:w=y.color;var T=n.uid;p&&(T+="-"+e.i),m.gradient(t,i,T,g,[[0,w],[1,f]],"fill")}else if(_){var k=m.getPatternAttr(b.bgcolor,e.i,null),O=m.getPatternAttr(b.fgcolor,e.i,null),A=b.fgopacity,E=m.getPatternAttr(b.size,e.i,8),M=m.getPatternAttr(b.solidity,e.i,.3),C=e.mcc||l.isArrayOrTypedArray(b.shape)||l.isArrayOrTypedArray(b.bgcolor)||l.isArrayOrTypedArray(b.size)||l.isArrayOrTypedArray(b.solidity),I=n.uid;C&&(I+="-"+e.i),m.pattern(t,"point",i,I,_,E,M,e.mcc,b.fillmode,k,O,A)}else s.fill(t,f);d&&s.stroke(t,h)}},m.makePointStyleFns=function(e){var t={},n=e.marker;return t.markerScale=m.tryColorscale(n,""),t.lineScale=m.tryColorscale(n,"line"),a.traceIs(e,"symbols")&&(t.ms2mrc=v.isBubble(e)?y(e):function(){return(n.size||6)/2}),e.selectedpoints&&l.extendFlat(t,m.makeSelectedPointStyleFns(e)),t},m.makeSelectedPointStyleFns=function(e){var t={},n=e.selected||{},r=e.unselected||{},i=e.marker||{},o=n.marker||{},s=r.marker||{},u=i.opacity,c=o.opacity,f=s.opacity,h=void 0!==c,d=void 0!==f;(l.isArrayOrTypedArray(u)||h||d)&&(t.selectedOpacityFn=function(e){var t=void 0===e.mo?i.opacity:e.mo;return e.selected?h?c:t:d?f:p*t});var v=i.color,y=o.color,g=s.color;(y||g)&&(t.selectedColorFn=function(e){var t=e.mcc||v;return e.selected?y||t:g||t});var m=i.size,b=o.size,_=s.size,w=void 0!==b,x=void 0!==_;return a.traceIs(e,"symbols")&&(w||x)&&(t.selectedSizeFn=function(e){var t=e.mrc||m/2;return e.selected?w?b/2:t:x?_/2:t}),t},m.makeSelectedTextStyleFns=function(e){var t={},n=e.selected||{},r=e.unselected||{},i=e.textfont||{},o=n.textfont||{},a=r.textfont||{},u=i.color,l=o.color,c=a.color;return t.selectedTextColorFn=function(e){var t=e.tc||u;return e.selected?l||t:c||(l?t:s.addOpacity(t,p))},t},m.selectedPointStyle=function(e,t){if(e.size()&&t.selectedpoints){var n=m.makeSelectedPointStyleFns(t),i=t.marker||{},o=[];n.selectedOpacityFn&&o.push((function(e,t){e.style("opacity",n.selectedOpacityFn(t))})),n.selectedColorFn&&o.push((function(e,t){s.fill(e,n.selectedColorFn(t))})),n.selectedSizeFn&&o.push((function(e,t){var r=t.mx||i.symbol||0,o=n.selectedSizeFn(t);e.attr("d",x(m.symbolNumber(r),o)),t.mrc2=o})),o.length&&e.each((function(e){for(var t=r.select(this),n=0;n<o.length;n++)o[n](t,e)}))}},m.tryColorscale=function(e,t){var n=t?l.nestedProperty(e,t).get():e;if(n){var r=n.color;if((n.colorscale||n._colorAx)&&l.isArrayOrTypedArray(r))return u.makeColorScaleFuncFromTrace(n)}return l.identity};var A={start:1,end:-1,middle:0,bottom:1,top:-1};function E(e,t,n,i){var o=r.select(e.node().parentNode),a=-1!==t.indexOf("top")?"top":-1!==t.indexOf("bottom")?"bottom":"middle",s=-1!==t.indexOf("left")?"end":-1!==t.indexOf("right")?"start":"middle",u=i?i/.8+1:0,l=(f.lineCount(e)-1)*d+1,h=A[s]*u,p=.75*n+A[a]*u+(A[a]-1)*l*n/2;e.attr("text-anchor",s),o.attr("transform",c(h,p))}function M(e,t){var n=e.ts||t.textfont.size;return i(n)&&n>0?n:0}m.textPointStyle=function(e,t,n){if(e.size()){var i;if(t.selectedpoints){var o=m.makeSelectedTextStyleFns(t);i=o.selectedTextColorFn}var a=t.texttemplate,s=n._fullLayout;e.each((function(e){var o=r.select(this),u=a?l.extractOption(e,t,"txt","texttemplate"):l.extractOption(e,t,"tx","text");if(u||0===u){if(a){var c=t._module.formatLabels,h=c?c(e,t,s):{},d={};g(d,t,e.i);var p=t._meta||{};u=l.texttemplateString(u,h,s._d3locale,d,e,p)}var v=e.tp||t.textposition,y=M(e,t),b=i?i(e):e.tc||t.textfont.color;o.call(m.font,e.tf||t.textfont.family,y,b).text(u).call(f.convertToTspans,n).call(E,v,y,e.mrc)}else o.remove()}))}},m.selectedTextStyle=function(e,t){if(e.size()&&t.selectedpoints){var n=m.makeSelectedTextStyleFns(t);e.each((function(e){var i=r.select(this),o=n.selectedTextColorFn(e),a=e.tp||t.textposition,u=M(e,t);s.fill(i,o),E(i,a,u,e.mrc2||e.mrc)}))}};var C=.5;function I(e,t,n,i){var o=e[0]-t[0],a=e[1]-t[1],s=n[0]-t[0],u=n[1]-t[1],l=Math.pow(o*o+a*a,C/2),c=Math.pow(s*s+u*u,C/2),f=(c*c*o-l*l*s)*i,h=(c*c*a-l*l*u)*i,d=3*c*(l+c),p=3*l*(l+c);return[[r.round(t[0]+(d&&f/d),2),r.round(t[1]+(d&&h/d),2)],[r.round(t[0]-(p&&f/p),2),r.round(t[1]-(p&&h/p),2)]]}m.smoothopen=function(e,t){if(e.length<3)return"M"+e.join("L");var n,r="M"+e[0],i=[];for(n=1;n<e.length-1;n++)i.push(I(e[n-1],e[n],e[n+1],t));for(r+="Q"+i[0][0]+" "+e[1],n=2;n<e.length-1;n++)r+="C"+i[n-2][1]+" "+i[n-1][0]+" "+e[n];return r+="Q"+i[e.length-3][1]+" "+e[e.length-1]},m.smoothclosed=function(e,t){if(e.length<3)return"M"+e.join("L")+"Z";var n,r="M"+e[0],i=e.length-1,o=[I(e[i],e[0],e[1],t)];for(n=1;n<i;n++)o.push(I(e[n-1],e[n],e[n+1],t));for(o.push(I(e[i-1],e[i],e[0],t)),n=1;n<=i;n++)r+="C"+o[n-1][1]+" "+o[n][0]+" "+e[n];return r+="C"+o[i][1]+" "+o[0][0]+" "+e[0]+"Z"};var D={hv:function(e,t){return"H"+r.round(t[0],2)+"V"+r.round(t[1],2)},vh:function(e,t){return"V"+r.round(t[1],2)+"H"+r.round(t[0],2)},hvh:function(e,t){return"H"+r.round((e[0]+t[0])/2,2)+"V"+r.round(t[1],2)+"H"+r.round(t[0],2)},vhv:function(e,t){return"V"+r.round((e[1]+t[1])/2,2)+"H"+r.round(t[0],2)+"V"+r.round(t[1],2)}},P=function(e,t){return"L"+r.round(t[0],2)+","+r.round(t[1],2)};m.steps=function(e){var t=D[e]||P;return function(e){for(var n="M"+r.round(e[0][0],2)+","+r.round(e[0][1],2),i=1;i<e.length;i++)n+=t(e[i-1],e[i]);return n}},m.makeTester=function(){var e=l.ensureSingleById(r.select("body"),"svg","js-plotly-tester",(function(e){e.attr(h.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})})),t=l.ensureSingle(e,"path","js-reference-point",(function(e){e.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})}));m.tester=e,m.testref=t},m.savedBBoxes={};var N=0,L=1e4;function j(e){var t=e.getAttribute("data-unformatted");if(null!==t)return t+e.getAttribute("data-math")+e.getAttribute("text-anchor")+e.getAttribute("style")}function R(e,t){if(!e)return null;var n=t._context,r=n._exportedPlot?"":n._baseUrl||"";return r?"url('"+r+"#"+e+"')":"url(#"+e+")"}m.bBox=function(e,t,n){var i,o,a;if(n||(n=j(e)),n){if(i=m.savedBBoxes[n])return l.extendFlat({},i)}else if(1===e.childNodes.length){var s=e.childNodes[0];if(n=j(s)){var u=+s.getAttribute("x")||0,c=+s.getAttribute("y")||0,h=s.getAttribute("transform");if(!h){var d=m.bBox(s,!1,n);return u&&(d.left+=u,d.right+=u),c&&(d.top+=c,d.bottom+=c),d}if(n+="~"+u+"~"+c+"~"+h,i=m.savedBBoxes[n])return l.extendFlat({},i)}}t?o=e:(a=m.tester.node(),o=e.cloneNode(!0),a.appendChild(o)),r.select(o).attr("transform",null).call(f.positionText,0,0);var p=o.getBoundingClientRect(),v=m.testref.node().getBoundingClientRect();t||a.removeChild(o);var y={height:p.height,width:p.width,left:p.left-v.left,top:p.top-v.top,right:p.right-v.left,bottom:p.bottom-v.top};return N>=L&&(m.savedBBoxes={},N=0),n&&(m.savedBBoxes[n]=y),N++,l.extendFlat({},y)},m.setClipUrl=function(e,t,n){e.attr("clip-path",R(t,n))},m.getTranslate=function(e){var t=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,n=(e[e.attr?"attr":"getAttribute"]("transform")||"").replace(t,(function(e,t,n){return[t,n].join(" ")})).split(" ");return{x:+n[0]||0,y:+n[1]||0}},m.setTranslate=function(e,t,n){var r=/(\btranslate\(.*?\);?)/,i=e.attr?"attr":"getAttribute",o=e.attr?"attr":"setAttribute",a=e[i]("transform")||"";return t=t||0,n=n||0,a=a.replace(r,"").trim(),a=(a+=c(t,n)).trim(),e[o]("transform",a),a},m.getScale=function(e){var t=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,n=(e[e.attr?"attr":"getAttribute"]("transform")||"").replace(t,(function(e,t,n){return[t,n].join(" ")})).split(" ");return{x:+n[0]||1,y:+n[1]||1}},m.setScale=function(e,t,n){var r=/(\bscale\(.*?\);?)/,i=e.attr?"attr":"getAttribute",o=e.attr?"attr":"setAttribute",a=e[i]("transform")||"";return t=t||1,n=n||1,a=a.replace(r,"").trim(),a=(a+="scale("+t+","+n+")").trim(),e[o]("transform",a),a};var F=/\s*sc.*/;m.setPointGroupScale=function(e,t,n){if(t=t||1,n=n||1,e){var r=1===t&&1===n?"":"scale("+t+","+n+")";e.each((function(){var e=(this.getAttribute("transform")||"").replace(F,"");e=(e+=r).trim(),this.setAttribute("transform",e)}))}};var z=/translate\([^)]*\)\s*$/;m.setTextPointsScale=function(e,t,n){e&&e.each((function(){var e,i=r.select(this),o=i.select("text");if(o.node()){var a=parseFloat(o.attr("x")||0),s=parseFloat(o.attr("y")||0),u=(i.attr("transform")||"").match(z);e=1===t&&1===n?[]:[c(a,s),"scale("+t+","+n+")",c(-a,-s)],u&&e.push(u),i.attr("transform",e.join(""))}}))}},{"../../components/fx/helpers":136,"../../constants/alignment":205,"../../constants/interactions":209,"../../constants/xmlns_namespaces":211,"../../lib":230,"../../lib/svg_text_utils":252,"../../registry":313,"../../traces/scatter/make_bubble_size_func":370,"../../traces/scatter/subtypes":378,"../color":100,"../colorscale":112,"./symbol_defs":123,"@plotly/d3":11,"fast-isnumeric":15,tinycolor2:65}],123:[function(e,t,n){"use strict";var r=e("@plotly/d3");t.exports={circle:{n:0,f:function(e){var t=r.round(e,2);return"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"}},square:{n:1,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"}},diamond:{n:2,f:function(e){var t=r.round(1.3*e,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"Z"}},cross:{n:3,f:function(e){var t=r.round(.4*e,2),n=r.round(1.2*e,2);return"M"+n+","+t+"H"+t+"V"+n+"H-"+t+"V"+t+"H-"+n+"V-"+t+"H-"+t+"V-"+n+"H"+t+"V-"+t+"H"+n+"Z"}},x:{n:4,f:function(e){var t=r.round(.8*e/Math.sqrt(2),2),n="l"+t+","+t,i="l"+t+",-"+t,o="l-"+t+",-"+t,a="l-"+t+","+t;return"M0,"+t+n+i+o+i+o+a+o+a+n+a+n+"Z"}},"triangle-up":{n:5,f:function(e){var t=r.round(2*e/Math.sqrt(3),2);return"M-"+t+","+r.round(e/2,2)+"H"+t+"L0,-"+r.round(e,2)+"Z"}},"triangle-down":{n:6,f:function(e){var t=r.round(2*e/Math.sqrt(3),2);return"M-"+t+",-"+r.round(e/2,2)+"H"+t+"L0,"+r.round(e,2)+"Z"}},"triangle-left":{n:7,f:function(e){var t=r.round(2*e/Math.sqrt(3),2);return"M"+r.round(e/2,2)+",-"+t+"V"+t+"L-"+r.round(e,2)+",0Z"}},"triangle-right":{n:8,f:function(e){var t=r.round(2*e/Math.sqrt(3),2);return"M-"+r.round(e/2,2)+",-"+t+"V"+t+"L"+r.round(e,2)+",0Z"}},"triangle-ne":{n:9,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M-"+n+",-"+t+"H"+t+"V"+n+"Z"}},"triangle-se":{n:10,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M"+t+",-"+n+"V"+t+"H-"+n+"Z"}},"triangle-sw":{n:11,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M"+n+","+t+"H-"+t+"V-"+n+"Z"}},"triangle-nw":{n:12,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M-"+t+","+n+"V-"+t+"H"+n+"Z"}},pentagon:{n:13,f:function(e){var t=r.round(.951*e,2),n=r.round(.588*e,2),i=r.round(-e,2),o=r.round(-.309*e,2);return"M"+t+","+o+"L"+n+","+r.round(.809*e,2)+"H-"+n+"L-"+t+","+o+"L0,"+i+"Z"}},hexagon:{n:14,f:function(e){var t=r.round(e,2),n=r.round(e/2,2),i=r.round(e*Math.sqrt(3)/2,2);return"M"+i+",-"+n+"V"+n+"L0,"+t+"L-"+i+","+n+"V-"+n+"L0,-"+t+"Z"}},hexagon2:{n:15,f:function(e){var t=r.round(e,2),n=r.round(e/2,2),i=r.round(e*Math.sqrt(3)/2,2);return"M-"+n+","+i+"H"+n+"L"+t+",0L"+n+",-"+i+"H-"+n+"L-"+t+",0Z"}},octagon:{n:16,f:function(e){var t=r.round(.924*e,2),n=r.round(.383*e,2);return"M-"+n+",-"+t+"H"+n+"L"+t+",-"+n+"V"+n+"L"+n+","+t+"H-"+n+"L-"+t+","+n+"V-"+n+"Z"}},star:{n:17,f:function(e){var t=1.4*e,n=r.round(.225*t,2),i=r.round(.951*t,2),o=r.round(.363*t,2),a=r.round(.588*t,2),s=r.round(-t,2),u=r.round(-.309*t,2),l=r.round(.118*t,2),c=r.round(.809*t,2);return"M"+n+","+u+"H"+i+"L"+o+","+l+"L"+a+","+c+"L0,"+r.round(.382*t,2)+"L-"+a+","+c+"L-"+o+","+l+"L-"+i+","+u+"H-"+n+"L0,"+s+"Z"}},hexagram:{n:18,f:function(e){var t=r.round(.66*e,2),n=r.round(.38*e,2),i=r.round(.76*e,2);return"M-"+i+",0l-"+n+",-"+t+"h"+i+"l"+n+",-"+t+"l"+n+","+t+"h"+i+"l-"+n+","+t+"l"+n+","+t+"h-"+i+"l-"+n+","+t+"l-"+n+",-"+t+"h-"+i+"Z"}},"star-triangle-up":{n:19,f:function(e){var t=r.round(e*Math.sqrt(3)*.8,2),n=r.round(.8*e,2),i=r.round(1.6*e,2),o=r.round(4*e,2),a="A "+o+","+o+" 0 0 1 ";return"M-"+t+","+n+a+t+","+n+a+"0,-"+i+a+"-"+t+","+n+"Z"}},"star-triangle-down":{n:20,f:function(e){var t=r.round(e*Math.sqrt(3)*.8,2),n=r.round(.8*e,2),i=r.round(1.6*e,2),o=r.round(4*e,2),a="A "+o+","+o+" 0 0 1 ";return"M"+t+",-"+n+a+"-"+t+",-"+n+a+"0,"+i+a+t+",-"+n+"Z"}},"star-square":{n:21,f:function(e){var t=r.round(1.1*e,2),n=r.round(2*e,2),i="A "+n+","+n+" 0 0 1 ";return"M-"+t+",-"+t+i+"-"+t+","+t+i+t+","+t+i+t+",-"+t+i+"-"+t+",-"+t+"Z"}},"star-diamond":{n:22,f:function(e){var t=r.round(1.4*e,2),n=r.round(1.9*e,2),i="A "+n+","+n+" 0 0 1 ";return"M-"+t+",0"+i+"0,"+t+i+t+",0"+i+"0,-"+t+i+"-"+t+",0Z"}},"diamond-tall":{n:23,f:function(e){var t=r.round(.7*e,2),n=r.round(1.4*e,2);return"M0,"+n+"L"+t+",0L0,-"+n+"L-"+t+",0Z"}},"diamond-wide":{n:24,f:function(e){var t=r.round(1.4*e,2),n=r.round(.7*e,2);return"M0,"+n+"L"+t+",0L0,-"+n+"L-"+t+",0Z"}},hourglass:{n:25,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"H-"+t+"L"+t+",-"+t+"H-"+t+"Z"},noDot:!0},bowtie:{n:26,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"V-"+t+"L-"+t+","+t+"V-"+t+"Z"},noDot:!0},"circle-cross":{n:27,f:function(e){var t=r.round(e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(e){var t=r.round(e,2),n=r.round(e/Math.sqrt(2),2);return"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n+"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(e){var t=r.round(e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t+"M"+t+",-"+t+"L-"+t+","+t+"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(e){var t=r.round(1.3*e,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"ZM0,-"+t+"V"+t+"M-"+t+",0H"+t},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(e){var t=r.round(1.3*e,2),n=r.round(.65*e,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"ZM-"+n+",-"+n+"L"+n+","+n+"M-"+n+","+n+"L"+n+",-"+n},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(e){var t=r.round(1.4*e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t+"M"+t+",-"+t+"L-"+t+","+t},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(e){var t=r.round(1.2*e,2),n=r.round(.85*e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(e){var t=r.round(e/2,2),n=r.round(e,2);return"M"+t+","+n+"V-"+n+"m-"+n+",0V"+n+"M"+n+","+t+"H-"+n+"m0,-"+n+"H"+n},needLine:!0,noFill:!0},"y-up":{n:37,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),i=r.round(.8*e,2);return"M-"+t+","+i+"L0,0M"+t+","+i+"L0,0M0,-"+n+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),i=r.round(.8*e,2);return"M-"+t+",-"+i+"L0,0M"+t+",-"+i+"L0,0M0,"+n+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),i=r.round(.8*e,2);return"M"+i+","+t+"L0,0M"+i+",-"+t+"L0,0M-"+n+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),i=r.round(.8*e,2);return"M-"+i+","+t+"L0,0M-"+i+",-"+t+"L0,0M"+n+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(e){var t=r.round(1.4*e,2);return"M"+t+",0H-"+t},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(e){var t=r.round(1.4*e,2);return"M0,"+t+"V-"+t},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(e){var t=r.round(e,2);return"M"+t+",-"+t+"L-"+t+","+t},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(e){var t=r.round(e,2);return"M0,0L-"+t+","+r.round(2*e,2)+"H"+t+"Z"},noDot:!0},"arrow-down":{n:46,f:function(e){var t=r.round(e,2);return"M0,0L-"+t+",-"+r.round(2*e,2)+"H"+t+"Z"},noDot:!0},"arrow-left":{n:47,f:function(e){var t=r.round(2*e,2),n=r.round(e,2);return"M0,0L"+t+",-"+n+"V"+n+"Z"},noDot:!0},"arrow-right":{n:48,f:function(e){var t=r.round(2*e,2),n=r.round(e,2);return"M0,0L-"+t+",-"+n+"V"+n+"Z"},noDot:!0},"arrow-bar-up":{n:49,f:function(e){var t=r.round(e,2);return"M-"+t+",0H"+t+"M0,0L-"+t+","+r.round(2*e,2)+"H"+t+"Z"},needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(e){var t=r.round(e,2);return"M-"+t+",0H"+t+"M0,0L-"+t+",-"+r.round(2*e,2)+"H"+t+"Z"},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(e){var t=r.round(2*e,2),n=r.round(e,2);return"M0,-"+n+"V"+n+"M0,0L"+t+",-"+n+"V"+n+"Z"},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(e){var t=r.round(2*e,2),n=r.round(e,2);return"M0,-"+n+"V"+n+"M0,0L-"+t+",-"+n+"V"+n+"Z"},needLine:!0,noDot:!0}}},{"@plotly/d3":11}],124:[function(e,t,n){"use strict";t.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},{}],125:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../registry"),o=e("../../plots/cartesian/axes"),a=e("../../lib"),s=e("./compute_error");function u(e,t,n,i){var u=t["error_"+i]||{},l=[];if(u.visible&&-1!==["linear","log"].indexOf(n.type)){for(var c=s(u),f=0;f<e.length;f++){var h=e[f],d=h.i;if(void 0===d)d=f;else if(null===d)continue;var p=h[i];if(r(n.c2l(p))){var v=c(p,d);if(r(v[0])&&r(v[1])){var y=h[i+"s"]=p-v[0],g=h[i+"h"]=p+v[1];l.push(y,g)}}}var m=n._id,b=t._extremes[m],_=o.findExtremes(n,l,a.extendFlat({tozero:b.opts.tozero},{padded:!0}));b.min=b.min.concat(_.min),b.max=b.max.concat(_.max)}}t.exports=function(e){for(var t=e.calcdata,n=0;n<t.length;n++){var r=t[n],a=r[0].trace;if(!0===a.visible&&i.traceIs(a,"errorBarsOK")){var s=o.getFromId(e,a.xaxis),l=o.getFromId(e,a.yaxis);u(r,a,s,"x"),u(r,a,l,"y")}}}},{"../../lib":230,"../../plots/cartesian/axes":276,"../../registry":313,"./compute_error":126,"fast-isnumeric":15}],126:[function(e,t,n){"use strict";function r(e,t){return"percent"===e?function(e){return Math.abs(e*t/100)}:"constant"===e?function(){return Math.abs(t)}:"sqrt"===e?function(e){return Math.sqrt(Math.abs(e))}:void 0}t.exports=function(e){var t=e.type,n=e.symmetric;if("data"===t){var i=e.array||[];if(n)return function(e,t){var n=+i[t];return[n,n]};var o=e.arrayminus||[];return function(e,t){var n=+i[t],r=+o[t];return isNaN(n)&&isNaN(r)?[NaN,NaN]:[r||0,n||0]}}var a=r(t,e.value),s=r(t,e.valueminus);return n||void 0===e.valueminus?function(e){var t=a(e);return[t,t]}:function(e){return[s(e),a(e)]}}},{}],127:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../registry"),o=e("../../lib"),a=e("../../plot_api/plot_template"),s=e("./attributes");t.exports=function(e,t,n,u){var l="error_"+u.axis,c=a.newContainer(t,l),f=e[l]||{};function h(e,t){return o.coerce(f,c,s,e,t)}if(!1!==h("visible",void 0!==f.array||void 0!==f.value||"sqrt"===f.type)){var d=h("type","array"in f?"data":"percent"),p=!0;"sqrt"!==d&&(p=h("symmetric",!(("data"===d?"arrayminus":"valueminus")in f))),"data"===d?(h("array"),h("traceref"),p||(h("arrayminus"),h("tracerefminus"))):"percent"!==d&&"constant"!==d||(h("value"),p||h("valueminus"));var v="copy_"+u.inherit+"style";u.inherit&&(t["error_"+u.inherit]||{}).visible&&h(v,!(f.color||r(f.thickness)||r(f.width))),u.inherit&&c[v]||(h("color",n),h("thickness"),h("width",i.traceIs(t,"gl3d")?0:4))}}},{"../../lib":230,"../../plot_api/plot_template":265,"../../registry":313,"./attributes":124,"fast-isnumeric":15}],128:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plot_api/edit_types").overrideAll,o=e("./attributes"),a={error_x:r.extendFlat({},o),error_y:r.extendFlat({},o)};delete a.error_x.copy_zstyle,delete a.error_y.copy_zstyle,delete a.error_y.copy_ystyle;var s={error_x:r.extendFlat({},o),error_y:r.extendFlat({},o),error_z:r.extendFlat({},o)};function u(e,t,n){(t.error_y||{}).visible&&(n.yerr=e.yh-e.y,t.error_y.symmetric||(n.yerrneg=e.y-e.ys)),(t.error_x||{}).visible&&(n.xerr=e.xh-e.x,t.error_x.symmetric||(n.xerrneg=e.x-e.xs))}delete s.error_x.copy_ystyle,delete s.error_y.copy_ystyle,delete s.error_z.copy_ystyle,delete s.error_z.copy_zstyle,t.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:a,bar:a,histogram:a,scatter3d:i(s,"calc","nested"),scattergl:i(a,"calc","nested")}},supplyDefaults:e("./defaults"),calc:e("./calc"),makeComputeError:e("./compute_error"),plot:e("./plot"),style:e("./style"),hoverInfo:u}},{"../../lib":230,"../../plot_api/edit_types":258,"./attributes":124,"./calc":125,"./compute_error":126,"./defaults":127,"./plot":129,"./style":130}],129:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("fast-isnumeric"),o=e("../drawing"),a=e("../../traces/scatter/subtypes");function s(e,t,n){var r={x:t.c2p(e.x),y:n.c2p(e.y)};return void 0!==e.yh&&(r.yh=n.c2p(e.yh),r.ys=n.c2p(e.ys),i(r.ys)||(r.noYS=!0,r.ys=n.c2p(e.ys,!0))),void 0!==e.xh&&(r.xh=t.c2p(e.xh),r.xs=t.c2p(e.xs),i(r.xs)||(r.noXS=!0,r.xs=t.c2p(e.xs,!0))),r}t.exports=function(e,t,n,u){var l=n.xaxis,c=n.yaxis,f=u&&u.duration>0;t.each((function(t){var h,d=t[0].trace,p=d.error_x||{},v=d.error_y||{};d.ids&&(h=function(e){return e.id});var y=a.hasMarkers(d)&&d.marker.maxdisplayed>0;v.visible||p.visible||(t=[]);var g=r.select(this).selectAll("g.errorbar").data(t,h);if(g.exit().remove(),t.length){p.visible||g.selectAll("path.xerror").remove(),v.visible||g.selectAll("path.yerror").remove(),g.style("opacity",1);var m=g.enter().append("g").classed("errorbar",!0);f&&m.style("opacity",0).transition().duration(u.duration).style("opacity",1),o.setClipUrl(g,n.layerClipId,e),g.each((function(e){var t=r.select(this),n=s(e,l,c);if(!y||e.vis){var o,a=t.select("path.yerror");if(v.visible&&i(n.x)&&i(n.yh)&&i(n.ys)){var h=v.width;o="M"+(n.x-h)+","+n.yh+"h"+2*h+"m-"+h+",0V"+n.ys,n.noYS||(o+="m-"+h+",0h"+2*h),a.size()?f&&(a=a.transition().duration(u.duration).ease(u.easing)):a=t.append("path").style("vector-effect","non-scaling-stroke").classed("yerror",!0),a.attr("d",o)}else a.remove();var d=t.select("path.xerror");if(p.visible&&i(n.y)&&i(n.xh)&&i(n.xs)){var g=(p.copy_ystyle?v:p).width;o="M"+n.xh+","+(n.y-g)+"v"+2*g+"m0,-"+g+"H"+n.xs,n.noXS||(o+="m0,-"+g+"v"+2*g),d.size()?f&&(d=d.transition().duration(u.duration).ease(u.easing)):d=t.append("path").style("vector-effect","non-scaling-stroke").classed("xerror",!0),d.attr("d",o)}else d.remove()}}))}}))}},{"../../traces/scatter/subtypes":378,"../drawing":122,"@plotly/d3":11,"fast-isnumeric":15}],130:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../color");t.exports=function(e){e.each((function(e){var t=e[0].trace,n=t.error_y||{},o=t.error_x||{},a=r.select(this);a.selectAll("path.yerror").style("stroke-width",n.thickness+"px").call(i.stroke,n.color),o.copy_ystyle&&(o=n),a.selectAll("path.xerror").style("stroke-width",o.thickness+"px").call(i.stroke,o.color)}))}},{"../color":100,"@plotly/d3":11}],131:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),i=e("./layout_attributes").hoverlabel,o=e("../../lib/extend").extendFlat;t.exports={hoverlabel:{bgcolor:o({},i.bgcolor,{arrayOk:!0}),bordercolor:o({},i.bordercolor,{arrayOk:!0}),font:r({arrayOk:!0,editType:"none"}),align:o({},i.align,{arrayOk:!0}),namelength:o({},i.namelength,{arrayOk:!0}),editType:"none"}}},{"../../lib/extend":224,"../../plots/font_attributes":305,"./layout_attributes":141}],132:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../registry");function o(e,t,n,i){i=i||r.identity,Array.isArray(e)&&(t[0][n]=i(e))}t.exports=function(e){var t=e.calcdata,n=e._fullLayout;function a(e){return function(t){return r.coerceHoverinfo({hoverinfo:t},{_module:e._module},n)}}for(var s=0;s<t.length;s++){var u=t[s],l=u[0].trace;if(!i.traceIs(l,"pie-like")){var c=i.traceIs(l,"2dMap")?o:r.fillArray;c(l.hoverinfo,u,"hi",a(l)),l.hovertemplate&&c(l.hovertemplate,u,"ht"),l.hoverlabel&&(c(l.hoverlabel.bgcolor,u,"hbg"),c(l.hoverlabel.bordercolor,u,"hbc"),c(l.hoverlabel.font.size,u,"hts"),c(l.hoverlabel.font.color,u,"htc"),c(l.hoverlabel.font.family,u,"htf"),c(l.hoverlabel.namelength,u,"hnl"),c(l.hoverlabel.align,u,"hta"))}}}},{"../../lib":230,"../../registry":313}],133:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("./hover").hover;t.exports=function(e,t,n){var o=r.getComponentMethod("annotations","onClick")(e,e._hoverdata);function a(){e.emit("plotly_click",{points:e._hoverdata,event:t})}void 0!==n&&i(e,t,n,!0),e._hoverdata&&t&&t.target&&(o&&o.then?o.then(a):a(),t.stopImmediatePropagation&&t.stopImmediatePropagation())}},{"../../registry":313,"./hover":137}],134:[function(e,t,n){"use strict";t.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},{}],135:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./attributes"),o=e("./hoverlabel_defaults");t.exports=function(e,t,n,a){function s(n,o){return r.coerce(e,t,i,n,o)}var u=r.extendFlat({},a.hoverlabel);t.hovertemplate&&(u.namelength=-1),o(e,t,s,u)}},{"../../lib":230,"./attributes":131,"./hoverlabel_defaults":138}],136:[function(e,t,n){"use strict";var r=e("../../lib");n.getSubplot=function(e){return e.subplot||e.xaxis+e.yaxis||e.geo},n.isTraceInSubplots=function(e,t){if("splom"===e.type){for(var r=e.xaxes||[],i=e.yaxes||[],o=0;o<r.length;o++)for(var a=0;a<i.length;a++)if(-1!==t.indexOf(r[o]+i[a]))return!0;return!1}return-1!==t.indexOf(n.getSubplot(e))},n.flat=function(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=t;return n},n.p2c=function(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r].p2c(t);return n},n.getDistanceFunction=function(e,t,r,i){return"closest"===e?i||n.quadrature(t,r):"x"===e.charAt(0)?t:r},n.getClosest=function(e,t,n){if(!1!==n.index)n.index>=0&&n.index<e.length?n.distance=0:n.index=!1;else for(var r=0;r<e.length;r++){var i=t(e[r]);i<=n.distance&&(n.index=r,n.distance=i)}return n},n.inbox=function(e,t,n){return e*t<0||0===e?n:1/0},n.quadrature=function(e,t){return function(n){var r=e(n),i=t(n);return Math.sqrt(r*r+i*i)}},n.makeEventData=function(e,t,r){var i="index"in e?e.index:e.pointNumber,o={data:t._input,fullData:t,curveNumber:t.index,pointNumber:i};if(t._indexToPoints){var a=t._indexToPoints[i];1===a.length?o.pointIndex=a[0]:o.pointIndices=a}else o.pointIndex=i;return t._module.eventData?o=t._module.eventData(o,e,t,r,i):("xVal"in e?o.x=e.xVal:"x"in e&&(o.x=e.x),"yVal"in e?o.y=e.yVal:"y"in e&&(o.y=e.y),e.xa&&(o.xaxis=e.xa),e.ya&&(o.yaxis=e.ya),void 0!==e.zLabelVal&&(o.z=e.zLabelVal)),n.appendArrayPointValue(o,t,i),o},n.appendArrayPointValue=function(e,t,n){var i=t._arrayAttrs;if(i)for(var s=0;s<i.length;s++){var u=i[s],l=o(u);if(void 0===e[l]){var c=a(r.nestedProperty(t,u).get(),n);void 0!==c&&(e[l]=c)}}},n.appendArrayMultiPointValues=function(e,t,n){var i=t._arrayAttrs;if(i)for(var s=0;s<i.length;s++){var u=i[s],l=o(u);if(void 0===e[l]){for(var c=r.nestedProperty(t,u).get(),f=new Array(n.length),h=0;h<n.length;h++)f[h]=a(c,n[h]);e[l]=f}}};var i={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function o(e){return i[e]||e}function a(e,t){return Array.isArray(t)?Array.isArray(e)&&Array.isArray(e[t[0]])?e[t[0]][t[1]]:void 0:e[t]}var s={x:!0,y:!0},u={"x unified":!0,"y unified":!0};n.isUnifiedHover=function(e){return"string"===typeof e&&!!u[e]},n.isXYhover=function(e){return"string"===typeof e&&!!s[e]}},{"../../lib":230}],137:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("fast-isnumeric"),o=e("tinycolor2"),a=e("../../lib"),s=a.strTranslate,u=a.strRotate,l=e("../../lib/events"),c=e("../../lib/svg_text_utils"),f=e("../../lib/override_cursor"),h=e("../drawing"),d=e("../color"),p=e("../dragelement"),v=e("../../plots/cartesian/axes"),y=e("../../registry"),g=e("./helpers"),m=e("./constants"),b=e("../legend/defaults"),_=e("../legend/draw"),w=m.YANGLE,x=Math.PI*w/180,T=1/Math.sin(x),k=Math.cos(x),O=Math.sin(x),S=m.HOVERARROWSIZE,A=m.HOVERTEXTPAD,E={box:!0,ohlc:!0,violin:!0,candlestick:!0};function M(e,t,n,o){n||(n="xy");var s=Array.isArray(n)?n:[n],u=e._fullLayout,c=u._plots||[],h=c[n],v=u._has("cartesian");if(h){var m=h.overlays.map((function(e){return e.id}));s=s.concat(m)}for(var b=s.length,_=new Array(b),w=new Array(b),x=!1,T=0;T<b;T++){var k=s[T];if(c[k])x=!0,_[T]=c[k].xaxis,w[T]=c[k].yaxis;else{if(!u[k]||!u[k]._subplot)return void a.warn("Unrecognized subplot: "+k);var O=u[k]._subplot;_[T]=O.xaxis,w[T]=O.yaxis}}var S=t.hovermode||u.hovermode;if(S&&!x&&(S="closest"),-1===["x","y","closest","x unified","y unified"].indexOf(S)||!e.calcdata||e.querySelector(".zoombox")||e._dragging)return p.unhoverRaw(e,t);var A=u.hoverdistance;-1===A&&(A=1/0);var M=u.spikedistance;-1===M&&(M=1/0);var I,P,U,B,H,W,Y,G,K,X,Q,J,$,Z=[],ee=[],te={hLinePoint:null,vLinePoint:null},ne=!1;if(Array.isArray(t))for(S="array",U=0;U<t.length;U++)(H=e.calcdata[t[U].curveNumber||0])&&(W=H[0].trace,"skip"!==H[0].trace.hoverinfo&&(ee.push(H),"h"===W.orientation&&(ne=!0)));else{for(B=0;B<e.calcdata.length;B++)H=e.calcdata[B],"skip"!==(W=H[0].trace).hoverinfo&&g.isTraceInSubplots(W,s)&&(ee.push(H),"h"===W.orientation&&(ne=!0));var re,ie;if(t.target){if(!1===l.triggerHandler(e,"plotly_beforehover",t))return;var oe=t.composedPath&&t.composedPath()[0];oe||(oe=t.target);var ae=oe.getBoundingClientRect();re=t.clientX-ae.left,ie=t.clientY-ae.top,u._calcInverseTransform(e);var se=a.apply3DTransform(u._invTransform)(re,ie);if(re=se[0],ie=se[1],re<0||re>_[0]._length||ie<0||ie>w[0]._length)return p.unhoverRaw(e,t)}else re="xpx"in t?t.xpx:_[0]._length/2,ie="ypx"in t?t.ypx:w[0]._length/2;if(t.pointerX=re+_[0]._offset,t.pointerY=ie+w[0]._offset,I="xval"in t?g.flat(s,t.xval):g.p2c(_,re),P="yval"in t?g.flat(s,t.yval):g.p2c(w,ie),!i(I[0])||!i(P[0]))return a.warn("Fx.hover failed",t,e),p.unhoverRaw(e,t)}var ue=1/0;function le(e,n){for(B=0;B<ee.length;B++)if((H=ee[B])&&H[0]&&H[0].trace&&!0===(W=H[0].trace).visible&&0!==W._length&&-1===["carpet","contourcarpet"].indexOf(W._module.name)){if("splom"===W.type?Y=s[G=0]:(Y=g.getSubplot(W),G=s.indexOf(Y)),K=S,g.isUnifiedHover(K)&&(K=K.charAt(0)),J={cd:H,trace:W,xa:_[G],ya:w[G],maxHoverDistance:A,maxSpikeDistance:M,index:!1,distance:Math.min(ue,A),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:d.defaultLine,name:W.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},u[Y]&&(J.subplot=u[Y]._subplot),u._splomScenes&&u._splomScenes[W.uid]&&(J.scene=u._splomScenes[W.uid]),$=Z.length,"array"===K){var r=t[B];"pointNumber"in r?(J.index=r.pointNumber,K="closest"):(K="","xval"in r&&(X=r.xval,K="x"),"yval"in r&&(Q=r.yval,K=K?"closest":"y"))}else void 0!==e&&void 0!==n?(X=e,Q=n):(X=I[G],Q=P[G]);if(0!==A)if(W._module&&W._module.hoverPoints){var o=W._module.hoverPoints(J,X,Q,K,{finiteRange:!0,hoverLayer:u._hoverlayer});if(o)for(var l,c=0;c<o.length;c++)l=o[c],i(l.x0)&&i(l.y0)&&Z.push(j(l,S))}else a.log("Unrecognized trace type in hover:",W);if("closest"===S&&Z.length>$&&(Z.splice(0,$),ue=Z[0].distance),v&&0!==M&&0===Z.length){J.distance=M,J.index=!1;var f=W._module.hoverPoints(J,X,Q,"closest",{hoverLayer:u._hoverlayer});if(f&&(f=f.filter((function(e){return e.spikeDistance<=M}))),f&&f.length){var h,p=f.filter((function(e){return e.xa.showspikes&&"hovered data"!==e.xa.spikesnap}));if(p.length){var y=p[0];i(y.x0)&&i(y.y0)&&(h=fe(y),(!te.vLinePoint||te.vLinePoint.spikeDistance>h.spikeDistance)&&(te.vLinePoint=h))}var m=f.filter((function(e){return e.ya.showspikes&&"hovered data"!==e.ya.spikesnap}));if(m.length){var b=m[0];i(b.x0)&&i(b.y0)&&(h=fe(b),(!te.hLinePoint||te.hLinePoint.spikeDistance>h.spikeDistance)&&(te.hLinePoint=h))}}}}}function ce(e,t){for(var n,r=null,i=1/0,o=0;o<e.length;o++)(n=e[o].spikeDistance)<=i&&n<=t&&(r=e[o],i=n);return r}function fe(e){return e?{xa:e.xa,ya:e.ya,x:void 0!==e.xSpike?e.xSpike:(e.x0+e.x1)/2,y:void 0!==e.ySpike?e.ySpike:(e.y0+e.y1)/2,distance:e.distance,spikeDistance:e.spikeDistance,curveNumber:e.trace.index,color:e.color,pointNumber:e.index}:null}le();var he={fullLayout:u,container:u._hoverlayer,outerContainer:u._paperdiv,event:t},de=e._spikepoints,pe={vLinePoint:te.vLinePoint,hLinePoint:te.hLinePoint};if(e._spikepoints=pe,v&&0!==M&&0!==Z.length){var ve=ce(Z.filter((function(e){return e.ya.showspikes})),M);te.hLinePoint=fe(ve);var ye=ce(Z.filter((function(e){return e.xa.showspikes})),M);te.vLinePoint=fe(ye)}if(0===Z.length){var ge=p.unhoverRaw(e,t);return!v||null===te.hLinePoint&&null===te.vLinePoint||z(de)&&R(e,te,he),ge}v&&z(de)&&R(e,te,he);var me=function(){Z.sort((function(e,t){return e.distance-t.distance})),Z=q(Z,S)};if(me(),g.isXYhover(K)&&0!==Z[0].length&&"splom"!==Z[0].trace.type){var be=Z[0],_e=(Z=E[be.trace.type]?Z.filter((function(e){return e.trace.index===be.trace.index})):[be]).length;le(V("x",be,u),V("y",be,u));var we,xe=[],Te={},ke=0,Oe=function(e){var t=E[e.trace.type]?C(e):e.trace.index;if(Te[t]){var n=Te[t]-1,r=xe[n];n>0&&Math.abs(e.distance)<Math.abs(r.distance)&&(xe[n]=e)}else ke++,Te[t]=ke,xe.push(e)};for(we=0;we<_e;we++)Oe(Z[we]);for(we=Z.length-1;we>_e-1;we--)Oe(Z[we]);Z=xe,me()}var Se=e._hoverdata,Ae=[];for(U=0;U<Z.length;U++){var Ee=Z[U],Me=g.makeEventData(Ee,Ee.trace,Ee.cd);if(!1!==Ee.hovertemplate){var Ce=!1;Ee.cd[Ee.index]&&Ee.cd[Ee.index].ht&&(Ce=Ee.cd[Ee.index].ht),Ee.hovertemplate=Ce||Ee.trace.hovertemplate||!1}Ee.eventData=[Me],Ae.push(Me)}e._hoverdata=Ae;var Ie="y"===S&&(ee.length>1||Z.length>1)||"closest"===S&&ne&&Z.length>1,De=d.combine(u.plot_bgcolor||d.background,u.paper_bgcolor),Pe={hovermode:S,rotateLabels:Ie,bgColor:De,container:u._hoverlayer,outerContainer:u._paperdiv,commonLabelOpts:u.hoverlabel,hoverdistance:u.hoverdistance},Ne=D(Z,Pe,e);if(g.isUnifiedHover(S)||(N(Ne,Ie?"xa":"ya",u),L(Ne,Ie,u._invScaleX,u._invScaleY)),t.target&&t.target.tagName){var Le=y.getComponentMethod("annotations","hasClickToShow")(e,Ae);f(r.select(t.target),Le?"pointer":"")}t.target&&!o&&F(e,t,Se)&&(Se&&e.emit("plotly_unhover",{event:t,points:Se}),e.emit("plotly_hover",{event:t,points:e._hoverdata,xaxes:_,yaxes:w,xvals:I,yvals:P}))}function C(e){return[e.trace.index,e.index,e.x0,e.y0,e.name,e.attr,e.xa,e.ya||""].join(",")}n.hover=function(e,t,n,r){e=a.getGraphDiv(e),a.throttle(e._fullLayout._uid+m.HOVERID,m.HOVERMINTIME,(function(){M(e,t,n,r)}))},n.loneHover=function(e,t){var n=!0;Array.isArray(e)||(n=!1,e=[e]);var i=e.map((function(e){return{color:e.color||d.defaultLine,x0:e.x0||e.x||0,x1:e.x1||e.x||0,y0:e.y0||e.y||0,y1:e.y1||e.y||0,xLabel:e.xLabel,yLabel:e.yLabel,zLabel:e.zLabel,text:e.text,name:e.name,idealAlign:e.idealAlign,borderColor:e.borderColor,fontFamily:e.fontFamily,fontSize:e.fontSize,fontColor:e.fontColor,nameLength:e.nameLength,textAlign:e.textAlign,trace:e.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:e.hovertemplate||!1,eventData:e.eventData||!1,hovertemplateLabels:e.hovertemplateLabels||!1}})),o=r.select(t.container),a=t.outerContainer?r.select(t.outerContainer):o,s={hovermode:"closest",rotateLabels:!1,bgColor:t.bgColor||d.background,container:o,outerContainer:a},u=D(i,s,t.gd),l=5,c=0,f=0;u.sort((function(e,t){return e.y0-t.y0})).each((function(e,n){var r=e.y0-e.by/2;e.offset=r-l<c?c-r+l:0,c=r+e.by+e.offset,n===t.anchorIndex&&(f=e.offset)})).each((function(e){e.offset-=f}));var h=t.gd._fullLayout._invScaleX,p=t.gd._fullLayout._invScaleY;return L(u,s.rotateLabels,h,p),n?u:u.node()};var I=/<extra>([\s\S]*)<\/extra>/;function D(e,t,n){var i=n._fullLayout,o=t.hovermode,l=t.rotateLabels,f=t.bgColor,p=t.container,v=t.outerContainer,y=t.commonLabelOpts||{},x=t.fontFamily||m.HOVERFONT,T=t.fontSize||m.HOVERFONTSIZE,k=e[0],O=k.xa,E=k.ya,M=o.charAt(0),I=k[M+"Label"],D=v.node().getBoundingClientRect(),N=D.top,L=D.width,j=D.height,R=void 0!==I&&k.distance<=t.hoverdistance&&("x"===o||"y"===o);if(R){var F,z,U=!0;for(F=0;F<e.length;F++)if(U&&void 0===e[F].zLabel&&(U=!1),z=e[F].hoverinfo||e[F].trace.hoverinfo){var q=Array.isArray(z)?z:z.split("+");if(-1===q.indexOf("all")&&-1===q.indexOf(o)){R=!1;break}}U&&(R=!1)}var V=p.selectAll("g.axistext").data(R?[0]:[]);if(V.enter().append("g").classed("axistext",!0),V.exit().remove(),V.each((function(){var e=r.select(this),t=a.ensureSingle(e,"path","",(function(e){e.style({"stroke-width":"1px"})})),u=a.ensureSingle(e,"text","",(function(e){e.attr("data-notex",1)})),l=y.bgcolor||d.defaultLine,f=y.bordercolor||d.contrast(l),p=d.contrast(l),v={family:y.font.family||x,size:y.font.size||T,color:y.font.color||p};t.style({fill:l,stroke:f}),u.text(I).call(h.font,v).call(c.positionText,0,0).call(c.convertToTspans,n),e.attr("transform","");var g,m,b=u.node().getBoundingClientRect();if("x"===o){var _="top"===O.side?"-":"";u.attr("text-anchor","middle").call(c.positionText,0,"top"===O.side?N-b.bottom-S-A:N-b.top+S+A),g=O._offset+(k.x0+k.x1)/2,m=E._offset+("top"===O.side?0:E._length);var w=b.width/2+A;g<w?(g=w,t.attr("d","M-"+(w-S)+",0L-"+(w-2*S)+","+_+S+"H"+(A+b.width/2)+"v"+_+(2*A+b.height)+"H-"+w+"V"+_+S+"Z")):g>i.width-w?(g=i.width-w,t.attr("d","M"+(w-S)+",0L"+w+","+_+S+"v"+_+(2*A+b.height)+"H-"+w+"V"+_+S+"H"+(w-2*S)+"Z")):t.attr("d","M0,0L"+S+","+_+S+"H"+(A+b.width/2)+"v"+_+(2*A+b.height)+"H-"+(A+b.width/2)+"V"+_+S+"H-"+S+"Z")}else{var M,C,D;"right"===E.side?(M="start",C=1,D="",g=O._offset+O._length):(M="end",C=-1,D="-",g=O._offset),m=E._offset+(k.y0+k.y1)/2,u.attr("text-anchor",M),t.attr("d","M0,0L"+D+S+","+S+"V"+(A+b.height/2)+"h"+D+(2*A+b.width)+"V-"+(A+b.height/2)+"H"+D+S+"V-"+S+"Z");var P,L=b.height/2,j=N-b.top-L,R="clip"+i._uid+"commonlabel"+E._id;if(g<b.width+2*A+S){P="M-"+(S+A)+"-"+L+"h-"+(b.width-A)+"V"+L+"h"+(b.width-A)+"Z";var F=b.width-g+A;c.positionText(u,F,j),"end"===M&&u.selectAll("tspan").each((function(){var e=r.select(this),t=h.tester.append("text").text(e.text()).call(h.font,v),n=t.node().getBoundingClientRect();Math.round(n.width)<Math.round(b.width)&&e.attr("x",F-n.width),t.remove()}))}else c.positionText(u,C*(A+S),j),P=null;var z=i._topclips.selectAll("#"+R).data(P?[0]:[]);z.enter().append("clipPath").attr("id",R).append("path"),z.exit().remove(),z.select("path").attr("d",P),h.setClipUrl(u,P?R:null,n)}e.attr("transform",s(g,m))})),g.isUnifiedHover(o)){if(p.selectAll("g.hovertext").remove(),0===e.length)return;var B={showlegend:!0,legend:{title:{text:I,font:i.hoverlabel.font},font:i.hoverlabel.font,bgcolor:i.hoverlabel.bgcolor,bordercolor:i.hoverlabel.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:i.legend?i.legend.traceorder:void 0,orientation:"v"}},H={};b(B,H,n._fullData);var W=H.legend;W.entries=[];for(var Y=0;Y<e.length;Y++){var G=P(e[Y],!0,o,i,I),K=G[0],X=G[1],Q=e[Y];Q.name=X,Q.text=""!==X?X+" : "+K:K;var J=Q.cd[Q.index];J&&(J.mc&&(Q.mc=J.mc),J.mcc&&(Q.mc=J.mcc),J.mlc&&(Q.mlc=J.mlc),J.mlcc&&(Q.mlc=J.mlcc),J.mlw&&(Q.mlw=J.mlw),J.mrc&&(Q.mrc=J.mrc),J.dir&&(Q.dir=J.dir)),Q._distinct=!0,W.entries.push([Q])}W.entries.sort((function(e,t){return e[0].trace.index-t[0].trace.index})),W.layer=p,W._inHover=!0,_(n,W);var $=e[0],Z=($.y0+$.y1)/2,ee=($.x0+$.x1)/2,te=p.select("g.legend"),ne=te.node().getBoundingClientRect();ee+=O._offset,Z+=E._offset-ne.height/2;var re=ne.width+2*A;!(ee+re<=L)&&ee-re>=0?ee-=re:ee+=2*A;var ie=ne.height+2*A,oe=Z+ie>=j;return ie<=j&&(Z<=N?Z=E._offset+2*A:oe&&(Z=j-ie)),te.attr("transform",s(ee,Z)),te}var ae=p.selectAll("g.hovertext").data(e,(function(e){return C(e)}));return ae.enter().append("g").classed("hovertext",!0).each((function(){var e=r.select(this);e.append("rect").call(d.fill,d.addOpacity(f,.8)),e.append("text").classed("name",!0),e.append("path").style("stroke-width","1px"),e.append("text").classed("nums",!0).call(h.font,x,T)})),ae.exit().remove(),ae.each((function(e){var t=r.select(this).attr("transform",""),a=e.color;Array.isArray(a)&&(a=a[e.eventData[0].pointNumber]);var p=e.bgcolor||a,v=d.combine(d.opacity(p)?p:d.defaultLine,f),y=d.combine(d.opacity(a)?a:d.defaultLine,f),g=e.borderColor||d.contrast(v),m=P(e,R,o,i,I,t),b=m[0],_=m[1],k=t.select("text.nums").call(h.font,e.fontFamily||x,e.fontSize||T,e.fontColor||g).text(b).attr("data-notex",1).call(c.positionText,0,0).call(c.convertToTspans,n),O=t.select("text.name"),E=0,M=0;if(_&&_!==b){O.call(h.font,e.fontFamily||x,e.fontSize||T,y).text(_).attr("data-notex",1).call(c.positionText,0,0).call(c.convertToTspans,n);var C=O.node().getBoundingClientRect();E=C.width+2*A,M=C.height+2*A}else O.remove(),t.select("rect").remove();t.select("path").style({fill:v,stroke:g});var D,F,z=k.node().getBoundingClientRect(),U=e.xa._offset+(e.x0+e.x1)/2,q=e.ya._offset+(e.y0+e.y1)/2,V=Math.abs(e.x1-e.x0),B=Math.abs(e.y1-e.y0),H=z.width+S+A+E;if(e.ty0=N-z.top,e.bx=z.width+2*A,e.by=Math.max(z.height+2*A,M),e.anchor="start",e.txwidth=z.width,e.tx2width=E,e.offset=0,l)e.pos=U,D=q+B/2+H<=j,F=q-B/2-H>=0,"top"!==e.idealAlign&&D||!F?D?(q+=B/2,e.anchor="start"):e.anchor="middle":(q-=B/2,e.anchor="end");else if(e.pos=q,D=U+V/2+H<=L,F=U-V/2-H>=0,"left"!==e.idealAlign&&D||!F)if(D)U+=V/2,e.anchor="start";else{e.anchor="middle";var W=H/2,Y=U+W-L,G=U-W;Y>0&&(U-=Y),G<0&&(U+=-G)}else U-=V/2,e.anchor="end";k.attr("text-anchor",e.anchor),E&&O.attr("text-anchor",e.anchor),t.attr("transform",s(U,q)+(l?u(w):""))})),ae}function P(e,t,n,r,i,o){var s="",u="";void 0!==e.nameOverride&&(e.name=e.nameOverride),e.name&&(e.trace._meta&&(e.name=a.templateString(e.name,e.trace._meta)),s=U(e.name,e.nameLength));var l=n.charAt(0),c="x"===l?"y":"x";void 0!==e.zLabel?(void 0!==e.xLabel&&(u+="x: "+e.xLabel+"<br>"),void 0!==e.yLabel&&(u+="y: "+e.yLabel+"<br>"),"choropleth"!==e.trace.type&&"choroplethmapbox"!==e.trace.type&&(u+=(u?"z: ":"")+e.zLabel)):t&&e[l+"Label"]===i?u=e[c+"Label"]||"":void 0===e.xLabel?void 0!==e.yLabel&&"scattercarpet"!==e.trace.type&&(u=e.yLabel):u=void 0===e.yLabel?e.xLabel:"("+e.xLabel+", "+e.yLabel+")",!e.text&&0!==e.text||Array.isArray(e.text)||(u+=(u?"<br>":"")+e.text),void 0!==e.extraText&&(u+=(u?"<br>":"")+e.extraText),o&&""===u&&!e.hovertemplate&&(""===s&&o.remove(),u=s);var f=e.hovertemplate||!1;if(f){var h=e.hovertemplateLabels||e;e[l+"Label"]!==i&&(h[l+"other"]=h[l+"Val"],h[l+"otherLabel"]=h[l+"Label"]),u=(u=a.hovertemplateString(f,h,r._d3locale,e.eventData[0]||{},e.trace._meta)).replace(I,(function(t,n){return s=U(n,e.nameLength),""}))}return[u,s]}function N(e,t,n){var r,i,o,a,s,u,l,c=0,f=1,h=e.size(),d=new Array(h),p=0;function v(e){var t=e[0],n=e[e.length-1];if(i=t.pmin-t.pos-t.dp+t.size,o=n.pos+n.dp+n.size-t.pmax,i>.01){for(s=e.length-1;s>=0;s--)e[s].dp+=i;r=!1}if(!(o<.01)){if(i<-.01){for(s=e.length-1;s>=0;s--)e[s].dp-=o;r=!1}if(r){var l=0;for(a=0;a<e.length;a++)(u=e[a]).pos+u.dp+u.size>t.pmax&&l++;for(a=e.length-1;a>=0&&!(l<=0);a--)(u=e[a]).pos>t.pmax-1&&(u.del=!0,l--);for(a=0;a<e.length&&!(l<=0);a++)if((u=e[a]).pos<t.pmin+1)for(u.del=!0,l--,o=2*u.size,s=e.length-1;s>=0;s--)e[s].dp-=o;for(a=e.length-1;a>=0&&!(l<=0);a--)(u=e[a]).pos+u.dp+u.size>t.pmax&&(u.del=!0,l--)}}}for(e.each((function(e){var r=e[t],i="x"===r._id.charAt(0),o=r.range;0===p&&o&&o[0]>o[1]!==i&&(f=-1),d[p++]=[{datum:e,traceIndex:e.trace.index,dp:0,pos:e.pos,posref:e.posref,size:e.by*(i?T:1)/2,pmin:0,pmax:i?n.width:n.height}]})),d.sort((function(e,t){return e[0].posref-t[0].posref||f*(t[0].traceIndex-e[0].traceIndex)}));!r&&c<=h;){for(c++,r=!0,a=0;a<d.length-1;){var y=d[a],g=d[a+1],m=y[y.length-1],b=g[0];if((i=m.pos+m.dp+m.size-b.pos-b.dp+b.size)>.01&&m.pmin===b.pmin&&m.pmax===b.pmax){for(s=g.length-1;s>=0;s--)g[s].dp+=i;for(y.push.apply(y,g),d.splice(a+1,1),l=0,s=y.length-1;s>=0;s--)l+=y[s].dp;for(o=l/y.length,s=y.length-1;s>=0;s--)y[s].dp-=o;r=!1}else a++}d.forEach(v)}for(a=d.length-1;a>=0;a--){var _=d[a];for(s=_.length-1;s>=0;s--){var w=_[s],x=w.datum;x.offset=w.dp,x.del=w.del}}}function L(e,t,n,i){var o=function(e){return e*n},a=function(e){return e*i};e.each((function(e){var n=r.select(this);if(e.del)return n.remove();var i=n.select("text.nums"),s=e.anchor,u="end"===s?-1:1,l={start:1,end:-1,middle:0}[s],f=l*(S+A),d=f+l*(e.txwidth+A),p=0,v=e.offset,y="middle"===s;y&&(f-=e.tx2width/2,d+=e.txwidth/2+A),t&&(v*=-O,p=e.offset*k),n.select("path").attr("d",y?"M-"+o(e.bx/2+e.tx2width/2)+","+a(v-e.by/2)+"h"+o(e.bx)+"v"+a(e.by)+"h-"+o(e.bx)+"Z":"M0,0L"+o(u*S+p)+","+a(S+v)+"v"+a(e.by/2-S)+"h"+o(u*e.bx)+"v-"+a(e.by)+"H"+o(u*S+p)+"V"+a(v-S)+"Z");var g=p+f,m=v+e.ty0-e.by/2+A,b=e.textAlign||"auto";"auto"!==b&&("left"===b&&"start"!==s?(i.attr("text-anchor","start"),g=y?-e.bx/2-e.tx2width/2+A:-e.bx-A):"right"===b&&"end"!==s&&(i.attr("text-anchor","end"),g=y?e.bx/2-e.tx2width/2-A:e.bx+A)),i.call(c.positionText,o(g),a(m)),e.tx2width&&(n.select("text.name").call(c.positionText,o(d+l*A+p),a(v+e.ty0-e.by/2+A)),n.select("rect").call(h.setRect,o(d+(l-1)*e.tx2width/2+p),a(v-e.by/2-1),o(e.tx2width),a(e.by+2)))}))}function j(e,t){var n=e.index,r=e.trace||{},o=e.cd[0],s=e.cd[n]||{};function u(e){return e||i(e)&&0===e}var l=Array.isArray(n)?function(e,t){var i=a.castOption(o,n,e);return u(i)?i:a.extractOption({},r,"",t)}:function(e,t){return a.extractOption(s,r,e,t)};function c(t,n,r){var i=l(n,r);u(i)&&(e[t]=i)}if(c("hoverinfo","hi","hoverinfo"),c("bgcolor","hbg","hoverlabel.bgcolor"),c("borderColor","hbc","hoverlabel.bordercolor"),c("fontFamily","htf","hoverlabel.font.family"),c("fontSize","hts","hoverlabel.font.size"),c("fontColor","htc","hoverlabel.font.color"),c("nameLength","hnl","hoverlabel.namelength"),c("textAlign","hta","hoverlabel.align"),e.posref="y"===t||"closest"===t&&"h"===r.orientation?e.xa._offset+(e.x0+e.x1)/2:e.ya._offset+(e.y0+e.y1)/2,e.x0=a.constrain(e.x0,0,e.xa._length),e.x1=a.constrain(e.x1,0,e.xa._length),e.y0=a.constrain(e.y0,0,e.ya._length),e.y1=a.constrain(e.y1,0,e.ya._length),void 0!==e.xLabelVal&&(e.xLabel="xLabel"in e?e.xLabel:v.hoverLabelText(e.xa,e.xLabelVal,r.xhoverformat),e.xVal=e.xa.c2d(e.xLabelVal)),void 0!==e.yLabelVal&&(e.yLabel="yLabel"in e?e.yLabel:v.hoverLabelText(e.ya,e.yLabelVal,r.yhoverformat),e.yVal=e.ya.c2d(e.yLabelVal)),void 0!==e.zLabelVal&&void 0===e.zLabel&&(e.zLabel=String(e.zLabelVal)),!isNaN(e.xerr)&&!("log"===e.xa.type&&e.xerr<=0)){var f=v.tickText(e.xa,e.xa.c2l(e.xerr),"hover").text;void 0!==e.xerrneg?e.xLabel+=" +"+f+" / -"+v.tickText(e.xa,e.xa.c2l(e.xerrneg),"hover").text:e.xLabel+=" \xb1 "+f,"x"===t&&(e.distance+=1)}if(!isNaN(e.yerr)&&!("log"===e.ya.type&&e.yerr<=0)){var h=v.tickText(e.ya,e.ya.c2l(e.yerr),"hover").text;void 0!==e.yerrneg?e.yLabel+=" +"+h+" / -"+v.tickText(e.ya,e.ya.c2l(e.yerrneg),"hover").text:e.yLabel+=" \xb1 "+h,"y"===t&&(e.distance+=1)}var d=e.hoverinfo||e.trace.hoverinfo;return d&&"all"!==d&&(-1===(d=Array.isArray(d)?d:d.split("+")).indexOf("x")&&(e.xLabel=void 0),-1===d.indexOf("y")&&(e.yLabel=void 0),-1===d.indexOf("z")&&(e.zLabel=void 0),-1===d.indexOf("text")&&(e.text=void 0),-1===d.indexOf("name")&&(e.name=void 0)),e}function R(e,t,n){var r,i,a=n.container,s=n.fullLayout,u=s._size,l=n.event,c=!!t.hLinePoint,f=!!t.vLinePoint;if(a.selectAll(".spikeline").remove(),f||c){var p=d.combine(s.plot_bgcolor,s.paper_bgcolor);if(c){var y,g,m=t.hLinePoint;r=m&&m.xa,"cursor"===(i=m&&m.ya).spikesnap?(y=l.pointerX,g=l.pointerY):(y=r._offset+m.x,g=i._offset+m.y);var b,_,w=o.readability(m.color,p)<1.5?d.contrast(p):m.color,x=i.spikemode,T=i.spikethickness,k=i.spikecolor||w,O=v.getPxPosition(e,i);if(-1!==x.indexOf("toaxis")||-1!==x.indexOf("across")){if(-1!==x.indexOf("toaxis")&&(b=O,_=y),-1!==x.indexOf("across")){var S=i._counterDomainMin,A=i._counterDomainMax;"free"===i.anchor&&(S=Math.min(S,i.position),A=Math.max(A,i.position)),b=u.l+S*u.w,_=u.l+A*u.w}a.insert("line",":first-child").attr({x1:b,x2:_,y1:g,y2:g,"stroke-width":T,stroke:k,"stroke-dasharray":h.dashStyle(i.spikedash,T)}).classed("spikeline",!0).classed("crisp",!0),a.insert("line",":first-child").attr({x1:b,x2:_,y1:g,y2:g,"stroke-width":T+2,stroke:p}).classed("spikeline",!0).classed("crisp",!0)}-1!==x.indexOf("marker")&&a.insert("circle",":first-child").attr({cx:O+("right"!==i.side?T:-T),cy:g,r:T,fill:k}).classed("spikeline",!0)}if(f){var E,M,C=t.vLinePoint;r=C&&C.xa,i=C&&C.ya,"cursor"===r.spikesnap?(E=l.pointerX,M=l.pointerY):(E=r._offset+C.x,M=i._offset+C.y);var I,D,P=o.readability(C.color,p)<1.5?d.contrast(p):C.color,N=r.spikemode,L=r.spikethickness,j=r.spikecolor||P,R=v.getPxPosition(e,r);if(-1!==N.indexOf("toaxis")||-1!==N.indexOf("across")){if(-1!==N.indexOf("toaxis")&&(I=R,D=M),-1!==N.indexOf("across")){var F=r._counterDomainMin,z=r._counterDomainMax;"free"===r.anchor&&(F=Math.min(F,r.position),z=Math.max(z,r.position)),I=u.t+(1-z)*u.h,D=u.t+(1-F)*u.h}a.insert("line",":first-child").attr({x1:E,x2:E,y1:I,y2:D,"stroke-width":L,stroke:j,"stroke-dasharray":h.dashStyle(r.spikedash,L)}).classed("spikeline",!0).classed("crisp",!0),a.insert("line",":first-child").attr({x1:E,x2:E,y1:I,y2:D,"stroke-width":L+2,stroke:p}).classed("spikeline",!0).classed("crisp",!0)}-1!==N.indexOf("marker")&&a.insert("circle",":first-child").attr({cx:E,cy:R-("top"!==r.side?L:-L),r:L,fill:j}).classed("spikeline",!0)}}}function F(e,t,n){if(!n||n.length!==e._hoverdata.length)return!0;for(var r=n.length-1;r>=0;r--){var i=n[r],o=e._hoverdata[r];if(i.curveNumber!==o.curveNumber||String(i.pointNumber)!==String(o.pointNumber)||String(i.pointNumbers)!==String(o.pointNumbers))return!0}return!1}function z(e,t){return!t||t.vLinePoint!==e._spikepoints.vLinePoint||t.hLinePoint!==e._spikepoints.hLinePoint}function U(e,t){return c.plainText(e||"",{len:t,allowedTags:["br","sub","sup","b","i","em"]})}function q(e,t){for(var n=t.charAt(0),r=[],i=[],o=[],a=0;a<e.length;a++){var s=e[a];y.traceIs(s.trace,"bar-like")||y.traceIs(s.trace,"box-violin")?o.push(s):s.trace[n+"period"]?i.push(s):r.push(s)}return r.concat(i).concat(o)}function V(e,t,n){var r=t[e+"a"],i=t[e+"Val"];"category"===r.type?i=r._categoriesMap[i]:"date"===r.type&&(i=r.d2c(i));var o=t.cd[t.index];return o&&o.t&&o.t.posLetter===r._id&&("group"!==n.boxmode&&"group"!==n.violinmode||(i+=o.t.dPos)),i}},{"../../lib":230,"../../lib/events":223,"../../lib/override_cursor":241,"../../lib/svg_text_utils":252,"../../plots/cartesian/axes":276,"../../registry":313,"../color":100,"../dragelement":119,"../drawing":122,"../legend/defaults":152,"../legend/draw":153,"./constants":134,"./helpers":136,"@plotly/d3":11,"fast-isnumeric":15,tinycolor2:65}],138:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../color"),o=e("./helpers").isUnifiedHover;t.exports=function(e,t,n,a){function s(e){a.font[e]||(a.font[e]=t.legend?t.legend.font[e]:t.font[e])}a=a||{},t&&o(t.hovermode)&&(a.font||(a.font={}),s("size"),s("family"),s("color"),t.legend?(a.bgcolor||(a.bgcolor=i.combine(t.legend.bgcolor,t.paper_bgcolor)),a.bordercolor||(a.bordercolor=t.legend.bordercolor)):a.bgcolor||(a.bgcolor=t.paper_bgcolor)),n("hoverlabel.bgcolor",a.bgcolor),n("hoverlabel.bordercolor",a.bordercolor),n("hoverlabel.namelength",a.namelength),r.coerceFont(n,"hoverlabel.font",a.font),n("hoverlabel.align",a.align)}},{"../../lib":230,"../color":100,"./helpers":136}],139:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./layout_attributes");t.exports=function(e,t){function n(n,o){return void 0!==t[n]?t[n]:r.coerce(e,t,i,n,o)}return n("clickmode"),n("hovermode")}},{"../../lib":230,"./layout_attributes":141}],140:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../../lib"),o=e("../dragelement"),a=e("./helpers"),s=e("./layout_attributes"),u=e("./hover");function l(e){var t=i.isD3Selection(e)?e:r.select(e);t.selectAll("g.hovertext").remove(),t.selectAll(".spikeline").remove()}function c(e,t,n){return i.castOption(e,t,"hoverlabel."+n)}function f(e,t,n){function r(n){return i.coerceHoverinfo({hoverinfo:n},{_module:e._module},t)}return i.castOption(e,n,"hoverinfo",r)}t.exports={moduleType:"component",name:"fx",constants:e("./constants"),schema:{layout:s},attributes:e("./attributes"),layoutAttributes:s,supplyLayoutGlobalDefaults:e("./layout_global_defaults"),supplyDefaults:e("./defaults"),supplyLayoutDefaults:e("./layout_defaults"),calc:e("./calc"),getDistanceFunction:a.getDistanceFunction,getClosest:a.getClosest,inbox:a.inbox,quadrature:a.quadrature,appendArrayPointValue:a.appendArrayPointValue,castHoverOption:c,castHoverinfo:f,hover:u.hover,unhover:o.unhover,loneHover:u.loneHover,loneUnhover:l,click:e("./click")}},{"../../lib":230,"../dragelement":119,"./attributes":131,"./calc":132,"./click":133,"./constants":134,"./defaults":135,"./helpers":136,"./hover":137,"./layout_attributes":141,"./layout_defaults":142,"./layout_global_defaults":143,"@plotly/d3":11}],141:[function(e,t,n){"use strict";var r=e("./constants"),i=e("../../plots/font_attributes")({editType:"none"});i.family.dflt=r.HOVERFONT,i.size.dflt=r.HOVERFONTSIZE,t.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:i,align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},{"../../plots/font_attributes":305,"./constants":134}],142:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./layout_attributes"),o=e("./hovermode_defaults"),a=e("./hoverlabel_defaults");t.exports=function(e,t){function n(n,o){return r.coerce(e,t,i,n,o)}o(e,t)&&(n("hoverdistance"),n("spikedistance")),"select"===n("dragmode")&&n("selectdirection");var s=t._has("mapbox"),u=t._has("geo"),l=t._basePlotModules.length;"zoom"===t.dragmode&&((s||u)&&1===l||s&&u&&2===l)&&(t.dragmode="pan"),a(e,t,n)}},{"../../lib":230,"./hoverlabel_defaults":138,"./hovermode_defaults":139,"./layout_attributes":141}],143:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./hoverlabel_defaults"),o=e("./layout_attributes");t.exports=function(e,t){function n(n,i){return r.coerce(e,t,o,n,i)}i(e,t,n)}},{"../../lib":230,"./hoverlabel_defaults":138,"./layout_attributes":141}],144:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../lib/regex").counter,o=e("../../plots/domain").attributes,a=e("../../plots/cartesian/constants").idRegex,s=e("../../plot_api/plot_template"),u={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[i("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[a.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[a.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:o({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function l(e,t,n){var r=t[n+"axes"],i=Object.keys((e._splomAxes||{})[n]||{});return Array.isArray(r)?r:i.length?i:void 0}function c(e,t){var n=e.grid||{},i=l(t,n,"x"),o=l(t,n,"y");if(e.grid||i||o){var a,c,h=Array.isArray(n.subplots)&&Array.isArray(n.subplots[0]),d=Array.isArray(i),p=Array.isArray(o),v=d&&i!==n.xaxes&&p&&o!==n.yaxes;h?(a=n.subplots.length,c=n.subplots[0].length):(p&&(a=o.length),d&&(c=i.length));var y=s.newContainer(t,"grid"),g=k("rows",a),m=k("columns",c);if(g*m>1){h||d||p||"independent"===k("pattern")&&(h=!0),y._hasSubplotGrid=h;var b,_,w="top to bottom"===k("roworder"),x=h?.2:.1,T=h?.3:.1;v&&t._splomGridDflt&&(b=t._splomGridDflt.xside,_=t._splomGridDflt.yside),y._domains={x:f("x",k,x,b,m),y:f("y",k,T,_,g,w)}}else delete t.grid}function k(e,t){return r.coerce(n,y,u,e,t)}}function f(e,t,n,r,i,o){var a=t(e+"gap",n),s=t("domain."+e);t(e+"side",r);for(var u=new Array(i),l=s[0],c=(s[1]-l)/(i-a),f=c*(1-a),h=0;h<i;h++){var d=l+c*h;u[o?i-1-h:h]=[d,d+f]}return u}function h(e,t){var n=t.grid;if(n&&n._domains){var r,i,o,a,s,u,c,f=e.grid||{},h=t._subplots,p=n._hasSubplotGrid,v=n.rows,y=n.columns,g="independent"===n.pattern,m=n._axisMap={};if(p){var b=f.subplots||[];u=n.subplots=new Array(v);var _=1;for(r=0;r<v;r++){var w=u[r]=new Array(y),x=b[r]||[];for(i=0;i<y;i++)if(g?(s=1===_?"xy":"x"+_+"y"+_,_++):s=x[i],w[i]="",-1!==h.cartesian.indexOf(s)){if(c=s.indexOf("y"),o=s.slice(0,c),a=s.slice(c),void 0!==m[o]&&m[o]!==i||void 0!==m[a]&&m[a]!==r)continue;w[i]=s,m[o]=i,m[a]=r}}}else{var T=l(t,f,"x"),k=l(t,f,"y");n.xaxes=d(T,h.xaxis,y,m,"x"),n.yaxes=d(k,h.yaxis,v,m,"y")}var O=n._anchors={},S="top to bottom"===n.roworder;for(var A in m){var E,M,C,I=A.charAt(0),D=n[I+"side"];if(D.length<8)O[A]="free";else if("x"===I){if("t"===D.charAt(0)===S?(E=0,M=1,C=v):(E=v-1,M=-1,C=-1),p){var P=m[A];for(r=E;r!==C;r+=M)if((s=u[r][P])&&(c=s.indexOf("y"),s.slice(0,c)===A)){O[A]=s.slice(c);break}}else for(r=E;r!==C;r+=M)if(a=n.yaxes[r],-1!==h.cartesian.indexOf(A+a)){O[A]=a;break}}else if("l"===D.charAt(0)?(E=0,M=1,C=y):(E=y-1,M=-1,C=-1),p){var N=m[A];for(r=E;r!==C;r+=M)if((s=u[N][r])&&(c=s.indexOf("y"),s.slice(c)===A)){O[A]=s.slice(0,c);break}}else for(r=E;r!==C;r+=M)if(o=n.xaxes[r],-1!==h.cartesian.indexOf(o+A)){O[A]=o;break}}}}function d(e,t,n,r,i){var o,a=new Array(n);function s(e,n){-1!==t.indexOf(n)&&void 0===r[n]?(a[e]=n,r[n]=e):a[e]=""}if(Array.isArray(e))for(o=0;o<n;o++)s(o,e[o]);else for(s(0,i),o=1;o<n;o++)s(o,i+(o+1));return a}t.exports={moduleType:"component",name:"grid",schema:{layout:{grid:u}},layoutAttributes:u,sizeDefaults:c,contentDefaults:h}},{"../../lib":230,"../../lib/regex":246,"../../plot_api/plot_template":265,"../../plots/cartesian/constants":283,"../../plots/domain":304}],145:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/constants"),i=e("../../plot_api/plot_template").templatedArray;e("../../constants/axis_placeable_objects"),t.exports=i("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",r.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",r.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":206,"../../plot_api/plot_template":265,"../../plots/cartesian/constants":283}],146:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib/to_log_range");t.exports=function(e,t,n,o){t=t||{};var a="log"===n&&"linear"===t.type,s="linear"===n&&"log"===t.type;if(a||s)for(var u,l,c=e._fullLayout.images,f=t._id.charAt(0),h=0;h<c.length;h++)if(l="images["+h+"].",(u=c[h])[f+"ref"]===t._id){var d=u[f],p=u["size"+f],v=null,y=null;if(a){v=i(d,t.range);var g=p/Math.pow(10,v)/2;y=2*Math.log(g+Math.sqrt(1+g*g))/Math.LN10}else y=(v=Math.pow(10,d))*(Math.pow(10,p/2)-Math.pow(10,-p/2));r(v)?r(y)||(y=null):(v=null,y=null),o(l+f,v),o(l+"size"+f,y)}}},{"../../lib/to_log_range":254,"fast-isnumeric":15}],147:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes"),o=e("../../plots/array_container_defaults"),a=e("./attributes"),s="images";function u(e,t,n){function o(n,i){return r.coerce(e,t,a,n,i)}var s=o("source");if(!o("visible",!!s))return t;o("layer"),o("xanchor"),o("yanchor"),o("sizex"),o("sizey"),o("sizing"),o("opacity");for(var u={_fullLayout:n},l=["x","y"],c=0;c<2;c++){var f=l[c],h=i.coerceRef(e,t,u,f,"paper",void 0);"paper"!==h&&i.getFromId(u,h)._imgIndices.push(t._index),i.coercePosition(t,u,o,h,f,0)}return t}t.exports=function(e,t){o(e,t,{name:s,handleItemDefaults:u})}},{"../../lib":230,"../../plots/array_container_defaults":271,"../../plots/cartesian/axes":276,"./attributes":145}],148:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../drawing"),o=e("../../plots/cartesian/axes"),a=e("../../plots/cartesian/axis_ids"),s=e("../../constants/xmlns_namespaces");t.exports=function(e){var t,n,u=e._fullLayout,l=[],c={},f=[];for(n=0;n<u.images.length;n++){var h=u.images[n];if(h.visible)if("below"===h.layer&&"paper"!==h.xref&&"paper"!==h.yref){t=a.ref2id(h.xref)+a.ref2id(h.yref);var d=u._plots[t];if(!d){f.push(h);continue}d.mainplot&&(t=d.mainplot.id),c[t]||(c[t]=[]),c[t].push(h)}else"above"===h.layer?l.push(h):f.push(h)}var p={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}}};function v(t){var n=r.select(this);if(this._imgSrc!==t.source)if(n.attr("xmlns",s.svg),t.source&&"data:"===t.source.slice(0,5))n.attr("xlink:href",t.source),this._imgSrc=t.source;else{var i=new Promise(function(e){var r=new Image;function i(){n.remove(),e()}this.img=r,r.setAttribute("crossOrigin","anonymous"),r.onerror=i,r.onload=function(){var t=document.createElement("canvas");t.width=this.width,t.height=this.height,t.getContext("2d").drawImage(this,0,0);var r=t.toDataURL("image/png");n.attr("xlink:href",r),e()},n.on("error",i),r.src=t.source,this._imgSrc=t.source}.bind(this));e._promises.push(i)}}function y(t){var n,a,s=r.select(this),l=o.getFromId(e,t.xref),c=o.getFromId(e,t.yref),f="domain"===o.getRefType(t.xref),h="domain"===o.getRefType(t.yref),d=u._size;n=void 0!==l?"string"===typeof t.xref&&f?l._length*t.sizex:Math.abs(l.l2p(t.sizex)-l.l2p(0)):t.sizex*d.w,a=void 0!==c?"string"===typeof t.yref&&h?c._length*t.sizey:Math.abs(c.l2p(t.sizey)-c.l2p(0)):t.sizey*d.h;var v,y,g=n*p.x[t.xanchor].offset,m=a*p.y[t.yanchor].offset,b=p.x[t.xanchor].sizing+p.y[t.yanchor].sizing;switch(v=void 0!==l?"string"===typeof t.xref&&f?l._length*t.x+l._offset:l.r2p(t.x)+l._offset:t.x*d.w+d.l,v+=g,y=void 0!==c?"string"===typeof t.yref&&h?c._length*(1-t.y)+c._offset:c.r2p(t.y)+c._offset:d.h-t.y*d.h+d.t,y+=m,t.sizing){case"fill":b+=" slice";break;case"stretch":b="none"}s.attr({x:v,y:y,width:n,height:a,preserveAspectRatio:b,opacity:t.opacity});var _=(l&&"domain"!==o.getRefType(t.xref)?l._id:"")+(c&&"domain"!==o.getRefType(t.yref)?c._id:"");i.setClipUrl(s,_?"clip"+u._uid+_:null,e)}var g=u._imageLowerLayer.selectAll("image").data(f),m=u._imageUpperLayer.selectAll("image").data(l);g.enter().append("image"),m.enter().append("image"),g.exit().remove(),m.exit().remove(),g.each((function(e){v.bind(this)(e),y.bind(this)(e)})),m.each((function(e){v.bind(this)(e),y.bind(this)(e)}));var b=Object.keys(u._plots);for(n=0;n<b.length;n++){t=b[n];var _=u._plots[t];if(_.imagelayer){var w=_.imagelayer.selectAll("image").data(c[t]||[]);w.enter().append("image"),w.exit().remove(),w.each((function(e){v.bind(this)(e),y.bind(this)(e)}))}}}},{"../../constants/xmlns_namespaces":211,"../../plots/cartesian/axes":276,"../../plots/cartesian/axis_ids":280,"../drawing":122,"@plotly/d3":11}],149:[function(e,t,n){"use strict";t.exports={moduleType:"component",name:"images",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),includeBasePlot:e("../../plots/cartesian/include_components")("images"),draw:e("./draw"),convertCoords:e("./convert_coords")}},{"../../plots/cartesian/include_components":289,"./attributes":145,"./convert_coords":146,"./defaults":147,"./draw":148}],150:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),i=e("../color/attributes");t.exports={bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:i.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:r({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},x:{valType:"number",min:-2,max:3,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:r({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},{"../../plots/font_attributes":305,"../color/attributes":99}],151:[function(e,t,n){"use strict";t.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},{}],152:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../lib"),o=e("../../plot_api/plot_template"),a=e("./attributes"),s=e("../../plots/layout_attributes"),u=e("./helpers");t.exports=function(e,t,n){for(var l=e.legend||{},c=0,f=!1,h="normal",d=0;d<n.length;d++){var p=n[d];p.visible&&((p.showlegend||p._dfltShowLegend&&!(p._module&&p._module.attributes&&p._module.attributes.showlegend&&!1===p._module.attributes.showlegend.dflt))&&(c++,p.showlegend&&(f=!0,(r.traceIs(p,"pie-like")||!0===p._input.showlegend)&&c++)),(r.traceIs(p,"bar")&&"stack"===t.barmode||-1!==["tonextx","tonexty"].indexOf(p.fill))&&(h=u.isGrouped({traceorder:h})?"grouped+reversed":"reversed"),void 0!==p.legendgroup&&""!==p.legendgroup&&(h=u.isReversed({traceorder:h})?"reversed+grouped":"grouped"))}var v=i.coerce(e,t,s,"showlegend",f&&c>1);if(!1!==v||l.uirevision){var y=o.newContainer(t,"legend");if(T("uirevision",t.uirevision),!1!==v){T("bgcolor",t.paper_bgcolor),T("bordercolor"),T("borderwidth");var g,m,b,_=i.coerceFont(T,"font",t.font),w="h"===T("orientation");if(w?(g=0,r.getComponentMethod("rangeslider","isVisible")(e.xaxis)?(m=1.1,b="bottom"):(m=-.1,b="top")):(g=1.02,m=1,b="auto"),T("traceorder",h),u.isGrouped(t.legend)&&T("tracegroupgap"),T("itemsizing"),T("itemwidth"),T("itemclick"),T("itemdoubleclick"),T("x",g),T("xanchor"),T("y",m),T("yanchor",b),T("valign"),i.noneOrAll(l,y,["x","y"]),T("title.text")){T("title.side",w?"left":"top");var x=i.extendFlat({},_,{size:i.bigFont(_.size)});i.coerceFont(T,"title.font",x)}}}function T(e,t){return i.coerce(l,y,a,e,t)}}},{"../../lib":230,"../../plot_api/plot_template":265,"../../plots/layout_attributes":309,"../../registry":313,"./attributes":150,"./helpers":156}],153:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../../lib"),o=e("../../plots/plots"),a=e("../../registry"),s=e("../../lib/events"),u=e("../dragelement"),l=e("../drawing"),c=e("../color"),f=e("../../lib/svg_text_utils"),h=e("./handle_click"),d=e("./constants"),p=e("../../constants/alignment"),v=p.LINE_SPACING,y=p.FROM_TL,g=p.FROM_BR,m=e("./get_legend_data"),b=e("./style"),_=e("./helpers"),w=1;function x(e,t){var n,s=e._fullLayout,f="legend"+s._uid,h=t._inHover;if(h?(n=t.layer,f+="-hover"):n=s._infolayer,n){var p;if(e._legendMouseDownTime||(e._legendMouseDownTime=0),h){if(!t.entries)return;p=m(t.entries,t)}else{if(!e.calcdata)return;p=s.showlegend&&m(e.calcdata,t)}var v=s.hiddenlabels||[];if(!h&&(!s.showlegend||!p.length))return n.selectAll(".legend").remove(),s._topdefs.select("#"+f).remove(),o.autoMargin(e,"legend");var g=i.ensureSingle(n,"g","legend",(function(e){h||e.attr("pointer-events","all")})),_=i.ensureSingleById(s._topdefs,"clipPath",f,(function(e){e.append("rect")})),x=i.ensureSingle(g,"rect","bg",(function(e){e.attr("shape-rendering","crispEdges")}));x.call(c.stroke,t.bordercolor).call(c.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px");var O=i.ensureSingle(g,"g","scrollbox"),E=t.title;if(t._titleWidth=0,t._titleHeight=0,E.text){var M=i.ensureSingle(O,"text","legendtitletext");M.attr("text-anchor","start").call(l.font,E.font).text(E.text),A(M,O,e,t,w)}else O.selectAll(".legendtitletext").remove();var N=i.ensureSingle(g,"rect","scrollbar",(function(e){e.attr(d.scrollBarEnterAttrs).call(c.fill,d.scrollBarColor)})),L=O.selectAll("g.groups").data(p);L.enter().append("g").attr("class","groups"),L.exit().remove();var j=L.selectAll("g.traces").data(i.identity);j.enter().append("g").attr("class","traces"),j.exit().remove(),j.style("opacity",(function(e){var t=e[0].trace;return a.traceIs(t,"pie-like")?-1!==v.indexOf(e[0].label)?.5:1:"legendonly"===t.visible?.5:1})).each((function(){r.select(this).call(k,e,t)})).call(b,e,t).each((function(){h||r.select(this).call(S,e)})),i.syncOrAsync([o.previousPromises,function(){return C(e,L,j,t)},function(){if(h||!I(e)){var o,c,p,v,m=s._size,b=t.borderwidth,w=m.l+m.w*t.x-y[D(t)]*t._width,k=m.t+m.h*(1-t.y)-y[P(t)]*t._effHeight;if(!h&&s.margin.autoexpand){var S=w,A=k;w=i.constrain(w,0,s.width-t._width),k=i.constrain(k,0,s.height-t._effHeight),w!==S&&i.log("Constrain legend.x to make legend fit inside graph"),k!==A&&i.log("Constrain legend.y to make legend fit inside graph")}if(h||l.setTranslate(g,w,k),N.on(".drag",null),g.on("wheel",null),h||t._height<=t._maxHeight||e._context.staticPlot){var E=t._effHeight;h&&(E=t._height),x.attr({width:t._width-b,height:E-b,x:b/2,y:b/2}),l.setTranslate(O,0,0),_.select("rect").attr({width:t._width-2*b,height:E-2*b,x:b,y:b}),l.setClipUrl(O,f,e),l.setRect(N,0,0,0,0),delete t._scrollY}else{var M,C,L,j=Math.max(d.scrollBarMinHeight,t._effHeight*t._effHeight/t._height),R=t._effHeight-j-2*d.scrollBarMargin,F=t._height-t._effHeight,z=R/F,U=Math.min(t._scrollY||0,F);x.attr({width:t._width-2*b+d.scrollBarWidth+d.scrollBarMargin,height:t._effHeight-b,x:b/2,y:b/2}),_.select("rect").attr({width:t._width-2*b+d.scrollBarWidth+d.scrollBarMargin,height:t._effHeight-2*b,x:b,y:b+U}),l.setClipUrl(O,f,e),W(U,j,z),g.on("wheel",(function(){W(U=i.constrain(t._scrollY+r.event.deltaY/R*F,0,F),j,z),0!==U&&U!==F&&r.event.preventDefault()}));var q=function(e,t,n){var r=(n-t)/z+e;return i.constrain(r,0,F)},V=function(e,t,n){var r=(t-n)/z+e;return i.constrain(r,0,F)},B=r.behavior.drag().on("dragstart",(function(){var e=r.event.sourceEvent;M="touchstart"===e.type?e.changedTouches[0].clientY:e.clientY,L=U})).on("drag",(function(){var e=r.event.sourceEvent;2===e.buttons||e.ctrlKey||(C="touchmove"===e.type?e.changedTouches[0].clientY:e.clientY,W(U=q(L,M,C),j,z))}));N.call(B);var H=r.behavior.drag().on("dragstart",(function(){var e=r.event.sourceEvent;"touchstart"===e.type&&(M=e.changedTouches[0].clientY,L=U)})).on("drag",(function(){var e=r.event.sourceEvent;"touchmove"===e.type&&(C=e.changedTouches[0].clientY,W(U=V(L,M,C),j,z))}));O.call(H)}e._context.edits.legendPosition&&(g.classed("cursor-move",!0),u.init({element:g.node(),gd:e,prepFn:function(){var e=l.getTranslate(g);p=e.x,v=e.y},moveFn:function(e,n){var r=p+e,i=v+n;l.setTranslate(g,r,i),o=u.align(r,0,m.l,m.l+m.w,t.xanchor),c=u.align(i,0,m.t+m.h,m.t,t.yanchor)},doneFn:function(){void 0!==o&&void 0!==c&&a.call("_guiRelayout",e,{"legend.x":o,"legend.y":c})},clickFn:function(t,r){var i=n.selectAll("g.traces").filter((function(){var e=this.getBoundingClientRect();return r.clientX>=e.left&&r.clientX<=e.right&&r.clientY>=e.top&&r.clientY<=e.bottom}));i.size()>0&&T(e,g,i,t,r)}}))}function W(n,r,i){t._scrollY=e._fullLayout.legend._scrollY=n,l.setTranslate(O,0,-n),l.setRect(N,t._width,d.scrollBarMargin+n*i,d.scrollBarWidth,r),_.select("rect").attr("y",b+n)}}],e)}}function T(e,t,n,r,i){var o=n.data()[0][0].trace,u={event:i,node:n.node(),curveNumber:o.index,expandedIndex:o._expandedIndex,data:e.data,layout:e.layout,frames:e._transitionData._frames,config:e._context,fullData:e._fullData,fullLayout:e._fullLayout};o._group&&(u.group=o._group),a.traceIs(o,"pie-like")&&(u.label=n.datum()[0].label),!1!==s.triggerHandler(e,"plotly_legendclick",u)&&(1===r?t._clickTimeout=setTimeout((function(){e._fullLayout&&h(n,e,r)}),e._context.doubleClickDelay):2===r&&(t._clickTimeout&&clearTimeout(t._clickTimeout),e._legendMouseDownTime=0,!1!==s.triggerHandler(e,"plotly_legenddoubleclick",u)&&h(n,e,r)))}function k(e,t,n){var r,o,s=e.data()[0][0],u=s.trace,c=a.traceIs(u,"pie-like"),h=!n._inHover&&t._context.edits.legendText&&!c,p=n._maxNameLength;s.groupTitle?(r=s.groupTitle.text,o=s.groupTitle.font):(o=n.font,n.entries?r=s.text:(r=c?s.label:u.name,u._meta&&(r=i.templateString(r,u._meta))));var v=i.ensureSingle(e,"text","legendtext");v.attr("text-anchor","start").call(l.font,o).text(h?O(r,p):r);var y=n.itemwidth+2*d.itemGap;f.positionText(v,y,0),h?v.call(f.makeEditable,{gd:t,text:r}).call(A,e,t,n).on("edit",(function(r){this.text(O(r,p)).call(A,e,t,n);var o=s.trace._fullInput||{},l={};if(a.hasTransform(o,"groupby")){var c=a.getTransformIndices(o,"groupby"),f=c[c.length-1],h=i.keyedContainer(o,"transforms["+f+"].styles","target","value.name");h.set(s.trace._group,r),l=h.constructUpdate()}else l.name=r;return a.call("_guiRestyle",t,l,u.index)})):A(v,e,t,n)}function O(e,t){var n=Math.max(4,t);if(e&&e.trim().length>=n/2)return e;for(var r=n-(e=e||"").length;r>0;r--)e+=" ";return e}function S(e,t){var n,o=t._context.doubleClickDelay,a=1,s=i.ensureSingle(e,"rect","legendtoggle",(function(e){t._context.staticPlot||e.style("cursor","pointer").attr("pointer-events","all"),e.call(c.fill,"rgba(0,0,0,0)")}));t._context.staticPlot||(s.on("mousedown",(function(){(n=(new Date).getTime())-t._legendMouseDownTime<o?a+=1:(a=1,t._legendMouseDownTime=n)})),s.on("mouseup",(function(){if(!t._dragged&&!t._editing){var n=t._fullLayout.legend;(new Date).getTime()-t._legendMouseDownTime>o&&(a=Math.max(a-1,1)),T(t,n,e,a,r.event)}})))}function A(e,t,n,r,i){r._inHover&&e.attr("data-notex",!0),f.convertToTspans(e,n,(function(){E(t,n,r,i)}))}function E(e,t,n,r){var i=e.data()[0][0];if(n._inHover||!i||i.trace.showlegend){var o=e.select("g[class*=math-group]"),a=o.node();n||(n=t._fullLayout.legend);var s,u,c=n.borderwidth,h=(r===w?n.title.font:i.groupTitle?i.groupTitle.font:n.font).size*v;if(a){var p=l.bBox(a);s=p.height,u=p.width,r===w?l.setTranslate(o,c,c+.75*s):l.setTranslate(o,0,.25*s)}else{var y=e.select(r===w?".legendtitletext":".legendtext"),g=f.lineCount(y),m=y.node();if(s=h*g,u=m?l.bBox(m).width:0,r===w)"left"===n.title.side&&(u+=2*d.itemGap),f.positionText(y,c+d.titlePad,c+h);else{var b=2*d.itemGap+n.itemwidth;i.groupTitle&&(b=d.itemGap,u-=n.itemwidth),f.positionText(y,b,-h*((g-1)/2-.3))}}r===w?(n._titleWidth=u,n._titleHeight=s):(i.lineHeight=h,i.height=Math.max(s,16)+3,i.width=u)}else e.remove()}function M(e){var t=0,n=0,r=e.title.side;return r&&(-1!==r.indexOf("left")&&(t=e._titleWidth),-1!==r.indexOf("top")&&(n=e._titleHeight)),[t,n]}function C(e,t,n,i){var o=e._fullLayout;i||(i=o.legend);var a=o._size,s=_.isVertical(i),u=_.isGrouped(i),c=i.borderwidth,f=2*c,h=d.itemGap,p=i.itemwidth+2*h,v=2*(c+h),y=P(i),g=i.y<0||0===i.y&&"top"===y,m=i.y>1||1===i.y&&"bottom"===y,b=i.tracegroupgap;i._maxHeight=Math.max(g||m?o.height/2:a.h,30);var w=0;i._width=0,i._height=0;var x=M(i);if(s)n.each((function(e){var t=e[0].height;l.setTranslate(this,c+x[0],c+x[1]+i._height+t/2+h),i._height+=t,i._width=Math.max(i._width,e[0].width)})),w=p+i._width,i._width+=h+p+f,i._height+=v,u&&(t.each((function(e,t){l.setTranslate(this,0,t*i.tracegroupgap)})),i._height+=(i._lgroupsLength-1)*i.tracegroupgap);else{var T=D(i),k=i.x<0||0===i.x&&"right"===T,O=i.x>1||1===i.x&&"left"===T,S=m||g,A=o.width/2;i._maxWidth=Math.max(k?S&&"left"===T?a.l+a.w:A:O?S&&"right"===T?a.r+a.w:A:a.w,2*p);var E=0,C=0;n.each((function(e){var t=e[0].width+p;E=Math.max(E,t),C+=t})),w=null;var I=0;if(u){var N=0,L=0,j=0;t.each((function(){var e=0,t=0;r.select(this).selectAll("g.traces").each((function(n){var r=n[0].height;l.setTranslate(this,x[0],x[1]+c+h+r/2+t),t+=r,e=Math.max(e,p+n[0].width)})),N=Math.max(N,t);var n=e+h;n+c+L>i._maxWidth&&(I=Math.max(I,L),L=0,j+=N+b,N=t),l.setTranslate(this,L,j),L+=n})),i._width=Math.max(I,L)+c,i._height=j+N+v}else{var R=n.size(),F=C+f+(R-1)*h<i._maxWidth,z=0,U=0,q=0,V=0;n.each((function(e){var t=e[0].height,n=p+e[0].width,r=(F?n:E)+h;r+c+U-h>=i._maxWidth&&(I=Math.max(I,V),U=0,q+=z,i._height+=z,z=0),l.setTranslate(this,x[0]+c+U,x[1]+c+q+t/2+h),V=U+n+h,U+=r,z=Math.max(z,t)})),F?(i._width=U+f,i._height=z+v):(i._width=Math.max(I,V)+f,i._height+=z+v)}}i._width=Math.ceil(Math.max(i._width+x[0],i._titleWidth+2*(c+d.titlePad))),i._height=Math.ceil(Math.max(i._height+x[1],i._titleHeight+2*(c+d.itemGap))),i._effHeight=Math.min(i._height,i._maxHeight);var B=e._context.edits,H=B.legendText||B.legendPosition;n.each((function(e){var t=r.select(this).select(".legendtoggle"),n=e[0].height,i=H?p:w||p+e[0].width;s||(i+=h/2),l.setRect(t,0,-n/2,i,n)}))}function I(e){var t=e._fullLayout.legend,n=D(t),r=P(t);return o.autoMargin(e,"legend",{x:t.x,y:t.y,l:t._width*y[n],r:t._width*g[n],b:t._effHeight*g[r],t:t._effHeight*y[r]})}function D(e){return i.isRightAnchor(e)?"right":i.isCenterAnchor(e)?"center":"left"}function P(e){return i.isBottomAnchor(e)?"bottom":i.isMiddleAnchor(e)?"middle":"top"}t.exports=function(e,t){return t||(t=e._fullLayout.legend||{}),x(e,t)}},{"../../constants/alignment":205,"../../lib":230,"../../lib/events":223,"../../lib/svg_text_utils":252,"../../plots/plots":311,"../../registry":313,"../color":100,"../dragelement":119,"../drawing":122,"./constants":151,"./get_legend_data":154,"./handle_click":155,"./helpers":156,"./style":158,"@plotly/d3":11}],154:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("./helpers");t.exports=function(e,t){var n,o,a=i.isGrouped(t),s=i.isReversed(t),u={},l=[],c=!1,f={},h=0,d=0;function p(e,n){if(""!==e&&i.isGrouped(t))-1===l.indexOf(e)?(l.push(e),c=!0,u[e]=[n]):u[e].push(n);else{var r="~~i"+h;l.push(r),u[r]=[n],h++}}for(n=0;n<e.length;n++){var v=e[n],y=v[0],g=y.trace,m=g.legendgroup;if(t._inHover||g.visible&&g.showlegend)if(r.traceIs(g,"pie-like"))for(f[m]||(f[m]={}),o=0;o<v.length;o++){var b=v[o].label;f[m][b]||(p(m,{label:b,color:v[o].color,i:v[o].i,trace:g,pts:v[o].pts}),f[m][b]=!0,d=Math.max(d,(b||"").length))}else p(m,y),d=Math.max(d,(g.name||"").length)}if(!l.length)return[];var _=!c||!a,w=[];for(n=0;n<l.length;n++){var x=u[l[n]];_?w.push(x[0]):w.push(x)}for(_&&(w=[w]),n=0;n<w.length;n++){var T=1/0;for(o=0;o<w[n].length;o++){var k=w[n][o].trace.legendrank;T>k&&(T=k)}w[n][0]._groupMinRank=T,w[n][0]._preGroupSort=n}var O=function(e,t){return e[0]._groupMinRank-t[0]._groupMinRank||e[0]._preGroupSort-t[0]._preGroupSort},S=function(e,t){return e.trace.legendrank-t.trace.legendrank||e._preSort-t._preSort};for(w.forEach((function(e,t){e[0]._preGroupSort=t})),w.sort(O),n=0;n<w.length;n++){w[n].forEach((function(e,t){e._preSort=t})),w[n].sort(S);var A=w[n][0],E=null;for(o=0;o<w[n].length;o++){var M=w[n][o].trace.legendgrouptitle;if(M&&M.text){E=M;break}}for(s&&w[n].reverse(),E&&w[n].unshift({i:-1,groupTitle:E,trace:{showlegend:A.trace.showlegend}}),o=0;o<w[n].length;o++)w[n][o]=[w[n][o]]}return t._lgroupsLength=w.length,t._maxNameLength=d,w}},{"../../registry":313,"./helpers":156}],155:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../registry"),o=!0;t.exports=function(e,t,n){var a=t._fullLayout;if(!t._dragged&&!t._editing){var s,u=a.legend.itemclick,l=a.legend.itemdoubleclick;if(1===n&&"toggle"===u&&"toggleothers"===l&&o&&t.data&&t._context.showTips?(r.notifier(r._(t,"Double-click on legend to isolate one trace"),"long"),o=!1):o=!1,1===n?s=u:2===n&&(s=l),s){var c=a.hiddenlabels?a.hiddenlabels.slice():[],f=e.data()[0][0];if(!f.groupTitle){var h,d,p,v,y,g=t._fullData,m=f.trace,b=m.legendgroup,_={},w=[],x=[],T=[];if(i.traceIs(m,"pie-like")){var k=f.label,O=c.indexOf(k);"toggle"===s?-1===O?c.push(k):c.splice(O,1):"toggleothers"===s&&(c=[],t.calcdata[0].forEach((function(e){k!==e.label&&c.push(e.label)})),t._fullLayout.hiddenlabels&&t._fullLayout.hiddenlabels.length===c.length&&-1===O&&(c=[])),i.call("_guiRelayout",t,"hiddenlabels",c)}else{var S,A=b&&b.length,E=[];if(A)for(h=0;h<g.length;h++)(S=g[h]).visible&&S.legendgroup===b&&E.push(h);if("toggle"===s){var M;switch(m.visible){case!0:M="legendonly";break;case!1:M=!1;break;case"legendonly":M=!0}if(A)for(h=0;h<g.length;h++)!1!==g[h].visible&&g[h].legendgroup===b&&F(g[h],M);else F(m,M)}else if("toggleothers"===s){var C,I,D,P,N=!0;for(h=0;h<g.length;h++)if(C=g[h]===m,D=!0!==g[h].showlegend,!C&&!D&&!(I=A&&g[h].legendgroup===b)&&!0===g[h].visible&&!i.traceIs(g[h],"notLegendIsolatable")){N=!1;break}for(h=0;h<g.length;h++)if(!1!==g[h].visible&&!i.traceIs(g[h],"notLegendIsolatable"))switch(m.visible){case"legendonly":F(g[h],!0);break;case!0:P=!!N||"legendonly",C=g[h]===m,D=!0!==g[h].showlegend&&!g[h].legendgroup,I=C||A&&g[h].legendgroup===b,F(g[h],!(!I&&!D)||P)}}for(h=0;h<x.length;h++)if(p=x[h]){var L=p.constructUpdate(),j=Object.keys(L);for(d=0;d<j.length;d++)v=j[d],(_[v]=_[v]||[])[T[h]]=L[v]}for(y=Object.keys(_),h=0;h<y.length;h++)for(v=y[h],d=0;d<w.length;d++)_[v].hasOwnProperty(d)||(_[v][d]=void 0);i.call("_guiRestyle",t,_,w)}}}}function R(e,t,n){var r=w.indexOf(e),i=_[t];return i||(i=_[t]=[]),-1===w.indexOf(e)&&(w.push(e),r=w.length-1),i[r]=n,r}function F(e,t){var n=e._fullInput;if(i.hasTransform(n,"groupby")){var o=x[n.index];if(!o){var a=i.getTransformIndices(n,"groupby"),s=a[a.length-1];o=r.keyedContainer(n,"transforms["+s+"].styles","target","value.visible"),x[n.index]=o}var u=o.get(e._group);void 0===u&&(u=!0),!1!==u&&o.set(e._group,t),T[n.index]=R(n.index,"visible",!1!==n.visible)}else{var l=!1!==n.visible&&t;R(n.index,"visible",l)}}}},{"../../lib":230,"../../registry":313}],156:[function(e,t,n){"use strict";n.isGrouped=function(e){return-1!==(e.traceorder||"").indexOf("grouped")},n.isVertical=function(e){return"h"!==e.orientation},n.isReversed=function(e){return-1!==(e.traceorder||"").indexOf("reversed")}},{}],157:[function(e,t,n){"use strict";t.exports={moduleType:"component",name:"legend",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),draw:e("./draw"),style:e("./style")}},{"./attributes":150,"./defaults":152,"./draw":153,"./style":158}],158:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../../registry"),o=e("../../lib"),a=o.strTranslate,s=e("../drawing"),u=e("../color"),l=e("../colorscale/helpers").extractOpts,c=e("../../traces/scatter/subtypes"),f=e("../../traces/pie/style_one"),h=e("../../traces/pie/helpers").castOption,d=e("./constants"),p=12,v=5,y=2,g=10,m=5;function b(e,t){return(t?"radial":"horizontal")+(e?"":"reversed")}function _(e){var t=e[0].trace,n=t.contours,r=c.hasLines(t),i=c.hasMarkers(t),o=t.visible&&t.fill&&"none"!==t.fill,a=!1,s=!1;if(n){var u=n.coloring;"lines"===u?a=!0:r="none"===u||"heatmap"===u||n.showlines,"constraint"===n.type?o="="!==n._operation:"fill"!==u&&"heatmap"!==u||(s=!0)}return{showMarker:i,showLine:r,showFill:o,showGradientLine:a,showGradientFill:s,anyLine:r||a,anyFill:o||s}}function w(e,t,n){return e&&o.isArrayOrTypedArray(e)?t:e>n?n:e}t.exports=function(e,t,n){var x=t._fullLayout;n||(n=x.legend);var T="constant"===n.itemsizing,k=n.itemwidth,O=(k+2*d.itemGap)/2,S=a(O,0),A=function(e,t,n,r){var i;if(e+1)i=e;else{if(!(t&&t.width>0))return 0;i=t.width}return T?r:Math.min(i,n)};function E(e){var n,i,a=_(e),u=a.showFill,f=a.showLine,h=a.showGradientLine,d=a.showGradientFill,p=a.anyFill,y=a.anyLine,m=e[0],w=m.trace,x=l(w),T=x.colorscale,O=x.reversescale,S=function(e){if(e.size()){var n="legendfill-"+w.uid;s.gradient(e,t,n,b(O),T,"fill")}},E=function(e){if(e.size()){var n="legendline-"+w.uid;s.lineGroupStyle(e),s.gradient(e,t,n,b(O),T,"stroke")}},M=c.hasMarkers(w)||!p?"M5,0":y?"M5,-2":"M5,-3",C=r.select(this),I=C.select(".legendfill").selectAll("path").data(u||d?[e]:[]);if(I.enter().append("path").classed("js-fill",!0),I.exit().remove(),I.attr("d",M+"h"+k+"v6h-"+k+"z").call(u?s.fillGroupStyle:S),f||h){var D=A(void 0,w.line,g,v);i=o.minExtend(w,{line:{width:D}}),n=[o.minExtend(m,{trace:i})]}var P=C.select(".legendlines").selectAll("path").data(f||h?[n]:[]);P.enter().append("path").classed("js-line",!0),P.exit().remove(),P.attr("d",M+(h?"l"+k+",0.0001":"h"+k)).call(f?s.lineGroupStyle:E)}function M(e){var n,i,a=_(e),u=a.anyFill,l=a.anyLine,f=a.showLine,h=a.showMarker,d=e[0],g=d.trace,m=!h&&!l&&!u&&c.hasText(g);function b(e,t,n,r){var i=o.nestedProperty(g,e).get(),a=o.isArrayOrTypedArray(i)&&t?t(i):i;if(T&&a&&void 0!==r&&(a=r),n){if(a<n[0])return n[0];if(a>n[1])return n[1]}return a}function w(e){return d._distinct&&d.index&&e[d.index]?e[d.index]:e[0]}if(h||m||f){var x={},k={};if(h){x.mc=b("marker.color",w),x.mx=b("marker.symbol",w),x.mo=b("marker.opacity",o.mean,[.2,1]),x.mlc=b("marker.line.color",w),x.mlw=b("marker.line.width",o.mean,[0,5],y),k.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var O=b("marker.size",o.mean,[2,16],p);x.ms=O,k.marker.size=O}f&&(k.line={width:b("line.width",w,[0,10],v)}),m&&(x.tx="Aa",x.tp=b("textposition",w),x.ts=10,x.tc=b("textfont.color",w),x.tf=b("textfont.family",w)),n=[o.minExtend(d,x)],(i=o.minExtend(g,k)).selectedpoints=null,i.texttemplate=null}var A=r.select(this).select("g.legendpoints"),E=A.selectAll("path.scatterpts").data(h?n:[]);E.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",S),E.exit().remove(),E.call(s.pointStyle,i,t),h&&(n[0].mrc=3);var M=A.selectAll("g.pointtext").data(m?n:[]);M.enter().append("g").classed("pointtext",!0).append("text").attr("transform",S),M.exit().remove(),M.selectAll("text").call(s.textPointStyle,i,t)}function C(e){var t=e[0].trace,n="waterfall"===t.type;if(e[0]._distinct&&n){var i=e[0].trace[e[0].dir].marker;return e[0].mc=i.color,e[0].mlw=i.line.width,e[0].mlc=i.line.color,P(e,this,"waterfall")}var o=[];t.visible&&n&&(o=e[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var a=r.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(o);a.enter().append("path").classed("legendwaterfall",!0).attr("transform",S).style("stroke-miterlimit",1),a.exit().remove(),a.each((function(e){var n=r.select(this),i=t[e[0]].marker,o=A(void 0,i.line,m,y);n.attr("d",e[1]).style("stroke-width",o+"px").call(u.fill,i.color),o&&n.call(u.stroke,i.line.color)}))}function I(e){P(e,this)}function D(e){P(e,this,"funnel")}function P(e,o,a){var c=e[0].trace,f=c.marker||{},h=f.line||{},d=a?c.visible&&c.type===a:i.traceIs(c,"bar"),p=r.select(o).select("g.legendpoints").selectAll("path.legend"+a).data(d?[e]:[]);p.enter().append("path").classed("legend"+a,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",S),p.exit().remove(),p.each((function(e){var i=r.select(this),o=e[0],a=A(o.mlw,f.line,m,y);i.style("stroke-width",a+"px");var d=o.mcc;if(!n._inHover&&"mc"in o){var p=l(f),v=p.mid;void 0===v&&(v=(p.max+p.min)/2),d=s.tryColorscale(f,"")(v)}var g=d||o.mc||f.color,b=f.pattern,_=b&&s.getPatternAttr(b.shape,0,"");if(_){var x=s.getPatternAttr(b.bgcolor,0,null),T=s.getPatternAttr(b.fgcolor,0,null),k=b.fgopacity,O=w(b.size,8,10),S=w(b.solidity,.5,1),E="legend-"+c.uid;i.call(s.pattern,"legend",t,E,_,O,S,d,b.fillmode,x,T,k)}else i.call(u.fill,g);a&&u.stroke(i,o.mlc||h.color)}))}function N(e){var n=e[0].trace,a=r.select(this).select("g.legendpoints").selectAll("path.legendbox").data(n.visible&&i.traceIs(n,"box-violin")?[e]:[]);a.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",S),a.exit().remove(),a.each((function(){var e=r.select(this);if("all"!==n.boxpoints&&"all"!==n.points||0!==u.opacity(n.fillcolor)||0!==u.opacity((n.line||{}).color)){var i=A(void 0,n.line,m,y);e.style("stroke-width",i+"px").call(u.fill,n.fillcolor),i&&u.stroke(e,n.line.color)}else{var l=o.minExtend(n,{marker:{size:T?p:o.constrain(n.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});a.call(s.pointStyle,l,t)}}))}function L(e){var t=e[0].trace,n=r.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(t.visible&&"candlestick"===t.type?[e,e]:[]);n.enter().append("path").classed("legendcandle",!0).attr("d",(function(e,t){return t?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"})).attr("transform",S).style("stroke-miterlimit",1),n.exit().remove(),n.each((function(e,n){var i=r.select(this),o=t[n?"increasing":"decreasing"],a=A(void 0,o.line,m,y);i.style("stroke-width",a+"px").call(u.fill,o.fillcolor),a&&u.stroke(i,o.line.color)}))}function j(e){var t=e[0].trace,n=r.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(t.visible&&"ohlc"===t.type?[e,e]:[]);n.enter().append("path").classed("legendohlc",!0).attr("d",(function(e,t){return t?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"})).attr("transform",S).style("stroke-miterlimit",1),n.exit().remove(),n.each((function(e,n){var i=r.select(this),o=t[n?"increasing":"decreasing"],a=A(void 0,o.line,m,y);i.style("fill","none").call(s.dashLine,o.line.dash,a),a&&u.stroke(i,o.line.color)}))}function R(e){z(e,this,"pie")}function F(e){z(e,this,"funnelarea")}function z(e,t,n){var a=e[0],s=a.trace,u=n?s.visible&&s.type===n:i.traceIs(s,n),l=r.select(t).select("g.legendpoints").selectAll("path.legend"+n).data(u?[e]:[]);if(l.enter().append("path").classed("legend"+n,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",S),l.exit().remove(),l.size()){var c=(s.marker||{}).line,d=A(h(c.width,a.pts),c,m,y),p=o.minExtend(s,{marker:{line:{width:d}}});p.marker.line.color=c.color;var v=o.minExtend(a,{trace:p});f(l,v,p)}}function U(e){var n,i=e[0].trace,a=[];if(i.visible)switch(i.type){case"histogram2d":case"heatmap":a=[["M-15,-2V4H15V-2Z"]],n=!0;break;case"choropleth":case"choroplethmapbox":a=[["M-6,-6V6H6V-6Z"]],n=!0;break;case"densitymapbox":a=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],n="radial";break;case"cone":a=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],n=!1;break;case"streamtube":a=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],n=!1;break;case"surface":a=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],n=!0;break;case"mesh3d":a=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],n=!1;break;case"volume":a=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],n=!0;break;case"isosurface":a=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],n=!1}var c=r.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(a);c.enter().append("path").classed("legend3dandfriends",!0).attr("transform",S).style("stroke-miterlimit",1),c.exit().remove(),c.each((function(e,a){var c,f=r.select(this),h=l(i),d=h.colorscale,p=h.reversescale,v=function(e){if(e.size()){var r="legendfill-"+i.uid;s.gradient(e,t,r,b(p,"radial"===n),d,"fill")}};if(d){if(!n){var y=d.length;c=0===a?d[p?y-1:0][1]:1===a?d[p?0:y-1][1]:d[Math.floor((y-1)/2)][1]}}else{var g=i.vertexcolor||i.facecolor||i.color;c=o.isArrayOrTypedArray(g)?g[a]||g[0]:g}f.attr("d",e[0]),c?f.call(u.fill,c):f.call(v)}))}e.each((function(e){var t=r.select(this),i=o.ensureSingle(t,"g","layers");i.style("opacity",e[0].trace.opacity);var s=n.valign,u=e[0].lineHeight,l=e[0].height;if("middle"!==s&&u&&l){var c={top:1,bottom:-1}[s]*(.5*(u-l+3));i.attr("transform",a(0,c))}else i.attr("transform",null);i.selectAll("g.legendfill").data([e]).enter().append("g").classed("legendfill",!0),i.selectAll("g.legendlines").data([e]).enter().append("g").classed("legendlines",!0);var f=i.selectAll("g.legendsymbols").data([e]);f.enter().append("g").classed("legendsymbols",!0),f.selectAll("g.legendpoints").data([e]).enter().append("g").classed("legendpoints",!0)})).each(U).each(C).each(D).each(I).each(N).each(F).each(R).each(E).each(M).each(L).each(j)}},{"../../lib":230,"../../registry":313,"../../traces/pie/helpers":345,"../../traces/pie/style_one":351,"../../traces/scatter/subtypes":378,"../color":100,"../colorscale/helpers":111,"../drawing":122,"./constants":151,"@plotly/d3":11}],159:[function(e,t,n){"use strict";e("./constants"),t.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},{"./constants":161}],160:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../plots/plots"),o=e("../../plots/cartesian/axis_ids"),a=e("../../fonts/ploticon"),s=e("../shapes/draw").eraseActiveShape,u=e("../../lib"),l=u._,c=t.exports={};function f(e,t){var n,i,a=t.currentTarget,s=a.getAttribute("data-attr"),u=a.getAttribute("data-val")||!0,l=e._fullLayout,c={},f=o.list(e,null,!0),h=l._cartesianSpikesEnabled;if("zoom"===s){var d,p="in"===u?.5:2,v=(1+p)/2,y=(1-p)/2;for(i=0;i<f.length;i++)if(!(n=f[i]).fixedrange)if(d=n._name,"auto"===u)c[d+".autorange"]=!0;else if("reset"===u){if(void 0===n._rangeInitial)c[d+".autorange"]=!0;else{var g=n._rangeInitial.slice();c[d+".range[0]"]=g[0],c[d+".range[1]"]=g[1]}void 0!==n._showSpikeInitial&&(c[d+".showspikes"]=n._showSpikeInitial,"on"!==h||n._showSpikeInitial||(h="off"))}else{var m=[n.r2l(n.range[0]),n.r2l(n.range[1])],b=[v*m[0]+y*m[1],v*m[1]+y*m[0]];c[d+".range[0]"]=n.l2r(b[0]),c[d+".range[1]"]=n.l2r(b[1])}}else"hovermode"!==s||"x"!==u&&"y"!==u||(u=l._isHoriz?"y":"x",a.setAttribute("data-val",u)),c[s]=u;l._cartesianSpikesEnabled=h,r.call("_guiRelayout",e,c)}function h(e,t){for(var n=t.currentTarget,i=n.getAttribute("data-attr"),o=n.getAttribute("data-val")||!0,a=e._fullLayout._subplots.gl3d||[],s={},u=i.split("."),l=0;l<a.length;l++)s[a[l]+"."+u[1]]=o;var c="pan"===o?o:"zoom";s.dragmode=c,r.call("_guiRelayout",e,s)}function d(e,t){for(var n=t.currentTarget.getAttribute("data-attr"),i="resetLastSave"===n,o="resetDefault"===n,a=e._fullLayout,s=a._subplots.gl3d||[],u={},l=0;l<s.length;l++){var c,f=s[l],h=f+".camera",d=f+".aspectratio",p=f+".aspectmode",v=a[f]._scene;i?(u[h+".up"]=v.viewInitial.up,u[h+".eye"]=v.viewInitial.eye,u[h+".center"]=v.viewInitial.center,c=!0):o&&(u[h+".up"]=null,u[h+".eye"]=null,u[h+".center"]=null,c=!0),c&&(u[d+".x"]=v.viewInitial.aspectratio.x,u[d+".y"]=v.viewInitial.aspectratio.y,u[d+".z"]=v.viewInitial.aspectratio.z,u[p]=v.viewInitial.aspectmode)}r.call("_guiRelayout",e,u)}function p(e,t){var n=t.currentTarget,r=n._previousVal,i=e._fullLayout,o=i._subplots.gl3d||[],a=["xaxis","yaxis","zaxis"],s={},u={};if(r)u=r,n._previousVal=null;else{for(var l=0;l<o.length;l++){var c=o[l],f=i[c],h=c+".hovermode";s[h]=f.hovermode,u[h]=!1;for(var d=0;d<3;d++){var p=a[d],v=c+"."+p+".showspikes";u[v]=!1,s[v]=f[p].showspikes}}n._previousVal=s}return u}function v(e,t){var n=p(e,t);r.call("_guiRelayout",e,n)}function y(e,t){for(var n=t.currentTarget,i=n.getAttribute("data-attr"),o=n.getAttribute("data-val")||!0,a=e._fullLayout,s=a._subplots.geo||[],u=0;u<s.length;u++){var l=s[u],c=a[l];if("zoom"===i){var f=c.projection.scale,h="in"===o?2*f:.5*f;r.call("_guiRelayout",e,l+".projection.scale",h)}}"reset"===i&&w(e,"geo")}function g(e){var t=e._fullLayout;return!t.hovermode&&(t._has("cartesian")?t._isHoriz?"y":"x":"closest")}function m(e){var t=g(e);r.call("_guiRelayout",e,"hovermode",t)}function b(e){for(var t="on"===e._fullLayout._cartesianSpikesEnabled,n=o.list(e,null,!0),r={},i=0;i<n.length;i++){var a=n[i];r[a._name+".showspikes"]=!!t||a._showSpikeInitial}return r}function _(e,t){for(var n=t.currentTarget.getAttribute("data-val"),i=e._fullLayout,o=i._subplots.mapbox||[],a=1.05,s={},u=0;u<o.length;u++){var l=o[u],c=i[l].zoom,f="in"===n?a*c:c/a;s[l+".zoom"]=f}r.call("_guiRelayout",e,s)}function w(e,t){for(var n=e._fullLayout,i=n._subplots[t]||[],o={},a=0;a<i.length;a++)for(var s=i[a],u=n[s]._subplot.viewInitial,l=Object.keys(u),c=0;c<l.length;c++){var f=l[c];o[s+"."+f]=u[f]}r.call("_guiRelayout",e,o)}c.toImage={name:"toImage",title:function(e){var t=(e._context.toImageButtonOptions||{}).format||"png";return l(e,"png"===t?"Download plot as a png":"Download plot")},icon:a.camera,click:function(e){var t=e._context.toImageButtonOptions,n={format:t.format||"png"};u.notifier(l(e,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==n.format&&u.isIE()&&(u.notifier(l(e,"IE only supports svg.  Changing format to svg."),"long"),n.format="svg"),["filename","width","height","scale"].forEach((function(e){e in t&&(n[e]=t[e])})),r.call("downloadImage",e,n).then((function(t){u.notifier(l(e,"Snapshot succeeded")+" - "+t,"long")})).catch((function(){u.notifier(l(e,"Sorry, there was a problem downloading your snapshot!"),"long")}))}},c.sendDataToCloud={name:"sendDataToCloud",title:function(e){return l(e,"Edit in Chart Studio")},icon:a.disk,click:function(e){i.sendDataToCloud(e)}},c.editInChartStudio={name:"editInChartStudio",title:function(e){return l(e,"Edit in Chart Studio")},icon:a.pencil,click:function(e){i.sendDataToCloud(e)}},c.zoom2d={name:"zoom2d",_cat:"zoom",title:function(e){return l(e,"Zoom")},attr:"dragmode",val:"zoom",icon:a.zoombox,click:f},c.pan2d={name:"pan2d",_cat:"pan",title:function(e){return l(e,"Pan")},attr:"dragmode",val:"pan",icon:a.pan,click:f},c.select2d={name:"select2d",_cat:"select",title:function(e){return l(e,"Box Select")},attr:"dragmode",val:"select",icon:a.selectbox,click:f},c.lasso2d={name:"lasso2d",_cat:"lasso",title:function(e){return l(e,"Lasso Select")},attr:"dragmode",val:"lasso",icon:a.lasso,click:f},c.drawclosedpath={name:"drawclosedpath",title:function(e){return l(e,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:a.drawclosedpath,click:f},c.drawopenpath={name:"drawopenpath",title:function(e){return l(e,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:a.drawopenpath,click:f},c.drawline={name:"drawline",title:function(e){return l(e,"Draw line")},attr:"dragmode",val:"drawline",icon:a.drawline,click:f},c.drawrect={name:"drawrect",title:function(e){return l(e,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:a.drawrect,click:f},c.drawcircle={name:"drawcircle",title:function(e){return l(e,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:a.drawcircle,click:f},c.eraseshape={name:"eraseshape",title:function(e){return l(e,"Erase active shape")},icon:a.eraseshape,click:s},c.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(e){return l(e,"Zoom in")},attr:"zoom",val:"in",icon:a.zoom_plus,click:f},c.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(e){return l(e,"Zoom out")},attr:"zoom",val:"out",icon:a.zoom_minus,click:f},c.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(e){return l(e,"Autoscale")},attr:"zoom",val:"auto",icon:a.autoscale,click:f},c.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(e){return l(e,"Reset axes")},attr:"zoom",val:"reset",icon:a.home,click:f},c.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(e){return l(e,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:a.tooltip_basic,gravity:"ne",click:f},c.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(e){return l(e,"Compare data on hover")},attr:"hovermode",val:function(e){return e._fullLayout._isHoriz?"y":"x"},icon:a.tooltip_compare,gravity:"ne",click:f},c.zoom3d={name:"zoom3d",_cat:"zoom",title:function(e){return l(e,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:a.zoombox,click:h},c.pan3d={name:"pan3d",_cat:"pan",title:function(e){return l(e,"Pan")},attr:"scene.dragmode",val:"pan",icon:a.pan,click:h},c.orbitRotation={name:"orbitRotation",title:function(e){return l(e,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:a["3d_rotate"],click:h},c.tableRotation={name:"tableRotation",title:function(e){return l(e,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:a["z-axis"],click:h},c.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(e){return l(e,"Reset camera to default")},attr:"resetDefault",icon:a.home,click:d},c.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(e){return l(e,"Reset camera to last save")},attr:"resetLastSave",icon:a.movie,click:d},c.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(e){return l(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:a.tooltip_basic,gravity:"ne",click:v},c.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(e){return l(e,"Zoom in")},attr:"zoom",val:"in",icon:a.zoom_plus,click:y},c.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(e){return l(e,"Zoom out")},attr:"zoom",val:"out",icon:a.zoom_minus,click:y},c.resetGeo={name:"resetGeo",_cat:"reset",title:function(e){return l(e,"Reset")},attr:"reset",val:null,icon:a.autoscale,click:y},c.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(e){return l(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:a.tooltip_basic,gravity:"ne",click:m},c.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(e){return l(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:a.tooltip_basic,gravity:"ne",click:m},c.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(e){return l(e,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:a.tooltip_basic,gravity:"ne",click:m},c.resetViewSankey={name:"resetSankeyGroup",title:function(e){return l(e,"Reset view")},icon:a.home,click:function(e){for(var t={"node.groups":[],"node.x":[],"node.y":[]},n=0;n<e._fullData.length;n++){var i=e._fullData[n]._viewInitial;t["node.groups"].push(i.node.groups.slice()),t["node.x"].push(i.node.x.slice()),t["node.y"].push(i.node.y.slice())}r.call("restyle",e,t)}},c.toggleHover={name:"toggleHover",title:function(e){return l(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:a.tooltip_basic,gravity:"ne",click:function(e,t){var n=p(e,t);n.hovermode=g(e),r.call("_guiRelayout",e,n)}},c.resetViews={name:"resetViews",title:function(e){return l(e,"Reset views")},icon:a.home,click:function(e,t){var n=t.currentTarget;n.setAttribute("data-attr","zoom"),n.setAttribute("data-val","reset"),f(e,t),n.setAttribute("data-attr","resetLastSave"),d(e,t),w(e,"geo"),w(e,"mapbox")}},c.toggleSpikelines={name:"toggleSpikelines",title:function(e){return l(e,"Toggle Spike Lines")},icon:a.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(e){var t=e._fullLayout,n=t._cartesianSpikesEnabled;t._cartesianSpikesEnabled="on"===n?"off":"on",r.call("_guiRelayout",e,b(e))}},c.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(e){return l(e,"Reset view")},attr:"reset",icon:a.home,click:function(e){w(e,"mapbox")}},c.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(e){return l(e,"Zoom in")},attr:"zoom",val:"in",icon:a.zoom_plus,click:_},c.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(e){return l(e,"Zoom out")},attr:"zoom",val:"out",icon:a.zoom_minus,click:_}},{"../../fonts/ploticon":213,"../../lib":230,"../../plots/cartesian/axis_ids":280,"../../plots/plots":311,"../../registry":313,"../shapes/draw":184}],161:[function(e,t,n){"use strict";var r=e("./buttons"),i=Object.keys(r),o=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],a=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(o),s=[],u=function(e){if(-1===a.indexOf(e._cat||e.name)){var t=e.name,n=(e._cat||e.name).toLowerCase();-1===s.indexOf(t)&&s.push(t),-1===s.indexOf(n)&&s.push(n)}};i.forEach((function(e){u(r[e])})),s.sort(),t.exports={DRAW_MODES:o,backButtons:a,foreButtons:s}},{"./buttons":160}],162:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../color"),o=e("../../plot_api/plot_template"),a=e("./attributes");t.exports=function(e,t){var n=e.modebar||{},s=o.newContainer(t,"modebar");function u(e,t){return r.coerce(n,s,a,e,t)}u("orientation"),u("bgcolor",i.addOpacity(t.paper_bgcolor,.5));var l=i.contrast(i.rgb(t.modebar.bgcolor));u("color",i.addOpacity(l,.3)),u("activecolor",i.addOpacity(l,.7)),u("uirevision",t.uirevision),u("add"),u("remove")}},{"../../lib":230,"../../plot_api/plot_template":265,"../color":100,"./attributes":159}],163:[function(e,t,n){"use strict";t.exports={moduleType:"component",name:"modebar",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),manage:e("./manage")}},{"./attributes":159,"./defaults":162,"./manage":164}],164:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axis_ids"),i=e("../../traces/scatter/subtypes"),o=e("../../registry"),a=e("../fx/helpers").isUnifiedHover,s=e("./modebar"),u=e("./buttons"),l=e("./constants").DRAW_MODES;function c(e){var t=e._fullLayout,n=e._fullData,r=e._context;function i(e,t){if("string"===typeof t){if(t.toLowerCase()===e.toLowerCase())return!0}else{var n=t.name,r=t._cat||t.name;if(n===e||r===e.toLowerCase())return!0}return!1}var o=t.modebar.add;"string"===typeof o&&(o=[o]);var s=t.modebar.remove;"string"===typeof s&&(s=[s]);var c=r.modeBarButtonsToAdd.concat(o.filter((function(e){for(var t=0;t<r.modeBarButtonsToRemove.length;t++)if(i(e,r.modeBarButtonsToRemove[t]))return!1;return!0}))),v=r.modeBarButtonsToRemove.concat(s.filter((function(e){for(var t=0;t<r.modeBarButtonsToAdd.length;t++)if(i(e,r.modeBarButtonsToAdd[t]))return!1;return!0}))),y=t._has("cartesian"),g=t._has("gl3d"),m=t._has("geo"),b=t._has("pie"),_=t._has("funnelarea"),w=t._has("gl2d"),x=t._has("ternary"),T=t._has("mapbox"),k=t._has("polar"),O=t._has("sankey"),S=f(t),A=a(t.hovermode),E=[];function M(e){if(e.length){for(var t=[],n=0;n<e.length;n++){for(var r=e[n],i=u[r],o=i.name.toLowerCase(),a=(i._cat||i.name).toLowerCase(),s=!1,l=0;l<v.length;l++){var c=v[l].toLowerCase();if(c===o||c===a){s=!0;break}}s||t.push(u[r])}E.push(t)}}var C=["toImage"];r.showEditInChartStudio?C.push("editInChartStudio"):r.showSendToCloud&&C.push("sendDataToCloud"),M(C);var I=[],D=[],P=[],N=[];(y||w||b||_||x)+m+g+T+k>1?(D=["toggleHover"],P=["resetViews"]):m?(I=["zoomInGeo","zoomOutGeo"],D=["hoverClosestGeo"],P=["resetGeo"]):g?(D=["hoverClosest3d"],P=["resetCameraDefault3d","resetCameraLastSave3d"]):T?(I=["zoomInMapbox","zoomOutMapbox"],D=["toggleHover"],P=["resetViewMapbox"]):w?D=["hoverClosestGl2d"]:b?D=["hoverClosestPie"]:O?(D=["hoverClosestCartesian","hoverCompareCartesian"],P=["resetViewSankey"]):D=["toggleHover"],y&&(D=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(d(n)||A)&&(D=[]),!y&&!w||S||(I=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==P[0]&&(P=["resetScale2d"])),g?N=["zoom3d","pan3d","orbitRotation","tableRotation"]:(y||w)&&!S||x?N=["zoom2d","pan2d"]:T||m?N=["pan2d"]:k&&(N=["zoom2d"]),h(n)&&N.push("select2d","lasso2d");var L=[],j=function(e){-1===L.indexOf(e)&&-1!==D.indexOf(e)&&L.push(e)};if(Array.isArray(c)){for(var R=[],F=0;F<c.length;F++){var z=c[F];"string"===typeof z?(z=z.toLowerCase(),-1!==l.indexOf(z)?(t._has("mapbox")||t._has("cartesian"))&&N.push(z):"togglespikelines"===z?j("toggleSpikelines"):"togglehover"===z?j("toggleHover"):"hovercompare"===z?j("hoverCompareCartesian"):"hoverclosest"===z?(j("hoverClosestCartesian"),j("hoverClosestGeo"),j("hoverClosest3d"),j("hoverClosestGl2d"),j("hoverClosestPie")):"v1hovermode"===z&&(j("toggleHover"),j("hoverClosestCartesian"),j("hoverCompareCartesian"),j("hoverClosestGeo"),j("hoverClosest3d"),j("hoverClosestGl2d"),j("hoverClosestPie"))):R.push(z)}c=R}return M(N),M(I.concat(P)),M(L),p(E,c)}function f(e){for(var t=r.list({_fullLayout:e},null,!0),n=0;n<t.length;n++)if(!t[n].fixedrange)return!1;return!0}function h(e){for(var t=!1,n=0;n<e.length&&!t;n++){var r=e[n];r._module&&r._module.selectPoints&&(o.traceIs(r,"scatter-like")?(i.hasMarkers(r)||i.hasText(r))&&(t=!0):o.traceIs(r,"box-violin")&&"all"!==r.boxpoints&&"all"!==r.points||(t=!0))}return t}function d(e){for(var t=0;t<e.length;t++)if(!o.traceIs(e[t],"noHover"))return!1;return!0}function p(e,t){if(t.length)if(Array.isArray(t[0]))for(var n=0;n<t.length;n++)e.push(t[n]);else e.push(t);return e}function v(e){for(var t=0;t<e.length;t++)for(var n=e[t],r=0;r<n.length;r++){var i=n[r];if("string"===typeof i){if(void 0===u[i])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));e[t][r]=u[i]}}return e}t.exports=function(e){var t=e._fullLayout,n=e._context,r=t._modeBar;if(n.displayModeBar||n.watermark){if(!Array.isArray(n.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(n.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var i,o=n.modeBarButtons;i=Array.isArray(o)&&o.length?v(o):!n.displayModeBar&&n.watermark?[]:c(e),r?r.update(e,i):t._modeBar=s(e,i)}else r&&(r.destroy(),delete t._modeBar)}},{"../../plots/cartesian/axis_ids":280,"../../registry":313,"../../traces/scatter/subtypes":378,"../fx/helpers":136,"./buttons":160,"./constants":161,"./modebar":165}],165:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("fast-isnumeric"),o=e("../../lib"),a=e("../../fonts/ploticon"),s=new DOMParser;function u(e){this.container=e.container,this.element=document.createElement("div"),this.update(e.graphInfo,e.buttons),this.container.appendChild(this.element)}var l=u.prototype;function c(e,t){var n=e._fullLayout,i=new u({graphInfo:e,container:n._modebardiv.node(),buttons:t});return n._privateplot&&r.select(i.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),i}l.update=function(e,t){this.graphInfo=e;var n=this.graphInfo._context,r=this.graphInfo._fullLayout,i="modebar-"+r._uid;this.element.setAttribute("id",i),this._uid=i,this.element.className="modebar","hover"===n.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===r.modebar.orientation&&(this.element.className+=" vertical",t=t.reverse());var a=r.modebar,s="hover"===n.displayModeBar?".js-plotly-plot .plotly:hover ":"";o.deleteRelatedStyleRule(i),o.addRelatedStyleRule(i,s+"#"+i+" .modebar-group","background-color: "+a.bgcolor),o.addRelatedStyleRule(i,"#"+i+" .modebar-btn .icon path","fill: "+a.color),o.addRelatedStyleRule(i,"#"+i+" .modebar-btn:hover .icon path","fill: "+a.activecolor),o.addRelatedStyleRule(i,"#"+i+" .modebar-btn.active .icon path","fill: "+a.activecolor);var u=!this.hasButtons(t),l=this.hasLogo!==n.displaylogo,c=this.locale!==n.locale;if(this.locale=n.locale,(u||l||c)&&(this.removeAllButtons(),this.updateButtons(t),n.watermark||n.displaylogo)){var f=this.getLogo();n.watermark&&(f.className=f.className+" watermark"),"v"===r.modebar.orientation?this.element.insertBefore(f,this.element.childNodes[0]):this.element.appendChild(f),this.hasLogo=!0}this.updateActiveButton()},l.updateButtons=function(e){var t=this;this.buttons=e,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach((function(e){var n=t.createGroup();e.forEach((function(e){var r=e.name;if(!r)throw new Error("must provide button 'name' in button config");if(-1!==t.buttonsNames.indexOf(r))throw new Error("button name '"+r+"' is taken");t.buttonsNames.push(r);var i=t.createButton(e);t.buttonElements.push(i),n.appendChild(i)})),t.element.appendChild(n)}))},l.createGroup=function(){var e=document.createElement("div");return e.className="modebar-group",e},l.createButton=function(e){var t=this,n=document.createElement("a");n.setAttribute("rel","tooltip"),n.className="modebar-btn";var i=e.title;void 0===i?i=e.name:"function"===typeof i&&(i=i(this.graphInfo)),(i||0===i)&&n.setAttribute("data-title",i),void 0!==e.attr&&n.setAttribute("data-attr",e.attr);var o=e.val;if(void 0!==o&&("function"===typeof o&&(o=o(this.graphInfo)),n.setAttribute("data-val",o)),"function"!==typeof e.click)throw new Error("must provide button 'click' function in button config");n.addEventListener("click",(function(n){e.click(t.graphInfo,n),t.updateActiveButton(n.currentTarget)})),n.setAttribute("data-toggle",e.toggle||!1),e.toggle&&r.select(n).classed("active",!0);var s=e.icon;return"function"===typeof s?n.appendChild(s()):n.appendChild(this.createIcon(s||a.question)),n.setAttribute("data-gravity",e.gravity||"n"),n},l.createIcon=function(e){var t,n=i(e.height)?Number(e.height):e.ascent-e.descent,r="http://www.w3.org/2000/svg";if(e.path){(t=document.createElementNS(r,"svg")).setAttribute("viewBox",[0,0,e.width,n].join(" ")),t.setAttribute("class","icon");var o=document.createElementNS(r,"path");o.setAttribute("d",e.path),e.transform?o.setAttribute("transform",e.transform):void 0!==e.ascent&&o.setAttribute("transform","matrix(1 0 0 -1 0 "+e.ascent+")"),t.appendChild(o)}return e.svg&&(t=s.parseFromString(e.svg,"application/xml").childNodes[0]),t.setAttribute("height","1em"),t.setAttribute("width","1em"),t},l.updateActiveButton=function(e){var t=this.graphInfo._fullLayout,n=void 0!==e?e.getAttribute("data-attr"):null;this.buttonElements.forEach((function(e){var i=e.getAttribute("data-val")||!0,a=e.getAttribute("data-attr"),s="true"===e.getAttribute("data-toggle"),u=r.select(e);if(s)a===n&&u.classed("active",!u.classed("active"));else{var l=null===a?a:o.nestedProperty(t,a).get();u.classed("active",l===i)}}))},l.hasButtons=function(e){var t=this.buttons;if(!t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n){if(e[n].length!==t[n].length)return!1;for(var r=0;r<e[n].length;r++)if(e[n][r].name!==t[n][r].name)return!1}return!0},l.getLogo=function(){var e=this.createGroup(),t=document.createElement("a");return t.href="https://plotly.com/",t.target="_blank",t.setAttribute("data-title",o._(this.graphInfo,"Produced with Plotly")),t.className="modebar-btn plotlyjsicon modebar-btn--logo",t.appendChild(this.createIcon(a.newplotlylogo)),e.appendChild(t),e},l.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},l.destroy=function(){o.removeElement(this.container.querySelector(".modebar")),o.deleteRelatedStyleRule(this._uid)},t.exports=c},{"../../fonts/ploticon":213,"../../lib":230,"@plotly/d3":11,"fast-isnumeric":15}],166:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),i=e("../color/attributes"),o=(0,e("../../plot_api/plot_template").templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});t.exports={visible:{valType:"boolean",editType:"plot"},buttons:o,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:r({editType:"plot"}),bgcolor:{valType:"color",dflt:i.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:i.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},{"../../plot_api/plot_template":265,"../../plots/font_attributes":305,"../color/attributes":99}],167:[function(e,t,n){"use strict";t.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},{}],168:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../color"),o=e("../../plot_api/plot_template"),a=e("../../plots/array_container_defaults"),s=e("./attributes"),u=e("./constants");function l(e,t,n,i){var o=i.calendar;function a(n,i){return r.coerce(e,t,s.buttons,n,i)}if(a("visible")){var u=a("step");"all"!==u&&(!o||"gregorian"===o||"month"!==u&&"year"!==u?a("stepmode"):t.stepmode="backward",a("count")),a("label")}}function c(e,t,n){for(var r=n.filter((function(n){return t[n].anchor===e._id})),i=0,o=0;o<r.length;o++){var a=t[r[o]].domain;a&&(i=Math.max(a[1],i))}return[e.domain[0],i+u.yPad]}t.exports=function(e,t,n,f,h){var d=e.rangeselector||{},p=o.newContainer(t,"rangeselector");function v(e,t){return r.coerce(d,p,s,e,t)}if(v("visible",a(d,p,{name:"buttons",handleItemDefaults:l,calendar:h}).length>0)){var y=c(t,n,f);v("x",y[0]),v("y",y[1]),r.noneOrAll(e,t,["x","y"]),v("xanchor"),v("yanchor"),r.coerceFont(v,"font",n.font);var g=v("bgcolor");v("activecolor",i.contrast(g,u.lightAmount,u.darkAmount)),v("bordercolor"),v("borderwidth")}}},{"../../lib":230,"../../plot_api/plot_template":265,"../../plots/array_container_defaults":271,"../color":100,"./attributes":166,"./constants":167}],169:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../../registry"),o=e("../../plots/plots"),a=e("../color"),s=e("../drawing"),u=e("../../lib"),l=u.strTranslate,c=e("../../lib/svg_text_utils"),f=e("../../plots/cartesian/axis_ids"),h=e("../../constants/alignment"),d=h.LINE_SPACING,p=h.FROM_TL,v=h.FROM_BR,y=e("./constants"),g=e("./get_update_object");function m(e){for(var t=f.list(e,"x",!0),n=[],r=0;r<t.length;r++){var i=t[r];i.rangeselector&&i.rangeselector.visible&&n.push(i)}return n}function b(e){return e._id}function _(e,t,n){if("all"===t.step)return!0===e.autorange;var r=Object.keys(n);return e.range[0]===n[r[0]]&&e.range[1]===n[r[1]]}function w(e,t,n){var r=u.ensureSingle(e,"rect","selector-rect",(function(e){e.attr("shape-rendering","crispEdges")}));r.attr({rx:y.rx,ry:y.ry}),r.call(a.stroke,t.bordercolor).call(a.fill,x(t,n)).style("stroke-width",t.borderwidth+"px")}function x(e,t){return t._isActive||t._isHovered?e.activecolor:e.bgcolor}function T(e,t,n,r){function i(e){c.convertToTspans(e,r)}u.ensureSingle(e,"text","selector-text",(function(e){e.attr("text-anchor","middle")})).call(s.font,t.font).text(k(n,r._fullLayout._meta)).call(i)}function k(e,t){return e.label?t?u.templateString(e.label,t):e.label:"all"===e.step?"all":e.count+e.step.charAt(0)}function O(e,t,n,i,a){var f=0,h=0,g=n.borderwidth;t.each((function(){var e=r.select(this).select(".selector-text"),t=n.font.size*d,i=Math.max(t*c.lineCount(e),16)+3;h=Math.max(h,i)})),t.each((function(){var e=r.select(this),t=e.select(".selector-rect"),i=e.select(".selector-text"),o=i.node()&&s.bBox(i.node()).width,a=n.font.size*d,u=c.lineCount(i),p=Math.max(o+10,y.minButtonWidth);e.attr("transform",l(g+f,g)),t.attr({x:0,y:0,width:p,height:h}),c.positionText(i,p/2,h/2-(u-1)*a/2+3),f+=p+5}));var m=e._fullLayout._size,b=m.l+m.w*n.x,_=m.t+m.h*(1-n.y),w="left";u.isRightAnchor(n)&&(b-=f,w="right"),u.isCenterAnchor(n)&&(b-=f/2,w="center");var x="top";u.isBottomAnchor(n)&&(_-=h,x="bottom"),u.isMiddleAnchor(n)&&(_-=h/2,x="middle"),f=Math.ceil(f),h=Math.ceil(h),b=Math.round(b),_=Math.round(_),o.autoMargin(e,i+"-range-selector",{x:n.x,y:n.y,l:f*p[w],r:f*v[w],b:h*v[x],t:h*p[x]}),a.attr("transform",l(b,_))}t.exports=function(e){var t=e._fullLayout._infolayer.selectAll(".rangeselector").data(m(e),b);t.enter().append("g").classed("rangeselector",!0),t.exit().remove(),t.style({cursor:"pointer","pointer-events":"all"}),t.each((function(t){var n=r.select(this),o=t,a=o.rangeselector,s=n.selectAll("g.button").data(u.filterVisible(a.buttons));s.enter().append("g").classed("button",!0),s.exit().remove(),s.each((function(t){var n=r.select(this),s=g(o,t);t._isActive=_(o,t,s),n.call(w,a,t),n.call(T,a,t,e),n.on("click",(function(){e._dragged||i.call("_guiRelayout",e,s)})),n.on("mouseover",(function(){t._isHovered=!0,n.call(w,a,t)})),n.on("mouseout",(function(){t._isHovered=!1,n.call(w,a,t)}))})),O(e,s,a,o._name,n)}))}},{"../../constants/alignment":205,"../../lib":230,"../../lib/svg_text_utils":252,"../../plots/cartesian/axis_ids":280,"../../plots/plots":311,"../../registry":313,"../color":100,"../drawing":122,"./constants":167,"./get_update_object":170,"@plotly/d3":11}],170:[function(e,t,n){"use strict";var r=e("@plotly/d3");function i(e,t){var n,i=e.range,o=new Date(e.r2l(i[1])),a=t.step,s=t.count;switch(t.stepmode){case"backward":n=e.l2r(+r.time[a].utc.offset(o,-s));break;case"todate":var u=r.time[a].utc.offset(o,-s);n=e.l2r(+r.time[a].utc.ceil(u))}return[n,i[1]]}t.exports=function(e,t){var n=e._name,r={};if("all"===t.step)r[n+".autorange"]=!0;else{var o=i(e,t);r[n+".range[0]"]=o[0],r[n+".range[1]"]=o[1]}return r}},{"@plotly/d3":11}],171:[function(e,t,n){"use strict";t.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e("./attributes")}}},layoutAttributes:e("./attributes"),handleDefaults:e("./defaults"),draw:e("./draw")}},{"./attributes":166,"./defaults":168,"./draw":169}],172:[function(e,t,n){"use strict";var r=e("../color/attributes");t.exports={bgcolor:{valType:"color",dflt:r.background,editType:"plot"},bordercolor:{valType:"color",dflt:r.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},{"../color/attributes":99}],173:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axis_ids").list,i=e("../../plots/cartesian/autorange").getAutoRange,o=e("./constants");t.exports=function(e){for(var t=r(e,"x",!0),n=0;n<t.length;n++){var a=t[n],s=a[o.name];s&&s.visible&&s.autorange&&(s._input.autorange=!0,s._input.range=s.range=i(e,a))}}},{"../../plots/cartesian/autorange":275,"../../plots/cartesian/axis_ids":280,"./constants":174}],174:[function(e,t,n){"use strict";t.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},{}],175:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plot_api/plot_template"),o=e("../../plots/cartesian/axis_ids"),a=e("./attributes"),s=e("./oppaxis_attributes");t.exports=function(e,t,n){var u=e[n],l=t[n];if(u.rangeslider||t._requestRangeslider[l._id]){r.isPlainObject(u.rangeslider)||(u.rangeslider={});var c,f,h=u.rangeslider,d=i.newContainer(l,"rangeslider");if(w("visible")){w("bgcolor",t.plot_bgcolor),w("bordercolor"),w("borderwidth"),w("thickness"),w("autorange",!l.isValidRange(h.range)),w("range");var p=t._subplots;if(p)for(var v=p.cartesian.filter((function(e){return e.substr(0,e.indexOf("y"))===o.name2id(n)})).map((function(e){return e.substr(e.indexOf("y"),e.length)})),y=r.simpleMap(v,o.id2name),g=0;g<y.length;g++){var m=y[g];c=h[m]||{},f=i.newContainer(d,m,"yaxis");var b,_=t[m];c.range&&_.isValidRange(c.range)&&(b="fixed"),"match"!==x("rangemode",b)&&x("range",_.range.slice())}d._input=h}}function w(e,t){return r.coerce(h,d,a,e,t)}function x(e,t){return r.coerce(c,f,s,e,t)}}},{"../../lib":230,"../../plot_api/plot_template":265,"../../plots/cartesian/axis_ids":280,"./attributes":172,"./oppaxis_attributes":179}],176:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../../registry"),o=e("../../plots/plots"),a=e("../../lib"),s=a.strTranslate,u=e("../drawing"),l=e("../color"),c=e("../titles"),f=e("../../plots/cartesian"),h=e("../../plots/cartesian/axis_ids"),d=e("../dragelement"),p=e("../../lib/setcursor"),v=e("./constants");function y(e,t,n,i){if(!t._context.staticPlot){var o=e.select("rect."+v.slideBoxClassName).node(),s=e.select("rect."+v.grabAreaMinClassName).node(),u=e.select("rect."+v.grabAreaMaxClassName).node();e.on("mousedown",l),e.on("touchstart",l)}function l(){var l=r.event,c=l.target,f=l.clientX||l.touches[0].clientX,h=f-e.node().getBoundingClientRect().left,v=i.d2p(n._rl[0]),y=i.d2p(n._rl[1]),m=d.coverSlip();function b(a){var l,d,b,_=+(a.clientX||a.touches[0].clientX)-f;switch(c){case o:b="ew-resize",l=v+_,d=y+_;break;case s:b="col-resize",l=v+_,d=y;break;case u:b="col-resize",l=v,d=y+_;break;default:b="ew-resize",l=h,d=h+_}if(d<l){var w=d;d=l,l=w}i._pixelMin=l,i._pixelMax=d,p(r.select(m),b),g(e,t,n,i)}function _(){m.removeEventListener("mousemove",b),m.removeEventListener("mouseup",_),this.removeEventListener("touchmove",b),this.removeEventListener("touchend",_),a.removeElement(m)}this.addEventListener("touchmove",b),this.addEventListener("touchend",_),m.addEventListener("mousemove",b),m.addEventListener("mouseup",_)}}function g(e,t,n,r){function o(e){return n.l2r(a.constrain(e,r._rl[0],r._rl[1]))}var s=o(r.p2d(r._pixelMin)),u=o(r.p2d(r._pixelMax));window.requestAnimationFrame((function(){i.call("_guiRelayout",t,n._name+".range",[s,u])}))}function m(e,t,n,r,i,o){var u=v.handleWidth/2;function l(e){return a.constrain(e,0,r._width)}function c(e){return a.constrain(e,0,r._height)}function f(e){return a.constrain(e,-u,r._width+u)}var h=l(r.d2p(n._rl[0])),d=l(r.d2p(n._rl[1]));if(e.select("rect."+v.slideBoxClassName).attr("x",h).attr("width",d-h),e.select("rect."+v.maskMinClassName).attr("width",h),e.select("rect."+v.maskMaxClassName).attr("x",d).attr("width",r._width-d),"match"!==o.rangemode){var p=r._height-c(r.d2pOppAxis(i._rl[1])),y=r._height-c(r.d2pOppAxis(i._rl[0]));e.select("rect."+v.maskMinOppAxisClassName).attr("x",h).attr("height",p).attr("width",d-h),e.select("rect."+v.maskMaxOppAxisClassName).attr("x",h).attr("y",y).attr("height",r._height-y).attr("width",d-h),e.select("rect."+v.slideBoxClassName).attr("y",p).attr("height",y-p)}var g=.5,m=Math.round(f(h-u))-g,b=Math.round(f(d-u))+g;e.select("g."+v.grabberMinClassName).attr("transform",s(m,g)),e.select("g."+v.grabberMaxClassName).attr("transform",s(b,g))}function b(e,t,n,r){var i=a.ensureSingle(e,"rect",v.bgClassName,(function(e){e.attr({x:0,y:0,"shape-rendering":"crispEdges"})})),o=r.borderwidth%2===0?r.borderwidth:r.borderwidth-1,l=-r._offsetShift,c=u.crispRound(t,r.borderwidth);i.attr({width:r._width+o,height:r._height+o,transform:s(l,l),fill:r.bgcolor,stroke:r.bordercolor,"stroke-width":c})}function _(e,t,n,r){var i=t._fullLayout;a.ensureSingleById(i._topdefs,"clipPath",r._clipId,(function(e){e.append("rect").attr({x:0,y:0})})).select("rect").attr({width:r._width,height:r._height})}function w(e,t,n,i){var s,l=t.calcdata,c=e.selectAll("g."+v.rangePlotClassName).data(n._subplotsWith,a.identity);c.enter().append("g").attr("class",(function(e){return v.rangePlotClassName+" "+e})).call(u.setClipUrl,i._clipId,t),c.order(),c.exit().remove(),c.each((function(e,a){var u=r.select(this),c=0===a,d=h.getFromId(t,e,"y"),p=d._name,v=i[p],y={data:[],layout:{xaxis:{type:n.type,domain:[0,1],range:i.range.slice(),calendar:n.calendar},width:i._width,height:i._height,margin:{t:0,b:0,l:0,r:0}},_context:t._context};n.rangebreaks&&(y.layout.xaxis.rangebreaks=n.rangebreaks),y.layout[p]={type:d.type,domain:[0,1],range:"match"!==v.rangemode?v.range.slice():d.range.slice(),calendar:d.calendar},d.rangebreaks&&(y.layout[p].rangebreaks=d.rangebreaks),o.supplyDefaults(y);var g=y._fullLayout.xaxis,m=y._fullLayout[p];g.clearCalc(),g.setScale(),m.clearCalc(),m.setScale();var b={id:e,plotgroup:u,xaxis:g,yaxis:m,isRangePlot:!0};c?s=b:(b.mainplot="xy",b.mainplotinfo=s),f.rangePlot(t,b,x(l,e))}))}function x(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r],o=i[0].trace;o.xaxis+o.yaxis===t&&n.push(i)}return n}function T(e,t,n,r,i){a.ensureSingle(e,"rect",v.maskMinClassName,(function(e){e.attr({x:0,y:0,"shape-rendering":"crispEdges"})})).attr("height",r._height).call(l.fill,v.maskColor),a.ensureSingle(e,"rect",v.maskMaxClassName,(function(e){e.attr({y:0,"shape-rendering":"crispEdges"})})).attr("height",r._height).call(l.fill,v.maskColor),"match"!==i.rangemode&&(a.ensureSingle(e,"rect",v.maskMinOppAxisClassName,(function(e){e.attr({y:0,"shape-rendering":"crispEdges"})})).attr("width",r._width).call(l.fill,v.maskOppAxisColor),a.ensureSingle(e,"rect",v.maskMaxOppAxisClassName,(function(e){e.attr({y:0,"shape-rendering":"crispEdges"})})).attr("width",r._width).style("border-top",v.maskOppBorder).call(l.fill,v.maskOppAxisColor))}function k(e,t,n,r){t._context.staticPlot||a.ensureSingle(e,"rect",v.slideBoxClassName,(function(e){e.attr({y:0,cursor:v.slideBoxCursor,"shape-rendering":"crispEdges"})})).attr({height:r._height,fill:v.slideBoxFill})}function O(e,t,n,r){var i=a.ensureSingle(e,"g",v.grabberMinClassName),o=a.ensureSingle(e,"g",v.grabberMaxClassName),s={x:0,width:v.handleWidth,rx:v.handleRadius,fill:l.background,stroke:l.defaultLine,"stroke-width":v.handleStrokeWidth,"shape-rendering":"crispEdges"},u={y:Math.round(r._height/4),height:Math.round(r._height/2)};a.ensureSingle(i,"rect",v.handleMinClassName,(function(e){e.attr(s)})).attr(u),a.ensureSingle(o,"rect",v.handleMaxClassName,(function(e){e.attr(s)})).attr(u);var c={width:v.grabAreaWidth,x:0,y:0,fill:v.grabAreaFill,cursor:t._context.staticPlot?void 0:v.grabAreaCursor};a.ensureSingle(i,"rect",v.grabAreaMinClassName,(function(e){e.attr(c)})).attr("height",r._height),a.ensureSingle(o,"rect",v.grabAreaMaxClassName,(function(e){e.attr(c)})).attr("height",r._height)}t.exports=function(e){for(var t=e._fullLayout,n=t._rangeSliderData,i=0;i<n.length;i++){var o=n[i][v.name];o._clipId=o._id+"-"+t._uid}function u(e){return e._name}var l=t._infolayer.selectAll("g."+v.containerClassName).data(n,u);l.exit().each((function(e){var n=e[v.name];t._topdefs.select("#"+n._clipId).remove()})).remove(),0!==n.length&&(l.enter().append("g").classed(v.containerClassName,!0).attr("pointer-events","all"),l.each((function(n){var i=r.select(this),o=n[v.name],u=t[h.id2name(n.anchor)],l=o[h.id2name(n.anchor)];if(o.range){var f,d=a.simpleMap(o.range,n.r2l),p=a.simpleMap(n.range,n.r2l);f=p[0]<p[1]?[Math.min(d[0],p[0]),Math.max(d[1],p[1])]:[Math.max(d[0],p[0]),Math.min(d[1],p[1])],o.range=o._input.range=a.simpleMap(f,n.l2r)}n.cleanRange("rangeslider.range");var g=t._size,x=n.domain;o._width=g.w*(x[1]-x[0]);var S=Math.round(g.l+g.w*x[0]),A=Math.round(g.t+g.h*(1-n._counterDomainMin)+("bottom"===n.side?n._depth:0)+o._offsetShift+v.extraPad);i.attr("transform",s(S,A)),o._rl=a.simpleMap(o.range,n.r2l);var E=o._rl[0],M=o._rl[1],C=M-E;if(o.p2d=function(e){return e/o._width*C+E},o.d2p=function(e){return(e-E)/C*o._width},n.rangebreaks){var I=n.locateBreaks(E,M);if(I.length){var D,P,N=0;for(D=0;D<I.length;D++)N+=(P=I[D]).max-P.min;var L=o._width/(M-E-N),j=[-L*E];for(D=0;D<I.length;D++)P=I[D],j.push(j[j.length-1]-L*(P.max-P.min));for(o.d2p=function(e){for(var t=j[0],n=0;n<I.length;n++){var r=I[n];if(e>=r.max)t=j[n+1];else if(e<r.min)break}return t+L*e},D=0;D<I.length;D++)(P=I[D]).pmin=o.d2p(P.min),P.pmax=o.d2p(P.max);o.p2d=function(e){for(var t=j[0],n=0;n<I.length;n++){var r=I[n];if(e>=r.pmax)t=j[n+1];else if(e<r.pmin)break}return(e-t)/L}}}if("match"!==l.rangemode){var R=u.r2l(l.range[0]),F=u.r2l(l.range[1])-R;o.d2pOppAxis=function(e){return(e-R)/F*o._height}}i.call(b,e,n,o).call(_,e,n,o).call(w,e,n,o).call(T,e,n,o,l).call(k,e,n,o).call(O,e,n,o),y(i,e,n,o),m(i,e,n,o,u,l),"bottom"===n.side&&c.draw(e,n._id+"title",{propContainer:n,propName:n._name+".title",placeholder:t._dfltTitle.x,attributes:{x:n._offset+n._length/2,y:A+o._height+o._offsetShift+10+1.5*n.title.font.size,"text-anchor":"middle"}})})))}},{"../../lib":230,"../../lib/setcursor":250,"../../plots/cartesian":290,"../../plots/cartesian/axis_ids":280,"../../plots/plots":311,"../../registry":313,"../color":100,"../dragelement":119,"../drawing":122,"../titles":198,"./constants":174,"@plotly/d3":11}],177:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axis_ids"),i=e("../../lib/svg_text_utils"),o=e("./constants"),a=e("../../constants/alignment").LINE_SPACING,s=o.name;function u(e){var t=e&&e[s];return t&&t.visible}n.isVisible=u,n.makeData=function(e){var t=r.list({_fullLayout:e},"x",!0),n=e.margin,i=[];if(!e._has("gl2d"))for(var o=0;o<t.length;o++){var a=t[o];if(u(a)){i.push(a);var l=a[s];l._id=s+a._id,l._height=(e.height-n.b-n.t)*l.thickness,l._offsetShift=Math.floor(l.borderwidth/2)}}e._rangeSliderData=i},n.autoMarginOpts=function(e,t){var n=e._fullLayout,r=t[s],u=t._id.charAt(0),l=0,c=0;return"bottom"===t.side&&(l=t._depth,t.title.text!==n._dfltTitle[u]&&(c=1.5*t.title.font.size+10+r._offsetShift,c+=(t.title.text.match(i.BR_TAG_ALL)||[]).length*t.title.font.size*a)),{x:0,y:t._counterDomainMin,l:0,r:0,t:0,b:r._height+l+Math.max(n.margin.b,c),pad:o.extraPad+2*r._offsetShift}}},{"../../constants/alignment":205,"../../lib/svg_text_utils":252,"../../plots/cartesian/axis_ids":280,"./constants":174}],178:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./attributes"),o=e("./oppaxis_attributes"),a=e("./helpers");t.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:r.extendFlat({},i,{yaxis:o})}}},layoutAttributes:e("./attributes"),handleDefaults:e("./defaults"),calcAutorange:e("./calc_autorange"),draw:e("./draw"),isVisible:a.isVisible,makeData:a.makeData,autoMarginOpts:a.autoMarginOpts}},{"../../lib":230,"./attributes":172,"./calc_autorange":173,"./defaults":175,"./draw":176,"./helpers":177,"./oppaxis_attributes":179}],179:[function(e,t,n){"use strict";t.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},{}],180:[function(e,t,n){"use strict";var r=e("../annotations/attributes"),i=e("../../traces/scatter/attributes").line,o=e("../drawing/attributes").dash,a=e("../../lib/extend").extendFlat,s=e("../../plot_api/plot_template").templatedArray;e("../../constants/axis_placeable_objects"),t.exports=s("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:a({},r.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:a({},r.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:a({},i.color,{editType:"arraydraw"}),width:a({},i.width,{editType:"calc+arraydraw"}),dash:a({},o,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":206,"../../lib/extend":224,"../../plot_api/plot_template":265,"../../traces/scatter/attributes":353,"../annotations/attributes":83,"../drawing/attributes":121}],181:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes"),o=e("./constants"),a=e("./helpers");function s(e){return l(e.line.width,e.xsizemode,e.x0,e.x1,e.path,!1)}function u(e){return l(e.line.width,e.ysizemode,e.y0,e.y1,e.path,!0)}function l(e,t,n,i,s,u){var l=e/2,c=u;if("pixel"===t){var f=s?a.extractPathCoords(s,u?o.paramIsY:o.paramIsX):[n,i],h=r.aggNums(Math.max,null,f),d=r.aggNums(Math.min,null,f),p=d<0?Math.abs(d)+l:l,v=h>0?h+l:l;return{ppad:l,ppadplus:c?p:v,ppadminus:c?v:p}}return{ppad:l}}function c(e,t,n,r,i){var s="category"===e.type||"multicategory"===e.type?e.r2c:e.d2c;if(void 0!==t)return[s(t),s(n)];if(r){var u,l,c,f,h=1/0,d=-1/0,p=r.match(o.segmentRE);for("date"===e.type&&(s=a.decodeDate(s)),u=0;u<p.length;u++)void 0!==(l=i[p[u].charAt(0)].drawn)&&(!(c=p[u].substr(1).match(o.paramRE))||c.length<l||((f=s(c[l]))<h&&(h=f),f>d&&(d=f)));return d>=h?[h,d]:void 0}}t.exports=function(e){var t=e._fullLayout,n=r.filterVisible(t.shapes);if(n.length&&e._fullData.length)for(var a=0;a<n.length;a++){var l,f,h=n[a];h._extremes={};var d=i.getRefType(h.xref),p=i.getRefType(h.yref);if("paper"!==h.xref&&"domain"!==d){var v="pixel"===h.xsizemode?h.xanchor:h.x0,y="pixel"===h.xsizemode?h.xanchor:h.x1;(f=c(l=i.getFromId(e,h.xref),v,y,h.path,o.paramIsX))&&(h._extremes[l._id]=i.findExtremes(l,f,s(h)))}if("paper"!==h.yref&&"domain"!==p){var g="pixel"===h.ysizemode?h.yanchor:h.y0,m="pixel"===h.ysizemode?h.yanchor:h.y1;(f=c(l=i.getFromId(e,h.yref),g,m,h.path,o.paramIsY))&&(h._extremes[l._id]=i.findExtremes(l,f,u(h)))}}}},{"../../lib":230,"../../plots/cartesian/axes":276,"./constants":182,"./helpers":191}],182:[function(e,t,n){"use strict";t.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},{}],183:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes"),o=e("../../plots/array_container_defaults"),a=e("./attributes"),s=e("./helpers");function u(e,t,n){function o(n,i){return r.coerce(e,t,a,n,i)}if(o("visible")){var u=o("path"),l=o("type",u?"path":"rect");"path"!==t.type&&delete t.path,o("editable"),o("layer"),o("opacity"),o("fillcolor"),o("fillrule"),o("line.width")&&(o("line.color"),o("line.dash"));for(var c=o("xsizemode"),f=o("ysizemode"),h=["x","y"],d=0;d<2;d++){var p,v,y,g=h[d],m=g+"anchor",b="x"===g?c:f,_={_fullLayout:n},w=i.coerceRef(e,t,_,g,void 0,"paper");if("range"===i.getRefType(w)?((p=i.getFromId(_,w))._shapeIndices.push(t._index),y=s.rangeToShapePosition(p),v=s.shapePositionToRange(p)):v=y=r.identity,"path"!==l){var x=.25,T=.75,k=g+"0",O=g+"1",S=e[k],A=e[O];e[k]=v(e[k],!0),e[O]=v(e[O],!0),"pixel"===b?(o(k,0),o(O,10)):(i.coercePosition(t,_,o,w,k,x),i.coercePosition(t,_,o,w,O,T)),t[k]=y(t[k]),t[O]=y(t[O]),e[k]=S,e[O]=A}if("pixel"===b){var E=e[m];e[m]=v(e[m],!0),i.coercePosition(t,_,o,w,m,.25),t[m]=y(t[m]),e[m]=E}}"path"===l?o("path"):r.noneOrAll(e,t,["x0","x1","y0","y1"])}}t.exports=function(e,t){o(e,t,{name:"shapes",handleItemDefaults:u})}},{"../../lib":230,"../../plots/array_container_defaults":271,"../../plots/cartesian/axes":276,"./attributes":180,"./helpers":191}],184:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../lib"),o=e("../../plots/cartesian/axes"),a=e("./draw_newshape/helpers").readPaths,s=e("./draw_newshape/display_outlines"),u=e("../../plots/cartesian/handle_outline").clearOutlineControllers,l=e("../color"),c=e("../drawing"),f=e("../../plot_api/plot_template").arrayEditor,h=e("../dragelement"),d=e("../../lib/setcursor"),p=e("./constants"),v=e("./helpers");function y(e){var t=e._fullLayout;for(var n in t._shapeUpperLayer.selectAll("path").remove(),t._shapeLowerLayer.selectAll("path").remove(),t._plots){var r=t._plots[n].shapelayer;r&&r.selectAll("path").remove()}for(var i=0;i<t.shapes.length;i++)t.shapes[i].visible&&b(e,i)}function g(e){return!!e._fullLayout._drawing}function m(e){return!e._context.edits.shapePosition}function b(e,t){e._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+t+'"]').remove();var n=v.makeOptionsAndPlotinfo(e,t),r=n.options,i=n.plotinfo;function o(n){var o=x(e,r),u={"data-index":t,"fill-rule":r.fillrule,d:o},h=r.opacity,d=r.fillcolor,p=r.line.width?r.line.color:"rgba(0,0,0,0)",v=r.line.width,y=r.line.dash;v||!0!==r.editable||(v=5,y="solid");var g="Z"!==o[o.length-1],b=m(e)&&r.editable&&e._fullLayout._activeShapeIndex===t;b&&(d=g?"rgba(0,0,0,0)":e._fullLayout.activeshape.fillcolor,h=e._fullLayout.activeshape.opacity);var T,k=n.append("path").attr(u).style("opacity",h).call(l.stroke,p).call(l.fill,d).call(c.dashLine,y,v);if(_(k,e,r),(b||e._context.edits.shapePosition)&&(T=f(e.layout,"shapes",r)),b){k.style({cursor:"move"});var S={element:k.node(),plotinfo:i,gd:e,editHelpers:T,isActiveShape:!0},A=a(o,e);s(A,k,S)}else e._context.edits.shapePosition?w(e,k,r,t,n,T):!0===r.editable&&k.style("pointer-events",g||l.opacity(d)*h<=.5?"stroke":"all");k.node().addEventListener("click",(function(){return O(e,k)}))}r._input&&!1!==r.visible&&("below"!==r.layer?o(e._fullLayout._shapeUpperLayer):"paper"===r.xref||"paper"===r.yref?o(e._fullLayout._shapeLowerLayer):i._hadPlotinfo?o((i.mainplotinfo||i).shapelayer):o(e._fullLayout._shapeLowerLayer))}function _(e,t,n){var r=(n.xref+n.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");c.setClipUrl(e,r?"clip"+t._fullLayout._uid+r:null,t)}function w(e,t,n,a,s,u){var l,f,y,m,b,w,T,O,S,A,E,M,C,I,D,P,N=10,L=10,j="pixel"===n.xsizemode,R="pixel"===n.ysizemode,F="line"===n.type,z="path"===n.type,U=u.modifyItem,q=o.getFromId(e,n.xref),V=o.getRefType(n.xref),B=o.getFromId(e,n.yref),H=o.getRefType(n.yref),W=v.getDataToPixel(e,q,!1,V),Y=v.getDataToPixel(e,B,!0,H),G=v.getPixelToData(e,q,!1,V),K=v.getPixelToData(e,B,!0,H),X=J(),Q={element:X.node(),gd:e,prepFn:ee,doneFn:te,clickFn:ne};function J(){return F?$():t}function $(){var e=10,r=Math.max(n.line.width,e),i=s.append("g").attr("data-index",a);i.append("path").attr("d",t.attr("d")).style({cursor:"move","stroke-width":r,"stroke-opacity":"0"});var o={"fill-opacity":"0"},u=Math.max(r/2,e);return i.append("circle").attr({"data-line-point":"start-point",cx:j?W(n.xanchor)+n.x0:W(n.x0),cy:R?Y(n.yanchor)-n.y0:Y(n.y0),r:u}).style(o).classed("cursor-grab",!0),i.append("circle").attr({"data-line-point":"end-point",cx:j?W(n.xanchor)+n.x1:W(n.x1),cy:R?Y(n.yanchor)-n.y1:Y(n.y1),r:u}).style(o).classed("cursor-grab",!0),i}function Z(n){if(g(e))P=null;else if(F)P="path"===n.target.tagName?"move":"start-point"===n.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var r=Q.element.getBoundingClientRect(),i=r.right-r.left,o=r.bottom-r.top,a=n.clientX-r.left,s=n.clientY-r.top,u=!z&&i>N&&o>L&&!n.shiftKey?h.getCursor(a/i,1-s/o):"move";d(t,u),P=u.split("-")[0]}}function ee(r){g(e)||(j&&(b=W(n.xanchor)),R&&(w=Y(n.yanchor)),"path"===n.type?D=n.path:(l=j?n.x0:W(n.x0),f=R?n.y0:Y(n.y0),y=j?n.x1:W(n.x1),m=R?n.y1:Y(n.y1)),l<y?(S=l,C="x0",A=y,I="x1"):(S=y,C="x1",A=l,I="x0"),!R&&f<m||R&&f>m?(T=f,E="y0",O=m,M="y1"):(T=m,E="y1",O=f,M="y0"),Z(r),oe(s,n),se(t,n,e),Q.moveFn="move"===P?re:ie,Q.altKey=r.altKey)}function te(){g(e)||(d(t),ae(s),_(t,e,n),r.call("_guiRelayout",e,u.getUpdateObj()))}function ne(){g(e)||ae(s)}function re(r,i){if("path"===n.type){var o=function(e){return e},a=o,u=o;j?U("xanchor",n.xanchor=G(b+r)):(a=function(e){return G(W(e)+r)},q&&"date"===q.type&&(a=v.encodeDate(a))),R?U("yanchor",n.yanchor=K(w+i)):(u=function(e){return K(Y(e)+i)},B&&"date"===B.type&&(u=v.encodeDate(u))),U("path",n.path=k(D,a,u))}else j?U("xanchor",n.xanchor=G(b+r)):(U("x0",n.x0=G(l+r)),U("x1",n.x1=G(y+r))),R?U("yanchor",n.yanchor=K(w+i)):(U("y0",n.y0=K(f+i)),U("y1",n.y1=K(m+i)));t.attr("d",x(e,n)),oe(s,n)}function ie(r,i){if(z){var o=function(e){return e},a=o,u=o;j?U("xanchor",n.xanchor=G(b+r)):(a=function(e){return G(W(e)+r)},q&&"date"===q.type&&(a=v.encodeDate(a))),R?U("yanchor",n.yanchor=K(w+i)):(u=function(e){return K(Y(e)+i)},B&&"date"===B.type&&(u=v.encodeDate(u))),U("path",n.path=k(D,a,u))}else if(F){if("resize-over-start-point"===P){var c=l+r,h=R?f-i:f+i;U("x0",n.x0=j?c:G(c)),U("y0",n.y0=R?h:K(h))}else if("resize-over-end-point"===P){var d=y+r,p=R?m-i:m+i;U("x1",n.x1=j?d:G(d)),U("y1",n.y1=R?p:K(p))}}else{var g=function(e){return-1!==P.indexOf(e)},_=g("n"),V=g("s"),H=g("w"),X=g("e"),Q=_?T+i:T,J=V?O+i:O,$=H?S+r:S,Z=X?A+r:A;R&&(_&&(Q=T-i),V&&(J=O-i)),(!R&&J-Q>L||R&&Q-J>L)&&(U(E,n[E]=R?Q:K(Q)),U(M,n[M]=R?J:K(J))),Z-$>N&&(U(C,n[C]=j?$:G($)),U(I,n[I]=j?Z:G(Z)))}t.attr("d",x(e,n)),oe(s,n)}function oe(e,t){function n(){var n="path"!==t.type,r=e.selectAll(".visual-cue").data([0]),o=1;r.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":o}).classed("visual-cue",!0);var a=W(j?t.xanchor:i.midRange(n?[t.x0,t.x1]:v.extractPathCoords(t.path,p.paramIsX))),s=Y(R?t.yanchor:i.midRange(n?[t.y0,t.y1]:v.extractPathCoords(t.path,p.paramIsY)));if(a=v.roundPositionForSharpStrokeRendering(a,o),s=v.roundPositionForSharpStrokeRendering(s,o),j&&R){var u="M"+(a-1-o)+","+(s-1-o)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";r.attr("d",u)}else if(j){var l="M"+(a-1-o)+","+(s-9-o)+"v18 h2 v-18 Z";r.attr("d",l)}else{var c="M"+(a-9-o)+","+(s-1-o)+"h18 v2 h-18 Z";r.attr("d",c)}}(j||R)&&n()}function ae(e){e.selectAll(".visual-cue").remove()}function se(e,t,n){var r=t.xref,i=t.yref,a=o.getFromId(n,r),s=o.getFromId(n,i),u="";"paper"===r||a.autorange||(u+=r),"paper"===i||s.autorange||(u+=i),c.setClipUrl(e,u?"clip"+n._fullLayout._uid+u:null,n)}h.init(Q),X.node().onmousemove=Z}function x(e,t){var n,r,i,a,s,u,l,c,f=t.type,h=o.getRefType(t.xref),d=o.getRefType(t.yref),p=o.getFromId(e,t.xref),y=o.getFromId(e,t.yref),g=e._fullLayout._size;if(p?"domain"===h?r=function(e){return p._offset+p._length*e}:(n=v.shapePositionToRange(p),r=function(e){return p._offset+p.r2p(n(e,!0))}):r=function(e){return g.l+g.w*e},y?"domain"===d?a=function(e){return y._offset+y._length*(1-e)}:(i=v.shapePositionToRange(y),a=function(e){return y._offset+y.r2p(i(e,!0))}):a=function(e){return g.t+g.h*(1-e)},"path"===f)return p&&"date"===p.type&&(r=v.decodeDate(r)),y&&"date"===y.type&&(a=v.decodeDate(a)),T(t,r,a);if("pixel"===t.xsizemode){var m=r(t.xanchor);s=m+t.x0,u=m+t.x1}else s=r(t.x0),u=r(t.x1);if("pixel"===t.ysizemode){var b=a(t.yanchor);l=b-t.y0,c=b-t.y1}else l=a(t.y0),c=a(t.y1);if("line"===f)return"M"+s+","+l+"L"+u+","+c;if("rect"===f)return"M"+s+","+l+"H"+u+"V"+c+"H"+s+"Z";var _=(s+u)/2,w=(l+c)/2,x=Math.abs(_-s),k=Math.abs(w-l),O="A"+x+","+k,S=_+x+","+w;return"M"+S+O+" 0 1,1 "+_+","+(w-k)+O+" 0 0,1 "+S+"Z"}function T(e,t,n){var r=e.path,o=e.xsizemode,a=e.ysizemode,s=e.xanchor,u=e.yanchor;return r.replace(p.segmentRE,(function(e){var r=0,l=e.charAt(0),c=p.paramIsX[l],f=p.paramIsY[l],h=p.numParams[l],d=e.substr(1).replace(p.paramRE,(function(e){return c[r]?e="pixel"===o?t(s)+Number(e):t(e):f[r]&&(e="pixel"===a?n(u)-Number(e):n(e)),++r>h&&(e="X"),e}));return r>h&&(d=d.replace(/[\s,]*X.*/,""),i.log("Ignoring extra params in segment "+e)),l+d}))}function k(e,t,n){return e.replace(p.segmentRE,(function(e){var r=0,i=e.charAt(0),o=p.paramIsX[i],a=p.paramIsY[i],s=p.numParams[i];return i+e.substr(1).replace(p.paramRE,(function(e){return r>=s||(o[r]?e=t(e):a[r]&&(e=n(e)),r++),e}))}))}function O(e,t){if(m(e)){var n=+t.node().getAttribute("data-index");if(n>=0){if(n===e._fullLayout._activeShapeIndex)return void S(e);e._fullLayout._activeShapeIndex=n,e._fullLayout._deactivateShape=S,y(e)}}}function S(e){m(e)&&e._fullLayout._activeShapeIndex>=0&&(u(e),delete e._fullLayout._activeShapeIndex,y(e))}function A(e){if(m(e)){u(e);var t=e._fullLayout._activeShapeIndex,n=(e.layout||{}).shapes||[];if(t<n.length){for(var i=[],o=0;o<n.length;o++)o!==t&&i.push(n[o]);delete e._fullLayout._activeShapeIndex,r.call("_guiRelayout",e,{shapes:i})}}}t.exports={draw:y,drawOne:b,eraseActiveShape:A}},{"../../lib":230,"../../lib/setcursor":250,"../../plot_api/plot_template":265,"../../plots/cartesian/axes":276,"../../plots/cartesian/handle_outline":287,"../../registry":313,"../color":100,"../dragelement":119,"../drawing":122,"./constants":182,"./draw_newshape/display_outlines":188,"./draw_newshape/helpers":189,"./helpers":191}],185:[function(e,t,n){"use strict";var r=e("../../drawing/attributes").dash,i=e("../../../lib/extend").extendFlat;t.exports={newshape:{line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:0,dflt:4,editType:"none"},dash:i({},r,{dflt:"solid",editType:"none"}),editType:"none"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"none"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"none"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",editType:"none"},editType:"none"},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},{"../../../lib/extend":224,"../../drawing/attributes":121}],186:[function(e,t,n){"use strict";var r=32;t.exports={CIRCLE_SIDES:r,i000:0,i090:r/4,i180:r/2,i270:r/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},{}],187:[function(e,t,n){"use strict";var r=e("../../color");t.exports=function(e,t,n){if(n("newshape.drawdirection"),n("newshape.layer"),n("newshape.fillcolor"),n("newshape.fillrule"),n("newshape.opacity"),n("newshape.line.width")){var i=(e||{}).plot_bgcolor||"#FFF";n("newshape.line.color",r.contrast(i)),n("newshape.line.dash")}n("activeshape.fillcolor"),n("activeshape.opacity")}},{"../../color":100}],188:[function(e,t,n){"use strict";var r=e("../../dragelement"),i=e("../../dragelement/helpers").drawMode,o=e("../../../registry"),a=e("./constants"),s=a.i000,u=a.i090,l=a.i180,c=a.i270,f=e("../../../plots/cartesian/handle_outline").clearOutlineControllers,h=e("./helpers"),d=h.pointsShapeRectangle,p=h.pointsShapeEllipse,v=h.writePaths,y=e("./newshapes");function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];e[n]=[];for(var i=0;i<r.length;i++){e[n][i]=[];for(var o=0;o<r[i].length;o++)e[n][i][o]=r[i][o]}}return e}t.exports=function e(t,n,a,h){h||(h=0);var m=a.gd;function b(){e(t,n,a,h++),p(t[0])&&_({redrawing:!0})}function _(e){a.isActiveShape=!1;var t=y(n,a);Object.keys(t).length&&o.call((e||{}).redrawing?"relayout":"_guiRelayout",m,t)}var w,x,T,k,O,S=a.isActiveShape,A=m._fullLayout._zoomlayer,E=a.dragmode;function M(e){T=+e.srcElement.getAttribute("data-i"),k=+e.srcElement.getAttribute("data-j"),w[T][k].moveFn=C}function C(e,n){if(t.length){var r=O[T][k][1],i=O[T][k][2],o=t[T],a=o.length;if(d(o)){for(var s=0;s<a;s++)if(s!==k){var u=o[s];u[1]===o[k][1]&&(u[1]=r+e),u[2]===o[k][2]&&(u[2]=i+n)}if(o[k][1]=r+e,o[k][2]=i+n,!d(o))for(var l=0;l<a;l++)for(var c=0;c<o[l].length;c++)o[l][c]=O[T][l][c]}else o[k][1]=r+e,o[k][2]=i+n;b()}}function I(){_()}function D(){if(t.length&&t[T]&&t[T].length){for(var e=[],n=0;n<t[T].length;n++)n!==k&&e.push(t[T][n]);e.length>1&&(2!==e.length||"Z"!==e[1][0])&&(0===k&&(e[0][0]="M"),t[T]=e,b(),_())}}function P(e,n){if(2===e){T=+n.srcElement.getAttribute("data-i"),k=+n.srcElement.getAttribute("data-j");var r=t[T];d(r)||p(r)||D()}}function N(e){w=[];for(var n=0;n<t.length;n++){var i=t[n],o=!d(i)&&p(i);w[n]=[];for(var a=0;a<i.length;a++)if("Z"!==i[a][0]&&(!o||a===s||a===u||a===l||a===c)){var f=i[a][1],h=i[a][2],v=e.append("circle").classed("cursor-grab",!0).attr("data-i",n).attr("data-j",a).attr("cx",f).attr("cy",h).attr("r",4).style({"mix-blend-mode":"luminosity",fill:"black",stroke:"white","stroke-width":1});w[n][a]={element:v.node(),gd:m,prepFn:M,doneFn:I,clickFn:P},r.init(w[n][a])}}}function L(e,n){if(t.length)for(var r=0;r<t.length;r++)for(var i=0;i<t[r].length;i++)for(var o=0;o+2<t[r][i].length;o+=2)t[r][i][o+1]=O[r][i][o+1]+e,t[r][i][o+2]=O[r][i][o+2]+n}function j(e,t){L(e,t),b()}function R(e){(T=+e.srcElement.getAttribute("data-i"))||(T=0),x[T].moveFn=j}function F(){_()}function z(){if(x=[],t.length){var e=0;x[e]={element:n[0][0],gd:m,prepFn:R,doneFn:F},r.init(x[e])}}i(E)?m._fullLayout._drawing=!0:m._fullLayout._activeShapeIndex>=0&&f(m),n.attr("d",v(t)),S&&!h&&(O=g([],t),N(A.append("g").attr("class","outline-controllers")),z())}},{"../../../plots/cartesian/handle_outline":287,"../../../registry":313,"../../dragelement":119,"../../dragelement/helpers":118,"./constants":186,"./helpers":189,"./newshapes":190}],189:[function(e,t,n){"use strict";var r=e("parse-svg-path"),i=e("./constants"),o=i.CIRCLE_SIDES,a=i.SQRT2,s=e("../../../plots/cartesian/helpers"),u=s.p2r,l=s.r2p,c=[0,3,4,5,6,1,2],f=[0,3,4,1,2];function h(e,t){return Math.abs(e-t)<=1e-6}function d(e,t){var n=t[1]-e[1],r=t[2]-e[2];return Math.sqrt(n*n+r*r)}n.writePaths=function(e){var t=e.length;if(!t)return"M0,0Z";for(var n="",r=0;r<t;r++)for(var i=e[r].length,o=0;o<i;o++){var a=e[r][o][0];if("Z"===a)n+="Z";else for(var s=e[r][o].length,u=0;u<s;u++){var l=u;"Q"===a||"S"===a?l=f[u]:"C"===a&&(l=c[u]),n+=e[r][o][l],u>0&&u<s-1&&(n+=",")}}return n},n.readPaths=function(e,t,n,i){var a,s,c,f=r(e),h=[],d=-1,p=function(){d++,h[d]=[]},v=0,y=0,g=function(){s=v,c=y};g();for(var m=0;m<f.length;m++){var b,_,w,x,T=[],k=f[m][0],O=k;switch(k){case"M":p(),v=+f[m][1],y=+f[m][2],T.push([O,v,y]),g();break;case"Q":case"S":b=+f[m][1],w=+f[m][2],v=+f[m][3],y=+f[m][4],T.push([O,v,y,b,w]);break;case"C":b=+f[m][1],w=+f[m][2],_=+f[m][3],x=+f[m][4],v=+f[m][5],y=+f[m][6],T.push([O,v,y,b,w,_,x]);break;case"T":case"L":v=+f[m][1],y=+f[m][2],T.push([O,v,y]);break;case"H":O="L",v=+f[m][1],T.push([O,v,y]);break;case"V":O="L",y=+f[m][1],T.push([O,v,y]);break;case"A":O="L";var S=+f[m][1],A=+f[m][2];+f[m][4]||(S=-S,A=-A);var E=v-S,M=y;for(a=1;a<=o/2;a++){var C=2*Math.PI*a/o;T.push([O,E+S*Math.cos(C),M+A*Math.sin(C)])}break;case"Z":v===s&&y===c||(v=s,y=c,T.push([O,v,y]))}for(var I=(n||{}).domain,D=t._fullLayout._size,P=n&&"pixel"===n.xsizemode,N=n&&"pixel"===n.ysizemode,L=!1===i,j=0;j<T.length;j++){for(a=0;a+2<7;a+=2){var R=T[j][a+1],F=T[j][a+2];void 0!==R&&void 0!==F&&(v=R,y=F,n&&(n.xaxis&&n.xaxis.p2r?(L&&(R-=n.xaxis._offset),R=P?l(n.xaxis,n.xanchor)+R:u(n.xaxis,R)):(L&&(R-=D.l),I?R=I.x[0]+R/D.w:R/=D.w),n.yaxis&&n.yaxis.p2r?(L&&(F-=n.yaxis._offset),F=N?l(n.yaxis,n.yanchor)-F:u(n.yaxis,F)):(L&&(F-=D.t),F=I?I.y[1]-F/D.h:1-F/D.h)),T[j][a+1]=R,T[j][a+2]=F)}h[d].push(T[j].slice())}}return h},n.pointsShapeRectangle=function(e){if(5!==e.length)return!1;for(var t=1;t<3;t++){if(!h(e[0][t]-e[1][t],e[3][t]-e[2][t]))return!1;if(!h(e[0][t]-e[3][t],e[1][t]-e[2][t]))return!1}return!(!h(e[0][1],e[1][1])&&!h(e[0][1],e[3][1]))&&!!(d(e[0],e[1])*d(e[0],e[3]))},n.pointsShapeEllipse=function(e){var t=e.length;if(t!==o+1)return!1;t=o;for(var n=0;n<t;n++){var r=(2*t-n)%t,i=(t/2+r)%t,a=(t/2+n)%t;if(!h(d(e[n],e[a]),d(e[r],e[i])))return!1}return!0},n.handleEllipse=function(e,t,r){if(!e)return[t,r];var i=n.ellipseOver({x0:t[0],y0:t[1],x1:r[0],y1:r[1]}),s=(i.x1+i.x0)/2,u=(i.y1+i.y0)/2,l=(i.x1-i.x0)/2,c=(i.y1-i.y0)/2;l||(l=c/=a),c||(c=l/=a);for(var f=[],h=0;h<o;h++){var d=2*h*Math.PI/o;f.push([s+l*Math.cos(d),u+c*Math.sin(d)])}return f},n.ellipseOver=function(e){var t=e.x0,n=e.y0,r=e.x1,i=e.y1,o=r-t,s=i-n,u=((t-=o)+r)/2,l=((n-=s)+i)/2;return{x0:u-(o*=a),y0:l-(s*=a),x1:u+o,y1:l+s}}},{"../../../plots/cartesian/helpers":288,"./constants":186,"parse-svg-path":54}],190:[function(e,t,n){"use strict";var r=e("../../dragelement/helpers"),i=r.drawMode,o=r.openMode,a=e("./constants"),s=a.i000,u=a.i090,l=a.i180,c=a.i270,f=a.cos45,h=a.sin45,d=e("../../../plots/cartesian/helpers"),p=d.p2r,v=d.r2p,y=e("../../../plots/cartesian/handle_outline").clearSelect,g=e("./helpers"),m=g.readPaths,b=g.writePaths,_=g.ellipseOver;function w(e,t,n){var r="date"===t.type,i="date"===n.type;if(!r&&!i)return e;for(var o=0;o<e.length;o++)for(var a=0;a<e[o].length;a++)for(var s=0;s+2<e[o][a].length;s+=2)r&&(e[o][a][s+1]=e[o][a][s+1].replace(" ","_")),i&&(e[o][a][s+2]=e[o][a][s+2].replace(" ","_"));return e}t.exports=function(e,t){if(e.length){var n=e[0][0];if(n){var r=n.getAttribute("d"),a=t.gd,d=a._fullLayout.newshape,g=t.plotinfo,x=g.xaxis,T=g.yaxis,k=!!g.domain||!g.xaxis,O=!!g.domain||!g.yaxis,S=t.isActiveShape,A=t.dragmode,E=(a.layout||{}).shapes||[];if(!i(A)&&void 0!==S){var M=a._fullLayout._activeShapeIndex;if(M<E.length)switch(a._fullLayout.shapes[M].type){case"rect":A="drawrect";break;case"circle":A="drawcircle";break;case"line":A="drawline";break;case"path":var C=E[M].path||"";A="Z"===C[C.length-1]?"drawclosedpath":"drawopenpath"}}var I,D=o(A),P=m(r,a,g,S),N={editable:!0,xref:k?"paper":x._id,yref:O?"paper":T._id,layer:d.layer,opacity:d.opacity,line:{color:d.line.color,width:d.line.width,dash:d.line.dash}};if(D||(N.fillcolor=d.fillcolor,N.fillrule=d.fillrule),1===P.length&&(I=P[0]),I&&"drawrect"===A)N.type="rect",N.x0=I[0][1],N.y0=I[0][2],N.x1=I[2][1],N.y1=I[2][2];else if(I&&"drawline"===A)N.type="line",N.x0=I[0][1],N.y0=I[0][2],N.x1=I[1][1],N.y1=I[1][2];else if(I&&"drawcircle"===A){N.type="circle";var L=I[s][1],j=I[u][1],R=I[l][1],F=I[c][1],z=I[s][2],U=I[u][2],q=I[l][2],V=I[c][2],B=g.xaxis&&("date"===g.xaxis.type||"log"===g.xaxis.type),H=g.yaxis&&("date"===g.yaxis.type||"log"===g.yaxis.type);B&&(L=v(g.xaxis,L),j=v(g.xaxis,j),R=v(g.xaxis,R),F=v(g.xaxis,F)),H&&(z=v(g.yaxis,z),U=v(g.yaxis,U),q=v(g.yaxis,q),V=v(g.yaxis,V));var W=(j+F)/2,Y=(z+q)/2,G=_({x0:W,y0:Y,x1:W+(F-j+R-L)/2*f,y1:Y+(V-U+q-z)/2*h});B&&(G.x0=p(g.xaxis,G.x0),G.x1=p(g.xaxis,G.x1)),H&&(G.y0=p(g.yaxis,G.y0),G.y1=p(g.yaxis,G.y1)),N.x0=G.x0,N.y0=G.y0,N.x1=G.x1,N.y1=G.y1}else N.type="path",x&&T&&w(P,x,T),N.path=b(P),I=null;y(a);for(var K=t.editHelpers,X=(K||{}).modifyItem,Q=[],J=0;J<E.length;J++){var $=a._fullLayout.shapes[J];if(Q[J]=$._input,void 0!==S&&J===a._fullLayout._activeShapeIndex){var Z=N;switch($.type){case"line":case"rect":case"circle":X("x0",Z.x0),X("x1",Z.x1),X("y0",Z.y0),X("y1",Z.y1);break;case"path":X("path",Z.path)}}}return void 0===S?(Q.push(N),Q):K?K.getUpdateObj():{}}}}},{"../../../plots/cartesian/handle_outline":287,"../../../plots/cartesian/helpers":288,"../../dragelement/helpers":118,"./constants":186,"./helpers":189}],191:[function(e,t,n){"use strict";var r=e("./constants"),i=e("../../lib");n.rangeToShapePosition=function(e){return"log"===e.type?e.r2d:function(e){return e}},n.shapePositionToRange=function(e){return"log"===e.type?e.d2r:function(e){return e}},n.decodeDate=function(e){return function(t){return t.replace&&(t=t.replace("_"," ")),e(t)}},n.encodeDate=function(e){return function(t){return e(t).replace(" ","_")}},n.extractPathCoords=function(e,t){var n=[];return e.match(r.segmentRE).forEach((function(e){var o=t[e.charAt(0)].drawn;if(void 0!==o){var a=e.substr(1).match(r.paramRE);!a||a.length<o||n.push(i.cleanNumber(a[o]))}})),n},n.getDataToPixel=function(e,t,r,i){var o,a=e._fullLayout._size;if(t)if("domain"===i)o=function(e){return t._length*(r?1-e:e)+t._offset};else{var s=n.shapePositionToRange(t);o=function(e){return t._offset+t.r2p(s(e,!0))},"date"===t.type&&(o=n.decodeDate(o))}else o=r?function(e){return a.t+a.h*(1-e)}:function(e){return a.l+a.w*e};return o},n.getPixelToData=function(e,t,r,i){var o,a=e._fullLayout._size;if(t)if("domain"===i)o=function(e){var n=(e-t._offset)/t._length;return r?1-n:n};else{var s=n.rangeToShapePosition(t);o=function(e){return s(t.p2r(e-t._offset))}}else o=r?function(e){return 1-(e-a.t)/a.h}:function(e){return(e-a.l)/a.w};return o},n.roundPositionForSharpStrokeRendering=function(e,t){var n=1===Math.round(t%2),r=Math.round(e);return n?r+.5:r},n.makeOptionsAndPlotinfo=function(e,t){var n=e._fullLayout.shapes[t]||{},r=e._fullLayout._plots[n.xref+n.yref];return r?r._hadPlotinfo=!0:(r={},n.xref&&"paper"!==n.xref&&(r.xaxis=e._fullLayout[n.xref+"axis"]),n.yref&&"paper"!==n.yref&&(r.yaxis=e._fullLayout[n.yref+"axis"])),r.xsizemode=n.xsizemode,r.ysizemode=n.ysizemode,r.xanchor=n.xanchor,r.yanchor=n.yanchor,{options:n,plotinfo:r}}},{"../../lib":230,"./constants":182}],192:[function(e,t,n){"use strict";var r=e("./draw");t.exports={moduleType:"component",name:"shapes",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),supplyDrawNewShapeDefaults:e("./draw_newshape/defaults"),includeBasePlot:e("../../plots/cartesian/include_components")("shapes"),calcAutorange:e("./calc_autorange"),draw:r.draw,drawOne:r.drawOne}},{"../../plots/cartesian/include_components":289,"./attributes":180,"./calc_autorange":181,"./defaults":183,"./draw":184,"./draw_newshape/defaults":187}],193:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),i=e("../../plots/pad_attributes"),o=e("../../lib/extend").extendDeepAll,a=e("../../plot_api/edit_types").overrideAll,s=e("../../plots/animation_attributes"),u=e("../../plot_api/plot_template").templatedArray,l=e("./constants"),c=u("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});t.exports=a(u("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:c,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:o(i({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:s.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:r({})},font:r({}),activebgcolor:{valType:"color",dflt:l.gripBgActiveColor},bgcolor:{valType:"color",dflt:l.railBgColor},bordercolor:{valType:"color",dflt:l.railBorderColor},borderwidth:{valType:"number",min:0,dflt:l.railBorderWidth},ticklen:{valType:"number",min:0,dflt:l.tickLength},tickcolor:{valType:"color",dflt:l.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:l.minorTickLength}}),"arraydraw","from-root")},{"../../lib/extend":224,"../../plot_api/edit_types":258,"../../plot_api/plot_template":265,"../../plots/animation_attributes":270,"../../plots/font_attributes":305,"../../plots/pad_attributes":310,"./constants":194}],194:[function(e,t,n){"use strict";t.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},{}],195:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/array_container_defaults"),o=e("./attributes"),a=e("./constants").name,s=o.steps;function u(e,t,n){function a(n,i){return r.coerce(e,t,o,n,i)}for(var s=i(e,t,{name:"steps",handleItemDefaults:l}),u=0,c=0;c<s.length;c++)s[c].visible&&u++;if(u<2?t.visible=!1:a("visible")){t._stepCount=u;var f=t._visibleSteps=r.filterVisible(s);(s[a("active")]||{}).visible||(t.active=f[0]._index),a("x"),a("y"),r.noneOrAll(e,t,["x","y"]),a("xanchor"),a("yanchor"),a("len"),a("lenmode"),a("pad.t"),a("pad.r"),a("pad.b"),a("pad.l"),r.coerceFont(a,"font",n.font),a("currentvalue.visible")&&(a("currentvalue.xanchor"),a("currentvalue.prefix"),a("currentvalue.suffix"),a("currentvalue.offset"),r.coerceFont(a,"currentvalue.font",t.font)),a("transition.duration"),a("transition.easing"),a("bgcolor"),a("activebgcolor"),a("bordercolor"),a("borderwidth"),a("ticklen"),a("tickwidth"),a("tickcolor"),a("minorticklen")}}function l(e,t){function n(n,i){return r.coerce(e,t,s,n,i)}if("skip"===e.method||Array.isArray(e.args)?n("visible"):t.visible=!1){n("method"),n("args");var i=n("label","step-"+t._index);n("value",i),n("execute")}}t.exports=function(e,t){i(e,t,{name:a,handleItemDefaults:u})}},{"../../lib":230,"../../plots/array_container_defaults":271,"./attributes":193,"./constants":194}],196:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../../plots/plots"),o=e("../color"),a=e("../drawing"),s=e("../../lib"),u=s.strTranslate,l=e("../../lib/svg_text_utils"),c=e("../../plot_api/plot_template").arrayEditor,f=e("./constants"),h=e("../../constants/alignment"),d=h.LINE_SPACING,p=h.FROM_TL,v=h.FROM_BR;function y(e){return f.autoMarginIdRoot+e._index}function g(e,t){for(var n=e[f.name],r=[],i=0;i<n.length;i++){var o=n[i];o.visible&&(o._gd=t,r.push(o))}return r}function m(e){return e._index}function b(e,t){var n=a.tester.selectAll("g."+f.labelGroupClass).data(t._visibleSteps);n.enter().append("g").classed(f.labelGroupClass,!0);var o=0,u=0;n.each((function(e){var n=T(r.select(this),{step:e},t).node();if(n){var i=a.bBox(n);u=Math.max(u,i.height),o=Math.max(o,i.width)}})),n.remove();var c=t._dims={};c.inputAreaWidth=Math.max(f.railWidth,f.gripHeight);var h=e._fullLayout._size;c.lx=h.l+h.w*t.x,c.ly=h.t+h.h*(1-t.y),"fraction"===t.lenmode?c.outerLength=Math.round(h.w*t.len):c.outerLength=t.len,c.inputAreaStart=0,c.inputAreaLength=Math.round(c.outerLength-t.pad.l-t.pad.r);var d=(c.inputAreaLength-2*f.stepInset)/(t._stepCount-1),g=o+f.labelPadding;if(c.labelStride=Math.max(1,Math.ceil(g/d)),c.labelHeight=u,c.currentValueMaxWidth=0,c.currentValueHeight=0,c.currentValueTotalHeight=0,c.currentValueMaxLines=1,t.currentvalue.visible){var m=a.tester.append("g");n.each((function(e){var n=w(m,t,e.label),r=n.node()&&a.bBox(n.node())||{width:0,height:0},i=l.lineCount(n);c.currentValueMaxWidth=Math.max(c.currentValueMaxWidth,Math.ceil(r.width)),c.currentValueHeight=Math.max(c.currentValueHeight,Math.ceil(r.height)),c.currentValueMaxLines=Math.max(c.currentValueMaxLines,i)})),c.currentValueTotalHeight=c.currentValueHeight+t.currentvalue.offset,m.remove()}c.height=c.currentValueTotalHeight+f.tickOffset+t.ticklen+f.labelOffset+c.labelHeight+t.pad.t+t.pad.b;var b="left";s.isRightAnchor(t)&&(c.lx-=c.outerLength,b="right"),s.isCenterAnchor(t)&&(c.lx-=c.outerLength/2,b="center");var _="top";s.isBottomAnchor(t)&&(c.ly-=c.height,_="bottom"),s.isMiddleAnchor(t)&&(c.ly-=c.height/2,_="middle"),c.outerLength=Math.ceil(c.outerLength),c.height=Math.ceil(c.height),c.lx=Math.round(c.lx),c.ly=Math.round(c.ly);var x={y:t.y,b:c.height*v[_],t:c.height*p[_]};"fraction"===t.lenmode?(x.l=0,x.xl=t.x-t.len*p[b],x.r=0,x.xr=t.x+t.len*v[b]):(x.x=t.x,x.l=c.outerLength*p[b],x.r=c.outerLength*v[b]),i.autoMargin(e,y(t),x)}function _(e,t,n){(n.steps[n.active]||{}).visible||(n.active=n._visibleSteps[0]._index),t.call(w,n).call(N,n).call(k,n).call(E,n).call(P,e,n).call(x,e,n);var r=n._dims;a.setTranslate(t,r.lx+n.pad.l,r.ly+n.pad.t),t.call(C,n,!1),t.call(w,n)}function w(e,t,n){if(t.currentvalue.visible){var r,i,o=t._dims;switch(t.currentvalue.xanchor){case"right":r=o.inputAreaLength-f.currentValueInset-o.currentValueMaxWidth,i="left";break;case"center":r=.5*o.inputAreaLength,i="middle";break;default:r=f.currentValueInset,i="left"}var u=s.ensureSingle(e,"text",f.labelClass,(function(e){e.attr({"text-anchor":i,"data-notex":1})})),c=t.currentvalue.prefix?t.currentvalue.prefix:"";if("string"===typeof n)c+=n;else{var h=t.steps[t.active].label,p=t._gd._fullLayout._meta;p&&(h=s.templateString(h,p)),c+=h}t.currentvalue.suffix&&(c+=t.currentvalue.suffix),u.call(a.font,t.currentvalue.font).text(c).call(l.convertToTspans,t._gd);var v=l.lineCount(u),y=(o.currentValueMaxLines+1-v)*t.currentvalue.font.size*d;return l.positionText(u,r,y),u}}function x(e,t,n){s.ensureSingle(e,"rect",f.gripRectClass,(function(r){r.call(A,t,e,n).style("pointer-events","all")})).attr({width:f.gripWidth,height:f.gripHeight,rx:f.gripRadius,ry:f.gripRadius}).call(o.stroke,n.bordercolor).call(o.fill,n.bgcolor).style("stroke-width",n.borderwidth+"px")}function T(e,t,n){var r=s.ensureSingle(e,"text",f.labelClass,(function(e){e.attr({"text-anchor":"middle","data-notex":1})})),i=t.step.label,o=n._gd._fullLayout._meta;return o&&(i=s.templateString(i,o)),r.call(a.font,n.font).text(i).call(l.convertToTspans,n._gd),r}function k(e,t){var n=s.ensureSingle(e,"g",f.labelsClass),i=t._dims,o=n.selectAll("g."+f.labelGroupClass).data(i.labelSteps);o.enter().append("g").classed(f.labelGroupClass,!0),o.exit().remove(),o.each((function(e){var n=r.select(this);n.call(T,e,t),a.setTranslate(n,I(t,e.fraction),f.tickOffset+t.ticklen+t.font.size*d+f.labelOffset+i.currentValueTotalHeight)}))}function O(e,t,n,r,i){var o=Math.round(r*(n._stepCount-1)),a=n._visibleSteps[o]._index;a!==n.active&&S(e,t,n,a,!0,i)}function S(e,t,n,r,o,a){var s=n.active;n.active=r,c(e.layout,f.name,n).applyUpdate("active",r);var u=n.steps[n.active];t.call(C,n,a),t.call(w,n),e.emit("plotly_sliderchange",{slider:n,step:n.steps[n.active],interaction:o,previousActive:s}),u&&u.method&&o&&(t._nextMethod?(t._nextMethod.step=u,t._nextMethod.doCallback=o,t._nextMethod.doTransition=a):(t._nextMethod={step:u,doCallback:o,doTransition:a},t._nextMethodRaf=window.requestAnimationFrame((function(){var n=t._nextMethod.step;n.method&&(n.execute&&i.executeAPICommand(e,n.method,n.args),t._nextMethod=null,t._nextMethodRaf=null)}))))}function A(e,t,n){var i=n.node(),a=r.select(t);function s(){return n.data()[0]}e.on("mousedown",(function(){var e=s();t.emit("plotly_sliderstart",{slider:e});var u=n.select("."+f.gripRectClass);r.event.stopPropagation(),r.event.preventDefault(),u.call(o.fill,e.activebgcolor);var l=D(e,r.mouse(i)[0]);O(t,n,e,l,!0),e._dragging=!0,a.on("mousemove",(function(){var e=s(),o=D(e,r.mouse(i)[0]);O(t,n,e,o,!1)})),a.on("mouseup",(function(){var e=s();e._dragging=!1,u.call(o.fill,e.bgcolor),a.on("mouseup",null),a.on("mousemove",null),t.emit("plotly_sliderend",{slider:e,step:e.steps[e.active]})}))}))}function E(e,t){var n=e.selectAll("rect."+f.tickRectClass).data(t._visibleSteps),i=t._dims;n.enter().append("rect").classed(f.tickRectClass,!0),n.exit().remove(),n.attr({width:t.tickwidth+"px","shape-rendering":"crispEdges"}),n.each((function(e,n){var s=n%i.labelStride===0,u=r.select(this);u.attr({height:s?t.ticklen:t.minorticklen}).call(o.fill,t.tickcolor),a.setTranslate(u,I(t,n/(t._stepCount-1))-.5*t.tickwidth,(s?f.tickOffset:f.minorTickOffset)+i.currentValueTotalHeight)}))}function M(e){var t=e._dims;t.labelSteps=[];for(var n=e._stepCount,r=0;r<n;r+=t.labelStride)t.labelSteps.push({fraction:r/(n-1),step:e._visibleSteps[r]})}function C(e,t,n){for(var r=e.select("rect."+f.gripRectClass),i=0,o=0;o<t._stepCount;o++)if(t._visibleSteps[o]._index===t.active){i=o;break}var a=I(t,i/(t._stepCount-1));if(!t._invokingCommand){var s=r;n&&t.transition.duration>0&&(s=s.transition().duration(t.transition.duration).ease(t.transition.easing)),s.attr("transform",u(a-.5*f.gripWidth,t._dims.currentValueTotalHeight))}}function I(e,t){var n=e._dims;return n.inputAreaStart+f.stepInset+(n.inputAreaLength-2*f.stepInset)*Math.min(1,Math.max(0,t))}function D(e,t){var n=e._dims;return Math.min(1,Math.max(0,(t-f.stepInset-n.inputAreaStart)/(n.inputAreaLength-2*f.stepInset-2*n.inputAreaStart)))}function P(e,t,n){var r=n._dims,i=s.ensureSingle(e,"rect",f.railTouchRectClass,(function(r){r.call(A,t,e,n).style("pointer-events","all")}));i.attr({width:r.inputAreaLength,height:Math.max(r.inputAreaWidth,f.tickOffset+n.ticklen+r.labelHeight)}).call(o.fill,n.bgcolor).attr("opacity",0),a.setTranslate(i,0,r.currentValueTotalHeight)}function N(e,t){var n=t._dims,r=n.inputAreaLength-2*f.railInset,i=s.ensureSingle(e,"rect",f.railRectClass);i.attr({width:r,height:f.railWidth,rx:f.railRadius,ry:f.railRadius,"shape-rendering":"crispEdges"}).call(o.stroke,t.bordercolor).call(o.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px"),a.setTranslate(i,f.railInset,.5*(n.inputAreaWidth-f.railWidth)+n.currentValueTotalHeight)}t.exports=function(e){var t=e._fullLayout,n=g(t,e),o=t._infolayer.selectAll("g."+f.containerClassName).data(n.length>0?[0]:[]);function a(t){t._commandObserver&&(t._commandObserver.remove(),delete t._commandObserver),i.autoMargin(e,y(t))}if(o.enter().append("g").classed(f.containerClassName,!0).style("cursor","ew-resize"),o.exit().each((function(){r.select(this).selectAll("g."+f.groupClassName).each(a)})).remove(),0!==n.length){var s=o.selectAll("g."+f.groupClassName).data(n,m);s.enter().append("g").classed(f.groupClassName,!0),s.exit().each(a).remove();for(var u=0;u<n.length;u++){var l=n[u];b(e,l)}s.each((function(t){var n=r.select(this);M(t),i.manageCommandObserver(e,t,t._visibleSteps,(function(t){var r=n.data()[0];r.active!==t.index&&(r._dragging||S(e,n,r,t.index,!1,!0))})),_(e,r.select(this),t)}))}}},{"../../constants/alignment":205,"../../lib":230,"../../lib/svg_text_utils":252,"../../plot_api/plot_template":265,"../../plots/plots":311,"../color":100,"../drawing":122,"./constants":194,"@plotly/d3":11}],197:[function(e,t,n){"use strict";var r=e("./constants");t.exports={moduleType:"component",name:r.name,layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),draw:e("./draw")}},{"./attributes":193,"./constants":194,"./defaults":195,"./draw":196}],198:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("fast-isnumeric"),o=e("../../plots/plots"),a=e("../../registry"),s=e("../../lib"),u=s.strTranslate,l=e("../drawing"),c=e("../color"),f=e("../../lib/svg_text_utils"),h=e("../../constants/interactions"),d=e("../../constants/alignment").OPPOSITE_SIDE,p=/ [XY][0-9]* /;function v(e,t,n){var v,y=n.propContainer,g=n.propName,m=n.placeholder,b=n.traceIndex,_=n.avoid||{},w=n.attributes,x=n.transform,T=n.containerGroup,k=e._fullLayout,O=1,S=!1,A=y.title,E=(A&&A.text?A.text:"").trim(),M=A&&A.font?A.font:{},C=M.family,I=M.size,D=M.color;"title.text"===g?v="titleText":-1!==g.indexOf("axis")?v="axisTitleText":g.indexOf(!0)&&(v="colorbarTitleText");var P=e._context.edits[v];""===E?O=0:E.replace(p," % ")===m.replace(p," % ")&&(O=.2,S=!0,P||(E="")),n._meta?E=s.templateString(E,n._meta):k._meta&&(E=s.templateString(E,k._meta));var N=E||P;T||(T=s.ensureSingle(k._infolayer,"g","g-"+t));var L=T.selectAll("text").data(N?[0]:[]);if(L.enter().append("text"),L.text(E).attr("class",t),L.exit().remove(),!N)return T;function j(e){s.syncOrAsync([R,F],e)}function R(t){var n;return x?(n="",x.rotate&&(n+="rotate("+[x.rotate,w.x,w.y]+")"),x.offset&&(n+=u(0,x.offset))):n=null,t.attr("transform",n),t.style({"font-family":C,"font-size":r.round(I,2)+"px",fill:c.rgb(D),opacity:O*c.opacity(D),"font-weight":o.fontWeight}).attr(w).call(f.convertToTspans,e),o.previousPromises(e)}function F(e){var t=r.select(e.node().parentNode);if(_&&_.selection&&_.side&&E){t.attr("transform",null);var n=d[_.side],o="left"===_.side||"top"===_.side?-1:1,a=i(_.pad)?_.pad:2,c=l.bBox(t.node()),f={left:0,top:0,right:k.width,bottom:k.height},h=_.maxShift||o*(f[_.side]-c[_.side]),p=0;if(h<0)p=h;else{var v=_.offsetLeft||0,y=_.offsetTop||0;c.left-=v,c.right-=v,c.top-=y,c.bottom-=y,_.selection.each((function(){var e=l.bBox(this);s.bBoxIntersect(c,e,a)&&(p=Math.max(p,o*(e[_.side]-c[n])+a))})),p=Math.min(h,p)}if(p>0||h<0){var g={left:[-p,0],right:[p,0],top:[0,-p],bottom:[0,p]}[_.side];t.attr("transform",u(g[0],g[1]))}}}function z(){O=0,S=!0,L.text(m).on("mouseover.opacity",(function(){r.select(this).transition().duration(h.SHOW_PLACEHOLDER).style("opacity",1)})).on("mouseout.opacity",(function(){r.select(this).transition().duration(h.HIDE_PLACEHOLDER).style("opacity",0)}))}return L.call(j),P&&(E?L.on(".opacity",null):z(),L.call(f.makeEditable,{gd:e}).on("edit",(function(t){void 0!==b?a.call("_guiRestyle",e,g,t,b):a.call("_guiRelayout",e,g,t)})).on("cancel",(function(){this.text(this.attr("data-unformatted")).call(j)})).on("input",(function(e){this.text(e||" ").call(f.positionText,w.x,w.y)}))),L.classed("js-placeholder",S),T}t.exports={draw:v}},{"../../constants/alignment":205,"../../constants/interactions":209,"../../lib":230,"../../lib/svg_text_utils":252,"../../plots/plots":311,"../../registry":313,"../color":100,"../drawing":122,"@plotly/d3":11,"fast-isnumeric":15}],199:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),i=e("../color/attributes"),o=e("../../lib/extend").extendFlat,a=e("../../plot_api/edit_types").overrideAll,s=e("../../plots/pad_attributes"),u=e("../../plot_api/plot_template").templatedArray,l=u("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});t.exports=a(u("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:l,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:o(s({editType:"arraydraw"}),{}),font:r({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:i.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},{"../../lib/extend":224,"../../plot_api/edit_types":258,"../../plot_api/plot_template":265,"../../plots/font_attributes":305,"../../plots/pad_attributes":310,"../color/attributes":99}],200:[function(e,t,n){"use strict";t.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25c4",right:"\u25ba",up:"\u25b2",down:"\u25bc"}}},{}],201:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/array_container_defaults"),o=e("./attributes"),a=e("./constants").name,s=o.buttons;function u(e,t,n){function a(n,i){return r.coerce(e,t,o,n,i)}a("visible",i(e,t,{name:"buttons",handleItemDefaults:l}).length>0)&&(a("active"),a("direction"),a("type"),a("showactive"),a("x"),a("y"),r.noneOrAll(e,t,["x","y"]),a("xanchor"),a("yanchor"),a("pad.t"),a("pad.r"),a("pad.b"),a("pad.l"),r.coerceFont(a,"font",n.font),a("bgcolor",n.paper_bgcolor),a("bordercolor"),a("borderwidth"))}function l(e,t){function n(n,i){return r.coerce(e,t,s,n,i)}n("visible","skip"===e.method||Array.isArray(e.args))&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}t.exports=function(e,t){i(e,t,{name:a,handleItemDefaults:u})}},{"../../lib":230,"../../plots/array_container_defaults":271,"./attributes":199,"./constants":200}],202:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../../plots/plots"),o=e("../color"),a=e("../drawing"),s=e("../../lib"),u=e("../../lib/svg_text_utils"),l=e("../../plot_api/plot_template").arrayEditor,c=e("../../constants/alignment").LINE_SPACING,f=e("./constants"),h=e("./scrollbox");function d(e){return e._index}function p(e){return-1===+e.attr(f.menuIndexAttrName)}function v(e,t){return+e.attr(f.menuIndexAttrName)===t._index}function y(e,t,n,r,i,o,a,s){t.active=a,l(e.layout,f.name,t).applyUpdate("active",a),"buttons"===t.type?m(e,r,null,null,t):"dropdown"===t.type&&(i.attr(f.menuIndexAttrName,"-1"),g(e,r,i,o,t),s||m(e,r,i,o,t))}function g(e,t,n,r,i){var o=s.ensureSingle(t,"g",f.headerClassName,(function(e){e.style("pointer-events","all")})),u=i._dims,l=i.active,c=i.buttons[l]||f.blankHeaderOpts,h={y:i.pad.t,yPad:0,x:i.pad.l,xPad:0,index:0},d={width:u.headerWidth,height:u.headerHeight};o.call(w,i,c,e).call(M,i,h,d),s.ensureSingle(t,"text",f.headerArrowClassName,(function(e){e.attr("text-anchor","end").call(a.font,i.font).text(f.arrowSymbol[i.direction])})).attr({x:u.headerWidth-f.arrowOffsetX+i.pad.l,y:u.headerHeight/2+f.textOffsetY+i.pad.t}),o.on("click",(function(){n.call(C,String(v(n,i)?-1:i._index)),m(e,t,n,r,i)})),o.on("mouseover",(function(){o.call(O)})),o.on("mouseout",(function(){o.call(S,i)})),a.setTranslate(t,u.lx,u.ly)}function m(e,t,n,o,a){n||(n=t).attr("pointer-events","all");var u=p(n)&&"buttons"!==a.type?[]:a.buttons,l="dropdown"===a.type?f.dropdownButtonClassName:f.buttonClassName,c=n.selectAll("g."+l).data(s.filterVisible(u)),h=c.enter().append("g").classed(l,!0),d=c.exit();"dropdown"===a.type?(h.attr("opacity","0").transition().attr("opacity","1"),d.transition().attr("opacity","0").remove()):d.remove();var v=0,g=0,m=a._dims,x=-1!==["up","down"].indexOf(a.direction);"dropdown"===a.type&&(x?g=m.headerHeight+f.gapButtonHeader:v=m.headerWidth+f.gapButtonHeader),"dropdown"===a.type&&"up"===a.direction&&(g=-f.gapButtonHeader+f.gapButton-m.openHeight),"dropdown"===a.type&&"left"===a.direction&&(v=-f.gapButtonHeader+f.gapButton-m.openWidth);var T={x:m.lx+v+a.pad.l,y:m.ly+g+a.pad.t,yPad:f.gapButton,xPad:f.gapButton,index:0},A={l:T.x+a.borderwidth,t:T.y+a.borderwidth};c.each((function(s,u){var l=r.select(this);l.call(w,a,s,e).call(M,a,T),l.on("click",(function(){r.event.defaultPrevented||(s.execute&&(s.args2&&a.active===u?(y(e,a,s,t,n,o,-1),i.executeAPICommand(e,s.method,s.args2)):(y(e,a,s,t,n,o,u),i.executeAPICommand(e,s.method,s.args))),e.emit("plotly_buttonclicked",{menu:a,button:s,active:a.active}))})),l.on("mouseover",(function(){l.call(O)})),l.on("mouseout",(function(){l.call(S,a),c.call(k,a)}))})),c.call(k,a),x?(A.w=Math.max(m.openWidth,m.headerWidth),A.h=T.y-A.t):(A.w=T.x-A.l,A.h=Math.max(m.openHeight,m.headerHeight)),A.direction=a.direction,o&&(c.size()?b(e,t,n,o,a,A):_(o))}function b(e,t,n,r,i,o){var a,s,u,l=i.direction,c="up"===l||"down"===l,h=i._dims,d=i.active;if(c)for(s=0,u=0;u<d;u++)s+=h.heights[u]+f.gapButton;else for(a=0,u=0;u<d;u++)a+=h.widths[u]+f.gapButton;r.enable(o,a,s),r.hbar&&r.hbar.attr("opacity","0").transition().attr("opacity","1"),r.vbar&&r.vbar.attr("opacity","0").transition().attr("opacity","1")}function _(e){var t=!!e.hbar,n=!!e.vbar;t&&e.hbar.transition().attr("opacity","0").each("end",(function(){t=!1,n||e.disable()})),n&&e.vbar.transition().attr("opacity","0").each("end",(function(){n=!1,t||e.disable()}))}function w(e,t,n,r){e.call(x,t).call(T,t,n,r)}function x(e,t){s.ensureSingle(e,"rect",f.itemRectClassName,(function(e){e.attr({rx:f.rx,ry:f.ry,"shape-rendering":"crispEdges"})})).call(o.stroke,t.bordercolor).call(o.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px")}function T(e,t,n,r){var i=s.ensureSingle(e,"text",f.itemTextClassName,(function(e){e.attr({"text-anchor":"start","data-notex":1})})),o=n.label,l=r._fullLayout._meta;l&&(o=s.templateString(o,l)),i.call(a.font,t.font).text(o).call(u.convertToTspans,r)}function k(e,t){var n=t.active;e.each((function(e,i){var a=r.select(this);i===n&&t.showactive&&a.select("rect."+f.itemRectClassName).call(o.fill,f.activeColor)}))}function O(e){e.select("rect."+f.itemRectClassName).call(o.fill,f.hoverColor)}function S(e,t){e.select("rect."+f.itemRectClassName).call(o.fill,t.bgcolor)}function A(e,t){var n=t._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},o=a.tester.selectAll("g."+f.dropdownButtonClassName).data(s.filterVisible(t.buttons));o.enter().append("g").classed(f.dropdownButtonClassName,!0);var l=-1!==["up","down"].indexOf(t.direction);o.each((function(i,o){var s=r.select(this);s.call(w,t,i,e);var h=s.select("."+f.itemTextClassName),d=h.node()&&a.bBox(h.node()).width,p=Math.max(d+f.textPadX,f.minWidth),v=t.font.size*c,y=u.lineCount(h),g=Math.max(v*y,f.minHeight)+f.textOffsetY;g=Math.ceil(g),p=Math.ceil(p),n.widths[o]=p,n.heights[o]=g,n.height1=Math.max(n.height1,g),n.width1=Math.max(n.width1,p),l?(n.totalWidth=Math.max(n.totalWidth,p),n.openWidth=n.totalWidth,n.totalHeight+=g+f.gapButton,n.openHeight+=g+f.gapButton):(n.totalWidth+=p+f.gapButton,n.openWidth+=p+f.gapButton,n.totalHeight=Math.max(n.totalHeight,g),n.openHeight=n.totalHeight)})),l?n.totalHeight-=f.gapButton:n.totalWidth-=f.gapButton,n.headerWidth=n.width1+f.arrowPadX,n.headerHeight=n.height1,"dropdown"===t.type&&(l?(n.width1+=f.arrowPadX,n.totalHeight=n.height1):n.totalWidth=n.width1,n.totalWidth+=f.arrowPadX),o.remove();var h=n.totalWidth+t.pad.l+t.pad.r,d=n.totalHeight+t.pad.t+t.pad.b,p=e._fullLayout._size;n.lx=p.l+p.w*t.x,n.ly=p.t+p.h*(1-t.y);var v="left";s.isRightAnchor(t)&&(n.lx-=h,v="right"),s.isCenterAnchor(t)&&(n.lx-=h/2,v="center");var y="top";s.isBottomAnchor(t)&&(n.ly-=d,y="bottom"),s.isMiddleAnchor(t)&&(n.ly-=d/2,y="middle"),n.totalWidth=Math.ceil(n.totalWidth),n.totalHeight=Math.ceil(n.totalHeight),n.lx=Math.round(n.lx),n.ly=Math.round(n.ly),i.autoMargin(e,E(t),{x:t.x,y:t.y,l:h*({right:1,center:.5}[v]||0),r:h*({left:1,center:.5}[v]||0),b:d*({top:1,middle:.5}[y]||0),t:d*({bottom:1,middle:.5}[y]||0)})}function E(e){return f.autoMarginIdRoot+e._index}function M(e,t,n,r){r=r||{};var i=e.select("."+f.itemRectClassName),o=e.select("."+f.itemTextClassName),s=t.borderwidth,l=n.index,h=t._dims;a.setTranslate(e,s+n.x,s+n.y);var d=-1!==["up","down"].indexOf(t.direction),p=r.height||(d?h.heights[l]:h.height1);i.attr({x:0,y:0,width:r.width||(d?h.width1:h.widths[l]),height:p});var v=t.font.size*c,y=(u.lineCount(o)-1)*v/2;u.positionText(o,f.textOffsetX,p/2-y+f.textOffsetY),d?n.y+=h.heights[l]+n.yPad:n.x+=h.widths[l]+n.xPad,n.index++}function C(e,t){e.attr(f.menuIndexAttrName,t||"-1").selectAll("g."+f.dropdownButtonClassName).remove()}t.exports=function(e){var t=e._fullLayout,n=s.filterVisible(t[f.name]);function o(t){i.autoMargin(e,E(t))}var a=t._menulayer.selectAll("g."+f.containerClassName).data(n.length>0?[0]:[]);if(a.enter().append("g").classed(f.containerClassName,!0).style("cursor","pointer"),a.exit().each((function(){r.select(this).selectAll("g."+f.headerGroupClassName).each(o)})).remove(),0!==n.length){var u=a.selectAll("g."+f.headerGroupClassName).data(n,d);u.enter().append("g").classed(f.headerGroupClassName,!0);for(var l=s.ensureSingle(a,"g",f.dropdownButtonGroupClassName,(function(e){e.style("pointer-events","all")})),c=0;c<n.length;c++){var p=n[c];A(e,p)}var b="updatemenus"+t._uid,_=new h(e,l,b);u.enter().size()&&(l.node().parentNode.appendChild(l.node()),l.call(C)),u.exit().each((function(e){l.call(C),o(e)})).remove(),u.each((function(t){var n=r.select(this),o="dropdown"===t.type?l:null;i.manageCommandObserver(e,t,t.buttons,(function(r){y(e,t,t.buttons[r.index],n,o,_,r.index,!0)})),"dropdown"===t.type?(g(e,n,l,_,t),v(l,t)&&m(e,n,l,_,t)):m(e,n,null,null,t)}))}}},{"../../constants/alignment":205,"../../lib":230,"../../lib/svg_text_utils":252,"../../plot_api/plot_template":265,"../../plots/plots":311,"../color":100,"../drawing":122,"./constants":200,"./scrollbox":204,"@plotly/d3":11}],203:[function(e,t,n){arguments[4][197][0].apply(n,arguments)},{"./attributes":199,"./constants":200,"./defaults":201,"./draw":202,dup:197}],204:[function(e,t,n){"use strict";t.exports=s;var r=e("@plotly/d3"),i=e("../color"),o=e("../drawing"),a=e("../../lib");function s(e,t,n){this.gd=e,this.container=t,this.id=n,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}s.barWidth=2,s.barLength=20,s.barRadius=2,s.barPad=1,s.barColor="#808BA4",s.prototype.enable=function(e,t,n){var a=this.gd._fullLayout,u=a.width,l=a.height;this.position=e;var c,f,h,d,p=this.position.l,v=this.position.w,y=this.position.t,g=this.position.h,m=this.position.direction,b="down"===m,_="left"===m,w="up"===m,x=v,T=g;b||_||"right"===m||w||(this.position.direction="down",b=!0),b||w?(f=(c=p)+x,b?(h=y,T=(d=Math.min(h+T,l))-h):T=(d=y+T)-(h=Math.max(d-T,0))):(d=(h=y)+T,_?x=(f=p+x)-(c=Math.max(f-x,0)):(c=p,x=(f=Math.min(c+x,u))-c)),this._box={l:c,t:h,w:x,h:T};var k=v>x,O=s.barLength+2*s.barPad,S=s.barWidth+2*s.barPad,A=p,E=y+g;E+S>l&&(E=l-S);var M=this.container.selectAll("rect.scrollbar-horizontal").data(k?[0]:[]);M.exit().on(".drag",null).remove(),M.enter().append("rect").classed("scrollbar-horizontal",!0).call(i.fill,s.barColor),k?(this.hbar=M.attr({rx:s.barRadius,ry:s.barRadius,x:A,y:E,width:O,height:S}),this._hbarXMin=A+O/2,this._hbarTranslateMax=x-O):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var C=g>T,I=s.barWidth+2*s.barPad,D=s.barLength+2*s.barPad,P=p+v,N=y;P+I>u&&(P=u-I);var L=this.container.selectAll("rect.scrollbar-vertical").data(C?[0]:[]);L.exit().on(".drag",null).remove(),L.enter().append("rect").classed("scrollbar-vertical",!0).call(i.fill,s.barColor),C?(this.vbar=L.attr({rx:s.barRadius,ry:s.barRadius,x:P,y:N,width:I,height:D}),this._vbarYMin=N+D/2,this._vbarTranslateMax=T-D):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var j=this.id,R=c-.5,F=C?f+I+.5:f+.5,z=h-.5,U=k?d+S+.5:d+.5,q=a._topdefs.selectAll("#"+j).data(k||C?[0]:[]);if(q.exit().remove(),q.enter().append("clipPath").attr("id",j).append("rect"),k||C?(this._clipRect=q.select("rect").attr({x:Math.floor(R),y:Math.floor(z),width:Math.ceil(F)-Math.floor(R),height:Math.ceil(U)-Math.floor(z)}),this.container.call(o.setClipUrl,j,this.gd),this.bg.attr({x:p,y:y,width:v,height:g})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),k||C){var V=r.behavior.drag().on("dragstart",(function(){r.event.sourceEvent.preventDefault()})).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(V);var B=r.behavior.drag().on("dragstart",(function(){r.event.sourceEvent.preventDefault(),r.event.sourceEvent.stopPropagation()})).on("drag",this._onBarDrag.bind(this));k&&this.hbar.on(".drag",null).call(B),C&&this.vbar.on(".drag",null).call(B)}this.setTranslate(t,n)},s.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},s.prototype._onBoxDrag=function(){var e=this.translateX,t=this.translateY;this.hbar&&(e-=r.event.dx),this.vbar&&(t-=r.event.dy),this.setTranslate(e,t)},s.prototype._onBoxWheel=function(){var e=this.translateX,t=this.translateY;this.hbar&&(e+=r.event.deltaY),this.vbar&&(t+=r.event.deltaY),this.setTranslate(e,t)},s.prototype._onBarDrag=function(){var e=this.translateX,t=this.translateY;if(this.hbar){var n=e+this._hbarXMin,i=n+this._hbarTranslateMax;e=(a.constrain(r.event.x,n,i)-n)/(i-n)*(this.position.w-this._box.w)}if(this.vbar){var o=t+this._vbarYMin,s=o+this._vbarTranslateMax;t=(a.constrain(r.event.y,o,s)-o)/(s-o)*(this.position.h-this._box.h)}this.setTranslate(e,t)},s.prototype.setTranslate=function(e,t){var n=this.position.w-this._box.w,r=this.position.h-this._box.h;if(e=a.constrain(e||0,0,n),t=a.constrain(t||0,0,r),this.translateX=e,this.translateY=t,this.container.call(o.setTranslate,this._box.l-this.position.l-e,this._box.t-this.position.t-t),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+e-.5),y:Math.floor(this.position.t+t-.5)}),this.hbar){var i=e/n;this.hbar.call(o.setTranslate,e+i*this._hbarTranslateMax,t)}if(this.vbar){var s=t/r;this.vbar.call(o.setTranslate,e,t+s*this._vbarTranslateMax)}}},{"../../lib":230,"../color":100,"../drawing":122,"@plotly/d3":11}],205:[function(e,t,n){"use strict";t.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},{}],206:[function(e,t,n){"use strict";t.exports={axisRefDescription:function(e,t,n){return["If set to a",e,"axis id (e.g. *"+e+"* or","*"+e+"2*), the `"+e+"` position refers to a",e,"coordinate. If set to *paper*, the `"+e+"`","position refers to the distance from the",t,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",t,"("+n+"). If set to a",e,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",t,"of the domain of that axis: e.g.,","*"+e+"2 domain* refers to the domain of the second",e," axis and a",e,"position of 0.5 refers to the","point between the",t,"and the",n,"of the domain of the","second",e,"axis."].join(" ")}}},{}],207:[function(e,t,n){"use strict";t.exports={FORMAT_LINK:"https://github.com/d3/d3-3.x-api-reference/blob/master/Formatting.md#d3_format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format#locale_format"}},{}],208:[function(e,t,n){"use strict";t.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},{}],209:[function(e,t,n){"use strict";t.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},{}],210:[function(e,t,n){"use strict";t.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},{}],211:[function(e,t,n){"use strict";n.xmlns="http://www.w3.org/2000/xmlns/",n.svg="http://www.w3.org/2000/svg",n.xlink="http://www.w3.org/1999/xlink",n.svgAttrs={xmlns:n.svg,"xmlns:xlink":n.xlink}},{}],212:[function(e,t,n){"use strict";n.version=e("./version").version,e("native-promise-only"),e("../build/plotcss");for(var r=e("./registry"),i=n.register=r.register,o=e("./plot_api"),a=Object.keys(o),s=0;s<a.length;s++){var u=a[s];"_"!==u.charAt(0)&&(n[u]=o[u]),i({moduleType:"apiMethod",name:u,fn:o[u]})}i(e("./traces/scatter")),i([e("./components/legend"),e("./components/fx"),e("./components/annotations"),e("./components/annotations3d"),e("./components/shapes"),e("./components/images"),e("./components/updatemenus"),e("./components/sliders"),e("./components/rangeslider"),e("./components/rangeselector"),e("./components/grid"),e("./components/errorbars"),e("./components/colorscale"),e("./components/colorbar"),e("./components/modebar")]),i([e("./locale-en"),e("./locale-en-us")]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(i(window.PlotlyLocales),delete window.PlotlyLocales),n.Icons=e("./fonts/ploticon");var l=e("./components/fx"),c=e("./plots/plots");n.Plots={resize:c.resize,graphJson:c.graphJson,sendDataToCloud:c.sendDataToCloud},n.Fx={hover:l.hover,unhover:l.unhover,loneHover:l.loneHover,loneUnhover:l.loneUnhover},n.Snapshot=e("./snapshot"),n.PlotSchema=e("./plot_api/plot_schema")},{"../build/plotcss":1,"./components/annotations":91,"./components/annotations3d":96,"./components/colorbar":106,"./components/colorscale":112,"./components/errorbars":128,"./components/fx":140,"./components/grid":144,"./components/images":149,"./components/legend":157,"./components/modebar":163,"./components/rangeselector":171,"./components/rangeslider":178,"./components/shapes":192,"./components/sliders":197,"./components/updatemenus":203,"./fonts/ploticon":213,"./locale-en":256,"./locale-en-us":255,"./plot_api":260,"./plot_api/plot_schema":264,"./plots/plots":311,"./registry":313,"./snapshot":318,"./traces/scatter":365,"./version":386,"native-promise-only":52}],213:[function(e,t,n){"use strict";t.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'><defs><style>.cls-1 {fill: #3f4f75;} .cls-2 {fill: #80cfbe;} .cls-3 {fill: #fff;}</style></defs><title>plotly-logomark</title><g id='symbol'><rect class='cls-1' width='132' height='132' rx='6' ry='6'/><circle class='cls-2' cx='78' cy='54' r='6'/><circle class='cls-2' cx='102' cy='30' r='6'/><circle class='cls-2' cx='78' cy='30' r='6'/><circle class='cls-2' cx='54' cy='30' r='6'/><circle class='cls-2' cx='30' cy='30' r='6'/><circle class='cls-2' cx='30' cy='54' r='6'/><path class='cls-3' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/><path class='cls-3' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/><path class='cls-3' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/><path class='cls-3' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/></g></svg>"}}},{}],214:[function(e,t,n){"use strict";n.isLeftAnchor=function(e){return"left"===e.xanchor||"auto"===e.xanchor&&e.x<=1/3},n.isCenterAnchor=function(e){return"center"===e.xanchor||"auto"===e.xanchor&&e.x>1/3&&e.x<2/3},n.isRightAnchor=function(e){return"right"===e.xanchor||"auto"===e.xanchor&&e.x>=2/3},n.isTopAnchor=function(e){return"top"===e.yanchor||"auto"===e.yanchor&&e.y>=2/3},n.isMiddleAnchor=function(e){return"middle"===e.yanchor||"auto"===e.yanchor&&e.y>1/3&&e.y<2/3},n.isBottomAnchor=function(e){return"bottom"===e.yanchor||"auto"===e.yanchor&&e.y<=1/3}},{}],215:[function(e,t,n){"use strict";var r=e("./mod"),i=r.mod,o=r.modHalf,a=Math.PI,s=2*a;function u(e){return e/180*a}function l(e){return e/a*180}function c(e){return Math.abs(e[1]-e[0])>s-1e-14}function f(e,t){return o(t-e,s)}function h(e,t){return Math.abs(f(e,t))}function d(e,t){if(c(t))return!0;var n,r;t[0]<t[1]?(n=t[0],r=t[1]):(n=t[1],r=t[0]),(n=i(n,s))>(r=i(r,s))&&(r+=s);var o=i(e,s),a=o+s;return o>=n&&o<=r||a>=n&&a<=r}function p(e,t,n,r){return!!d(t,r)&&(n[0]<n[1]?(i=n[0],o=n[1]):(i=n[1],o=n[0]),e>=i&&e<=o);var i,o}function v(e,t,n,r,i,o,u){i=i||0,o=o||0;var l,f,h,d,p,v=c([n,r]);function y(e,t){return[e*Math.cos(t)+i,o-e*Math.sin(t)]}v?(l=0,f=a,h=s):n<r?(l=n,h=r):(l=r,h=n),e<t?(d=e,p=t):(d=t,p=e);var g,m=Math.abs(h-l)<=a?0:1;function b(e,t,n){return"A"+[e,e]+" "+[0,m,n]+" "+y(e,t)}return v?g=null===d?"M"+y(p,l)+b(p,f,0)+b(p,h,0)+"Z":"M"+y(d,l)+b(d,f,0)+b(d,h,0)+"ZM"+y(p,l)+b(p,f,1)+b(p,h,1)+"Z":null===d?(g="M"+y(p,l)+b(p,h,0),u&&(g+="L0,0Z")):g="M"+y(d,l)+"L"+y(p,l)+b(p,h,0)+"L"+y(d,h)+b(d,l,1)+"Z",g}function y(e,t,n,r,i){return v(null,e,t,n,r,i,0)}function g(e,t,n,r,i){return v(null,e,t,n,r,i,1)}function m(e,t,n,r,i,o){return v(e,t,n,r,i,o,1)}t.exports={deg2rad:u,rad2deg:l,angleDelta:f,angleDist:h,isFullCircle:c,isAngleInsideSector:d,isPtInsideSector:p,pathArc:y,pathSector:g,pathAnnulus:m}},{"./mod":237}],216:[function(e,t,n){"use strict";var r=Array.isArray,i=ArrayBuffer,o=DataView;function a(e){return i.isView(e)&&!(e instanceof o)}function s(e){return r(e)||a(e)}function u(e){return!s(e[0])}function l(e,t,n){if(s(e)){if(s(e[0])){for(var r=n,i=0;i<e.length;i++)r=t(r,e[i].length);return r}return e.length}return 0}n.isTypedArray=a,n.isArrayOrTypedArray=s,n.isArray1D=u,n.ensureArray=function(e,t){return r(e)||(e=[]),e.length=t,e},n.concat=function(){var e,t,n,i,o,a,s,u,l=[],c=!0,f=0;for(n=0;n<arguments.length;n++)(a=(i=arguments[n]).length)&&(t?l.push(i):(t=i,o=a),r(i)?e=!1:(c=!1,f?e!==i.constructor&&(e=!1):e=i.constructor),f+=a);if(!f)return[];if(!l.length)return t;if(c)return t.concat.apply(t,l);if(e){for((s=new e(f)).set(t),n=0;n<l.length;n++)i=l[n],s.set(i,o),o+=i.length;return s}for(s=new Array(f),u=0;u<t.length;u++)s[u]=t[u];for(n=0;n<l.length;n++){for(i=l[n],u=0;u<i.length;u++)s[o+u]=i[u];o+=u}return s},n.maxRowLength=function(e){return l(e,Math.max,0)},n.minRowLength=function(e){return l(e,Math.min,1/0)}},{}],217:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../constants/numerical").BADNUM,o=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;t.exports=function(e){return"string"===typeof e&&(e=e.replace(o,"")),r(e)?Number(e):i}},{"../constants/numerical":210,"fast-isnumeric":15}],218:[function(e,t,n){"use strict";t.exports=function(e){var t=e._fullLayout;t._glcanvas&&t._glcanvas.size()&&t._glcanvas.each((function(e){e.regl&&e.regl.clear({color:!0,depth:!0})}))}},{}],219:[function(e,t,n){"use strict";t.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},{}],220:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("tinycolor2"),o=e("../plots/attributes"),a=e("../components/colorscale/scales"),s=e("../components/color"),u=e("../constants/interactions").DESELECTDIM,l=e("./nested_property"),c=e("./regex").counter,f=e("./mod").modHalf,h=e("./array").isArrayOrTypedArray;function d(e,t){var r=n.valObjectMeta[t.valType];if(t.arrayOk&&h(e))return!0;if(r.validateFunction)return r.validateFunction(e,t);var i={},o=i,a={set:function(e){o=e}};return r.coerceFunction(e,a,i,t),o!==i}n.valObjectMeta={data_array:{coerceFunction:function(e,t,n){h(e)?t.set(e):void 0!==n&&t.set(n)}},enumerated:{coerceFunction:function(e,t,n,r){r.coerceNumber&&(e=+e),-1===r.values.indexOf(e)?t.set(n):t.set(e)},validateFunction:function(e,t){t.coerceNumber&&(e=+e);for(var n=t.values,r=0;r<n.length;r++){var i=String(n[r]);if("/"===i.charAt(0)&&"/"===i.charAt(i.length-1)){if(new RegExp(i.substr(1,i.length-2)).test(e))return!0}else if(e===n[r])return!0}return!1}},boolean:{coerceFunction:function(e,t,n){!0===e||!1===e?t.set(e):t.set(n)}},number:{coerceFunction:function(e,t,n,i){!r(e)||void 0!==i.min&&e<i.min||void 0!==i.max&&e>i.max?t.set(n):t.set(+e)}},integer:{coerceFunction:function(e,t,n,i){e%1||!r(e)||void 0!==i.min&&e<i.min||void 0!==i.max&&e>i.max?t.set(n):t.set(+e)}},string:{coerceFunction:function(e,t,n,r){if("string"!==typeof e){var i="number"===typeof e;!0!==r.strict&&i?t.set(String(e)):t.set(n)}else r.noBlank&&!e?t.set(n):t.set(e)}},color:{coerceFunction:function(e,t,n){i(e).isValid()?t.set(e):t.set(n)}},colorlist:{coerceFunction:function(e,t,n){function r(e){return i(e).isValid()}Array.isArray(e)&&e.length&&e.every(r)?t.set(e):t.set(n)}},colorscale:{coerceFunction:function(e,t,n){t.set(a.get(e,n))}},angle:{coerceFunction:function(e,t,n){"auto"===e?t.set("auto"):r(e)?t.set(f(+e,360)):t.set(n)}},subplotid:{coerceFunction:function(e,t,n,r){var i=r.regex||c(n);"string"===typeof e&&i.test(e)?t.set(e):t.set(n)},validateFunction:function(e,t){var n=t.dflt;return e===n||"string"===typeof e&&!!c(n).test(e)}},flaglist:{coerceFunction:function(e,t,n,r){if("string"===typeof e)if(-1===(r.extras||[]).indexOf(e)){for(var i=e.split("+"),o=0;o<i.length;){var a=i[o];-1===r.flags.indexOf(a)||i.indexOf(a)<o?i.splice(o,1):o++}i.length?t.set(i.join("+")):t.set(n)}else t.set(e);else t.set(n)}},any:{coerceFunction:function(e,t,n){void 0===e?t.set(n):t.set(e)}},info_array:{coerceFunction:function(e,t,r,i){function o(e,t,r){var i,o={set:function(e){i=e}};return void 0===r&&(r=t.dflt),n.valObjectMeta[t.valType].coerceFunction(e,o,r,t),i}var a=2===i.dimensions||"1-2"===i.dimensions&&Array.isArray(e)&&Array.isArray(e[0]);if(Array.isArray(e)){var s,u,l,c,f,h,d=i.items,p=[],v=Array.isArray(d),y=v&&a&&Array.isArray(d[0]),g=a&&v&&!y,m=v&&!g?d.length:e.length;if(r=Array.isArray(r)?r:[],a)for(s=0;s<m;s++)for(p[s]=[],l=Array.isArray(e[s])?e[s]:[],f=g?d.length:v?d[s].length:l.length,u=0;u<f;u++)c=g?d[u]:v?d[s][u]:d,void 0!==(h=o(l[u],c,(r[s]||[])[u]))&&(p[s][u]=h);else for(s=0;s<m;s++)void 0!==(h=o(e[s],v?d[s]:d,r[s]))&&(p[s]=h);t.set(p)}else t.set(r)},validateFunction:function(e,t){if(!Array.isArray(e))return!1;var n=t.items,r=Array.isArray(n),i=2===t.dimensions;if(!t.freeLength&&e.length!==n.length)return!1;for(var o=0;o<e.length;o++)if(i){if(!Array.isArray(e[o])||!t.freeLength&&e[o].length!==n[o].length)return!1;for(var a=0;a<e[o].length;a++)if(!d(e[o][a],r?n[o][a]:n))return!1}else if(!d(e[o],r?n[o]:n))return!1;return!0}}},n.coerce=function(e,t,r,i,o){var a=l(r,i).get(),s=l(e,i),u=l(t,i),c=s.get(),f=t._template;if(void 0===c&&f&&(c=l(f,i).get(),f=0),void 0===o&&(o=a.dflt),a.arrayOk&&h(c))return u.set(c),c;var p=n.valObjectMeta[a.valType].coerceFunction;p(c,u,o,a);var v=u.get();return f&&v===o&&!d(c,a)&&(p(c=l(f,i).get(),u,o,a),v=u.get()),v},n.coerce2=function(e,t,r,i,o){var a=l(e,i),s=n.coerce(e,t,r,i,o),u=a.get();return void 0!==u&&null!==u&&s},n.coerceFont=function(e,t,n){var r={};return n=n||{},r.family=e(t+".family",n.family),r.size=e(t+".size",n.size),r.color=e(t+".color",n.color),r},n.coercePattern=function(e,t,n,r){if(e(t+".shape")){e(t+".solidity"),e(t+".size");var i="overlay"===e(t+".fillmode");if(!r){var o=e(t+".bgcolor",i?n:void 0);e(t+".fgcolor",i?s.contrast(o):n)}e(t+".fgopacity",i?.5:1)}},n.coerceHoverinfo=function(e,t,r){var i,a=t._module.attributes,s=a.hoverinfo?a:o,u=s.hoverinfo;if(1===r._dataLength){var l="all"===u.dflt?u.flags.slice():u.dflt.split("+");l.splice(l.indexOf("name"),1),i=l.join("+")}return n.coerce(e,t,s,"hoverinfo",i)},n.coerceSelectionMarkerOpacity=function(e,t){if(e.marker){var n,r,i=e.marker.opacity;void 0!==i&&(h(i)||e.selected||e.unselected||(n=i,r=u*i),t("selected.marker.opacity",n),t("unselected.marker.opacity",r))}},n.validate=d},{"../components/color":100,"../components/colorscale/scales":115,"../constants/interactions":209,"../plots/attributes":272,"./array":216,"./mod":237,"./nested_property":238,"./regex":246,"fast-isnumeric":15,tinycolor2:65}],221:[function(e,t,n){"use strict";var r,i,o=e("d3-time-format").timeFormat,a=e("fast-isnumeric"),s=e("./loggers"),u=e("./mod").mod,l=e("../constants/numerical"),c=l.BADNUM,f=l.ONEDAY,h=l.ONEHOUR,d=l.ONEMIN,p=l.ONESEC,v=l.EPOCHJD,y=e("../registry"),g=e("d3-time-format").utcFormat,m=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,b=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,_=(new Date).getFullYear()-70;function w(e){return e&&y.componentsRegistry.calendars&&"string"===typeof e&&"gregorian"!==e}function x(e,t){return w(e)?t?y.getComponentMethod("calendars","CANONICAL_SUNDAY")[e]:y.getComponentMethod("calendars","CANONICAL_TICK")[e]:t?"2000-01-02":"2000-01-01"}function T(e,t){return String(e+Math.pow(10,t)).substr(1)}n.dateTick0=function(e,t){var r=x(e,!!t);if(t<2)return r;var i=n.dateTime2ms(r,e);return i+=f*(t-1),n.ms2DateTime(i,0,e)},n.dfltRange=function(e){return w(e)?y.getComponentMethod("calendars","DFLTRANGE")[e]:["2000-01-01","2001-01-01"]},n.isJSDate=function(e){return"object"===typeof e&&null!==e&&"function"===typeof e.getTime},n.dateTime2ms=function(e,t){if(n.isJSDate(e)){var o=e.getTimezoneOffset()*d,a=(e.getUTCMinutes()-e.getMinutes())*d+(e.getUTCSeconds()-e.getSeconds())*p+(e.getUTCMilliseconds()-e.getMilliseconds());if(a){var s=3*d;o=o-s/2+u(a-o+s/2,s)}return(e=Number(e)-o)>=r&&e<=i?e:c}if("string"!==typeof e&&"number"!==typeof e)return c;e=String(e);var l=w(t),g=e.charAt(0);!l||"G"!==g&&"g"!==g||(e=e.substr(1),t="");var x=l&&"chinese"===t.substr(0,7),T=e.match(x?b:m);if(!T)return c;var k=T[1],O=T[3]||"1",S=Number(T[5]||1),A=Number(T[7]||0),E=Number(T[9]||0),M=Number(T[11]||0);if(l){if(2===k.length)return c;var C;k=Number(k);try{var I=y.getComponentMethod("calendars","getCal")(t);if(x){var D="i"===O.charAt(O.length-1);O=parseInt(O,10),C=I.newDate(k,I.toMonthIndex(k,O,D),S)}else C=I.newDate(k,Number(O),S)}catch(N){return c}return C?(C.toJD()-v)*f+A*h+E*d+M*p:c}k=2===k.length?(Number(k)+2e3-_)%100+_:Number(k),O-=1;var P=new Date(Date.UTC(2e3,O,S,A,E));return P.setUTCFullYear(k),P.getUTCMonth()!==O||P.getUTCDate()!==S?c:P.getTime()+M*p},r=n.MIN_MS=n.dateTime2ms("-9999"),i=n.MAX_MS=n.dateTime2ms("9999-12-31 23:59:59.9999"),n.isDateTime=function(e,t){return n.dateTime2ms(e,t)!==c};var k=90*f,O=3*h,S=5*d;function A(e,t,n,r,i){if((t||n||r||i)&&(e+=" "+T(t,2)+":"+T(n,2),(r||i)&&(e+=":"+T(r,2),i))){for(var o=4;i%10===0;)o-=1,i/=10;e+="."+T(i,o)}return e}n.ms2DateTime=function(e,t,n){if("number"!==typeof e||!(e>=r&&e<=i))return c;t||(t=0);var o,a,s,l,m,b,_=Math.floor(10*u(e+.05,1)),x=Math.round(e-_/10);if(w(n)){var T=Math.floor(x/f)+v,E=Math.floor(u(e,f));try{o=y.getComponentMethod("calendars","getCal")(n).fromJD(T).formatDate("yyyy-mm-dd")}catch(M){o=g("G%Y-%m-%d")(new Date(x))}if("-"===o.charAt(0))for(;o.length<11;)o="-0"+o.substr(1);else for(;o.length<10;)o="0"+o;a=t<k?Math.floor(E/h):0,s=t<k?Math.floor(E%h/d):0,l=t<O?Math.floor(E%d/p):0,m=t<S?E%p*10+_:0}else b=new Date(x),o=g("%Y-%m-%d")(b),a=t<k?b.getUTCHours():0,s=t<k?b.getUTCMinutes():0,l=t<O?b.getUTCSeconds():0,m=t<S?10*b.getUTCMilliseconds()+_:0;return A(o,a,s,l,m)},n.ms2DateTimeLocal=function(e){if(!(e>=r+f&&e<=i-f))return c;var t=Math.floor(10*u(e+.05,1)),n=new Date(Math.round(e-t/10));return A(o("%Y-%m-%d")(n),n.getHours(),n.getMinutes(),n.getSeconds(),10*n.getUTCMilliseconds()+t)},n.cleanDate=function(e,t,r){if(e===c)return t;if(n.isJSDate(e)||"number"===typeof e&&isFinite(e)){if(w(r))return s.error("JS Dates and milliseconds are incompatible with world calendars",e),t;if(!(e=n.ms2DateTimeLocal(+e))&&void 0!==t)return t}else if(!n.isDateTime(e,r))return s.error("unrecognized date",e),t;return e};var E=/%\d?f/g,M=/%h/g,C={1:"1",2:"1",3:"2",4:"2"};function I(e,t,n,r){e=e.replace(E,(function(e){var n=Math.min(+e.charAt(1)||6,6);return(t/1e3%1+2).toFixed(n).substr(2).replace(/0+$/,"")||"0"}));var i=new Date(Math.floor(t+.05));if(e=e.replace(M,(function(){return C[n("%q")(i)]})),w(r))try{e=y.getComponentMethod("calendars","worldCalFmt")(e,t,r)}catch(o){return"Invalid"}return n(e)(i)}var D=[59,59.9,59.99,59.999,59.9999];function P(e,t){var n=u(e+.05,f),r=T(Math.floor(n/h),2)+":"+T(u(Math.floor(n/d),60),2);if("M"!==t){a(t)||(t=0);var i=(100+Math.min(u(e/p,60),D[t])).toFixed(t).substr(1);t>0&&(i=i.replace(/0+$/,"").replace(/[\.]$/,"")),r+=":"+i}return r}n.formatDate=function(e,t,n,r,i,o){if(i=w(i)&&i,!t)if("y"===n)t=o.year;else if("m"===n)t=o.month;else{if("d"!==n)return P(e,n)+"\n"+I(o.dayMonthYear,e,r,i);t=o.dayMonth+"\n"+o.year}return I(t,e,r,i)};var N=3*f;n.incrementMonth=function(e,t,n){n=w(n)&&n;var r=u(e,f);if(e=Math.round(e-r),n)try{var i=Math.round(e/f)+v,o=y.getComponentMethod("calendars","getCal")(n),a=o.fromJD(i);return t%12?o.add(a,t,"m"):o.add(a,t/12,"y"),(a.toJD()-v)*f+r}catch(c){s.error("invalid ms "+e+" in calendar "+n)}var l=new Date(e+N);return l.setUTCMonth(l.getUTCMonth()+t)+r-N},n.findExactDates=function(e,t){for(var n,r,i=0,o=0,s=0,u=0,l=w(t)&&y.getComponentMethod("calendars","getCal")(t),c=0;c<e.length;c++)if(r=e[c],a(r)){if(!(r%f))if(l)try{1===(n=l.fromJD(r/f+v)).day()?1===n.month()?i++:o++:s++}catch(d){}else 1===(n=new Date(r)).getUTCDate()?0===n.getUTCMonth()?i++:o++:s++}else u++;s+=o+=i;var h=e.length-u;return{exactYears:i/h,exactMonths:o/h,exactDays:s/h}}},{"../constants/numerical":210,"../registry":313,"./loggers":234,"./mod":237,"d3-time-format":13,"fast-isnumeric":15}],222:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("./loggers"),o=e("./matrix"),a=e("gl-mat4");function s(e){var t;if("string"===typeof e){if(null===(t=document.getElementById(e)))throw new Error("No DOM element with id '"+e+"' exists on the page.");return t}if(null===e||void 0===e)throw new Error("DOM element provided is null or undefined");return e}function u(e){var t=r.select(e);return t.node()instanceof HTMLElement&&t.size()&&t.classed("js-plotly-plot")}function l(e){var t=e&&e.parentNode;t&&t.removeChild(e)}function c(e,t){f("global",e,t)}function f(e,t,n){var r="plotly.js-style-"+e,o=document.getElementById(r);o||((o=document.createElement("style")).setAttribute("id",r),o.appendChild(document.createTextNode("")),document.head.appendChild(o));var a=o.sheet;a.insertRule?a.insertRule(t+"{"+n+"}",0):a.addRule?a.addRule(t,n,0):i.warn("addStyleRule failed")}function h(e){var t="plotly.js-style-"+e,n=document.getElementById(t);n&&l(n)}function d(e){var t=v(e),n=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return t.forEach((function(e){var t=p(e);if(t){var r=o.convertCssMatrix(t);n=a.multiply(n,n,r)}})),n}function p(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("-webkit-transform")||t.getPropertyValue("-moz-transform")||t.getPropertyValue("-ms-transform")||t.getPropertyValue("-o-transform")||t.getPropertyValue("transform");return"none"===n?null:n.replace("matrix","").replace("3d","").slice(1,-1).split(",").map((function(e){return+e}))}function v(e){for(var t=[];y(e);)t.push(e),e=e.parentNode;return t}function y(e){return e&&(e instanceof Element||e instanceof HTMLElement)}function g(e,t){return e&&t&&e.x===t.x&&e.y===t.y&&e.top===t.top&&e.left===t.left&&e.right===t.right&&e.bottom===t.bottom}t.exports={getGraphDiv:s,isPlotDiv:u,removeElement:l,addStyleRule:c,addRelatedStyleRule:f,deleteRelatedStyleRule:h,getFullTransformMatrix:d,getElementTransformMatrix:p,getElementAndAncestors:v,equalDomRects:g}},{"./loggers":234,"./matrix":236,"@plotly/d3":11,"gl-mat4":31}],223:[function(e,t,n){"use strict";var r=e("events").EventEmitter,i={init:function(e){if(e._ev instanceof r)return e;var t=new r,n=new r;return e._ev=t,e._internalEv=n,e.on=t.on.bind(t),e.once=t.once.bind(t),e.removeListener=t.removeListener.bind(t),e.removeAllListeners=t.removeAllListeners.bind(t),e._internalOn=n.on.bind(n),e._internalOnce=n.once.bind(n),e._removeInternalListener=n.removeListener.bind(n),e._removeAllInternalListeners=n.removeAllListeners.bind(n),e.emit=function(r,i){"undefined"!==typeof jQuery&&jQuery(e).trigger(r,i),t.emit(r,i),n.emit(r,i)},e},triggerHandler:function(e,t,n){var r,i;"undefined"!==typeof jQuery&&(r=jQuery(e).triggerHandler(t,n));var o=e._ev;if(!o)return r;var a,s=o._events[t];if(!s)return r;function u(e){return e.listener?(o.removeListener(t,e.listener),e.fired?void 0:(e.fired=!0,e.listener.apply(o,[n]))):e.apply(o,[n])}for(s=Array.isArray(s)?s:[s],a=0;a<s.length-1;a++)u(s[a]);return i=u(s[a]),void 0!==r?r:i},purge:function(e){return delete e._ev,delete e.on,delete e.once,delete e.removeListener,delete e.removeAllListeners,delete e.emit,delete e._ev,delete e._internalEv,delete e._internalOn,delete e._internalOnce,delete e._removeInternalListener,delete e._removeAllInternalListeners,e}};t.exports=i},{events:12}],224:[function(e,t,n){"use strict";var r=e("./is_plain_object.js"),i=Array.isArray;function o(e,t){var n,r;for(n=0;n<e.length;n++){if(null!==(r=e[n])&&"object"===typeof r)return!1;void 0!==r&&(t[n]=r)}return!0}function a(e,t,n,s){var u,l,c,f,h,d,p=e[0],v=e.length;if(2===v&&i(p)&&i(e[1])&&0===p.length){if(o(e[1],p))return p;p.splice(0,p.length)}for(var y=1;y<v;y++)for(l in u=e[y])c=p[l],f=u[l],s&&i(f)?p[l]=f:t&&f&&(r(f)||(h=i(f)))?(h?(h=!1,d=c&&i(c)?c:[]):d=c&&r(c)?c:{},p[l]=a([d,f],t,n,s)):("undefined"!==typeof f||n)&&(p[l]=f);return p}n.extendFlat=function(){return a(arguments,!1,!1,!1)},n.extendDeep=function(){return a(arguments,!0,!1,!1)},n.extendDeepAll=function(){return a(arguments,!0,!0,!1)},n.extendDeepNoArrays=function(){return a(arguments,!0,!1,!0)}},{"./is_plain_object.js":231}],225:[function(e,t,n){"use strict";t.exports=function(e){for(var t={},n=[],r=0,i=0;i<e.length;i++){var o=e[i];1!==t[o]&&(t[o]=1,n[r++]=o)}return n}},{}],226:[function(e,t,n){"use strict";function r(e){return!0===e.visible}function i(e){var t=e[0].trace;return!0===t.visible&&0!==t._length}function o(e){return Array.isArray(e)&&Array.isArray(e[0])&&e[0][0]&&e[0][0].trace}t.exports=function(e){for(var t=o(e)?i:r,n=[],a=0;a<e.length;a++){var s=e[a];t(s)&&n.push(s)}return n}},{}],227:[function(e,t,n){"use strict";var r,i,o,a=e("./mod").mod;function s(e,t,n,r,i,o,a,s){var u=n-e,l=i-e,c=a-i,f=r-t,h=o-t,d=s-o,p=u*d-c*f;if(0===p)return null;var v=(l*d-c*h)/p,y=(l*f-u*h)/p;return y<0||y>1||v<0||v>1?null:{x:e+u*v,y:t+f*v}}function u(e,t,n,r,i){var o=r*e+i*t;if(o<0)return r*r+i*i;if(o>n){var a=r-e,s=i-t;return a*a+s*s}var u=r*t-i*e;return u*u/n}n.segmentsIntersect=s,n.segmentDistance=function(e,t,n,r,i,o,a,l){if(s(e,t,n,r,i,o,a,l))return 0;var c=n-e,f=r-t,h=a-i,d=l-o,p=c*c+f*f,v=h*h+d*d,y=Math.min(u(c,f,p,i-e,o-t),u(c,f,p,a-e,l-t),u(h,d,v,e-i,t-o),u(h,d,v,n-i,r-o));return Math.sqrt(y)},n.getTextLocation=function(e,t,n,s){if(e===i&&s===o||(r={},i=e,o=s),r[n])return r[n];var u=e.getPointAtLength(a(n-s/2,t)),l=e.getPointAtLength(a(n+s/2,t)),c=Math.atan((l.y-u.y)/(l.x-u.x)),f=e.getPointAtLength(a(n,t)),h={x:(4*f.x+u.x+l.x)/6,y:(4*f.y+u.y+l.y)/6,theta:c};return r[n]=h,h},n.clearLocationCache=function(){i=null},n.getVisibleSegment=function(e,t,n){var r,i,o=t.left,a=t.right,s=t.top,u=t.bottom,l=0,c=e.getTotalLength(),f=c;function h(t){var n=e.getPointAtLength(t);0===t?r=n:t===c&&(i=n);var l=n.x<o?o-n.x:n.x>a?n.x-a:0,f=n.y<s?s-n.y:n.y>u?n.y-u:0;return Math.sqrt(l*l+f*f)}for(var d=h(l);d;){if((l+=d+n)>f)return;d=h(l)}for(d=h(f);d;){if(l>(f-=d+n))return;d=h(f)}return{min:l,max:f,len:f-l,total:c,isClosed:0===l&&f===c&&Math.abs(r.x-i.x)<.1&&Math.abs(r.y-i.y)<.1}},n.findPointOnPath=function(e,t,n,r){for(var i,o,a,s=(r=r||{}).pathLength||e.getTotalLength(),u=r.tolerance||.001,l=r.iterationLimit||30,c=e.getPointAtLength(0)[n]>e.getPointAtLength(s)[n]?-1:1,f=0,h=0,d=s;f<l;){if(i=(h+d)/2,a=(o=e.getPointAtLength(i))[n]-t,Math.abs(a)<u)return o;c*a>0?d=i:h=i,f++}return o}},{"./mod":237}],228:[function(e,t,n){"use strict";t.exports=function(e){return e}},{}],229:[function(e,t,n){"use strict";t.exports=function(e,t){if(!t)return e;var n=1/Math.abs(t),r=n>1?(n*e+n*t)/n:e+t,i=String(r).length;if(i>16){var o=String(t).length;if(i>=String(e).length+o){var a=parseFloat(r).toPrecision(12);-1===a.indexOf("e+")&&(r=+a)}}return r}},{}],230:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("d3-time-format").utcFormat,o=e("fast-isnumeric"),a=e("../constants/numerical"),s=a.FP_SAFE,u=-s,l=a.BADNUM,c=t.exports={};c.nestedProperty=e("./nested_property"),c.keyedContainer=e("./keyed_container"),c.relativeAttr=e("./relative_attr"),c.isPlainObject=e("./is_plain_object"),c.toLogRange=e("./to_log_range"),c.relinkPrivateKeys=e("./relink_private");var f=e("./array");c.isTypedArray=f.isTypedArray,c.isArrayOrTypedArray=f.isArrayOrTypedArray,c.isArray1D=f.isArray1D,c.ensureArray=f.ensureArray,c.concat=f.concat,c.maxRowLength=f.maxRowLength,c.minRowLength=f.minRowLength;var h=e("./mod");c.mod=h.mod,c.modHalf=h.modHalf;var d=e("./coerce");c.valObjectMeta=d.valObjectMeta,c.coerce=d.coerce,c.coerce2=d.coerce2,c.coerceFont=d.coerceFont,c.coercePattern=d.coercePattern,c.coerceHoverinfo=d.coerceHoverinfo,c.coerceSelectionMarkerOpacity=d.coerceSelectionMarkerOpacity,c.validate=d.validate;var p=e("./dates");c.dateTime2ms=p.dateTime2ms,c.isDateTime=p.isDateTime,c.ms2DateTime=p.ms2DateTime,c.ms2DateTimeLocal=p.ms2DateTimeLocal,c.cleanDate=p.cleanDate,c.isJSDate=p.isJSDate,c.formatDate=p.formatDate,c.incrementMonth=p.incrementMonth,c.dateTick0=p.dateTick0,c.dfltRange=p.dfltRange,c.findExactDates=p.findExactDates,c.MIN_MS=p.MIN_MS,c.MAX_MS=p.MAX_MS;var v=e("./search");c.findBin=v.findBin,c.sorterAsc=v.sorterAsc,c.sorterDes=v.sorterDes,c.distinctVals=v.distinctVals,c.roundUp=v.roundUp,c.sort=v.sort,c.findIndexOfMin=v.findIndexOfMin;var y=e("./stats");c.aggNums=y.aggNums,c.len=y.len,c.mean=y.mean,c.median=y.median,c.midRange=y.midRange,c.variance=y.variance,c.stdev=y.stdev,c.interp=y.interp;var g=e("./matrix");c.init2dArray=g.init2dArray,c.transposeRagged=g.transposeRagged,c.dot=g.dot,c.translationMatrix=g.translationMatrix,c.rotationMatrix=g.rotationMatrix,c.rotationXYMatrix=g.rotationXYMatrix,c.apply3DTransform=g.apply3DTransform,c.apply2DTransform=g.apply2DTransform,c.apply2DTransform2=g.apply2DTransform2,c.convertCssMatrix=g.convertCssMatrix,c.inverseTransformMatrix=g.inverseTransformMatrix;var m=e("./angles");c.deg2rad=m.deg2rad,c.rad2deg=m.rad2deg,c.angleDelta=m.angleDelta,c.angleDist=m.angleDist,c.isFullCircle=m.isFullCircle,c.isAngleInsideSector=m.isAngleInsideSector,c.isPtInsideSector=m.isPtInsideSector,c.pathArc=m.pathArc,c.pathSector=m.pathSector,c.pathAnnulus=m.pathAnnulus;var b=e("./anchor_utils");c.isLeftAnchor=b.isLeftAnchor,c.isCenterAnchor=b.isCenterAnchor,c.isRightAnchor=b.isRightAnchor,c.isTopAnchor=b.isTopAnchor,c.isMiddleAnchor=b.isMiddleAnchor,c.isBottomAnchor=b.isBottomAnchor;var _=e("./geometry2d");c.segmentsIntersect=_.segmentsIntersect,c.segmentDistance=_.segmentDistance,c.getTextLocation=_.getTextLocation,c.clearLocationCache=_.clearLocationCache,c.getVisibleSegment=_.getVisibleSegment,c.findPointOnPath=_.findPointOnPath;var w=e("./extend");c.extendFlat=w.extendFlat,c.extendDeep=w.extendDeep,c.extendDeepAll=w.extendDeepAll,c.extendDeepNoArrays=w.extendDeepNoArrays;var x=e("./loggers");c.log=x.log,c.warn=x.warn,c.error=x.error;var T=e("./regex");c.counterRegex=T.counter;var k=e("./throttle");c.throttle=k.throttle,c.throttleDone=k.done,c.clearThrottle=k.clear;var O=e("./dom");function S(e){var t={};for(var n in e)for(var r=e[n],i=0;i<r.length;i++)t[r[i]]=+n;return t}c.getGraphDiv=O.getGraphDiv,c.isPlotDiv=O.isPlotDiv,c.removeElement=O.removeElement,c.addStyleRule=O.addStyleRule,c.addRelatedStyleRule=O.addRelatedStyleRule,c.deleteRelatedStyleRule=O.deleteRelatedStyleRule,c.getFullTransformMatrix=O.getFullTransformMatrix,c.getElementTransformMatrix=O.getElementTransformMatrix,c.getElementAndAncestors=O.getElementAndAncestors,c.equalDomRects=O.equalDomRects,c.clearResponsive=e("./clear_responsive"),c.preserveDrawingBuffer=e("./preserve_drawing_buffer"),c.makeTraceGroups=e("./make_trace_groups"),c._=e("./localize"),c.notifier=e("./notifier"),c.filterUnique=e("./filter_unique"),c.filterVisible=e("./filter_visible"),c.pushUnique=e("./push_unique"),c.increment=e("./increment"),c.cleanNumber=e("./clean_number"),c.ensureNumber=function(e){return o(e)?(e=Number(e))>s||e<u?l:e:l},c.isIndex=function(e,t){return!(void 0!==t&&e>=t)&&o(e)&&e>=0&&e%1===0},c.noop=e("./noop"),c.identity=e("./identity"),c.repeat=function(e,t){for(var n=new Array(t),r=0;r<t;r++)n[r]=e;return n},c.swapAttrs=function(e,t,n,r){n||(n="x"),r||(r="y");for(var i=0;i<t.length;i++){var o=t[i],a=c.nestedProperty(e,o.replace("?",n)),s=c.nestedProperty(e,o.replace("?",r)),u=a.get();a.set(s.get()),s.set(u)}},c.raiseToTop=function(e){e.parentNode.appendChild(e)},c.cancelTransition=function(e){return e.transition().duration(0)},c.constrain=function(e,t,n){return t>n?Math.max(n,Math.min(t,e)):Math.max(t,Math.min(n,e))},c.bBoxIntersect=function(e,t,n){return n=n||0,e.left<=t.right+n&&t.left<=e.right+n&&e.top<=t.bottom+n&&t.top<=e.bottom+n},c.simpleMap=function(e,t,n,r,i){for(var o=e.length,a=new Array(o),s=0;s<o;s++)a[s]=t(e[s],n,r,i);return a},c.randstr=function e(t,n,r,i){if(r||(r=16),void 0===n&&(n=24),n<=0)return"0";var o,a,s=Math.log(Math.pow(2,n))/Math.log(r),u="";for(o=2;s===1/0;o*=2)s=Math.log(Math.pow(2,n/o))/Math.log(r)*o;var l=s-Math.floor(s);for(o=0;o<Math.floor(s);o++)u=Math.floor(Math.random()*r).toString(r)+u;l&&(a=Math.pow(r,l),u=Math.floor(Math.random()*a).toString(r)+u);var f=parseInt(u,r);return t&&t[u]||f!==1/0&&f>=Math.pow(2,n)?i>10?(c.warn("randstr failed uniqueness"),u):e(t,n,r,(i||0)+1):u},c.OptionControl=function(e,t){e||(e={}),t||(t="opt");var n={optionList:[],_newoption:function(r){r[t]=e,n[r.name]=r,n.optionList.push(r)}};return n["_"+t]=e,n},c.smooth=function(e,t){if((t=Math.round(t)||0)<2)return e;var n,r,i,o,a=e.length,s=2*a,u=2*t-1,l=new Array(u),c=new Array(a);for(n=0;n<u;n++)l[n]=(1-Math.cos(Math.PI*(n+1)/t))/(2*t);for(n=0;n<a;n++){for(o=0,r=0;r<u;r++)(i=n+r+1-t)<-a?i-=s*Math.round(i/s):i>=s&&(i-=s*Math.floor(i/s)),i<0?i=-1-i:i>=a&&(i=s-1-i),o+=e[i]*l[r];c[n]=o}return c},c.syncOrAsync=function(e,t,n){var r;function i(){return c.syncOrAsync(e,t,n)}for(;e.length;)if((r=(0,e.splice(0,1)[0])(t))&&r.then)return r.then(i).then(void 0,c.promiseError);return n&&n(t)},c.stripTrailingSlash=function(e){return"/"===e.substr(-1)?e.substr(0,e.length-1):e},c.noneOrAll=function(e,t,n){if(e){var r,i,o=!1,a=!0;for(r=0;r<n.length;r++)void 0!==(i=e[n[r]])&&null!==i?o=!0:a=!1;if(o&&!a)for(r=0;r<n.length;r++)e[n[r]]=t[n[r]]}},c.mergeArray=function(e,t,n,r){var i="function"===typeof r;if(c.isArrayOrTypedArray(e))for(var o=Math.min(e.length,t.length),a=0;a<o;a++){var s=e[a];t[a][n]=i?r(s):s}},c.mergeArrayCastPositive=function(e,t,n){return c.mergeArray(e,t,n,(function(e){var t=+e;return isFinite(t)&&t>0?t:0}))},c.fillArray=function(e,t,n,r){if(r=r||c.identity,c.isArrayOrTypedArray(e))for(var i=0;i<t.length;i++)t[i][n]=r(e[i])},c.castOption=function(e,t,n,r){r=r||c.identity;var i=c.nestedProperty(e,n).get();return c.isArrayOrTypedArray(i)?Array.isArray(t)&&c.isArrayOrTypedArray(i[t[0]])?r(i[t[0]][t[1]]):r(i[t]):i},c.extractOption=function(e,t,n,r){if(n in e)return e[n];var i=c.nestedProperty(t,r).get();return Array.isArray(i)?void 0:i},c.tagSelected=function(e,t,n){var r,i=t.selectedpoints,o=t._indexToPoints;function a(t){return void 0!==t&&t<e.length}o&&(r=S(o));for(var s=0;s<i.length;s++){var u=i[s];if(c.isIndex(u)||c.isArrayOrTypedArray(u)&&c.isIndex(u[0])&&c.isIndex(u[1])){var l=r?r[u]:u,f=n?n[l]:l;a(f)&&(e[f].selected=1)}}},c.selIndices2selPoints=function(e){var t=e.selectedpoints,n=e._indexToPoints;if(n){for(var r=S(n),i=[],o=0;o<t.length;o++){var a=t[o];if(c.isIndex(a)){var s=r[a];c.isIndex(s)&&i.push(s)}}return i}return t},c.getTargetArray=function(e,t){var n=t.target;if("string"===typeof n&&n){var r=c.nestedProperty(e,n).get();return!!Array.isArray(r)&&r}return!!Array.isArray(n)&&n},c.minExtend=function(e,t){var n={};"object"!==typeof t&&(t={});var r,i,o,a=3,s=Object.keys(e);for(r=0;r<s.length;r++)o=e[i=s[r]],"_"!==i.charAt(0)&&"function"!==typeof o&&("module"===i?n[i]=o:Array.isArray(o)?n[i]="colorscale"===i?o.slice():o.slice(0,a):c.isTypedArray(o)?n[i]=o.subarray(0,a):n[i]=o&&"object"===typeof o?c.minExtend(e[i],t[i]):o);for(s=Object.keys(t),r=0;r<s.length;r++)"object"===typeof(o=t[i=s[r]])&&i in n&&"object"===typeof n[i]||(n[i]=o);return n},c.titleCase=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},c.containsAny=function(e,t){for(var n=0;n<t.length;n++)if(-1!==e.indexOf(t[n]))return!0;return!1},c.isIE=function(){return"undefined"!==typeof window.navigator.msSaveBlob};var A=/Version\/[\d\.]+.*Safari/;c.isSafari=function(){return A.test(window.navigator.userAgent)};var E=/iPad|iPhone|iPod/;c.isIOS=function(){return E.test(window.navigator.userAgent)};var M=/Firefox\/(\d+)\.\d+/;c.getFirefoxVersion=function(){var e=M.exec(window.navigator.userAgent);if(e&&2===e.length){var t=parseInt(e[1]);if(!isNaN(t))return t}return null},c.isD3Selection=function(e){return e instanceof r.selection},c.ensureSingle=function(e,t,n,r){var i=e.select(t+(n?"."+n:""));if(i.size())return i;var o=e.append(t);return n&&o.classed(n,!0),r&&o.call(r),o},c.ensureSingleById=function(e,t,n,r){var i=e.select(t+"#"+n);if(i.size())return i;var o=e.append(t).attr("id",n);return r&&o.call(r),o},c.objectFromPath=function(e,t){for(var n,r=e.split("."),i=n={},o=0;o<r.length;o++){var a=r[o],s=null,u=r[o].match(/(.*)\[([0-9]+)\]/);u?(a=u[1],s=u[2],n=n[a]=[],o===r.length-1?n[s]=t:n[s]={},n=n[s]):(o===r.length-1?n[a]=t:n[a]={},n=n[a])}return i};var C=/^([^\[\.]+)\.(.+)?/,I=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;c.expandObjectPaths=function(e){var t,n,r,i,o,a,s;if("object"===typeof e&&!Array.isArray(e))for(n in e)e.hasOwnProperty(n)&&((t=n.match(C))?(i=e[n],r=t[1],delete e[n],e[r]=c.extendDeepNoArrays(e[r]||{},c.objectFromPath(n,c.expandObjectPaths(i))[r])):(t=n.match(I))?(i=e[n],r=t[1],o=parseInt(t[2]),delete e[n],e[r]=e[r]||[],"."===t[3]?(s=t[4],a=e[r][o]=e[r][o]||{},c.extendDeepNoArrays(a,c.objectFromPath(s,c.expandObjectPaths(i)))):e[r][o]=c.expandObjectPaths(i)):e[n]=c.expandObjectPaths(e[n]));return e},c.numSeparate=function(e,t,n){if(n||(n=!1),"string"!==typeof t||0===t.length)throw new Error("Separator string required for formatting!");"number"===typeof e&&(e=String(e));var r=/(\d+)(\d{3})/,i=t.charAt(0),o=t.charAt(1),a=e.split("."),s=a[0],u=a.length>1?i+a[1]:"";if(o&&(a.length>1||s.length>4||n))for(;r.test(s);)s=s.replace(r,"$1"+o+"$2");return s+u},c.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var D=/^\w*$/;c.templateString=function(e,t){var n={};return e.replace(c.TEMPLATE_STRING_REGEX,(function(e,r){var i;return D.test(r)?i=t[r]:(n[r]=n[r]||c.nestedProperty(t,r).get,i=n[r]()),c.isValidTextValue(i)?i:""}))};var P={max:10,count:0,name:"hovertemplate"};c.hovertemplateString=function(){return j.apply(P,arguments)};var N={max:10,count:0,name:"texttemplate"};c.texttemplateString=function(){return j.apply(N,arguments)};var L=/^[:|\|]/;function j(e,t,n){var o=this,a=arguments;t||(t={});var s={};return e.replace(c.TEMPLATE_STRING_REGEX,(function(e,u,l){var f,h,d,p="_xother"===u||"_yother"===u,v="_xother_"===u||"_yother_"===u,y="xother_"===u||"yother_"===u,g="xother"===u||"yother"===u||p||y||v,m=u;if((p||v)&&(m=m.substring(1)),(y||v)&&(m=m.substring(0,m.length-1)),g){if(void 0===(f=t[m]))return""}else for(d=3;d<a.length;d++)if(h=a[d]){if(h.hasOwnProperty(m)){f=h[m];break}if(D.test(m)||(f=c.nestedProperty(h,m).get(),(f=s[m]||c.nestedProperty(h,m).get())&&(s[m]=f)),void 0!==f)break}if(void 0===f&&o)return o.count<o.max&&(c.warn("Variable '"+m+"' in "+o.name+" could not be found!"),f=e),o.count===o.max&&c.warn("Too many "+o.name+" warnings - additional warnings will be suppressed"),o.count++,e;if(l){var b;if(":"===l[0]&&(f=(b=n?n.numberFormat:r.format)(l.replace(L,""))(f)),"|"===l[0]){b=n?n.timeFormat:i;var _=c.dateTime2ms(f);f=c.formatDate(_,l.replace(L,""),!1,b)}}else{var w=m+"Label";t.hasOwnProperty(w)&&(f=t[w])}return g&&(f="("+f+")",(p||v)&&(f=" "+f),(y||v)&&(f+=" ")),f}))}var R=48,F=57;c.subplotSort=function(e,t){for(var n=Math.min(e.length,t.length)+1,r=0,i=0,o=0;o<n;o++){var a=e.charCodeAt(o)||0,s=t.charCodeAt(o)||0,u=a>=R&&a<=F,l=s>=R&&s<=F;if(u&&(r=10*r+a-R),l&&(i=10*i+s-R),!u||!l){if(r!==i)return r-i;if(a!==s)return a-s}}return i-r};var z=2e9;c.seedPseudoRandom=function(){z=2e9},c.pseudoRandom=function(){var e=z;return z=(69069*z+1)%4294967296,Math.abs(z-e)<429496729?c.pseudoRandom():z/4294967296},c.fillText=function(e,t,n){var r=Array.isArray(n)?function(e){n.push(e)}:function(e){n.text=e},i=c.extractOption(e,t,"htx","hovertext");if(c.isValidTextValue(i))return r(i);var o=c.extractOption(e,t,"tx","text");return c.isValidTextValue(o)?r(o):void 0},c.isValidTextValue=function(e){return e||0===e},c.formatPercent=function(e,t){t=t||0;for(var n=(Math.round(100*e*Math.pow(10,t))*Math.pow(.1,t)).toFixed(t)+"%",r=0;r<t;r++)-1!==n.indexOf(".")&&(n=(n=n.replace("0%","%")).replace(".%","%"));return n},c.isHidden=function(e){var t=window.getComputedStyle(e).display;return!t||"none"===t},c.strTranslate=function(e,t){return e||t?"translate("+e+","+t+")":""},c.strRotate=function(e){return e?"rotate("+e+")":""},c.strScale=function(e){return 1!==e?"scale("+e+")":""},c.getTextTransform=function(e){var t=e.noCenter,n=e.textX,r=e.textY,i=e.targetX,o=e.targetY,a=e.anchorX||0,s=e.anchorY||0,u=e.rotate,l=e.scale;return l?l>1&&(l=1):l=0,c.strTranslate(i-l*(n+a),o-l*(r+s))+c.strScale(l)+(u?"rotate("+u+(t?"":" "+n+" "+r)+")":"")},c.ensureUniformFontSize=function(e,t){var n=c.extendFlat({},t);return n.size=Math.max(t.size,e._fullLayout.uniformtext.minsize||0),n},c.join2=function(e,t,n){var r=e.length;return r>1?e.slice(0,-1).join(t)+n+e[r-1]:e.join(t)},c.bigFont=function(e){return Math.round(1.2*e)};var U=c.getFirefoxVersion(),q=null!==U&&U<86;c.getPositionFromD3Event=function(){return q?[r.event.layerX,r.event.layerY]:[r.event.offsetX,r.event.offsetY]}},{"../constants/numerical":210,"./anchor_utils":214,"./angles":215,"./array":216,"./clean_number":217,"./clear_responsive":219,"./coerce":220,"./dates":221,"./dom":222,"./extend":224,"./filter_unique":225,"./filter_visible":226,"./geometry2d":227,"./identity":228,"./increment":229,"./is_plain_object":231,"./keyed_container":232,"./localize":233,"./loggers":234,"./make_trace_groups":235,"./matrix":236,"./mod":237,"./nested_property":238,"./noop":239,"./notifier":240,"./preserve_drawing_buffer":243,"./push_unique":244,"./regex":246,"./relative_attr":247,"./relink_private":248,"./search":249,"./stats":251,"./throttle":253,"./to_log_range":254,"@plotly/d3":11,"d3-time-format":13,"fast-isnumeric":15}],231:[function(e,t,n){"use strict";t.exports=function(e){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(e):"[object Object]"===Object.prototype.toString.call(e)&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},{}],232:[function(e,t,n){"use strict";var r=e("./nested_property"),i=/^\w*$/,o=0,a=1,s=2,u=3,l=4;t.exports=function(e,t,n,c){var f,h,d;n=n||"name",c=c||"value";var p={};t&&t.length?(d=r(e,t),h=d.get()):h=e,t=t||"";var v={};if(h)for(f=0;f<h.length;f++)v[h[f][n]]=f;var y=i.test(c),g={set:function(e,t){var i=null===t?l:o;if(!h){if(!d||i===l)return;h=[],d.set(h)}var a=v[e];if(void 0===a){if(i===l)return;i|=u,a=h.length,v[e]=a}else t!==(y?h[a][c]:r(h[a],c).get())&&(i|=s);var f=h[a]=h[a]||{};return f[n]=e,y?f[c]=t:r(f,c).set(t),null!==t&&(i&=~l),p[a]=p[a]|i,g},get:function(e){if(h){var t=v[e];return void 0===t?void 0:y?h[t][c]:r(h[t],c).get()}},rename:function(e,t){var r=v[e];return void 0===r||(p[r]=p[r]|a,v[t]=r,delete v[e],h[r][n]=t),g},remove:function(e){var t=v[e];if(void 0===t)return g;var i=h[t];if(Object.keys(i).length>2)return p[t]=p[t]|s,g.set(e,null);if(y){for(f=t;f<h.length;f++)p[f]=p[f]|u;for(f=t;f<h.length;f++)v[h[f][n]]--;h.splice(t,1),delete v[e]}else r(i,c).set(null),p[t]=p[t]|s|l;return g},constructUpdate:function(){for(var e,i,o={},u=Object.keys(p),f=0;f<u.length;f++)i=u[f],e=t+"["+i+"]",h[i]?(p[i]&a&&(o[e+"."+n]=h[i][n]),p[i]&s&&(o[e+"."+c]=y?p[i]&l?null:h[i][c]:p[i]&l?null:r(h[i],c).get())):o[e]=null;return o}};return g}},{"./nested_property":238}],233:[function(e,t,n){"use strict";var r=e("../registry");t.exports=function(e,t){for(var n=e._context.locale,i=0;i<2;i++){for(var o=e._context.locales,a=0;a<2;a++){var s=(o[n]||{}).dictionary;if(s){var u=s[t];if(u)return u}o=r.localeRegistry}var l=n.split("-")[0];if(l===n)break;n=l}return t}},{"../registry":313}],234:[function(e,t,n){"use strict";var r=e("../plot_api/plot_config").dfltConfig,i=e("./notifier"),o=t.exports={};o.log=function(){var e;if(r.logging>1){var t=["LOG:"];for(e=0;e<arguments.length;e++)t.push(arguments[e]);console.trace.apply(console,t)}if(r.notifyOnLogging>1){var n=[];for(e=0;e<arguments.length;e++)n.push(arguments[e]);i(n.join("<br>"),"long")}},o.warn=function(){var e;if(r.logging>0){var t=["WARN:"];for(e=0;e<arguments.length;e++)t.push(arguments[e]);console.trace.apply(console,t)}if(r.notifyOnLogging>0){var n=[];for(e=0;e<arguments.length;e++)n.push(arguments[e]);i(n.join("<br>"),"stick")}},o.error=function(){var e;if(r.logging>0){var t=["ERROR:"];for(e=0;e<arguments.length;e++)t.push(arguments[e]);console.error.apply(console,t)}if(r.notifyOnLogging>0){var n=[];for(e=0;e<arguments.length;e++)n.push(arguments[e]);i(n.join("<br>"),"stick")}}},{"../plot_api/plot_config":263,"./notifier":240}],235:[function(e,t,n){"use strict";var r=e("@plotly/d3");t.exports=function(e,t,n){var i=e.selectAll("g."+n.replace(/\s/g,".")).data(t,(function(e){return e[0].trace.uid}));i.exit().remove(),i.enter().append("g").attr("class",n),i.order();var o=e.classed("rangeplot")?"nodeRangePlot3":"node3";return i.each((function(e){e[0][o]=r.select(this)})),i}},{"@plotly/d3":11}],236:[function(e,t,n){"use strict";var r=e("gl-mat4");n.init2dArray=function(e,t){for(var n=new Array(e),r=0;r<e;r++)n[r]=new Array(t);return n},n.transposeRagged=function(e){var t,n,r=0,i=e.length;for(t=0;t<i;t++)r=Math.max(r,e[t].length);var o=new Array(r);for(t=0;t<r;t++)for(o[t]=new Array(i),n=0;n<i;n++)o[t][n]=e[n][t];return o},n.dot=function(e,t){if(!e.length||!t.length||e.length!==t.length)return null;var r,i,o=e.length;if(e[0].length)for(r=new Array(o),i=0;i<o;i++)r[i]=n.dot(e[i],t);else if(t[0].length){var a=n.transposeRagged(t);for(r=new Array(a.length),i=0;i<a.length;i++)r[i]=n.dot(e,a[i])}else for(r=0,i=0;i<o;i++)r+=e[i]*t[i];return r},n.translationMatrix=function(e,t){return[[1,0,e],[0,1,t],[0,0,1]]},n.rotationMatrix=function(e){var t=e*Math.PI/180;return[[Math.cos(t),-Math.sin(t),0],[Math.sin(t),Math.cos(t),0],[0,0,1]]},n.rotationXYMatrix=function(e,t,r){return n.dot(n.dot(n.translationMatrix(t,r),n.rotationMatrix(e)),n.translationMatrix(-t,-r))},n.apply3DTransform=function(e){return function(){var t=arguments,r=1===arguments.length?t[0]:[t[0],t[1],t[2]||0];return n.dot(e,[r[0],r[1],r[2],1]).slice(0,3)}},n.apply2DTransform=function(e){return function(){var t=arguments;3===t.length&&(t=t[0]);var r=1===arguments.length?t[0]:[t[0],t[1]];return n.dot(e,[r[0],r[1],1]).slice(0,2)}},n.apply2DTransform2=function(e){var t=n.apply2DTransform(e);return function(e){return t(e.slice(0,2)).concat(t(e.slice(2,4)))}},n.convertCssMatrix=function(e){if(e){var t=e.length;if(16===t)return e;if(6===t)return[e[0],e[1],0,0,e[2],e[3],0,0,0,0,1,0,e[4],e[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},n.inverseTransformMatrix=function(e){var t=[];return r.invert(t,e),[[t[0],t[1],t[2],t[3]],[t[4],t[5],t[6],t[7]],[t[8],t[9],t[10],t[11]],[t[12],t[13],t[14],t[15]]]}},{"gl-mat4":31}],237:[function(e,t,n){"use strict";function r(e,t){var n=e%t;return n<0?n+t:n}function i(e,t){return Math.abs(e)>t/2?e-Math.round(e/t)*t:e}t.exports={mod:r,modHalf:i}},{}],238:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("./array").isArrayOrTypedArray;function o(e,t){return function(){var n,r,a,s,u,l=e;for(s=0;s<t.length-1;s++){if(-1===(n=t[s])){for(r=!0,a=[],u=0;u<l.length;u++)a[u]=o(l[u],t.slice(s+1))(),a[u]!==a[0]&&(r=!1);return r?a[0]:a}if("number"===typeof n&&!i(l))return;if("object"!==typeof(l=l[n])||null===l)return}if("object"===typeof l&&null!==l&&null!==(a=l[t[s]]))return a}}t.exports=function(e,t){if(r(t))t=String(t);else if("string"!==typeof t||"[-1]"===t.substr(t.length-4))throw"bad property string";for(var n,i,a,s=0,l=t.split(".");s<l.length;){if(n=String(l[s]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(n[1])l[s]=n[1];else{if(0!==s)throw"bad property string";l.splice(0,1)}for(i=n[2].substr(1,n[2].length-2).split("]["),a=0;a<i.length;a++)s++,l.splice(s,0,Number(i[a]))}s++}return"object"!==typeof e?h(e,t,l):{set:u(e,l,t),get:o(e,l),astr:t,parts:l,obj:e}};var a=/(^|\.)args\[/;function s(e,t){return void 0===e||null===e&&!t.match(a)}function u(e,t,n){return function(r){var o,a,u=e,h="",d=[[e,h]],p=s(r,n);for(a=0;a<t.length-1;a++){if("number"===typeof(o=t[a])&&!i(u))throw"array index but container is not an array";if(-1===o){if(p=!c(u,t.slice(a+1),r,n))break;return}if(!f(u,o,t[a+1],p))break;if("object"!==typeof(u=u[o])||null===u)throw"container is not an object";h=l(h,o),d.push([u,h])}if(p){if(a===t.length-1&&(delete u[t[a]],Array.isArray(u)&&+t[a]===u.length-1))for(;u.length&&void 0===u[u.length-1];)u.pop()}else u[t[a]]=r}}function l(e,t){var n=t;return r(t)?n="["+t+"]":e&&(n="."+t),e+n}function c(e,t,n,r){var o,a=i(n),l=!0,c=n,h=r.replace("-1",0),d=!a&&s(n,h),p=t[0];for(o=0;o<e.length;o++)h=r.replace("-1",o),a&&(d=s(c=n[o%n.length],h)),d&&(l=!1),f(e,o,p,d)&&u(e[o],t,r.replace("-1",o))(c);return l}function f(e,t,n,r){if(void 0===e[t]){if(r)return!1;e[t]="number"===typeof n?[]:{}}return!0}function h(e,t,n){return{set:function(){throw"bad container"},get:function(){},astr:t,parts:n,obj:e}}},{"./array":216,"fast-isnumeric":15}],239:[function(e,t,n){"use strict";t.exports=function(){}},{}],240:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("fast-isnumeric"),o=[];t.exports=function(e,t){if(-1===o.indexOf(e)){o.push(e);var n=1e3;i(t)?n=t:"long"===t&&(n=3e3);var a=r.select("body").selectAll(".plotly-notifier").data([0]);a.enter().append("div").classed("plotly-notifier",!0),a.selectAll(".notifier-note").data(o).enter().append("div").classed("notifier-note",!0).style("opacity",0).each((function(e){var i=r.select(this);i.append("button").classed("notifier-close",!0).html("&times;").on("click",(function(){i.transition().call(s)}));for(var o=i.append("p"),a=e.split(/<br\s*\/?>/g),u=0;u<a.length;u++)u&&o.append("br"),o.append("span").text(a[u]);"stick"===t?i.transition().duration(350).style("opacity",1):i.transition().duration(700).style("opacity",1).transition().delay(n).call(s)}))}function s(e){e.duration(700).style("opacity",0).each("end",(function(e){var t=o.indexOf(e);-1!==t&&o.splice(t,1),r.select(this).remove()}))}}},{"@plotly/d3":11,"fast-isnumeric":15}],241:[function(e,t,n){"use strict";var r=e("./setcursor"),i="data-savedcursor",o="!!";t.exports=function(e,t){var n=e.attr(i);if(t){if(!n){for(var a=(e.attr("class")||"").split(" "),s=0;s<a.length;s++){var u=a[s];0===u.indexOf("cursor-")&&e.attr(i,u.substr(7)).classed(u,!1)}e.attr(i)||e.attr(i,o)}r(e,t)}else n&&(e.attr(i,null),n===o?r(e):r(e,n))}},{"./setcursor":250}],242:[function(e,t,n){"use strict";var r=e("./matrix").dot,i=e("../constants/numerical").BADNUM,o=t.exports={};o.tester=function(e){var t,n=e.slice(),r=n[0][0],o=r,a=n[0][1],s=a;for(n.push(n[0]),t=1;t<n.length;t++)r=Math.min(r,n[t][0]),o=Math.max(o,n[t][0]),a=Math.min(a,n[t][1]),s=Math.max(s,n[t][1]);var u,l=!1;function c(e,t){var n=e[0],l=e[1];return!(n===i||n<r||n>o||l===i||l<a||l>s)&&(!t||!u(e))}function f(e,t){var u=e[0],l=e[1];if(u===i||u<r||u>o||l===i||l<a||l>s)return!1;var c,f,h,d,p,v=n.length,y=n[0][0],g=n[0][1],m=0;for(c=1;c<v;c++)if(f=y,h=g,y=n[c][0],g=n[c][1],!(u<(d=Math.min(f,y))||u>Math.max(f,y)||l>Math.max(h,g)))if(l<Math.min(h,g))u!==d&&m++;else{if(l===(p=y===f?l:h+(u-f)*(g-h)/(y-f)))return 1!==c||!t;l<=p&&u!==d&&m++}return m%2===1}5===n.length&&(n[0][0]===n[1][0]?n[2][0]===n[3][0]&&n[0][1]===n[3][1]&&n[1][1]===n[2][1]&&(l=!0,u=function(e){return e[0]===n[0][0]}):n[0][1]===n[1][1]&&n[2][1]===n[3][1]&&n[0][0]===n[3][0]&&n[1][0]===n[2][0]&&(l=!0,u=function(e){return e[1]===n[0][1]}));var h=!0,d=n[0];for(t=1;t<n.length;t++)if(d[0]!==n[t][0]||d[1]!==n[t][1]){h=!1;break}return{xmin:r,xmax:o,ymin:a,ymax:s,pts:n,contains:l?c:f,isRect:l,degenerate:h}},o.isSegmentBent=function(e,t,n,i){var o,a,s,u=e[t],l=[e[n][0]-u[0],e[n][1]-u[1]],c=r(l,l),f=Math.sqrt(c),h=[-l[1]/f,l[0]/f];for(o=t+1;o<n;o++)if(a=[e[o][0]-u[0],e[o][1]-u[1]],(s=r(a,l))<0||s>c||Math.abs(r(a,h))>i)return!0;return!1},o.filter=function(e,t){var n=[e[0]],r=0,i=0;function a(a){e.push(a);var s=n.length,u=r;n.splice(i+1);for(var l=u+1;l<e.length;l++)(l===e.length-1||o.isSegmentBent(e,u,l+1,t))&&(n.push(e[l]),n.length<s-2&&(r=l,i=n.length-1),u=l)}return e.length>1&&a(e.pop()),{addPt:a,raw:e,filtered:n}}},{"../constants/numerical":210,"./matrix":236}],243:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("is-mobile");function o(){var e;return"undefined"!==typeof navigator&&(e=navigator.userAgent),e&&e.headers&&"string"===typeof e.headers["user-agent"]&&(e=e.headers["user-agent"]),e}t.exports=function(e){var t;if("string"!==typeof(t=e&&e.hasOwnProperty("userAgent")?e.userAgent:o()))return!0;var n=i({ua:{headers:{"user-agent":t}},tablet:!0,featureDetect:!1});if(!n)for(var a=t.split(" "),s=1;s<a.length;s++)if(-1!==a[s].indexOf("Safari"))for(var u=s-1;u>-1;u--){var l=a[u];if("Version/"===l.substr(0,8)){var c=l.substr(8).split(".")[0];if(r(c)&&(c=+c),c>=13)return!0}}return n}},{"fast-isnumeric":15,"is-mobile":49}],244:[function(e,t,n){"use strict";t.exports=function(e,t){if(t instanceof RegExp){for(var n=t.toString(),r=0;r<e.length;r++)if(e[r]instanceof RegExp&&e[r].toString()===n)return e;e.push(t)}else!t&&0!==t||-1!==e.indexOf(t)||e.push(t);return e}},{}],245:[function(e,t,n){"use strict";var r=e("../lib"),i=e("../plot_api/plot_config").dfltConfig;function o(e,t){for(var n,i=[],o=0;o<t.length;o++)n=t[o],i[o]=n===e?n:"object"===typeof n?Array.isArray(n)?r.extendDeep([],n):r.extendDeepAll({},n):n;return i}var a={add:function(e,t,n,r,o){var a,s;e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},s=e.undoQueue.index,e.autoplay?e.undoQueue.inSequence||(e.autoplay=!1):(!e.undoQueue.sequence||e.undoQueue.beginSequence?(a={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},e.undoQueue.queue.splice(s,e.undoQueue.queue.length-s,a),e.undoQueue.index+=1):a=e.undoQueue.queue[s-1],e.undoQueue.beginSequence=!1,a&&(a.undo.calls.unshift(t),a.undo.args.unshift(n),a.redo.calls.push(r),a.redo.args.push(o)),e.undoQueue.queue.length>i.queueLength&&(e.undoQueue.queue.shift(),e.undoQueue.index--))},startSequence:function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!0,e.undoQueue.beginSequence=!0},stopSequence:function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!1,e.undoQueue.beginSequence=!1},undo:function(e){var t,n;if(!(void 0===e.undoQueue||isNaN(e.undoQueue.index)||e.undoQueue.index<=0)){for(e.undoQueue.index--,t=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,n=0;n<t.undo.calls.length;n++)a.plotDo(e,t.undo.calls[n],t.undo.args[n]);e.undoQueue.inSequence=!1,e.autoplay=!1}},redo:function(e){var t,n;if(!(void 0===e.undoQueue||isNaN(e.undoQueue.index)||e.undoQueue.index>=e.undoQueue.queue.length)){for(t=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,n=0;n<t.redo.calls.length;n++)a.plotDo(e,t.redo.calls[n],t.redo.args[n]);e.undoQueue.inSequence=!1,e.autoplay=!1,e.undoQueue.index++}},plotDo:function(e,t,n){e.autoplay=!0,n=o(e,n),t.apply(null,n)}};t.exports=a},{"../lib":230,"../plot_api/plot_config":263}],246:[function(e,t,n){"use strict";n.counter=function(e,t,n,r){var i=(t||"")+(n?"":"$"),o=!1===r?"":"^";return"xy"===e?new RegExp(o+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+i):new RegExp(o+e+"([2-9]|[1-9][0-9]+)?"+i)}},{}],247:[function(e,t,n){"use strict";var r=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,i=/^[^\.\[\]]+$/;t.exports=function(e,t){for(;t;){var n=e.match(r);if(n)e=n[1];else{if(!e.match(i))throw new Error("bad relativeAttr call:"+[e,t]);e=""}if("^"!==t.charAt(0))break;t=t.slice(1)}return e&&"["!==t.charAt(0)?e+"."+t:e+t}},{}],248:[function(e,t,n){"use strict";var r=e("./array").isArrayOrTypedArray,i=e("./is_plain_object");t.exports=function e(t,n){for(var o in n){var a=n[o],s=t[o];if(s!==a)if("_"===o.charAt(0)||"function"===typeof a){if(o in t)continue;t[o]=a}else if(r(a)&&r(s)&&i(a[0])){if("customdata"===o||"ids"===o)continue;for(var u=Math.min(a.length,s.length),l=0;l<u;l++)s[l]!==a[l]&&i(a[l])&&i(s[l])&&e(s[l],a[l])}else i(a)&&i(s)&&(e(s,a),Object.keys(s).length||delete t[o])}}},{"./array":216,"./is_plain_object":231}],249:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("./loggers"),o=e("./identity"),a=e("../constants/numerical").BADNUM,s=1e-9;function u(e,t){return e<t}function l(e,t){return e<=t}function c(e,t){return e>t}function f(e,t){return e>=t}n.findBin=function(e,t,n){if(r(t.start))return n?Math.ceil((e-t.start)/t.size-s)-1:Math.floor((e-t.start)/t.size+s);var o,a,h=0,d=t.length,p=0,v=d>1?(t[d-1]-t[0])/(d-1):1;for(a=v>=0?n?u:l:n?f:c,e+=v*s*(n?-1:1)*(v>=0?1:-1);h<d&&p++<100;)a(t[o=Math.floor((h+d)/2)],e)?h=o+1:d=o;return p>90&&i.log("Long binary search..."),h-1},n.sorterAsc=function(e,t){return e-t},n.sorterDes=function(e,t){return t-e},n.distinctVals=function(e){var t,r=e.slice();for(r.sort(n.sorterAsc),t=r.length-1;t>-1&&r[t]===a;t--);for(var i,o=r[t]-r[0]||1,s=o/(t||1)/1e4,u=[],l=0;l<=t;l++){var c=r[l],f=c-i;void 0===i?(u.push(c),i=c):f>s&&(o=Math.min(o,f),u.push(c),i=c)}return{vals:u,minDiff:o}},n.roundUp=function(e,t,n){for(var r,i=0,o=t.length-1,a=0,s=n?0:1,u=n?1:0,l=n?Math.ceil:Math.floor;i<o&&a++<100;)t[r=l((i+o)/2)]<=e?i=r+s:o=r-u;return t[i]},n.sort=function(e,t){for(var n=0,r=0,i=1;i<e.length;i++){var o=t(e[i],e[i-1]);if(o<0?n=1:o>0&&(r=1),n&&r)return e.sort(t)}return r?e:e.reverse()},n.findIndexOfMin=function(e,t){t=t||o;for(var n,r=1/0,i=0;i<e.length;i++){var a=t(e[i]);a<r&&(r=a,n=i)}return n}},{"../constants/numerical":210,"./identity":228,"./loggers":234,"fast-isnumeric":15}],250:[function(e,t,n){"use strict";t.exports=function(e,t){(e.attr("class")||"").split(" ").forEach((function(t){0===t.indexOf("cursor-")&&e.classed(t,!1)})),t&&e.classed("cursor-"+t,!0)}},{}],251:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("./array").isArrayOrTypedArray;n.aggNums=function(e,t,o,a){var s,u;if((!a||a>o.length)&&(a=o.length),r(t)||(t=!1),i(o[0])){for(u=new Array(a),s=0;s<a;s++)u[s]=n.aggNums(e,t,o[s]);o=u}for(s=0;s<a;s++)r(t)?r(o[s])&&(t=e(+t,+o[s])):t=o[s];return t},n.len=function(e){return n.aggNums((function(e){return e+1}),0,e)},n.mean=function(e,t){return t||(t=n.len(e)),n.aggNums((function(e,t){return e+t}),0,e)/t},n.midRange=function(e){if(void 0!==e&&0!==e.length)return(n.aggNums(Math.max,null,e)+n.aggNums(Math.min,null,e))/2},n.variance=function(e,t,i){return t||(t=n.len(e)),r(i)||(i=n.mean(e,t)),n.aggNums((function(e,t){return e+Math.pow(t-i,2)}),0,e)/t},n.stdev=function(e,t,r){return Math.sqrt(n.variance(e,t,r))},n.median=function(e){var t=e.slice().sort();return n.interp(t,.5)},n.interp=function(e,t){if(!r(t))throw"n should be a finite number";if((t=t*e.length-.5)<0)return e[0];if(t>e.length-1)return e[e.length-1];var n=t%1;return n*e[Math.ceil(t)]+(1-n)*e[Math.floor(t)]}},{"./array":216,"fast-isnumeric":15}],252:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../lib"),o=i.strTranslate,a=e("../constants/xmlns_namespaces"),s=e("../constants/alignment").LINE_SPACING;function u(e,t){return e.node().getBoundingClientRect()[t]}var l=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;n.convertToTspans=function(e,t,i){var a=e.text(),s=!e.attr("data-notex")&&"undefined"!==typeof MathJax&&a.match(l),c=r.select(e.node().parentNode);if(!c.empty()){var f=e.attr("class")?e.attr("class").split(" ")[0]:"text";return f+="-math",c.selectAll("svg."+f).remove(),c.selectAll("g."+f+"-group").remove(),e.style("display",null).attr({"data-unformatted":a,"data-math":"N"}),s?(t&&t._promises||[]).push(new Promise((function(t){e.style("display","none");var n=parseInt(e.node().style.fontSize,10),r={fontSize:n};d(s[2],r,(function(r,s,l){c.selectAll("svg."+f).remove(),c.selectAll("g."+f+"-group").remove();var d=r&&r.select("svg");if(!d||!d.node())return h(),void t();var p=c.append("g").classed(f+"-group",!0).attr({"pointer-events":"none","data-unformatted":a,"data-math":"Y"});p.node().appendChild(d.node()),s&&s.node()&&d.node().insertBefore(s.node().cloneNode(!0),d.node().firstChild),d.attr({class:f,height:l.height,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var v=e.node().style.fill||"black",y=d.select("g");y.attr({fill:v,stroke:v});var g=u(y,"width"),m=u(y,"height"),b=+e.attr("x")-g*{start:0,middle:.5,end:1}[e.attr("text-anchor")||"start"],_=-(n||u(e,"height"))/4;"y"===f[0]?(p.attr({transform:"rotate("+[-90,+e.attr("x"),+e.attr("y")]+")"+o(-g/2,_-m/2)}),d.attr({x:+e.attr("x"),y:+e.attr("y")})):"l"===f[0]?d.attr({x:e.attr("x"),y:_-m/2}):"a"===f[0]&&0!==f.indexOf("atitle")?d.attr({x:0,y:_}):d.attr({x:b,y:+e.attr("y")+_-m/2}),i&&i.call(e,p),t(p)}))}))):h(),e}function h(){c.empty()||(f=e.attr("class")+"-math",c.select("svg."+f).remove()),e.text("").style("white-space","pre"),P(e.node(),a)&&e.style("pointer-events","all"),n.positionText(e),i&&i.call(e)}};var c=/(<|&lt;|&#60;)/g,f=/(>|&gt;|&#62;)/g;function h(e){return e.replace(c,"\\lt ").replace(f,"\\gt ")}function d(e,t,n){var o,a,s,u;MathJax.Hub.Queue((function(){return a=i.extendDeepAll({},MathJax.Hub.config),s=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]},displayAlign:"left"})}),(function(){if("SVG"!==(o=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")}),(function(){var n="math-output-"+i.randstr({},64);return u=r.select("body").append("div").attr({id:n}).style({visibility:"hidden",position:"absolute"}).style({"font-size":t.fontSize+"px"}).text(h(e)),MathJax.Hub.Typeset(u.node())}),(function(){var t=r.select("body").select("#MathJax_SVG_glyphs");if(u.select(".MathJax_SVG").empty()||!u.select("svg").node())i.log("There was an error in the tex syntax.",e),n();else{var a=u.select("svg").node().getBoundingClientRect();n(u.select(".MathJax_SVG"),t,a)}if(u.remove(),"SVG"!==o)return MathJax.Hub.setRenderer(o)}),(function(){return void 0!==s&&(MathJax.Hub.processSectionDelay=s),MathJax.Hub.Config(a)}))}var p={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},v={sub:"0.3em",sup:"-0.6em"},y={sub:"-0.21em",sup:"0.42em"},g="\u200b",m=["http:","https:","mailto:","",void 0,":"],b=n.NEWLINES=/(\r\n?|\n)/g,_=/(<[^<>]*>)/,w=/<(\/?)([^ >]*)(\s+(.*))?>/i,x=/<br(\s+.*)?>/i;n.BR_TAG_ALL=/<br(\s+.*)?>/gi;var T=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,k=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,O=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,S=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function A(e,t){if(!e)return null;var n=e.match(t),r=n&&(n[3]||n[4]);return r&&I(r)}var E=/(^|;)\s*color:/;n.plainText=function(e,t){for(var n=void 0!==(t=t||{}).len&&-1!==t.len?t.len:1/0,r=void 0!==t.allowedTags?t.allowedTags:["br"],i="...",o=i.length,a=e.split(_),s=[],u="",l=0,c=0;c<a.length;c++){var f=a[c],h=f.match(w),d=h&&h[2].toLowerCase();if(d)-1!==r.indexOf(d)&&(s.push(f),u=d);else{var p=f.length;if(l+p<n)s.push(f),l+=p;else if(l<n){var v=n-l;u&&("br"!==u||v<=o||p<=o)&&s.pop(),n>o?s.push(f.substr(0,v-o)+i):s.push(f.substr(0,v));break}u=""}}return s.join("")};var M={mu:"\u03bc",amp:"&",lt:"<",gt:">",nbsp:"\xa0",times:"\xd7",plusmn:"\xb1",deg:"\xb0"},C=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function I(e){return e.replace(C,(function(e,t){return("#"===t.charAt(0)?D("x"===t.charAt(1)?parseInt(t.substr(2),16):parseInt(t.substr(1),10)):M[t])||e}))}function D(e){if(!(e>1114111)){var t=String.fromCodePoint;if(t)return t(e);var n=String.fromCharCode;return e<=65535?n(e):n(55232+(e>>10),e%1024+56320)}}function P(e,t){t=t.replace(b," ");var n,o=!1,u=[],l=-1;function c(){l++;var t=document.createElementNS(a.svg,"tspan");r.select(t).attr({class:"line",dy:l*s+"em"}),e.appendChild(t),n=t;var i=u;if(u=[{node:t}],i.length>1)for(var o=1;o<i.length;o++)f(i[o])}function f(e){var t,i=e.type,o={};if("a"===i){t="a";var s=e.target,l=e.href,c=e.popup;l&&(o={"xlink:xlink:show":"_blank"===s||"_"!==s.charAt(0)?"new":"replace",target:s,"xlink:xlink:href":l},c&&(o.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+c+'");return false;'))}else t="tspan";e.style&&(o.style=e.style);var f=document.createElementNS(a.svg,t);if("sup"===i||"sub"===i){h(n,g),n.appendChild(f);var d=document.createElementNS(a.svg,"tspan");h(d,g),r.select(d).attr("dy",y[i]),o.dy=v[i],n.appendChild(f),n.appendChild(d)}else n.appendChild(f);r.select(f).attr(o),n=e.node=f,u.push(e)}function h(e,t){e.appendChild(document.createTextNode(t))}function d(e){if(1!==u.length){var r=u.pop();e!==r.type&&i.log("Start tag <"+r.type+"> doesnt match end tag <"+e+">. Pretending it did match.",t),n=u[u.length-1].node}else i.log("Ignoring unexpected end tag </"+e+">.",t)}x.test(t)?c():(n=e,u=[{node:e}]);for(var M=t.split(_),C=0;C<M.length;C++){var D=M[C],P=D.match(w),N=P&&P[2].toLowerCase(),L=p[N];if("br"===N)c();else if(void 0===L)h(n,I(D));else if(P[1])d(N);else{var j=P[4],R={type:N},F=A(j,T);if(F?(F=F.replace(E,"$1 fill:"),L&&(F+=";"+L)):L&&(F=L),F&&(R.style=F),"a"===N){o=!0;var z=A(j,k);if(z){var U=document.createElement("a");U.href=z,-1!==m.indexOf(U.protocol)&&(R.href=encodeURI(decodeURI(z)),R.target=A(j,O)||"_blank",R.popup=A(j,S))}}f(R)}}return o}function N(e,t,n){var r,o,a,s=n.horizontalAlign,u=n.verticalAlign||"top",l=e.node().getBoundingClientRect(),c=t.node().getBoundingClientRect();return o="bottom"===u?function(){return l.bottom-r.height}:"middle"===u?function(){return l.top+(l.height-r.height)/2}:function(){return l.top},a="right"===s?function(){return l.right-r.width}:"center"===s?function(){return l.left+(l.width-r.width)/2}:function(){return l.left},function(){r=this.node().getBoundingClientRect();var e=a()-c.left,t=o()-c.top,s=n.gd||{};if(n.gd){s._fullLayout._calcInverseTransform(s);var u=i.apply3DTransform(s._fullLayout._invTransform)(e,t);e=u[0],t=u[1]}return this.style({top:t+"px",left:e+"px","z-index":1e3}),this}}n.convertEntities=I,n.sanitizeHTML=function(e){e=e.replace(b," ");for(var t=document.createElement("p"),n=t,i=[],o=e.split(_),a=0;a<o.length;a++){var s=o[a],u=s.match(w),l=u&&u[2].toLowerCase();if(l in p)if(u[1])i.length&&(n=i.pop());else{var c=u[4],f=A(c,T),h=f?{style:f}:{};if("a"===l){var d=A(c,k);if(d){var v=document.createElement("a");if(v.href=d,-1!==m.indexOf(v.protocol)){h.href=encodeURI(decodeURI(d));var y=A(c,O);y&&(h.target=y)}}}var g=document.createElement(l);n.appendChild(g),r.select(g).attr(h),n=g,i.push(g)}else n.appendChild(document.createTextNode(I(s)))}return t.innerHTML},n.lineCount=function(e){return e.selectAll("tspan.line").size()||1},n.positionText=function(e,t,n){return e.each((function(){var e=r.select(this);function i(t,n){return void 0===n?null===(n=e.attr(t))&&(e.attr(t,0),n=0):e.attr(t,n),n}var o=i("x",t),a=i("y",n);"text"===this.nodeName&&e.selectAll("tspan.line").attr({x:o,y:a})}))};var L="1px ";n.makeTextShadow=function(e){return L+L+L+e+", -"+L+"-"+L+L+e+", "+L+"-"+L+L+e+", -"+L+L+L+e},n.makeEditable=function(e,t){var n=t.gd,i=t.delegate,o=r.dispatch("edit","input","cancel"),a=i||e;if(e.style({"pointer-events":i?"none":"all"}),1!==e.size())throw new Error("boo");function s(){l(),e.style({opacity:0});var t,n=a.attr("class");(t=n?"."+n.split(" ")[0]+"-math-group":"[class*=-math-group]")&&r.select(e.node().parentNode).select(t).style({opacity:0})}function u(e){var t=e.node(),n=document.createRange();n.selectNodeContents(t);var r=window.getSelection();r.removeAllRanges(),r.addRange(n),t.focus()}function l(){var i=r.select(n).select(".svg-container"),a=i.append("div"),s=e.node().style,l=parseFloat(s.fontSize||12),c=t.text;void 0===c&&(c=e.attr("data-unformatted")),a.classed("plugin-editable editable",!0).style({position:"absolute","font-family":s.fontFamily||"Arial","font-size":l,color:t.fill||s.fill||"black",opacity:1,"background-color":t.background||"transparent",outline:"#ffffff33 1px solid",margin:[-l/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(c).call(N(e,i,t)).on("blur",(function(){n._editing=!1,e.text(this.textContent).style({opacity:1});var t,i=r.select(this).attr("class");(t=i?"."+i.split(" ")[0]+"-math-group":"[class*=-math-group]")&&r.select(e.node().parentNode).select(t).style({opacity:0});var a=this.textContent;r.select(this).transition().duration(0).remove(),r.select(document).on("mouseup",null),o.edit.call(e,a)})).on("focus",(function(){var e=this;n._editing=!0,r.select(document).on("mouseup",(function(){if(r.event.target===e)return!1;document.activeElement===a.node()&&a.node().blur()}))})).on("keyup",(function(){27===r.event.which?(n._editing=!1,e.style({opacity:1}),r.select(this).style({opacity:0}).on("blur",(function(){return!1})).transition().remove(),o.cancel.call(e,this.textContent)):(o.input.call(e,this.textContent),r.select(this).call(N(e,i,t)))})).on("keydown",(function(){13===r.event.which&&this.blur()})).call(u)}return t.immediate?s():a.on("click",s),r.rebind(e,o,"on")}},{"../constants/alignment":205,"../constants/xmlns_namespaces":211,"../lib":230,"@plotly/d3":11}],253:[function(e,t,n){"use strict";var r={};function i(e){e&&null!==e.timer&&(clearTimeout(e.timer),e.timer=null)}n.throttle=function(e,t,n){var o=r[e],a=Date.now();if(!o){for(var s in r)r[s].ts<a-6e4&&delete r[s];o=r[e]={ts:0,timer:null}}function u(){n(),o.ts=Date.now(),o.onDone&&(o.onDone(),o.onDone=null)}i(o),a>o.ts+t?u():o.timer=setTimeout((function(){u(),o.timer=null}),t)},n.done=function(e){var t=r[e];return t&&t.timer?new Promise((function(e){var n=t.onDone;t.onDone=function(){n&&n(),e(),t.onDone=null}})):Promise.resolve()},n.clear=function(e){if(e)i(r[e]),delete r[e];else for(var t in r)n.clear(t)}},{}],254:[function(e,t,n){"use strict";var r=e("fast-isnumeric");t.exports=function(e,t){if(e>0)return Math.log(e)/Math.LN10;var n=Math.log(Math.min(t[0],t[1]))/Math.LN10;return r(n)||(n=Math.log(Math.max(t[0],t[1]))/Math.LN10-6),n}},{"fast-isnumeric":15}],255:[function(e,t,n){"use strict";t.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},{}],256:[function(e,t,n){"use strict";t.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},{}],257:[function(e,t,n){"use strict";var r=e("../registry");t.exports=function(e){for(var t,n,i=r.layoutArrayContainers,o=r.layoutArrayRegexes,a=e.split("[")[0],s=0;s<o.length;s++)if((n=e.match(o[s]))&&0===n.index){t=n[0];break}if(t||(t=i[i.indexOf(a)]),!t)return!1;var u=e.substr(t.length);return u?!!(n=u.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:t,index:Number(n[1]),property:n[3]||""}:{array:t,index:"",property:""}}},{"../registry":313}],258:[function(e,t,n){"use strict";var r=e("../lib"),i=r.extendFlat,o=r.isPlainObject,a={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},s={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},u=a.flags.slice().concat(["fullReplot"]),l=s.flags.slice().concat("layoutReplot");function c(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!1;return t}function f(e,t,n){var r=i({},e);for(var a in r){var s=r[a];o(s)&&(r[a]=h(s,t,n,a))}return"from-root"===n&&(r.editType=t),r}function h(e,t,n,r){if(e.valType){var o=i({},e);if(o.editType=t,Array.isArray(e.items)){o.items=new Array(e.items.length);for(var a=0;a<e.items.length;a++)o.items[a]=h(e.items[a],t,"from-root")}return o}return f(e,t,"_"===r.charAt(0)?"nested":"from-root")}t.exports={traces:a,layout:s,traceFlags:function(){return c(u)},layoutFlags:function(){return c(l)},update:function(e,t){var n=t.editType;if(n&&"none"!==n)for(var r=n.split("+"),i=0;i<r.length;i++)e[r[i]]=!0},overrideAll:f}},{"../lib":230}],259:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("gl-mat4/fromQuat"),o=e("../registry"),a=e("../lib"),s=e("../plots/plots"),u=e("../plots/cartesian/axis_ids"),l=e("../components/color"),c=u.cleanId,f=u.getFromTrace,h=o.traceIs;function d(e,t){var n=e[t],r=t.charAt(0);n&&"paper"!==n&&(e[t]=c(n,r,!0))}function p(e){function t(t,n){var r=e[t],i=e.title&&e.title[n];r&&!i&&(e.title||(e.title={}),e.title[n]=e[t],delete e[t])}e&&("string"!==typeof e.title&&"number"!==typeof e.title||(e.title={text:e.title}),t("titlefont","font"),t("titleposition","position"),t("titleside","side"),t("titleoffset","offset"))}function v(e){if(!a.isPlainObject(e))return!1;var t=e.name;return delete e.name,delete e.showlegend,("string"===typeof t||"number"===typeof t)&&String(t)}function y(e,t,n,r){if(n&&!r)return e;if(r&&!n)return t;if(!e.trim())return t;if(!t.trim())return e;var i,o=Math.min(e.length,t.length);for(i=0;i<o&&e.charAt(i)===t.charAt(i);i++);return e.substr(0,i).trim()}function g(e){var t="middle",n="center";return"string"===typeof e&&(-1!==e.indexOf("top")?t="top":-1!==e.indexOf("bottom")&&(t="bottom"),-1!==e.indexOf("left")?n="left":-1!==e.indexOf("right")&&(n="right")),t+" "+n}function m(e,t){return t in e&&"object"===typeof e[t]&&0===Object.keys(e[t]).length}n.clearPromiseQueue=function(e){Array.isArray(e._promises)&&e._promises.length>0&&a.log("Clearing previous rejected promises from queue."),e._promises=[]},n.cleanLayout=function(e){var t,r;e||(e={}),e.xaxis1&&(e.xaxis||(e.xaxis=e.xaxis1),delete e.xaxis1),e.yaxis1&&(e.yaxis||(e.yaxis=e.yaxis1),delete e.yaxis1),e.scene1&&(e.scene||(e.scene=e.scene1),delete e.scene1);var o=(s.subplotsRegistry.cartesian||{}).attrRegex,u=(s.subplotsRegistry.polar||{}).attrRegex,f=(s.subplotsRegistry.ternary||{}).attrRegex,h=(s.subplotsRegistry.gl3d||{}).attrRegex,v=Object.keys(e);for(t=0;t<v.length;t++){var y=v[t];if(o&&o.test(y)){var g=e[y];g.anchor&&"free"!==g.anchor&&(g.anchor=c(g.anchor)),g.overlaying&&(g.overlaying=c(g.overlaying)),g.type||(g.isdate?g.type="date":g.islog?g.type="log":!1===g.isdate&&!1===g.islog&&(g.type="linear")),"withzero"!==g.autorange&&"tozero"!==g.autorange||(g.autorange=!0,g.rangemode="tozero"),delete g.islog,delete g.isdate,delete g.categories,m(g,"domain")&&delete g.domain,void 0!==g.autotick&&(void 0===g.tickmode&&(g.tickmode=g.autotick?"auto":"linear"),delete g.autotick),p(g)}else if(u&&u.test(y))p(e[y].radialaxis);else if(f&&f.test(y)){var b=e[y];p(b.aaxis),p(b.baxis),p(b.caxis)}else if(h&&h.test(y)){var _=e[y],w=_.cameraposition;if(Array.isArray(w)&&4===w[0].length){var x=w[0],T=w[1],k=w[2],O=i([],x),S=[];for(r=0;r<3;++r)S[r]=T[r]+k*O[2+4*r];_.camera={eye:{x:S[0],y:S[1],z:S[2]},center:{x:T[0],y:T[1],z:T[2]},up:{x:0,y:0,z:1}},delete _.cameraposition}p(_.xaxis),p(_.yaxis),p(_.zaxis)}}var A=Array.isArray(e.annotations)?e.annotations.length:0;for(t=0;t<A;t++){var E=e.annotations[t];a.isPlainObject(E)&&(E.ref&&("paper"===E.ref?(E.xref="paper",E.yref="paper"):"data"===E.ref&&(E.xref="x",E.yref="y"),delete E.ref),d(E,"xref"),d(E,"yref"))}var M=Array.isArray(e.shapes)?e.shapes.length:0;for(t=0;t<M;t++){var C=e.shapes[t];a.isPlainObject(C)&&(d(C,"xref"),d(C,"yref"))}var I=Array.isArray(e.images)?e.images.length:0;for(t=0;t<I;t++){var D=e.images[t];a.isPlainObject(D)&&(d(D,"xref"),d(D,"yref"))}var P=e.legend;return P&&(P.x>3?(P.x=1.02,P.xanchor="left"):P.x<-2&&(P.x=-.02,P.xanchor="right"),P.y>3?(P.y=1.02,P.yanchor="bottom"):P.y<-2&&(P.y=-.02,P.yanchor="top")),p(e),"rotate"===e.dragmode&&(e.dragmode="orbit"),l.clean(e),e.template&&e.template.layout&&n.cleanLayout(e.template.layout),e},n.cleanData=function(e){for(var t=0;t<e.length;t++){var r,i=e[t];if("histogramy"===i.type&&"xbins"in i&&!("ybins"in i)&&(i.ybins=i.xbins,delete i.xbins),i.error_y&&"opacity"in i.error_y){var u=l.defaults,f=i.error_y.color||(h(i,"bar")?l.defaultLine:u[t%u.length]);i.error_y.color=l.addOpacity(l.rgb(f),l.opacity(f)*i.error_y.opacity),delete i.error_y.opacity}if("bardir"in i&&("h"!==i.bardir||!h(i,"bar")&&"histogram"!==i.type.substr(0,9)||(i.orientation="h",n.swapXYData(i)),delete i.bardir),"histogramy"===i.type&&n.swapXYData(i),"histogramx"!==i.type&&"histogramy"!==i.type||(i.type="histogram"),"scl"in i&&!("colorscale"in i)&&(i.colorscale=i.scl,delete i.scl),"reversescl"in i&&!("reversescale"in i)&&(i.reversescale=i.reversescl,delete i.reversescl),i.xaxis&&(i.xaxis=c(i.xaxis,"x")),i.yaxis&&(i.yaxis=c(i.yaxis,"y")),h(i,"gl3d")&&i.scene&&(i.scene=s.subplotsRegistry.gl3d.cleanId(i.scene)),!h(i,"pie-like")&&!h(i,"bar-like"))if(Array.isArray(i.textposition))for(r=0;r<i.textposition.length;r++)i.textposition[r]=g(i.textposition[r]);else i.textposition&&(i.textposition=g(i.textposition));var d=o.getModule(i);if(d&&d.colorbar){var b=d.colorbar.container,_=b?i[b]:i;_&&_.colorscale&&("YIGnBu"===_.colorscale&&(_.colorscale="YlGnBu"),"YIOrRd"===_.colorscale&&(_.colorscale="YlOrRd"))}if("surface"===i.type&&a.isPlainObject(i.contours)){var w=["x","y","z"];for(r=0;r<w.length;r++){var x=i.contours[w[r]];a.isPlainObject(x)&&(x.highlightColor&&(x.highlightcolor=x.highlightColor,delete x.highlightColor),x.highlightWidth&&(x.highlightwidth=x.highlightWidth,delete x.highlightWidth))}}if("candlestick"===i.type||"ohlc"===i.type){var T=!1!==(i.increasing||{}).showlegend,k=!1!==(i.decreasing||{}).showlegend,O=v(i.increasing),S=v(i.decreasing);if(!1!==O&&!1!==S){var A=y(O,S,T,k);A&&(i.name=A)}else!O&&!S||i.name||(i.name=O||S)}if(Array.isArray(i.transforms)){var E=i.transforms;for(r=0;r<E.length;r++){var M=E[r];if(a.isPlainObject(M))switch(M.type){case"filter":M.filtersrc&&(M.target=M.filtersrc,delete M.filtersrc),M.calendar&&(M.valuecalendar||(M.valuecalendar=M.calendar),delete M.calendar);break;case"groupby":if(M.styles=M.styles||M.style,M.styles&&!Array.isArray(M.styles)){var C=M.styles,I=Object.keys(C);M.styles=[];for(var D=0;D<I.length;D++)M.styles.push({target:I[D],value:C[I[D]]})}}}}m(i,"line")&&delete i.line,"marker"in i&&(m(i.marker,"line")&&delete i.marker.line,m(i,"marker")&&delete i.marker),l.clean(i),i.autobinx&&(delete i.autobinx,delete i.xbins),i.autobiny&&(delete i.autobiny,delete i.ybins),p(i),i.colorbar&&p(i.colorbar),i.marker&&i.marker.colorbar&&p(i.marker.colorbar),i.line&&i.line.colorbar&&p(i.line.colorbar),i.aaxis&&p(i.aaxis),i.baxis&&p(i.baxis)}},n.swapXYData=function(e){var t;if(a.swapAttrs(e,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(e.z)&&Array.isArray(e.z[0])&&(e.transpose?delete e.transpose:e.transpose=!0),e.error_x&&e.error_y){var n=e.error_y,r="copy_ystyle"in n?n.copy_ystyle:!(n.color||n.thickness||n.width);a.swapAttrs(e,["error_?.copy_ystyle"]),r&&a.swapAttrs(e,["error_?.color","error_?.thickness","error_?.width"])}if("string"===typeof e.hoverinfo){var i=e.hoverinfo.split("+");for(t=0;t<i.length;t++)"x"===i[t]?i[t]="y":"y"===i[t]&&(i[t]="x");e.hoverinfo=i.join("+")}},n.coerceTraceIndices=function(e,t){if(r(t))return[t];if(!Array.isArray(t)||!t.length)return e.data.map((function(e,t){return t}));if(Array.isArray(t)){for(var n=[],i=0;i<t.length;i++)a.isIndex(t[i],e.data.length)?n.push(t[i]):a.warn("trace index (",t[i],") is not a number or is out of bounds");return n}return t},n.manageArrayContainers=function(e,t,n){var i=e.obj,o=e.parts,s=o.length,u=o[s-1],l=r(u);if(l&&null===t){var c=o.slice(0,s-1).join(".");a.nestedProperty(i,c).get().splice(u,1)}else l&&void 0===e.get()?(void 0===e.get()&&(n[e.astr]=null),e.set(t)):e.set(t)};var b=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function _(e){var t=e.search(b);if(t>0)return e.substr(0,t)}n.hasParent=function(e,t){for(var n=_(t);n;){if(n in e)return!0;n=_(n)}return!1};var w=["x","y","z"];n.clearAxisTypes=function(e,t,n){for(var r=0;r<t.length;r++)for(var i=e._fullData[r],o=0;o<3;o++){var s=f(e,i,w[o]);if(s&&"log"!==s.type){var u=s._name,l=s._id.substr(1);if("scene"===l.substr(0,5)){if(void 0!==n[l])continue;u=l+"."+u}var c=u+".type";void 0===n[u]&&void 0===n[c]&&a.nestedProperty(e.layout,c).set(null)}}}},{"../components/color":100,"../lib":230,"../plots/cartesian/axis_ids":280,"../plots/plots":311,"../registry":313,"fast-isnumeric":15,"gl-mat4/fromQuat":21}],260:[function(e,t,n){"use strict";var r=e("./plot_api");n._doPlot=r._doPlot,n.newPlot=r.newPlot,n.restyle=r.restyle,n.relayout=r.relayout,n.redraw=r.redraw,n.update=r.update,n._guiRestyle=r._guiRestyle,n._guiRelayout=r._guiRelayout,n._guiUpdate=r._guiUpdate,n._storeDirectGUIEdit=r._storeDirectGUIEdit,n.react=r.react,n.extendTraces=r.extendTraces,n.prependTraces=r.prependTraces,n.addTraces=r.addTraces,n.deleteTraces=r.deleteTraces,n.moveTraces=r.moveTraces,n.purge=r.purge,n.addFrames=r.addFrames,n.deleteFrames=r.deleteFrames,n.animate=r.animate,n.setPlotConfig=r.setPlotConfig,n.toImage=e("./to_image"),n.validate=e("./validate"),n.downloadImage=e("../snapshot/download");var i=e("./template_api");n.makeTemplate=i.makeTemplate,n.validateTemplate=i.validateTemplate},{"../snapshot/download":315,"./plot_api":262,"./template_api":267,"./to_image":268,"./validate":269}],261:[function(e,t,n){"use strict";var r=e("../lib/is_plain_object"),i=e("../lib/noop"),o=e("../lib/loggers"),a=e("../lib/search").sorterAsc,s=e("../registry");n.containerArrayMatch=e("./container_array_match");var u=n.isAddVal=function(e){return"add"===e||r(e)},l=n.isRemoveVal=function(e){return null===e||"remove"===e};n.applyContainerArrayChanges=function(e,t,n,r,c){var f=t.astr,h=s.getComponentMethod(f,"supplyLayoutDefaults"),d=s.getComponentMethod(f,"draw"),p=s.getComponentMethod(f,"drawOne"),v=r.replot||r.recalc||h===i||d===i,y=e.layout,g=e._fullLayout;if(n[""]){Object.keys(n).length>1&&o.warn("Full array edits are incompatible with other edits",f);var m=n[""][""];if(l(m))t.set(null);else{if(!Array.isArray(m))return o.warn("Unrecognized full array edit value",f,m),!0;t.set(m)}return!v&&(h(y,g),d(e),!0)}var b,_,w,x,T,k,O,S,A=Object.keys(n).map(Number).sort(a),E=t.get(),M=E||[],C=c(g,f).get(),I=[],D=-1,P=M.length;for(b=0;b<A.length;b++)if(x=n[w=A[b]],T=Object.keys(x),k=x[""],O=u(k),w<0||w>M.length-(O?0:1))o.warn("index out of range",f,w);else if(void 0!==k)T.length>1&&o.warn("Insertion & removal are incompatible with edits to the same index.",f,w),l(k)?I.push(w):O?("add"===k&&(k={}),M.splice(w,0,k),C&&C.splice(w,0,{})):o.warn("Unrecognized full object edit value",f,w,k),-1===D&&(D=w);else for(_=0;_<T.length;_++)S=f+"["+w+"].",c(M[w],T[_],S).set(x[T[_]]);for(b=I.length-1;b>=0;b--)M.splice(I[b],1),C&&C.splice(I[b],1);if(M.length?E||t.set(M):t.set(null),v)return!1;if(h(y,g),p!==i){var N;if(-1===D)N=A;else{for(P=Math.max(M.length,P),N=[],b=0;b<A.length&&!((w=A[b])>=D);b++)N.push(w);for(b=D;b<P;b++)N.push(b)}for(b=0;b<N.length;b++)p(e,N[b])}else d(e);return!0}},{"../lib/is_plain_object":231,"../lib/loggers":234,"../lib/noop":239,"../lib/search":249,"../registry":313,"./container_array_match":257}],262:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("fast-isnumeric"),o=e("has-hover"),a=e("../lib"),s=a.nestedProperty,u=e("../lib/events"),l=e("../lib/queue"),c=e("../registry"),f=e("./plot_schema"),h=e("../plots/plots"),d=e("../plots/cartesian/axes"),p=e("../components/drawing"),v=e("../components/color"),y=e("../plots/cartesian/graph_interact").initInteractions,g=e("../constants/xmlns_namespaces"),m=e("../plots/cartesian/select").clearSelect,b=e("./plot_config").dfltConfig,_=e("./manage_arrays"),w=e("./helpers"),x=e("./subroutines"),T=e("./edit_types"),k=e("../plots/cartesian/constants").AX_NAME_PATTERN,O=0,S=5;function A(e,t,i,o){var s;if(e=a.getGraphDiv(e),u.init(e),a.isPlainObject(t)){var l=t;t=l.data,i=l.layout,o=l.config,s=l.frames}if(!1===u.triggerHandler(e,"plotly_beforeplot",[t,i,o]))return Promise.reject();function f(){if(s)return n.addFrames(e,s)}t||i||a.isPlotDiv(e)||a.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",e),D(e,o),i||(i={}),r.select(e).classed("js-plotly-plot",!0),p.makeTester(),Array.isArray(e._promises)||(e._promises=[]);var v=0===(e.data||[]).length&&Array.isArray(t);Array.isArray(t)&&(w.cleanData(t),v?e.data=t:e.data.push.apply(e.data,t),e.empty=!1),e.layout&&!v||(e.layout=w.cleanLayout(i)),h.supplyDefaults(e);var g=e._fullLayout,m=g._has("cartesian");g._replotting=!0,(v||g._shouldCreateBgLayer)&&(Me(e),g._shouldCreateBgLayer&&delete g._shouldCreateBgLayer),p.initGradients(e),p.initPatterns(e),v&&d.saveShowSpikeInitial(e);var b=!e.calcdata||e.calcdata.length!==(e._fullData||[]).length;b&&h.doCalcdata(e);for(var _=0;_<e.calcdata.length;_++)e.calcdata[_][0].trace=e._fullData[_];e._context.responsive?e._responsiveChartHandler||(e._responsiveChartHandler=function(){a.isHidden(e)||h.resize(e)},window.addEventListener("resize",e._responsiveChartHandler)):a.clearResponsive(e);var T=a.extendFlat({},g._size),k=0;function O(){for(var t=g._basePlotModules,n=0;n<t.length;n++)t[n].drawFramework&&t[n].drawFramework(e);if(!g._glcanvas&&g._has("gl")&&(g._glcanvas=g._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],(function(e){return e.key})),g._glcanvas.enter().append("canvas").attr("class",(function(e){return"gl-canvas gl-canvas-"+e.key.replace("Layer","")})).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"})),g._glcanvas){g._glcanvas.attr("width",g.width).attr("height",g.height);var r=g._glcanvas.data()[0].regl;if(r&&(Math.floor(g.width)!==r._gl.drawingBufferWidth||Math.floor(g.height)!==r._gl.drawingBufferHeight)){var i="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!k)return a.log(i+" Clearing graph and plotting again."),h.cleanPlot([],{},e._fullData,g),h.supplyDefaults(e),g=e._fullLayout,h.doCalcdata(e),k++,O();a.error(i)}}return"h"===g.modebar.orientation?g._modebardiv.style("height",null).style("width","100%"):g._modebardiv.style("width",null).style("height",g.height+"px"),h.previousPromises(e)}function S(){if(h.clearAutoMarginIds(e),x.drawMarginPushers(e),d.allowAutoMargin(e),g._has("pie"))for(var t=e._fullData,n=0;n<t.length;n++){var r=t[n];"pie"===r.type&&r.automargin&&h.allowAutoMargin(e,"pie."+r.uid+".automargin")}return h.doAutoMargin(e),h.previousPromises(e)}function A(){if(h.didMarginChange(T,g._size))return a.syncOrAsync([S,x.layoutStyles],e)}function M(){if(b)return a.syncOrAsync([c.getComponentMethod("shapes","calcAutorange"),c.getComponentMethod("annotations","calcAutorange"),C],e);C()}function C(){e._transitioning||(x.doAutoRangeAndConstraints(e),v&&d.saveRangeInitial(e),c.getComponentMethod("rangeslider","calcAutorange")(e))}function I(){return d.draw(e,v?"":"redraw")}var P=[h.previousPromises,f,O,S,A];function N(e){e._fullLayout._insideTickLabelsAutorange&&v&&d.saveRangeInitial(e,!0)}m&&P.push(M),P.push(x.layoutStyles),m&&P.push(I,(function(e){e._fullLayout._insideTickLabelsAutorange&&te(e,e._fullLayout._insideTickLabelsAutorange).then((function(){e._fullLayout._insideTickLabelsAutorange=void 0}))})),P.push(x.drawData,x.finalDraw,y,h.addLinks,h.rehover,h.redrag,h.doAutoMargin,N,h.previousPromises);var L=a.syncOrAsync(P,e);return L&&L.then||(L=Promise.resolve()),L.then((function(){return E(e),e}))}function E(e){var t=e._fullLayout;t._redrawFromAutoMarginCount?t._redrawFromAutoMarginCount--:e.emit("plotly_afterplot")}function M(e){return a.extendFlat(b,e)}function C(e,t){try{e._fullLayout._paper.style("background",t)}catch(n){a.error(n)}}function I(e,t){C(e,v.combine(t,"white"))}function D(e,t){if(!e._context){e._context=a.extendDeep({},b);var n=r.select("base");e._context._baseUrl=n.size()&&n.attr("href")?window.location.href.split("#")[0]:""}var i,s,u,l=e._context;if(t){for(s=Object.keys(t),i=0;i<s.length;i++)"editable"!==(u=s[i])&&"edits"!==u&&u in l&&("setBackground"===u&&"opaque"===t[u]?l[u]=I:l[u]=t[u]);t.plot3dPixelRatio&&!l.plotGlPixelRatio&&(l.plotGlPixelRatio=l.plot3dPixelRatio);var c=t.editable;if(void 0!==c)for(l.editable=c,s=Object.keys(l.edits),i=0;i<s.length;i++)l.edits[s[i]]=c;if(t.edits)for(s=Object.keys(t.edits),i=0;i<s.length;i++)(u=s[i])in l.edits&&(l.edits[u]=t.edits[u]);l._exportedPlot=t._exportedPlot}l.staticPlot&&(l.editable=!1,l.edits={},l.autosizable=!1,l.scrollZoom=!1,l.doubleClick=!1,l.showTips=!1,l.showLink=!1,l.displayModeBar=!1),"hover"!==l.displayModeBar||o||(l.displayModeBar=!0),"transparent"!==l.setBackground&&"function"===typeof l.setBackground||(l.setBackground=C),l._hasZeroHeight=l._hasZeroHeight||0===e.clientHeight,l._hasZeroWidth=l._hasZeroWidth||0===e.clientWidth;var f=l.scrollZoom,h=l._scrollZoom={};if(!0===f)h.cartesian=1,h.gl3d=1,h.geo=1,h.mapbox=1;else if("string"===typeof f){var d=f.split("+");for(i=0;i<d.length;i++)h[d[i]]=1}else!1!==f&&(h.gl3d=1,h.geo=1,h.mapbox=1)}function P(e){if(e=a.getGraphDiv(e),!a.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);return w.cleanData(e.data),w.cleanLayout(e.layout),e.calcdata=void 0,n._doPlot(e).then((function(){return e.emit("plotly_redraw"),e}))}function N(e,t,r,i){return e=a.getGraphDiv(e),h.cleanPlot([],{},e._fullData||[],e._fullLayout||{}),h.purge(e),n._doPlot(e,t,r,i)}function L(e,t){var n,r,i=t+1,o=[];for(n=0;n<e.length;n++)(r=e[n])<0?o.push(i+r):o.push(r);return o}function j(e,t,n){var r,i;for(r=0;r<t.length;r++){if((i=t[r])!==parseInt(i,10))throw new Error("all values in "+n+" must be integers");if(i>=e.data.length||i<-e.data.length)throw new Error(n+" must be valid indices for gd.data.");if(t.indexOf(i,r+1)>-1||i>=0&&t.indexOf(-e.data.length+i)>-1||i<0&&t.indexOf(e.data.length+i)>-1)throw new Error("each index in "+n+" must be unique.")}}function R(e,t,n){if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if("undefined"===typeof t)throw new Error("currentIndices is a required argument.");if(Array.isArray(t)||(t=[t]),j(e,t,"currentIndices"),"undefined"===typeof n||Array.isArray(n)||(n=[n]),"undefined"!==typeof n&&j(e,n,"newIndices"),"undefined"!==typeof n&&t.length!==n.length)throw new Error("current and new indices must be of equal length.")}function F(e,t,n){var r,i;if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if("undefined"===typeof t)throw new Error("traces must be defined.");for(Array.isArray(t)||(t=[t]),r=0;r<t.length;r++)if("object"!==typeof(i=t[r])||Array.isArray(i)||null===i)throw new Error("all values in traces array must be non-array objects");if("undefined"===typeof n||Array.isArray(n)||(n=[n]),"undefined"!==typeof n&&n.length!==t.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function z(e,t,n,r){var i=a.isPlainObject(r);if(!Array.isArray(e.data))throw new Error("gd.data must be an array");if(!a.isPlainObject(t))throw new Error("update must be a key:value object");if("undefined"===typeof n)throw new Error("indices must be an integer or array of integers");for(var o in j(e,n,"indices"),t){if(!Array.isArray(t[o])||t[o].length!==n.length)throw new Error("attribute "+o+" must be an array of length equal to indices array length");if(i&&(!(o in r)||!Array.isArray(r[o])||r[o].length!==t[o].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function U(e,t,n,r){var o,u,l,c,f,h=a.isPlainObject(r),d=[];for(var p in Array.isArray(n)||(n=[n]),n=L(n,e.data.length-1),t)for(var v=0;v<n.length;v++){if(o=e.data[n[v]],u=(l=s(o,p)).get(),c=t[p][v],!a.isArrayOrTypedArray(c))throw new Error("attribute: "+p+" index: "+v+" must be an array");if(!a.isArrayOrTypedArray(u))throw new Error("cannot extend missing or non-array attribute: "+p);if(u.constructor!==c.constructor)throw new Error("cannot extend array with an array of a different type: "+p);f=h?r[p][v]:r,i(f)||(f=-1),d.push({prop:l,target:u,insert:c,maxp:Math.floor(f)})}return d}function q(e,t,n,r,i){z(e,t,n,r);for(var o=U(e,t,n,r),a={},s={},u=0;u<o.length;u++){var l=o[u].prop,c=o[u].maxp,f=i(o[u].target,o[u].insert,c);l.set(f[0]),Array.isArray(a[l.astr])||(a[l.astr]=[]),a[l.astr].push(f[1]),Array.isArray(s[l.astr])||(s[l.astr]=[]),s[l.astr].push(o[u].target.length)}return{update:a,maxPoints:s}}function V(e,t){var n=new e.constructor(e.length+t.length);return n.set(e),n.set(t,e.length),n}function B(e,t,r,i){function o(e,t,n){var r,i;if(a.isTypedArray(e))if(n<0){var o=new e.constructor(0),s=V(e,t);n<0?(r=s,i=o):(r=o,i=s)}else if(r=new e.constructor(n),i=new e.constructor(e.length+t.length-n),n===t.length)r.set(t),i.set(e);else if(n<t.length){var u=t.length-n;r.set(t.subarray(u)),i.set(e),i.set(t.subarray(0,u),e.length)}else{var l=n-t.length,c=e.length-l;r.set(e.subarray(c)),r.set(t,l),i.set(e.subarray(0,c))}else r=e.concat(t),i=n>=0&&n<r.length?r.splice(0,r.length-n):[];return[r,i]}var s=q(e=a.getGraphDiv(e),t,r,i,o),u=n.redraw(e),c=[e,s.update,r,s.maxPoints];return l.add(e,n.prependTraces,c,B,arguments),u}function H(e,t,r,i){function o(e,t,n){var r,i;if(a.isTypedArray(e))if(n<=0){var o=new e.constructor(0),s=V(t,e);n<0?(r=s,i=o):(r=o,i=s)}else if(r=new e.constructor(n),i=new e.constructor(e.length+t.length-n),n===t.length)r.set(t),i.set(e);else if(n<t.length){var u=t.length-n;r.set(t.subarray(0,u)),i.set(t.subarray(u)),i.set(e,u)}else{var l=n-t.length;r.set(t),r.set(e.subarray(0,l),t.length),i.set(e.subarray(l))}else r=t.concat(e),i=n>=0&&n<r.length?r.splice(n,r.length):[];return[r,i]}var s=q(e=a.getGraphDiv(e),t,r,i,o),u=n.redraw(e),c=[e,s.update,r,s.maxPoints];return l.add(e,n.extendTraces,c,H,arguments),u}function W(e,t,r){e=a.getGraphDiv(e);var i,o,s=[],u=n.deleteTraces,c=W,f=[e,s],h=[e,t];for(F(e,t,r),Array.isArray(t)||(t=[t]),t=t.map((function(e){return a.extendFlat({},e)})),w.cleanData(t),i=0;i<t.length;i++)e.data.push(t[i]);for(i=0;i<t.length;i++)s.push(-t.length+i);if("undefined"===typeof r)return o=n.redraw(e),l.add(e,u,f,c,h),o;Array.isArray(r)||(r=[r]);try{R(e,s,r)}catch(d){throw e.data.splice(e.data.length-t.length,t.length),d}return l.startSequence(e),l.add(e,u,f,c,h),o=n.moveTraces(e,s,r),l.stopSequence(e),o}function Y(e,t){e=a.getGraphDiv(e);var r,i,o=[],s=n.addTraces,u=Y,c=[e,o,t],f=[e,t];if("undefined"===typeof t)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(t)||(t=[t]),j(e,t,"indices"),(t=L(t,e.data.length-1)).sort(a.sorterDes),r=0;r<t.length;r+=1)i=e.data.splice(t[r],1)[0],o.push(i);var h=n.redraw(e);return l.add(e,s,c,u,f),h}function G(e,t,r){var i,o=[],s=[],u=G,c=G,f=[e=a.getGraphDiv(e),r,t],h=[e,t,r];if(R(e,t,r),t=Array.isArray(t)?t:[t],"undefined"===typeof r)for(r=[],i=0;i<t.length;i++)r.push(-t.length+i);for(r=Array.isArray(r)?r:[r],t=L(t,e.data.length-1),r=L(r,e.data.length-1),i=0;i<e.data.length;i++)-1===t.indexOf(i)&&o.push(e.data[i]);for(i=0;i<t.length;i++)s.push({newIndex:r[i],trace:e.data[t[i]]});for(s.sort((function(e,t){return e.newIndex-t.newIndex})),i=0;i<s.length;i+=1)o.splice(s[i].newIndex,0,s[i].trace);e.data=o;var d=n.redraw(e);return l.add(e,u,f,c,h),d}function K(e,t,r,i){e=a.getGraphDiv(e),w.clearPromiseQueue(e);var o={};if("string"===typeof t)o[t]=r;else{if(!a.isPlainObject(t))return a.warn("Restyle fail.",t,r,i),Promise.reject();o=a.extendFlat({},t),void 0===i&&(i=r)}Object.keys(o).length&&(e.changed=!0);var s=w.coerceTraceIndices(e,i),u=Z(e,o,s),c=u.flags;c.calc&&(e.calcdata=void 0),c.clearAxisTypes&&w.clearAxisTypes(e,s,{});var f=[];c.fullReplot?f.push(n._doPlot):(f.push(h.previousPromises),h.supplyDefaults(e),c.markerSize&&(h.doCalcdata(e),re(f)),c.style&&f.push(x.doTraceStyle),c.colorbars&&f.push(x.doColorBars),f.push(E)),f.push(h.rehover,h.redrag),l.add(e,K,[e,u.undoit,u.traces],K,[e,u.redoit,u.traces]);var d=a.syncOrAsync(f,e);return d&&d.then||(d=Promise.resolve()),d.then((function(){return e.emit("plotly_restyle",u.eventData),e}))}function X(e){return void 0===e?null:e}function Q(e,t){return t?function(t,n,r){var i=s(t,n),o=i.set;return i.set=function(t){J((r||"")+n,i.get(),t,e),o(t)},i}:s}function J(e,t,n,r){if(Array.isArray(t)||Array.isArray(n))for(var i=Array.isArray(t)?t:[],o=Array.isArray(n)?n:[],s=Math.max(i.length,o.length),u=0;u<s;u++)J(e+"["+u+"]",i[u],o[u],r);else if(a.isPlainObject(t)||a.isPlainObject(n)){var l=a.isPlainObject(t)?t:{},c=a.isPlainObject(n)?n:{},f=a.extendFlat({},l,c);for(var h in f)J(e+"."+h,l[h],c[h],r)}else void 0===r[e]&&(r[e]=X(t))}function $(e,t,n){for(var r in n)J(r,s(e,r).get(),n[r],t)}function Z(e,t,n){var r,i=e._fullLayout,o=e._fullData,u=e.data,l=i._guiEditing,p=Q(i._preGUI,l),v=a.extendDeepAll({},t);ee(t);var y,g=T.traceFlags(),m={},b={};function _(){return n.map((function(){}))}function x(e){var t=d.id2name(e);-1===y.indexOf(t)&&y.push(t)}function k(e){return"LAYOUT"+e+".autorange"}function O(e){return"LAYOUT"+e+".range"}function S(e){for(var t=e;t<o.length;t++)if(o[t]._input===u[e])return o[t]}function A(r,o,a){if(Array.isArray(r))r.forEach((function(e){A(e,o,a)}));else if(!(r in t)&&!w.hasParent(t,r)){var s;if("LAYOUT"===r.substr(0,6))s=p(e.layout,r.replace("LAYOUT",""));else{var c=n[a];s=Q(i._tracePreGUI[S(c)._fullInput.uid],l)(u[c],r)}r in b||(b[r]=_()),void 0===b[r][a]&&(b[r][a]=X(s.get())),void 0!==o&&s.set(o)}}function E(e){return function(t){return o[t][e]}}function M(e){return function(t,r){return!1===t?o[n[r]][e]:null}}for(var C in t){if(w.hasParent(t,C))throw new Error("cannot set "+C+" and a parent attribute simultaneously");var I,D,P,N,L,j,R=t[C];if("autobinx"!==C&&"autobiny"!==C||(C=C.charAt(C.length-1)+"bins",R=Array.isArray(R)?R.map(M(C)):!1===R?n.map(E(C)):null),m[C]=R,"LAYOUT"!==C.substr(0,6)){for(b[C]=_(),r=0;r<n.length;r++)if(I=u[n[r]],D=S(n[r]),N=(P=Q(i._tracePreGUI[D._fullInput.uid],l)(I,C)).get(),void 0!==(L=Array.isArray(R)?R[r%R.length]:R)){var F=P.parts[P.parts.length-1],z=C.substr(0,C.length-F.length-1),U=z?z+".":"",q=z?s(D,z).get():D;if((j=f.getTraceValObject(D,P.parts))&&j.impliedEdits&&null!==L)for(var V in j.impliedEdits)A(a.relativeAttr(C,V),j.impliedEdits[V],r);else if("thicknessmode"!==F&&"lenmode"!==F||N===L||"fraction"!==L&&"pixels"!==L||!q){if("type"===C&&("pie"===L!==("pie"===N)||"funnelarea"===L!==("funnelarea"===N))){var B="x",H="y";"bar"!==L&&"bar"!==N||"h"!==I.orientation||(B="y",H="x"),a.swapAttrs(I,["?","?src"],"labels",B),a.swapAttrs(I,["d?","?0"],"label",B),a.swapAttrs(I,["?","?src"],"values",H),"pie"===N||"funnelarea"===N?(s(I,"marker.color").set(s(I,"marker.colors").get()),i._pielayer.selectAll("g.trace").remove()):c.traceIs(I,"cartesian")&&s(I,"marker.colors").set(s(I,"marker.color").get())}}else{var W=i._size,Y=q.orient,G="top"===Y||"bottom"===Y;if("thicknessmode"===F){var K=G?W.h:W.w;A(U+"thickness",q.thickness*("fraction"===L?1/K:K),r)}else{var J=G?W.w:W.h;A(U+"len",q.len*("fraction"===L?1/J:J),r)}}if(b[C][r]=X(N),-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(C)){if("orientation"===C){P.set(L);var $=I.x&&!I.y?"h":"v";if((P.get()||$)===D.orientation)continue}else"orientationaxes"===C&&(I.orientation={v:"h",h:"v"}[D.orientation]);w.swapXYData(I),g.calc=g.clearAxisTypes=!0}else-1!==h.dataArrayContainers.indexOf(P.parts[0])?(w.manageArrayContainers(P,L,b),g.calc=!0):(j?j.arrayOk&&!c.traceIs(D,"regl")&&(a.isArrayOrTypedArray(L)||a.isArrayOrTypedArray(N))?g.calc=!0:T.update(g,j):g.calc=!0,P.set(L))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(C)&&d.swap(e,n),"orientationaxes"===C){var Z=s(e.layout,"hovermode"),te=Z.get();"x"===te?Z.set("y"):"y"===te?Z.set("x"):"x unified"===te?Z.set("y unified"):"y unified"===te&&Z.set("x unified")}if(-1!==["orientation","type"].indexOf(C)){for(y=[],r=0;r<n.length;r++){var ne=u[n[r]];c.traceIs(ne,"cartesian")&&(x(ne.xaxis||"x"),x(ne.yaxis||"y"))}A(y.map(k),!0,0),A(y.map(O),[0,1],0)}}else P=p(e.layout,C.replace("LAYOUT","")),b[C]=[X(P.get())],P.set(Array.isArray(R)?R[0]:R),g.calc=!0}return(g.calc||g.plot)&&(g.fullReplot=!0),{flags:g,undoit:b,redoit:m,traces:n,eventData:a.extendDeepNoArrays([],[v,n])}}function ee(e){var t,n,r,i=a.counterRegex("axis",".title",!1,!1),o=/colorbar\.title$/,s=Object.keys(e);for(t=0;t<s.length;t++)n=s[t],r=e[n],"title"!==n&&!i.test(n)&&!o.test(n)||"string"!==typeof r&&"number"!==typeof r?n.indexOf("titlefont")>-1?u(n,n.replace("titlefont","title.font")):n.indexOf("titleposition")>-1?u(n,n.replace("titleposition","title.position")):n.indexOf("titleside")>-1?u(n,n.replace("titleside","title.side")):n.indexOf("titleoffset")>-1&&u(n,n.replace("titleoffset","title.offset")):u(n,n.replace("title","title.text"));function u(t,n){e[n]=e[t],delete e[t]}}function te(e,t,n){e=a.getGraphDiv(e),w.clearPromiseQueue(e);var r={};if("string"===typeof t)r[t]=n;else{if(!a.isPlainObject(t))return a.warn("Relayout fail.",t,n),Promise.reject();r=a.extendFlat({},t)}Object.keys(r).length&&(e.changed=!0);var i=se(e,r),o=i.flags;o.calc&&(e.calcdata=void 0);var s=[h.previousPromises];o.layoutReplot?s.push(x.layoutReplot):Object.keys(r).length&&(ne(e,o,i)||h.supplyDefaults(e),o.legend&&s.push(x.doLegend),o.layoutstyle&&s.push(x.layoutStyles),o.axrange&&re(s,i.rangesAltered),o.ticks&&s.push(x.doTicksRelayout),o.modebar&&s.push(x.doModeBar),o.camera&&s.push(x.doCamera),o.colorbars&&s.push(x.doColorBars),s.push(E)),s.push(h.rehover,h.redrag),l.add(e,te,[e,i.undoit],te,[e,i.redoit]);var u=a.syncOrAsync(s,e);return u&&u.then||(u=Promise.resolve(e)),u.then((function(){return e.emit("plotly_relayout",i.eventData),e}))}function ne(e,t,n){var r=e._fullLayout;if(!t.axrange)return!1;for(var i in t)if("axrange"!==i&&t[i])return!1;for(var o in n.rangesAltered){var a=d.id2name(o),s=e.layout[a],u=r[a];if(u.autorange=s.autorange,s.range&&(u.range=s.range.slice()),u.cleanRange(),u._matchGroup)for(var l in u._matchGroup)if(l!==o){var c=r[d.id2name(l)];c.autorange=u.autorange,c.range=u.range.slice(),c._input.range=u.range.slice()}}return!0}function re(e,t){var n=t?function(e){var n=[],r=!0;for(var i in t){var o=d.getFromId(e,i);if(n.push(i),-1!==(o.ticklabelposition||"").indexOf("inside")&&o._anchorAxis&&n.push(o._anchorAxis._id),o._matchGroup)for(var a in o._matchGroup)t[a]||n.push(a);o.automargin&&(r=!1)}return d.draw(e,n,{skipTitle:r})}:function(e){return d.draw(e,"redraw")};e.push(m,x.doAutoRangeAndConstraints,n,x.drawData,x.finalDraw)}var ie=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,oe=/^[xyz]axis[0-9]*\.autorange$/,ae=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function se(e,t){var n,r,i,o=e.layout,u=e._fullLayout,l=u._guiEditing,h=Q(u._preGUI,l),p=Object.keys(t),v=d.list(e),y=a.extendDeepAll({},t),g={};for(ee(t),p=Object.keys(t),r=0;r<p.length;r++)if(0===p[r].indexOf("allaxes")){for(i=0;i<v.length;i++){var m=v[i]._id.substr(1),b=-1!==m.indexOf("scene")?m+".":"",x=p[r].replace("allaxes",b+v[i]._name);t[x]||(t[x]=t[p[r]])}delete t[p[r]]}var O=T.layoutFlags(),S={},A={};function E(e,n){if(Array.isArray(e))e.forEach((function(e){E(e,n)}));else if(!(e in t)&&!w.hasParent(t,e)){var r=h(o,e);e in A||(A[e]=X(r.get())),void 0!==n&&r.set(n)}}var M,C={};function I(e){var t=d.name2id(e.split(".")[0]);return C[t]=1,t}for(var D in t){if(w.hasParent(t,D))throw new Error("cannot set "+D+" and a parent attribute simultaneously");for(var P=h(o,D),N=t[D],L=P.parts.length-1;L>0&&"string"!==typeof P.parts[L];)L--;var j=P.parts[L],R=P.parts[L-1]+"."+j,F=P.parts.slice(0,L).join("."),z=s(e.layout,F).get(),U=s(u,F).get(),q=P.get();if(void 0!==N){S[D]=N,A[D]="reverse"===j?N:X(q);var V=f.getLayoutValObject(u,P.parts);if(V&&V.impliedEdits&&null!==N)for(var B in V.impliedEdits)E(a.relativeAttr(D,B),V.impliedEdits[B]);if(-1!==["width","height"].indexOf(D))if(N){E("autosize",null);var H="height"===D?"width":"height";E(H,u[H])}else u[D]=e._initialAutoSize[D];else if("autosize"===D)E("width",N?null:u.width),E("height",N?null:u.height);else if(R.match(ie))I(R),s(u,F+"._inputRange").set(null);else if(R.match(oe)){I(R),s(u,F+"._inputRange").set(null);var W=s(u,F).get();W._inputDomain&&(W._input.domain=W._inputDomain.slice())}else R.match(ae)&&s(u,F+"._inputDomain").set(null);if("type"===j){M=z;var Y="linear"===U.type&&"log"===N,G="log"===U.type&&"linear"===N;if(Y||G){if(M&&M.range)if(U.autorange)Y&&(M.range=M.range[1]>M.range[0]?[1,2]:[2,1]);else{var K=M.range[0],J=M.range[1];Y?(K<=0&&J<=0&&E(F+".autorange",!0),K<=0?K=J/1e6:J<=0&&(J=K/1e6),E(F+".range[0]",Math.log(K)/Math.LN10),E(F+".range[1]",Math.log(J)/Math.LN10)):(E(F+".range[0]",Math.pow(10,K)),E(F+".range[1]",Math.pow(10,J)))}else E(F+".autorange",!0);Array.isArray(u._subplots.polar)&&u._subplots.polar.length&&u[P.parts[0]]&&"radialaxis"===P.parts[1]&&delete u[P.parts[0]]._subplot.viewInitial["radialaxis.range"],c.getComponentMethod("annotations","convertCoords")(e,U,N,E),c.getComponentMethod("images","convertCoords")(e,U,N,E)}else E(F+".autorange",!0),E(F+".range",null);s(u,F+"._inputRange").set(null)}else if(j.match(k)){var $=s(u,D).get(),Z=(N||{}).type;Z&&"-"!==Z||(Z="linear"),c.getComponentMethod("annotations","convertCoords")(e,$,Z,E),c.getComponentMethod("images","convertCoords")(e,$,Z,E)}var te=_.containerArrayMatch(D);if(te){n=te.array,r=te.index;var ne=te.property,re=V||{editType:"calc"};""!==r&&""===ne&&(_.isAddVal(N)?A[D]=null:_.isRemoveVal(N)?A[D]=(s(o,n).get()||[])[r]:a.warn("unrecognized full object value",t)),T.update(O,re),g[n]||(g[n]={});var se=g[n][r];se||(se=g[n][r]={}),se[ne]=N,delete t[D]}else"reverse"===j?(z.range?z.range.reverse():(E(F+".autorange",!0),z.range=[1,0]),U.autorange?O.calc=!0:O.plot=!0):(u._has("scatter-like")&&u._has("regl")&&"dragmode"===D&&("lasso"===N||"select"===N)&&"lasso"!==q&&"select"!==q||u._has("gl2d")?O.plot=!0:V?T.update(O,V):O.calc=!0,P.set(N))}}for(n in g)_.applyContainerArrayChanges(e,h(o,n),g[n],O,h)||(O.plot=!0);for(var le in C){var ce=(M=d.getFromId(e,le))&&M._constraintGroup;if(ce)for(var fe in O.calc=!0,ce)C[fe]||(d.getFromId(e,fe)._constraintShrinkable=!0)}return(ue(e)||t.height||t.width)&&(O.plot=!0),(O.plot||O.calc)&&(O.layoutReplot=!0),{flags:O,rangesAltered:C,undoit:A,redoit:S,eventData:y}}function ue(e){var t=e._fullLayout,n=t.width,r=t.height;return e.layout.autosize&&h.plotAutoSize(e,e.layout,t),t.width!==n||t.height!==r}function le(e,t,r,i){e=a.getGraphDiv(e),w.clearPromiseQueue(e),a.isPlainObject(t)||(t={}),a.isPlainObject(r)||(r={}),Object.keys(t).length&&(e.changed=!0),Object.keys(r).length&&(e.changed=!0);var o=w.coerceTraceIndices(e,i),s=Z(e,a.extendFlat({},t),o),u=s.flags,c=se(e,a.extendFlat({},r)),f=c.flags;(u.calc||f.calc)&&(e.calcdata=void 0),u.clearAxisTypes&&w.clearAxisTypes(e,o,r);var d=[];f.layoutReplot?d.push(x.layoutReplot):u.fullReplot?d.push(n._doPlot):(d.push(h.previousPromises),ne(e,f,c)||h.supplyDefaults(e),u.style&&d.push(x.doTraceStyle),(u.colorbars||f.colorbars)&&d.push(x.doColorBars),f.legend&&d.push(x.doLegend),f.layoutstyle&&d.push(x.layoutStyles),f.axrange&&re(d,c.rangesAltered),f.ticks&&d.push(x.doTicksRelayout),f.modebar&&d.push(x.doModeBar),f.camera&&d.push(x.doCamera),d.push(E)),d.push(h.rehover,h.redrag),l.add(e,le,[e,s.undoit,c.undoit,s.traces],le,[e,s.redoit,c.redoit,s.traces]);var p=a.syncOrAsync(d,e);return p&&p.then||(p=Promise.resolve(e)),p.then((function(){return e.emit("plotly_update",{data:s.eventData,layout:c.eventData}),e}))}function ce(e){return function(t){t._fullLayout._guiEditing=!0;var n=e.apply(null,arguments);return t._fullLayout._guiEditing=!1,n}}var fe=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],he=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function de(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=e.match(r.pattern);if(i)return{head:i[1],attr:r.attr}}}function pe(e,t){var n=s(t,e).get();if(void 0!==n)return n;var r=e.split(".");for(r.pop();r.length>1;)if(r.pop(),void 0!==(n=s(t,r.join(".")+".uirevision").get()))return n;return t.uirevision}function ve(e,t){for(var n=0;n<t.length;n++)if(t[n]._fullInput.uid===e)return n;return-1}function ye(e,t,n){for(var r=0;r<t.length;r++)if(t[r].uid===e)return r;return!t[n]||t[n].uid?-1:n}function ge(e,t){var n=a.isPlainObject(e),r=Array.isArray(e);return n||r?(n&&a.isPlainObject(t)||r&&Array.isArray(t))&&JSON.stringify(e)===JSON.stringify(t):e===t}function me(e,t,n,r){var i,o,u,l,c,f,h,d,p=r._preGUI,v=[],y={};for(i in p){if(c=de(i,fe)){if(o=c.attr||c.head+".uirevision",(l=(u=s(r,o).get())&&pe(o,t))&&l===u&&(null===(f=p[i])&&(f=void 0),ge(d=(h=s(t,i)).get(),f))){void 0===d&&"autorange"===i.substr(i.length-9)&&v.push(i.substr(0,i.length-10)),h.set(X(s(r,i).get()));continue}}else a.warn("unrecognized GUI edit: "+i);delete p[i],"range["===i.substr(i.length-8,6)&&(y[i.substr(0,i.length-9)]=1)}for(var g=0;g<v.length;g++){var m=v[g];if(y[m]){var b=s(t,m).get();b&&delete b.autorange}}var _=r._tracePreGUI;for(var w in _){var x,T=_[w],k=null;for(i in T){if(!k){var O=ve(w,n);if(O<0){delete _[w];break}var S=ye(w,e,(x=n[O]._fullInput).index);if(S<0){delete _[w];break}k=e[S]}if(c=de(i,he)){if(c.attr?l=(u=s(r,c.attr).get())&&pe(c.attr,t):(u=x.uirevision,void 0===(l=k.uirevision)&&(l=t.uirevision)),l&&l===u&&(null===(f=T[i])&&(f=void 0),ge(d=(h=s(k,i)).get(),f))){h.set(X(s(x,i).get()));continue}}else a.warn("unrecognized GUI edit: "+i+" in trace uid "+w);delete T[i]}}}function be(e,t,r,i){var o,s;function u(){return n.addFrames(e,o)}e=a.getGraphDiv(e),w.clearPromiseQueue(e);var l=e._fullData,f=e._fullLayout;if(a.isPlotDiv(e)&&l&&f){if(a.isPlainObject(t)){var d=t;t=d.data,r=d.layout,i=d.config,o=d.frames}var p=!1;if(i){var v=a.extendDeep({},e._context);e._context=void 0,D(e,i),p=Te(v,e._context)}e.data=t||[],w.cleanData(e.data),e.layout=r||{},w.cleanLayout(e.layout),me(e.data,e.layout,l,f),h.supplyDefaults(e,{skipUpdateCalc:!0});var y=e._fullData,g=e._fullLayout,m=void 0===g.datarevision,b=g.transition,_=we(e,f,g,m,b),T=_.newDataRevision,k=_e(e,l,y,m,b,T);if(ue(e)&&(_.layoutReplot=!0),k.calc||_.calc){e.calcdata=void 0;for(var O=Object.getOwnPropertyNames(g),S=0;S<O.length;S++){var A=O[S],M=A.substring(0,5);if("xaxis"===M||"yaxis"===M){var C=g[A]._emptyCategories;C&&C()}}}else h.supplyDefaultsUpdateCalc(e.calcdata,y);var I=[];if(o&&(e._transitionData={},h.createTransitionData(e),I.push(u)),g.transition&&!p&&(k.anim||_.anim))_.ticks&&I.push(x.doTicksRelayout),h.doCalcdata(e),x.doAutoRangeAndConstraints(e),I.push((function(){return h.transitionFromReact(e,k,_,f)}));else if(k.fullReplot||_.layoutReplot||p)e._fullLayout._skipDefaults=!0,I.push(n._doPlot);else{for(var P in _.arrays){var N=_.arrays[P];if(N.length){var L=c.getComponentMethod(P,"drawOne");if(L!==a.noop)for(var j=0;j<N.length;j++)L(e,N[j]);else{var R=c.getComponentMethod(P,"draw");if(R===a.noop)throw new Error("cannot draw components: "+P);R(e)}}}I.push(h.previousPromises),k.style&&I.push(x.doTraceStyle),(k.colorbars||_.colorbars)&&I.push(x.doColorBars),_.legend&&I.push(x.doLegend),_.layoutstyle&&I.push(x.layoutStyles),_.axrange&&re(I),_.ticks&&I.push(x.doTicksRelayout),_.modebar&&I.push(x.doModeBar),_.camera&&I.push(x.doCamera),I.push(E)}I.push(h.rehover,h.redrag),(s=a.syncOrAsync(I,e))&&s.then||(s=Promise.resolve(e))}else s=n.newPlot(e,t,r,i);return s.then((function(){return e.emit("plotly_react",{data:t,layout:r}),e}))}function _e(e,t,n,r,i,o){var a=t.length===n.length;if(!i&&!a)return{fullReplot:!0,calc:!0};var s,u,l=T.traceFlags();function c(e){var t=f.getTraceValObject(u,e);return!u._module.animatable&&t.anim&&(t.anim=!1),t}l.arrays={},l.nChanges=0,l.nChangesAnim=0;var d={getValObject:c,flags:l,immutable:r,transition:i,newDataRevision:o,gd:e},p={};for(s=0;s<t.length;s++)if(n[s]){if(u=n[s]._fullInput,h.hasMakesDataTransform(u)&&(u=n[s]),p[u.uid])continue;p[u.uid]=1,xe(t[s]._fullInput,u,[],d)}return(l.calc||l.plot)&&(l.fullReplot=!0),i&&l.nChanges&&l.nChangesAnim&&(l.anim=l.nChanges===l.nChangesAnim&&a?"all":"some"),l}function we(e,t,n,r,i){var o=T.layoutFlags();function a(e){return f.getLayoutValObject(n,e)}return o.arrays={},o.rangesAltered={},o.nChanges=0,o.nChangesAnim=0,xe(t,n,[],{getValObject:a,flags:o,immutable:r,transition:i,gd:e}),(o.plot||o.calc)&&(o.layoutReplot=!0),i&&o.nChanges&&o.nChangesAnim&&(o.anim=o.nChanges===o.nChangesAnim?"all":"some"),o}function xe(e,t,n,r){var i,o,u,l=r.getValObject,c=r.flags,f=r.immutable,h=r.inArray,d=r.arrayIndex;function p(){var e=i.editType;h&&-1!==e.indexOf("arraydraw")?a.pushUnique(c.arrays[h],d):(T.update(c,i),"none"!==e&&c.nChanges++,r.transition&&i.anim&&c.nChangesAnim++,(ie.test(u)||oe.test(u))&&(c.rangesAltered[n[0]]=1),ae.test(u)&&s(t,"_inputDomain").set(null),"datarevision"===o&&(c.newDataRevision=1))}function v(e){return"data_array"===e.valType||e.arrayOk}for(o in e){if(c.calc&&!r.transition)return;var y=e[o],g=t[o],m=n.concat(o);if(u=m.join("."),"_"!==o.charAt(0)&&"function"!==typeof y&&y!==g){if(("tick0"===o||"dtick"===o)&&"geo"!==n[0]){var b=t.tickmode;if("auto"===b||"array"===b||!b)continue}if(("range"!==o||!t.autorange)&&("zmin"!==o&&"zmax"!==o||"contourcarpet"!==t.type)&&(i=l(m))&&(!i._compareAsJSON||JSON.stringify(y)!==JSON.stringify(g))){var _,w=i.valType,x=v(i),k=Array.isArray(y),O=Array.isArray(g);if(k&&O){var S="_input_"+o,A=e[S],E=t[S];if(Array.isArray(A)&&A===E)continue}if(void 0===g)x&&k?c.calc=!0:p();else if(i._isLinkedToArray){var M=[],C=!1;h||(c.arrays[o]=M);var I=Math.min(y.length,g.length),D=Math.max(y.length,g.length);if(I!==D){if("arraydraw"!==i.editType){p();continue}C=!0}for(_=0;_<I;_++)xe(y[_],g[_],m.concat(_),a.extendFlat({inArray:o,arrayIndex:_},r));if(C)for(_=I;_<D;_++)M.push(_)}else!w&&a.isPlainObject(y)?xe(y,g,m,r):x?k&&O?(f&&(c.calc=!0),(f||r.newDataRevision)&&p()):k!==O?c.calc=!0:p():k&&O&&y.length===g.length&&String(y)===String(g)||p()}}}for(o in t)if(!(o in e)&&"_"!==o.charAt(0)&&"function"!==typeof t[o]){if(v(i=l(n.concat(o)))&&Array.isArray(t[o]))return void(c.calc=!0);p()}}function Te(e,t){var n;for(n in e)if("_"!==n.charAt(0)){var r=e[n],i=t[n];if(r!==i)if(a.isPlainObject(r)&&a.isPlainObject(i)){if(Te(r,i))return!0}else{if(!Array.isArray(r)||!Array.isArray(i))return!0;if(r.length!==i.length)return!0;for(var o=0;o<r.length;o++)if(r[o]!==i[o]){if(!a.isPlainObject(r[o])||!a.isPlainObject(i[o]))return!0;if(Te(r[o],i[o]))return!0}}}}function ke(e,t,n){if(e=a.getGraphDiv(e),!a.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var r=e._transitionData;r._frameQueue||(r._frameQueue=[]);var i=(n=h.supplyAnimationDefaults(n)).transition,o=n.frame;function s(e){return Array.isArray(i)?e>=i.length?i[0]:i[e]:i}function u(e){return Array.isArray(o)?e>=o.length?o[0]:o[e]:o}function l(e,t){var n=0;return function(){if(e&&++n===t)return e()}}return void 0===r._frameWaitingCnt&&(r._frameWaitingCnt=0),new Promise((function(o,c){function f(){if(0!==r._frameQueue.length){for(;r._frameQueue.length;){var t=r._frameQueue.pop();t.onInterrupt&&t.onInterrupt()}e.emit("plotly_animationinterrupted",[])}}function d(t){if(0!==t.length){for(var i=0;i<t.length;i++){var a;a="byname"===t[i].type?h.computeFrame(e,t[i].name):t[i].data;var f=u(i),d=s(i);d.duration=Math.min(d.duration,f.duration);var p={frame:a,name:t[i].name,frameOpts:f,transitionOpts:d};i===t.length-1&&(p.onComplete=l(o,2),p.onInterrupt=c),r._frameQueue.push(p)}"immediate"===n.mode&&(r._lastFrameAt=-1/0),r._animationRaf||y()}}function p(){e.emit("plotly_animated"),window.cancelAnimationFrame(r._animationRaf),r._animationRaf=null}function v(){r._currentFrame&&r._currentFrame.onComplete&&r._currentFrame.onComplete();var t=r._currentFrame=r._frameQueue.shift();if(t){var n=t.name?t.name.toString():null;e._fullLayout._currentFrame=n,r._lastFrameAt=Date.now(),r._timeToNext=t.frameOpts.duration,h.transition(e,t.frame.data,t.frame.layout,w.coerceTraceIndices(e,t.frame.traces),t.frameOpts,t.transitionOpts).then((function(){t.onComplete&&t.onComplete()})),e.emit("plotly_animatingframe",{name:n,frame:t.frame,animation:{frame:t.frameOpts,transition:t.transitionOpts}})}else p()}function y(){e.emit("plotly_animating"),r._lastFrameAt=-1/0,r._timeToNext=0,r._runningTransitions=0,r._currentFrame=null,function e(){r._animationRaf=window.requestAnimationFrame(e),Date.now()-r._lastFrameAt>r._timeToNext&&v()}()}var g,m,b=0;function _(e){return Array.isArray(i)?b>=i.length?e.transitionOpts=i[b]:e.transitionOpts=i[0]:e.transitionOpts=i,b++,e}var x=[],T=void 0===t||null===t,k=Array.isArray(t);if(T||k||!a.isPlainObject(t)){if(T||-1!==["string","number"].indexOf(typeof t))for(g=0;g<r._frames.length;g++)(m=r._frames[g])&&(T||String(m.group)===String(t))&&x.push({type:"byname",name:String(m.name),data:_({name:m.name})});else if(k)for(g=0;g<t.length;g++){var O=t[g];-1!==["number","string"].indexOf(typeof O)?(O=String(O),x.push({type:"byname",name:O,data:_({name:O})})):a.isPlainObject(O)&&x.push({type:"object",data:_(a.extendFlat({},O))})}}else x.push({type:"object",data:_(a.extendFlat({},t))});for(g=0;g<x.length;g++)if("byname"===(m=x[g]).type&&!r._frameHash[m.data.name])return a.warn('animate failure: frame not found: "'+m.data.name+'"'),void c();-1!==["next","immediate"].indexOf(n.mode)&&f(),"reverse"===n.direction&&x.reverse();var S=e._fullLayout._currentFrame;if(S&&n.fromcurrent){var A=-1;for(g=0;g<x.length;g++)if("byname"===(m=x[g]).type&&m.name===S){A=g;break}if(A>0&&A<x.length-1){var E=[];for(g=0;g<x.length;g++)m=x[g],("byname"!==x[g].type||g>A)&&E.push(m);x=E}}x.length>0?d(x):(e.emit("plotly_animated"),o())}))}function Oe(e,t,n){if(e=a.getGraphDiv(e),null===t||void 0===t)return Promise.resolve();if(!a.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var r,i,o,s,u=e._transitionData._frames,c=e._transitionData._frameHash;if(!Array.isArray(t))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+t);var f=u.length+2*t.length,d=[],p={};for(r=t.length-1;r>=0;r--)if(a.isPlainObject(t[r])){var v=t[r].name,y=(c[v]||p[v]||{}).name,g=t[r].name,m=c[y]||p[y];y&&g&&"number"===typeof g&&m&&O<S&&(O++,a.warn('addFrames: overwriting frame "'+(c[y]||p[y]).name+'" with a frame whose name of type "number" also equates to "'+y+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),O===S&&a.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),p[v]={name:v},d.push({frame:h.supplyFrameDefaults(t[r]),index:n&&void 0!==n[r]&&null!==n[r]?n[r]:f+r})}d.sort((function(e,t){return e.index>t.index?-1:e.index<t.index?1:0}));var b=[],_=[],w=u.length;for(r=d.length-1;r>=0;r--){if("number"===typeof(i=d[r].frame).name&&a.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!i.name)for(;c[i.name="frame "+e._transitionData._counter++];);if(c[i.name]){for(o=0;o<u.length&&(u[o]||{}).name!==i.name;o++);b.push({type:"replace",index:o,value:i}),_.unshift({type:"replace",index:o,value:u[o]})}else s=Math.max(0,Math.min(d[r].index,w)),b.push({type:"insert",index:s,value:i}),_.unshift({type:"delete",index:s}),w++}var x=h.modifyFrames,T=h.modifyFrames,k=[e,_],A=[e,b];return l&&l.add(e,x,k,T,A),h.modifyFrames(e,b)}function Se(e,t){if(e=a.getGraphDiv(e),!a.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);var n,r,i=e._transitionData._frames,o=[],s=[];if(!t)for(t=[],n=0;n<i.length;n++)t.push(n);for((t=t.slice()).sort(),n=t.length-1;n>=0;n--)r=t[n],o.push({type:"delete",index:r}),s.unshift({type:"insert",index:r,value:i[r]});var u=h.modifyFrames,c=h.modifyFrames,f=[e,s],d=[e,o];return l&&l.add(e,u,f,c,d),h.modifyFrames(e,o)}function Ae(e){var t=(e=a.getGraphDiv(e))._fullLayout||{},n=e._fullData||[];return h.cleanPlot([],{},n,t),h.purge(e),u.purge(e),t._container&&t._container.remove(),delete e._context,e}function Ee(e){var t=e._fullLayout,n=e.getBoundingClientRect();if(!a.equalDomRects(n,t._lastBBox)){var r=t._invTransform=a.inverseTransformMatrix(a.getFullTransformMatrix(e));t._invScaleX=Math.sqrt(r[0][0]*r[0][0]+r[0][1]*r[0][1]+r[0][2]*r[0][2]),t._invScaleY=Math.sqrt(r[1][0]*r[1][0]+r[1][1]*r[1][1]+r[1][2]*r[1][2]),t._lastBBox=n}}function Me(e){var t=r.select(e),n=e._fullLayout;if(n._calcInverseTransform=Ee,n._calcInverseTransform(e),n._container=t.selectAll(".plot-container").data([0]),n._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),n._paperdiv=n._container.selectAll(".svg-container").data([0]),n._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),n._glcontainer=n._paperdiv.selectAll(".gl-container").data([{}]),n._glcontainer.enter().append("div").classed("gl-container",!0),n._paperdiv.selectAll(".main-svg").remove(),n._paperdiv.select(".modebar-container").remove(),n._paper=n._paperdiv.insert("svg",":first-child").classed("main-svg",!0),n._toppaper=n._paperdiv.append("svg").classed("main-svg",!0),n._modebardiv=n._paperdiv.append("div"),delete n._modeBar,n._hoverpaper=n._paperdiv.append("svg").classed("main-svg",!0),!n._uid){var i={};r.selectAll("defs").each((function(){this.id&&(i[this.id.split("-")[1]]=1)})),n._uid=a.randstr(i)}n._paperdiv.selectAll(".main-svg").attr(g.svgAttrs),n._defs=n._paper.append("defs").attr("id","defs-"+n._uid),n._clips=n._defs.append("g").classed("clips",!0),n._topdefs=n._toppaper.append("defs").attr("id","topdefs-"+n._uid),n._topclips=n._topdefs.append("g").classed("clips",!0),n._bgLayer=n._paper.append("g").classed("bglayer",!0),n._draggers=n._paper.append("g").classed("draglayer",!0);var o=n._paper.append("g").classed("layer-below",!0);n._imageLowerLayer=o.append("g").classed("imagelayer",!0),n._shapeLowerLayer=o.append("g").classed("shapelayer",!0),n._cartesianlayer=n._paper.append("g").classed("cartesianlayer",!0),n._polarlayer=n._paper.append("g").classed("polarlayer",!0),n._ternarylayer=n._paper.append("g").classed("ternarylayer",!0),n._geolayer=n._paper.append("g").classed("geolayer",!0),n._funnelarealayer=n._paper.append("g").classed("funnelarealayer",!0),n._pielayer=n._paper.append("g").classed("pielayer",!0),n._iciclelayer=n._paper.append("g").classed("iciclelayer",!0),n._treemaplayer=n._paper.append("g").classed("treemaplayer",!0),n._sunburstlayer=n._paper.append("g").classed("sunburstlayer",!0),n._indicatorlayer=n._toppaper.append("g").classed("indicatorlayer",!0),n._glimages=n._paper.append("g").classed("glimages",!0);var s=n._toppaper.append("g").classed("layer-above",!0);n._imageUpperLayer=s.append("g").classed("imagelayer",!0),n._shapeUpperLayer=s.append("g").classed("shapelayer",!0),n._infolayer=n._toppaper.append("g").classed("infolayer",!0),n._menulayer=n._toppaper.append("g").classed("menulayer",!0),n._zoomlayer=n._toppaper.append("g").classed("zoomlayer",!0),n._hoverlayer=n._hoverpaper.append("g").classed("hoverlayer",!0),n._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),e.emit("plotly_framework")}n.animate=ke,n.addFrames=Oe,n.deleteFrames=Se,n.addTraces=W,n.deleteTraces=Y,n.extendTraces=B,n.moveTraces=G,n.prependTraces=H,n.newPlot=N,n._doPlot=A,n.purge=Ae,n.react=be,n.redraw=P,n.relayout=te,n.restyle=K,n.setPlotConfig=M,n.update=le,n._guiRelayout=ce(te),n._guiRestyle=ce(K),n._guiUpdate=ce(le),n._storeDirectGUIEdit=$},{"../components/color":100,"../components/drawing":122,"../constants/xmlns_namespaces":211,"../lib":230,"../lib/events":223,"../lib/queue":245,"../plots/cartesian/axes":276,"../plots/cartesian/constants":283,"../plots/cartesian/graph_interact":286,"../plots/cartesian/select":296,"../plots/plots":311,"../registry":313,"./edit_types":258,"./helpers":259,"./manage_arrays":261,"./plot_config":263,"./plot_schema":264,"./subroutines":266,"@plotly/d3":11,"fast-isnumeric":15,"has-hover":46}],263:[function(e,t,n){"use strict";var r={staticPlot:{valType:"boolean",dflt:!1},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},i={};function o(e,t){for(var n in e){var r=e[n];r.valType?t[n]=r.dflt:(t[n]||(t[n]={}),o(r,t[n]))}}o(r,i),t.exports={configAttributes:r,dfltConfig:i}},{}],264:[function(e,t,n){"use strict";var r=e("../registry"),i=e("../lib"),o=e("../plots/attributes"),a=e("../plots/layout_attributes"),s=e("../plots/frame_attributes"),u=e("../plots/animation_attributes"),l=e("./plot_config").configAttributes,c=e("./edit_types"),f=i.extendDeepAll,h=i.isPlainObject,d=i.isArrayOrTypedArray,p=i.nestedProperty,v=i.valObjectMeta,y="_isSubplotObj",g="_isLinkedToArray",m="_deprecated",b=[y,g,"_arrayAttrRegexps",m];function _(e,t){var n,i,o,s,u=e._basePlotModules;if(u){var l;for(n=0;n<u.length;n++){if((o=u[n]).attrRegex&&o.attrRegex.test(t)){if(o.layoutAttrOverrides)return o.layoutAttrOverrides;!l&&o.layoutAttributes&&(l=o.layoutAttributes)}var c=o.baseLayoutAttrOverrides;if(c&&t in c)return c[t]}if(l)return l}var f=e._modules;if(f)for(n=0;n<f.length;n++)if((s=f[n].layoutAttributes)&&t in s)return s[t];for(i in r.componentsRegistry){if("colorscale"===(o=r.componentsRegistry[i]).name&&0===t.indexOf("coloraxis"))return o.layoutAttributes[t];if(!o.schema&&t===o.name)return o.layoutAttributes}return t in a&&a[t]}function w(e,t,n){if(!e)return!1;if(e._isLinkedToArray)if(x(t[n]))n++;else if(n<t.length)return!1;for(;n<t.length;n++){var r=e[t[n]];if(!h(r))break;if(e=r,n===t.length-1)break;if(e._isLinkedToArray){if(!x(t[++n]))return!1}else if("info_array"===e.valType){var i=t[++n];if(!x(i))return!1;var o=e.items;if(Array.isArray(o)){if(i>=o.length)return!1;if(2===e.dimensions){if(n++,t.length===n)return e;var a=t[n];if(!x(a))return!1;e=o[i][a]}else e=o[i]}else e=o}}return e}function x(e){return e===Math.round(e)&&e>=0}function T(e){var t,i;i=(t=r.modules[e]._module).basePlotModule;var a={type:null},s=f({},o),u=f({},t.attributes);n.crawl(u,(function(e,t,n,r,i){p(s,i).set(void 0),void 0===e&&p(u,i).set(void 0)})),f(a,s),r.traceIs(e,"noOpacity")&&delete a.opacity,r.traceIs(e,"showLegend")||(delete a.showlegend,delete a.legendgroup),r.traceIs(e,"noHover")&&(delete a.hoverinfo,delete a.hoverlabel),t.selectPoints||delete a.selectedpoints,f(a,u),i.attributes&&f(a,i.attributes),a.type=e;var l={meta:t.meta||{},categories:t.categories||{},animatable:Boolean(t.animatable),type:e,attributes:A(a)};if(t.layoutAttributes){var c={};f(c,t.layoutAttributes),l.layoutAttributes=A(c)}return t.animatable||n.crawl(l,(function(e){n.isValObject(e)&&"anim"in e&&delete e.anim})),l}function k(){var e,t,n={};for(e in f(n,a),r.subplotsRegistry)if((t=r.subplotsRegistry[e]).layoutAttributes)if(Array.isArray(t.attr))for(var i=0;i<t.attr.length;i++)I(n,t,t.attr[i]);else I(n,t,"subplot"===t.attr?t.name:t.attr);for(e in r.componentsRegistry){var o=(t=r.componentsRegistry[e]).schema;if(o&&(o.subplots||o.layout)){var s=o.subplots;if(s&&s.xaxis&&!s.yaxis)for(var u in s.xaxis)delete n.yaxis[u]}else"colorscale"===t.name?f(n,t.layoutAttributes):t.layoutAttributes&&D(n,t.layoutAttributes,t.name)}return{layoutAttributes:A(n)}}function O(e){var t=r.transformsRegistry[e],n=f({},t.attributes);return Object.keys(r.componentsRegistry).forEach((function(t){var i=r.componentsRegistry[t];i.schema&&i.schema.transforms&&i.schema.transforms[e]&&Object.keys(i.schema.transforms[e]).forEach((function(t){D(n,i.schema.transforms[e][t],t)}))})),{attributes:A(n)}}function S(){var e={frames:f({},s)};return A(e),e.frames}function A(e){return E(e),M(e),C(e),e}function E(e){function t(e){return{valType:"string",editType:"none"}}function r(e,r,i){n.isValObject(e)?!0!==e.arrayOk&&"data_array"!==e.valType||(i[r+"src"]=t(r)):h(e)&&(e.role="object")}n.crawl(e,r)}function M(e){function t(e,t,n){if(e){var r=e[g];r&&(delete e[g],n[t]={items:{}},n[t].items[r]=e,n[t].role="object")}}n.crawl(e,t)}function C(e){function t(e){for(var n in e)if(h(e[n]))t(e[n]);else if(Array.isArray(e[n]))for(var r=0;r<e[n].length;r++)t(e[n][r]);else e[n]instanceof RegExp&&(e[n]=e[n].toString())}t(e)}function I(e,t,n){var r=p(e,n),i=f({},t.layoutAttributes);i[y]=!0,r.set(i)}function D(e,t,n){var r=p(e,n);r.set(f(r.get()||{},t))}n.IS_SUBPLOT_OBJ=y,n.IS_LINKED_TO_ARRAY=g,n.DEPRECATED=m,n.UNDERSCORE_ATTRS=b,n.get=function(){var e={};r.allTypes.forEach((function(t){e[t]=T(t)}));var t={};return Object.keys(r.transformsRegistry).forEach((function(e){t[e]=O(e)})),{defs:{valObjects:v,metaKeys:b.concat(["description","role","editType","impliedEdits"]),editType:{traces:c.traces,layout:c.layout},impliedEdits:{}},traces:e,layout:k(),transforms:t,frames:S(),animation:A(u),config:A(l)}},n.crawl=function(e,t,r,i){var o=r||0;i=i||"",Object.keys(e).forEach((function(r){var a=e[r];if(-1===b.indexOf(r)){var s=(i?i+".":"")+r;t(a,r,e,o,s),n.isValObject(a)||h(a)&&"impliedEdits"!==r&&n.crawl(a,t,o+1,s)}}))},n.isValObject=function(e){return e&&void 0!==e.valType},n.findArrayAttributes=function(e){var t,r,i=[],a=[],s=[];function u(e,n,r,i){a=a.slice(0,i).concat([n]),s=s.slice(0,i).concat([e&&e._isLinkedToArray]),e&&("data_array"===e.valType||!0===e.arrayOk)&&("colorbar"!==a[i-1]||"ticktext"!==n&&"tickvals"!==n)&&l(t,0,"")}function l(e,t,n){var o=e[a[t]],u=n+a[t];if(t===a.length-1)d(o)&&i.push(r+u);else if(s[t]){if(Array.isArray(o))for(var c=0;c<o.length;c++)h(o[c])&&l(o[c],t+1,u+"["+c+"].")}else h(o)&&l(o,t+1,u+".")}t=e,r="",n.crawl(o,u),e._module&&e._module.attributes&&n.crawl(e._module.attributes,u);var c=e.transforms;if(c)for(var f=0;f<c.length;f++){var p=c[f],v=p._module;v&&(r="transforms["+f+"].",t=p,n.crawl(v.attributes,u))}return i},n.getTraceValObject=function(e,t){var n,i,a=t[0],s=1;if("transforms"===a){if(1===t.length)return o.transforms;var u=e.transforms;if(!Array.isArray(u)||!u.length)return!1;var l=t[1];if(!x(l)||l>=u.length)return!1;i=(n=(r.transformsRegistry[u[l].type]||{}).attributes)&&n[t[2]],s=3}else{var c=e._module;if(c||(c=(r.modules[e.type||o.type.dflt]||{})._module),!c)return!1;if(!(i=(n=c.attributes)&&n[a])){var f=c.basePlotModule;f&&f.attributes&&(i=f.attributes[a])}i||(i=o[a])}return w(i,t,s)},n.getLayoutValObject=function(e,t){return w(_(e,t[0]),t,1)}},{"../lib":230,"../plots/animation_attributes":270,"../plots/attributes":272,"../plots/frame_attributes":306,"../plots/layout_attributes":309,"../registry":313,"./edit_types":258,"./plot_config":263}],265:[function(e,t,n){"use strict";var r=e("../lib"),i=e("../plots/attributes"),o="templateitemname",a={name:{valType:"string",editType:"none"}};function s(e){return e&&"string"===typeof e}function u(e){var t=e.length-1;return"s"!==e.charAt(t)&&r.warn("bad argument to arrayDefaultKey: "+e),e.substr(0,e.length-1)+"defaults"}a[o]={valType:"string",editType:"calc"},n.templatedArray=function(e,t){return t._isLinkedToArray=e,t.name=a.name,t[o]=a[o],t},n.traceTemplater=function(e){var t,n,o={};for(t in e)n=e[t],Array.isArray(n)&&n.length&&(o[t]=0);function a(a){var s={type:t=r.coerce(a,{},i,"type"),_template:null};if(t in o){n=e[t];var u=o[t]%n.length;o[t]++,s._template=n[u]}return s}return{newTrace:a}},n.newContainer=function(e,t,n){var i=e._template,o=i&&(i[t]||n&&i[n]);return r.isPlainObject(o)||(o=null),e[t]={_template:o}},n.arrayTemplater=function(e,t,n){var r=e._template,i=r&&r[u(t)],a=r&&r[t];Array.isArray(a)&&a.length||(a=[]);var l={};function c(e){var t={name:e.name,_input:e},r=t[o]=e[o];if(!s(r))return t._template=i,t;for(var u=0;u<a.length;u++){var c=a[u];if(c.name===r)return l[r]=1,t._template=c,t}return t[n]=e[n]||!1,t._template=!1,t}function f(){for(var e=[],t=0;t<a.length;t++){var n=a[t],r=n.name;if(s(r)&&!l[r]){var i={_template:n,name:r,_input:{_templateitemname:r}};i[o]=n[o],e.push(i),l[r]=1}}return e}return{newItem:c,defaultItems:f}},n.arrayDefaultKey=u,n.arrayEditor=function(e,t,n){var i=(r.nestedProperty(e,t).get()||[]).length,a=n._index,s=a>=i&&(n._input||{})._templateitemname;s&&(a=i);var u,l=t+"["+a+"]";function c(){u={},s&&(u[l]={},u[l][o]=s)}function f(e,t){u[e]=t}function h(e,t){s?r.nestedProperty(u[l],e).set(t):u[l+"."+e]=t}function d(){var e=u;return c(),e}function p(t,n){t&&h(t,n);var i=d();for(var o in i)r.nestedProperty(e,o).set(i[o])}return c(),{modifyBase:f,modifyItem:h,getUpdateObj:d,applyUpdate:p}}},{"../lib":230,"../plots/attributes":272}],266:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../registry"),o=e("../plots/plots"),a=e("../lib"),s=e("../lib/clear_gl_canvases"),u=e("../components/color"),l=e("../components/drawing"),c=e("../components/titles"),f=e("../components/modebar"),h=e("../plots/cartesian/axes"),d=e("../constants/alignment"),p=e("../plots/cartesian/constraints"),v=p.enforce,y=p.clean,g=e("../plots/cartesian/autorange").doAutoRange,m="start",b="middle",_="end";function w(e,t,n){for(var r=0;r<n.length;r++){var i=n[r][0],o=n[r][1];if(!(i[0]>=e[1]||i[1]<=e[0])&&o[0]<t[1]&&o[1]>t[0])return!0}return!1}function x(e){var t,i,s,c,p,v,y=e._fullLayout,g=y._size,m=g.p,b=h.list(e,"",!0);if(y._paperdiv.style({width:e._context.responsive&&y.autosize&&!e._context._hasZeroWidth&&!e.layout.width?"100%":y.width+"px",height:e._context.responsive&&y.autosize&&!e._context._hasZeroHeight&&!e.layout.height?"100%":y.height+"px"}).selectAll(".main-svg").call(l.setSize,y.width,y.height),e._context.setBackground(e,y.paper_bgcolor),n.drawMainTitle(e),f.manage(e),!y._has("cartesian"))return o.previousPromises(e);function _(e,t,n){var r=e._lw/2;return"x"===e._id.charAt(0)?t?"top"===n?t._offset-m-r:t._offset+t._length+m+r:g.t+g.h*(1-(e.position||0))+r%1:t?"right"===n?t._offset+t._length+m+r:t._offset-m-r:g.l+g.w*(e.position||0)+r%1}for(t=0;t<b.length;t++){var x=(c=b[t])._anchorAxis;c._linepositions={},c._lw=l.crispRound(e,c.linewidth,1),c._mainLinePosition=_(c,x,c.side),c._mainMirrorPosition=c.mirror&&x?_(c,x,d.OPPOSITE_SIDE[c.side]):null}var k=[],S=[],A=[],E=1===u.opacity(y.paper_bgcolor)&&1===u.opacity(y.plot_bgcolor)&&y.paper_bgcolor===y.plot_bgcolor;for(i in y._plots)if((s=y._plots[i]).mainplot)s.bg&&s.bg.remove(),s.bg=void 0;else{var M=s.xaxis.domain,C=s.yaxis.domain,I=s.plotgroup;if(w(M,C,A)){var D=I.node(),P=s.bg=a.ensureSingle(I,"rect","bg");D.insertBefore(P.node(),D.childNodes[0]),S.push(i)}else I.select("rect.bg").remove(),A.push([M,C]),E||(k.push(i),S.push(i))}var N,L,j,R,F,z,U,q,V,B,H,W,Y,G=y._bgLayer.selectAll(".bg").data(k);for(G.enter().append("rect").classed("bg",!0),G.exit().remove(),G.each((function(e){y._plots[e].bg=r.select(this)})),t=0;t<S.length;t++)s=y._plots[S[t]],p=s.xaxis,v=s.yaxis,s.bg&&void 0!==p._offset&&void 0!==v._offset&&s.bg.call(l.setRect,p._offset-m,v._offset-m,p._length+2*m,v._length+2*m).call(u.fill,y.plot_bgcolor).style("stroke-width",0);if(!y._hasOnlyLargeSploms)for(i in y._plots){s=y._plots[i],p=s.xaxis,v=s.yaxis;var K,X,Q=s.clipId="clip"+y._uid+i+"plot",J=a.ensureSingleById(y._clips,"clipPath",Q,(function(e){e.classed("plotclip",!0).append("rect")}));s.clipRect=J.select("rect").attr({width:p._length,height:v._length}),l.setTranslate(s.plot,p._offset,v._offset),s._hasClipOnAxisFalse?(K=null,X=Q):(K=Q,X=null),l.setClipUrl(s.plot,K,e),s.layerClipId=X}function $(e){return"M"+N+","+e+"H"+L}function Z(e){return"M"+p._offset+","+e+"h"+p._length}function ee(e){return"M"+e+","+q+"V"+U}function te(e){return"M"+e+","+v._offset+"v"+v._length}function ne(e,t,n){if(!e.showline||i!==e._mainSubplot)return"";if(!e._anchorAxis)return n(e._mainLinePosition);var r=t(e._mainLinePosition);return e.mirror&&(r+=t(e._mainMirrorPosition)),r}for(i in y._plots){s=y._plots[i],p=s.xaxis,v=s.yaxis;var re="M0,0";T(p,i)&&(F=O(p,"left",v,b),N=p._offset-(F?m+F:0),z=O(p,"right",v,b),L=p._offset+p._length+(z?m+z:0),j=_(p,v,"bottom"),R=_(p,v,"top"),!(Y=!p._anchorAxis||i!==p._mainSubplot)||"allticks"!==p.mirror&&"all"!==p.mirror||(p._linepositions[i]=[j,R]),re=ne(p,$,Z),Y&&p.showline&&("all"===p.mirror||"allticks"===p.mirror)&&(re+=$(j)+$(R)),s.xlines.style("stroke-width",p._lw+"px").call(u.stroke,p.showline?p.linecolor:"rgba(0,0,0,0)")),s.xlines.attr("d",re);var ie="M0,0";T(v,i)&&(H=O(v,"bottom",p,b),U=v._offset+v._length+(H?m:0),W=O(v,"top",p,b),q=v._offset-(W?m:0),V=_(v,p,"left"),B=_(v,p,"right"),!(Y=!v._anchorAxis||i!==v._mainSubplot)||"allticks"!==v.mirror&&"all"!==v.mirror||(v._linepositions[i]=[V,B]),ie=ne(v,ee,te),Y&&v.showline&&("all"===v.mirror||"allticks"===v.mirror)&&(ie+=ee(V)+ee(B)),s.ylines.style("stroke-width",v._lw+"px").call(u.stroke,v.showline?v.linecolor:"rgba(0,0,0,0)")),s.ylines.attr("d",ie)}return h.makeClipPaths(e),o.previousPromises(e)}function T(e,t){return(e.ticks||e.showline)&&(t===e._mainSubplot||"all"===e.mirror||"allticks"===e.mirror)}function k(e,t,n){if(!n.showline||!n._lw)return!1;if("all"===n.mirror||"allticks"===n.mirror)return!0;var r=n._anchorAxis;if(!r)return!1;var i=d.FROM_BL[t];return n.side===t?r.domain[i]===e.domain[i]:n.mirror&&r.domain[1-i]===e.domain[1-i]}function O(e,t,n,r){if(k(e,t,n))return n._lw;for(var i=0;i<r.length;i++){var o=r[i];if(o._mainAxis===n._mainAxis&&k(e,t,o))return o._lw}return 0}function S(e,t){var n=e.title,r=e._size,i=0;switch(t===m?i=n.pad.l:t===_&&(i=-n.pad.r),n.xref){case"paper":return r.l+r.w*n.x+i;case"container":default:return e.width*n.x+i}}function A(e,t){var n=e.title,r=e._size,i=0;if("0em"!==t&&t?t===d.CAP_SHIFT+"em"&&(i=n.pad.t):i=-n.pad.b,"auto"===n.y)return r.t/2;switch(n.yref){case"paper":return r.t+r.h-r.h*n.y+i;case"container":default:return e.height-e.height*n.y+i}}function E(e){var t=e.title,n=b;return a.isRightAnchor(t)?n=_:a.isLeftAnchor(t)&&(n=m),n}function M(e){var t=e.title,n="0em";return a.isTopAnchor(t)?n=d.CAP_SHIFT+"em":a.isMiddleAnchor(t)&&(n=d.MID_SHIFT+"em"),n}n.layoutStyles=function(e){return a.syncOrAsync([o.doAutoMargin,x],e)},n.drawMainTitle=function(e){var t=e._fullLayout,n=E(t),r=M(t);c.draw(e,"gtitle",{propContainer:t,propName:"title.text",placeholder:t._dfltTitle.plot,attributes:{x:S(t,n),y:A(t,r),"text-anchor":n,dy:r}})},n.doTraceStyle=function(e){var t,r=e.calcdata,a=[];for(t=0;t<r.length;t++){var u=r[t],l=u[0]||{},c=l.trace||{},f=c._module||{},h=f.arraysToCalcdata;h&&h(u,c);var d=f.editStyle;d&&a.push({fn:d,cd0:l})}if(a.length){for(t=0;t<a.length;t++){var p=a[t];p.fn(e,p.cd0)}s(e),n.redrawReglTraces(e)}return o.style(e),i.getComponentMethod("legend","draw")(e),o.previousPromises(e)},n.doColorBars=function(e){return i.getComponentMethod("colorbar","draw")(e),o.previousPromises(e)},n.layoutReplot=function(e){var t=e.layout;return e.layout=void 0,i.call("_doPlot",e,"",t)},n.doLegend=function(e){return i.getComponentMethod("legend","draw")(e),o.previousPromises(e)},n.doTicksRelayout=function(e){return h.draw(e,"redraw"),e._fullLayout._hasOnlyLargeSploms&&(i.subplotsRegistry.splom.updateGrid(e),s(e),n.redrawReglTraces(e)),n.drawMainTitle(e),o.previousPromises(e)},n.doModeBar=function(e){var t=e._fullLayout;f.manage(e);for(var n=0;n<t._basePlotModules.length;n++){var r=t._basePlotModules[n].updateFx;r&&r(e)}return o.previousPromises(e)},n.doCamera=function(e){for(var t=e._fullLayout,n=t._subplots.gl3d,r=0;r<n.length;r++){var i=t[n[r]];i._scene.setViewport(i)}},n.drawData=function(e){var t=e._fullLayout;s(e);for(var r=t._basePlotModules,a=0;a<r.length;a++)r[a].plot(e);return n.redrawReglTraces(e),o.style(e),i.getComponentMethod("shapes","draw")(e),i.getComponentMethod("annotations","draw")(e),i.getComponentMethod("images","draw")(e),t._replotting=!1,o.previousPromises(e)},n.redrawReglTraces=function(e){var t=e._fullLayout;if(t._has("regl")){var n,r,i=e._fullData,o=[],s=[];for(t._hasOnlyLargeSploms&&t._splomGrid.draw(),n=0;n<i.length;n++){var u=i[n];!0===u.visible&&0!==u._length&&("splom"===u.type?t._splomScenes[u.uid].draw():"scattergl"===u.type?a.pushUnique(o,u.xaxis+u.yaxis):"scatterpolargl"===u.type&&a.pushUnique(s,u.subplot))}for(n=0;n<o.length;n++)(r=t._plots[o[n]])._scene&&r._scene.draw();for(n=0;n<s.length;n++)(r=t[s[n]]._subplot)._scene&&r._scene.draw()}},n.doAutoRangeAndConstraints=function(e){for(var t,n=h.list(e,"",!0),r={},i=0;i<n.length;i++)if(!r[(t=n[i])._id]){r[t._id]=1,y(e,t),g(e,t);var o=t._matchGroup;if(o)for(var a in o){var s=h.getFromId(e,a);g(e,s,t.range),r[a]=1}}v(e)},n.finalDraw=function(e){i.getComponentMethod("rangeslider","draw")(e),i.getComponentMethod("rangeselector","draw")(e)},n.drawMarginPushers=function(e){i.getComponentMethod("legend","draw")(e),i.getComponentMethod("rangeselector","draw")(e),i.getComponentMethod("sliders","draw")(e),i.getComponentMethod("updatemenus","draw")(e),i.getComponentMethod("colorbar","draw")(e)}},{"../components/color":100,"../components/drawing":122,"../components/modebar":163,"../components/titles":198,"../constants/alignment":205,"../lib":230,"../lib/clear_gl_canvases":218,"../plots/cartesian/autorange":275,"../plots/cartesian/axes":276,"../plots/cartesian/constraints":284,"../plots/plots":311,"../registry":313,"@plotly/d3":11}],267:[function(e,t,n){"use strict";var r=e("../lib"),i=r.isPlainObject,o=e("./plot_schema"),a=e("../plots/plots"),s=e("../plots/attributes"),u=e("./plot_template"),l=e("./plot_config").dfltConfig;function c(e,t){e=r.extendDeep({},e);var n,o,a=Object.keys(e).sort();function s(t,n,r){if(i(n)&&i(t))c(t,n);else if(Array.isArray(n)&&Array.isArray(t)){var a=u.arrayTemplater({_template:e},r);for(o=0;o<n.length;o++){var s=n[o],l=a.newItem(s)._template;l&&c(l,s)}var f=a.defaultItems();for(o=0;o<f.length;o++)n.push(f[o]._template);for(o=0;o<n.length;o++)delete n[o].templateitemname}}for(n=0;n<a.length;n++){var l=a[n],h=e[l];if(l in t?s(h,t[l],l):t[l]=h,f(l)===l)for(var d in t){var p=f(d);d===p||p!==l||d in e||s(h,t[d],l)}}}function f(e){return e.replace(/[0-9]+$/,"")}function h(e,t,n,o,a){var s=a&&n(a);for(var l in e){var c=e[l],d=v(e,l,o),p=v(e,l,a),y=n(p);if(!y){var g=f(l);g!==l&&(y=n(p=v(e,g,a)))}if((!s||s!==y)&&!(!y||y._noTemplating||"data_array"===y.valType||y.arrayOk&&Array.isArray(c)))if(!y.valType&&i(c))h(c,t,n,d,p);else if(y._isLinkedToArray&&Array.isArray(c))for(var m=!1,b=0,_={},w=0;w<c.length;w++){var x=c[w];if(i(x)){var T=x.name;if(T)_[T]||(h(x,t,n,v(c,b,d),v(c,b,p)),b++,_[T]=1);else if(!m){var k=v(e,u.arrayDefaultKey(l),o),O=v(c,b,d);h(x,t,n,O,v(c,b,p));var S=r.nestedProperty(t,O);r.nestedProperty(t,k).set(S.get()),S.set(null),m=!0}}}else r.nestedProperty(t,d).set(c)}}function d(e,t){return o.getLayoutValObject(e,r.nestedProperty({},t).parts)}function p(e,t){return o.getTraceValObject(e,r.nestedProperty({},t).parts)}function v(e,t,n){return n?Array.isArray(e)?n+"["+t+"]":n+"."+t:t}function y(e){for(var t=0;t<e.length;t++)if(i(e[t]))return!0}function g(e){var t;switch(e.code){case"data":t="The template has no key data.";break;case"layout":t="The template has no key layout.";break;case"missing":t=e.path?"There are no templates for item "+e.path+" with name "+e.templateitemname:"There are no templates for trace "+e.index+", of type "+e.traceType+".";break;case"unused":t=e.path?"The template item at "+e.path+" was not used in constructing the plot.":e.dataCount?"Some of the templates of type "+e.traceType+" were not used. The template has "+e.templateCount+" traces, the data only has "+e.dataCount+" of this type.":"The template has "+e.templateCount+" traces of type "+e.traceType+" but there are none in the data.";break;case"reused":t="Some of the templates of type "+e.traceType+" were used more than once. The template has "+e.templateCount+" traces, the data has "+e.dataCount+" of this type."}return e.msg=t,e}n.makeTemplate=function(e){e=r.isPlainObject(e)?e:r.getGraphDiv(e),e=r.extendDeep({_context:l},{data:e.data,layout:e.layout}),a.supplyDefaults(e);var t=e.data||[],n=e.layout||{};n._basePlotModules=e._fullLayout._basePlotModules,n._modules=e._fullLayout._modules;var o={data:{},layout:{}};t.forEach((function(e){var t={};h(e,t,p.bind(null,e));var n=r.coerce(e,{},s,"type"),i=o.data[n];i||(i=o.data[n]=[]),i.push(t)})),h(n,o.layout,d.bind(null,n)),delete o.layout.template;var u=n.template;if(i(u)){var f,v,y,g,m,b,_=u.layout;i(_)&&c(_,o.layout);var w=u.data;if(i(w)){for(v in o.data)if(y=w[v],Array.isArray(y)){for(b=(m=o.data[v]).length,g=y.length,f=0;f<b;f++)c(y[f%g],m[f]);for(f=b;f<g;f++)m.push(r.extendDeep({},y[f]))}for(v in w)v in o.data||(o.data[v]=r.extendDeep([],w[v]))}}return o},n.validateTemplate=function(e,t){var n=r.extendDeep({},{_context:l,data:e.data,layout:e.layout}),o=n.layout||{};i(t)||(t=o.template||{});var s=t.layout,u=t.data,c=[];n.layout=o,n.layout.template=t,a.supplyDefaults(n);var h=n._fullLayout,d=n._fullData,p={};function m(e,t){for(var n in e)if("_"!==n.charAt(0)&&i(e[n])){var r,o=f(n),a=[];for(r=0;r<t.length;r++)a.push(v(e,n,t[r])),o!==n&&a.push(v(e,o,t[r]));for(r=0;r<a.length;r++)p[a[r]]=1;m(e[n],a)}}function b(e,t){for(var n in e)if(-1===n.indexOf("defaults")&&i(e[n])){var r=v(e,n,t);p[r]?b(e[n],r):c.push({code:"unused",path:r})}}if(i(s)?(m(h,["layout"]),b(s,"layout")):c.push({code:"layout"}),i(u)){for(var _,w={},x=0;x<d.length;x++){var T=d[x];w[_=T.type]=(w[_]||0)+1,T._fullInput._template||c.push({code:"missing",index:T._fullInput.index,traceType:_})}for(_ in u){var k=u[_].length,O=w[_]||0;k>O?c.push({code:"unused",traceType:_,templateCount:k,dataCount:O}):O>k&&c.push({code:"reused",traceType:_,templateCount:k,dataCount:O})}}else c.push({code:"data"});function S(e,t){for(var n in e)if("_"!==n.charAt(0)){var r=e[n],o=v(e,n,t);i(r)?(Array.isArray(e)&&!1===r._template&&r.templateitemname&&c.push({code:"missing",path:o,templateitemname:r.templateitemname}),S(r,o)):Array.isArray(r)&&y(r)&&S(r,o)}}if(S({data:d,layout:h},""),c.length)return c.map(g)}},{"../lib":230,"../plots/attributes":272,"../plots/plots":311,"./plot_config":263,"./plot_schema":264,"./plot_template":265}],268:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("./plot_api"),o=e("../plots/plots"),a=e("../lib"),s=e("../snapshot/helpers"),u=e("../snapshot/tosvg"),l=e("../snapshot/svgtoimg"),c=e("../version").version,f={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function h(e,t){var n,h,d,p;function v(e){return!(e in t)||a.validate(t[e],f[e])}if(t=t||{},a.isPlainObject(e)?(n=e.data||[],h=e.layout||{},d=e.config||{},p={}):(e=a.getGraphDiv(e),n=a.extendDeep([],e.data),h=a.extendDeep({},e.layout),d=e._context,p=e._fullLayout||{}),!v("width")&&null!==t.width||!v("height")&&null!==t.height)throw new Error("Height and width should be pixel values.");if(!v("format"))throw new Error("Export format is not "+a.join2(f.format.values,", "," or ")+".");var y={};function g(e,n){return a.coerce(t,y,f,e,n)}var m=g("format"),b=g("width"),_=g("height"),w=g("scale"),x=g("setBackground"),T=g("imageDataOnly"),k=document.createElement("div");k.style.position="absolute",k.style.left="-5000px",document.body.appendChild(k);var O=a.extendFlat({},h);b?O.width=b:null===t.width&&r(p.width)&&(O.width=p.width),_?O.height=_:null===t.height&&r(p.height)&&(O.height=p.height);var S=a.extendFlat({},d,{_exportedPlot:!0,staticPlot:!0,setBackground:x}),A=s.getRedrawFunc(k);function E(){return new Promise((function(e){setTimeout(e,s.getDelay(k._fullLayout))}))}function M(){return new Promise((function(e,t){var n=u(k,m,w),r=k._fullLayout.width,f=k._fullLayout.height;function h(){i.purge(k),document.body.removeChild(k)}if("full-json"===m){var d=o.graphJson(k,!1,"keepdata","object",!0,!0);return d.version=c,d=JSON.stringify(d),h(),e(T?d:s.encodeJSON(d))}if(h(),"svg"===m)return e(T?n:s.encodeSVG(n));var p=document.createElement("canvas");p.id=a.randstr(),l({format:m,width:r,height:f,scale:w,canvas:p,svg:n,promise:!0}).then(e).catch(t)}))}function C(e){return T?e.replace(s.IMAGE_URL_PREFIX,""):e}return new Promise((function(e,t){i.newPlot(k,n,O,S).then(A).then(E).then(M).then((function(t){e(C(t))})).catch((function(e){t(e)}))}))}t.exports=h},{"../lib":230,"../plots/plots":311,"../snapshot/helpers":317,"../snapshot/svgtoimg":319,"../snapshot/tosvg":321,"../version":386,"./plot_api":262,"fast-isnumeric":15}],269:[function(e,t,n){"use strict";var r=e("../lib"),i=e("../plots/plots"),o=e("./plot_schema"),a=e("./plot_config").dfltConfig,s=r.isPlainObject,u=Array.isArray,l=r.isArrayOrTypedArray;function c(e,t,n,i,o,a){a=a||[];for(var f=Object.keys(e),h=0;h<f.length;h++){var d=f[h];if("transforms"!==d){var g=a.slice();g.push(d);var m=e[d],b=t[d],_=y(n,d),w=(_||{}).valType,x="info_array"===w,T="colorscale"===w,k=(_||{}).items;if(v(n,d))if(s(m)&&s(b)&&"any"!==w)c(m,b,_,i,o,g);else if(x&&u(m)){m.length>b.length&&i.push(p("unused",o,g.concat(b.length)));var O,S,A,E,M,C=b.length,I=Array.isArray(k);if(I&&(C=Math.min(C,k.length)),2===_.dimensions)for(S=0;S<C;S++)if(u(m[S])){m[S].length>b[S].length&&i.push(p("unused",o,g.concat(S,b[S].length)));var D=b[S].length;for(O=0;O<(I?Math.min(D,k[S].length):D);O++)A=I?k[S][O]:k,E=m[S][O],M=b[S][O],r.validate(E,A)?M!==E&&M!==+E&&i.push(p("dynamic",o,g.concat(S,O),E,M)):i.push(p("value",o,g.concat(S,O),E))}else i.push(p("array",o,g.concat(S),m[S]));else for(S=0;S<C;S++)A=I?k[S]:k,E=m[S],M=b[S],r.validate(E,A)?M!==E&&M!==+E&&i.push(p("dynamic",o,g.concat(S),E,M)):i.push(p("value",o,g.concat(S),E))}else if(_.items&&!x&&u(m)){var P,N,L=k[Object.keys(k)[0]],j=[];for(P=0;P<b.length;P++){var R=b[P]._index||P;if((N=g.slice()).push(R),s(m[R])&&s(b[P])){j.push(R);var F=m[R],z=b[P];s(F)&&!1!==F.visible&&!1===z.visible?i.push(p("invisible",o,N)):c(F,z,L,i,o,N)}}for(P=0;P<m.length;P++)(N=g.slice()).push(P),s(m[P])?-1===j.indexOf(P)&&i.push(p("unused",o,N)):i.push(p("object",o,N,m[P]))}else!s(m)&&s(b)?i.push(p("object",o,g,m)):l(m)||!l(b)||x||T?d in t?r.validate(m,_)?"enumerated"===_.valType&&(_.coerceNumber&&m!==+b||m!==b)&&i.push(p("dynamic",o,g,m,b)):i.push(p("value",o,g,m)):i.push(p("unused",o,g,m)):i.push(p("array",o,g,m));else i.push(p("schema",o,g))}}return i}function f(e,t){for(var n=e.layout.layoutAttributes,i=0;i<t.length;i++){var o=t[i],a=e.traces[o.type],s=a.layoutAttributes;s&&(o.subplot?r.extendFlat(n[a.attributes.subplot.dflt],s):r.extendFlat(n,s))}return n}t.exports=function(e,t){void 0===e&&(e=[]),void 0===t&&(t={});var n,l,h=o.get(),d=[],v={_context:r.extendFlat({},a)};u(e)?(v.data=r.extendDeep([],e),n=e):(v.data=[],n=[],d.push(p("array","data"))),s(t)?(v.layout=r.extendDeep({},t),l=t):(v.layout={},l={},arguments.length>1&&d.push(p("object","layout"))),i.supplyDefaults(v);for(var y=v._fullData,g=n.length,m=0;m<g;m++){var b=n[m],_=["data",m];if(s(b)){var w=y[m],x=w.type,T=h.traces[x].attributes;T.type={valType:"enumerated",values:[x]},!1===w.visible&&!1!==b.visible&&d.push(p("invisible",_)),c(b,w,T,d,_);var k=b.transforms,O=w.transforms;if(k){u(k)||d.push(p("array",_,["transforms"])),_.push("transforms");for(var S=0;S<k.length;S++){var A=["transforms",S],E=k[S].type;if(s(k[S])){var M=h.transforms[E]?h.transforms[E].attributes:{};M.type={valType:"enumerated",values:Object.keys(h.transforms)},c(k[S],O[S],M,d,_,A)}else d.push(p("object",_,A))}}}else d.push(p("object",_))}return c(l,v._fullLayout,f(h,y),d,"layout"),0===d.length?void 0:d};var h={object:function(e,t){return("layout"===e&&""===t?"The layout argument":"data"===e[0]&&""===t?"Trace "+e[1]+" in the data argument":d(e)+"key "+t)+" must be linked to an object container"},array:function(e,t){return("data"===e?"The data argument":d(e)+"key "+t)+" must be linked to an array container"},schema:function(e,t){return d(e)+"key "+t+" is not part of the schema"},unused:function(e,t,n){var r=s(n)?"container":"key";return d(e)+r+" "+t+" did not get coerced"},dynamic:function(e,t,n,r){return[d(e)+"key",t,"(set to '"+n+"')","got reset to","'"+r+"'","during defaults."].join(" ")},invisible:function(e,t){return(t?d(e)+"item "+t:"Trace "+e[1])+" got defaulted to be not visible"},value:function(e,t,n){return[d(e)+"key "+t,"is set to an invalid value ("+n+")"].join(" ")}};function d(e){return u(e)?"In data trace "+e[1]+", ":"In "+e+", "}function p(e,t,n,i,o){var a,s;n=n||"",u(t)?(a=t[0],s=t[1]):(a=t,s=null);var l=b(n),c=h[e](t,l,i,o);return r.log(c),{code:e,container:a,trace:s,path:n,astr:l,msg:c}}function v(e,t){var n=m(t),r=n.keyMinusId,i=n.id;return!!(r in e&&e[r]._isSubplotObj&&i)||t in e}function y(e,t){return t in e?e[t]:e[m(t).keyMinusId]}var g=r.counterRegex("([a-z]+)");function m(e){var t=e.match(g);return{keyMinusId:t&&t[1],id:t&&t[2]}}function b(e){if(!u(e))return String(e);for(var t="",n=0;n<e.length;n++){var r=e[n];"number"===typeof r?t=t.substr(0,t.length-1)+"["+r+"]":t+=r,n<e.length-1&&(t+=".")}return t}},{"../lib":230,"../plots/plots":311,"./plot_config":263,"./plot_schema":264}],270:[function(e,t,n){"use strict";t.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},{}],271:[function(e,t,n){"use strict";var r=e("../lib"),i=e("../plot_api/plot_template");t.exports=function(e,t,n){var o,a,s=n.name,u=n.inclusionAttr||"visible",l=t[s],c=r.isArrayOrTypedArray(e[s])?e[s]:[],f=t[s]=[],h=i.arrayTemplater(t,s,u);for(o=0;o<c.length;o++){var d=c[o];r.isPlainObject(d)?a=h.newItem(d):(a=h.newItem({}))[u]=!1,a._index=o,!1!==a[u]&&n.handleItemDefaults(d,a,t,n),f.push(a)}var p=h.defaultItems();for(o=0;o<p.length;o++)(a=p[o])._index=f.length,n.handleItemDefaults({},a,t,n,{}),f.push(a);if(r.isArrayOrTypedArray(l)){var v=Math.min(l.length,f.length);for(o=0;o<v;o++)r.relinkPrivateKeys(f[o],l[o])}return f}},{"../lib":230,"../plot_api/plot_template":265}],272:[function(e,t,n){"use strict";var r=e("./font_attributes"),i=e("../components/fx/attributes");t.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:r({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:i.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},{"../components/fx/attributes":131,"./font_attributes":305}],273:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),o=i.dateTime2ms,a=i.incrementMonth,s=e("../../constants/numerical").ONEAVGMONTH;t.exports=function(e,t,n,i){if("date"!==t.type)return i;var u=e[n+"periodalignment"];if(!u)return i;var l,c=e[n+"period"];if(r(c)){if((c=+c)<=0)return i}else if("string"===typeof c&&"M"===c.charAt(0)){var f=+c.substring(1);if(!(f>0&&Math.round(f)===f))return i;l=f}for(var h=t.calendar,d="start"===u,p="end"===u,v=e[n+"period0"],y=o(v,h)||0,g=[],m=i.length,b=0;b<m;b++){var _,w,x,T=i[b];if(l){for(_=Math.round((T-y)/(l*s)),x=a(y,l*_,h);x>T;)x=a(x,-l,h);for(;x<=T;)x=a(x,l,h);w=a(x,-l,h)}else{for(x=y+(_=Math.round((T-y)/c))*c;x>T;)x-=c;for(;x<=T;)x+=c;w=x-c}g[b]=d?w:p?x:(w+x)/2}return g}},{"../../constants/numerical":210,"../../lib":230,"fast-isnumeric":15}],274:[function(e,t,n){"use strict";t.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},{}],275:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("fast-isnumeric"),o=e("../../lib"),a=e("../../constants/numerical").FP_SAFE,s=e("../../registry"),u=e("../../components/drawing"),l=e("./axis_ids"),c=l.getFromId,f=l.isLinked;function h(e,t){var n,r,i=[],a=e._fullLayout,s=p(a,t,0),u=p(a,t,1),l=g(e,t),c=l.min,f=l.max;if(0===c.length||0===f.length)return o.simpleMap(t.range,t.r2l);var h=c[0].val,v=f[0].val;for(n=1;n<c.length&&h===v;n++)h=Math.min(h,c[n].val);for(n=1;n<f.length&&h===v;n++)v=Math.max(v,f[n].val);var y=!1;if(t.range){var m=o.simpleMap(t.range,t.r2l);y=m[1]<m[0]}"reversed"===t.autorange&&(y=!0,t.autorange=!0);var b,_,w,x,T,k,O=t.rangemode,S="tozero"===O,A="nonnegative"===O,E=t._length,M=E/10,C=0;for(n=0;n<c.length;n++)for(b=c[n],r=0;r<f.length;r++)(k=(_=f[r]).val-b.val-d(t,b.val,_.val))>0&&((T=E-s(b)-u(_))>M?k/T>C&&(w=b,x=_,C=k/T):k/E>C&&(w={val:b.val,nopad:1},x={val:_.val,nopad:1},C=k/E));function I(e,t){return Math.max(e,u(t))}if(h===v){var D=h-1,P=h+1;if(S)if(0===h)i=[0,1];else{var N=(h>0?f:c).reduce(I,0),L=h/(1-Math.min(.5,N/E));i=h>0?[0,L]:[L,0]}else i=A?[Math.max(0,D),Math.max(1,P)]:[D,P]}else S?(w.val>=0&&(w={val:0,nopad:1}),x.val<=0&&(x={val:0,nopad:1})):A&&(w.val-C*s(w)<0&&(w={val:0,nopad:1}),x.val<=0&&(x={val:1,nopad:1})),C=(x.val-w.val-d(t,b.val,_.val))/(E-s(w)-u(x)),i=[w.val-C*s(w),x.val+C*u(x)];return y&&i.reverse(),o.simpleMap(i,t.l2r||Number)}function d(e,t,n){var r=0;if(e.rangebreaks)for(var i=e.locateBreaks(t,n),o=0;o<i.length;o++){var a=i[o];r+=a.max-a.min}return r}function p(e,t,n){var r=.05*t._length,i=t._anchorAxis||{};if(-1!==(t.ticklabelposition||"").indexOf("inside")||-1!==(i.ticklabelposition||"").indexOf("inside")){var a="reversed"===t.autorange;if(!a){var s=o.simpleMap(t.range,t.r2l);a=s[1]<s[0]}a&&(n=!n)}var u=0;return f(e,t._id)||(u=y(e,t,n)),r=Math.max(u,r),"domain"===t.constrain&&t._inputDomain&&(r*=(t._inputDomain[1]-t._inputDomain[0])/(t.domain[1]-t.domain[0])),function(e){return e.nopad?0:e.pad+(e.extrapad?r:u)}}t.exports={getAutoRange:h,makePadFn:p,doAutoRange:m,findExtremes:b,concatExtremes:g};var v=3;function y(e,t,n){var i=0,a="x"===t._id.charAt(0);for(var s in e._plots){var l=e._plots[s];if(t._id===l.xaxis._id||t._id===l.yaxis._id){var c=(a?l.yaxis:l.xaxis)||{};if(-1!==(c.ticklabelposition||"").indexOf("inside")&&(!n&&("left"===c.side||"bottom"===c.side)||n&&("top"===c.side||"right"===c.side))){if(c._vals){var f=o.deg2rad(c._tickAngles[c._id+"tick"]||0),h=Math.abs(Math.cos(f)),d=Math.abs(Math.sin(f));if(!c._vals[0].bb){var p=c._id+"tick";c._selections[p].each((function(e){var t=r.select(this);t.select(".text-math-group").empty()&&(e.bb=u.bBox(t.node()))}))}for(var y=0;y<c._vals.length;y++){var g=c._vals[y].bb;if(g){var m=2*v+g.width,b=2*v+g.height;i=Math.max(i,a?Math.max(m*h,b*d):Math.max(b*h,m*d))}}}"inside"===c.ticks&&"inside"===c.ticklabelposition&&(i+=c.ticklen||0)}}}return i}function g(e,t,n){var r,i,o,a=t._id,s=e._fullData,u=e._fullLayout,l=[],f=[];function h(e,t){for(r=0;r<t.length;r++){var n=e[t[r]],s=(n._extremes||{})[a];if(!0===n.visible&&s){for(i=0;i<s.min.length;i++)o=s.min[i],_(l,o.val,o.pad,{extrapad:o.extrapad});for(i=0;i<s.max.length;i++)o=s.max[i],w(f,o.val,o.pad,{extrapad:o.extrapad})}}}if(h(s,t._traceIndices),h(u.annotations||[],t._annIndices||[]),h(u.shapes||[],t._shapeIndices||[]),t._matchGroup&&!n)for(var d in t._matchGroup)if(d!==t._id){var p=c(e,d),v=g(e,p,!0),y=t._length/p._length;for(i=0;i<v.min.length;i++)o=v.min[i],_(l,o.val,o.pad*y,{extrapad:o.extrapad});for(i=0;i<v.max.length;i++)o=v.max[i],w(f,o.val,o.pad*y,{extrapad:o.extrapad})}return{min:l,max:f}}function m(e,t,n){if(t.setScale(),t.autorange){t.range=n?n.slice():h(e,t),t._r=t.range.slice(),t._rl=o.simpleMap(t._r,t.r2l);var r=t._input,i={};i[t._attr+".range"]=t.range,i[t._attr+".autorange"]=t.autorange,s.call("_storeDirectGUIEdit",e.layout,e._fullLayout._preGUI,i),r.range=t.range.slice(),r.autorange=t.autorange}var a=t._anchorAxis;if(a&&a.rangeslider){var u=a.rangeslider[t._name];u&&"auto"===u.rangemode&&(u.range=h(e,t)),a._input.rangeslider[t._name]=o.extendFlat({},u)}}function b(e,t,n){n||(n={}),e._m||e.setScale();var r,o,s,u,l,c,f,h,d,p=[],v=[],y=t.length,g=n.padded||!1,m=n.tozero&&("linear"===e.type||"-"===e.type),b="log"===e.type,x=!1,k=n.vpadLinearized||!1;function O(e){if(Array.isArray(e))return x=!0,function(t){return Math.max(Number(e[t]||0),0)};var t=Math.max(Number(e||0),0);return function(){return t}}var S=O((e._m>0?n.ppadplus:n.ppadminus)||n.ppad||0),A=O((e._m>0?n.ppadminus:n.ppadplus)||n.ppad||0),E=O(n.vpadplus||n.vpad),M=O(n.vpadminus||n.vpad);if(!x){if(h=1/0,d=-1/0,b)for(r=0;r<y;r++)(o=t[r])<h&&o>0&&(h=o),o>d&&o<a&&(d=o);else for(r=0;r<y;r++)(o=t[r])<h&&o>-a&&(h=o),o>d&&o<a&&(d=o);t=[h,d],y=2}var C={tozero:m,extrapad:g};function I(n){s=t[n],i(s)&&(c=S(n),f=A(n),k?(u=e.c2l(s)-M(n),l=e.c2l(s)+E(n)):(h=s-M(n),d=s+E(n),b&&h<d/10&&(h=d/10),u=e.c2l(h),l=e.c2l(d)),m&&(u=Math.min(0,u),l=Math.max(0,l)),T(u)&&_(p,u,f,C),T(l)&&w(v,l,c,C))}var D=Math.min(6,y);for(r=0;r<D;r++)I(r);for(r=y-1;r>=D;r--)I(r);return{min:p,max:v,opts:n}}function _(e,t,n,r){x(e,t,n,r,k)}function w(e,t,n,r){x(e,t,n,r,O)}function x(e,t,n,r,i){for(var o=r.tozero,a=r.extrapad,s=!0,u=0;u<e.length&&s;u++){var l=e[u];if(i(l.val,t)&&l.pad>=n&&(l.extrapad||!a)){s=!1;break}i(t,l.val)&&l.pad<=n&&(a||!l.extrapad)&&(e.splice(u,1),u--)}if(s){var c=o&&0===t;e.push({val:t,pad:c?0:n,extrapad:!c&&a})}}function T(e){return i(e)&&Math.abs(e)<a}function k(e,t){return e<=t}function O(e,t){return e>=t}},{"../../components/drawing":122,"../../constants/numerical":210,"../../lib":230,"../../registry":313,"./axis_ids":280,"@plotly/d3":11,"fast-isnumeric":15}],276:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("fast-isnumeric"),o=e("../../plots/plots"),a=e("../../registry"),s=e("../../lib"),u=s.strTranslate,l=e("../../lib/svg_text_utils"),c=e("../../components/titles"),f=e("../../components/color"),h=e("../../components/drawing"),d=e("./layout_attributes"),p=e("./clean_ticks"),v=e("../../constants/numerical"),y=v.ONEMAXYEAR,g=v.ONEAVGYEAR,m=v.ONEMINYEAR,b=v.ONEMAXQUARTER,_=v.ONEAVGQUARTER,w=v.ONEMINQUARTER,x=v.ONEMAXMONTH,T=v.ONEAVGMONTH,k=v.ONEMINMONTH,O=v.ONEWEEK,S=v.ONEDAY,A=S/2,E=v.ONEHOUR,M=v.ONEMIN,C=v.ONESEC,I=v.MINUS_SIGN,D=v.BADNUM,P={K:"zeroline"},N={K:"gridline",L:"path"},L={K:"tick",L:"path"},j={K:"tick",L:"text"},R=e("../../constants/alignment"),F=R.MID_SHIFT,z=R.CAP_SHIFT,U=R.LINE_SPACING,q=R.OPPOSITE_SIDE,V=3,B=t.exports={};B.setConvert=e("./set_convert");var H=e("./axis_autotype"),W=e("./axis_ids"),Y=W.idSort,G=W.isLinked;B.id2name=W.id2name,B.name2id=W.name2id,B.cleanId=W.cleanId,B.list=W.list,B.listIds=W.listIds,B.getFromId=W.getFromId,B.getFromTrace=W.getFromTrace;var K=e("./autorange");B.getAutoRange=K.getAutoRange,B.findExtremes=K.findExtremes;var X=1e-4;function Q(e){var t=(e[1]-e[0])*X;return[e[0]-t,e[1]+t]}B.coerceRef=function(e,t,n,r,i,o){var a=r.charAt(r.length-1),u=n._fullLayout._subplots[a+"axis"],l=r+"ref",c={};return i||(i=u[0]||("string"===typeof o?o:o[0])),o||(o=i),u=u.concat(u.map((function(e){return e+" domain"}))),c[l]={valType:"enumerated",values:u.concat(o?"string"===typeof o?[o]:o:[]),dflt:i},s.coerce(e,t,c,l)},B.getRefType=function(e){return void 0===e?e:"paper"===e?"paper":"pixel"===e?"pixel":/( domain)$/.test(e)?"domain":"range"},B.coercePosition=function(e,t,n,r,i,o){var a,u;if("range"!==B.getRefType(r))a=s.ensureNumber,u=n(i,o);else{var l=B.getFromId(t,r);u=n(i,o=l.fraction2r(o)),a=l.cleanPos}e[i]=a(u)},B.cleanPosition=function(e,t,n){return("paper"===n||"pixel"===n?s.ensureNumber:B.getFromId(t,n).cleanPos)(e)},B.redrawComponents=function(e,t){t=t||B.listIds(e);var n=e._fullLayout;function r(r,i,o,s){for(var u=a.getComponentMethod(r,i),l={},c=0;c<t.length;c++)for(var f=n[B.id2name(t[c])][o],h=0;h<f.length;h++){var d=f[h];if(!l[d]&&(u(e,d),l[d]=1,s))return}}r("annotations","drawOne","_annIndices"),r("shapes","drawOne","_shapeIndices"),r("images","draw","_imgIndices",!0)};var J=B.getDataConversions=function(e,t,n,r){var i,o="x"===n||"y"===n||"z"===n?n:r;if(Array.isArray(o)){if(i={type:H(r,void 0,{autotypenumbers:e._fullLayout.autotypenumbers}),_categories:[]},B.setConvert(i),"category"===i.type)for(var a=0;a<r.length;a++)i.d2c(r[a])}else i=B.getFromTrace(e,t,o);return i?{d2c:i.d2c,c2d:i.c2d}:"ids"===o?{d2c:Z,c2d:Z}:{d2c:$,c2d:$}};function $(e){return+e}function Z(e){return String(e)}function ee(e,t,n,r,o){var a=0,s=0,u=0,l=0;function c(t){return(1+100*(t-e)/n.dtick)%100<2}for(var f=0;f<t.length;f++)t[f]%1===0?u++:i(t[f])||l++,c(t[f])&&a++,c(t[f]+n.dtick/2)&&s++;var h=t.length-l;if(u===h&&"date"!==n.type)n.dtick<1?e=r-.5*n.dtick:(e-=.5)+n.dtick<r&&(e+=n.dtick);else if(s<.1*h&&(a>.3*h||c(r)||c(o))){var d=n.dtick/2;e+=e+d<r?d:-d}return e}function te(e,t,n,r,i){var o=s.findExactDates(t,i),a=.8;if(o.exactDays>a){var u=Number(n.substr(1));o.exactYears>a&&u%12===0?e=B.tickIncrement(e,"M6","reverse")+1.5*S:o.exactMonths>a?e=B.tickIncrement(e,"M1","reverse")+15.5*S:e-=A;var l=B.tickIncrement(e,n);if(l<=r)return l}return e}function ne(e){return+e.substring(1)}function re(e){var t;function n(){return!(i(e.dtick)||"M"!==e.dtick.charAt(0))}var r=n(),o=B.getTickFormat(e);if(o){var a=e._dtickInit!==e.dtick;/%[fLQsSMX]/.test(o)||(/%[HI]/.test(o)?(t=E,a&&!r&&e.dtick<E&&(e.dtick=E)):/%p/.test(o)?(t=A,a&&!r&&e.dtick<A&&(e.dtick=A)):/%[Aadejuwx]/.test(o)?(t=S,a&&!r&&e.dtick<S&&(e.dtick=S)):/%[UVW]/.test(o)?(t=O,a&&!r&&e.dtick<O&&(e.dtick=O)):/%[Bbm]/.test(o)?(t=T,a&&(r?ne(e.dtick)<1:e.dtick<k)&&(e.dtick="M1")):/%[q]/.test(o)?(t=_,a&&(r?ne(e.dtick)<3:e.dtick<w)&&(e.dtick="M3")):/%[Yy]/.test(o)&&(t=g,a&&(r?ne(e.dtick)<12:e.dtick<m)&&(e.dtick="M12")))}(r=n())&&e.tick0===e._dowTick0&&(e.tick0=e._rawTick0),e._definedDelta=t}function ie(e,t,n){for(var r=0;r<e.length;r++){var i=e[r].value,o=r,a=r+1;r<e.length-1?(o=r,a=r+1):r>0?(o=r-1,a=r):(o=r,a=r);var s,u=e[o].value,l=e[a].value,c=Math.abs(l-u),f=n||c,h=0;f>=m?h=c>=m&&c<=y?c:g:n===_&&f>=w?h=c>=w&&c<=b?c:_:f>=k?h=c>=k&&c<=x?c:T:n===O&&f>=O?h=O:f>=S?h=S:n===A&&f>=A?h=A:n===E&&f>=E&&(h=E),h>=c&&(h=c,s=!0);var d=i+h;if(t.rangebreaks&&h>0){for(var p=84,v=0,M=0;M<p;M++){var C=(M+.5)/p;t.maskBreaks(i*(1-C)+C*d)!==D&&v++}(h*=v/p)||(e[r].drop=!0),s&&c>O&&(h=c)}(h>0||0===r)&&(e[r].periodX=i+h/2)}}function oe(e){var t=e.tickvals,n=e.ticktext,r=new Array(t.length),i=Q(s.simpleMap(e.range,e.r2l)),o=Math.min(i[0],i[1]),a=Math.max(i[0],i[1]),u=0;Array.isArray(n)||(n=[]);var l="category"===e.type?e.d2l_noadd:e.d2l;"log"===e.type&&"L"!==String(e.dtick).charAt(0)&&(e.dtick="L"+Math.pow(10,Math.floor(Math.min(e.range[0],e.range[1]))-1));for(var c=0;c<t.length;c++){var f=l(t[c]);f>o&&f<a&&(void 0===n[c]?r[u]=B.tickText(e,f):r[u]=ve(e,f,String(n[c])),u++)}return u<t.length&&r.splice(u,t.length-u),e.rangebreaks&&(r=r.filter((function(t){return e.maskBreaks(t.x)!==D}))),r}B.getDataToCoordFunc=function(e,t,n,r){return J(e,t,n,r).d2c},B.counterLetter=function(e){var t=e.charAt(0);return"x"===t?"y":"y"===t?"x":void 0},B.minDtick=function(e,t,n,r){-1===["log","category","multicategory"].indexOf(e.type)&&r?void 0===e._minDtick?(e._minDtick=t,e._forceTick0=n):e._minDtick&&((e._minDtick/t+1e-6)%1<2e-6&&((n-e._forceTick0)/t%1+1.000001)%1<2e-6?(e._minDtick=t,e._forceTick0=n):((t/e._minDtick+1e-6)%1>2e-6||((n-e._forceTick0)/e._minDtick%1+1.000001)%1>2e-6)&&(e._minDtick=0)):e._minDtick=0},B.saveRangeInitial=function(e,t){for(var n=B.list(e,"",!0),r=!1,i=0;i<n.length;i++){var o=n[i],a=void 0===o._rangeInitial,s=a||!(o.range[0]===o._rangeInitial[0]&&o.range[1]===o._rangeInitial[1]);(a&&!1===o.autorange||t&&s)&&(o._rangeInitial=o.range.slice(),r=!0)}return r},B.saveShowSpikeInitial=function(e,t){for(var n=B.list(e,"",!0),r=!1,i="on",o=0;o<n.length;o++){var a=n[o],s=void 0===a._showSpikeInitial,u=s||!(a.showspikes===a._showspikes);(s||t&&u)&&(a._showSpikeInitial=a.showspikes,r=!0),"on"!==i||a.showspikes||(i="off")}return e._fullLayout._cartesianSpikesEnabled=i,r},B.autoBin=function(e,t,n,r,o,a){var u,l=s.aggNums(Math.min,null,e),c=s.aggNums(Math.max,null,e);if("category"===t.type||"multicategory"===t.type)return{start:l-.5,end:c+.5,size:Math.max(1,Math.round(a)||1),_dataSpan:c-l};if(o||(o=t.calendar),u="log"===t.type?{type:"linear",range:[l,c]}:{type:t.type,range:s.simpleMap([l,c],t.c2r,0,o),calendar:o},B.setConvert(u),a=a&&p.dtick(a,u.type))u.dtick=a,u.tick0=p.tick0(void 0,u.type,o);else{var f;if(n)f=(c-l)/n;else{var h=s.distinctVals(e),d=Math.pow(10,Math.floor(Math.log(h.minDiff)/Math.LN10)),v=d*s.roundUp(h.minDiff/d,[.9,1.9,4.9,9.9],!0);f=Math.max(v,2*s.stdev(e)/Math.pow(e.length,r?.25:.4)),i(f)||(f=1)}B.autoTicks(u,f)}var y,g=u.dtick,m=B.tickIncrement(B.tickFirst(u),g,"reverse",o);if("number"===typeof g)y=(m=ee(m,e,u,l,c))+(1+Math.floor((c-m)/g))*g;else for("M"===u.dtick.charAt(0)&&(m=te(m,e,g,l,o)),y=m;y<=c;)y=B.tickIncrement(y,g,!1,o);return{start:t.c2r(m,0,o),end:t.c2r(y,0,o),size:g,_dataSpan:c-l}},B.prepTicks=function(e,t){var n=s.simpleMap(e.range,e.r2l,void 0,void 0,t);if(e._dtickInit=e.dtick,e._tick0Init=e.tick0,"auto"===e.tickmode||!e.dtick){var r,i=e.nticks;i||("category"===e.type||"multicategory"===e.type?(r=e.tickfont?s.bigFont(e.tickfont.size||12):15,i=e._length/r):(r="y"===e._id.charAt(0)?40:80,i=s.constrain(e._length/r,4,9)+1),"radialaxis"===e._name&&(i*=2)),"array"===e.tickmode&&(i*=100),e._roughDTick=Math.abs(n[1]-n[0])/i,B.autoTicks(e,e._roughDTick),e._minDtick>0&&e.dtick<2*e._minDtick&&(e.dtick=e._minDtick,e.tick0=e.l2r(e._forceTick0))}"period"===e.ticklabelmode&&re(e),e.tick0||(e.tick0="date"===e.type?"2000-01-01":0),"date"===e.type&&e.dtick<.1&&(e.dtick=.1),pe(e)},B.calcTicks=function(e,t){B.prepTicks(e,t);var n=s.simpleMap(e.range,e.r2l,void 0,void 0,t);if("array"===e.tickmode)return oe(e);var r=Q(n),o=r[0],a=r[1],u=n[1]<n[0],l=Math.min(n[0],n[1]),c=Math.max(n[0],n[1]),f="log"===e.type&&!(i(e.dtick)||"L"===e.dtick.charAt(0)),h="period"===e.ticklabelmode;if(e._tmin=B.tickFirst(e,t),e._tmin<o!==u)return[];"category"!==e.type&&"multicategory"!==e.type||(a=u?Math.max(-.5,a):Math.min(e._categories.length-.5,a));var d=e._tmin;e.rangebreaks&&e._tick0Init!==e.tick0&&(d=Xe(d,e),u||(d=B.tickIncrement(d,e.dtick,!u,e.calendar))),h&&(d=B.tickIncrement(d,e.dtick,!u,e.calendar));for(var p,v=Math.max(1e3,e._length||0),y=[],g=null;u?d>=a:d<=a;d=B.tickIncrement(d,e.dtick,u,e.calendar)){if(e.rangebreaks&&!u){if(d<o)continue;if(e.maskBreaks(d)===D&&Xe(d,e)>=c)break}if(y.length>v||d===g)break;g=d;var m=!1;f&&d!==(0|d)&&(m=!0),y.push({minor:m,value:d})}if(h&&ie(y,e,e._definedDelta),e.rangebreaks){var b="y"===e._id.charAt(0),_=1;"auto"===e.tickmode&&(_=e.tickfont?e.tickfont.size:12);var w=NaN;for(p=y.length-1;p>-1;p--)if(y[p].drop)y.splice(p,1);else{y[p].value=Xe(y[p].value,e);var x=e.c2p(y[p].value);(b?w>x-_:w<x+_)?y.splice(u?p+1:p,1):w=x}}Ke(e)&&360===Math.abs(n[1]-n[0])&&y.pop(),e._tmax=(y[y.length-1]||{}).value,e._prevDateHead="",e._inCalcTicks=!0;var T,k,O=[];for(p=0;p<y.length;p++){var S=y[p].minor,A=y[p].value;T=B.tickText(e,A,!1,S),void 0!==(k=y[p].periodX)&&(T.periodX=k,(k>c||k<l)&&(k>c&&(T.periodX=c),k<l&&(T.periodX=l),T.text=" ",e._prevDateHead="")),O.push(T)}return e._inCalcTicks=!1,O};var ae=[2,5,10],se=[1,2,3,6,12],ue=[1,2,5,10,15,30],le=[1,2,3,7,14],ce=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],fe=[-.301,0,.301,.699,1],he=[15,30,45,90,180];function de(e,t,n){return t*s.roundUp(e/t,n)}function pe(e){var t=e.dtick;if(e._tickexponent=0,i(t)||"string"===typeof t||(t=1),"category"!==e.type&&"multicategory"!==e.type||(e._tickround=null),"date"===e.type){var n=e.r2l(e.tick0),r=e.l2r(n).replace(/(^-|i)/g,""),o=r.length;if("M"===String(t).charAt(0))o>10||"01-01"!==r.substr(5)?e._tickround="d":e._tickround=+t.substr(1)%12===0?"y":"m";else if(t>=S&&o<=10||t>=15*S)e._tickround="d";else if(t>=M&&o<=16||t>=E)e._tickround="M";else if(t>=C&&o<=19||t>=M)e._tickround="S";else{var a=e.l2r(n+t).replace(/^-/,"").length;e._tickround=Math.max(o,a)-20,e._tickround<0&&(e._tickround=4)}}else if(i(t)||"L"===t.charAt(0)){var s=e.range.map(e.r2d||Number);i(t)||(t=Number(t.substr(1))),e._tickround=2-Math.floor(Math.log(t)/Math.LN10+.01);var u=Math.max(Math.abs(s[0]),Math.abs(s[1])),l=Math.floor(Math.log(u)/Math.LN10+.01),c=void 0===e.minexponent?3:e.minexponent;Math.abs(l)>c&&(ke(e.exponentformat)&&!Oe(l)?e._tickexponent=3*Math.round((l-1)/3):e._tickexponent=l)}else e._tickround=null}function ve(e,t,n){var r=e.tickfont||{};return{x:t,dx:0,dy:0,text:n||"",fontSize:r.size,font:r.family,fontColor:r.color}}function ye(e,t,n,r){var o=e._tickround,a=n&&e.hoverformat||B.getTickFormat(e);r&&(o=i(o)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[o]);var u,l=s.formatDate(t.x,a,o,e._dateFormat,e.calendar,e._extraFormat),c=l.indexOf("\n");if(-1!==c&&(u=l.substr(c+1),l=l.substr(0,c)),r&&("00:00:00"===l||"00:00"===l?(l=u,u=""):8===l.length&&(l=l.replace(/:00$/,""))),u)if(n)"d"===o?l+=", "+u:l=u+(l?", "+l:"");else if(e._inCalcTicks&&e._prevDateHead===u){var f=Qe(e),h=e._realSide||e.side;(!f&&"top"===h||f&&"bottom"===h)&&(l+="<br> ")}else e._prevDateHead=u,l+="<br>"+u;t.text=l}function ge(e,t,n,r,o){var a=e.dtick,u=t.x,l=e.tickformat,c="string"===typeof a&&a.charAt(0);if("never"===o&&(o=""),r&&"L"!==c&&(a="L3",c="L"),l||"L"===c)t.text=Se(Math.pow(10,u),e,o,r);else if(i(a)||"D"===c&&s.mod(u+.01,1)<.1){var f=Math.round(u),h=Math.abs(f),d=e.exponentformat;"power"===d||ke(d)&&Oe(f)?(t.text=0===f?1:1===f?"10":"10<sup>"+(f>1?"":I)+h+"</sup>",t.fontSize*=1.25):("e"===d||"E"===d)&&h>2?t.text="1"+d+(f>0?"+":I)+h:(t.text=Se(Math.pow(10,u),e,"","fakehover"),"D1"===a&&"y"===e._id.charAt(0)&&(t.dy-=t.fontSize/6))}else{if("D"!==c)throw"unrecognized dtick "+String(a);t.text=String(Math.round(Math.pow(10,s.mod(u,1)))),t.fontSize*=.75}if("D1"===e.dtick){var p=String(t.text).charAt(0);"0"!==p&&"1"!==p||("y"===e._id.charAt(0)?t.dx-=t.fontSize/4:(t.dy+=t.fontSize/2,t.dx+=(e.range[1]>e.range[0]?1:-1)*t.fontSize*(u<0?.5:.25)))}}function me(e,t){var n=e._categories[Math.round(t.x)];void 0===n&&(n=""),t.text=String(n)}function be(e,t,n){var r=Math.round(t.x),i=e._categories[r]||[],o=void 0===i[1]?"":String(i[1]),a=void 0===i[0]?"":String(i[0]);n?t.text=a+" - "+o:(t.text=o,t.text2=a)}function _e(e,t,n,r,i){"never"===i?i="":"all"===e.showexponent&&Math.abs(t.x/e.dtick)<1e-6&&(i="hide"),t.text=Se(t.x,e,i,r)}function we(e,t,n,r,i){if("radians"!==e.thetaunit||n)t.text=Se(t.x,e,i,r);else{var o=t.x/180;if(0===o)t.text="0";else{var a=xe(o);if(a[1]>=100)t.text=Se(s.deg2rad(t.x),e,i,r);else{var u=t.x<0;1===a[1]?1===a[0]?t.text="\u03c0":t.text=a[0]+"\u03c0":t.text=["<sup>",a[0],"</sup>","\u2044","<sub>",a[1],"</sub>","\u03c0"].join(""),u&&(t.text=I+t.text)}}}}function xe(e){function t(e,t){return Math.abs(e-t)<=1e-6}function n(e,r){return t(r,0)?e:n(r,e%r)}function r(e){for(var n=1;!t(Math.round(e*n)/n,e);)n*=10;return n}var i=r(e),o=e*i,a=Math.abs(n(o,i));return[Math.round(o/a),Math.round(i/a)]}B.autoTicks=function(e,t){var n;function r(e){return Math.pow(e,Math.floor(Math.log(t)/Math.LN10))}if("date"===e.type){e.tick0=s.dateTick0(e.calendar,0);var o=2*t;if(o>g)t/=g,n=r(10),e.dtick="M"+12*de(t,n,ae);else if(o>T)t/=T,e.dtick="M"+de(t,1,se);else if(o>S){e.dtick=de(t,S,e._hasDayOfWeekBreaks?[1,2,7,14]:le);var a=B.getTickFormat(e),u="period"===e.ticklabelmode;u&&(e._rawTick0=e.tick0),/%[uVW]/.test(a)?e.tick0=s.dateTick0(e.calendar,2):e.tick0=s.dateTick0(e.calendar,1),u&&(e._dowTick0=e.tick0)}else o>E?e.dtick=de(t,E,se):o>M?e.dtick=de(t,M,ue):o>C?e.dtick=de(t,C,ue):(n=r(10),e.dtick=de(t,n,ae))}else if("log"===e.type){e.tick0=0;var l=s.simpleMap(e.range,e.r2l);if(t>.7)e.dtick=Math.ceil(t);else if(Math.abs(l[1]-l[0])<1){var c=1.5*Math.abs((l[1]-l[0])/t);t=Math.abs(Math.pow(10,l[1])-Math.pow(10,l[0]))/c,n=r(10),e.dtick="L"+de(t,n,ae)}else e.dtick=t>.3?"D2":"D1"}else"category"===e.type||"multicategory"===e.type?(e.tick0=0,e.dtick=Math.ceil(Math.max(t,1))):Ke(e)?(e.tick0=0,n=1,e.dtick=de(t,n,he)):(e.tick0=0,n=r(10),e.dtick=de(t,n,ae));if(0===e.dtick&&(e.dtick=1),!i(e.dtick)&&"string"!==typeof e.dtick){var f=e.dtick;throw e.dtick=1,"ax.dtick error: "+String(f)}},B.tickIncrement=function(e,t,n,o){var a=n?-1:1;if(i(t))return s.increment(e,a*t);var u=t.charAt(0),l=a*Number(t.substr(1));if("M"===u)return s.incrementMonth(e,l,o);if("L"===u)return Math.log(Math.pow(10,e)+l)/Math.LN10;if("D"===u){var c="D2"===t?fe:ce,f=e+.01*a,h=s.roundUp(s.mod(f,1),c,n);return Math.floor(f)+Math.log(r.round(Math.pow(10,h),1))/Math.LN10}throw"unrecognized dtick "+String(t)},B.tickFirst=function(e,t){var n=e.r2l||Number,o=s.simpleMap(e.range,n,void 0,void 0,t),a=o[1]<o[0],u=a?Math.floor:Math.ceil,l=Q(o)[0],c=e.dtick,f=n(e.tick0);if(i(c)){var h=u((l-f)/c)*c+f;return"category"!==e.type&&"multicategory"!==e.type||(h=s.constrain(h,0,e._categories.length-1)),h}var d=c.charAt(0),p=Number(c.substr(1));if("M"===d){for(var v,y,g,m=0,b=f;m<10;){if(((v=B.tickIncrement(b,c,a,e.calendar))-l)*(b-l)<=0)return a?Math.min(b,v):Math.max(b,v);y=(l-(b+v)/2)/(v-b),g=d+(Math.abs(Math.round(y))||1)*p,b=B.tickIncrement(b,g,y<0?!a:a,e.calendar),m++}return s.error("tickFirst did not converge",e),b}if("L"===d)return Math.log(u((Math.pow(10,l)-f)/p)*p+f)/Math.LN10;if("D"===d){var _="D2"===c?fe:ce,w=s.roundUp(s.mod(l,1),_,a);return Math.floor(l)+Math.log(r.round(Math.pow(10,w),1))/Math.LN10}throw"unrecognized dtick "+String(c)},B.tickText=function(e,t,n,r){var i,o=ve(e,t),a="array"===e.tickmode,u=n||a,l=e.type,c="category"===l?e.d2l_noadd:e.d2l;if(a&&Array.isArray(e.ticktext)){var f=s.simpleMap(e.range,e.r2l),h=(Math.abs(f[1]-f[0])-(e._lBreaks||0))/1e4;for(i=0;i<e.ticktext.length&&!(Math.abs(t-c(e.tickvals[i]))<h);i++);if(i<e.ticktext.length)return o.text=String(e.ticktext[i]),o}function d(r){if(void 0===r)return!0;if(n)return"none"===r;var i={first:e._tmin,last:e._tmax}[r];return"all"!==r&&t!==i}var p=n?"never":"none"!==e.exponentformat&&d(e.showexponent)?"hide":"";if("date"===l?ye(e,o,n,u):"log"===l?ge(e,o,n,u,p):"category"===l?me(e,o):"multicategory"===l?be(e,o,n):Ke(e)?we(e,o,n,u,p):_e(e,o,n,u,p),r||(e.tickprefix&&!d(e.showtickprefix)&&(o.text=e.tickprefix+o.text),e.ticksuffix&&!d(e.showticksuffix)&&(o.text+=e.ticksuffix)),"boundaries"===e.tickson||e.showdividers){var v=function(t){var n=e.l2p(t);return n>=0&&n<=e._length?t:null};o.xbnd=[v(o.x-.5),v(o.x+e.dtick-.5)]}return o},B.hoverLabelText=function(e,t,n){n&&(e=s.extendFlat({},e,{hoverformat:n}));var r=Array.isArray(t)?t[0]:t,i=Array.isArray(t)?t[1]:void 0;if(void 0!==i&&i!==r)return B.hoverLabelText(e,r,n)+" - "+B.hoverLabelText(e,i,n);var o="log"===e.type&&r<=0,a=B.tickText(e,e.c2l(o?-r:r),"hover").text;return o?0===r?"0":I+a:a};var Te=["f","p","n","\u03bc","m","","k","M","G","T"];function ke(e){return"SI"===e||"B"===e}function Oe(e){return e>14||e<-15}function Se(e,t,n,r){var o=e<0,a=t._tickround,u=n||t.exponentformat||"B",l=t._tickexponent,c=B.getTickFormat(t),f=t.separatethousands;if(r){var h={exponentformat:u,minexponent:t.minexponent,dtick:"none"===t.showexponent?t.dtick:i(e)&&Math.abs(e)||1,range:"none"===t.showexponent?t.range.map(t.r2d):[0,e||1]};pe(h),a=(Number(h._tickround)||0)+4,l=h._tickexponent,t.hoverformat&&(c=t.hoverformat)}if(c)return t._numFormat(c)(e).replace(/-/g,I);var d,p=Math.pow(10,-a)/2;if("none"===u&&(l=0),(e=Math.abs(e))<p)e="0",o=!1;else{if(e+=p,l&&(e*=Math.pow(10,-l),a+=l),0===a)e=String(Math.floor(e));else if(a<0){e=(e=String(Math.round(e))).substr(0,e.length+a);for(var v=a;v<0;v++)e+="0"}else{var y=(e=String(e)).indexOf(".")+1;y&&(e=e.substr(0,y+a).replace(/\.?0+$/,""))}e=s.numSeparate(e,t._separators,f)}return l&&"hide"!==u&&(ke(u)&&Oe(l)&&(u="power"),d=l<0?I+-l:"power"!==u?"+"+l:String(l),"e"===u||"E"===u?e+=u+d:"power"===u?e+="\xd710<sup>"+d+"</sup>":"B"===u&&9===l?e+="B":ke(u)&&(e+=Te[l/3+5])),o?I+e:e}function Ae(e,t){var n,r=[],i=function(e,t){var n=e.xbnd[t];null!==n&&r.push(s.extendFlat({},e,{x:n}))};if(t.length){for(n=0;n<t.length;n++)i(t[n],0);i(t[n-1],1)}return r}function Ee(e,t){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i];r[o.text2]?r[o.text2].push(o.x):r[o.text2]=[o.x]}for(var a in r)n.push(ve(e,s.interp(r[a],.5),a));return n}function Me(e,t){var n,r,i=[],o=t.length&&t[t.length-1].x<t[0].x,a=function(e,t){var n=e.xbnd[t];null!==n&&i.push(s.extendFlat({},e,{x:n}))};if(e.showdividers&&t.length){for(n=0;n<t.length;n++){var u=t[n];u.text2!==r&&a(u,o?1:0),r=u.text2}a(t[n-1],o?0:1)}return i}function Ce(e,t){var n,r,i,o;return e._selections[t].size()?(n=1/0,r=-1/0,i=1/0,o=-1/0,e._selections[t].each((function(){var e=Ue(this),t=h.bBox(e.node().parentNode);n=Math.min(n,t.top),r=Math.max(r,t.bottom),i=Math.min(i,t.left),o=Math.max(o,t.right)}))):(n=0,r=0,i=0,o=0),{top:n,bottom:r,left:i,right:o,height:r-n,width:o-i}}function Ie(e){return void 0!==e.periodX?e.periodX:e.x}function De(e){var t=e.ticklabelposition||"",n=function(e){return-1!==t.indexOf(e)},r=n("top"),i=n("left"),o=n("right"),a=n("bottom"),s=n("inside"),u=a||i||r||o;if(!u&&!s)return[0,0];var l=e.side,c=u?(e.tickwidth||0)/2:0,f=V,h=e.tickfont?e.tickfont.size:12;return(a||r)&&(c+=h*z,f+=(e.linewidth||0)/2),(i||o)&&(c+=(e.linewidth||0)/2,f+=V),s&&"top"===l&&(f-=h*(1-z)),(i||r)&&(c=-c),"bottom"!==l&&"right"!==l||(f=-f),[u?c:0,s?f:0]}function Pe(e){return[e.text,e.x,e.axInfo,e.font,e.fontSize,e.fontColor].join("_")}function Ne(e,t,n){var r=t._id+"divider",i=n.vals,o=n.layer.selectAll("path."+r).data(i,Pe);o.exit().remove(),o.enter().insert("path",":first-child").classed(r,1).classed("crisp",1).call(f.stroke,t.dividercolor).style("stroke-width",h.crispRound(e,t.dividerwidth,1)+"px"),o.attr("transform",n.transFn).attr("d",n.path)}function Le(e){var t=e.title.font.size,n=(e.title.text.match(l.BR_TAG_ALL)||[]).length;return e.title.hasOwnProperty("standoff")?n?t*(z+n*U):t*z:n?t*(n+1)*U:t}function je(e,t){var n,r=e._fullLayout,i=t._id,o=i.charAt(0),a=t.title.font.size;if(t.title.hasOwnProperty("standoff"))n=t._depth+t.title.standoff+Le(t);else{var s=Qe(t);if("multicategory"===t.type)n=t._depth;else{var u=1.5*a;s&&(u=.5*a,"outside"===t.ticks&&(u+=t.ticklen)),n=10+u+(t.linewidth?t.linewidth-1:0)}s||(n+="x"===o?"top"===t.side?a*(t.showticklabels?1:0):a*(t.showticklabels?1.5:.5):"right"===t.side?a*(t.showticklabels?1:.5):a*(t.showticklabels?.5:0))}var l,f,d,p,v=B.getPxPosition(e,t);if("x"===o?(f=t._offset+t._length/2,d="top"===t.side?v-n:v+n):(d=t._offset+t._length/2,f="right"===t.side?v+n:v-n,l={rotate:"-90",offset:0}),"multicategory"!==t.type){var y=t._selections[t._id+"tick"];if(p={selection:y,side:t.side},y&&y.node()&&y.node().parentNode){var g=h.getTranslate(y.node().parentNode);p.offsetLeft=g.x,p.offsetTop=g.y}t.title.hasOwnProperty("standoff")&&(p.pad=0)}return c.draw(e,i+"title",{propContainer:t,propName:t._name+".title.text",placeholder:r._dfltTitle[o],avoid:p,transform:l,attributes:{x:f,y:d,"text-anchor":"middle"}})}function Re(e,t){var n=e.l2p(t);return n>1&&n<e._length-1}function Fe(e,t,n,r){var i=n._mainAxis;if(i){var o=e._fullLayout,a=t._id.charAt(0),s=B.counterLetter(t._id),u=t._offset+(Math.abs(r[0])<Math.abs(r[1])===("x"===a)?0:t._length),l=o._plots[n._mainSubplot];if(!(l.mainplotinfo||l).overlays.length)return d(n,u);for(var c=B.list(e,s),f=0;f<c.length;f++){var h=c[f];if(h._mainAxis===i&&d(h,u))return!0}}function d(e){if(!e.showline||!e.linewidth)return!1;var n=Math.max((e.linewidth+t.zerolinewidth)/2,1);function r(e){return"number"===typeof e&&Math.abs(e-u)<n}if(r(e._mainLinePosition)||r(e._mainMirrorPosition))return!0;var i=e._linepositions||{};for(var o in i)if(r(i[o][0])||r(i[o][1]))return!0}}function ze(e,t){for(var n=e._fullData,r=t._mainSubplot,i=t._id.charAt(0),o=0;o<n.length;o++){var s=n[o];if(!0===s.visible&&s.xaxis+s.yaxis===r){if(a.traceIs(s,"bar-like")&&s.orientation==={x:"h",y:"v"}[i])return!0;if(s.fill&&s.fill.charAt(s.fill.length-1)===i)return!0}}return!1}function Ue(e){var t=r.select(e),n=t.select(".text-math-group");return n.empty()?t.select("text"):n}function qe(e){return e._id+".automargin"}function Ve(e){return qe(e)+".mirror"}function Be(e){return e._id+".rangeslider"}function He(e,t){var n,r,i=[];for(n=0;n<t.length;n++){var o=[],a=e._fullData[t[n]].xaxis,s=e._fullData[t[n]].yaxis;if(a&&s){for(r=0;r<i.length;r++)-1===i[r].x.indexOf(a)&&-1===i[r].y.indexOf(s)||o.push(r);if(o.length){var u,l=i[o[0]];if(o.length>1)for(r=1;r<o.length;r++)u=i[o[r]],We(l.x,u.x),We(l.y,u.y);We(l.x,[a]),We(l.y,[s])}else i.push({x:[a],y:[s]})}}return i}function We(e,t){for(var n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n])}function Ye(e,t,n){var r,i,o=[],a=[],u=e.layout;for(r=0;r<t.length;r++)o.push(B.getFromId(e,t[r]));for(r=0;r<n.length;r++)a.push(B.getFromId(e,n[r]));var l=Object.keys(d),c=["anchor","domain","overlaying","position","side","tickangle","editType"],f=["linear","log"];for(r=0;r<l.length;r++){var h=l[r],p=o[0][h],v=a[0][h],y=!0,g=!1,m=!1;if("_"!==h.charAt(0)&&"function"!==typeof p&&-1===c.indexOf(h)){for(i=1;i<o.length&&y;i++){var b=o[i][h];"type"===h&&-1!==f.indexOf(p)&&-1!==f.indexOf(b)&&p!==b?g=!0:b!==p&&(y=!1)}for(i=1;i<a.length&&y;i++){var _=a[i][h];"type"===h&&-1!==f.indexOf(v)&&-1!==f.indexOf(_)&&v!==_?m=!0:a[i][h]!==v&&(y=!1)}y&&(g&&(u[o[0]._name].type="linear"),m&&(u[a[0]._name].type="linear"),Ge(u,h,o,a,e._fullLayout._dfltTitle))}}for(r=0;r<e._fullLayout.annotations.length;r++){var w=e._fullLayout.annotations[r];-1!==t.indexOf(w.xref)&&-1!==n.indexOf(w.yref)&&s.swapAttrs(u.annotations[r],["?"])}}function Ge(e,t,n,r,i){var o,a=s.nestedProperty,u=a(e[n[0]._name],t).get(),l=a(e[r[0]._name],t).get();for("title"===t&&(u&&u.text===i.x&&(u.text=i.y),l&&l.text===i.y&&(l.text=i.x)),o=0;o<n.length;o++)a(e,n[o]._name+"."+t).set(l);for(o=0;o<r.length;o++)a(e,r[o]._name+"."+t).set(u)}function Ke(e){return"angularaxis"===e._id}function Xe(e,t){for(var n=t._rangebreaks.length,r=0;r<n;r++){var i=t._rangebreaks[r];if(e>=i.min&&e<i.max)return i.max}return e}function Qe(e){return-1!==(e.ticklabelposition||"").indexOf("inside")}function Je(e,t){Qe(e._anchorAxis||{})&&e._hideCounterAxisInsideTickLabels&&e._hideCounterAxisInsideTickLabels(t)}B.getTickFormat=function(e){var t,n,r;function i(e){return"string"!==typeof e?e:Number(e.replace("M",""))*T}function o(e,t){var n=["L","D"];if(typeof e===typeof t){if("number"===typeof e)return e-t;var r=n.indexOf(e.charAt(0)),i=n.indexOf(t.charAt(0));return r===i?Number(e.replace(/(L|D)/g,""))-Number(t.replace(/(L|D)/g,"")):r-i}return"number"===typeof e?1:-1}function a(e,t,n){var r=n||function(e){return e},i=t[0],o=t[1];return(!i&&"number"!==typeof i||r(i)<=r(e))&&(!o&&"number"!==typeof o||r(o)>=r(e))}function s(e,t){var n=null===t[0],r=null===t[1],i=o(e,t[0])>=0,a=o(e,t[1])<=0;return(n||i)&&(r||a)}if(e.tickformatstops&&e.tickformatstops.length>0)switch(e.type){case"date":case"linear":for(t=0;t<e.tickformatstops.length;t++)if((r=e.tickformatstops[t]).enabled&&a(e.dtick,r.dtickrange,i)){n=r;break}break;case"log":for(t=0;t<e.tickformatstops.length;t++)if((r=e.tickformatstops[t]).enabled&&s(e.dtick,r.dtickrange)){n=r;break}}return n?n.value:e.tickformat},B.getSubplots=function(e,t){var n=e._fullLayout._subplots,r=n.cartesian.concat(n.gl2d||[]),i=t?B.findSubplotsWithAxis(r,t):r;return i.sort((function(e,t){var n=e.substr(1).split("y"),r=t.substr(1).split("y");return n[0]===r[0]?+n[1]-+r[1]:+n[0]-+r[0]})),i},B.findSubplotsWithAxis=function(e,t){for(var n=new RegExp("x"===t._id.charAt(0)?"^"+t._id+"y":t._id+"$"),r=[],i=0;i<e.length;i++){var o=e[i];n.test(o)&&r.push(o)}return r},B.makeClipPaths=function(e){var t=e._fullLayout;if(!t._hasOnlyLargeSploms){var n,i,o={_offset:0,_length:t.width,_id:""},a={_offset:0,_length:t.height,_id:""},s=B.list(e,"x",!0),u=B.list(e,"y",!0),l=[];for(n=0;n<s.length;n++)for(l.push({x:s[n],y:a}),i=0;i<u.length;i++)0===n&&l.push({x:o,y:u[i]}),l.push({x:s[n],y:u[i]});var c=t._clips.selectAll(".axesclip").data(l,(function(e){return e.x._id+e.y._id}));c.enter().append("clipPath").classed("axesclip",!0).attr("id",(function(e){return"clip"+t._uid+e.x._id+e.y._id})).append("rect"),c.exit().remove(),c.each((function(e){r.select(this).select("rect").attr({x:e.x._offset||0,y:e.y._offset||0,width:e.x._length||1,height:e.y._length||1})}))}},B.draw=function(e,t,n){var r=e._fullLayout;"redraw"===t&&r._paper.selectAll("g.subplot").each((function(e){var t=e[0],n=r._plots[t];if(n){var i=n.xaxis,o=n.yaxis;n.xaxislayer.selectAll("."+i._id+"tick").remove(),n.yaxislayer.selectAll("."+o._id+"tick").remove(),n.xaxislayer.selectAll("."+i._id+"tick2").remove(),n.yaxislayer.selectAll("."+o._id+"tick2").remove(),n.xaxislayer.selectAll("."+i._id+"divider").remove(),n.yaxislayer.selectAll("."+o._id+"divider").remove(),n.gridlayer&&n.gridlayer.selectAll("path").remove(),n.zerolinelayer&&n.zerolinelayer.selectAll("path").remove(),r._infolayer.select(".g-"+i._id+"title").remove(),r._infolayer.select(".g-"+o._id+"title").remove()}}));var i=t&&"redraw"!==t?t:B.listIds(e);return s.syncOrAsync(i.map((function(t){return function(){if(t){var r=B.getFromId(e,t),i=B.drawOne(e,r,n);return r._r=r.range.slice(),r._rl=s.simpleMap(r._r,r.r2l),i}}})))},B.drawOne=function(e,t,n){var r,i,u;n=n||{},t.setScale();var l=e._fullLayout,c=t._id,f=c.charAt(0),h=B.counterLetter(c),d=l._plots[t._mainSubplot];if(d){var p=d[f+"axislayer"],v=t._mainLinePosition,y=t._mainMirrorPosition,g=t._vals=B.calcTicks(t),m=[t.mirror,v,y].join("_");for(r=0;r<g.length;r++)g[r].axInfo=m;t._selections={},t._tickAngles&&(t._prevTickAngles=t._tickAngles),t._tickAngles={},t._depth=null;var b={};if(t.visible){var _,w,x=B.makeTransTickFn(t),T=B.makeTransTickLabelFn(t),k="inside"===t.ticks,O="outside"===t.ticks;if("boundaries"===t.tickson){var S=Ae(t,g);w=B.clipEnds(t,S),_=k?w:S}else w=B.clipEnds(t,g),_=k&&"period"!==t.ticklabelmode?w:g;var A=t._gridVals=w,E=Me(t,g);if(!l._hasOnlyLargeSploms){var M=t._subplotsWith,C={};for(r=0;r<M.length;r++){i=M[r];var I=(u=l._plots[i])[h+"axis"],D=I._mainAxis._id;if(!C[D]){C[D]=1;var P="x"===f?"M0,"+I._offset+"v"+I._length:"M"+I._offset+",0h"+I._length;B.drawGrid(e,t,{vals:A,counterAxis:I,layer:u.gridlayer.select("."+c),path:P,transFn:x}),B.drawZeroLine(e,t,{counterAxis:I,layer:u.zerolinelayer,path:P,transFn:x})}}}var N=B.getTickSigns(t),L=[];if(t.ticks){var j,R,F,z=B.makeTickPath(t,v,N[2]);if(t._anchorAxis&&t.mirror&&!0!==t.mirror?(j=B.makeTickPath(t,y,N[3]),R=z+j):(j="",R=z),t.showdividers&&O&&"boundaries"===t.tickson){var V={};for(r=0;r<E.length;r++)V[E[r].x]=1;F=function(e){return V[e.x]?j:R}}else F=R;B.drawTicks(e,t,{vals:_,layer:p,path:F,transFn:x}),"allticks"===t.mirror&&(L=Object.keys(t._linepositions||{}))}for(r=0;r<L.length;r++){i=L[r],u=l._plots[i];var H=t._linepositions[i]||[],W=B.makeTickPath(t,H[0],N[0])+B.makeTickPath(t,H[1],N[1]);B.drawTicks(e,t,{vals:_,layer:u[f+"axislayer"],path:W,transFn:x})}var Y=[];if(Y.push((function(){return B.drawLabels(e,t,{vals:g,layer:p,plotinfo:u,transFn:T,labelFns:B.makeLabelFns(t,v)})})),"multicategory"===t.type){var G={x:2,y:10}[f];Y.push((function(){var n={x:"height",y:"width"}[f],r=X()[n]+G+(t._tickAngles[c+"tick"]?t.tickfont.size*U:0);return B.drawLabels(e,t,{vals:Ee(t,g),layer:p,cls:c+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:x,labelFns:B.makeLabelFns(t,v+r*N[4])})})),Y.push((function(){return t._depth=N[4]*(X("tick2")[t.side]-v),Ne(e,t,{vals:E,layer:p,path:B.makeTickPath(t,v,N[4],t._depth),transFn:x})}))}else t.title.hasOwnProperty("standoff")&&Y.push((function(){t._depth=N[4]*(X()[t.side]-v)}));var K=a.getComponentMethod("rangeslider","isVisible")(t);return Y.push((function(){var n,r,i,s,u=t.side.charAt(0),c=q[t.side].charAt(0),d=B.getPxPosition(e,t),p=O?t.ticklen:0;if((t.automargin||K)&&("multicategory"===t.type?n=X("tick2"):(n=X(),"x"===f&&"b"===u&&(t._depth=Math.max(n.width>0?n.bottom-d:0,p)))),t.automargin){r={x:0,y:0,r:0,l:0,t:0,b:0};var v=[0,1];if("x"===f){if("b"===u?r[u]=t._depth:(r[u]=t._depth=Math.max(n.width>0?d-n.top:0,p),v.reverse()),n.width>0){var y=n.right-(t._offset+t._length);y>0&&(r.xr=1,r.r=y);var g=t._offset-n.left;g>0&&(r.xl=0,r.l=g)}}else if("l"===u?r[u]=t._depth=Math.max(n.height>0?d-n.left:0,p):(r[u]=t._depth=Math.max(n.height>0?n.right-d:0,p),v.reverse()),n.height>0){var m=n.bottom-(t._offset+t._length);m>0&&(r.yb=0,r.b=m);var b=t._offset-n.top;b>0&&(r.yt=1,r.t=b)}r[h]="free"===t.anchor?t.position:t._anchorAxis.domain[v[0]],t.title.text!==l._dfltTitle[f]&&(r[u]+=Le(t)+(t.title.standoff||0)),t.mirror&&"free"!==t.anchor&&((i={x:0,y:0,r:0,l:0,t:0,b:0})[c]=t.linewidth,t.mirror&&!0!==t.mirror&&(i[c]+=p),!0===t.mirror||"ticks"===t.mirror?i[h]=t._anchorAxis.domain[v[1]]:"all"!==t.mirror&&"allticks"!==t.mirror||(i[h]=[t._counterDomainMin,t._counterDomainMax][v[1]]))}K&&(s=a.getComponentMethod("rangeslider","autoMarginOpts")(e,t)),o.autoMargin(e,qe(t),r),o.autoMargin(e,Ve(t),i),o.autoMargin(e,Be(t),s)})),n.skipTitle||K&&"bottom"===t.side||Y.push((function(){return je(e,t)})),s.syncOrAsync(Y)}}function X(e){var n=c+(e||"tick");return b[n]||(b[n]=Ce(t,n)),b[n]}},B.getTickSigns=function(e){var t=e._id.charAt(0),n={x:"top",y:"right"}[t],r=e.side===n?1:-1,i=[-1,1,r,-r];return"inside"!==e.ticks===("x"===t)&&(i=i.map((function(e){return-e}))),e.side&&i.push({l:-1,t:-1,r:1,b:1}[e.side.charAt(0)]),i},B.makeTransTickFn=function(e){return"x"===e._id.charAt(0)?function(t){return u(e._offset+e.l2p(t.x),0)}:function(t){return u(0,e._offset+e.l2p(t.x))}},B.makeTransTickLabelFn=function(e){var t=De(e),n=t[0],r=t[1];return"x"===e._id.charAt(0)?function(t){return u(n+e._offset+e.l2p(Ie(t)),r)}:function(t){return u(r,n+e._offset+e.l2p(Ie(t)))}},B.makeTickPath=function(e,t,n,r){r=void 0!==r?r:e.ticklen;var i=e._id.charAt(0),o=(e.linewidth||1)/2;return"x"===i?"M0,"+(t+o*n)+"v"+r*n:"M"+(t+o*n)+",0h"+r*n},B.makeLabelFns=function(e,t,n){var r=e.ticklabelposition||"",o=function(e){return-1!==r.indexOf(e)},a=o("top"),u=o("left"),l=o("right"),c=o("bottom")||u||a||l,f=o("inside"),h="inside"===r&&"inside"===e.ticks||!f&&"outside"===e.ticks&&"boundaries"!==e.tickson,d=0,p=0,v=h?e.ticklen:0;if(f?v*=-1:c&&(v=0),h&&(d+=v,n)){var y=s.deg2rad(n);d=v*Math.cos(y)+1,p=v*Math.sin(y)}e.showticklabels&&(h||e.showline)&&(d+=.2*e.tickfont.size);var g,m,b,_,w,x={labelStandoff:d+=(e.linewidth||1)/2*(f?-1:1),labelShift:p},T=0,k=e.side,O=e._id.charAt(0),S=e.tickangle;if("x"===O)_=(w=!f&&"bottom"===k||f&&"top"===k)?1:-1,f&&(_*=-1),g=p*_,m=t+d*_,b=w?1:-.2,90===Math.abs(S)&&(f?b+=F:b=-90===S&&"bottom"===k?z:90===S&&"top"===k?F:.5,T=F/2*(S/90)),x.xFn=function(e){return e.dx+g+T*e.fontSize},x.yFn=function(e){return e.dy+m+e.fontSize*b},x.anchorFn=function(e,t){if(c){if(u)return"end";if(l)return"start"}return i(t)&&0!==t&&180!==t?t*_<0!==f?"end":"start":"middle"},x.heightFn=function(t,n,r){return n<-60||n>60?-.5*r:"top"===e.side!==f?-r:0};else if("y"===O){if(_=(w=!f&&"left"===k||f&&"right"===k)?1:-1,f&&(_*=-1),g=d,m=p*_,b=0,f||90!==Math.abs(S)||(b=-90===S&&"left"===k||90===S&&"right"===k?z:.5),f){var A=i(S)?+S:0;if(0!==A){var E=s.deg2rad(A);T=Math.abs(Math.sin(E))*z*_,b=0}}x.xFn=function(e){return e.dx+t-(g+e.fontSize*b)*_+T*e.fontSize},x.yFn=function(e){return e.dy+m+e.fontSize*F},x.anchorFn=function(e,t){return i(t)&&90===Math.abs(t)?"middle":w?"end":"start"},x.heightFn=function(t,n,r){return"right"===e.side&&(n*=-1),n<-30?-r:n<30?-.5*r:0}}return x},B.drawTicks=function(e,t,n){n=n||{};var r=t._id+"tick",i=n.vals;"period"===t.ticklabelmode&&(i=i.slice()).shift();var o=n.layer.selectAll("path."+r).data(t.ticks?i:[],Pe);o.exit().remove(),o.enter().append("path").classed(r,1).classed("ticks",1).classed("crisp",!1!==n.crisp).call(f.stroke,t.tickcolor).style("stroke-width",h.crispRound(e,t.tickwidth,1)+"px").attr("d",n.path).style("display",null),Je(t,[L]),o.attr("transform",n.transFn)},B.drawGrid=function(e,t,n){n=n||{};var r=t._id+"grid",i=n.vals,o=n.counterAxis;if(!1===t.showgrid)i=[];else if(o&&B.shouldShowZeroLine(e,t,o))for(var a="array"===t.tickmode,s=0;s<i.length;s++){var u=i[s].x;if(a?!u:Math.abs(u)<t.dtick/100){if(i=i.slice(0,s).concat(i.slice(s+1)),!a)break;s--}}var l=n.layer.selectAll("path."+r).data(i,Pe);l.exit().remove(),l.enter().append("path").classed(r,1).classed("crisp",!1!==n.crisp),t._gw=h.crispRound(e,t.gridwidth,1),l.attr("transform",n.transFn).attr("d",n.path).call(f.stroke,t.gridcolor||"#ddd").style("stroke-width",t._gw+"px").style("display",null),Je(t,[N]),"function"===typeof n.path&&l.attr("d",n.path)},B.drawZeroLine=function(e,t,n){n=n||n;var r=t._id+"zl",i=B.shouldShowZeroLine(e,t,n.counterAxis),o=n.layer.selectAll("path."+r).data(i?[{x:0,id:t._id}]:[]);o.exit().remove(),o.enter().append("path").classed(r,1).classed("zl",1).classed("crisp",!1!==n.crisp).each((function(){n.layer.selectAll("path").sort((function(e,t){return Y(e.id,t.id)}))})),o.attr("transform",n.transFn).attr("d",n.path).call(f.stroke,t.zerolinecolor||f.defaultLine).style("stroke-width",h.crispRound(e,t.zerolinewidth,t._gw||1)+"px").style("display",null),Je(t,[P])},B.drawLabels=function(e,t,n){n=n||{};var o=e._fullLayout,a=t._id,c=a.charAt(0),f=n.cls||a+"tick",d=n.vals,p=n.labelFns,v=n.secondary?0:t.tickangle,y=(t._prevTickAngles||{})[f],g=n.layer.selectAll("g."+f).data(t.showticklabels?d:[],Pe),m=[];function b(e,o){e.each((function(e){var a=r.select(this),s=a.select(".text-math-group"),c=p.anchorFn(e,o),f=n.transFn.call(a.node(),e)+(i(o)&&0!==+o?" rotate("+o+","+p.xFn(e)+","+(p.yFn(e)-e.fontSize/2)+")":""),d=l.lineCount(a),v=U*e.fontSize,y=p.heightFn(e,i(o)?+o:0,(d-1)*v);if(y&&(f+=u(0,y)),s.empty()){var g=a.select("text");g.attr({transform:f,"text-anchor":c}),g.style("opacity",1),t._adjustTickLabelsOverflow&&t._adjustTickLabelsOverflow()}else{var m=h.bBox(s.node()).width*{end:-.5,start:.5}[c];s.attr("transform",f+u(m,0))}}))}function _(){return m.length&&Promise.all(m)}g.enter().append("g").classed(f,1).append("text").attr("text-anchor","middle").each((function(t){var n=r.select(this),i=e._promises.length;n.call(l.positionText,p.xFn(t),p.yFn(t)).call(h.font,t.font,t.fontSize,t.fontColor).text(t.text).call(l.convertToTspans,e),e._promises[i]?m.push(e._promises.pop().then((function(){b(n,v)}))):b(n,v)})),Je(t,[j]),g.exit().remove(),n.repositionOnUpdate&&g.each((function(e){r.select(this).select("text").call(l.positionText,p.xFn(e),p.yFn(e))})),t._adjustTickLabelsOverflow=function(){var n=t.ticklabeloverflow;if(n&&"allow"!==n){var i=-1!==n.indexOf("hide"),a="x"===t._id.charAt(0),u=0,l=a?e._fullLayout.width:e._fullLayout.height;if(-1!==n.indexOf("domain")){var c=s.simpleMap(t.range,t.r2l);u=t.l2p(c[0])+t._offset,l=t.l2p(c[1])+t._offset}var f=Math.min(u,l),d=Math.max(u,l),p=t.side,v=1/0,y=-1/0;for(var m in g.each((function(e){var n=r.select(this);if(n.select(".text-math-group").empty()){var o=h.bBox(n.node()),s=0;a?(o.right>d||o.left<f)&&(s=1):(o.bottom>d||o.top+(t.tickangle?0:e.fontSize/4)<f)&&(s=1);var u=n.select("text");s?i&&u.style("opacity",0):(u.style("opacity",1),v="bottom"===p||"right"===p?Math.min(v,a?o.top:o.left):-1/0,y="top"===p||"left"===p?Math.max(y,a?o.bottom:o.right):1/0)}})),o._plots){var b=o._plots[m];if(t._id===b.xaxis._id||t._id===b.yaxis._id){var _=a?b.yaxis:b.xaxis;_&&(_["_visibleLabelMin_"+t._id]=v,_["_visibleLabelMax_"+t._id]=y)}}}},t._hideCounterAxisInsideTickLabels=function(e){var n="x"===t._id.charAt(0),i=[];for(var a in o._plots){var s=o._plots[a];t._id!==s.xaxis._id&&t._id!==s.yaxis._id||i.push(n?s.yaxis:s.xaxis)}i.forEach((function(n,i){n&&Qe(n)&&(e||[P,N,L,j]).forEach((function(e){var a="tick"===e.K&&"text"===e.L&&"period"===t.ticklabelmode,s=o._plots[t._mainSubplot];(e.K===P.K?s.zerolinelayer.selectAll("."+t._id+"zl"):e.K===N.K?s.gridlayer.selectAll("."+t._id):s[t._id.charAt(0)+"axislayer"]).each((function(){var o=r.select(this);e.L&&(o=o.selectAll(e.L)),o.each((function(o){var s=t.l2p(a?Ie(o):o.x)+t._offset,u=r.select(this);s<t["_visibleLabelMax_"+n._id]&&s>t["_visibleLabelMin_"+n._id]?u.style("display","none"):"tick"!==e.K||i||u.style("display",null)}))}))}))}))},b(g,y+1?y:v);var w=null;function x(){if(b(g,v),d.length&&"x"===c&&!i(v)&&("log"!==t.type||"D"!==String(t.dtick).charAt(0))){w=0;var e,r=0,o=[];if(g.each((function(e){r=Math.max(r,e.fontSize);var n=t.l2p(e.x),i=Ue(this),a=h.bBox(i.node());o.push({top:0,bottom:10,height:10,left:n-a.width/2,right:n+a.width/2+2,width:a.width+2})})),"boundaries"!==t.tickson&&!t.showdividers||n.secondary){var a=d.length,u=Math.abs((d[a-1].x-d[0].x)*t._m)/(a-1),l=t.ticklabelposition||"",f=function(e){return-1!==l.indexOf(e)},p=f("top"),y=f("left"),m=f("right"),_=f("bottom")||y||p||m?(t.tickwidth||0)+2*V:0,x=u<2.5*r||"multicategory"===t.type;for(e=0;e<o.length-1;e++)if(s.bBoxIntersect(o[e],o[e+1],_)){w=x?90:30;break}}else{var T=2;for(t.ticks&&(T+=t.tickwidth/2),e=0;e<o.length;e++){var k=d[e].xbnd,O=o[e];if(null!==k[0]&&O.left-t.l2p(k[0])<T||null!==k[1]&&t.l2p(k[1])-O.right<T){w=90;break}}}w&&b(g,w)}}t._selections&&(t._selections[f]=g);var T=[_];t.automargin&&o._redrawFromAutoMarginCount&&90===y?(w=90,T.push((function(){b(g,y)}))):T.push(x),t._tickAngles&&T.push((function(){t._tickAngles[f]=null===w?i(v)?v:0:w}));var k=t._anchorAxis;k&&k.autorange&&Qe(t)&&!G(o,t._id)&&(o._insideTickLabelsAutorange||(o._insideTickLabelsAutorange={}),o._insideTickLabelsAutorange[k._name+".autorange"]=k.autorange,T.push((function(){g.each((function(e,n){var r=Ue(this);r.select(".text-math-group").empty()&&(t._vals[n].bb=h.bBox(r.node()))}))})));var O=s.syncOrAsync(T);return O&&O.then&&e._promises.push(O),O},B.getPxPosition=function(e,t){var n,r=e._fullLayout._size,i=t._id.charAt(0),o=t.side;return"free"!==t.anchor?n=t._anchorAxis:"x"===i?n={_offset:r.t+(1-(t.position||0))*r.h,_length:0}:"y"===i&&(n={_offset:r.l+(t.position||0)*r.w,_length:0}),"top"===o||"left"===o?n._offset:"bottom"===o||"right"===o?n._offset+n._length:void 0},B.shouldShowZeroLine=function(e,t,n){var r=s.simpleMap(t.range,t.r2l);return r[0]*r[1]<=0&&t.zeroline&&("linear"===t.type||"-"===t.type)&&!(t.rangebreaks&&t.maskBreaks(0)===D)&&(Re(t,0)||!Fe(e,t,n,r)||ze(e,t))},B.clipEnds=function(e,t){return t.filter((function(t){return Re(e,t.x)}))},B.allowAutoMargin=function(e){for(var t=B.list(e,"",!0),n=0;n<t.length;n++){var r=t[n];r.automargin&&(o.allowAutoMargin(e,qe(r)),r.mirror&&o.allowAutoMargin(e,Ve(r))),a.getComponentMethod("rangeslider","isVisible")(r)&&o.allowAutoMargin(e,Be(r))}},B.swap=function(e,t){for(var n=He(e,t),r=0;r<n.length;r++)Ye(e,n[r].x,n[r].y)}},{"../../components/color":100,"../../components/drawing":122,"../../components/titles":198,"../../constants/alignment":205,"../../constants/numerical":210,"../../lib":230,"../../lib/svg_text_utils":252,"../../plots/plots":311,"../../registry":313,"./autorange":275,"./axis_autotype":277,"./axis_ids":280,"./clean_ticks":282,"./layout_attributes":291,"./set_convert":297,"@plotly/d3":11,"fast-isnumeric":15}],277:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),o=e("../../constants/numerical").BADNUM,a=i.isArrayOrTypedArray,s=i.isDateTime,u=i.cleanNumber,l=Math.round;function c(e,t){return t?r(e):"number"===typeof e}function f(e,t){for(var n=e.length,r=0;r<n;r++)if(c(e[r],t))return!0;return!1}function h(e,t){for(var n=e.length,i=d(n),o=0,a=0,u={},c=0;c<n;c+=i){var f=e[l(c)],h=String(f);u[h]||(u[h]=1,s(f,t)&&o++,r(f)&&a++)}return o>2*a}function d(e){return Math.max(1,(e-1)/1e3)}function p(e,t){for(var n=e.length,r=d(n),i=0,a=0,s={},c=0;c<n;c+=r){var f=e[l(c)],h=String(f);if(!s[h]){s[h]=1;var p=typeof f;"boolean"===p?a++:(t?u(f)!==o:"number"===p)?i++:"string"===p&&a++}}return a>2*i}function v(e){return a(e[0])&&a(e[1])}t.exports=function(e,t,n){var r=e,i=n.noMultiCategory;if(a(r)&&!r.length)return"-";if(!i&&v(r))return"multicategory";if(i&&Array.isArray(r[0])){for(var o=[],s=0;s<r.length;s++)if(a(r[s]))for(var u=0;u<r[s].length;u++)o.push(r[s][u]);r=o}if(h(r,t))return"date";var l="strict"!==n.autotypenumbers;return p(r,l)?"category":f(r,l)?"linear":"-"}},{"../../constants/numerical":210,"../../lib":230,"fast-isnumeric":15}],278:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../registry"),o=e("../../lib"),a=e("../array_container_defaults"),s=e("./layout_attributes"),u=e("./tick_value_defaults"),l=e("./tick_mark_defaults"),c=e("./tick_label_defaults"),f=e("./category_order_defaults"),h=e("./line_grid_defaults"),d=e("./set_convert"),p=e("./constants").WEEKDAY_PATTERN,v=e("./constants").HOUR_PATTERN;function y(e,t,n){function i(n,r){return o.coerce(e,t,s.rangebreaks,n,r)}if(i("enabled")){var a=i("bounds");if(a&&a.length>=2){var u,l,c="";if(2===a.length)for(u=0;u<2;u++)if(l=m(a[u])){c=p;break}var f=i("pattern",c);if(f===p)for(u=0;u<2;u++)(l=m(a[u]))&&(t.bounds[u]=a[u]=l-1);if(f)for(u=0;u<2;u++)switch(l=a[u],f){case p:if(!r(l))return void(t.enabled=!1);if((l=+l)!==Math.floor(l)||l<0||l>=7)return void(t.enabled=!1);t.bounds[u]=a[u]=l;break;case v:if(!r(l))return void(t.enabled=!1);if((l=+l)<0||l>24)return void(t.enabled=!1);t.bounds[u]=a[u]=l}if(!1===n.autorange){var h=n.range;if(h[0]<h[1]){if(a[0]<h[0]&&a[1]>h[1])return void(t.enabled=!1)}else if(a[0]>h[0]&&a[1]<h[1])return void(t.enabled=!1)}}else{var d=i("values");if(!d||!d.length)return void(t.enabled=!1);i("dvalue")}}}t.exports=function(e,t,n,r,v){var g,m=r.letter,b=r.font||{},_=r.splomStash||{},w=n("visible",!r.visibleDflt),x=t._template||{},T=t.type||x.type||"-";"date"===T&&(i.getComponentMethod("calendars","handleDefaults")(e,t,"calendar",r.calendar),r.noTicklabelmode||(g=n("ticklabelmode")));var k="";r.noTicklabelposition&&"multicategory"!==T||(k=o.coerce(e,t,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===g?["outside","inside"]:"x"===m?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),r.noTicklabeloverflow||n("ticklabeloverflow",-1!==k.indexOf("inside")?"hide past domain":"category"===T||"multicategory"===T?"allow":"hide past div"),d(t,v);var O=!t.isValidRange(e.range);O&&r.reverseDflt&&(O="reversed"),!n("autorange",O)||"linear"!==T&&"-"!==T||n("rangemode"),n("range"),t.cleanRange(),f(e,t,n,r),"category"===T||r.noHover||n("hoverformat");var S=n("color"),A=S!==s.color.dflt?S:b.color,E=_.label||v._dfltTitle[m];if(c(e,t,n,T,r,{pass:1}),!w)return t;n("title.text",E),o.coerceFont(n,"title.font",{family:b.family,size:o.bigFont(b.size),color:A}),u(e,t,n,T),c(e,t,n,T,r,{pass:2}),l(e,t,n,r),h(e,t,n,{dfltColor:S,bgColor:r.bgColor,showGrid:r.showGrid,attributes:s}),(t.showline||t.ticks)&&n("mirror"),r.automargin&&n("automargin");var M,C="multicategory"===T;if(r.noTickson||"category"!==T&&!C||!t.ticks&&!t.showgrid||(C&&(M="boundaries"),"boundaries"===n("tickson",M)&&delete t.ticklabelposition),C&&n("showdividers")&&(n("dividercolor"),n("dividerwidth")),"date"===T)if(a(e,t,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:y}),t.rangebreaks.length){for(var I=0;I<t.rangebreaks.length;I++)if(t.rangebreaks[I].pattern===p){t._hasDayOfWeekBreaks=!0;break}if(d(t,v),v._has("scattergl")||v._has("splom"))for(var D=0;D<r.data.length;D++){var P=r.data[D];"scattergl"!==P.type&&"splom"!==P.type||(P.visible=!1,o.warn(P.type+" traces do not work on axes with rangebreaks. Setting trace "+P.index+" to `visible: false`."))}}else delete t.rangebreaks;return t};var g={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function m(e){if("string"===typeof e)return g[e.substr(0,3).toLowerCase()]}},{"../../lib":230,"../../registry":313,"../array_container_defaults":271,"./category_order_defaults":281,"./constants":283,"./layout_attributes":291,"./line_grid_defaults":293,"./set_convert":297,"./tick_label_defaults":298,"./tick_mark_defaults":299,"./tick_value_defaults":300,"fast-isnumeric":15}],279:[function(e,t,n){"use strict";var r=e("../../constants/docs"),i=r.FORMAT_LINK,o=r.DATE_FORMAT_LINK;function a(e,t){return{valType:"string",dflt:"",editType:"none",description:(t?s:u)("hover text",e)+["By default the values are formatted using "+(t?"generic number format":"`"+e+"axis.hoverformat`")+"."].join(" ")}}function s(e,t){return["Sets the "+e+" formatting rule"+(t?"for `"+t+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+i+"."].join(" ")}function u(e,t){return s(e,t)+[" And for dates see: "+o+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}t.exports={axisHoverFormat:a,descriptionOnlyNumbers:s,descriptionWithDates:u}},{"../../constants/docs":207}],280:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("./constants");function o(e,t){if(t&&t.length)for(var n=0;n<t.length;n++)if(t[n][e])return!0;return!1}n.id2name=function(e){if("string"===typeof e&&e.match(i.AX_ID_PATTERN)){var t=e.split(" ")[0].substr(1);return"1"===t&&(t=""),e.charAt(0)+"axis"+t}},n.name2id=function(e){if(e.match(i.AX_NAME_PATTERN)){var t=e.substr(5);return"1"===t&&(t=""),e.charAt(0)+t}},n.cleanId=function(e,t,n){var r=/( domain)$/.test(e);if("string"===typeof e&&e.match(i.AX_ID_PATTERN)&&(!t||e.charAt(0)===t)&&(!r||n)){var o=e.split(" ")[0].substr(1).replace(/^0+/,"");return"1"===o&&(o=""),e.charAt(0)+o+(r&&n?" domain":"")}},n.list=function(e,t,r){var i=e._fullLayout;if(!i)return[];var o,a=n.listIds(e,t),s=new Array(a.length);for(o=0;o<a.length;o++){var u=a[o];s[o]=i[u.charAt(0)+"axis"+u.substr(1)]}if(!r){var l=i._subplots.gl3d||[];for(o=0;o<l.length;o++){var c=i[l[o]];t?s.push(c[t+"axis"]):s.push(c.xaxis,c.yaxis,c.zaxis)}}return s},n.listIds=function(e,t){var n=e._fullLayout;if(!n)return[];var r=n._subplots;return t?r[t+"axis"]:r.xaxis.concat(r.yaxis)},n.getFromId=function(e,t,r){var i=e._fullLayout;return t=void 0===t||"string"!==typeof t?t:t.replace(" domain",""),"x"===r?t=t.replace(/y[0-9]*/,""):"y"===r&&(t=t.replace(/x[0-9]*/,"")),i[n.id2name(t)]},n.getFromTrace=function(e,t,i){var o=e._fullLayout,a=null;if(r.traceIs(t,"gl3d")){var s=t.scene;"scene"===s.substr(0,5)&&(a=o[s][i+"axis"])}else a=n.getFromId(e,t[i+"axis"]||i);return a},n.idSort=function(e,t){var n=e.charAt(0),r=t.charAt(0);return n!==r?n>r?1:-1:+(e.substr(1)||1)-+(t.substr(1)||1)},n.ref2id=function(e){return!!/^[xyz]/.test(e)&&e.split(" ")[0]},n.isLinked=function(e,t){return o(t,e._axisMatchGroups)||o(t,e._axisConstraintGroups)}},{"../../registry":313,"./constants":283}],281:[function(e,t,n){"use strict";function r(e,t){var n,r,i,o=t.dataAttr||e._id.charAt(0),a={};if(t.axData)n=t.axData;else for(n=[],r=0;r<t.data.length;r++){var s=t.data[r];s[o+"axis"]===e._id&&n.push(s)}for(r=0;r<n.length;r++){var u=n[r][o];for(i=0;i<u.length;i++){var l=u[i];null!==l&&void 0!==l&&(a[l]=1)}}return Object.keys(a)}t.exports=function(e,t,n,i){if("category"===t.type){var o,a=e.categoryarray,s=Array.isArray(a)&&a.length>0;s&&(o="array");var u,l=n("categoryorder",o);"array"===l&&(u=n("categoryarray")),s||"array"!==l||(l=t.categoryorder="trace"),"trace"===l?t._initialCategories=[]:"array"===l?t._initialCategories=u.slice():(u=r(t,i).sort(),"category ascending"===l?t._initialCategories=u:"category descending"===l&&(t._initialCategories=u.reverse()))}}},{}],282:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),o=e("../../constants/numerical"),a=o.ONEDAY,s=o.ONEWEEK;n.dtick=function(e,t){var n="log"===t,i="date"===t,o="category"===t,s=i?a:1;if(!e)return s;if(r(e))return(e=Number(e))<=0?s:o?Math.max(1,Math.round(e)):i?Math.max(.1,e):e;if("string"!==typeof e||!i&&!n)return s;var u=e.charAt(0),l=e.substr(1);return(l=r(l)?Number(l):0)<=0||!(i&&"M"===u&&l===Math.round(l)||n&&"L"===u||n&&"D"===u&&(1===l||2===l))?s:e},n.tick0=function(e,t,n,o){return"date"===t?i.cleanDate(e,i.dateTick0(n,o%s===0?1:0)):"D1"!==o&&"D2"!==o?r(e)?Number(e):0:void 0}},{"../../constants/numerical":210,"../../lib":230,"fast-isnumeric":15}],283:[function(e,t,n){"use strict";var r=e("../../lib/regex").counter;t.exports={idRegex:{x:r("x","( domain)?"),y:r("y","( domain)?")},attrRegex:r("[xy]axis"),xAxisMatch:r("xaxis"),yAxisMatch:r("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINSELECT:12,MINZOOM:20,DRAGGERSIZE:20,BENDPX:1.5,REDRAWDELAY:50,SELECTDELAY:100,SELECTID:"-select",DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},{"../../lib/regex":246}],284:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./autorange"),o=e("./axis_ids").id2name,a=e("./layout_attributes"),s=e("./scale_zoom"),u=e("./set_convert"),l=e("../../constants/numerical").ALMOST_EQUAL,c=e("../../constants/alignment").FROM_BL;function f(e,t,n){var i=n.axIds,s=n.layoutOut,u=n.hasImage,l=s._axisConstraintGroups,c=s._axisMatchGroups,f=t._id,v=f.charAt(0),y=((s._splomAxes||{})[v]||{})[f]||{},g=t._id,m="x"===g.charAt(0);function b(n,i){return r.coerce(e,t,a,n,i)}t._matchGroup=null,t._constraintGroup=null,b("constrain",u?"domain":"range"),r.coerce(e,t,{constraintoward:{valType:"enumerated",values:m?["left","center","right"]:["bottom","middle","top"],dflt:m?"center":"middle"}},"constraintoward");var _,w,x=t.type,T=[];for(_=0;_<i.length;_++)(w=i[_])!==g&&s[o(w)].type===x&&T.push(w);var k=d(l,g);if(k){var O=[];for(_=0;_<T.length;_++)k[w=T[_]]||O.push(w);T=O}var S,A,E=T.length;E&&(e.matches||y.matches)&&(S=r.coerce(e,t,{matches:{valType:"enumerated",values:T,dflt:-1!==T.indexOf(y.matches)?y.matches:void 0}},"matches"));var M=u&&!m?t.anchor:void 0;if(E&&!S&&(e.scaleanchor||M)&&(A=r.coerce(e,t,{scaleanchor:{valType:"enumerated",values:T}},"scaleanchor",M)),S){t._matchGroup=p(c,g,S,1);var C=s[o(S)],I=h(s,t)/h(s,C);m!==("x"===S.charAt(0))&&(I=(m?"x":"y")+I),p(l,g,S,I)}else e.matches&&-1!==i.indexOf(e.matches)&&r.warn("ignored "+t._name+'.matches: "'+e.matches+'" to avoid an infinite loop');if(A){var D=b("scaleratio");D||(D=t.scaleratio=1),p(l,g,A,D)}else e.scaleanchor&&-1!==i.indexOf(e.scaleanchor)&&r.warn("ignored "+t._name+'.scaleanchor: "'+e.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function h(e,t){var n=t.domain;return n||(n=e[o(t.overlaying)].domain),n[1]-n[0]}function d(e,t){for(var n=0;n<e.length;n++)if(e[n][t])return e[n];return null}function p(e,t,n,r){var i,o,a,s,u,l=d(e,t);null===l?((l={})[t]=1,u=e.length,e.push(l)):u=e.indexOf(l);var c=Object.keys(l);for(i=0;i<e.length;i++)if(a=e[i],i!==u&&a[n]){var f=a[n];for(o=0;o<c.length;o++)a[s=c[o]]=v(f,v(r,l[s]));return void e.splice(u,1)}if(1!==r)for(o=0;o<c.length;o++){var h=c[o];l[h]=v(r,l[h])}l[n]=1}function v(e,t){var n,r,i="",o="";"string"===typeof e&&(n=(i=e.match(/^[xy]*/)[0]).length,e=+e.substr(n)),"string"===typeof t&&(r=(o=t.match(/^[xy]*/)[0]).length,t=+t.substr(r));var a=e*t;return n||r?n&&r&&i.charAt(0)!==o.charAt(0)?n===r?a:(n>r?i.substr(r):o.substr(n))+a:i+o+e*t:a}function y(e,t){for(var n=t._size,r=n.h/n.w,i={},o=Object.keys(e),a=0;a<o.length;a++){var s=o[a],u=e[s];if("string"===typeof u){var l=u.match(/^[xy]*/)[0],c=l.length;u=+u.substr(c);for(var f="y"===l.charAt(0)?r:1/r,h=0;h<c;h++)u*=f}i[s]=u}return i}function g(e,t){var n=e._inputDomain,r=c[e.constraintoward],i=n[0]+(n[1]-n[0])*r;e.domain=e._input.domain=[i+(n[0]-i)/t,i+(n[1]-i)/t],e.setScale()}n.handleDefaults=function(e,t,n){var i,a,s,l,c,h,d,p,v=n.axIds,y=n.axHasImage,g=t._axisConstraintGroups=[],m=t._axisMatchGroups=[];for(i=0;i<v.length;i++)f(c=e[l=o(v[i])],h=t[l],{axIds:v,layoutOut:t,hasImage:y[l]});function b(e,n){for(i=0;i<e.length;i++)for(s in a=e[i])t[o(s)][n]=a}for(b(m,"_matchGroup"),i=0;i<g.length;i++)for(s in a=g[i])if((h=t[o(s)]).fixedrange){for(var _ in a){var w=o(_);!1===(e[w]||{}).fixedrange&&r.warn("fixedrange was specified as false for axis "+w+" but was overridden because another axis in its constraint group has fixedrange true"),t[w].fixedrange=!0}break}for(i=0;i<g.length;){for(s in a=g[i]){(h=t[o(s)])._matchGroup&&Object.keys(h._matchGroup).length===Object.keys(a).length&&(g.splice(i,1),i--);break}i++}b(g,"_constraintGroup");var x=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],T=!1,k=!1;function O(){p=h[d],"rangebreaks"===d&&(k=h._hasDayOfWeekBreaks)}for(i=0;i<m.length;i++){a=m[i];for(var S=0;S<x.length;S++){var A;for(s in d=x[S],p=null,a)if(c=e[l=o(s)],h=t[l],d in h){if(!h.matches&&(A=h,d in c)){O();break}null===p&&d in c&&O()}if("range"===d&&p&&(T=!0),"autorange"===d&&null===p&&T&&(p=!1),null===p&&d in A&&(p=A[d]),null!==p)for(s in a)(h=t[o(s)])[d]="range"===d?p.slice():p,"rangebreaks"===d&&(h._hasDayOfWeekBreaks=k,u(h,t))}}},n.enforce=function(e){var t,n,r,a,u,c,f,h,d=e._fullLayout,p=d._axisConstraintGroups||[];for(t=0;t<p.length;t++){r=y(p[t],d);var v=Object.keys(r),m=1/0,b=0,_=1/0,w={},x={},T=!1;for(n=0;n<v.length;n++)x[a=v[n]]=u=d[o(a)],u._inputDomain?u.domain=u._inputDomain.slice():u._inputDomain=u.domain.slice(),u._inputRange||(u._inputRange=u.range.slice()),u.setScale(),w[a]=c=Math.abs(u._m)/r[a],m=Math.min(m,c),"domain"!==u.constrain&&u._constraintShrinkable||(_=Math.min(_,c)),delete u._constraintShrinkable,b=Math.max(b,c),"domain"===u.constrain&&(T=!0);if(!(m>l*b)||T)for(n=0;n<v.length;n++)if(c=w[a=v[n]],f=(u=x[a]).constrain,c!==_||"domain"===f)if(h=c/_,"range"===f)s(u,h);else{var k=u._inputDomain,O=(u.domain[1]-u.domain[0])/(k[1]-k[0]),S=(u.r2l(u.range[1])-u.r2l(u.range[0]))/(u.r2l(u._inputRange[1])-u.r2l(u._inputRange[0]));if((h/=O)*S<1){u.domain=u._input.domain=k.slice(),s(u,h);continue}if(S<1&&(u.range=u._input.range=u._inputRange.slice(),h*=S),u.autorange){var A=u.r2l(u.range[0]),E=u.r2l(u.range[1]),M=(A+E)/2,C=M,I=M,D=Math.abs(E-M),P=M-D*h*1.0001,N=M+D*h*1.0001,L=i.makePadFn(d,u,0),j=i.makePadFn(d,u,1);g(u,h);var R,F,z=Math.abs(u._m),U=i.concatExtremes(e,u),q=U.min,V=U.max;for(F=0;F<q.length;F++)(R=q[F].val-L(q[F])/z)>P&&R<C&&(C=R);for(F=0;F<V.length;F++)(R=V[F].val+j(V[F])/z)<N&&R>I&&(I=R);h/=(I-C)/(2*D),C=u.l2r(C),I=u.l2r(I),u.range=u._input.range=A<E?[C,I]:[I,C]}g(u,h)}}},n.getAxisGroup=function(e,t){for(var n=e._axisMatchGroups,r=0;r<n.length;r++)if(n[r][t])return"g"+r;return t},n.clean=function(e,t){if(t._inputDomain){for(var n=!1,r=t._id,i=e._fullLayout._axisConstraintGroups,o=0;o<i.length;o++)if(i[o][r]){n=!0;break}n&&"domain"===t.constrain||(t._input.domain=t.domain=t._inputDomain,delete t._inputDomain)}}},{"../../constants/alignment":205,"../../constants/numerical":210,"../../lib":230,"./autorange":275,"./axis_ids":280,"./layout_attributes":291,"./scale_zoom":295,"./set_convert":297}],285:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("tinycolor2"),o=e("has-passive-events"),a=e("../../registry"),s=e("../../lib"),u=s.strTranslate,l=e("../../lib/svg_text_utils"),c=e("../../components/color"),f=e("../../components/drawing"),h=e("../../components/fx"),d=e("./axes"),p=e("../../lib/setcursor"),v=e("../../components/dragelement"),y=e("../../components/dragelement/helpers"),g=y.selectingOrDrawing,m=y.freeMode,b=e("../../constants/alignment").FROM_TL,_=e("../../lib/clear_gl_canvases"),w=e("../../plot_api/subroutines").redrawReglTraces,x=e("../plots"),T=e("./axis_ids").getFromId,k=e("./select").prepSelect,O=e("./select").clearSelect,S=e("./select").selectOnClick,A=e("./scale_zoom"),E=e("./constants"),M=E.MINDRAG,C=E.MINZOOM,I=!0;function D(e,t,n,o,u,c,p,y){var I,D,P,H,Z,ee,te,ne,re,ie,oe,ae,se,ue,le,ce,fe,he,de,pe,ve,ye,ge,me=e._fullLayout._zoomlayer,be=p+y==="nsew",_e=1===(p+y).length;function we(){if(I=t.xaxis,D=t.yaxis,re=I._length,ie=D._length,te=I._offset,ne=D._offset,(P={})[I._id]=I,(H={})[D._id]=D,p&&y)for(var n=t.overlays,r=0;r<n.length;r++){var i=n[r].xaxis;P[i._id]=i;var o=n[r].yaxis;H[o._id]=o}Z=$(P),ee=$(H),se=L(Z,y),ue=L(ee,p),le=!ue&&!se,ae=Q(e,e._fullLayout._axisMatchGroups,P,H);var a=(oe=Q(e,e._fullLayout._axisConstraintGroups,P,H,ae)).isSubplotConstrained||ae.isSubplotConstrained;ce=y||a,fe=p||a;var s=e._fullLayout;he=s._has("scattergl"),de=s._has("splom"),pe=s._has("svg")}we();var xe=U(ue+se,e._fullLayout.dragmode,be),Te=N(t,p+y+"drag",xe,n,o,u,c);if(le&&!be)return Te.onmousedown=null,Te.style.pointerEvents="none",Te;var ke,Oe,Se,Ae,Ee,Me,Ce,Ie,De,Pe,Ne={element:Te,gd:e,plotinfo:t};function Le(){Ne.plotinfo.selection=!1,O(e)}function je(e,n){var i=Ne.gd;if(i._fullLayout._activeShapeIndex>=0)i._fullLayout._deactivateShape(i);else{var o=i._fullLayout.clickmode;if(W(i),2!==e||_e||Xe(),be)o.indexOf("select")>-1&&S(n,i,Z,ee,t.id,Ne),o.indexOf("event")>-1&&h.click(i,n,t.id);else if(1===e&&_e){var s=p?D:I,u="s"===p||"w"===y?0:1,c=s._name+".range["+u+"]",f=j(s,u),d="left",v="middle";if(s.fixedrange)return;p?(v="n"===p?"top":"bottom","right"===s.side&&(d="right")):"e"===y&&(d="right"),i._context.showAxisRangeEntryBoxes&&r.select(Te).call(l.makeEditable,{gd:i,immediate:!0,background:i._fullLayout.paper_bgcolor,text:String(f),fill:s.tickfont?s.tickfont.color:"#444",horizontalAlign:d,verticalAlign:v}).on("edit",(function(e){var t=s.d2r(e);void 0!==t&&a.call("_guiRelayout",i,c,t)}))}}}function Re(t,n,r){var o=Te.getBoundingClientRect();ke=n-o.left,Oe=r-o.top,e._fullLayout._calcInverseTransform(e);var a=s.apply3DTransform(e._fullLayout._invTransform)(ke,Oe);ke=a[0],Oe=a[1],Se={l:ke,r:ke,w:0,t:Oe,b:Oe,h:0},Ae=e._hmpixcount?e._hmlumcount/e._hmpixcount:i(e._fullLayout.plot_bgcolor).getLuminance(),Me=!1,Ce="xy",Pe=!1,Ie=q(me,Ae,te,ne,Ee="M0,0H"+re+"V"+ie+"H0V0"),De=V(me,te,ne)}function Fe(t,n){if(e._transitioningWithDuration)return!1;var r=Math.max(0,Math.min(re,ye*t+ke)),i=Math.max(0,Math.min(ie,ge*n+Oe)),o=Math.abs(r-ke),a=Math.abs(i-Oe);function s(){Ce="",Se.r=Se.l,Se.t=Se.b,De.attr("d","M0,0Z")}if(Se.l=Math.min(ke,r),Se.r=Math.max(ke,r),Se.t=Math.min(Oe,i),Se.b=Math.max(Oe,i),oe.isSubplotConstrained)o>C||a>C?(Ce="xy",o/re>a/ie?(a=o*ie/re,Oe>i?Se.t=Oe-a:Se.b=Oe+a):(o=a*re/ie,ke>r?Se.l=ke-o:Se.r=ke+o),De.attr("d",X(Se))):s();else if(ae.isSubplotConstrained)if(o>C||a>C){Ce="xy";var u=Math.min(Se.l/re,(ie-Se.b)/ie),l=Math.max(Se.r/re,(ie-Se.t)/ie);Se.l=u*re,Se.r=l*re,Se.b=(1-u)*ie,Se.t=(1-l)*ie,De.attr("d",X(Se))}else s();else!ue||a<Math.min(Math.max(.6*o,M),C)?o<M||!se?s():(Se.t=0,Se.b=ie,Ce="x",De.attr("d",G(Se,Oe))):!se||o<Math.min(.6*a,C)?(Se.l=0,Se.r=re,Ce="y",De.attr("d",K(Se,ke))):(Ce="xy",De.attr("d",X(Se)));Se.w=Se.r-Se.l,Se.h=Se.b-Se.t,Ce&&(Pe=!0),e._dragged=Pe,B(Ie,De,Se,Ee,Me,Ae),ze(),e.emit("plotly_relayouting",ve),Me=!0}function ze(){ve={},"xy"!==Ce&&"x"!==Ce||(R(Z,Se.l/re,Se.r/re,ve,oe.xaxes),Ge("x",ve)),"xy"!==Ce&&"y"!==Ce||(R(ee,(ie-Se.b)/ie,(ie-Se.t)/ie,ve,oe.yaxes),Ge("y",ve))}function Ue(){ze(),W(e),Qe(),Y(e)}Ne.prepFn=function(t,n,r){var i=Ne.dragmode,o=e._fullLayout.dragmode;o!==i&&(Ne.dragmode=o),we(),ye=e._fullLayout._invScaleX,ge=e._fullLayout._invScaleY,le||(be?t.shiftKey?"pan"===o?o="zoom":g(o)||(o="pan"):t.ctrlKey&&(o="pan"):o="pan"),m(o)?Ne.minDrag=1:Ne.minDrag=void 0,g(o)?(Ne.xaxes=Z,Ne.yaxes=ee,k(t,n,r,Ne,o)):(Ne.clickFn=je,g(i)&&Le(),le||("zoom"===o?(Ne.moveFn=Fe,Ne.doneFn=Ue,Ne.minDrag=1,Re(t,n,r)):"pan"===o&&(Ne.moveFn=Ye,Ne.doneFn=Qe))),e._fullLayout._redrag=function(){var t=e._dragdata;if(t&&t.element===Te){var n=e._fullLayout.dragmode;g(n)||(we(),Je([0,0,re,ie]),Ne.moveFn(t.dx,t.dy))}}},v.init(Ne);var qe=[0,0,re,ie],Ve=null,Be=E.REDRAWDELAY,He=t.mainplot?e._fullLayout._plots[t.mainplot]:t;function We(t){if(e._context._scrollZoom.cartesian||e._fullLayout._enablescrollzoom){if(Le(),e._transitioningWithDuration)return t.preventDefault(),void t.stopPropagation();we(),clearTimeout(Ve);var n=-t.deltaY;if(isFinite(n)||(n=t.wheelDelta/10),isFinite(n)){var r,i=Math.exp(-Math.min(Math.max(n,-20),20)/200),o=He.draglayer.select(".nsewdrag").node().getBoundingClientRect(),a=(t.clientX-o.left)/o.width,u=(o.bottom-t.clientY)/o.height;if(ce){for(y||(a=.5),r=0;r<Z.length;r++)l(Z[r],a,i);Ge("x"),qe[2]*=i,qe[0]+=qe[2]*a*(1/i-1)}if(fe){for(p||(u=.5),r=0;r<ee.length;r++)l(ee[r],u,i);Ge("y"),qe[3]*=i,qe[1]+=qe[3]*(1-u)*(1/i-1)}Je(qe),Ke(),e.emit("plotly_relayouting",ve),Ve=setTimeout((function(){e._fullLayout&&(qe=[0,0,re,ie],Qe())}),Be),t.preventDefault()}else s.log("Did not find wheel motion attributes: ",t)}function l(e,t,n){if(!e.fixedrange){var r=s.simpleMap(e.range,e.r2l),i=r[0]+(r[1]-r[0])*t;e.range=r.map(o)}function o(t){return e.l2r(i+(t-i)*n)}}}function Ye(t,n){if(t*=ye,n*=ge,!e._transitioningWithDuration){if(e._fullLayout._replotting=!0,"ew"===se||"ns"===ue){var r=se?-t:0,i=ue?-n:0;if(ae.isSubplotConstrained){if(se&&ue){var o=(t/re-n/ie)/2;r=-(t=o*re),i=-(n=-o*ie)}ue?r=-i*re/ie:i=-r*ie/re}return se&&(F(Z,t),Ge("x")),ue&&(F(ee,n),Ge("y")),Je([r,i,re,ie]),Ke(),void e.emit("plotly_relayouting",ve)}var a,s,u="w"===se===("n"===ue)?1:-1;if(se&&ue&&(oe.isSubplotConstrained||ae.isSubplotConstrained)){var l=(t/re+u*n/ie)/2;t=l*re,n=u*l*ie}if("w"===se?t=d(Z,0,t):"e"===se?t=d(Z,1,-t):se||(t=0),"n"===ue?n=d(ee,1,n):"s"===ue?n=d(ee,0,-n):ue||(n=0),a="w"===se?t:0,s="n"===ue?n:0,oe.isSubplotConstrained&&!ae.isSubplotConstrained||ae.isSubplotConstrained&&se&&ue&&u>0){var c;if(ae.isSubplotConstrained||!se&&1===ue.length){for(c=0;c<Z.length;c++)Z[c].range=Z[c]._r.slice(),A(Z[c],1-n/ie);a=(t=n*re/ie)/2}if(ae.isSubplotConstrained||!ue&&1===se.length){for(c=0;c<ee.length;c++)ee[c].range=ee[c]._r.slice(),A(ee[c],1-t/re);s=(n=t*ie/re)/2}}ae.isSubplotConstrained&&ue||Ge("x"),ae.isSubplotConstrained&&se||Ge("y");var f=re-t,h=ie-n;!ae.isSubplotConstrained||se&&ue||(se?(s=a?0:t*ie/re,h=f*ie/re):(a=s?0:n*re/ie,f=h*re/ie)),Je([a,s,f,h]),Ke(),e.emit("plotly_relayouting",ve)}function d(e,t,n){for(var r,i,o=1-t,a=0;a<e.length;a++){var s=e[a];if(!s.fixedrange){r=s,i=s._rl[o]+(s._rl[t]-s._rl[o])/z(n/s._length);var u=s.l2r(i);!1!==u&&void 0!==u&&(s.range[t]=u)}}return r._length*(r._rl[t]-i)/(r._rl[t]-r._rl[o])}}function Ge(e,t){for(var n=ae.isSubplotConstrained?{x:ee,y:Z}[e]:ae[e+"axes"],r=ae.isSubplotConstrained?{x:Z,y:ee}[e]:[],i=0;i<n.length;i++){var o=n[i],a=o._id,s=ae.xLinks[a]||ae.yLinks[a],u=r[0]||P[s]||H[s];u&&(t?(t[o._name+".range[0]"]=t[u._name+".range[0]"],t[o._name+".range[1]"]=t[u._name+".range[1]"]):o.range=u.range.slice())}}function Ke(){var t,n=[];function r(e){for(t=0;t<e.length;t++)e[t].fixedrange||n.push(e[t]._id)}for(ce&&(r(Z),r(oe.xaxes),r(ae.xaxes)),fe&&(r(ee),r(oe.yaxes),r(ae.yaxes)),ve={},t=0;t<n.length;t++){var i=n[t],o=T(e,i);d.drawOne(e,o,{skipTitle:!0}),ve[o._name+".range[0]"]=o.range[0],ve[o._name+".range[1]"]=o.range[1]}d.redrawComponents(e,n)}function Xe(){if(!e._transitioningWithDuration){var t=e._context.doubleClick,n=[];se&&(n=n.concat(Z)),ue&&(n=n.concat(ee)),ae.xaxes&&(n=n.concat(ae.xaxes)),ae.yaxes&&(n=n.concat(ae.yaxes));var r,i,o,s={};if("reset+autosize"===t)for(t="autosize",i=0;i<n.length;i++)if((r=n[i])._rangeInitial&&(r.range[0]!==r._rangeInitial[0]||r.range[1]!==r._rangeInitial[1])||!r._rangeInitial&&!r.autorange){t="reset";break}if("autosize"===t)for(i=0;i<n.length;i++)(r=n[i]).fixedrange||(s[r._name+".autorange"]=!0);else if("reset"===t)for((se||oe.isSubplotConstrained)&&(n=n.concat(oe.xaxes)),ue&&!oe.isSubplotConstrained&&(n=n.concat(oe.yaxes)),oe.isSubplotConstrained&&(se?ue||(n=n.concat(ee)):n=n.concat(Z)),i=0;i<n.length;i++)(r=n[i]).fixedrange||(r._rangeInitial?(o=r._rangeInitial,s[r._name+".range[0]"]=o[0],s[r._name+".range[1]"]=o[1]):s[r._name+".autorange"]=!0);e.emit("plotly_doubleclick",null),a.call("_guiRelayout",e,s)}}function Qe(){Je([0,0,re,ie]),s.syncOrAsync([x.previousPromises,function(){e._fullLayout._replotting=!1,a.call("_guiRelayout",e,ve)}],e)}function Je(t){var n,r,i,o,u=e._fullLayout,l=u._plots,c=u._subplots.cartesian;if(de&&a.subplotsRegistry.splom.drag(e),he)for(n=0;n<c.length;n++)if(i=(r=l[c[n]]).xaxis,o=r.yaxis,r._scene){var h=s.simpleMap(i.range,i.r2l),d=s.simpleMap(o.range,o.r2l);r._scene.update({range:[h[0],d[0],h[1],d[1]]})}if((de||he)&&(_(e),w(e)),pe){var v=t[2]/I._length,g=t[3]/D._length;for(n=0;n<c.length;n++){i=(r=l[c[n]]).xaxis,o=r.yaxis;var m,b,x,T,k=(ce||ae.isSubplotConstrained)&&!i.fixedrange&&P[i._id],O=(fe||ae.isSubplotConstrained)&&!o.fixedrange&&H[o._id];if(k?(m=v,x=y||ae.isSubplotConstrained?t[0]:et(i,m)):ae.xaHash[i._id]?(m=v,x=t[0]*i._length/I._length):ae.yaHash[i._id]?(m=g,x="ns"===ue?-t[1]*i._length/D._length:et(i,m,{n:"top",s:"bottom"}[ue])):x=Ze(i,m=$e(i,v,g)),O?(b=g,T=p||ae.isSubplotConstrained?t[1]:et(o,b)):ae.yaHash[o._id]?(b=g,T=t[1]*o._length/D._length):ae.xaHash[o._id]?(b=v,T="ew"===se?-t[0]*o._length/I._length:et(o,b,{e:"right",w:"left"}[se])):T=Ze(o,b=$e(o,v,g)),m||b){m||(m=1),b||(b=1);var S=i._offset-x/m,A=o._offset-T/b;r.clipRect.call(f.setTranslate,x,T).call(f.setScale,m,b),r.plot.call(f.setTranslate,S,A).call(f.setScale,1/m,1/b),m===r.xScaleFactor&&b===r.yScaleFactor||(f.setPointGroupScale(r.zoomScalePts,m,b),f.setTextPointsScale(r.zoomScaleTxt,m,b)),f.hideOutsideRangePoints(r.clipOnAxisFalseTraces,r),r.xScaleFactor=m,r.yScaleFactor=b}}}}function $e(e,t,n){return e.fixedrange?0:ce&&oe.xaHash[e._id]?t:fe&&(oe.isSubplotConstrained?oe.xaHash:oe.yaHash)[e._id]?n:0}function Ze(e,t){return t?(e.range=e._r.slice(),A(e,t),et(e,t)):0}function et(e,t,n){return e._length*(1-t)*b[n||e.constraintoward||"middle"]}return p.length*y.length!==1&&J(Te,We),Te}function P(e,t,n,r){var i=s.ensureSingle(e.draglayer,t,n,(function(t){t.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",e.id)}));return i.call(p,r),i.node()}function N(e,t,n,i,o,a,s){var u=P(e,"rect",t,n);return r.select(u).call(f.setRect,i,o,a,s),u}function L(e,t){for(var n=0;n<e.length;n++)if(!e[n].fixedrange)return t;return""}function j(e,t){var n,i=e.range[t],o=Math.abs(i-e.range[1-t]);return"date"===e.type?i:"log"===e.type?(n=Math.ceil(Math.max(0,-Math.log(o)/Math.LN10))+3,r.format("."+n+"g")(Math.pow(10,i))):(n=Math.floor(Math.log(Math.abs(i))/Math.LN10)-Math.floor(Math.log(o)/Math.LN10)+4,r.format("."+String(n)+"g")(i))}function R(e,t,n,r,i){for(var o=0;o<e.length;o++){var a=e[o];if(!a.fixedrange)if(a.rangebreaks){var s="y"===a._id.charAt(0),u=s?1-t:t,l=s?1-n:n;r[a._name+".range[0]"]=a.l2r(a.p2l(u*a._length)),r[a._name+".range[1]"]=a.l2r(a.p2l(l*a._length))}else{var c=a._rl[0],f=a._rl[1]-c;r[a._name+".range[0]"]=a.l2r(c+f*t),r[a._name+".range[1]"]=a.l2r(c+f*n)}}if(i&&i.length){var h=(t+(1-n))/2;R(i,h,1-h,r,[])}}function F(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(!r.fixedrange)if(r.rangebreaks){var i=0,o=r._length,a=(r.p2l(i+t)-r.p2l(i)+(r.p2l(o+t)-r.p2l(o)))/2;r.range=[r.l2r(r._rl[0]-a),r.l2r(r._rl[1]-a)]}else r.range=[r.l2r(r._rl[0]-t/r._m),r.l2r(r._rl[1]-t/r._m)]}}function z(e){return 1-(e>=0?Math.min(e,.9):1/(1/Math.max(e,-.3)+3.222))}function U(e,t,n){return e?"nsew"===e?n?"":"pan"===t?"move":"crosshair":e.toLowerCase()+"-resize":"pointer"}function q(e,t,n,r,i){return e.append("path").attr("class","zoombox").style({fill:t>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",u(n,r)).attr("d",i+"Z")}function V(e,t,n){return e.append("path").attr("class","zoombox-corners").style({fill:c.background,stroke:c.defaultLine,"stroke-width":1,opacity:0}).attr("transform",u(t,n)).attr("d","M0,0Z")}function B(e,t,n,r,i,o){e.attr("d",r+"M"+n.l+","+n.t+"v"+n.h+"h"+n.w+"v-"+n.h+"h-"+n.w+"Z"),H(e,t,i,o)}function H(e,t,n,r){n||(e.transition().style("fill",r>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),t.transition().style("opacity",1).duration(200))}function W(e){r.select(e).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function Y(e){I&&e.data&&e._context.showTips&&(s.notifier(s._(e,"Double-click to zoom back out"),"long"),I=!1)}function G(e,t){return"M"+(e.l-.5)+","+(t-C-.5)+"h-3v"+(2*C+1)+"h3ZM"+(e.r+.5)+","+(t-C-.5)+"h3v"+(2*C+1)+"h-3Z"}function K(e,t){return"M"+(t-C-.5)+","+(e.t-.5)+"v-3h"+(2*C+1)+"v3ZM"+(t-C-.5)+","+(e.b+.5)+"v3h"+(2*C+1)+"v-3Z"}function X(e){var t=Math.floor(Math.min(e.b-e.t,e.r-e.l,C)/2);return"M"+(e.l-3.5)+","+(e.t-.5+t)+"h3v"+-t+"h"+t+"v-3h-"+(t+3)+"ZM"+(e.r+3.5)+","+(e.t-.5+t)+"h-3v"+-t+"h"+-t+"v-3h"+(t+3)+"ZM"+(e.r+3.5)+","+(e.b+.5-t)+"h-3v"+t+"h"+-t+"v3h"+(t+3)+"ZM"+(e.l-3.5)+","+(e.b+.5-t)+"h3v"+t+"h"+t+"v3h-"+(t+3)+"Z"}function Q(e,t,n,r,i){for(var o,a,u,l,c=!1,f={},h={},d=(i||{}).xaHash,p=(i||{}).yaHash,v=0;v<t.length;v++){var y=t[v];for(o in n)if(y[o]){for(u in y)i&&(d[u]||p[u])||("x"===u.charAt(0)?n:r)[u]||(f[u]=o);for(a in r)i&&(d[a]||p[a])||!y[a]||(c=!0)}for(a in r)if(y[a])for(l in y)i&&(d[l]||p[l])||("x"===l.charAt(0)?n:r)[l]||(h[l]=a)}c&&(s.extendFlat(f,h),h={});var g={},m=[];for(u in f){var b=T(e,u);m.push(b),g[b._id]=b}var _={},w=[];for(l in h){var x=T(e,l);w.push(x),_[x._id]=x}return{xaHash:g,yaHash:_,xaxes:m,yaxes:w,xLinks:f,yLinks:h,isSubplotConstrained:c}}function J(e,t){if(o){var n=void 0!==e.onwheel?"wheel":"mousewheel";e._onwheel&&e.removeEventListener(n,e._onwheel),e._onwheel=t,e.addEventListener(n,t,{passive:!1})}else void 0!==e.onwheel?e.onwheel=t:void 0!==e.onmousewheel?e.onmousewheel=t:e.isAddedWheelEvent||(e.isAddedWheelEvent=!0,e.addEventListener("wheel",t,{passive:!1}))}function $(e){var t=[];for(var n in e)t.push(e[n]);return t}t.exports={makeDragBox:D,makeDragger:P,makeRectDragger:N,makeZoombox:q,makeCorners:V,updateZoombox:B,xyCorners:X,transitionZoombox:H,removeZoombox:W,showDoubleClickNotifier:Y,attachWheelEventHandler:J}},{"../../components/color":100,"../../components/dragelement":119,"../../components/dragelement/helpers":118,"../../components/drawing":122,"../../components/fx":140,"../../constants/alignment":205,"../../lib":230,"../../lib/clear_gl_canvases":218,"../../lib/setcursor":250,"../../lib/svg_text_utils":252,"../../plot_api/subroutines":266,"../../registry":313,"../plots":311,"./axes":276,"./axis_ids":280,"./constants":283,"./scale_zoom":295,"./select":296,"@plotly/d3":11,"has-passive-events":47,tinycolor2:65}],286:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../../components/fx"),o=e("../../components/dragelement"),a=e("../../lib/setcursor"),s=e("./dragbox").makeDragBox,u=e("./constants").DRAGGERSIZE;n.initInteractions=function(e){var t=e._fullLayout;if(e._context.staticPlot)r.select(e).selectAll(".drag").remove();else if(t._has("cartesian")||t._has("splom")){Object.keys(t._plots||{}).sort((function(e,n){if((t._plots[e].mainplot&&!0)===(t._plots[n].mainplot&&!0)){var r=e.split("y"),i=n.split("y");return r[0]===i[0]?Number(r[1]||1)-Number(i[1]||1):Number(r[0]||1)-Number(i[0]||1)}return t._plots[e].mainplot?1:-1})).forEach((function(n){var r=t._plots[n],a=r.xaxis,l=r.yaxis;if(!r.mainplot){var c=s(e,r,a._offset,l._offset,a._length,l._length,"ns","ew");c.onmousemove=function(t){e._fullLayout._rehover=function(){e._fullLayout._hoversubplot===n&&e._fullLayout._plots[n]&&i.hover(e,t,n)},i.hover(e,t,n),e._fullLayout._lasthover=c,e._fullLayout._hoversubplot=n},c.onmouseout=function(t){e._dragging||(e._fullLayout._hoversubplot=null,o.unhover(e,t))},e._context.showAxisDragHandles&&(s(e,r,a._offset-u,l._offset-u,u,u,"n","w"),s(e,r,a._offset+a._length,l._offset-u,u,u,"n","e"),s(e,r,a._offset-u,l._offset+l._length,u,u,"s","w"),s(e,r,a._offset+a._length,l._offset+l._length,u,u,"s","e"))}if(e._context.showAxisDragHandles){if(n===a._mainSubplot){var f=a._mainLinePosition;"top"===a.side&&(f-=u),s(e,r,a._offset+.1*a._length,f,.8*a._length,u,"","ew"),s(e,r,a._offset,f,.1*a._length,u,"","w"),s(e,r,a._offset+.9*a._length,f,.1*a._length,u,"","e")}if(n===l._mainSubplot){var h=l._mainLinePosition;"right"!==l.side&&(h-=u),s(e,r,h,l._offset+.1*l._length,u,.8*l._length,"ns",""),s(e,r,h,l._offset+.9*l._length,u,.1*l._length,"s",""),s(e,r,h,l._offset,u,.1*l._length,"n","")}}}));var a=t._hoverlayer.node();a.onmousemove=function(n){n.target=e._fullLayout._lasthover,i.hover(e,n,t._hoversubplot)},a.onclick=function(t){t.target=e._fullLayout._lasthover,i.click(e,t)},a.onmousedown=function(t){e._fullLayout._lasthover.onmousedown(t)},n.updateFx(e)}},n.updateFx=function(e){var t=e._fullLayout,n="pan"===t.dragmode?"move":"crosshair";a(t._draggers,n)}},{"../../components/dragelement":119,"../../components/fx":140,"../../lib/setcursor":250,"./constants":283,"./dragbox":285,"@plotly/d3":11}],287:[function(e,t,n){"use strict";function r(e){var t=e._fullLayout._zoomlayer;t&&t.selectAll(".outline-controllers").remove()}function i(e){var t=e._fullLayout._zoomlayer;t&&t.selectAll(".select-outline").remove(),e._fullLayout._drawing=!1}t.exports={clearOutlineControllers:r,clearSelect:i}},{}],288:[function(e,t,n){"use strict";var r=e("../../lib").strTranslate;function i(e,t){switch(e.type){case"log":return e.p2d(t);case"date":return e.p2r(t,0,e.calendar);default:return e.p2r(t)}}function o(e,t){switch(e.type){case"log":return e.d2p(t);case"date":return e.r2p(t,0,e.calendar);default:return e.r2p(t)}}function a(e){var t="y"===e._id.charAt(0)?1:0;return function(n){return i(e,n[t])}}function s(e){return r(e.xaxis._offset,e.yaxis._offset)}t.exports={p2r:i,r2p:o,axValue:a,getTransform:s}},{"../../lib":230}],289:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../lib"),o=e("./axis_ids");t.exports=function(e){return function(t,n){var a=t[e];if(Array.isArray(a))for(var s=r.subplotsRegistry.cartesian,u=s.idRegex,l=n._subplots,c=l.xaxis,f=l.yaxis,h=l.cartesian,d=n._has("cartesian")||n._has("gl2d"),p=0;p<a.length;p++){var v=a[p];if(i.isPlainObject(v)){var y=o.cleanId(v.xref,"x",!1),g=o.cleanId(v.yref,"y",!1),m=u.x.test(y),b=u.y.test(g);if(m||b){d||i.pushUnique(n._basePlotModules,s);var _=!1;m&&-1===c.indexOf(y)&&(c.push(y),_=!0),b&&-1===f.indexOf(g)&&(f.push(g),_=!0),_&&m&&b&&h.push(y+g)}}}}}},{"../../lib":230,"../../registry":313,"./axis_ids":280}],290:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../../registry"),o=e("../../lib"),a=e("../plots"),s=e("../../components/drawing"),u=e("../get_data").getModuleCalcData,l=e("./axis_ids"),c=e("./constants"),f=e("../../constants/xmlns_namespaces"),h=o.ensureSingle;function d(e,t,n){return o.ensureSingle(e,t,n,(function(e){e.datum(n)}))}function p(e,t,n,o,a){for(var l,f,h,d=c.traceLayerClasses,p=e._fullLayout,v=p._modules,y=[],g=[],m=0;m<v.length;m++){var b=(l=v[m]).name,_=i.modules[b].categories;if(_.svg){var w=l.layerName||b+"layer",x=l.plot;h=(f=u(n,x))[0],n=f[1],h.length&&y.push({i:d.indexOf(w),className:w,plotMethod:x,cdModule:h}),_.zoomScale&&g.push("."+w)}}y.sort((function(e,t){return e.i-t.i}));var T=t.plot.selectAll("g.mlayer").data(y,(function(e){return e.className}));if(T.enter().append("g").attr("class",(function(e){return e.className})).classed("mlayer",!0).classed("rangeplot",t.isRangePlot),T.exit().remove(),T.order(),T.each((function(n){var i=r.select(this),u=n.className;n.plotMethod(e,t,n.cdModule,i,o,a),-1===c.clipOnAxisFalseQuery.indexOf("."+u)&&s.setClipUrl(i,t.layerClipId,e)})),p._has("scattergl")&&(l=i.getModule("scattergl"),h=u(n,l)[0],l.plot(e,t,h)),!e._context.staticPlot&&(t._hasClipOnAxisFalse&&(t.clipOnAxisFalseTraces=t.plot.selectAll(c.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),g.length)){var k=t.plot.selectAll(g.join(",")).selectAll(".trace");t.zoomScalePts=k.selectAll("path.point"),t.zoomScaleTxt=k.selectAll(".textpoint")}}function v(e){var t,n,r,i,o,a,s=e._fullLayout,u=s._subplots.cartesian,l=u.length,c=[],f=[];for(t=0;t<l;t++){r=u[t],o=(i=s._plots[r]).xaxis,a=i.yaxis;var h=o._mainAxis,d=a._mainAxis,p=h._id+d._id,v=s._plots[p];i.overlays=[],p!==r&&v?(i.mainplot=p,i.mainplotinfo=v,f.push(r)):(i.mainplot=void 0,i.mainplotinfo=void 0,c.push(r))}for(t=0;t<f.length;t++)r=f[t],(i=s._plots[r]).mainplotinfo.overlays.push(i);var y=c.concat(f),g=new Array(l);for(t=0;t<l;t++){r=y[t],o=(i=s._plots[r]).xaxis,a=i.yaxis;var m=[r,o.layer,a.layer,o.overlaying||"",a.overlaying||""];for(n=0;n<i.overlays.length;n++)m.push(i.overlays[n].id);g[t]=m}return g}function y(e,t){var n=t.plotgroup,r=t.id,i=c.layerValue2layerClass[t.xaxis.layer],o=c.layerValue2layerClass[t.yaxis.layer],a=e._fullLayout._hasOnlyLargeSploms;if(t.mainplot){var s=t.mainplotinfo,u=s.plotgroup,f=r+"-x",p=r+"-y";t.gridlayer=s.gridlayer,t.zerolinelayer=s.zerolinelayer,h(s.overlinesBelow,"path",f),h(s.overlinesBelow,"path",p),h(s.overaxesBelow,"g",f),h(s.overaxesBelow,"g",p),t.plot=h(s.overplot,"g",r),h(s.overlinesAbove,"path",f),h(s.overlinesAbove,"path",p),h(s.overaxesAbove,"g",f),h(s.overaxesAbove,"g",p),t.xlines=u.select(".overlines-"+i).select("."+f),t.ylines=u.select(".overlines-"+o).select("."+p),t.xaxislayer=u.select(".overaxes-"+i).select("."+f),t.yaxislayer=u.select(".overaxes-"+o).select("."+p)}else if(a)t.xlines=h(n,"path","xlines-above"),t.ylines=h(n,"path","ylines-above"),t.xaxislayer=h(n,"g","xaxislayer-above"),t.yaxislayer=h(n,"g","yaxislayer-above");else{var v=h(n,"g","layer-subplot");t.shapelayer=h(v,"g","shapelayer"),t.imagelayer=h(v,"g","imagelayer"),t.gridlayer=h(n,"g","gridlayer"),t.zerolinelayer=h(n,"g","zerolinelayer"),h(n,"path","xlines-below"),h(n,"path","ylines-below"),t.overlinesBelow=h(n,"g","overlines-below"),h(n,"g","xaxislayer-below"),h(n,"g","yaxislayer-below"),t.overaxesBelow=h(n,"g","overaxes-below"),t.plot=h(n,"g","plot"),t.overplot=h(n,"g","overplot"),t.xlines=h(n,"path","xlines-above"),t.ylines=h(n,"path","ylines-above"),t.overlinesAbove=h(n,"g","overlines-above"),h(n,"g","xaxislayer-above"),h(n,"g","yaxislayer-above"),t.overaxesAbove=h(n,"g","overaxes-above"),t.xlines=n.select(".xlines-"+i),t.ylines=n.select(".ylines-"+o),t.xaxislayer=n.select(".xaxislayer-"+i),t.yaxislayer=n.select(".yaxislayer-"+o)}a||(d(t.gridlayer,"g",t.xaxis._id),d(t.gridlayer,"g",t.yaxis._id),t.gridlayer.selectAll("g").map((function(e){return e[0]})).sort(l.idSort)),t.xlines.style("fill","none").classed("crisp",!0),t.ylines.style("fill","none").classed("crisp",!0)}function g(e,t){if(e){var n={};for(var i in e.each((function(e){var i=e[0];r.select(this).remove(),m(i,t),n[i]=!0})),t._plots)for(var o=t._plots[i].overlays||[],a=0;a<o.length;a++){var s=o[a];n[s.id]&&s.plot.selectAll(".trace").remove()}}}function m(e,t){t._draggers.selectAll("g."+e).remove(),t._defs.select("#clip"+t._uid+e+"plot").remove()}n.name="cartesian",n.attr=["xaxis","yaxis"],n.idRoot=["x","y"],n.idRegex=c.idRegex,n.attrRegex=c.attrRegex,n.attributes=e("./attributes"),n.layoutAttributes=e("./layout_attributes"),n.supplyLayoutDefaults=e("./layout_defaults"),n.transitionAxes=e("./transition_axes"),n.finalizeSubplots=function(e,t){var n,r,i,a=t._subplots,s=a.xaxis,u=a.yaxis,f=a.cartesian,h=f.concat(a.gl2d||[]),d={},p={};for(n=0;n<h.length;n++){var v=h[n].split("y");d[v[0]]=1,p["y"+v[1]]=1}for(n=0;n<s.length;n++)d[r=s[n]]||(i=(e[l.id2name(r)]||{}).anchor,c.idRegex.y.test(i)||(i="y"),f.push(r+i),h.push(r+i),p[i]||(p[i]=1,o.pushUnique(u,i)));for(n=0;n<u.length;n++)p[i=u[n]]||(r=(e[l.id2name(i)]||{}).anchor,c.idRegex.x.test(r)||(r="x"),f.push(r+i),h.push(r+i),d[r]||(d[r]=1,o.pushUnique(s,r)));if(!h.length){for(var y in r="",i="",e)c.attrRegex.test(y)&&("x"===y.charAt(0)?(!r||+y.substr(5)<+r.substr(5))&&(r=y):(!i||+y.substr(5)<+i.substr(5))&&(i=y));r=r?l.name2id(r):"x",i=i?l.name2id(i):"y",s.push(r),u.push(i),f.push(r+i)}},n.plot=function(e,t,n,r){var i,o=e._fullLayout,a=o._subplots.cartesian,s=e.calcdata;if(!Array.isArray(t))for(t=[],i=0;i<s.length;i++)t.push(i);for(i=0;i<a.length;i++){for(var u,l=a[i],c=o._plots[l],f=[],h=0;h<s.length;h++){var d=s[h],v=d[0].trace;v.xaxis+v.yaxis===l&&((-1!==t.indexOf(v.index)||v.carpet)&&(u&&u[0].trace.xaxis+u[0].trace.yaxis===l&&-1!==["tonextx","tonexty","tonext"].indexOf(v.fill)&&-1===f.indexOf(u)&&f.push(u),f.push(d)),u=d)}p(e,c,f,n,r)}},n.clean=function(e,t,n,r){var i,o,a,s=r._plots||{},u=t._plots||{},c=r._subplots||{};if(r._hasOnlyLargeSploms&&!t._hasOnlyLargeSploms)for(a in s)(i=s[a]).plotgroup&&i.plotgroup.remove();var f=r._has&&r._has("gl"),h=t._has&&t._has("gl");if(f&&!h)for(a in s)(i=s[a])._scene&&i._scene.destroy();if(c.xaxis&&c.yaxis){var d=l.listIds({_fullLayout:r});for(o=0;o<d.length;o++){var p=d[o];t[l.id2name(p)]||r._infolayer.selectAll(".g-"+p+"title").remove()}}var v=r._has&&r._has("cartesian"),y=t._has&&t._has("cartesian");if(v&&!y)g(r._cartesianlayer.selectAll(".subplot"),r),r._defs.selectAll(".axesclip").remove(),delete r._axisConstraintGroups,delete r._axisMatchGroups;else if(c.cartesian)for(o=0;o<c.cartesian.length;o++){var b=c.cartesian[o];if(!u[b]){var _="."+b+",."+b+"-x,."+b+"-y";r._cartesianlayer.selectAll(_).remove(),m(b,r)}}},n.drawFramework=function(e){var t=e._fullLayout,n=v(e),i=t._cartesianlayer.selectAll(".subplot").data(n,String);i.enter().append("g").attr("class",(function(e){return"subplot "+e[0]})),i.order(),i.exit().call(g,t),i.each((function(n){var i=n[0],o=t._plots[i];o.plotgroup=r.select(this),y(e,o),o.draglayer=h(t._draggers,"g",i)}))},n.rangePlot=function(e,t,n){y(e,t),p(e,t,n),a.style(e)},n.toSVG=function(e){var t=e._fullLayout._glimages,n=r.select(e).selectAll(".svg-container");function i(){var e=this,n=e.toDataURL("image/png");t.append("svg:image").attr({xmlns:f.svg,"xlink:href":n,preserveAspectRatio:"none",x:0,y:0,width:e.width,height:e.height})}n.filter((function(e,t){return t===n.size()-1})).selectAll(".gl-canvas-context, .gl-canvas-focus").each(i)},n.updateFx=e("./graph_interact").updateFx},{"../../components/drawing":122,"../../constants/xmlns_namespaces":211,"../../lib":230,"../../registry":313,"../get_data":307,"../plots":311,"./attributes":274,"./axis_ids":280,"./constants":283,"./graph_interact":286,"./layout_attributes":291,"./layout_defaults":292,"./transition_axes":301,"@plotly/d3":11}],291:[function(e,t,n){"use strict";var r=e("../font_attributes"),i=e("../../components/color/attributes"),o=e("../../components/drawing/attributes").dash,a=e("../../lib/extend").extendFlat,s=e("../../plot_api/plot_template").templatedArray,u=e("../../plots/cartesian/axis_format_attributes").descriptionWithDates,l=e("../../constants/numerical").ONEDAY,c=e("./constants"),f=c.HOUR_PATTERN,h=c.WEEKDAY_PATTERN;t.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:i.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:r({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[c.idRegex.x.toString(),c.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[c.idRegex.x.toString(),c.idRegex.y.toString()],editType:"calc"},rangebreaks:s("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[h,f,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:l},editType:"calc"}),tickmode:{valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},nticks:{valType:"integer",min:0,dflt:0,editType:"ticks"},tick0:{valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},dtick:{valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},tickvals:{valType:"data_array",editType:"ticks"},ticktext:{valType:"data_array",editType:"ticks"},ticks:{valType:"enumerated",values:["outside","inside",""],editType:"ticks"},tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:{valType:"number",min:0,dflt:5,editType:"ticks"},tickwidth:{valType:"number",min:0,dflt:1,editType:"ticks"},tickcolor:{valType:"color",dflt:i.defaultLine,editType:"ticks"},showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},automargin:{valType:"boolean",dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:a({},o,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:r({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:u("tick label")},tickformatstops:s("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:u("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:i.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:{valType:"boolean",editType:"ticks"},gridcolor:{valType:"color",dflt:i.lightLine,editType:"ticks"},gridwidth:{valType:"number",min:0,dflt:1,editType:"ticks"},zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:i.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:i.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",c.idRegex.x.toString(),c.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",c.idRegex.x.toString(),c.idRegex.y.toString()],editType:"plot"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:r({editType:"ticks"})}}},{"../../components/color/attributes":99,"../../components/drawing/attributes":121,"../../constants/numerical":210,"../../lib/extend":224,"../../plot_api/plot_template":265,"../../plots/cartesian/axis_format_attributes":279,"../font_attributes":305,"./constants":283}],292:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../components/color"),o=e("../../components/fx/helpers").isUnifiedHover,a=e("../../components/fx/hovermode_defaults"),s=e("../../plot_api/plot_template"),u=e("../layout_attributes"),l=e("./layout_attributes"),c=e("./type_defaults"),f=e("./axis_defaults"),h=e("./constraints"),d=e("./position_defaults"),p=e("./axis_ids"),v=p.id2name,y=p.name2id,g=e("./constants").AX_ID_PATTERN,m=e("../../registry"),b=m.traceIs,_=m.getComponentMethod;function w(e,t,n){Array.isArray(e[t])?e[t].push(n):e[t]=[n]}t.exports=function(e,t,n){var m,x,T=t.autotypenumbers,k={},O={},S={},A={},E={},M={},C={},I={},D={},P={};for(m=0;m<n.length;m++){var N=n[m];if(b(N,"cartesian")||b(N,"gl2d")){var L,j;if(N.xaxis)L=v(N.xaxis),w(k,L,N);else if(N.xaxes)for(x=0;x<N.xaxes.length;x++)w(k,v(N.xaxes[x]),N);if(N.yaxis)j=v(N.yaxis),w(k,j,N);else if(N.yaxes)for(x=0;x<N.yaxes.length;x++)w(k,v(N.yaxes[x]),N);"funnel"===N.type?"h"===N.orientation?(L&&(O[L]=!0),j&&(C[j]=!0)):j&&(S[j]=!0):"image"===N.type?(j&&(I[j]=!0),L&&(I[L]=!0)):(j&&(E[j]=!0,M[j]=!0),b(N,"carpet")&&("carpet"!==N.type||N._cheater)||L&&(A[L]=!0)),"carpet"===N.type&&N._cheater&&L&&(O[L]=!0),b(N,"2dMap")&&(D[L]=!0,D[j]=!0),b(N,"oriented")&&(P["h"===N.orientation?j:L]=!0)}}var R=t._subplots,F=R.xaxis,z=R.yaxis,U=r.simpleMap(F,v),q=r.simpleMap(z,v),V=U.concat(q),B=i.background;F.length&&z.length&&(B=r.coerce(e,t,u,"plot_bgcolor"));var H,W,Y,G,K,X=i.combine(B,t.paper_bgcolor);function Q(){var e=k[H]||[];K._traceIndices=e.map((function(e){return e._expandedIndex})),K._annIndices=[],K._shapeIndices=[],K._imgIndices=[],K._subplotsWith=[],K._counterAxes=[],K._name=K._attr=H,K._id=W}function J(e,t){return r.coerce(G,K,l,e,t)}function $(e,t){return r.coerce2(G,K,l,e,t)}function Z(e){return"x"===e?z:F}function ee(t,n){for(var r="x"===t?U:q,i=[],o=0;o<r.length;o++){var a=r[o];a===n||(e[a]||{}).overlaying||i.push(y(a))}return i}var te={x:Z("x"),y:Z("y")},ne=te.x.concat(te.y),re={},ie=[];function oe(){var e=G.matches;g.test(e)&&-1===ne.indexOf(e)&&(re[e]=G.type,ie=Object.keys(re))}var ae=a(e,t),se=o(ae);for(m=0;m<V.length;m++){H=V[m],W=y(H),Y=H.charAt(0),r.isPlainObject(e[H])||(e[H]={}),G=e[H],K=s.newContainer(t,H,Y+"axis"),Q();var ue="x"===Y&&!A[H]&&O[H]||"y"===Y&&!E[H]&&S[H],le="y"===Y&&(!M[H]&&C[H]||I[H]),ce={letter:Y,font:t.font,outerTicks:D[H],showGrid:!P[H],data:k[H]||[],bgColor:X,calendar:t.calendar,automargin:!0,visibleDflt:ue,reverseDflt:le,autotypenumbersDflt:T,splomStash:((t._splomAxes||{})[Y]||{})[W]};J("uirevision",t.uirevision),c(G,K,J,ce),f(G,K,J,ce,t);var fe=se&&Y===ae.charAt(0),he=$("spikecolor",se?K.color:void 0),de=$("spikethickness",se?1.5:void 0),pe=$("spikedash",se?"dot":void 0),ve=$("spikemode",se?"across":void 0),ye=$("spikesnap");J("showspikes",!!fe||!!he||!!de||!!pe||!!ve||!!ye)||(delete K.spikecolor,delete K.spikethickness,delete K.spikedash,delete K.spikemode,delete K.spikesnap),d(G,K,J,{letter:Y,counterAxes:te[Y],overlayableAxes:ee(Y,H),grid:t.grid}),J("title.standoff"),oe(),K._input=G}for(m=0;m<ie.length;){W=ie[m++],Y=(H=v(W)).charAt(0),r.isPlainObject(e[H])||(e[H]={}),G=e[H],K=s.newContainer(t,H,Y+"axis"),Q();var ge={letter:Y,font:t.font,outerTicks:D[H],showGrid:!P[H],data:[],bgColor:X,calendar:t.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:T,splomStash:((t._splomAxes||{})[Y]||{})[W]};J("uirevision",t.uirevision),K.type=re[W]||"linear",f(G,K,J,ge,t),d(G,K,J,{letter:Y,counterAxes:te[Y],overlayableAxes:ee(Y,H),grid:t.grid}),J("fixedrange"),oe(),K._input=G}var me=_("rangeslider","handleDefaults"),be=_("rangeselector","handleDefaults");for(m=0;m<U.length;m++)H=U[m],G=e[H],K=t[H],me(e,t,H),"date"===K.type&&be(G,K,t,q,K.calendar),J("fixedrange");for(m=0;m<q.length;m++){H=q[m],G=e[H],K=t[H];var _e=t[v(K.anchor)];J("fixedrange",_("rangeslider","isVisible")(_e))}h.handleDefaults(e,t,{axIds:ne.concat(ie).sort(p.idSort),axHasImage:I})}},{"../../components/color":100,"../../components/fx/helpers":136,"../../components/fx/hovermode_defaults":139,"../../lib":230,"../../plot_api/plot_template":265,"../../registry":313,"../layout_attributes":309,"./axis_defaults":278,"./axis_ids":280,"./constants":283,"./constraints":284,"./layout_attributes":291,"./position_defaults":294,"./type_defaults":302}],293:[function(e,t,n){"use strict";var r=e("tinycolor2").mix,i=e("../../components/color/attributes").lightFraction,o=e("../../lib");t.exports=function(e,t,n,a){var s=(a=a||{}).dfltColor;function u(n,r){return o.coerce2(e,t,a.attributes,n,r)}var l=u("linecolor",s),c=u("linewidth");n("showline",a.showLine||!!l||!!c)||(delete t.linecolor,delete t.linewidth);var f=u("gridcolor",r(s,a.bgColor,a.blend||i).toRgbString()),h=u("gridwidth");if(n("showgrid",a.showGrid||!!f||!!h)||(delete t.gridcolor,delete t.gridwidth),!a.noZeroLine){var d=u("zerolinecolor",s),p=u("zerolinewidth");n("zeroline",a.showGrid||!!d||!!p)||(delete t.zerolinecolor,delete t.zerolinewidth)}}},{"../../components/color/attributes":99,"../../lib":230,tinycolor2:65}],294:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib");t.exports=function(e,t,n,o){var a,s,u,l,c=o.counterAxes||[],f=o.overlayableAxes||[],h=o.letter,d=o.grid;d&&(s=d._domains[h][d._axisMap[t._id]],a=d._anchors[t._id],s&&(u=d[h+"side"].split(" ")[0],l=d.domain[h]["right"===u||"top"===u?1:0])),s=s||[0,1],a=a||(r(e.position)?"free":c[0]||"free"),u=u||("x"===h?"bottom":"left"),l=l||0,"free"===i.coerce(e,t,{anchor:{valType:"enumerated",values:["free"].concat(c),dflt:a}},"anchor")&&n("position",l),i.coerce(e,t,{side:{valType:"enumerated",values:"x"===h?["bottom","top"]:["left","right"],dflt:u}},"side");var p=!1;if(f.length&&(p=i.coerce(e,t,{overlaying:{valType:"enumerated",values:[!1].concat(f),dflt:!1}},"overlaying")),!p){var v=n("domain",s);v[0]>v[1]-1/4096&&(t.domain=s),i.noneOrAll(e.domain,t.domain,s)}return n("layer"),t}},{"../../lib":230,"fast-isnumeric":15}],295:[function(e,t,n){"use strict";var r=e("../../constants/alignment").FROM_BL;t.exports=function(e,t,n){void 0===n&&(n=r[e.constraintoward||"center"]);var i=[e.r2l(e.range[0]),e.r2l(e.range[1])],o=i[0]+(i[1]-i[0])*n;e.range=e._input.range=[e.l2r(o+(i[0]-o)*t),e.l2r(o+(i[1]-o)*t)],e.setScale()}},{"../../constants/alignment":205}],296:[function(e,t,n){"use strict";var r=e("polybooljs"),i=e("../../registry"),o=e("../../components/drawing").dashStyle,a=e("../../components/color"),s=e("../../components/fx"),u=e("../../components/fx/helpers").makeEventData,l=e("../../components/dragelement/helpers"),c=l.freeMode,f=l.rectMode,h=l.drawMode,d=l.openMode,p=l.selectMode,v=e("../../components/shapes/draw_newshape/display_outlines"),y=e("../../components/shapes/draw_newshape/helpers").handleEllipse,g=e("../../components/shapes/draw_newshape/newshapes"),m=e("../../lib"),b=e("../../lib/polygon"),_=e("../../lib/throttle"),w=e("./axis_ids").getFromId,x=e("../../lib/clear_gl_canvases"),T=e("../../plot_api/subroutines").redrawReglTraces,k=e("./constants"),O=k.MINSELECT,S=b.filter,A=b.tester,E=e("./handle_outline").clearSelect,M=e("./helpers"),C=M.p2r,I=M.axValue,D=M.getTransform;function P(e,t,n,r,i){var u=c(i),l=f(i),g=d(i),b=h(i),w=p(i),x="drawcircle"===i,T="drawline"===i||x,E=r.gd,M=E._fullLayout,P=M._zoomlayer,L=r.element.getBoundingClientRect(),j=r.plotinfo,R=D(j),V=t-L.left,B=n-L.top;M._calcInverseTransform(E);var H=m.apply3DTransform(M._invTransform)(V,B);V=H[0],B=H[1];var W,Y,J,$,Z,ee,te,ne=M._invScaleX,re=M._invScaleY,ie=V,oe=B,ae="M"+V+","+B,se=r.xaxes[0]._length,ue=r.yaxes[0]._length,le=r.xaxes.concat(r.yaxes),ce=e.altKey&&!(h(i)&&g);z(e,E,r),u&&(W=S([[V,B]],k.BENDPX));var fe=P.selectAll("path.select-outline-"+j.id).data(b?[0]:[1,2]),he=M.newshape;fe.enter().append("path").attr("class",(function(e){return"select-outline select-outline-"+e+" select-outline-"+j.id})).style(b?{opacity:he.opacity/2,fill:g?void 0:he.fillcolor,stroke:he.line.color,"stroke-dasharray":o(he.line.dash,he.line.width),"stroke-width":he.line.width+"px"}:{}).attr("fill-rule",he.fillrule).classed("cursor-move",!!b).attr("transform",R).attr("d",ae+"Z");var de,pe=P.append("path").attr("class","zoombox-corners").style({fill:a.background,stroke:a.defaultLine,"stroke-width":1}).attr("transform",R).attr("d","M0,0Z"),ve=M._uid+k.SELECTID,ye=[],ge=q(E,r.xaxes,r.yaxes,r.subplot);function me(e,t){return e-t}de=j.fillRangeItems?j.fillRangeItems:l?function(e,t){var n=e.range={};for(Z=0;Z<le.length;Z++){var r=le[Z],i=r._id.charAt(0);n[r._id]=[C(r,t[i+"min"]),C(r,t[i+"max"])].sort(me)}}:function(e,t,n){var r=e.lassoPoints={};for(Z=0;Z<le.length;Z++){var i=le[Z];r[i._id]=n.filtered.map(I(i))}},r.moveFn=function(e,t){ie=Math.max(0,Math.min(se,ne*e+V)),oe=Math.max(0,Math.min(ue,re*t+B));var n=Math.abs(ie-V),i=Math.abs(oe-B);if(l){var o,a,s;if(w){var c=M.selectdirection;switch(o="any"===c?i<Math.min(.6*n,O)?"h":n<Math.min(.6*i,O)?"v":"d":c){case"h":a=x?ue/2:0,s=ue;break;case"v":a=x?se/2:0,s=se}}if(b)switch(M.newshape.drawdirection){case"vertical":o="h",a=x?ue/2:0,s=ue;break;case"horizontal":o="v",a=x?se/2:0,s=se;break;case"ortho":n<i?(o="h",a=B,s=oe):(o="v",a=V,s=ie);break;default:o="d"}"h"===o?(($=T?y(x,[ie,a],[ie,s]):[[V,a],[V,s],[ie,s],[ie,a]]).xmin=T?ie:Math.min(V,ie),$.xmax=T?ie:Math.max(V,ie),$.ymin=Math.min(a,s),$.ymax=Math.max(a,s),pe.attr("d","M"+$.xmin+","+(B-O)+"h-4v"+2*O+"h4ZM"+($.xmax-1)+","+(B-O)+"h4v"+2*O+"h-4Z")):"v"===o?(($=T?y(x,[a,oe],[s,oe]):[[a,B],[a,oe],[s,oe],[s,B]]).xmin=Math.min(a,s),$.xmax=Math.max(a,s),$.ymin=T?oe:Math.min(B,oe),$.ymax=T?oe:Math.max(B,oe),pe.attr("d","M"+(V-O)+","+$.ymin+"v-4h"+2*O+"v4ZM"+(V-O)+","+($.ymax-1)+"v4h"+2*O+"v-4Z")):"d"===o&&(($=T?y(x,[V,B],[ie,oe]):[[V,B],[V,oe],[ie,oe],[ie,B]]).xmin=Math.min(V,ie),$.xmax=Math.max(V,ie),$.ymin=Math.min(B,oe),$.ymax=Math.max(B,oe),pe.attr("d","M0,0Z"))}else u&&(W.addPt([ie,oe]),$=W.filtered);r.selectionDefs&&r.selectionDefs.length?(J=K(r.mergedPolygons,$,ce),$.subtract=ce,Y=F(r.selectionDefs.concat([$]))):(J=[$],Y=A($)),v(Q(J,g),fe,r),w&&_.throttle(ve,k.SELECTDELAY,(function(){var e;ye=[];var t,n=[];for(Z=0;Z<ge.length;Z++)if(t=(ee=ge[Z])._module.selectPoints(ee,Y),n.push(t),e=X(t,ee),ye.length)for(var i=0;i<e.length;i++)ye.push(e[i]);else ye=e;G(E,ge,te={points:ye}),de(te,$,W),r.gd.emit("plotly_selecting",te)}))},r.clickFn=function(e,t){if(pe.remove(),E._fullLayout._activeShapeIndex>=0)E._fullLayout._deactivateShape(E);else if(!b){var n=M.clickmode;_.done(ve).then((function(){if(_.clear(ve),2===e){for(fe.remove(),Z=0;Z<ge.length;Z++)(ee=ge[Z])._module.selectPoints(ee,!1);G(E,ge),U(r),E.emit("plotly_deselect",null)}else n.indexOf("select")>-1&&N(t,E,r.xaxes,r.yaxes,r.subplot,r,fe),"event"===n&&E.emit("plotly_selected",void 0);s.click(E,t)})).catch(m.error)}},r.doneFn=function(){pe.remove(),_.done(ve).then((function(){_.clear(ve),r.gd.emit("plotly_selected",te),$&&r.selectionDefs&&($.subtract=ce,r.selectionDefs.push($),r.mergedPolygons.length=0,[].push.apply(r.mergedPolygons,J)),r.doneFnCompleted&&r.doneFnCompleted(ye)})).catch(m.error),b&&U(r)}}function N(e,t,n,r,i,o,a){var s,u,l,c,f,h,p,y,g,m=t._hoverdata,b=t._fullLayout.clickmode.indexOf("event")>-1,_=[];if(V(m)){z(e,t,o);var w=B(m,s=q(t,n,r,i));if(w.pointNumbers.length>0?W(s,w):Y(s)&&(h=H(w))){for(a&&a.remove(),g=0;g<s.length;g++)(u=s[g])._module.selectPoints(u,!1);G(t,s),U(o),b&&t.emit("plotly_deselect",null)}else{for(p=e.shiftKey&&(void 0!==h?h:H(w)),l=L(w.pointNumber,w.searchInfo,p),c=F(o.selectionDefs.concat([l])),g=0;g<s.length;g++)if(f=X(s[g]._module.selectPoints(s[g],c),s[g]),_.length)for(var x=0;x<f.length;x++)_.push(f[x]);else _=f;if(G(t,s,y={points:_}),l&&o&&o.selectionDefs.push(l),a){var T=o.mergedPolygons,k=d(o.dragmode);v(Q(T,k),a,o)}b&&t.emit("plotly_selected",y)}}}function L(e,t,n){return{pointNumber:e,searchInfo:t,subtract:n}}function j(e){return"pointNumber"in e&&"searchInfo"in e}function R(e){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(t,n,r,i){var o=e.searchInfo.cd[0].trace._expandedIndex;return i.cd[0].trace._expandedIndex===o&&r===e.pointNumber},isRect:!1,degenerate:!1,subtract:e.subtract}}function F(e){for(var t=[],n=j(e[0])?0:e[0][0][0],r=n,i=j(e[0])?0:e[0][0][1],o=i,a=0;a<e.length;a++)if(j(e[a]))t.push(R(e[a]));else{var s=b.tester(e[a]);s.subtract=e[a].subtract,t.push(s),n=Math.min(n,s.xmin),r=Math.max(r,s.xmax),i=Math.min(i,s.ymin),o=Math.max(o,s.ymax)}function u(e,n,r,i){for(var o=!1,a=0;a<t.length;a++)t[a].contains(e,n,r,i)&&(o=!1===t[a].subtract);return o}return{xmin:n,xmax:r,ymin:i,ymax:o,pts:[],contains:u,isRect:!1,degenerate:!1}}function z(e,t,n){t._fullLayout._drawing=!1;var r=t._fullLayout,i=n.plotinfo,o=n.dragmode,a=r._lastSelectedSubplot&&r._lastSelectedSubplot===i.id,s=(e.shiftKey||e.altKey)&&!(h(o)&&d(o));a&&s&&i.selection&&i.selection.selectionDefs&&!n.selectionDefs?(n.selectionDefs=i.selection.selectionDefs,n.mergedPolygons=i.selection.mergedPolygons):s&&i.selection||U(n),a||(E(t),r._lastSelectedSubplot=i.id)}function U(e){var t=e.dragmode,n=e.plotinfo,r=e.gd;if(r._fullLayout._activeShapeIndex>=0&&r._fullLayout._deactivateShape(r),h(t)){var o=r._fullLayout._zoomlayer.selectAll(".select-outline-"+n.id);if(o&&r._fullLayout._drawing){var a=g(o,e);a&&i.call("_guiRelayout",r,{shapes:a}),r._fullLayout._drawing=!1}}n.selection={},n.selection.selectionDefs=e.selectionDefs=[],n.selection.mergedPolygons=e.mergedPolygons=[]}function q(e,t,n,r){var i,o,a,s=[],u=t.map((function(e){return e._id})),l=n.map((function(e){return e._id}));for(a=0;a<e.calcdata.length;a++)if(!0===(o=(i=e.calcdata[a])[0].trace).visible&&o._module&&o._module.selectPoints)if(!r||o.subplot!==r&&o.geo!==r)if("splom"===o.type&&o._xaxes[u[0]]&&o._yaxes[l[0]]){var c=h(o._module,i,t[0],n[0]);c.scene=e._fullLayout._splomScenes[o.uid],s.push(c)}else if("sankey"===o.type){var f=h(o._module,i,t[0],n[0]);s.push(f)}else{if(-1===u.indexOf(o.xaxis))continue;if(-1===l.indexOf(o.yaxis))continue;s.push(h(o._module,i,w(e,o.xaxis),w(e,o.yaxis)))}else s.push(h(o._module,i,t[0],n[0]));return s;function h(e,t,n,r){return{_module:e,cd:t,xaxis:n,yaxis:r}}}function V(e){return e&&Array.isArray(e)&&!0!==e[0].hoverOnBox}function B(e,t){var n,r,i=e[0],o=-1,a=[];for(r=0;r<t.length;r++)if(n=t[r],i.fullData._expandedIndex===n.cd[0].trace._expandedIndex){if(!0===i.hoverOnBox)break;void 0!==i.pointNumber?o=i.pointNumber:void 0!==i.binNumber&&(o=i.binNumber,a=i.pointNumbers);break}return{pointNumber:o,pointNumbers:a,searchInfo:n}}function H(e){var t=e.searchInfo.cd[0].trace,n=e.pointNumber,r=e.pointNumbers,i=r.length>0?r[0]:n;return!!t.selectedpoints&&t.selectedpoints.indexOf(i)>-1}function W(e,t){var n,r,i,o=[];for(i=0;i<e.length;i++)(n=e[i]).cd[0].trace.selectedpoints&&n.cd[0].trace.selectedpoints.length>0&&o.push(n);if(1===o.length&&o[0]===t.searchInfo&&(r=t.searchInfo.cd[0].trace).selectedpoints.length===t.pointNumbers.length){for(i=0;i<t.pointNumbers.length;i++)if(r.selectedpoints.indexOf(t.pointNumbers[i])<0)return!1;return!0}return!1}function Y(e){var t,n,r=0;for(n=0;n<e.length;n++)if((t=e[n].cd[0].trace).selectedpoints){if(t.selectedpoints.length>1)return!1;if((r+=t.selectedpoints.length)>1)return!1}return 1===r}function G(e,t,n){var r,o,a,s;for(r=0;r<t.length;r++){var u=t[r].cd[0].trace._fullInput,l=e._fullLayout._tracePreGUI[u.uid]||{};void 0===l.selectedpoints&&(l.selectedpoints=u._input.selectedpoints||null)}if(n){var c=n.points||[];for(r=0;r<t.length;r++)(s=t[r].cd[0].trace)._input.selectedpoints=s._fullInput.selectedpoints=[],s._fullInput!==s&&(s.selectedpoints=[]);for(r=0;r<c.length;r++){var f=c[r],h=f.data,d=f.fullData;f.pointIndices?([].push.apply(h.selectedpoints,f.pointIndices),s._fullInput!==s&&[].push.apply(d.selectedpoints,f.pointIndices)):(h.selectedpoints.push(f.pointIndex),s._fullInput!==s&&d.selectedpoints.push(f.pointIndex))}}else for(r=0;r<t.length;r++)delete(s=t[r].cd[0].trace).selectedpoints,delete s._input.selectedpoints,s._fullInput!==s&&delete s._fullInput.selectedpoints;var p=!1;for(r=0;r<t.length;r++){s=(a=(o=t[r]).cd)[0].trace,i.traceIs(s,"regl")&&(p=!0);var v=o._module,y=v.styleOnSelect||v.style;y&&(y(e,a,a[0].node3),a[0].nodeRangePlot3&&y(e,a,a[0].nodeRangePlot3))}p&&(x(e),T(e))}function K(e,t,n){return n?r.difference({regions:e,inverted:!1},{regions:[t],inverted:!1}).regions:r.union({regions:e,inverted:!1},{regions:[t],inverted:!1}).regions}function X(e,t){if(Array.isArray(e))for(var n=t.cd,r=t.cd[0].trace,i=0;i<e.length;i++)e[i]=u(e[i],r,n);return e}function Q(e,t){for(var n=[],r=0;r<e.length;r++){n[r]=[];for(var i=0;i<e[r].length;i++){n[r][i]=[],n[r][i][0]=i?"L":"M";for(var o=0;o<e[r][i].length;o++)n[r][i].push(e[r][i][o])}t||n[r].push(["Z",n[r][0][1],n[r][0][2]])}return n}t.exports={prepSelect:P,clearSelect:E,clearSelectionsCache:U,selectOnClick:N}},{"../../components/color":100,"../../components/dragelement/helpers":118,"../../components/drawing":122,"../../components/fx":140,"../../components/fx/helpers":136,"../../components/shapes/draw_newshape/display_outlines":188,"../../components/shapes/draw_newshape/helpers":189,"../../components/shapes/draw_newshape/newshapes":190,"../../lib":230,"../../lib/clear_gl_canvases":218,"../../lib/polygon":242,"../../lib/throttle":253,"../../plot_api/subroutines":266,"../../registry":313,"./axis_ids":280,"./constants":283,"./handle_outline":287,"./helpers":288,polybooljs:55}],297:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("d3-time-format").utcFormat,o=e("fast-isnumeric"),a=e("../../lib"),s=a.cleanNumber,u=a.ms2DateTime,l=a.dateTime2ms,c=a.ensureNumber,f=a.isArrayOrTypedArray,h=e("../../constants/numerical"),d=h.FP_SAFE,p=h.BADNUM,v=h.LOG_CLIP,y=h.ONEWEEK,g=h.ONEDAY,m=h.ONEHOUR,b=h.ONEMIN,_=h.ONESEC,w=e("./axis_ids"),x=e("./constants"),T=x.HOUR_PATTERN,k=x.WEEKDAY_PATTERN;function O(e){return Math.pow(10,e)}function S(e){return null!==e&&void 0!==e}t.exports=function(e,t){t=t||{};var n=e._id||"x",h=n.charAt(0);function A(t,n){if(t>0)return Math.log(t)/Math.LN10;if(t<=0&&n&&e.range&&2===e.range.length){var r=e.range[0],i=e.range[1];return.5*(r+i-2*v*Math.abs(r-i))}return p}function E(t,n,r,i){if((i||{}).msUTC&&o(t))return+t;var s=l(t,r||e.calendar);if(s===p){if(!o(t))return p;t=+t;var u=Math.floor(10*a.mod(t+.05,1)),c=Math.round(t-u/10);s=l(new Date(c))+u/10}return s}function M(t,n,r){return u(t,n,r||e.calendar)}function C(t){return e._categories[Math.round(t)]}function I(t){if(S(t)){if(void 0===e._categoriesMap&&(e._categoriesMap={}),void 0!==e._categoriesMap[t])return e._categoriesMap[t];e._categories.push("number"===typeof t?String(t):t);var n=e._categories.length-1;return e._categoriesMap[t]=n,n}return p}function D(e,t){for(var n=new Array(t),r=0;r<t;r++){var i=(e[0]||[])[r],o=(e[1]||[])[r];n[r]=P([i,o])}return n}function P(t){if(e._categoriesMap)return e._categoriesMap[t]}function N(e){var t=P(e);return void 0!==t?t:o(e)?+e:void 0}function L(e){return o(e)?+e:P(e)}function j(e,t,n){return r.round(n+t*e,2)}function R(e,t,n){return(e-n)/t}var F=function(t){return o(t)?j(t,e._m,e._b):p},z=function(t){return R(t,e._m,e._b)};if(e.rangebreaks){var U="y"===h;F=function(t){if(!o(t))return p;var n=e._rangebreaks.length;if(!n)return j(t,e._m,e._b);var r=U;e.range[0]>e.range[1]&&(r=!r);for(var i=r?-1:1,a=i*t,s=0,u=0;u<n;u++){var l=i*e._rangebreaks[u].min,c=i*e._rangebreaks[u].max;if(a<l)break;if(!(a>c)){s=a<(l+c)/2?u:u+1;break}s=u+1}var f=e._B[s]||0;return isFinite(f)?j(t,e._m2,f):0},z=function(t){var n=e._rangebreaks.length;if(!n)return R(t,e._m,e._b);for(var r=0,i=0;i<n&&!(t<e._rangebreaks[i].pmin);i++)t>e._rangebreaks[i].pmax&&(r=i+1);return R(t,e._m2,e._B[r])}}e.c2l="log"===e.type?A:c,e.l2c="log"===e.type?O:c,e.l2p=F,e.p2l=z,e.c2p="log"===e.type?function(e,t){return F(A(e,t))}:F,e.p2c="log"===e.type?function(e){return O(z(e))}:z,-1!==["linear","-"].indexOf(e.type)?(e.d2r=e.r2d=e.d2c=e.r2c=e.d2l=e.r2l=s,e.c2d=e.c2r=e.l2d=e.l2r=c,e.d2p=e.r2p=function(t){return e.l2p(s(t))},e.p2d=e.p2r=z,e.cleanPos=c):"log"===e.type?(e.d2r=e.d2l=function(e,t){return A(s(e),t)},e.r2d=e.r2c=function(e){return O(s(e))},e.d2c=e.r2l=s,e.c2d=e.l2r=c,e.c2r=A,e.l2d=O,e.d2p=function(t,n){return e.l2p(e.d2r(t,n))},e.p2d=function(e){return O(z(e))},e.r2p=function(t){return e.l2p(s(t))},e.p2r=z,e.cleanPos=c):"date"===e.type?(e.d2r=e.r2d=a.identity,e.d2c=e.r2c=e.d2l=e.r2l=E,e.c2d=e.c2r=e.l2d=e.l2r=M,e.d2p=e.r2p=function(t,n,r){return e.l2p(E(t,0,r))},e.p2d=e.p2r=function(e,t,n){return M(z(e),t,n)},e.cleanPos=function(t){return a.cleanDate(t,p,e.calendar)}):"category"===e.type?(e.d2c=e.d2l=I,e.r2d=e.c2d=e.l2d=C,e.d2r=e.d2l_noadd=N,e.r2c=function(t){var n=L(t);return void 0!==n?n:e.fraction2r(.5)},e.l2r=e.c2r=c,e.r2l=L,e.d2p=function(t){return e.l2p(e.r2c(t))},e.p2d=function(e){return C(z(e))},e.r2p=e.d2p,e.p2r=z,e.cleanPos=function(e){return"string"===typeof e&&""!==e?e:c(e)}):"multicategory"===e.type&&(e.r2d=e.c2d=e.l2d=C,e.d2r=e.d2l_noadd=N,e.r2c=function(t){var n=N(t);return void 0!==n?n:e.fraction2r(.5)},e.r2c_just_indices=P,e.l2r=e.c2r=c,e.r2l=N,e.d2p=function(t){return e.l2p(e.r2c(t))},e.p2d=function(e){return C(z(e))},e.r2p=e.d2p,e.p2r=z,e.cleanPos=function(e){return Array.isArray(e)||"string"===typeof e&&""!==e?e:c(e)},e.setupMultiCategory=function(r){var i,o,s=e._traceIndices,u=e._matchGroup;if(u&&0===e._categories.length)for(var l in u)if(l!==n){var c=t[w.id2name(l)];s=s.concat(c._traceIndices)}var d=[[0,{}],[0,{}]],p=[];for(i=0;i<s.length;i++){var v=r[s[i]];if(h in v){var y=v[h],g=v._length||a.minRowLength(y);if(f(y[0])&&f(y[1]))for(o=0;o<g;o++){var m=y[0][o],b=y[1][o];S(m)&&S(b)&&(p.push([m,b]),m in d[0][1]||(d[0][1][m]=d[0][0]++),b in d[1][1]||(d[1][1][b]=d[1][0]++))}}}for(p.sort((function(e,t){var n=d[0][1],r=n[e[0]]-n[t[0]];if(r)return r;var i=d[1][1];return i[e[1]]-i[t[1]]})),i=0;i<p.length;i++)I(p[i])}),e.fraction2r=function(t){var n=e.r2l(e.range[0]),r=e.r2l(e.range[1]);return e.l2r(n+t*(r-n))},e.r2fraction=function(t){var n=e.r2l(e.range[0]),r=e.r2l(e.range[1]);return(e.r2l(t)-n)/(r-n)},e.cleanRange=function(t,n){n||(n={}),t||(t="range");var r,i,s=a.nestedProperty(e,t).get();if(i=(i="date"===e.type?a.dfltRange(e.calendar):"y"===h?x.DFLTRANGEY:n.dfltRange||x.DFLTRANGEX).slice(),"tozero"!==e.rangemode&&"nonnegative"!==e.rangemode||(i[0]=0),s&&2===s.length)for("date"!==e.type||e.autorange||(s[0]=a.cleanDate(s[0],p,e.calendar),s[1]=a.cleanDate(s[1],p,e.calendar)),r=0;r<2;r++)if("date"===e.type){if(!a.isDateTime(s[r],e.calendar)){e[t]=i;break}if(e.r2l(s[0])===e.r2l(s[1])){var u=a.constrain(e.r2l(s[0]),a.MIN_MS+1e3,a.MAX_MS-1e3);s[0]=e.l2r(u-1e3),s[1]=e.l2r(u+1e3);break}}else{if(!o(s[r])){if(!o(s[1-r])){e[t]=i;break}s[r]=s[1-r]*(r?10:.1)}if(s[r]<-d?s[r]=-d:s[r]>d&&(s[r]=d),s[0]===s[1]){var l=Math.max(1,Math.abs(1e-6*s[0]));s[0]-=l,s[1]+=l}}else a.nestedProperty(e,t).set(i)},e.setScale=function(n){var r=t._size;if(e.overlaying){var i=w.getFromId({_fullLayout:t},e.overlaying);e.domain=i.domain}var o=n&&e._r?"_r":"range",a=e.calendar;e.cleanRange(o);var s,u,l=e.r2l(e[o][0],a),c=e.r2l(e[o][1],a),f="y"===h;if(f?(e._offset=r.t+(1-e.domain[1])*r.h,e._length=r.h*(e.domain[1]-e.domain[0]),e._m=e._length/(l-c),e._b=-e._m*c):(e._offset=r.l+e.domain[0]*r.w,e._length=r.w*(e.domain[1]-e.domain[0]),e._m=e._length/(c-l),e._b=-e._m*l),e._rangebreaks=[],e._lBreaks=0,e._m2=0,e._B=[],e.rangebreaks&&(e._rangebreaks=e.locateBreaks(Math.min(l,c),Math.max(l,c)),e._rangebreaks.length)){for(s=0;s<e._rangebreaks.length;s++)u=e._rangebreaks[s],e._lBreaks+=Math.abs(u.max-u.min);var d=f;l>c&&(d=!d),d&&e._rangebreaks.reverse();var p=d?-1:1;for(e._m2=p*e._length/(Math.abs(c-l)-e._lBreaks),e._B.push(-e._m2*(f?c:l)),s=0;s<e._rangebreaks.length;s++)u=e._rangebreaks[s],e._B.push(e._B[e._B.length-1]-p*e._m2*(u.max-u.min));for(s=0;s<e._rangebreaks.length;s++)(u=e._rangebreaks[s]).pmin=F(u.min),u.pmax=F(u.max)}if(!isFinite(e._m)||!isFinite(e._b)||e._length<0)throw t._replotting=!1,new Error("Something went wrong with axis scaling")},e.maskBreaks=function(t){var n,r,i,o,u,l=e.rangebreaks||[];l._cachedPatterns||(l._cachedPatterns=l.map((function(t){return t.enabled&&t.bounds?a.simpleMap(t.bounds,t.pattern?s:e.d2c):null}))),l._cachedValues||(l._cachedValues=l.map((function(t){return t.enabled&&t.values?a.simpleMap(t.values,e.d2c).sort(a.sorterAsc):null})));for(var c=0;c<l.length;c++){var f=l[c];if(f.enabled)if(f.bounds){var h=f.pattern;switch(r=(n=l._cachedPatterns[c])[0],i=n[1],h){case k:o=(u=new Date(t)).getUTCDay(),r>i&&(i+=7,o<r&&(o+=7));break;case T:o=(u=new Date(t)).getUTCHours()+(u.getUTCMinutes()/60+u.getUTCSeconds()/3600+u.getUTCMilliseconds()/36e5),r>i&&(i+=24,o<r&&(o+=24));break;case"":o=t}if(o>=r&&o<i)return p}else for(var d=l._cachedValues[c],v=0;v<d.length;v++)if(i=(r=d[v])+f.dvalue,t>=r&&t<i)return p}return t},e.locateBreaks=function(t,n){var r,i,o,u,l=[];if(!e.rangebreaks)return l;var c=e.rangebreaks.slice().sort((function(e,t){return e.pattern===k&&t.pattern===T?-1:t.pattern===k&&e.pattern===T?1:0})),f=function(e,r){if((e=a.constrain(e,t,n))!==(r=a.constrain(r,t,n))){for(var i=!0,o=0;o<l.length;o++){var s=l[o];e<s.max&&r>=s.min&&(e<s.min&&(s.min=e),r>s.max&&(s.max=r),i=!1)}i&&l.push({min:e,max:r})}};for(r=0;r<c.length;r++){var h=c[r];if(h.enabled)if(h.bounds){var d=t,p=n;h.pattern&&(d=Math.floor(d)),o=(i=a.simpleMap(h.bounds,h.pattern?s:e.r2l))[0],u=i[1];var v,w,x=new Date(d);switch(h.pattern){case k:w=y,v=(u-o+(u<o?7:0))*g,d+=o*g-(x.getUTCDay()*g+x.getUTCHours()*m+x.getUTCMinutes()*b+x.getUTCSeconds()*_+x.getUTCMilliseconds());break;case T:w=g,v=(u-o+(u<o?24:0))*m,d+=o*m-(x.getUTCHours()*m+x.getUTCMinutes()*b+x.getUTCSeconds()*_+x.getUTCMilliseconds());break;default:d=Math.min(i[0],i[1]),v=w=(p=Math.max(i[0],i[1]))-d}for(var O=d;O<p;O+=w)f(O,O+v)}else for(var S=a.simpleMap(h.values,e.d2c),A=0;A<S.length;A++)f(o=S[A],u=o+h.dvalue)}return l.sort((function(e,t){return e.min-t.min})),l},e.makeCalcdata=function(t,n,r){var i,o,s,u,l=e.type,c="date"===l&&t[n+"calendar"];if(n in t){if(i=t[n],u=t._length||a.minRowLength(i),a.isTypedArray(i)&&("linear"===l||"log"===l)){if(u===i.length)return i;if(i.subarray)return i.subarray(0,u)}if("multicategory"===l)return D(i,u);for(o=new Array(u),s=0;s<u;s++)o[s]=e.d2c(i[s],0,c,r)}else{var f=n+"0"in t?e.d2c(t[n+"0"],0,c):0,h=t["d"+n]?Number(t["d"+n]):1;for(i=t[{x:"y",y:"x"}[n]],u=t._length||i.length,o=new Array(u),s=0;s<u;s++)o[s]=f+s*h}if(e.rangebreaks)for(s=0;s<u;s++)o[s]=e.maskBreaks(o[s]);return o},e.isValidRange=function(t){return Array.isArray(t)&&2===t.length&&o(e.r2l(t[0]))&&o(e.r2l(t[1]))},e.isPtWithinRange=function(t,n){var r=e.c2l(t[h],null,n),i=e.r2l(e.range[0]),o=e.r2l(e.range[1]);return i<o?i<=r&&r<=o:o<=r&&r<=i},e._emptyCategories=function(){e._categories=[],e._categoriesMap={}},e.clearCalc=function(){var n=e._matchGroup;if(n){var r=null,i=null;for(var o in n){var a=t[w.id2name(o)];if(a._categories){r=a._categories,i=a._categoriesMap;break}}r&&i?(e._categories=r,e._categoriesMap=i):e._emptyCategories()}else e._emptyCategories();if(e._initialCategories)for(var s=0;s<e._initialCategories.length;s++)I(e._initialCategories[s])},e.sortByInitialCategories=function(){var r=[];if(e._emptyCategories(),e._initialCategories)for(var i=0;i<e._initialCategories.length;i++)I(e._initialCategories[i]);r=r.concat(e._traceIndices);var o=e._matchGroup;for(var a in o)if(n!==a){var s=t[w.id2name(a)];s._categories=e._categories,s._categoriesMap=e._categoriesMap,r=r.concat(s._traceIndices)}return r};var q=t._d3locale;"date"===e.type&&(e._dateFormat=q?q.timeFormat:i,e._extraFormat=t._extraFormat),e._separators=t.separators,e._numFormat=q?q.numberFormat:r.format,delete e._minDtick,delete e._forceTick0}},{"../../constants/numerical":210,"../../lib":230,"./axis_ids":280,"./constants":283,"@plotly/d3":11,"d3-time-format":13,"fast-isnumeric":15}],298:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../components/color").contrast,o=e("./layout_attributes"),a=e("../array_container_defaults");function s(e,t,n,r,i){var o=l(e);n("tickprefix")&&n("showtickprefix",o),n("ticksuffix",i.tickSuffixDflt)&&n("showticksuffix",o)}function u(e,t,n,s,u){var f=l(e);if(n("tickprefix")&&n("showtickprefix",f),n("ticksuffix",u.tickSuffixDflt)&&n("showticksuffix",f),n("showticklabels")){var h=u.font||{},d=t.color,p=-1!==(t.ticklabelposition||"").indexOf("inside")?i(u.bgColor):d&&d!==o.color.dflt?d:h.color;if(r.coerceFont(n,"tickfont",{family:h.family,size:h.size,color:p}),n("tickangle"),"category"!==s){var v=n("tickformat");a(e,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:c}),t.tickformatstops.length||delete t.tickformatstops,v||"date"===s||(n("showexponent",f),n("exponentformat"),n("minexponent"),n("separatethousands"))}}}function l(e){var t=["showexponent","showtickprefix","showticksuffix"].filter((function(t){return void 0!==e[t]})),n=function(n){return e[n]===e[t[0]]};if(t.every(n)||1===t.length)return e[t[0]]}function c(e,t){function n(n,i){return r.coerce(e,t,o.tickformatstops,n,i)}n("enabled")&&(n("dtickrange"),n("value"))}t.exports=function(e,t,n,r,i,o){o&&1!==o.pass||s(e,t,n,r,i),o&&2!==o.pass||u(e,t,n,r,i)}},{"../../components/color":100,"../../lib":230,"../array_container_defaults":271,"./layout_attributes":291}],299:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./layout_attributes");t.exports=function(e,t,n,o){var a=r.coerce2(e,t,i,"ticklen"),s=r.coerce2(e,t,i,"tickwidth"),u=r.coerce2(e,t,i,"tickcolor",t.color);n("ticks",o.outerTicks||a||s||u?"outside":"")||(delete t.ticklen,delete t.tickwidth,delete t.tickcolor)}},{"../../lib":230,"./layout_attributes":291}],300:[function(e,t,n){"use strict";var r=e("./clean_ticks"),i=e("../../lib").isArrayOrTypedArray;t.exports=function(e,t,n,o){function a(n){var r=e[n];return void 0!==r?r:(t._template||{})[n]}var s=a("tick0"),u=a("dtick"),l=a("tickvals"),c=n("tickmode",i(l)?"array":u?"linear":"auto");if("auto"===c)n("nticks");else if("linear"===c){var f=t.dtick=r.dtick(u,o);t.tick0=r.tick0(s,o,t.calendar,f)}else"multicategory"!==o&&(void 0===n("tickvals")?t.tickmode="auto":n("ticktext"))}},{"../../lib":230,"./clean_ticks":282}],301:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../../registry"),o=e("../../lib"),a=e("../../components/drawing"),s=e("./axes");t.exports=function(e,t,n,u){var l=e._fullLayout;if(0!==t.length){var c,f,h,d;u&&(c=u());var p=r.ease(n.easing);return e._transitionData._interruptCallbacks.push((function(){return window.cancelAnimationFrame(d),d=null,m()})),f=Date.now(),d=window.requestAnimationFrame(b),Promise.resolve()}function v(e){var t=e.xaxis,n=e.yaxis;l._defs.select("#"+e.clipId+"> rect").call(a.setTranslate,0,0).call(a.setScale,1,1),e.plot.call(a.setTranslate,t._offset,n._offset).call(a.setScale,1,1);var r=e.plot.selectAll(".scatterlayer .trace");r.selectAll(".point").call(a.setPointGroupScale,1,1),r.selectAll(".textpoint").call(a.setTextPointsScale,1,1),r.call(a.hideOutsideRangePoints,e)}function y(t,n){var r=t.plotinfo,i=r.xaxis,u=r.yaxis,l=i._length,c=u._length,f=!!t.xr1,h=!!t.yr1,d=[];if(f){var p=o.simpleMap(t.xr0,i.r2l),v=o.simpleMap(t.xr1,i.r2l),y=p[1]-p[0],g=v[1]-v[0];d[0]=(p[0]*(1-n)+n*v[0]-p[0])/(p[1]-p[0])*l,d[2]=l*(1-n+n*g/y),i.range[0]=i.l2r(p[0]*(1-n)+n*v[0]),i.range[1]=i.l2r(p[1]*(1-n)+n*v[1])}else d[0]=0,d[2]=l;if(h){var m=o.simpleMap(t.yr0,u.r2l),b=o.simpleMap(t.yr1,u.r2l),_=m[1]-m[0],w=b[1]-b[0];d[1]=(m[1]*(1-n)+n*b[1]-m[1])/(m[0]-m[1])*c,d[3]=c*(1-n+n*w/_),u.range[0]=i.l2r(m[0]*(1-n)+n*b[0]),u.range[1]=u.l2r(m[1]*(1-n)+n*b[1])}else d[1]=0,d[3]=c;s.drawOne(e,i,{skipTitle:!0}),s.drawOne(e,u,{skipTitle:!0}),s.redrawComponents(e,[i._id,u._id]);var x=f?l/d[2]:1,T=h?c/d[3]:1,k=f?d[0]:0,O=h?d[1]:0,S=f?d[0]/d[2]*l:0,A=h?d[1]/d[3]*c:0,E=i._offset-S,M=u._offset-A;r.clipRect.call(a.setTranslate,k,O).call(a.setScale,1/x,1/T),r.plot.call(a.setTranslate,E,M).call(a.setScale,x,T),a.setPointGroupScale(r.zoomScalePts,1/x,1/T),a.setTextPointsScale(r.zoomScaleTxt,1/x,1/T)}function g(){for(var n={},r=0;r<t.length;r++){var o=t[r],a=o.plotinfo.xaxis,s=o.plotinfo.yaxis;o.xr1&&(n[a._name+".range"]=o.xr1.slice()),o.yr1&&(n[s._name+".range"]=o.yr1.slice())}return c&&c(),i.call("relayout",e,n).then((function(){for(var e=0;e<t.length;e++)v(t[e].plotinfo)}))}function m(){for(var n={},r=0;r<t.length;r++){var o=t[r],a=o.plotinfo.xaxis,s=o.plotinfo.yaxis;o.xr0&&(n[a._name+".range"]=o.xr0.slice()),o.yr0&&(n[s._name+".range"]=o.yr0.slice())}return i.call("relayout",e,n).then((function(){for(var e=0;e<t.length;e++)v(t[e].plotinfo)}))}function b(){h=Date.now();for(var e=Math.min(1,(h-f)/n.duration),r=p(e),i=0;i<t.length;i++)y(t[i],r);h-f>n.duration?(g(),d=window.cancelAnimationFrame(b)):d=window.requestAnimationFrame(b)}s.redrawComponents(e)}},{"../../components/drawing":122,"../../lib":230,"../../registry":313,"./axes":276,"@plotly/d3":11}],302:[function(e,t,n){"use strict";var r=e("../../registry").traceIs,i=e("./axis_autotype");function o(e,t){if("-"===e.type){var n,o=e._id,l=o.charAt(0);-1!==o.indexOf("scene")&&(o=l);var c=a(t,o,l);if(c)if("histogram"!==c.type||l!=={v:"y",h:"x"}[c.orientation||"v"]){var f=l+"calendar",h=c[f],d={noMultiCategory:!r(c,"cartesian")||r(c,"noMultiCategory")};if("box"===c.type&&c._hasPreCompStats&&l==={h:"x",v:"y"}[c.orientation||"v"]&&(d.noMultiCategory=!0),d.autotypenumbers=e.autotypenumbers,u(c,l)){var p=s(c),v=[];for(n=0;n<t.length;n++){var y=t[n];r(y,"box-violin")&&(y[l+"axis"]||l)===o&&(void 0!==y[p]?v.push(y[p][0]):void 0!==y.name?v.push(y.name):v.push("text"),y[f]!==h&&(h=void 0))}e.type=i(v,h,d)}else if("splom"===c.type){var g=c.dimensions[c._axesDim[o]];g.visible&&(e.type=i(g.values,h,d))}else e.type=i(c[l]||[c[l+"0"]],h,d)}else e.type="linear"}}function a(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if("splom"===i.type&&i._length>0&&(i["_"+n+"axes"]||{})[t])return i;if((i[n+"axis"]||n)===t){if(u(i,n))return i;if((i[n]||[]).length||i[n+"0"])return i}}}function s(e){return{v:"x",h:"y"}[e.orientation||"v"]}function u(e,t){var n=s(e),i=r(e,"box-violin"),o=r(e._fullInput||{},"candlestick");return i&&!o&&t===n&&void 0===e[n]&&void 0===e[n+"0"]}t.exports=function(e,t,n,r){n("autotypenumbers",r.autotypenumbersDflt),"-"===n("type",(r.splomStash||{}).type)&&(o(t,r.data),"-"===t.type?t.type="linear":e.type=t.type)}},{"../../registry":313,"./axis_autotype":277}],303:[function(e,t,n){"use strict";var r=e("../registry"),i=e("../lib");function o(e,t,n){var r,o,a,s=!1;if("data"===t.type)r=e._fullData[null!==t.traces?t.traces[0]:0];else{if("layout"!==t.type)return!1;r=e._fullLayout}return o=i.nestedProperty(r,t.prop).get(),(a=n[t.type]=n[t.type]||{}).hasOwnProperty(t.prop)&&a[t.prop]!==o&&(s=!0),a[t.prop]=o,{changed:s,value:o}}function a(e,t){return Array.isArray(t[0])&&1===t[0].length&&-1!==["string","number"].indexOf(typeof t[0][0])?[{type:"layout",prop:"_currentFrame",value:t[0][0].toString()}]:[]}function s(e,t){var n=[],r=t[0],o={};if("string"===typeof r)o[r]=t[1];else{if(!i.isPlainObject(r))return n;o=r}return l(o,(function(e,t,r){n.push({type:"layout",prop:e,value:r})}),"",0),n}function u(e,t){var n,r,o,a,s=[];if(r=t[0],o=t[1],n=t[2],a={},"string"===typeof r)a[r]=o;else{if(!i.isPlainObject(r))return s;a=r,void 0===n&&(n=o)}return void 0===n&&(n=null),l(a,(function(t,r,i){var o,a;if(Array.isArray(i)){a=i.slice();var u=Math.min(a.length,e.data.length);n&&(u=Math.min(u,n.length)),o=[];for(var l=0;l<u;l++)o[l]=n?n[l]:l}else a=i,o=n?n.slice():null;if(null===o)Array.isArray(a)&&(a=a[0]);else if(Array.isArray(o)){if(!Array.isArray(a)){var c=a;a=[];for(var f=0;f<o.length;f++)a[f]=c}a.length=Math.min(o.length,a.length)}s.push({type:"data",prop:t,traces:o,value:a})}),"",0),s}function l(e,t,n,r){Object.keys(e).forEach((function(o){var a=e[o];if("_"!==o[0]){var s=n+(r>0?".":"")+o;i.isPlainObject(a)?l(a,t,s,r+1):t(s,o,a)}}))}n.manageCommandObserver=function(e,t,r,a){var s={},u=!0;t&&t._commandObserver&&(s=t._commandObserver),s.cache||(s.cache={}),s.lookupTable={};var l=n.hasSimpleAPICommandBindings(e,r,s.lookupTable);if(t&&t._commandObserver){if(l)return s;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,s}if(l){o(e,l,s.cache),s.check=function(){if(u){var t=o(e,l,s.cache);return t.changed&&a&&void 0!==s.lookupTable[t.value]&&(s.disable(),Promise.resolve(a({value:t.value,type:l.type,prop:l.prop,traces:l.traces,index:s.lookupTable[t.value]})).then(s.enable,s.enable)),t.changed}};for(var c=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],f=0;f<c.length;f++)e._internalOn(c[f],s.check);s.remove=function(){for(var t=0;t<c.length;t++)e._removeInternalListener(c[t],s.check)}}else i.log("Unable to automatically bind plot updates to API command"),s.lookupTable={},s.remove=function(){};return s.disable=function(){u=!1},s.enable=function(){u=!0},t&&(t._commandObserver=s),s},n.hasSimpleAPICommandBindings=function(e,t,r){var i,o,a=t.length;for(i=0;i<a;i++){var s,u=t[i],l=u.method,c=u.args;if(Array.isArray(c)||(c=[]),!l)return!1;var f=n.computeAPICommandBindings(e,l,c);if(1!==f.length)return!1;if(o){if((s=f[0]).type!==o.type)return!1;if(s.prop!==o.prop)return!1;if(Array.isArray(o.traces)){if(!Array.isArray(s.traces))return!1;s.traces.sort();for(var h=0;h<o.traces.length;h++)if(o.traces[h]!==s.traces[h])return!1}else if(s.prop!==o.prop)return!1}else o=f[0],Array.isArray(o.traces)&&o.traces.sort();var d=(s=f[0]).value;if(Array.isArray(d)){if(1!==d.length)return!1;d=d[0]}r&&(r[d]=i)}return o},n.executeAPICommand=function(e,t,n){if("skip"===t)return Promise.resolve();var o=r.apiMethodRegistry[t],a=[e];Array.isArray(n)||(n=[]);for(var s=0;s<n.length;s++)a.push(n[s]);return o.apply(null,a).catch((function(e){return i.warn("API call to Plotly."+t+" rejected.",e),Promise.reject(e)}))},n.computeAPICommandBindings=function(e,t,n){var r;switch(Array.isArray(n)||(n=[]),t){case"restyle":r=u(e,n);break;case"relayout":r=s(e,n);break;case"update":r=u(e,[n[0],n[2]]).concat(s(e,[n[1]]));break;case"animate":r=a(e,n);break;default:r=[]}return r}},{"../lib":230,"../registry":313}],304:[function(e,t,n){"use strict";var r=e("../lib/extend").extendFlat;n.attributes=function(e,t){t=t||{};var n={valType:"info_array",editType:(e=e||{}).editType,items:[{valType:"number",min:0,max:1,editType:e.editType},{valType:"number",min:0,max:1,editType:e.editType}],dflt:[0,1]},i=(e.name&&e.name,e.trace,t.description&&t.description,{x:r({},n,{}),y:r({},n,{}),editType:e.editType});return e.noGridCell||(i.row={valType:"integer",min:0,dflt:0,editType:e.editType},i.column={valType:"integer",min:0,dflt:0,editType:e.editType}),i},n.defaults=function(e,t,n,r){var i=r&&r.x||[0,1],o=r&&r.y||[0,1],a=t.grid;if(a){var s=n("domain.column");void 0!==s&&(s<a.columns?i=a._domains.x[s]:delete e.domain.column);var u=n("domain.row");void 0!==u&&(u<a.rows?o=a._domains.y[u]:delete e.domain.row)}var l=n("domain.x",i),c=n("domain.y",o);l[0]<l[1]||(e.domain.x=i.slice()),c[0]<c[1]||(e.domain.y=o.slice())}},{"../lib/extend":224}],305:[function(e,t,n){"use strict";t.exports=function(e){var t=e.editType,n=e.colorEditType;void 0===n&&(n=t);var r={family:{valType:"string",noBlank:!0,strict:!0,editType:t},size:{valType:"number",min:1,editType:t},color:{valType:"color",editType:n},editType:t};return e.arrayOk&&(r.family.arrayOk=!0,r.size.arrayOk=!0,r.color.arrayOk=!0),r}},{}],306:[function(e,t,n){"use strict";t.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},{}],307:[function(e,t,n){"use strict";var r=e("../registry"),i=e("./cartesian/constants").SUBPLOT_PATTERN;n.getSubplotCalcData=function(e,t,n){var i=r.subplotsRegistry[t];if(!i)return[];for(var o=i.attr,a=[],s=0;s<e.length;s++){var u=e[s];u[0].trace[o]===n&&a.push(u)}return a},n.getModuleCalcData=function(e,t){var n,i=[],o=[];if(!(n="string"===typeof t?r.getModule(t).plot:"function"===typeof t?t:t.plot))return[i,e];for(var a=0;a<e.length;a++){var s=e[a],u=s[0].trace;!0===u.visible&&0!==u._length&&(u._module.plot===n?i.push(s):o.push(s))}return[i,o]},n.getSubplotData=function(e,t,n){if(!r.subplotsRegistry[t])return[];var o,a,s,u=r.subplotsRegistry[t].attr,l=[];if("gl2d"===t){var c=n.match(i);a="x"+c[1],s="y"+c[2]}for(var f=0;f<e.length;f++)o=e[f],"gl2d"===t&&r.traceIs(o,"gl2d")?o[u[0]]===a&&o[u[1]]===s&&l.push(o):o[u]===n&&l.push(o);return l}},{"../registry":313,"./cartesian/constants":283}],308:[function(e,t,n){"use strict";function r(e,t){var n,r,i=[0,0,0,0];for(n=0;n<4;++n)for(r=0;r<4;++r)i[r]+=e[4*n+r]*t[n];return i}function i(e,t){return r(e.projection,r(e.view,r(e.model,[t[0],t[1],t[2],1])))}t.exports=i},{}],309:[function(e,t,n){"use strict";var r=e("./font_attributes"),i=e("./animation_attributes"),o=e("../components/color/attributes"),a=e("../components/shapes/draw_newshape/attributes"),s=e("./pad_attributes"),u=e("../lib/extend").extendFlat,l=r({editType:"calc"});l.family.dflt='"Open Sans", verdana, arial, sans-serif',l.size.dflt=12,l.color.dflt=o.defaultLine,t.exports={font:l,title:{text:{valType:"string",editType:"layoutstyle"},font:r({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:u(s({editType:"layoutstyle"}),{}),editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:o.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:o.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:o.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:a.newshape,activeshape:a.activeshape,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:u({},i.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:r({editType:"layoutstyle"})}}},{"../components/color/attributes":99,"../components/shapes/draw_newshape/attributes":185,"../lib/extend":224,"./animation_attributes":270,"./font_attributes":305,"./pad_attributes":310}],310:[function(e,t,n){"use strict";t.exports=function(e){var t=e.editType;return{t:{valType:"number",dflt:0,editType:t},r:{valType:"number",dflt:0,editType:t},b:{valType:"number",dflt:0,editType:t},l:{valType:"number",dflt:0,editType:t},editType:t}}},{}],311:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("d3-time-format").timeFormatLocale,o=e("fast-isnumeric"),a=e("../registry"),s=e("../plot_api/plot_schema"),u=e("../plot_api/plot_template"),l=e("../lib"),c=e("../components/color"),f=e("../constants/numerical").BADNUM,h=e("./cartesian/axis_ids"),d=e("./cartesian/handle_outline").clearSelect,p=e("./animation_attributes"),v=e("./frame_attributes"),y=e("../plots/get_data").getModuleCalcData,g=l.relinkPrivateKeys,m=l._,b=t.exports={};l.extendFlat(b,a),b.attributes=e("./attributes"),b.attributes.type.values=b.allTypes,b.fontAttrs=e("./font_attributes"),b.layoutAttributes=e("./layout_attributes"),b.fontWeight="normal";var _=b.transformsRegistry,w=e("./command");function x(e,t){t.text("");var n=t.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(e._context.linkText+" "+String.fromCharCode(187));if(e._context.sendData)n.on("click",(function(){b.sendDataToCloud(e)}));else{var r=window.location.pathname.split("/"),i=window.location.search;n.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+r[2].split(".")[0]+"/"+r[1]+i})}}b.executeAPICommand=w.executeAPICommand,b.computeAPICommandBindings=w.computeAPICommandBindings,b.manageCommandObserver=w.manageCommandObserver,b.hasSimpleAPICommandBindings=w.hasSimpleAPICommandBindings,b.redrawText=function(e){return e=l.getGraphDiv(e),new Promise((function(t){setTimeout((function(){e._fullLayout&&(a.getComponentMethod("annotations","draw")(e),a.getComponentMethod("legend","draw")(e),a.getComponentMethod("colorbar","draw")(e),t(b.previousPromises(e)))}),300)}))},b.resize=function(e){var t;e=l.getGraphDiv(e);var n=new Promise((function(n,r){e&&!l.isHidden(e)||r(new Error("Resize must be passed a displayed plot div element.")),e._redrawTimer&&clearTimeout(e._redrawTimer),e._resolveResize&&(t=e._resolveResize),e._resolveResize=n,e._redrawTimer=setTimeout((function(){if(!e.layout||e.layout.width&&e.layout.height||l.isHidden(e))n(e);else{delete e.layout.width,delete e.layout.height;var t=e.changed;e.autoplay=!0,a.call("relayout",e,{autosize:!0}).then((function(){e.changed=t,e._resolveResize===n&&(delete e._resolveResize,n(e))}))}}),100)}));return t&&t(n),n},b.previousPromises=function(e){if((e._promises||[]).length)return Promise.all(e._promises).then((function(){e._promises=[]}))},b.addLinks=function(e){if(e._context.showLink||e._context.showSources){var t=e._fullLayout,n=l.ensureSingle(t._paper,"text","js-plot-link-container",(function(e){e.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:c.defaultLine,"pointer-events":"all"}).each((function(){var e=r.select(this);e.append("tspan").classed("js-link-to-tool",!0),e.append("tspan").classed("js-link-spacer",!0),e.append("tspan").classed("js-sourcelinks",!0)}))})),i=n.node(),o={y:t._paper.attr("height")-9};document.body.contains(i)&&i.getComputedTextLength()>=t.width-20?(o["text-anchor"]="start",o.x=5):(o["text-anchor"]="end",o.x=t._paper.attr("width")-7),n.attr(o);var a=n.select(".js-link-to-tool"),s=n.select(".js-link-spacer"),u=n.select(".js-sourcelinks");e._context.showSources&&e._context.showSources(e),e._context.showLink&&x(e,a),s.text(a.text()&&u.text()?" - ":"")}},b.sendDataToCloud=function(e){var t=(window.PLOTLYENV||{}).BASE_URL||e._context.plotlyServerURL;if(t){e.emit("plotly_beforeexport");var n=r.select(e).append("div").attr("id","hiddenform").style("display","none"),i=n.append("form").attr({action:t+"/external",method:"post",target:"_blank"});return i.append("input").attr({type:"text",name:"data"}).node().value=b.graphJson(e,!1,"keepdata"),i.node().submit(),n.remove(),e.emit("plotly_afterexport"),!1}};var T=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],k=["year","month","dayMonth","dayMonthYear"];function O(e,t){var n,r,i=t.length,o=[];for(n=0;n<e.length;n++){var a=e[n]._fullInput;a!==r&&o.push(a),r=a}var s=o.length,u=new Array(i),c={};function f(e,t){u[t]=e,c[e]=1}function h(e,t){if(e&&"string"===typeof e&&!c[e])return f(e,t),!0}for(n=0;n<i;n++){var d=t[n].uid;"number"===typeof d&&(d=String(d)),h(d,n)||n<s&&h(o[n].uid,n)||f(l.randstr(c),n)}return u}function S(){var e,t,n=a.collectableSubplotTypes,r={};if(!n){n=[];var i=a.subplotsRegistry;for(var o in i){var s=i[o].attr;if(s&&(n.push(o),Array.isArray(s)))for(t=0;t<s.length;t++)l.pushUnique(n,s[t])}}for(e=0;e<n.length;e++)r[n[e]]=[];return r}function A(e,t){var n=e._context.locale;n||(n="en-US");var r=!1,i={};function o(e){for(var n=!0,o=0;o<t.length;o++){var a=t[o];i[a]||(e[a]?i[a]=e[a]:n=!1)}n&&(r=!0)}for(var s=0;s<2;s++){for(var u=e._context.locales,l=0;l<2;l++){var c=(u[n]||{}).format;if(c&&(o(c),r))break;u=a.localeRegistry}var f=n.split("-")[0];if(r||f===n)break;n=f}return r||o(a.localeRegistry.en.format),i}function E(e,t){return e.decimal=t.charAt(0),e.thousands=t.charAt(1),{numberFormat:r.locale(e).numberFormat,timeFormat:i(e).utcFormat}}function M(e,t){var n,r=[];t.meta&&(n=t._meta={meta:t.meta,layout:{meta:t.meta}});for(var i=0;i<e.length;i++){var o=e[i];o.meta?r[o.index]=o._meta={meta:o.meta}:t.meta&&(o._meta={meta:t.meta}),t.meta&&(o._meta.layout={meta:t.meta})}r.length&&(n||(n=t._meta={}),n.data=r)}function C(e,t){var n={_fullLayout:t},r="x"===e._id.charAt(0),i=e._mainAxis._anchorAxis,o="",a="",s="";if(i&&(s=i._mainAxis._id,o=r?e._id+s:s+e._id),!o||!t._plots[o]){o="";for(var u=e._counterAxes,l=0;l<u.length;l++){var c=u[l],f=r?e._id+c:c+e._id;a||(a=f);var d=h.getFromId(n,c);if(s&&d.overlaying===s){o=f;break}}}return o||a}function I(e){var t=e.transforms;if(Array.isArray(t)&&t.length)for(var n=0;n<t.length;n++){var r=t[n],i=r._module||_[r.type];if(i&&i.makesData)return!0}return!1}function D(e,t,n,r){for(var i=e.transforms,o=[e],a=0;a<i.length;a++){var s=i[a],u=_[s.type];u&&u.transform&&(o=u.transform(o,{transform:s,fullTrace:e,fullData:t,layout:n,fullLayout:r,transformIndex:a}))}return o}function P(e){return"string"===typeof e&&"px"===e.substr(e.length-2)&&parseFloat(e)}function N(e){var t=e.margin;if(!e._size){var n=e._size={l:Math.round(t.l),r:Math.round(t.r),t:Math.round(t.t),b:Math.round(t.b),p:Math.round(t.pad)};n.w=Math.round(e.width)-n.l-n.r,n.h=Math.round(e.height)-n.t-n.b}e._pushmargin||(e._pushmargin={}),e._pushmarginIds||(e._pushmarginIds={})}b.supplyDefaults=function(e,t){var n=t&&t.skipUpdateCalc,r=e._fullLayout||{};if(r._skipDefaults)delete r._skipDefaults;else{var i,o=e._fullLayout={},s=e.layout||{},u=e._fullData||[],c=e._fullData=[],f=e.data||[],h=e.calcdata||[],p=e._context||{};e._transitionData||b.createTransitionData(e),o._dfltTitle={plot:m(e,"Click to enter Plot title"),x:m(e,"Click to enter X axis title"),y:m(e,"Click to enter Y axis title"),colorbar:m(e,"Click to enter Colorscale title"),annotation:m(e,"new text")},o._traceWord=m(e,"trace");var v=A(e,T);if(o._mapboxAccessToken=p.mapboxAccessToken,r._initialAutoSizeIsDone){var y=r.width,_=r.height;b.supplyLayoutGlobalDefaults(s,o,v),s.width||(o.width=y),s.height||(o.height=_),b.sanitizeMargins(o)}else{b.supplyLayoutGlobalDefaults(s,o,v);var w=!s.width||!s.height,x=o.autosize,C=p.autosizable;w&&(x||C)?b.plotAutoSize(e,s,o):w&&b.sanitizeMargins(o),!x&&w&&(s.width=o.width,s.height=o.height)}o._d3locale=E(v,o.separators),o._extraFormat=A(e,k),o._initialAutoSizeIsDone=!0,o._dataLength=f.length,o._modules=[],o._visibleModules=[],o._basePlotModules=[];var I=o._subplots=S(),D=o._splomAxes={x:{},y:{}},P=o._splomSubplots={};o._splomGridDflt={},o._scatterStackOpts={},o._firstScatter={},o._alignmentOpts={},o._colorAxes={},o._requestRangeslider={},o._traceUids=O(u,f),o._globalTransforms=(e._context||{}).globalTransforms,b.supplyDataDefaults(f,c,s,o);var L=Object.keys(D.x),j=Object.keys(D.y);if(L.length>1&&j.length>1){for(a.getComponentMethod("grid","sizeDefaults")(s,o),i=0;i<L.length;i++)l.pushUnique(I.xaxis,L[i]);for(i=0;i<j.length;i++)l.pushUnique(I.yaxis,j[i]);for(var R in P)l.pushUnique(I.cartesian,R)}if(o._has=b._hasPlotType.bind(o),u.length===c.length)for(i=0;i<c.length;i++)g(c[i],u[i]);b.supplyLayoutModuleDefaults(s,o,c,e._transitionData);var F=o._visibleModules,z=[];for(i=0;i<F.length;i++){var U=F[i].crossTraceDefaults;U&&l.pushUnique(z,U)}for(i=0;i<z.length;i++)z[i](c,o);o._hasOnlyLargeSploms=1===o._basePlotModules.length&&"splom"===o._basePlotModules[0].name&&L.length>15&&j.length>15&&0===o.shapes.length&&0===o.images.length,b.linkSubplots(c,o,u,r),b.cleanPlot(c,o,u,r);var q=!(!r._has||!r._has("gl2d")),V=!(!o._has||!o._has("gl2d")),B=!(!r._has||!r._has("cartesian"))||q,H=!(!o._has||!o._has("cartesian"))||V;B&&!H?r._bgLayer.remove():H&&!B&&(o._shouldCreateBgLayer=!0),r._zoomlayer&&!e._dragging&&d({_fullLayout:r}),M(c,o),g(o,r),a.getComponentMethod("colorscale","crossTraceDefaults")(c,o),o._preGUI||(o._preGUI={}),o._tracePreGUI||(o._tracePreGUI={});var W,Y=o._tracePreGUI,G={};for(W in Y)G[W]="old";for(i=0;i<c.length;i++)G[W=c[i]._fullInput.uid]||(Y[W]={}),G[W]="new";for(W in G)"old"===G[W]&&delete Y[W];N(o),a.getComponentMethod("rangeslider","makeData")(o),n||h.length!==c.length||b.supplyDefaultsUpdateCalc(h,c)}},b.supplyDefaultsUpdateCalc=function(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=(e[n]||[])[0];if(i&&i.trace){var o=i.trace;if(o._hasCalcTransform){var a,s,u,c=o._arrayAttrs;for(a=0;a<c.length;a++)s=c[a],u=l.nestedProperty(o,s).get().slice(),l.nestedProperty(r,s).set(u)}i.trace=r}}},b.createTransitionData=function(e){e._transitionData||(e._transitionData={}),e._transitionData._frames||(e._transitionData._frames=[]),e._transitionData._frameHash||(e._transitionData._frameHash={}),e._transitionData._counter||(e._transitionData._counter=0),e._transitionData._interruptCallbacks||(e._transitionData._interruptCallbacks=[])},b._hasPlotType=function(e){var t,n=this._basePlotModules||[];for(t=0;t<n.length;t++)if(n[t].name===e)return!0;var r=this._modules||[];for(t=0;t<r.length;t++){var i=r[t].name;if(i===e)return!0;var o=a.modules[i];if(o&&o.categories[e])return!0}return!1},b.cleanPlot=function(e,t,n,r){var i,o,a=r._basePlotModules||[];for(i=0;i<a.length;i++){var s=a[i];s.clean&&s.clean(e,t,n,r)}var u=r._has&&r._has("gl"),l=t._has&&t._has("gl");u&&!l&&void 0!==r._glcontainer&&(r._glcontainer.selectAll(".gl-canvas").remove(),r._glcontainer.selectAll(".no-webgl").remove(),r._glcanvas=null);var c=!!r._infolayer;e:for(i=0;i<n.length;i++){var f=n[i].uid;for(o=0;o<e.length;o++)if(f===e[o].uid)continue e;c&&r._infolayer.select(".cb"+f).remove()}},b.linkSubplots=function(e,t,n,r){var i,o,s=r._plots||{},u=t._plots={},c=t._subplots,f={_fullData:e,_fullLayout:t},d=c.cartesian.concat(c.gl2d||[]);for(i=0;i<d.length;i++){var p,v=d[i],y=s[v],g=h.getFromId(f,v,"x"),m=h.getFromId(f,v,"y");for(y?p=u[v]=y:(p=u[v]={}).id=v,g._counterAxes.push(m._id),m._counterAxes.push(g._id),g._subplotsWith.push(v),m._subplotsWith.push(v),p.xaxis=g,p.yaxis=m,p._hasClipOnAxisFalse=!1,o=0;o<e.length;o++){var b=e[o];if(b.xaxis===p.xaxis._id&&b.yaxis===p.yaxis._id&&!1===b.cliponaxis){p._hasClipOnAxisFalse=!0;break}}}var _,w=h.list(f,null,!0);for(i=0;i<w.length;i++){var x=null;(_=w[i]).overlaying&&(x=h.getFromId(f,_.overlaying))&&x.overlaying&&(_.overlaying=!1,x=null),_._mainAxis=x||_,x&&(_.domain=x.domain.slice()),_._anchorAxis="free"===_.anchor?null:h.getFromId(f,_.anchor)}for(i=0;i<w.length;i++)if((_=w[i])._counterAxes.sort(h.idSort),_._subplotsWith.sort(l.subplotSort),_._mainSubplot=C(_,t),_._counterAxes.length&&(_.spikemode&&-1!==_.spikemode.indexOf("across")||_.automargin&&_.mirror&&"free"!==_.anchor||a.getComponentMethod("rangeslider","isVisible")(_))){var T=1,k=0;for(o=0;o<_._counterAxes.length;o++){var O=h.getFromId(f,_._counterAxes[o]);T=Math.min(T,O.domain[0]),k=Math.max(k,O.domain[1])}T<k&&(_._counterDomainMin=T,_._counterDomainMax=k)}},b.clearExpandedTraceDefaultColors=function(e){var t,n,r;function i(e,r,i,o){n[o]=r,n.length=o+1,"color"===e.valType&&void 0===e.dflt&&t.push(n.join("."))}for(n=[],(t=e._module._colorAttrs)||(e._module._colorAttrs=t=[],s.crawl(e._module.attributes,i)),r=0;r<t.length;r++)l.nestedProperty(e,"_input."+t[r]).get()||l.nestedProperty(e,t[r]).set(null)},b.supplyDataDefaults=function(e,t,n,r){var i,o,s,c=r._modules,f=r._visibleModules,h=r._basePlotModules,d=0,p=0;function v(e){t.push(e);var n=e._module;n&&(l.pushUnique(c,n),!0===e.visible&&l.pushUnique(f,n),l.pushUnique(h,e._module.basePlotModule),d++,!1!==e._input.visible&&p++)}r._transformModules=[];var y={},m=[],_=(n.template||{}).data||{},w=u.traceTemplater(_);for(i=0;i<e.length;i++){if(s=e[i],(o=w.newTrace(s)).uid=r._traceUids[i],b.supplyTraceDefaults(s,o,p,r,i),o.index=i,o._input=s,o._expandedIndex=d,o.transforms&&o.transforms.length)for(var x=!1!==s.visible&&!1===o.visible,T=D(o,t,n,r),k=0;k<T.length;k++){var O=T[k],S={_template:o._template,type:o.type,uid:o.uid+k};x&&!1===O.visible&&delete O.visible,b.supplyTraceDefaults(O,S,d,r,i),g(S,O),S.index=i,S._input=s,S._fullInput=o,S._expandedIndex=d,S._expandedInput=O,v(S)}else o._fullInput=o,o._expandedInput=o,v(o);a.traceIs(o,"carpetAxis")&&(y[o.carpet]=o),a.traceIs(o,"carpetDependent")&&m.push(i)}for(i=0;i<m.length;i++)if((o=t[m[i]]).visible){var A=y[o.carpet];o._carpet=A,A&&A.visible?(o.xaxis=A.xaxis,o.yaxis=A.yaxis):o.visible=!1}},b.supplyAnimationDefaults=function(e){var t;e=e||{};var n={};function r(t,r){return l.coerce(e||{},n,p,t,r)}if(r("mode"),r("direction"),r("fromcurrent"),Array.isArray(e.frame))for(n.frame=[],t=0;t<e.frame.length;t++)n.frame[t]=b.supplyAnimationFrameDefaults(e.frame[t]||{});else n.frame=b.supplyAnimationFrameDefaults(e.frame||{});if(Array.isArray(e.transition))for(n.transition=[],t=0;t<e.transition.length;t++)n.transition[t]=b.supplyAnimationTransitionDefaults(e.transition[t]||{});else n.transition=b.supplyAnimationTransitionDefaults(e.transition||{});return n},b.supplyAnimationFrameDefaults=function(e){var t={};function n(n,r){return l.coerce(e||{},t,p.frame,n,r)}return n("duration"),n("redraw"),t},b.supplyAnimationTransitionDefaults=function(e){var t={};function n(n,r){return l.coerce(e||{},t,p.transition,n,r)}return n("duration"),n("easing"),t},b.supplyFrameDefaults=function(e){var t={};function n(n,r){return l.coerce(e,t,v,n,r)}return n("group"),n("name"),n("traces"),n("baseframe"),n("data"),n("layout"),t},b.supplyTraceDefaults=function(e,t,n,r,i){var o,s=r.colorway||c.defaults,u=s[n%s.length];function f(n,r){return l.coerce(e,t,b.attributes,n,r)}var h=f("visible");f("type"),f("name",r._traceWord+" "+i),f("uirevision",r.uirevision);var d=b.getModule(t);if(t._module=d,d){var p=d.basePlotModule,v=p.attr,y=p.attributes;if(v&&y){var g=r._subplots,m="";if(h||"gl2d"!==p.name){if(Array.isArray(v))for(o=0;o<v.length;o++){var _=v[o],w=l.coerce(e,t,y,_);g[_]&&l.pushUnique(g[_],w),m+=w}else m=l.coerce(e,t,y,v);g[p.name]&&l.pushUnique(g[p.name],m)}}}return h&&(f("customdata"),f("ids"),f("meta"),a.traceIs(t,"showLegend")?(l.coerce(e,t,d.attributes.showlegend?d.attributes:b.attributes,"showlegend"),f("legendgroup"),f("legendgrouptitle.text")&&l.coerceFont(f,"legendgrouptitle.font",l.extendFlat({},r.font,{size:Math.round(1.1*r.font.size)})),f("legendrank"),t._dfltShowLegend=!0):t._dfltShowLegend=!1,d&&d.supplyDefaults(e,t,u,r),a.traceIs(t,"noOpacity")||f("opacity"),a.traceIs(t,"notLegendIsolatable")&&(t.visible=!!t.visible),a.traceIs(t,"noHover")||(t.hovertemplate||l.coerceHoverinfo(e,t,r),"parcats"!==t.type&&a.getComponentMethod("fx","supplyDefaults")(e,t,u,r)),d&&d.selectPoints&&f("selectedpoints"),b.supplyTransformDefaults(e,t,r)),t},b.hasMakesDataTransform=I,b.supplyTransformDefaults=function(e,t,n){if(t._length||I(e)){var r=n._globalTransforms||[],i=n._transformModules||[];if(Array.isArray(e.transforms)||0!==r.length)for(var o=e.transforms||[],a=r.concat(o),s=t.transforms=[],u=0;u<a.length;u++){var c,f=a[u],h=f.type,d=_[h],p=!(f._module&&f._module===d),v=d&&"function"===typeof d.transform;d||l.warn("Unrecognized transform type "+h+"."),d&&d.supplyDefaults&&(p||v)?((c=d.supplyDefaults(f,t,n,e)).type=h,c._module=d,l.pushUnique(i,d)):c=l.extendFlat({},f),s.push(c)}}},b.supplyLayoutGlobalDefaults=function(e,t,n){function r(n,r){return l.coerce(e,t,b.layoutAttributes,n,r)}var i=e.template;l.isPlainObject(i)&&(t.template=i,t._template=i.layout,t._dataTemplate=i.data),r("autotypenumbers");var o=l.coerceFont(r,"font");r("title.text",t._dfltTitle.plot),l.coerceFont(r,"title.font",{family:o.family,size:Math.round(1.4*o.size),color:o.color}),r("title.xref"),r("title.yref"),r("title.x"),r("title.y"),r("title.xanchor"),r("title.yanchor"),r("title.pad.t"),r("title.pad.r"),r("title.pad.b"),r("title.pad.l"),r("uniformtext.mode")&&r("uniformtext.minsize"),r("autosize",!(e.width&&e.height)),r("width"),r("height"),r("margin.l"),r("margin.r"),r("margin.t"),r("margin.b"),r("margin.pad"),r("margin.autoexpand"),e.width&&e.height&&b.sanitizeMargins(t),a.getComponentMethod("grid","sizeDefaults")(e,t),r("paper_bgcolor"),r("separators",n.decimal+n.thousands),r("hidesources"),r("colorway"),r("datarevision");var s=r("uirevision");r("editrevision",s),r("selectionrevision",s),a.getComponentMethod("modebar","supplyLayoutDefaults")(e,t),a.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(e,t,r),r("meta"),l.isPlainObject(e.transition)&&(r("transition.duration"),r("transition.easing"),r("transition.ordering")),a.getComponentMethod("calendars","handleDefaults")(e,t,"calendar"),a.getComponentMethod("fx","supplyLayoutGlobalDefaults")(e,t,r)},b.plotAutoSize=function(e,t,n){var r,i,a=e._context||{},s=a.frameMargins,u=l.isPlotDiv(e);if(u&&e.emit("plotly_autosize"),a.fillFrame)r=window.innerWidth,i=window.innerHeight,document.body.style.overflow="hidden";else{var c=u?window.getComputedStyle(e):{};if(r=P(c.width)||P(c.maxWidth)||n.width,i=P(c.height)||P(c.maxHeight)||n.height,o(s)&&s>0){var f=1-2*s;r=Math.round(f*r),i=Math.round(f*i)}}var h=b.layoutAttributes.width.min,d=b.layoutAttributes.height.min;r<h&&(r=h),i<d&&(i=d);var p=!t.width&&Math.abs(n.width-r)>1,v=!t.height&&Math.abs(n.height-i)>1;(v||p)&&(p&&(n.width=r),v&&(n.height=i)),e._initialAutoSize||(e._initialAutoSize={width:r,height:i}),b.sanitizeMargins(n)},b.supplyLayoutModuleDefaults=function(e,t,n,r){var i,o,s,u=a.componentsRegistry,c=t._basePlotModules,f=a.subplotsRegistry.cartesian;for(i in u)(s=u[i]).includeBasePlot&&s.includeBasePlot(e,t);for(var h in c.length||c.push(f),t._has("cartesian")&&(a.getComponentMethod("grid","contentDefaults")(e,t),f.finalizeSubplots(e,t)),t._subplots)t._subplots[h].sort(l.subplotSort);for(o=0;o<c.length;o++)(s=c[o]).supplyLayoutDefaults&&s.supplyLayoutDefaults(e,t,n);var d=t._modules;for(o=0;o<d.length;o++)(s=d[o]).supplyLayoutDefaults&&s.supplyLayoutDefaults(e,t,n);var p=t._transformModules;for(o=0;o<p.length;o++)(s=p[o]).supplyLayoutDefaults&&s.supplyLayoutDefaults(e,t,n,r);for(i in u)(s=u[i]).supplyLayoutDefaults&&s.supplyLayoutDefaults(e,t,n)},b.purge=function(e){var t=e._fullLayout||{};void 0!==t._glcontainer&&(t._glcontainer.selectAll(".gl-canvas").remove(),t._glcontainer.remove(),t._glcanvas=null),t._modeBar&&t._modeBar.destroy(),e._transitionData&&(e._transitionData._interruptCallbacks&&(e._transitionData._interruptCallbacks.length=0),e._transitionData._animationRaf&&window.cancelAnimationFrame(e._transitionData._animationRaf)),l.clearThrottle(),l.clearResponsive(e),delete e.data,delete e.layout,delete e._fullData,delete e._fullLayout,delete e.calcdata,delete e.empty,delete e.fid,delete e.undoqueue,delete e.undonum,delete e.autoplay,delete e.changed,delete e._promises,delete e._redrawTimer,delete e._hmlumcount,delete e._hmpixcount,delete e._transitionData,delete e._transitioning,delete e._initialAutoSize,delete e._transitioningWithDuration,delete e._dragging,delete e._dragged,delete e._dragdata,delete e._hoverdata,delete e._snapshotInProgress,delete e._editing,delete e._mouseDownTime,delete e._legendMouseDownTime,e.removeAllListeners&&e.removeAllListeners()},b.style=function(e){var t,n=e._fullLayout._visibleModules,r=[];for(t=0;t<n.length;t++){var i=n[t];i.style&&l.pushUnique(r,i.style)}for(t=0;t<r.length;t++)r[t](e)},b.sanitizeMargins=function(e){if(e&&e.margin){var t,n=e.width,r=e.height,i=e.margin,o=n-(i.l+i.r),a=r-(i.t+i.b);o<0&&(t=(n-1)/(i.l+i.r),i.l=Math.floor(t*i.l),i.r=Math.floor(t*i.r)),a<0&&(t=(r-1)/(i.t+i.b),i.t=Math.floor(t*i.t),i.b=Math.floor(t*i.b))}},b.clearAutoMarginIds=function(e){e._fullLayout._pushmarginIds={}},b.allowAutoMargin=function(e,t){e._fullLayout._pushmarginIds[t]=1};var L=2,j=2,R=64,F=64;function z(e){var t=h.list(e,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach((function(e){for(var n=0;n<t.length;n++){var r=t[n][e];r&&r()}}))}b.autoMargin=function(e,t,n){var r=e._fullLayout,i=r.width,o=r.height,a=r.margin,s=l.constrain(i-a.l-a.r,L,R),u=l.constrain(o-a.t-a.b,j,F),c=Math.max(0,i-s),f=Math.max(0,o-u),h=r._pushmargin,d=r._pushmarginIds;if(!1!==a.autoexpand){if(n){var p=n.pad;if(void 0===p&&(p=Math.min(12,a.l,a.r,a.t,a.b)),c){var v=(n.l+n.r)/c;v>1&&(n.l/=v,n.r/=v)}if(f){var y=(n.t+n.b)/f;y>1&&(n.t/=y,n.b/=y)}var g=void 0!==n.xl?n.xl:n.x,m=void 0!==n.xr?n.xr:n.x,_=void 0!==n.yt?n.yt:n.y,w=void 0!==n.yb?n.yb:n.y;h[t]={l:{val:g,size:n.l+p},r:{val:m,size:n.r+p},b:{val:w,size:n.b+p},t:{val:_,size:n.t+p}},d[t]=1}else delete h[t],delete d[t];if(!r._replotting)return b.doAutoMargin(e)}},b.doAutoMargin=function(e){var t=e._fullLayout,n=t.width,r=t.height;t._size||(t._size={}),N(t);var i=t._size,s=t.margin,u=l.extendFlat({},i),c=s.l,f=s.r,h=s.t,d=s.b,p=t._pushmargin,v=t._pushmarginIds;if(!1!==t.margin.autoexpand){for(var y in p)v[y]||delete p[y];for(var g in p.base={l:{val:0,size:c},r:{val:1,size:f},t:{val:1,size:h},b:{val:0,size:d}},p){var m=p[g].l||{},_=p[g].b||{},w=m.val,x=m.size,T=_.val,k=_.size;for(var O in p){if(o(x)&&p[O].r){var S=p[O].r.val,A=p[O].r.size;if(S>w){var E=(x*S+(A-n)*w)/(S-w),M=(A*(1-w)+(x-n)*(1-S))/(S-w);E+M>c+f&&(c=E,f=M)}}if(o(k)&&p[O].t){var C=p[O].t.val,I=p[O].t.size;if(C>T){var D=(k*C+(I-r)*T)/(C-T),P=(I*(1-T)+(k-r)*(1-C))/(C-T);D+P>d+h&&(d=D,h=P)}}}}}var U=l.constrain(n-s.l-s.r,L,R),q=l.constrain(r-s.t-s.b,j,F),V=Math.max(0,n-U),B=Math.max(0,r-q);if(V){var H=(c+f)/V;H>1&&(c/=H,f/=H)}if(B){var W=(d+h)/B;W>1&&(d/=W,h/=W)}if(i.l=Math.round(c),i.r=Math.round(f),i.t=Math.round(h),i.b=Math.round(d),i.p=Math.round(s.pad),i.w=Math.round(n)-i.l-i.r,i.h=Math.round(r)-i.t-i.b,!t._replotting&&b.didMarginChange(u,i)){"_redrawFromAutoMarginCount"in t?t._redrawFromAutoMarginCount++:t._redrawFromAutoMarginCount=1;var Y=3*(1+Object.keys(v).length);if(t._redrawFromAutoMarginCount<Y)return a.call("_doPlot",e);t._size=u,l.warn("Too many auto-margin redraws.")}z(e)};var U=["l","r","t","b","p","w","h"];function q(e,t,n){var r=!1;function i(e){var t=Promise.resolve();if(!e)return t;for(;e.length;)t=t.then(e.shift());return t}function o(e){if(e)for(;e.length;)e.shift()}function s(){return e.emit("plotly_transitioning",[]),new Promise((function(i){e._transitioning=!0,t.duration>0&&(e._transitioningWithDuration=!0),e._transitionData._interruptCallbacks.push((function(){r=!0})),n.redraw&&e._transitionData._interruptCallbacks.push((function(){return a.call("redraw",e)})),e._transitionData._interruptCallbacks.push((function(){e.emit("plotly_transitioninterrupted",[])}));var o=0,s=0;function l(){return o++,function(){s++,r||s!==o||u(i)}}n.runFn(l),setTimeout(l())}))}function u(t){if(e._transitionData)return o(e._transitionData._interruptCallbacks),Promise.resolve().then((function(){if(n.redraw)return a.call("redraw",e)})).then((function(){e._transitioning=!1,e._transitioningWithDuration=!1,e.emit("plotly_transitioned",[])})).then(t)}function c(){if(e._transitionData)return e._transitioning=!1,i(e._transitionData._interruptCallbacks)}var f=[b.previousPromises,c,n.prepareFn,b.rehover,s],h=l.syncOrAsync(f,e);return h&&h.then||(h=Promise.resolve()),h.then((function(){return e}))}b.didMarginChange=function(e,t){for(var n=0;n<U.length;n++){var r=U[n],i=e[r],a=t[r];if(!o(i)||Math.abs(a-i)>1)return!0}return!1},b.graphJson=function(e,t,n,r,i,o){(i&&t&&!e._fullData||i&&!t&&!e._fullLayout)&&b.supplyDefaults(e);var a=i?e._fullData:e.data,s=i?e._fullLayout:e.layout,u=(e._transitionData||{})._frames;function c(e,t){if("function"===typeof e)return t?"_function_":null;if(l.isPlainObject(e)){var r,i={};return Object.keys(e).sort().forEach((function(o){if(-1===["_","["].indexOf(o.charAt(0)))if("function"!==typeof e[o]){if("keepdata"===n){if("src"===o.substr(o.length-3))return}else if("keepstream"===n){if("string"===typeof(r=e[o+"src"])&&r.indexOf(":")>0&&!l.isPlainObject(e.stream))return}else if("keepall"!==n&&"string"===typeof(r=e[o+"src"])&&r.indexOf(":")>0)return;i[o]=c(e[o],t)}else t&&(i[o]="_function")})),i}return Array.isArray(e)?e.map((function(e){return c(e,t)})):l.isTypedArray(e)?l.simpleMap(e,l.identity):l.isJSDate(e)?l.ms2DateTimeLocal(+e):e}var f={data:(a||[]).map((function(e){var n=c(e);return t&&delete n.fit,n}))};if(!t&&(f.layout=c(s),i)){var h=s._size;f.layout.computed={margin:{b:h.b,l:h.l,r:h.r,t:h.t}}}return u&&(f.frames=c(u)),o&&(f.config=c(e._context,!0)),"object"===r?f:JSON.stringify(f)},b.modifyFrames=function(e,t){var n,r,i,o=e._transitionData._frames,a=e._transitionData._frameHash;for(n=0;n<t.length;n++)switch((r=t[n]).type){case"replace":i=r.value;var s=(o[r.index]||{}).name,u=i.name;o[r.index]=a[u]=i,u!==s&&(delete a[s],a[u]=i);break;case"insert":a[(i=r.value).name]=i,o.splice(r.index,0,i);break;case"delete":delete a[(i=o[r.index]).name],o.splice(r.index,1)}return Promise.resolve()},b.computeFrame=function(e,t){var n,r,i,o,a=e._transitionData._frameHash;if(!t)throw new Error("computeFrame must be given a string frame name");var s=a[t.toString()];if(!s)return!1;for(var u=[s],l=[s.name];s.baseframe&&(s=a[s.baseframe.toString()])&&-1===l.indexOf(s.name);)u.push(s),l.push(s.name);for(var c={};s=u.pop();)if(s.layout&&(c.layout=b.extendLayout(c.layout,s.layout)),s.data){if(c.data||(c.data=[]),!(r=s.traces))for(r=[],n=0;n<s.data.length;n++)r[n]=n;for(c.traces||(c.traces=[]),n=0;n<s.data.length;n++)void 0!==(i=r[n])&&null!==i&&(-1===(o=c.traces.indexOf(i))&&(o=c.data.length,c.traces[o]=i),c.data[o]=b.extendTrace(c.data[o],s.data[n]))}return c},b.recomputeFrameHash=function(e){for(var t=e._transitionData._frameHash={},n=e._transitionData._frames,r=0;r<n.length;r++){var i=n[r];i&&i.name&&(t[i.name]=i)}},b.extendObjectWithContainers=function(e,t,n){var r,i,o,a,s,u,c,f=l.extendDeepNoArrays({},t||{}),h=l.expandObjectPaths(f),d={};if(n&&n.length)for(o=0;o<n.length;o++)void 0===(i=(r=l.nestedProperty(h,n[o])).get())?l.nestedProperty(d,n[o]).set(null):(r.set(null),l.nestedProperty(d,n[o]).set(i));if(e=l.extendDeepNoArrays(e||{},h),n&&n.length)for(o=0;o<n.length;o++)if(u=l.nestedProperty(d,n[o]).get()){for(c=(s=l.nestedProperty(e,n[o])).get(),Array.isArray(c)||(c=[],s.set(c)),a=0;a<u.length;a++){var p=u[a];c[a]=null===p?null:b.extendObjectWithContainers(c[a],p)}s.set(c)}return e},b.dataArrayContainers=["transforms","dimensions"],b.layoutArrayContainers=a.layoutArrayContainers,b.extendTrace=function(e,t){return b.extendObjectWithContainers(e,t,b.dataArrayContainers)},b.extendLayout=function(e,t){return b.extendObjectWithContainers(e,t,b.layoutArrayContainers)},b.transition=function(e,t,n,r,i,o){var a={redraw:i.redraw},s={},u=[];return a.prepareFn=function(){for(var i=Array.isArray(t)?t.length:0,o=r.slice(0,i),a=0;a<o.length;a++){var c=o[a],f=e._fullData[c]._module;if(f){if(f.animatable){var h=f.basePlotModule.name;s[h]||(s[h]=[]),s[h].push(c)}e.data[o[a]]=b.extendTrace(e.data[o[a]],t[a])}}var d=l.expandObjectPaths(l.extendDeepNoArrays({},n)),p=/^[xy]axis[0-9]*$/;for(var v in d)p.test(v)&&delete d[v].range;b.extendLayout(e.layout,d),delete e.calcdata,b.supplyDefaults(e),b.doCalcdata(e);var y=l.expandObjectPaths(n);if(y){var g=e._fullLayout._plots;for(var m in g){var _=g[m],w=_.xaxis,x=_.yaxis,T=w.range.slice(),k=x.range.slice(),O=null,S=null,A=null,E=null;Array.isArray(y[w._name+".range"])?O=y[w._name+".range"].slice():Array.isArray((y[w._name]||{}).range)&&(O=y[w._name].range.slice()),Array.isArray(y[x._name+".range"])?S=y[x._name+".range"].slice():Array.isArray((y[x._name]||{}).range)&&(S=y[x._name].range.slice()),T&&O&&(w.r2l(T[0])!==w.r2l(O[0])||w.r2l(T[1])!==w.r2l(O[1]))&&(A={xr0:T,xr1:O}),k&&S&&(x.r2l(k[0])!==x.r2l(S[0])||x.r2l(k[1])!==x.r2l(S[1]))&&(E={yr0:k,yr1:S}),(A||E)&&u.push(l.extendFlat({plotinfo:_},A,E))}}return Promise.resolve()},a.runFn=function(t){var r,i,a=e._fullLayout._basePlotModules,c=u.length;if(n)for(i=0;i<a.length;i++)a[i].transitionAxes&&a[i].transitionAxes(e,u,o,t);for(var f in c?((r=l.extendFlat({},o)).duration=0,delete s.cartesian):r=o,s){var h=s[f];e._fullData[h[0]]._module.basePlotModule.plot(e,h,r,t)}},q(e,o,a)},b.transitionFromReact=function(e,t,n,r){var i=e._fullLayout,o=i.transition,a={},s=[];return a.prepareFn=function(){var e=i._plots;for(var o in a.redraw=!1,"some"===t.anim&&(a.redraw=!0),"some"===n.anim&&(a.redraw=!0),e){var u=e[o],c=u.xaxis,f=u.yaxis,h=r[c._name].range.slice(),d=r[f._name].range.slice(),p=c.range.slice(),v=f.range.slice();c.setScale(),f.setScale();var y=null,g=null;c.r2l(h[0])===c.r2l(p[0])&&c.r2l(h[1])===c.r2l(p[1])||(y={xr0:h,xr1:p}),f.r2l(d[0])===f.r2l(v[0])&&f.r2l(d[1])===f.r2l(v[1])||(g={yr0:d,yr1:v}),(y||g)&&s.push(l.extendFlat({plotinfo:u},y,g))}return Promise.resolve()},a.runFn=function(n){for(var r,i,a,u=e._fullData,c=e._fullLayout._basePlotModules,f=[],h=0;h<u.length;h++)f.push(h);function d(){if(e._fullLayout)for(var t=0;t<c.length;t++)c[t].transitionAxes&&c[t].transitionAxes(e,s,r,n)}function p(){if(e._fullLayout)for(var t=0;t<c.length;t++)c[t].plot(e,a,i,n)}s.length&&t.anim?"traces first"===o.ordering?(r=l.extendFlat({},o,{duration:0}),a=f,i=o,setTimeout(d,o.duration),p()):(r=o,a=null,i=l.extendFlat({},o,{duration:0}),setTimeout(p,r.duration),d()):s.length?(r=o,d()):t.anim&&(a=f,i=o,p())},q(e,o,a)},b.doCalcdata=function(e,t){var n,r,i,o,u=h.list(e),l=e._fullData,c=e._fullLayout,d=new Array(l.length),p=(e.calcdata||[]).slice();for(e.calcdata=d,c._numBoxes=0,c._numViolins=0,c._violinScaleGroupStats={},e._hmpixcount=0,e._hmlumcount=0,c._piecolormap={},c._sunburstcolormap={},c._treemapcolormap={},c._iciclecolormap={},c._funnelareacolormap={},i=0;i<l.length;i++)Array.isArray(t)&&-1===t.indexOf(i)&&(d[i]=p[i]);for(i=0;i<l.length;i++)(n=l[i])._arrayAttrs=s.findArrayAttributes(n),n._extremes={};var v=c._subplots.polar||[];for(i=0;i<v.length;i++)u.push(c[v[i]].radialaxis,c[v[i]].angularaxis);for(var y in c._colorAxes){var g=c[y];!1!==g.cauto&&(delete g.cmin,delete g.cmax)}var m=!1;function b(t){if(n=l[t],r=n._module,!0===n.visible&&n.transforms){if(r&&r.calc){var i=r.calc(e,n);i[0]&&i[0].t&&i[0].t._scene&&delete i[0].t._scene.dirty}for(o=0;o<n.transforms.length;o++){var a=n.transforms[o];(r=_[a.type])&&r.calcTransform&&(n._hasCalcTransform=!0,m=!0,r.calcTransform(e,n,a))}}}function w(t,i){if(n=l[t],!!(r=n._module).isContainer===i){var a=[];if(!0===n.visible&&0!==n._length){delete n._indexToPoints;var s=n.transforms||[];for(o=s.length-1;o>=0;o--)if(s[o].enabled){n._indexToPoints=s[o]._indexToPoints;break}r&&r.calc&&(a=r.calc(e,n))}Array.isArray(a)&&a[0]||(a=[{x:f,y:f}]),a[0].t||(a[0].t={}),a[0].trace=n,d[t]=a}}for(H(u,l,c),i=0;i<l.length;i++)w(i,!0);for(i=0;i<l.length;i++)b(i);for(m&&H(u,l,c),i=0;i<l.length;i++)w(i,!0);for(i=0;i<l.length;i++)w(i,!1);W(e);var x=B(u,e);if(x.length){for(c._numBoxes=0,c._numViolins=0,i=0;i<x.length;i++)w(x[i],!0);for(i=0;i<x.length;i++)w(x[i],!1);W(e)}a.getComponentMethod("fx","calc")(e),a.getComponentMethod("errorbars","calc")(e)};var V=/(total|sum|min|max|mean|median) (ascending|descending)/;function B(e,t){var n,r,i,o,s,u=[];function c(e,n,r){var i=n._id.charAt(0);if("histogram2dcontour"===e){var o=n._counterAxes[0],a=h.getFromId(t,o),s="x"===i||"x"===o&&"category"===a.type,u="y"===i||"y"===o&&"category"===a.type;return function(e,t){return 0===e||0===t||s&&e===r[t].length-1||u&&t===r.length-1?-1:("y"===i?t:e)-1}}return function(e,t){return"y"===i?t:e}}var f={min:function(e){return l.aggNums(Math.min,null,e)},max:function(e){return l.aggNums(Math.max,null,e)},sum:function(e){return l.aggNums((function(e,t){return e+t}),null,e)},total:function(e){return l.aggNums((function(e,t){return e+t}),null,e)},mean:function(e){return l.mean(e)},median:function(e){return l.median(e)}};for(n=0;n<e.length;n++){var d=e[n];if("category"===d.type){var p=d.categoryorder.match(V);if(p){var v=p[1],y=p[2],g=d._id.charAt(0),m="x"===g,b=[];for(r=0;r<d._categories.length;r++)b.push([d._categories[r],[]]);for(r=0;r<d._traceIndices.length;r++){var _=d._traceIndices[r],w=t._fullData[_];if(!0===w.visible){var x=w.type;a.traceIs(w,"histogram")&&(delete w._xautoBinFinished,delete w._yautoBinFinished);var T="splom"===x,k="scattergl"===x,O=t.calcdata[_];for(i=0;i<O.length;i++){var S,A,E=O[i];if(T){var M=w._axesDim[d._id];if(!m){var C=w._diag[M][0];C&&(d=t._fullLayout[h.id2name(C)])}var I=E.trace.dimensions[M].values;for(o=0;o<I.length;o++)for(S=d._categoriesMap[I[o]],s=0;s<E.trace.dimensions.length;s++)if(s!==M){var D=E.trace.dimensions[s];b[S][1].push(D.values[o])}}else if(k){for(o=0;o<E.t.x.length;o++)m?(S=E.t.x[o],A=E.t.y[o]):(S=E.t.y[o],A=E.t.x[o]),b[S][1].push(A);E.t&&E.t._scene&&delete E.t._scene.dirty}else if(E.hasOwnProperty("z")){A=E.z;var P=c(w.type,d,A);for(o=0;o<A.length;o++)for(s=0;s<A[o].length;s++)(S=P(s,o))+1&&b[S][1].push(A[o][s])}else for(void 0===(S=E.p)&&(S=E[g]),void 0===(A=E.s)&&(A=E.v),void 0===A&&(A=m?E.y:E.x),Array.isArray(A)||(A=void 0===A?[]:[A]),o=0;o<A.length;o++)b[S][1].push(A[o])}}}d._categoriesValue=b;var N=[];for(r=0;r<b.length;r++)N.push([b[r][0],f[v](b[r][1])]);N.sort((function(e,t){return e[1]-t[1]})),d._categoriesAggregatedValue=N,d._initialCategories=N.map((function(e){return e[0]})),"descending"===y&&d._initialCategories.reverse(),u=u.concat(d.sortByInitialCategories())}}}return u}function H(e,t,n){var r={};function i(e){e.clearCalc(),"multicategory"===e.type&&e.setupMultiCategory(t),r[e._id]=1}l.simpleMap(e,i);for(var o=n._axisMatchGroups||[],a=0;a<o.length;a++)for(var s in o[a])r[s]||i(n[h.id2name(s)])}function W(e){var t,n,r,i=e._fullLayout,o=i._visibleModules,a={};for(n=0;n<o.length;n++){var s=o[n],u=s.crossTraceCalc;if(u){var c=s.basePlotModule.name;a[c]?l.pushUnique(a[c],u):a[c]=[u]}}for(r in a){var f=a[r],h=i._subplots[r];if(Array.isArray(h))for(t=0;t<h.length;t++){var d=h[t],p="cartesian"===r?i._plots[d]:i[d];for(n=0;n<f.length;n++)f[n](e,p,d)}else for(n=0;n<f.length;n++)f[n](e)}}b.rehover=function(e){e._fullLayout._rehover&&e._fullLayout._rehover()},b.redrag=function(e){e._fullLayout._redrag&&e._fullLayout._redrag()},b.generalUpdatePerTraceModule=function(e,t,n,r){var i,o=t.traceHash,a={};for(i=0;i<n.length;i++){var s=n[i],u=s[0].trace;u.visible&&(a[u.type]=a[u.type]||[],a[u.type].push(s))}for(var c in o)if(!a[c]){var f=o[c][0];f[0].trace.visible=!1,a[c]=[f]}for(var h in a){var d=a[h];d[0][0].trace._module.plot(e,t,l.filterVisible(d),r)}t.traceHash=a},b.plotBasePlot=function(e,t,n,r,i){var o=a.getModule(e),s=y(t.calcdata,o)[0];o.plot(t,s,r,i)},b.cleanBasePlot=function(e,t,n,r,i){var o=i._has&&i._has(e),a=n._has&&n._has(e);o&&!a&&i["_"+e+"layer"].selectAll("g.trace").remove()}},{"../components/color":100,"../constants/numerical":210,"../lib":230,"../plot_api/plot_schema":264,"../plot_api/plot_template":265,"../plots/get_data":307,"../registry":313,"./animation_attributes":270,"./attributes":272,"./cartesian/axis_ids":280,"./cartesian/handle_outline":287,"./command":303,"./font_attributes":305,"./frame_attributes":306,"./layout_attributes":309,"@plotly/d3":11,"d3-time-format":13,"fast-isnumeric":15}],312:[function(e,t,n){"use strict";var r=e("../constants/docs");function i(e){var t=e.description?" "+e.description:"",n=e.keys||[];if(n.length>0){for(var r=[],i=0;i<n.length;i++)r[i]="`"+n[i]+"`";t+="Finally, the template string has access to ",t=1===n.length?"variable "+r[0]:"variables "+r.slice(0,-1).join(", ")+" and "+r.slice(-1)+"."}return t}r.FORMAT_LINK,r.DATE_FORMAT_LINK,n.hovertemplateAttrs=function(e,t){e=e||{},i(t=t||{});var n={valType:"string",dflt:"",editType:e.editType||"none"};return!1!==e.arrayOk&&(n.arrayOk=!0),n},n.texttemplateAttrs=function(e,t){e=e||{},i(t=t||{});var n={valType:"string",dflt:"",editType:e.editType||"calc"};return!1!==e.arrayOk&&(n.arrayOk=!0),n}},{"../constants/docs":207}],313:[function(e,t,n){"use strict";var r=e("./lib/loggers"),i=e("./lib/noop"),o=e("./lib/push_unique"),a=e("./lib/is_plain_object"),s=e("./lib/dom").addStyleRule,u=e("./lib/extend"),l=e("./plots/attributes"),c=e("./plots/layout_attributes"),f=u.extendFlat,h=u.extendDeepAll;function d(e){var t=e.name,i=e.categories,o=e.meta;if(n.modules[t])r.log("Type "+t+" already registered");else{n.subplotsRegistry[e.basePlotModule.name]||p(e.basePlotModule);for(var a={},u=0;u<i.length;u++)a[i[u]]=!0,n.allCategories[i[u]]=!0;for(var l in n.modules[t]={_module:e,categories:a},o&&Object.keys(o).length&&(n.modules[t].meta=o),n.allTypes.push(t),n.componentsRegistry)b(l,t);e.layoutAttributes&&f(n.traceLayoutAttributes,e.layoutAttributes);var c=e.basePlotModule,h=c.name;if("mapbox"===h){var d=c.constants.styleRules;for(var v in d)s(".js-plotly-plot .plotly .mapboxgl-"+v,d[v])}"geo"!==h&&"mapbox"!==h||void 0===typeof window||void 0!==window.PlotlyGeoAssets||(window.PlotlyGeoAssets={topojson:{}})}}function p(e){var t=e.name;if(n.subplotsRegistry[t])r.log("Plot type "+t+" already registered.");else for(var i in m(e),n.subplotsRegistry[t]=e,n.componentsRegistry)w(i,e.name)}function v(e){if("string"!==typeof e.name)throw new Error("Component module *name* must be a string.");var t=e.name;for(var r in n.componentsRegistry[t]=e,e.layoutAttributes&&(e.layoutAttributes._isLinkedToArray&&o(n.layoutArrayContainers,t),m(e)),n.modules)b(t,r);for(var i in n.subplotsRegistry)w(t,i);for(var a in n.transformsRegistry)_(t,a);e.schema&&e.schema.layout&&h(c,e.schema.layout)}function y(e){if("string"!==typeof e.name)throw new Error("Transform module *name* must be a string.");var t="Transform module "+e.name,i="function"===typeof e.transform,o="function"===typeof e.calcTransform;if(!i&&!o)throw new Error(t+" is missing a *transform* or *calcTransform* method.");for(var s in i&&o&&r.log([t+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),a(e.attributes)||r.log(t+" registered without an *attributes* object."),"function"!==typeof e.supplyDefaults&&r.log(t+" registered without a *supplyDefaults* method."),n.transformsRegistry[e.name]=e,n.componentsRegistry)_(s,e.name)}function g(e){var t=e.name,r=t.split("-")[0],i=e.dictionary,o=e.format,a=i&&Object.keys(i).length,s=o&&Object.keys(o).length,u=n.localeRegistry,l=u[t];if(l||(u[t]=l={}),r!==t){var c=u[r];c||(u[r]=c={}),a&&c.dictionary===l.dictionary&&(c.dictionary=i),s&&c.format===l.format&&(c.format=o)}a&&(l.dictionary=i),s&&(l.format=o)}function m(e){if(e.layoutAttributes){var t=e.layoutAttributes._arrayAttrRegexps;if(t)for(var r=0;r<t.length;r++)o(n.layoutArrayRegexes,t[r])}}function b(e,t){var r=n.componentsRegistry[e].schema;if(r&&r.traces){var i=r.traces[t];i&&h(n.modules[t]._module.attributes,i)}}function _(e,t){var r=n.componentsRegistry[e].schema;if(r&&r.transforms){var i=r.transforms[t];i&&h(n.transformsRegistry[t].attributes,i)}}function w(e,t){var r=n.componentsRegistry[e].schema;if(r&&r.subplots){var i=n.subplotsRegistry[t],o=i.layoutAttributes,a="subplot"===i.attr?i.name:i.attr;Array.isArray(a)&&(a=a[0]);var s=r.subplots[a];o&&s&&h(o,s)}}function x(e){return"object"===typeof e&&(e=e.type),e}n.modules={},n.allCategories={},n.allTypes=[],n.subplotsRegistry={},n.transformsRegistry={},n.componentsRegistry={},n.layoutArrayContainers=[],n.layoutArrayRegexes=[],n.traceLayoutAttributes={},n.localeRegistry={},n.apiMethodRegistry={},n.collectableSubplotTypes=null,n.register=function(e){if(n.collectableSubplotTypes=null,!e)throw new Error("No argument passed to Plotly.register.");e&&!Array.isArray(e)&&(e=[e]);for(var t=0;t<e.length;t++){var r=e[t];if(!r)throw new Error("Invalid module was attempted to be registered!");switch(r.moduleType){case"trace":d(r);break;case"transform":y(r);break;case"component":v(r);break;case"locale":g(r);break;case"apiMethod":var i=r.name;n.apiMethodRegistry[i]=r.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},n.getModule=function(e){var t=n.modules[x(e)];return!!t&&t._module},n.traceIs=function(e,t){if("various"===(e=x(e)))return!1;var i=n.modules[e];return i||(e&&r.log("Unrecognized trace type "+e+"."),i=n.modules[l.type.dflt]),!!i.categories[t]},n.getTransformIndices=function(e,t){for(var n=[],r=e.transforms||[],i=0;i<r.length;i++)r[i].type===t&&n.push(i);return n},n.hasTransform=function(e,t){for(var n=e.transforms||[],r=0;r<n.length;r++)if(n[r].type===t)return!0;return!1},n.getComponentMethod=function(e,t){var r=n.componentsRegistry[e];return r&&r[t]||i},n.call=function(){var e=arguments[0],t=[].slice.call(arguments,1);return n.apiMethodRegistry[e].apply(null,t)}},{"./lib/dom":222,"./lib/extend":224,"./lib/is_plain_object":231,"./lib/loggers":234,"./lib/noop":239,"./lib/push_unique":244,"./plots/attributes":272,"./plots/layout_attributes":309}],314:[function(e,t,n){"use strict";var r=e("../registry"),i=e("../lib"),o=i.extendFlat,a=i.extendDeep;function s(e){var t;switch(e){case"themes__thumb":t={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":t={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:t={}}return t}function u(e){return["xaxis","yaxis","zaxis"].indexOf(e.slice(0,5))>-1}t.exports=function(e,t){var n,i=e.data,l=e.layout,c=a([],i),f=a({},l,s(t.tileClass)),h=e._context||{};if(t.width&&(f.width=t.width),t.height&&(f.height=t.height),"thumbnail"===t.tileClass||"themes__thumb"===t.tileClass){f.annotations=[];var d=Object.keys(f);for(n=0;n<d.length;n++)u(d[n])&&(f[d[n]].title={text:""});for(n=0;n<c.length;n++){var p=c[n];p.showscale=!1,p.marker&&(p.marker.showscale=!1),r.traceIs(p,"pie-like")&&(p.textposition="none")}}if(Array.isArray(t.annotations))for(n=0;n<t.annotations.length;n++)f.annotations.push(t.annotations[n]);var v=Object.keys(f).filter((function(e){return e.match(/^scene\d*$/)}));if(v.length){var y={};for("thumbnail"===t.tileClass&&(y={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),n=0;n<v.length;n++){var g=f[v[n]];g.xaxis||(g.xaxis={}),g.yaxis||(g.yaxis={}),g.zaxis||(g.zaxis={}),o(g.xaxis,y),o(g.yaxis,y),o(g.zaxis,y),g._scene=null}}var m=document.createElement("div");t.tileClass&&(m.className=t.tileClass);var b={gd:m,td:m,layout:f,data:c,config:{staticPlot:void 0===t.staticPlot||t.staticPlot,plotGlPixelRatio:void 0===t.plotGlPixelRatio?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:h.mapboxAccessToken}};return"transparent"!==t.setBackground&&(b.config.setBackground=t.setBackground||"opaque"),b.gd.defaultLayout=s(t.tileClass),b}},{"../lib":230,"../registry":313}],315:[function(e,t,n){"use strict";var r=e("../lib"),i=e("../plot_api/to_image"),o=e("./filesaver"),a=e("./helpers");function s(e,t){var n;return r.isPlainObject(e)||(n=r.getGraphDiv(e)),(t=t||{}).format=t.format||"png",t.width=t.width||null,t.height=t.height||null,t.imageDataOnly=!0,new Promise((function(s,u){n&&n._snapshotInProgress&&u(new Error("Snapshotting already in progress.")),r.isIE()&&"svg"!==t.format&&u(new Error(a.MSG_IE_BAD_FORMAT)),n&&(n._snapshotInProgress=!0);var l=i(e,t),c=t.filename||e.fn||"newplot";c+="."+t.format.replace("-","."),l.then((function(e){return n&&(n._snapshotInProgress=!1),o(e,c,t.format)})).then((function(e){s(e)})).catch((function(e){n&&(n._snapshotInProgress=!1),u(e)}))}))}t.exports=s},{"../lib":230,"../plot_api/to_image":268,"./filesaver":316,"./helpers":317}],316:[function(e,t,n){"use strict";var r=e("../lib"),i=e("./helpers");function o(e,t,n){var o=document.createElement("a"),a="download"in o;return new Promise((function(s,u){var l,c;if(r.isSafari()){var f="svg"===n?",":";base64,";return i.octetStream(f+encodeURIComponent(e)),s(t)}return r.isIE()?(l=i.createBlob(e,"svg"),window.navigator.msSaveBlob(l,t),l=null,s(t)):a?(l=i.createBlob(e,n),c=i.createObjectURL(l),o.href=c,o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o),i.revokeObjectURL(c),l=null,s(t)):void u(new Error("download error"))}))}t.exports=o},{"../lib":230,"./helpers":317}],317:[function(e,t,n){"use strict";var r=e("../registry");n.getDelay=function(e){return e._has&&(e._has("gl3d")||e._has("gl2d")||e._has("mapbox"))?500:0},n.getRedrawFunc=function(e){return function(){r.getComponentMethod("colorbar","draw")(e)}},n.encodeSVG=function(e){return"data:image/svg+xml,"+encodeURIComponent(e)},n.encodeJSON=function(e){return"data:application/json,"+encodeURIComponent(e)};var i=window.URL||window.webkitURL;function o(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}n.createObjectURL=function(e){return i.createObjectURL(e)},n.revokeObjectURL=function(e){return i.revokeObjectURL(e)},n.createBlob=function(e,t){if("svg"===t)return new window.Blob([e],{type:"image/svg+xml;charset=utf-8"});if("full-json"===t)return new window.Blob([e],{type:"application/json;charset=utf-8"});var n=o(window.atob(e));return new window.Blob([n],{type:"image/"+t})},n.octetStream=function(e){document.location.href="data:application/octet-stream"+e},n.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,n.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},{"../registry":313}],318:[function(e,t,n){"use strict";var r=e("./helpers"),i={getDelay:r.getDelay,getRedrawFunc:r.getRedrawFunc,clone:e("./cloneplot"),toSVG:e("./tosvg"),svgToImg:e("./svgtoimg"),toImage:e("./toimage"),downloadImage:e("./download")};t.exports=i},{"./cloneplot":314,"./download":315,"./helpers":317,"./svgtoimg":319,"./toimage":320,"./tosvg":321}],319:[function(e,t,n){"use strict";var r=e("../lib"),i=e("events").EventEmitter,o=e("./helpers");function a(e){var t=e.emitter||new i,n=new Promise((function(i,a){var s=window.Image,u=e.svg,l=e.format||"png";if(r.isIE()&&"svg"!==l){var c=new Error(o.MSG_IE_BAD_FORMAT);return a(c),e.promise?n:t.emit("error",c)}var f,h,d=e.canvas,p=e.scale||1,v=e.width||300,y=e.height||150,g=p*v,m=p*y,b=d.getContext("2d"),_=new s;"svg"===l||r.isSafari()?h=o.encodeSVG(u):(f=o.createBlob(u,"svg"),h=o.createObjectURL(f)),d.width=g,d.height=m,_.onload=function(){var n;switch(f=null,o.revokeObjectURL(h),"svg"!==l&&b.drawImage(_,0,0,g,m),l){case"jpeg":n=d.toDataURL("image/jpeg");break;case"png":n=d.toDataURL("image/png");break;case"webp":n=d.toDataURL("image/webp");break;case"svg":n=h;break;default:var r="Image format is not jpeg, png, svg or webp.";if(a(new Error(r)),!e.promise)return t.emit("error",r)}i(n),e.promise||t.emit("success",n)},_.onerror=function(n){if(f=null,o.revokeObjectURL(h),a(n),!e.promise)return t.emit("error",n)},_.src=h}));return e.promise?n:t}t.exports=a},{"../lib":230,"./helpers":317,events:12}],320:[function(e,t,n){"use strict";var r=e("events").EventEmitter,i=e("../registry"),o=e("../lib"),a=e("./helpers"),s=e("./cloneplot"),u=e("./tosvg"),l=e("./svgtoimg");function c(e,t){var n=new r,c=s(e,{format:"png"}),f=c.gd;function h(){var e=a.getDelay(f._fullLayout);setTimeout((function(){var e=u(f),r=document.createElement("canvas");r.id=o.randstr(),(n=l({format:t.format,width:f._fullLayout.width,height:f._fullLayout.height,canvas:r,emitter:n,svg:e})).clean=function(){f&&document.body.removeChild(f)}}),e)}f.style.position="absolute",f.style.left="-5000px",document.body.appendChild(f);var d=a.getRedrawFunc(f);return i.call("_doPlot",f,c.data,c.layout,c.config).then(d).then(h).catch((function(e){n.emit("error",e)})),n}t.exports=c},{"../lib":230,"../registry":313,"./cloneplot":314,"./helpers":317,"./svgtoimg":319,"./tosvg":321,events:12}],321:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../lib"),o=e("../components/drawing"),a=e("../components/color"),s=e("../constants/xmlns_namespaces"),u=/"/g,l="TOBESTRIPPED",c=new RegExp('("'+l+")|("+l+'")',"g");function f(e){var t=r.select("body").append("div").style({display:"none"}).html(""),n=e.replace(/(&[^;]*;)/gi,(function(e){return"&lt;"===e?"&#60;":"&rt;"===e?"&#62;":-1!==e.indexOf("<")||-1!==e.indexOf(">")?"":t.html(e).text()}));return t.remove(),n}function h(e){return e.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}t.exports=function(e,t,n){var d,p,v=e._fullLayout,y=v._paper,g=v._toppaper,m=v.width,b=v.height;y.insert("rect",":first-child").call(o.setRect,0,0,m,b).call(a.fill,v.paper_bgcolor);var _=v._basePlotModules||[];for(d=0;d<_.length;d++){var w=_[d];w.toSVG&&w.toSVG(e)}if(g){var x=g.node().childNodes,T=Array.prototype.slice.call(x);for(d=0;d<T.length;d++){var k=T[d];k.childNodes.length&&y.node().appendChild(k)}}v._draggers&&v._draggers.remove(),y.node().style.background="",y.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each((function(){var e=r.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){e.style({visibility:null,display:null});var t=this.style.fontFamily;t&&-1!==t.indexOf('"')&&e.style("font-family",t.replace(u,l))}else e.remove()}));var O=[];if(v._gradientUrlQueryParts)for(p in v._gradientUrlQueryParts)O.push(p);if(v._patternUrlQueryParts)for(p in v._patternUrlQueryParts)O.push(p);O.length&&y.selectAll(O.join(",")).each((function(){var e=r.select(this),t=this.style.fill;t&&-1!==t.indexOf("url(")&&e.style("fill",t.replace(u,l));var n=this.style.stroke;n&&-1!==n.indexOf("url(")&&e.style("stroke",n.replace(u,l))})),"pdf"!==t&&"eps"!==t||y.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),y.node().setAttributeNS(s.xmlns,"xmlns",s.svg),y.node().setAttributeNS(s.xmlns,"xmlns:xlink",s.xlink),"svg"===t&&n&&(y.attr("width",n*m),y.attr("height",n*b),y.attr("viewBox","0 0 "+m+" "+b));var S=(new window.XMLSerializer).serializeToString(y.node());return S=(S=h(S=f(S))).replace(c,"'"),i.isIE()&&(S=(S=(S=S.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),S}},{"../components/color":100,"../components/drawing":122,"../constants/xmlns_namespaces":211,"../lib":230,"@plotly/d3":11}],322:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t){for(var n=0;n<e.length;n++)e[n].i=n;r.mergeArray(t.text,e,"tx"),r.mergeArray(t.hovertext,e,"htx");var i=t.marker;if(i){r.mergeArray(i.opacity,e,"mo",!0),r.mergeArray(i.color,e,"mc");var o=i.line;o&&(r.mergeArray(o.color,e,"mlc"),r.mergeArrayCastPositive(o.width,e,"mlw"))}}},{"../../lib":230}],323:[function(e,t,n){"use strict";var r=e("../scatter/attributes"),i=e("../../plots/cartesian/axis_format_attributes").axisHoverFormat,o=e("../../plots/template_attributes").hovertemplateAttrs,a=e("../../plots/template_attributes").texttemplateAttrs,s=e("../../components/colorscale/attributes"),u=e("../../plots/font_attributes"),l=e("./constants"),c=e("../../components/drawing/attributes").pattern,f=e("../../lib/extend").extendFlat,h=u({editType:"calc",arrayOk:!0,colorEditType:"style"}),d=f({},r.marker.line.width,{dflt:0}),p=f({width:d,editType:"calc"},s("marker.line")),v=f({line:p,editType:"calc"},s("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:c});t.exports={x:r.x,x0:r.x0,dx:r.dx,y:r.y,y0:r.y0,dy:r.dy,xperiod:r.xperiod,yperiod:r.yperiod,xperiod0:r.xperiod0,yperiod0:r.yperiod0,xperiodalignment:r.xperiodalignment,yperiodalignment:r.yperiodalignment,xhoverformat:i("x"),yhoverformat:i("y"),text:r.text,texttemplate:a({editType:"plot"},{keys:l.eventDataKeys}),hovertext:r.hovertext,hovertemplate:o({},{keys:l.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:f({},h,{}),insidetextfont:f({},h,{}),outsidetextfont:f({},h,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:f({},r.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:v,offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},selected:{marker:{opacity:r.selected.marker.opacity,color:r.selected.marker.color,editType:"style"},textfont:r.selected.textfont,editType:"style"},unselected:{marker:{opacity:r.unselected.marker.opacity,color:r.unselected.marker.color,editType:"style"},textfont:r.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},{"../../components/colorscale/attributes":107,"../../components/drawing/attributes":121,"../../lib/extend":224,"../../plots/cartesian/axis_format_attributes":279,"../../plots/font_attributes":305,"../../plots/template_attributes":312,"../scatter/attributes":353,"./constants":325}],324:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axes"),i=e("../../plots/cartesian/align_period"),o=e("../../components/colorscale/helpers").hasColorscale,a=e("../../components/colorscale/calc"),s=e("./arrays_to_calcdata"),u=e("../scatter/calc_selection");t.exports=function(e,t){var n,l,c,f,h=r.getFromId(e,t.xaxis||"x"),d=r.getFromId(e,t.yaxis||"y"),p={msUTC:!(!t.base&&0!==t.base)};"h"===t.orientation?(n=h.makeCalcdata(t,"x",p),c=d.makeCalcdata(t,"y"),l=i(t,d,"y",c),f=!!t.yperiodalignment):(n=d.makeCalcdata(t,"y",p),c=h.makeCalcdata(t,"x"),l=i(t,h,"x",c),f=!!t.xperiodalignment);for(var v=Math.min(l.length,n.length),y=new Array(v),g=0;g<v;g++)y[g]={p:l[g],s:n[g]},f&&(y[g].orig_p=c[g]),t.ids&&(y[g].id=String(t.ids[g]));return o(t,"marker")&&a(e,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),o(t,"marker.line")&&a(e,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),s(y,t),u(y,t),y}},{"../../components/colorscale/calc":108,"../../components/colorscale/helpers":111,"../../plots/cartesian/align_period":273,"../../plots/cartesian/axes":276,"../scatter/calc_selection":355,"./arrays_to_calcdata":322}],325:[function(e,t,n){"use strict";t.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},{}],326:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib").isArrayOrTypedArray,o=e("../../constants/numerical").BADNUM,a=e("../../registry"),s=e("../../plots/cartesian/axes"),u=e("../../plots/cartesian/constraints").getAxisGroup,l=e("./sieve.js");function c(e,t){for(var n=t.xaxis,r=t.yaxis,i=e._fullLayout,o=e._fullData,s=e.calcdata,u=[],l=[],c=0;c<o.length;c++){var h=o[c];if(!0===h.visible&&a.traceIs(h,"bar")&&h.xaxis===n._id&&h.yaxis===r._id&&("h"===h.orientation?u.push(s[c]):l.push(s[c]),h._computePh))for(var d=e.calcdata[c],p=0;p<d.length;p++)"function"===typeof d[p].ph0&&(d[p].ph0=d[p].ph0()),"function"===typeof d[p].ph1&&(d[p].ph1=d[p].ph1())}var v={xCat:"category"===n.type||"multicategory"===n.type,yCat:"category"===r.type||"multicategory"===r.type,mode:i.barmode,norm:i.barnorm,gap:i.bargap,groupgap:i.bargroupgap};f(e,n,r,l,v),f(e,r,n,u,v)}function f(e,t,n,r,i){if(r.length){var o,a,s,u;switch(h(n,r),i.mode){case"overlay":d(t,n,r,i);break;case"group":for(o=[],a=[],s=0;s<r.length;s++)void 0===(u=r[s])[0].trace.offset?a.push(u):o.push(u);a.length&&p(e,t,n,a,i),o.length&&d(t,n,o,i);break;case"stack":case"relative":for(o=[],a=[],s=0;s<r.length;s++)void 0===(u=r[s])[0].trace.base?a.push(u):o.push(u);a.length&&v(e,t,n,a,i),o.length&&d(t,n,o,i)}S(r,t)}}function h(e,t){var n,o;for(n=0;n<t.length;n++){var a,s=t[n],u=s[0].trace,l="funnel"===u.type?u._base:u.base,c="h"===u.orientation?u.xcalendar:u.ycalendar,f="category"===e.type||"multicategory"===e.type?function(){return null}:e.d2c;if(i(l)){for(o=0;o<Math.min(l.length,s.length);o++)a=f(l[o],0,c),r(a)?(s[o].b=+a,s[o].hasB=1):s[o].b=0;for(;o<s.length;o++)s[o].b=0}else{a=f(l,0,c);var h=r(a);for(a=h?a:0,o=0;o<s.length;o++)s[o].b=a,h&&(s[o].hasB=1)}}}function d(e,t,n,r){for(var i=0;i<n.length;i++){var o=n[i],a=new l([o],{posAxis:e,sepNegVal:!1,overlapNoMerge:!r.norm});y(e,a,r),r.norm?(T(a),O(t,a,r)):w(t,a)}}function p(e,t,n,r,i){var o=new l(r,{posAxis:t,sepNegVal:!1,overlapNoMerge:!i.norm});g(e,t,o,i),k(o,t),i.norm?(T(o),O(n,o,i)):w(n,o)}function v(e,t,n,r,i){var a=new l(r,{posAxis:t,sepNegVal:"relative"===i.mode,overlapNoMerge:!(i.norm||"stack"===i.mode||"relative"===i.mode)});y(t,a,i),x(n,a,i);for(var s=0;s<r.length;s++)for(var u=r[s],c=0;c<u.length;c++){var f=u[c];f.s!==o&&f.b+f.s===a.get(f.p,f.s)&&(f._outmost=!0)}i.norm&&O(n,a,i)}function y(e,t,n){for(var r=t.minDiff,i=t.traces,o=r*(1-n.gap),a=o*(1-(n.groupgap||0)),s=-a/2,u=0;u<i.length;u++){var l=i[u][0].t;l.barwidth=a,l.poffset=s,l.bargroupwidth=o,l.bardelta=r}t.binWidth=i[0][0].t.barwidth/100,m(t),b(e,t),_(e,t)}function g(e,t,n,r){for(var i=e._fullLayout,o=n.positions,a=n.distinctPositions,s=n.minDiff,l=n.traces,c=l.length,f=o.length!==a.length,h=s*(1-r.gap),d=u(i,t._id)+l[0][0].trace.orientation,p=i._alignmentOpts[d]||{},v=0;v<c;v++){var y,g,w=l[v],x=w[0].trace,T=p[x.alignmentgroup]||{},k=Object.keys(T.offsetGroups||{}).length,O=(y=k?h/k:f?h/c:h)*(1-(r.groupgap||0));g=k?((2*x._offsetIndex+1-k)*y-O)/2:f?((2*v+1-c)*y-O)/2:-O/2;var S=w[0].t;S.barwidth=O,S.poffset=g,S.bargroupwidth=h,S.bardelta=s}n.binWidth=l[0][0].t.barwidth/100,m(n),b(t,n),_(t,n,f)}function m(e){var t,n,o=e.traces;for(t=0;t<o.length;t++){var a,s=o[t],u=s[0],l=u.trace,c=u.t,f=l._offset||l.offset,h=c.poffset;if(i(f)){for(a=Array.prototype.slice.call(f,0,s.length),n=0;n<a.length;n++)r(a[n])||(a[n]=h);for(n=a.length;n<s.length;n++)a.push(h);c.poffset=a}else void 0!==f&&(c.poffset=f);var d=l._width||l.width,p=c.barwidth;if(i(d)){var v=Array.prototype.slice.call(d,0,s.length);for(n=0;n<v.length;n++)r(v[n])||(v[n]=p);for(n=v.length;n<s.length;n++)v.push(p);if(c.barwidth=v,void 0===f){for(a=[],n=0;n<s.length;n++)a.push(h+(p-v[n])/2);c.poffset=a}}else void 0!==d&&(c.barwidth=d,void 0===f&&(c.poffset=h+(p-d)/2))}}function b(e,t){for(var n=t.traces,r=A(e),i=0;i<n.length;i++)for(var o=n[i],a=o[0].t,s=a.poffset,u=Array.isArray(s),l=a.barwidth,c=Array.isArray(l),f=0;f<o.length;f++){var h=o[f],d=h.w=c?l[f]:l;h[r]=h.p+(u?s[f]:s)+d/2}}function _(e,t,n){var r=t.traces,i=t.minDiff/2;s.minDtick(e,t.minDiff,t.distinctPositions[0],n);for(var o=0;o<r.length;o++){var a,u,l,c,f=r[o],h=f[0],d=h.trace,p=[];for(c=0;c<f.length;c++)u=(a=f[c]).p-i,l=a.p+i,p.push(u,l);if(d.width||d.offset){var v=h.t,y=v.poffset,g=v.barwidth,m=Array.isArray(y),b=Array.isArray(g);for(c=0;c<f.length;c++){a=f[c];var _=m?y[c]:y,w=b?g[c]:g;l=(u=a.p+_)+w,p.push(u,l)}}d._extremes[e._id]=s.findExtremes(e,p,{padded:!1})}}function w(e,t){for(var n=t.traces,r=A(e),i=0;i<n.length;i++){for(var o=n[i],a=o[0].trace,u=[],l=!1,c=0;c<o.length;c++){var f=o[c],h=f.b,d=h+f.s;f[r]=d,u.push(d),f.hasB&&u.push(h),f.hasB&&f.b||(l=!0)}a._extremes[e._id]=s.findExtremes(e,u,{tozero:l,padded:!0})}}function x(e,t,n){var r,i,a,u,l,c,f=A(e),h=t.traces;for(u=0;u<h.length;u++)if("funnel"===(i=(r=h[u])[0].trace).type)for(l=0;l<r.length;l++)(c=r[l]).s!==o&&t.put(c.p,-.5*c.s);for(u=0;u<h.length;u++){a="funnel"===(i=(r=h[u])[0].trace).type;var d=[];for(l=0;l<r.length;l++)if((c=r[l]).s!==o){var p;p=a?c.s:c.s+c.b;var v=t.put(c.p,p),y=v+p;c.b=v,c[f]=y,n.norm||(d.push(y),c.hasB&&d.push(v))}n.norm||(i._extremes[e._id]=s.findExtremes(e,d,{tozero:!0,padded:!0}))}}function T(e){for(var t=e.traces,n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;i++){var a=r[i];a.s!==o&&e.put(a.p,a.b+a.s)}}function k(e,t){for(var n=e.traces,r=0;r<n.length;r++){var i=n[r];if(void 0===i[0].trace.base)for(var a=new l([i],{posAxis:t,sepNegVal:!0,overlapNoMerge:!0}),s=0;s<i.length;s++){var u=i[s];if(u.p!==o){var c=a.put(u.p,u.b+u.s);c&&(u.b=c)}}}}function O(e,t,n){var i=t.traces,a=A(e),u="fraction"===n.norm?1:100,l=u/1e9,c=e.l2c(e.c2l(0)),f="stack"===n.mode?u:c;function h(t){return r(e.c2l(t))&&(t<c-l||t>f+l||!r(c))}for(var d=0;d<i.length;d++){for(var p=i[d],v=p[0].trace,y=[],g=!1,m=!1,b=0;b<p.length;b++){var _=p[b];if(_.s!==o){var w=Math.abs(u/t.get(_.p,_.s));_.b*=w,_.s*=w;var x=_.b,T=x+_.s;_[a]=T,y.push(T),m=m||h(T),_.hasB&&(y.push(x),m=m||h(x)),_.hasB&&_.b||(g=!0)}}v._extremes[e._id]=s.findExtremes(e,y,{tozero:g,padded:m})}}function S(e,t){var n,i,o,a=A(t),s={},u=1/0,l=-1/0;for(n=0;n<e.length;n++)for(o=e[n],i=0;i<o.length;i++){var c=o[i].p;r(c)&&(u=Math.min(u,c),l=Math.max(l,c))}var f=1e4/(l-u),h=s.round=function(e){return String(Math.round(f*(e-u)))};for(n=0;n<e.length;n++){(o=e[n])[0].t.extents=s;var d=o[0].t.poffset,p=Array.isArray(d);for(i=0;i<o.length;i++){var v=o[i],y=v[a]-v.w/2;if(r(y)){var g=v[a]+v.w/2,m=h(v.p);s[m]?s[m]=[Math.min(y,s[m][0]),Math.max(g,s[m][1])]:s[m]=[y,g]}v.p0=v.p+(p?d[i]:d),v.p1=v.p0+v.w,v.s0=v.b,v.s1=v.s0+v.s}}}function A(e){return e._id.charAt(0)}t.exports={crossTraceCalc:c,setGroupPositions:f}},{"../../constants/numerical":210,"../../lib":230,"../../plots/cartesian/axes":276,"../../plots/cartesian/constraints":284,"../../registry":313,"./sieve.js":336,"fast-isnumeric":15}],327:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../components/color"),o=e("../../registry"),a=e("../scatter/xy_defaults"),s=e("../scatter/period_defaults"),u=e("./style_defaults"),l=e("../../plots/cartesian/constraints").getAxisGroup,c=e("./attributes"),f=r.coerceFont;function h(e,t,n,l){function f(n,i){return r.coerce(e,t,c,n,i)}if(a(e,t,l,f)){s(e,t,l,f),f("xhoverformat"),f("yhoverformat"),f("orientation",t.x&&!t.y?"h":"v"),f("base"),f("offset"),f("width"),f("text"),f("hovertext"),f("hovertemplate");var h=f("textposition");v(e,t,l,f,h,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),u(e,t,f,n,l);var d=(t.marker.line||{}).color,p=o.getComponentMethod("errorbars","supplyDefaults");p(e,t,d||i.defaultLine,{axis:"y"}),p(e,t,d||i.defaultLine,{axis:"x",inherit:"y"}),r.coerceSelectionMarkerOpacity(t,f)}else t.visible=!1}function d(e,t,n,r){var i=t.orientation,o=t[{v:"x",h:"y"}[i]+"axis"],a=l(n,o)+i,s=n._alignmentOpts||{},u=r("alignmentgroup"),c=s[a];c||(c=s[a]={});var f=c[u];f?f.traces.push(t):f=c[u]={traces:[t],alignmentIndex:Object.keys(c).length,offsetGroups:{}};var h=r("offsetgroup"),d=f.offsetGroups,p=d[h];h&&(p||(p=d[h]={offsetIndex:Object.keys(d).length}),t._offsetIndex=p.offsetIndex)}function p(e,t){var n;function i(e){return r.coerce(n._input,n,c,e)}if("group"===t.barmode)for(var o=0;o<e.length;o++)"bar"===(n=e[o]).type&&d(n._input,n,t,i)}function v(e,t,n,i,o,a){var s=!(!1===(a=a||{}).moduleHasSelected),u=!(!1===a.moduleHasUnselected),l=!(!1===a.moduleHasConstrain),c=!(!1===a.moduleHasCliponaxis),h=!(!1===a.moduleHasTextangle),d=!(!1===a.moduleHasInsideanchor),p=!!a.hasPathbar,v=Array.isArray(o)||"auto"===o,y=v||"inside"===o,g=v||"outside"===o;if(y||g){var m=f(i,"textfont",n.font),b=r.extendFlat({},m),_=!(e.textfont&&e.textfont.color);if(_&&delete b.color,f(i,"insidetextfont",b),p){var w=r.extendFlat({},m);_&&delete w.color,f(i,"pathbar.textfont",w)}g&&f(i,"outsidetextfont",m),s&&i("selected.textfont.color"),u&&i("unselected.textfont.color"),l&&i("constraintext"),c&&i("cliponaxis"),h&&i("textangle"),i("texttemplate")}y&&d&&i("insidetextanchor")}t.exports={supplyDefaults:h,crossTraceDefaults:p,handleGroupingDefaults:d,handleText:v}},{"../../components/color":100,"../../lib":230,"../../plots/cartesian/constraints":284,"../../registry":313,"../scatter/period_defaults":373,"../scatter/xy_defaults":380,"./attributes":323,"./style_defaults":338}],328:[function(e,t,n){"use strict";t.exports=function(e,t,n){return e.x="xVal"in t?t.xVal:t.x,e.y="yVal"in t?t.yVal:t.y,t.xa&&(e.xaxis=t.xa),t.ya&&(e.yaxis=t.ya),"h"===n.orientation?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},{}],329:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("tinycolor2"),o=e("../../lib").isArrayOrTypedArray;n.coerceString=function(e,t,n){if("string"===typeof t){if(t||!e.noBlank)return t}else if(("number"===typeof t||!0===t)&&!e.strict)return String(t);return void 0!==n?n:e.dflt},n.coerceNumber=function(e,t,n){if(r(t)){t=+t;var i=e.min,o=e.max;if(!(void 0!==i&&t<i||void 0!==o&&t>o))return t}return void 0!==n?n:e.dflt},n.coerceColor=function(e,t,n){return i(t).isValid()?t:void 0!==n?n:e.dflt},n.coerceEnumerated=function(e,t,n){return e.coerceNumber&&(t=+t),-1!==e.values.indexOf(t)?t:void 0!==n?n:e.dflt},n.getValue=function(e,t){var n;return Array.isArray(e)?t<e.length&&(n=e[t]):n=e,n},n.getLineWidth=function(e,t){return 0<t.mlw?t.mlw:o(e.marker.line.width)?0:e.marker.line.width}},{"../../lib":230,"fast-isnumeric":15,tinycolor2:65}],330:[function(e,t,n){"use strict";var r=e("../../components/fx"),i=e("../../registry"),o=e("../../components/color"),a=e("../../lib").fillText,s=e("./helpers").getLineWidth,u=e("../../plots/cartesian/axes").hoverLabelText,l=e("../../constants/numerical").BADNUM;function c(e,t,n,r,o){var a=f(e,t,n,r,o);if(a){var s=a.cd,u=s[0].trace,l=s[a.index];return a.color=h(u,l),i.getComponentMethod("errorbars","hoverInfo")(l,u,a),[a]}}function f(e,t,n,i,o){var s,c,f,h,d,p,v,y=e.cd,g=y[0].trace,m=y[0].t,b="closest"===i,_="waterfall"===g.type,w=e.maxHoverDistance,x=e.maxSpikeDistance;"h"===g.orientation?(s=n,c=t,f="y",h="x",d=P,p=C):(s=t,c=n,f="x",h="y",p=P,d=C);var T=g[f+"period"];function k(e){return S(e,-1)}function O(e){return S(e,1)}function S(e,t){return T?e.p+t*Math.abs(e.p-e.orig_p):e[f]+t*e.w/2}var A=b||T?k:function(e){return Math.min(k(e),e.p-m.bardelta/2)},E=b||T?O:function(e){return Math.max(O(e),e.p+m.bardelta/2)};function M(e,t,n){return o.finiteRange&&(n=0),r.inbox(e-s,t-s,n+Math.min(1,Math.abs(t-e)/v)-1)}function C(e){return M(A(e),E(e),w)}function I(e){return M(k(e),O(e),x)}function D(e){var t=e[h];if(_){var n=Math.abs(e.rawS)||0;c>0?t+=n:c<0&&(t-=n)}return t}function P(e){var t=c,n=e.b,i=D(e);return r.inbox(n-t,i-t,w+(i-t)/(i-n)-1)}function N(e){var t=c,n=e.b,i=D(e);return r.inbox(n-t,i-t,x+(i-t)/(i-n)-1)}var L=e[f+"a"],j=e[h+"a"];function R(e){return(d(e)+p(e))/2}v=Math.abs(L.r2c(L.range[1])-L.r2c(L.range[0]));var F=r.getDistanceFunction(i,d,p,R);if(r.getClosest(y,F,e),!1!==e.index&&y[e.index].p!==l){b||(A=function(e){return Math.min(k(e),e.p-m.bargroupwidth/2)},E=function(e){return Math.max(O(e),e.p+m.bargroupwidth/2)});var z=y[e.index],U=g.base?z.b+z.s:z.s;e[h+"0"]=e[h+"1"]=j.c2p(z[h],!0),e[h+"LabelVal"]=U;var q=m.extents[m.extents.round(z.p)];e[f+"0"]=L.c2p(b?A(z):q[0],!0),e[f+"1"]=L.c2p(b?E(z):q[1],!0);var V=void 0!==z.orig_p;return e[f+"LabelVal"]=V?z.orig_p:z.p,e.labelLabel=u(L,e[f+"LabelVal"],g[f+"hoverformat"]),e.valueLabel=u(j,e[h+"LabelVal"],g[h+"hoverformat"]),e.baseLabel=u(j,z.b,g[h+"hoverformat"]),e.spikeDistance=(N(z)+I(z))/2,e[f+"Spike"]=L.c2p(z.p,!0),a(z,g,e),e.hovertemplate=g.hovertemplate,e}}function h(e,t){var n=t.mcc||e.marker.color,r=t.mlcc||e.marker.line.color,i=s(e,t);return o.opacity(n)?n:o.opacity(r)&&i?r:void 0}t.exports={hoverPoints:c,hoverOnBars:f,getTraceColor:h}},{"../../components/color":100,"../../components/fx":140,"../../constants/numerical":210,"../../lib":230,"../../plots/cartesian/axes":276,"../../registry":313,"./helpers":329}],331:[function(e,t,n){"use strict";t.exports={attributes:e("./attributes"),layoutAttributes:e("./layout_attributes"),supplyDefaults:e("./defaults").supplyDefaults,crossTraceDefaults:e("./defaults").crossTraceDefaults,supplyLayoutDefaults:e("./layout_defaults"),calc:e("./calc"),crossTraceCalc:e("./cross_trace_calc").crossTraceCalc,colorbar:e("../scatter/marker_colorbar"),arraysToCalcdata:e("./arrays_to_calcdata"),plot:e("./plot").plot,style:e("./style").style,styleOnSelect:e("./style").styleOnSelect,hoverPoints:e("./hover").hoverPoints,eventData:e("./event_data"),selectPoints:e("./select"),moduleType:"trace",name:"bar",basePlotModule:e("../../plots/cartesian"),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},{"../../plots/cartesian":290,"../scatter/marker_colorbar":371,"./arrays_to_calcdata":322,"./attributes":323,"./calc":324,"./cross_trace_calc":326,"./defaults":327,"./event_data":328,"./hover":330,"./layout_attributes":332,"./layout_defaults":333,"./plot":334,"./select":335,"./style":337}],332:[function(e,t,n){"use strict";t.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},{}],333:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../plots/cartesian/axes"),o=e("../../lib"),a=e("./layout_attributes");t.exports=function(e,t,n){function s(n,r){return o.coerce(e,t,a,n,r)}for(var u=!1,l=!1,c=!1,f={},h=s("barmode"),d=0;d<n.length;d++){var p=n[d];if(r.traceIs(p,"bar")&&p.visible){if(u=!0,"group"===h){var v=p.xaxis+p.yaxis;f[v]&&(c=!0),f[v]=!0}p.visible&&"histogram"===p.type&&"category"!==i.getFromId({_fullLayout:t},p["v"===p.orientation?"xaxis":"yaxis"]).type&&(l=!0)}}u?("overlay"!==h&&s("barnorm"),s("bargap",l&&!c?0:.2),s("bargroupgap")):delete t.barmode}},{"../../lib":230,"../../plots/cartesian/axes":276,"../../registry":313,"./layout_attributes":332}],334:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("fast-isnumeric"),o=e("../../lib"),a=e("../../lib/svg_text_utils"),s=e("../../components/color"),u=e("../../components/drawing"),l=e("../../registry"),c=e("../../plots/cartesian/axes").tickText,f=e("./uniform_text"),h=f.recordMinTextSize,d=f.clearMinTextSize,p=e("./style"),v=e("./helpers"),y=e("./constants"),g=e("./attributes"),m=g.text,b=g.textposition,_=e("../../components/fx/helpers").appendArrayPointValue,w=y.TEXTPAD;function x(e){return e.id}function T(e){if(e.ids)return x}function k(e,t){return e<t?1:-1}function O(e,t,n,r){var i=[],o=[],a=r?t:n,s=r?n:t;return i[0]=a.c2p(e.s0,!0),o[0]=s.c2p(e.p0,!0),i[1]=a.c2p(e.s1,!0),o[1]=s.c2p(e.p1,!0),r?[i,o]:[o,i]}function S(e,t,n,r){var i;return!t.uniformtext.mode&&A(n)?(r&&(i=r()),e.transition().duration(n.duration).ease(n.easing).each("end",(function(){i&&i()})).each("interrupt",(function(){i&&i()}))):e}function A(e){return e&&e.duration>0}function E(e,t,n,a,c,f){var h=t.xaxis,p=t.yaxis,y=e._fullLayout;c||(c={mode:y.barmode,norm:y.barmode,gap:y.bargap,groupgap:y.bargroupgap},d("bar",y));var g=o.makeTraceGroups(a,n,"trace bars").each((function(n){var a=r.select(this),l=n[0].trace,d="waterfall"===l.type,g="funnel"===l.type,m="bar"===l.type||g,b=0;d&&l.connector.visible&&"between"===l.connector.mode&&(b=l.connector.line.width/2);var _="h"===l.orientation,w=A(c),x=o.ensureSingle(a,"g","points"),E=T(l),C=x.selectAll("g.point").data(o.identity,E);C.enter().append("g").classed("point",!0),C.exit().remove(),C.each((function(a,d){var g,x,T=r.select(this),A=O(a,h,p,_),E=A[0][0],C=A[0][1],I=A[1][0],D=A[1][1],P=0===(_?C-E:D-I);if(P&&m&&v.getLineWidth(l,a)&&(P=!1),P||(P=!i(E)||!i(C)||!i(I)||!i(D)),a.isBlank=P,P&&(_?C=E:D=I),b&&!P&&(_?(E-=k(E,C)*b,C+=k(E,C)*b):(I-=k(I,D)*b,D+=k(I,D)*b)),"waterfall"===l.type){if(!P){var N=l[a.dir].marker;g=N.line.width,x=N.color}}else g=v.getLineWidth(l,a),x=a.mc||l.marker.color;function L(e){var t=r.round(g/2%1,2);return 0===c.gap&&0===c.groupgap?r.round(Math.round(e)-t,2):e}function j(e,t,n){return n&&e===t?e:Math.abs(e-t)>=2?L(e):e>t?Math.ceil(e):Math.floor(e)}if(!e._context.staticPlot){var R=s.opacity(x)<1||g>.01?L:j;E=R(E,C,_),C=R(C,E,_),I=R(I,D,!_),D=R(D,I,!_)}var F=S(o.ensureSingle(T,"path"),y,c,f);if(F.style("vector-effect","non-scaling-stroke").attr("d",isNaN((C-E)*(D-I))||P&&e._context.staticPlot?"M0,0Z":"M"+E+","+I+"V"+D+"H"+C+"V"+I+"Z").call(u.setClipUrl,t.layerClipId,e),!y.uniformtext.mode&&w){var z=u.makePointStyleFns(l);u.singlePointStyle(a,F,l,z,e)}M(e,t,T,n,d,E,C,I,D,c,f),t.layerClipId&&u.hideOutsideRangePoint(a,T.select("text"),h,p,l.xcalendar,l.ycalendar)}));var I=!1===l.cliponaxis;u.setClipUrl(a,I?null:t.layerClipId,e)}));l.getComponentMethod("errorbars","plot")(e,g,t,c)}function M(e,t,n,r,i,s,l,c,f,d,v){var y,g=t.xaxis,m=t.yaxis,b=e._fullLayout;function _(t,n,r){return o.ensureSingle(t,"text").text(n).attr({class:"bartext bartext-"+y,"text-anchor":"middle","data-notex":1}).call(u.font,r).call(a.convertToTspans,e)}var x=r[0].trace,T="h"===x.orientation,k=N(b,r,i,g,m);y=L(x,i);var O="stack"===d.mode||"relative"===d.mode,A=r[i],E=!O||A._outmost;if(k&&"none"!==y&&(!A.isBlank&&s!==l&&c!==f||"auto"!==y&&"inside"!==y)){var M=b.font,C=p.getBarColor(r[i],x),I=p.getInsideTextFont(x,i,M,C),j=p.getOutsideTextFont(x,i,M),R=n.datum();T?"log"===g.type&&R.s0<=0&&(s=g.range[0]<g.range[1]?0:g._length):"log"===m.type&&R.s0<=0&&(c=m.range[0]<m.range[1]?m._length:0);var F,z,U,q,V,B=Math.abs(l-s)-2*w,H=Math.abs(f-c)-2*w;if("outside"===y&&(E||A.hasB||(y="inside")),"auto"===y&&(E?(y="inside",F=_(n,k,V=o.ensureUniformFontSize(e,I)),U=(z=u.bBox(F.node())).width,q=z.height,U>0&&q>0&&(U<=B&&q<=H||U<=H&&q<=B||(T?B>=U*(H/q):H>=q*(B/U)))?y="inside":(y="outside",F.remove(),F=null)):y="inside"),!F){var W=(F=_(n,k,V=o.ensureUniformFontSize(e,"outside"===y?j:I))).attr("transform");if(F.attr("transform",""),U=(z=u.bBox(F.node())).width,q=z.height,F.attr("transform",W),U<=0||q<=0)return void F.remove()}var Y,G=x.textangle;(Y="outside"===y?P(s,l,c,f,z,{isHorizontal:T,constrained:"both"===x.constraintext||"outside"===x.constraintext,angle:G}):D(s,l,c,f,z,{isHorizontal:T,constrained:"both"===x.constraintext||"inside"===x.constraintext,angle:G,anchor:x.insidetextanchor})).fontSize=V.size,h(x.type,Y,b),A.transform=Y,S(F,b,d,v).attr("transform",o.getTextTransform(Y))}else n.select("text").remove()}function C(e){return"auto"===e?0:e}function I(e,t){var n=Math.PI/180*t,r=Math.abs(Math.sin(n)),i=Math.abs(Math.cos(n));return{x:e.width*i+e.height*r,y:e.width*r+e.height*i}}function D(e,t,n,r,i,o){var a=!!o.isHorizontal,s=!!o.constrained,u=o.angle||0,l=o.anchor||"end",c="end"===l,f="start"===l,h=((o.leftToRight||0)+1)/2,d=1-h,p=i.width,v=i.height,y=Math.abs(t-e),g=Math.abs(r-n),m=y>2*w&&g>2*w?w:0;y-=2*m,g-=2*m;var b=C(u);"auto"!==u||p<=y&&v<=g||!(p>y||v>g)||(p>g||v>y)&&p<v===y<g||(b+=90);var _=I(i,b),x=1;s&&(x=Math.min(1,y/_.x,g/_.y));var T=i.left*d+i.right*h,O=(i.top+i.bottom)/2,S=(e+w)*d+(t-w)*h,A=(n+r)/2,E=0,M=0;if(f||c){var D=(a?_.x:_.y)/2,P=a?k(e,t):k(n,r);a?f?(S=e+P*m,E=-P*D):(S=t-P*m,E=P*D):f?(A=n+P*m,M=-P*D):(A=r-P*m,M=P*D)}return{textX:T,textY:O,targetX:S,targetY:A,anchorX:E,anchorY:M,scale:x,rotate:b}}function P(e,t,n,r,i,o){var a,s=!!o.isHorizontal,u=!!o.constrained,l=o.angle||0,c=i.width,f=i.height,h=Math.abs(t-e),d=Math.abs(r-n);a=s?d>2*w?w:0:h>2*w?w:0;var p=1;u&&(p=s?Math.min(1,d/f):Math.min(1,h/c));var v=C(l),y=I(i,v),g=(s?y.x:y.y)/2,m=(i.left+i.right)/2,b=(i.top+i.bottom)/2,_=(e+t)/2,x=(n+r)/2,T=0,O=0,S=s?k(t,e):k(n,r);return s?(_=t-S*a,T=S*g):(x=r+S*a,O=-S*g),{textX:m,textY:b,targetX:_,targetY:x,anchorX:T,anchorY:O,scale:p,rotate:v}}function N(e,t,n,r,i){var o,a=t[0].trace;return o=a.texttemplate?j(e,t,n,r,i):a.textinfo?R(t,n,r,i):v.getValue(a.text,n),v.coerceString(m,o)}function L(e,t){var n=v.getValue(e.textposition,t);return v.coerceEnumerated(b,n)}function j(e,t,n,r,i){var a=t[0].trace,s=o.castOption(a,n,"texttemplate");if(!s)return"";var u,l,f,h,d="waterfall"===a.type,p="funnel"===a.type;function v(e){return c(l,l.c2l(e),!0).text}function y(e){return c(h,h.c2l(e),!0).text}"h"===a.orientation?(u="y",l=i,f="x",h=r):(u="x",l=r,f="y",h=i);var g=t[n],m={};m.label=g.p,m.labelLabel=m[u+"Label"]=v(g.p);var b=o.castOption(a,g.i,"text");(0===b||b)&&(m.text=b),m.value=g.s,m.valueLabel=m[f+"Label"]=y(g.s);var w={};_(w,a,g.i),d&&(m.delta=+g.rawS||g.s,m.deltaLabel=y(m.delta),m.final=g.v,m.finalLabel=y(m.final),m.initial=m.final-m.delta,m.initialLabel=y(m.initial)),p&&(m.value=g.s,m.valueLabel=y(m.value),m.percentInitial=g.begR,m.percentInitialLabel=o.formatPercent(g.begR),m.percentPrevious=g.difR,m.percentPreviousLabel=o.formatPercent(g.difR),m.percentTotal=g.sumR,m.percenTotalLabel=o.formatPercent(g.sumR));var x=o.castOption(a,g.i,"customdata");return x&&(m.customdata=x),o.texttemplateString(s,m,e._d3locale,w,m,a._meta||{})}function R(e,t,n,r){var i=e[0].trace,a="h"===i.orientation,s="waterfall"===i.type,u="funnel"===i.type;function l(e){return c(a?r:n,e,!0).text}function f(e){return c(a?n:r,+e,!0).text}var h,d=i.textinfo,p=e[t],v=d.split("+"),y=[],g=function(e){return-1!==v.indexOf(e)};if(g("label")&&y.push(l(e[t].p)),g("text")&&(0===(h=o.castOption(i,p.i,"text"))||h)&&y.push(h),s){var m=+p.rawS||p.s,b=p.v,_=b-m;g("initial")&&y.push(f(_)),g("delta")&&y.push(f(m)),g("final")&&y.push(f(b))}if(u){g("value")&&y.push(f(p.s));var w=0;g("percent initial")&&w++,g("percent previous")&&w++,g("percent total")&&w++;var x=w>1;g("percent initial")&&(h=o.formatPercent(p.begR),x&&(h+=" of initial"),y.push(h)),g("percent previous")&&(h=o.formatPercent(p.difR),x&&(h+=" of previous"),y.push(h)),g("percent total")&&(h=o.formatPercent(p.sumR),x&&(h+=" of total"),y.push(h))}return y.join("<br>")}t.exports={plot:E,toMoveInsideBar:D}},{"../../components/color":100,"../../components/drawing":122,"../../components/fx/helpers":136,"../../lib":230,"../../lib/svg_text_utils":252,"../../plots/cartesian/axes":276,"../../registry":313,"./attributes":323,"./constants":325,"./helpers":329,"./style":337,"./uniform_text":339,"@plotly/d3":11,"fast-isnumeric":15}],335:[function(e,t,n){"use strict";function r(e,t,n,r,i){var o=t.c2p(r?e.s0:e.p0,!0),a=t.c2p(r?e.s1:e.p1,!0),s=n.c2p(r?e.p0:e.s0,!0),u=n.c2p(r?e.p1:e.s1,!0);return i?[(o+a)/2,(s+u)/2]:r?[a,(s+u)/2]:[(o+a)/2,u]}t.exports=function(e,t){var n,i=e.cd,o=e.xaxis,a=e.yaxis,s=i[0].trace,u="funnel"===s.type,l="h"===s.orientation,c=[];if(!1===t)for(n=0;n<i.length;n++)i[n].selected=0;else for(n=0;n<i.length;n++){var f=i[n],h="ct"in f?f.ct:r(f,o,a,l,u);t.contains(h,!1,n,e)?(c.push({pointNumber:n,x:o.c2d(f.x),y:a.c2d(f.y)}),f.selected=1):f.selected=0}return c}},{}],336:[function(e,t,n){"use strict";t.exports=o;var r=e("../../lib").distinctVals,i=e("../../constants/numerical").BADNUM;function o(e,t){this.traces=e,this.sepNegVal=t.sepNegVal,this.overlapNoMerge=t.overlapNoMerge;for(var n=1/0,o=[],a=0;a<e.length;a++){for(var s=e[a],u=0;u<s.length;u++){var l=s[u];l.p!==i&&o.push(l.p)}s[0]&&s[0].width1&&(n=Math.min(s[0].width1,n))}this.positions=o;var c=r(o);this.distinctPositions=c.vals,1===c.vals.length&&n!==1/0?this.minDiff=n:this.minDiff=Math.min(c.minDiff,n);var f=(t.posAxis||{}).type;"category"!==f&&"multicategory"!==f||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}o.prototype.put=function(e,t){var n=this.getLabel(e,t),r=this.bins[n]||0;return this.bins[n]=r+t,r},o.prototype.get=function(e,t){var n=this.getLabel(e,t);return this.bins[n]||0},o.prototype.getLabel=function(e,t){return(t<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?e:Math.round(e/this.binWidth))}},{"../../constants/numerical":210,"../../lib":230}],337:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../../components/color"),o=e("../../components/drawing"),a=e("../../lib"),s=e("../../registry"),u=e("./uniform_text").resizeText,l=e("./attributes"),c=l.textfont,f=l.insidetextfont,h=l.outsidetextfont,d=e("./helpers");function p(e){var t=r.select(e).selectAll("g.barlayer").selectAll("g.trace");u(e,t,"bar");var n=t.size(),i=e._fullLayout;t.style("opacity",(function(e){return e[0].trace.opacity})).each((function(e){("stack"===i.barmode&&n>1||0===i.bargap&&0===i.bargroupgap&&!e[0].trace.marker.line.width)&&r.select(this).attr("shape-rendering","crispEdges")})),t.selectAll("g.points").each((function(t){v(r.select(this),t[0].trace,e)})),s.getComponentMethod("errorbars","style")(t)}function v(e,t,n){o.pointStyle(e.selectAll("path"),t,n),y(e,t,n)}function y(e,t,n){e.selectAll("text").each((function(e){var i=r.select(this),s=a.ensureUniformFontSize(n,_(i,e,t,n));o.font(i,s)}))}function g(e,t,n){var r=t[0].trace;r.selectedpoints?m(n,r,e):(v(n,r,e),s.getComponentMethod("errorbars","style")(n))}function m(e,t,n){o.selectedPointStyle(e.selectAll("path"),t),b(e.selectAll("text"),t,n)}function b(e,t,n){e.each((function(e){var i,s=r.select(this);if(e.selected){i=a.ensureUniformFontSize(n,_(s,e,t,n));var u=t.selected.textfont&&t.selected.textfont.color;u&&(i.color=u),o.font(s,i)}else o.selectedTextStyle(s,t)}))}function _(e,t,n,r){var i=r._fullLayout.font,o=n.textfont;if(e.classed("bartext-inside")){var a=O(t,n);o=x(n,t.i,i,a)}else e.classed("bartext-outside")&&(o=T(n,t.i,i));return o}function w(e,t,n){return k(c,e.textfont,t,n)}function x(e,t,n,r){var o=w(e,t,n);return(void 0===e._input.textfont||void 0===e._input.textfont.color||Array.isArray(e.textfont.color)&&void 0===e.textfont.color[t])&&(o={color:i.contrast(r),family:o.family,size:o.size}),k(f,e.insidetextfont,t,o)}function T(e,t,n){var r=w(e,t,n);return k(h,e.outsidetextfont,t,r)}function k(e,t,n,r){t=t||{};var i=d.getValue(t.family,n),o=d.getValue(t.size,n),a=d.getValue(t.color,n);return{family:d.coerceString(e.family,i,r.family),size:d.coerceNumber(e.size,o,r.size),color:d.coerceColor(e.color,a,r.color)}}function O(e,t){return"waterfall"===t.type?t[e.dir].marker.color:e.mcc||e.mc||t.marker.color}t.exports={style:p,styleTextPoints:y,styleOnSelect:g,getInsideTextFont:x,getOutsideTextFont:T,getBarColor:O,resizeText:u}},{"../../components/color":100,"../../components/drawing":122,"../../lib":230,"../../registry":313,"./attributes":323,"./helpers":329,"./uniform_text":339,"@plotly/d3":11}],338:[function(e,t,n){"use strict";var r=e("../../components/color"),i=e("../../components/colorscale/helpers").hasColorscale,o=e("../../components/colorscale/defaults"),a=e("../../lib").coercePattern;t.exports=function(e,t,n,s,u){var l=n("marker.color",s),c=i(e,"marker");c&&o(e,t,u,n,{prefix:"marker.",cLetter:"c"}),n("marker.line.color",r.defaultLine),i(e,"marker.line")&&o(e,t,u,n,{prefix:"marker.line.",cLetter:"c"}),n("marker.line.width"),n("marker.opacity"),a(n,"marker.pattern",l,c),n("selected.marker.color"),n("unselected.marker.color")}},{"../../components/color":100,"../../components/colorscale/defaults":110,"../../components/colorscale/helpers":111,"../../lib":230}],339:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../../lib");function o(e,t,n){var o=e._fullLayout,a=o["_"+n+"Text_minsize"];if(a){var s,u="hide"===o.uniformtext.mode;switch(n){case"funnelarea":case"pie":case"sunburst":s="g.slice";break;case"treemap":case"icicle":s="g.slice, g.pathbar";break;default:s="g.points > g.point"}t.selectAll(s).each((function(e){var t=e.transform;t&&(t.scale=u&&t.hide?0:a/t.fontSize,r.select(this).select("text").attr("transform",i.getTextTransform(t)))}))}}function a(e,t,n){if(n.uniformtext.mode){var r=u(e),i=n.uniformtext.minsize,o=t.scale*t.fontSize;t.hide=o<i,n[r]=n[r]||1/0,t.hide||(n[r]=Math.min(n[r],Math.max(o,i)))}}function s(e,t){t[u(e)]=void 0}function u(e){return"_"+e+"Text_minsize"}t.exports={recordMinTextSize:a,clearMinTextSize:s,resizeText:o}},{"../../lib":230,"@plotly/d3":11}],340:[function(e,t,n){"use strict";var r=e("../../plots/attributes"),i=e("../../plots/domain").attributes,o=e("../../plots/font_attributes"),a=e("../../components/color/attributes"),s=e("../../plots/template_attributes").hovertemplateAttrs,u=e("../../plots/template_attributes").texttemplateAttrs,l=e("../../lib/extend").extendFlat,c=o({editType:"plot",arrayOk:!0,colorEditType:"plot"});t.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:l({},r.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:s({},{keys:["label","color","value","percent","text"]}),texttemplate:u({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:l({},c,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:l({},c,{}),outsidetextfont:l({},c,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:l({},c,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:i({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"number",min:-360,max:360,dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:l({},c,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},{"../../components/color/attributes":99,"../../lib/extend":224,"../../plots/attributes":272,"../../plots/domain":304,"../../plots/font_attributes":305,"../../plots/template_attributes":312}],341:[function(e,t,n){"use strict";var r=e("../../plots/plots");n.name="pie",n.plot=function(e,t,i,o){r.plotBasePlot(n.name,e,t,i,o)},n.clean=function(e,t,i,o){r.cleanBasePlot(n.name,e,t,i,o)}},{"../../plots/plots":311}],342:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("tinycolor2"),o=e("../../components/color"),a={};function s(e,t){var n,i,o=[],a=e._fullLayout,s=a.hiddenlabels||[],l=t.labels,c=t.marker.colors||[],f=t.values,h=t._length,d=t._hasValues&&h;if(t.dlabel)for(l=new Array(h),n=0;n<h;n++)l[n]=String(t.label0+n*t.dlabel);var p={},v=u(a["_"+t.type+"colormap"]),y=0,g=!1;for(n=0;n<h;n++){var m,b,_;if(d){if(m=f[n],!r(m))continue;if((m=+m)<0)continue}else m=1;void 0!==(b=l[n])&&""!==b||(b=n);var w=p[b=String(b)];void 0===w?(p[b]=o.length,(_=-1!==s.indexOf(b))||(y+=m),o.push({v:m,label:b,color:v(c[n],b),i:n,pts:[n],hidden:_})):(g=!0,(i=o[w]).v+=m,i.pts.push(n),i.hidden||(y+=m),!1===i.color&&c[n]&&(i.color=v(c[n],b)))}return("funnelarea"===t.type?g:t.sort)&&o.sort((function(e,t){return t.v-e.v})),o[0]&&(o[0].vTotal=y),o}function u(e){return function(t,n){return!!t&&!!(t=i(t)).isValid()&&(t=o.addOpacity(t,t.getAlpha()),e[n]||(e[n]=t),t)}}function l(e,t){var n=(t||{}).type;n||(n="pie");var r=e._fullLayout,i=e.calcdata,o=r[n+"colorway"],s=r["_"+n+"colormap"];r["extend"+n+"colors"]&&(o=c(o,a));for(var u=0,l=0;l<i.length;l++){var f=i[l];if(f[0].trace.type===n)for(var h=0;h<f.length;h++){var d=f[h];!1===d.color&&(s[d.label]?d.color=s[d.label]:(s[d.label]=d.color=o[u%o.length],u++))}}}function c(e,t){var n,r=JSON.stringify(e),o=t[r];if(!o){for(o=e.slice(),n=0;n<e.length;n++)o.push(i(e[n]).lighten(20).toHexString());for(n=0;n<e.length;n++)o.push(i(e[n]).darken(20).toHexString());t[r]=o}return o}t.exports={calc:s,crossTraceCalc:l,makePullColorFn:u,generateExtendedColors:c}},{"../../components/color":100,"fast-isnumeric":15,tinycolor2:65}],343:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),o=e("./attributes"),a=e("../../plots/domain").defaults,s=e("../bar/defaults").handleText;function u(e,t){var n=Array.isArray(e),o=i.isArrayOrTypedArray(t),a=Math.min(n?e.length:1/0,o?t.length:1/0);if(isFinite(a)||(a=0),a&&o){for(var s,u=0;u<a;u++){var l=t[u];if(r(l)&&l>0){s=!0;break}}s||(a=0)}return{hasLabels:n,hasValues:o,len:a}}function l(e,t,n,r){function l(n,r){return i.coerce(e,t,o,n,r)}var c=u(l("labels"),l("values")),f=c.len;if(t._hasLabels=c.hasLabels,t._hasValues=c.hasValues,!t._hasLabels&&t._hasValues&&(l("label0"),l("dlabel")),f){t._length=f,l("marker.line.width")&&l("marker.line.color"),l("marker.colors"),l("scalegroup");var h,d=l("text"),p=l("texttemplate");if(p||(h=l("textinfo",Array.isArray(d)?"text+percent":"percent")),l("hovertext"),l("hovertemplate"),p||h&&"none"!==h){var v=l("textposition");s(e,t,r,l,v,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(v)||"auto"===v||"outside"===v)&&l("automargin"),("inside"===v||"auto"===v||Array.isArray(v))&&l("insidetextorientation")}a(t,r,l);var y=l("hole");if(l("title.text")){var g=l("title.position",y?"middle center":"top center");y||"middle center"!==g||(t.title.position="top center"),i.coerceFont(l,"title.font",r.font)}l("sort"),l("direction"),l("rotation"),l("pull")}else t.visible=!1}t.exports={handleLabelsAndValues:u,supplyDefaults:l}},{"../../lib":230,"../../plots/domain":304,"../bar/defaults":327,"./attributes":340,"fast-isnumeric":15}],344:[function(e,t,n){"use strict";var r=e("../../components/fx/helpers").appendArrayMultiPointValues;t.exports=function(e,t){var n={curveNumber:t.index,pointNumbers:e.pts,data:t._input,fullData:t,label:e.label,color:e.color,value:e.v,percent:e.percent,text:e.text,v:e.v};return 1===e.pts.length&&(n.pointNumber=n.i=e.pts[0]),r(n,t,e.pts),"funnelarea"===t.type&&(delete n.v,delete n.i),n}},{"../../components/fx/helpers":136}],345:[function(e,t,n){"use strict";var r=e("../../lib");function i(e){return-1!==e.indexOf("e")?e.replace(/[.]?0+e/,"e"):-1!==e.indexOf(".")?e.replace(/[.]?0+$/,""):e}n.formatPiePercent=function(e,t){var n=i((100*e).toPrecision(3));return r.numSeparate(n,t)+"%"},n.formatPieValue=function(e,t){var n=i(e.toPrecision(10));return r.numSeparate(n,t)},n.getFirstFilled=function(e,t){if(Array.isArray(e))for(var n=0;n<t.length;n++){var r=e[t[n]];if(r||0===r||""===r)return r}},n.castOption=function(e,t){return Array.isArray(e)?n.getFirstFilled(e,t):e||void 0},n.getRotationAngle=function(e){return("auto"===e?0:e)*Math.PI/180}},{"../../lib":230}],346:[function(e,t,n){"use strict";t.exports={attributes:e("./attributes"),supplyDefaults:e("./defaults").supplyDefaults,supplyLayoutDefaults:e("./layout_defaults"),layoutAttributes:e("./layout_attributes"),calc:e("./calc").calc,crossTraceCalc:e("./calc").crossTraceCalc,plot:e("./plot").plot,style:e("./style"),styleOne:e("./style_one"),moduleType:"trace",name:"pie",basePlotModule:e("./base_plot"),categories:["pie-like","pie","showLegend"],meta:{}}},{"./attributes":340,"./base_plot":341,"./calc":342,"./defaults":343,"./layout_attributes":347,"./layout_defaults":348,"./plot":349,"./style":350,"./style_one":351}],347:[function(e,t,n){"use strict";t.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},{}],348:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./layout_attributes");t.exports=function(e,t){function n(n,o){return r.coerce(e,t,i,n,o)}n("hiddenlabels"),n("piecolorway",t.colorway),n("extendpiecolors")}},{"../../lib":230,"./layout_attributes":347}],349:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../../plots/plots"),o=e("../../components/fx"),a=e("../../components/color"),s=e("../../components/drawing"),u=e("../../lib"),l=u.strScale,c=u.strTranslate,f=e("../../lib/svg_text_utils"),h=e("../bar/uniform_text"),d=h.recordMinTextSize,p=h.clearMinTextSize,v=e("../bar/constants").TEXTPAD,y=e("./helpers"),g=e("./event_data"),m=e("../../lib").isValidTextValue;function b(e,t){var n=e._fullLayout,o=n._size;p("pie",n),k(t,e),U(t,o);var a=u.makeTraceGroups(n._pielayer,t,"trace").each((function(t){var a=r.select(this),h=t[0],p=h.trace;V(t),a.attr("stroke-linejoin","round"),a.each((function(){var v=r.select(this).selectAll("g.slice").data(t);v.enter().append("g").classed("slice",!0),v.exit().remove();var g=[[[],[]],[[],[]]],m=!1;v.each((function(i,o){if(i.hidden)r.select(this).selectAll("path,g").remove();else{i.pointNumber=i.i,i.curveNumber=p.index,g[i.pxmid[1]<0?0:1][i.pxmid[0]<0?0:1].push(i);var a=h.cx,l=h.cy,c=r.select(this),v=c.selectAll("path.surface").data([i]);if(v.enter().append("path").classed("surface",!0).style({"pointer-events":"all"}),c.call(w,e,t),p.pull){var b=+y.castOption(p.pull,i.pts)||0;b>0&&(a+=b*i.pxmid[0],l+=b*i.pxmid[1])}i.cxFinal=a,i.cyFinal=l;var _=p.hole;if(i.v===h.vTotal){var k="M"+(a+i.px0[0])+","+(l+i.px0[1])+C(i.px0,i.pxmid,!0,1)+C(i.pxmid,i.px0,!0,1)+"Z";_?v.attr("d","M"+(a+_*i.px0[0])+","+(l+_*i.px0[1])+C(i.px0,i.pxmid,!1,_)+C(i.pxmid,i.px0,!1,_)+"Z"+k):v.attr("d",k)}else{var S=C(i.px0,i.px1,!0,1);if(_){var A=1-_;v.attr("d","M"+(a+_*i.px1[0])+","+(l+_*i.px1[1])+C(i.px1,i.px0,!1,_)+"l"+A*i.px0[0]+","+A*i.px0[1]+S+"Z")}else v.attr("d","M"+a+","+l+"l"+i.px0[0]+","+i.px0[1]+S+"Z")}H(e,i,h);var E=y.castOption(p.textposition,i.pts),M=c.selectAll("g.slicetext").data(i.text&&"none"!==E?[0]:[]);M.enter().append("g").classed("slicetext",!0),M.exit().remove(),M.each((function(){var c=u.ensureSingle(r.select(this),"text","",(function(e){e.attr("data-notex",1)})),v=u.ensureUniformFontSize(e,"outside"===E?x(p,i,n.font):T(p,i,n.font));c.text(i.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(s.font,v).call(f.convertToTspans,e);var y,g=s.bBox(c.node());if("outside"===E)y=P(g,i);else if(y=O(g,i,h),"auto"===E&&y.scale<1){var b=u.ensureUniformFontSize(e,p.outsidetextfont);c.call(s.font,b),y=P(g=s.bBox(c.node()),i)}var _=y.textPosAngle,w=void 0===_?i.pxmid:B(h.r,_);if(y.targetX=a+w[0]*y.rCenter+(y.x||0),y.targetY=l+w[1]*y.rCenter+(y.y||0),W(y,g),y.outside){var k=y.targetY;i.yLabelMin=k-g.height/2,i.yLabelMid=k,i.yLabelMax=k+g.height/2,i.labelExtraX=0,i.labelExtraY=0,m=!0}y.fontSize=v.size,d(p.type,y,n),t[o].transform=y,c.attr("transform",u.getTextTransform(y))}))}function C(e,t,n,r){var o=r*(t[0]-e[0]),a=r*(t[1]-e[1]);return"a"+r*h.r+","+r*h.r+" 0 "+i.largeArc+(n?" 1 ":" 0 ")+o+","+a}}));var b=r.select(this).selectAll("g.titletext").data(p.title.text?[0]:[]);if(b.enter().append("g").classed("titletext",!0),b.exit().remove(),b.each((function(){var t,n=u.ensureSingle(r.select(this),"text","",(function(e){e.attr("data-notex",1)})),i=p.title.text;p._meta&&(i=u.templateString(i,p._meta)),n.text(i).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(s.font,p.title.font).call(f.convertToTspans,e),t="middle center"===p.title.position?N(h):L(h,o),n.attr("transform",c(t.x,t.y)+l(Math.min(1,t.scale))+c(t.tx,t.ty))})),m&&z(g,p),_(v,p),m&&p.automargin){var k=s.bBox(a.node()),S=p.domain,A=o.w*(S.x[1]-S.x[0]),E=o.h*(S.y[1]-S.y[0]),M=(.5*A-h.r)/o.w,C=(.5*E-h.r)/o.h;i.autoMargin(e,"pie."+p.uid+".automargin",{xl:S.x[0]-M,xr:S.x[1]+M,yb:S.y[0]-C,yt:S.y[1]+C,l:Math.max(h.cx-h.r-k.left,0),r:Math.max(k.right-(h.cx+h.r),0),b:Math.max(k.bottom-(h.cy+h.r),0),t:Math.max(h.cy-h.r-k.top,0),pad:5})}}))}));setTimeout((function(){a.selectAll("tspan").each((function(){var e=r.select(this);e.attr("dy")&&e.attr("dy",e.attr("dy"))}))}),0)}function _(e,t){e.each((function(e){var n=r.select(this);if(e.labelExtraX||e.labelExtraY){var i=n.select("g.slicetext text");e.transform.targetX+=e.labelExtraX,e.transform.targetY+=e.labelExtraY,i.attr("transform",u.getTextTransform(e.transform));var o=e.cxFinal+e.pxmid[0],s="M"+o+","+(e.cyFinal+e.pxmid[1]),l=(e.yLabelMax-e.yLabelMin)*(e.pxmid[0]<0?-1:1)/4;if(e.labelExtraX){var c=e.labelExtraX*e.pxmid[1]/e.pxmid[0],f=e.yLabelMid+e.labelExtraY-(e.cyFinal+e.pxmid[1]);Math.abs(c)>Math.abs(f)?s+="l"+f*e.pxmid[0]/e.pxmid[1]+","+f+"H"+(o+e.labelExtraX+l):s+="l"+e.labelExtraX+","+c+"v"+(f-c)+"h"+l}else s+="V"+(e.yLabelMid+e.labelExtraY)+"h"+l;u.ensureSingle(n,"path","textline").call(a.stroke,t.outsidetextfont.color).attr({"stroke-width":Math.min(2,t.outsidetextfont.size/8),d:s,fill:"none"})}else n.select("path.textline").remove()}))}function w(e,t,n){var i=n[0],a=i.trace,s=i.cx,l=i.cy;"_hasHoverLabel"in a||(a._hasHoverLabel=!1),"_hasHoverEvent"in a||(a._hasHoverEvent=!1),e.on("mouseover",(function(e){var n=t._fullLayout,c=t._fullData[a.index];if(!t._dragging&&!1!==n.hovermode){var f=c.hoverinfo;if(Array.isArray(f)&&(f=o.castHoverinfo({hoverinfo:[y.castOption(f,e.pts)],_module:a._module},n,0)),"all"===f&&(f="label+text+value+percent+name"),c.hovertemplate||"none"!==f&&"skip"!==f&&f){var h=e.rInscribed||0,d=s+e.pxmid[0]*(1-h),p=l+e.pxmid[1]*(1-h),v=n.separators,m=[];if(f&&-1!==f.indexOf("label")&&m.push(e.label),e.text=y.castOption(c.hovertext||c.text,e.pts),f&&-1!==f.indexOf("text")){var b=e.text;u.isValidTextValue(b)&&m.push(b)}e.value=e.v,e.valueLabel=y.formatPieValue(e.v,v),f&&-1!==f.indexOf("value")&&m.push(e.valueLabel),e.percent=e.v/i.vTotal,e.percentLabel=y.formatPiePercent(e.percent,v),f&&-1!==f.indexOf("percent")&&m.push(e.percentLabel);var _=c.hoverlabel,w=_.font;o.loneHover({trace:a,x0:d-h*i.r,x1:d+h*i.r,y:p,text:m.join("<br>"),name:c.hovertemplate||-1!==f.indexOf("name")?c.name:void 0,idealAlign:e.pxmid[0]<0?"left":"right",color:y.castOption(_.bgcolor,e.pts)||e.color,borderColor:y.castOption(_.bordercolor,e.pts),fontFamily:y.castOption(w.family,e.pts),fontSize:y.castOption(w.size,e.pts),fontColor:y.castOption(w.color,e.pts),nameLength:y.castOption(_.namelength,e.pts),textAlign:y.castOption(_.align,e.pts),hovertemplate:y.castOption(c.hovertemplate,e.pts),hovertemplateLabels:e,eventData:[g(e,c)]},{container:n._hoverlayer.node(),outerContainer:n._paper.node(),gd:t}),a._hasHoverLabel=!0}a._hasHoverEvent=!0,t.emit("plotly_hover",{points:[g(e,c)],event:r.event})}})),e.on("mouseout",(function(e){var n=t._fullLayout,i=t._fullData[a.index],s=r.select(this).datum();a._hasHoverEvent&&(e.originalEvent=r.event,t.emit("plotly_unhover",{points:[g(s,i)],event:r.event}),a._hasHoverEvent=!1),a._hasHoverLabel&&(o.loneUnhover(n._hoverlayer.node()),a._hasHoverLabel=!1)})),e.on("click",(function(e){var n=t._fullLayout,i=t._fullData[a.index];t._dragging||!1===n.hovermode||(t._hoverdata=[g(e,i)],o.click(t,r.event))}))}function x(e,t,n){return{color:y.castOption(e.outsidetextfont.color,t.pts)||y.castOption(e.textfont.color,t.pts)||n.color,family:y.castOption(e.outsidetextfont.family,t.pts)||y.castOption(e.textfont.family,t.pts)||n.family,size:y.castOption(e.outsidetextfont.size,t.pts)||y.castOption(e.textfont.size,t.pts)||n.size}}function T(e,t,n){var r=y.castOption(e.insidetextfont.color,t.pts);!r&&e._input.textfont&&(r=y.castOption(e._input.textfont.color,t.pts));var i=y.castOption(e.insidetextfont.family,t.pts)||y.castOption(e.textfont.family,t.pts)||n.family,o=y.castOption(e.insidetextfont.size,t.pts)||y.castOption(e.textfont.size,t.pts)||n.size;return{color:r||a.contrast(t.color),family:i,size:o}}function k(e,t){for(var n,r,i=0;i<e.length;i++)if((r=(n=e[i][0]).trace).title.text){var o=r.title.text;r._meta&&(o=u.templateString(o,r._meta));var a=s.tester.append("text").attr("data-notex",1).text(o).call(s.font,r.title.font).call(f.convertToTspans,t),l=s.bBox(a.node(),!0);n.titleBox={width:l.width,height:l.height},a.remove()}}function O(e,t,n){var r=n.r||t.rpx1,i=t.rInscribed;if(t.startangle===t.stopangle)return{rCenter:1-i,scale:0,rotate:0,textPosAngle:0};var o,a=t.ring,s=1===a&&Math.abs(t.startangle-t.stopangle)===2*Math.PI,u=t.halfangle,l=t.midangle,c=n.trace.insidetextorientation,f="horizontal"===c,h="tangential"===c,d="radial"===c,p="auto"===c,v=[];if(!p){var y,g=function(n,i){if(S(t,n)){var s=Math.abs(n-t.startangle),u=Math.abs(n-t.stopangle),l=s<u?s:u;(o="tan"===i?E(e,r,a,l,0):A(e,r,a,l,Math.PI/2)).textPosAngle=n,v.push(o)}};if(f||h){for(y=4;y>=-4;y-=2)g(Math.PI*y,"tan");for(y=4;y>=-4;y-=2)g(Math.PI*(y+1),"tan")}if(f||d){for(y=4;y>=-4;y-=2)g(Math.PI*(y+1.5),"rad");for(y=4;y>=-4;y-=2)g(Math.PI*(y+.5),"rad")}}if(s||p||f){var m=Math.sqrt(e.width*e.width+e.height*e.height);if((o={scale:i*r*2/m,rCenter:1-i,rotate:0}).textPosAngle=(t.startangle+t.stopangle)/2,o.scale>=1)return o;v.push(o)}(p||d)&&((o=A(e,r,a,u,l)).textPosAngle=(t.startangle+t.stopangle)/2,v.push(o)),(p||h)&&((o=E(e,r,a,u,l)).textPosAngle=(t.startangle+t.stopangle)/2,v.push(o));for(var b=0,_=0,w=0;w<v.length;w++){var x=v[w].scale;if(_<x&&(_=x,b=w),!p&&_>=1)break}return v[b]}function S(e,t){var n=e.startangle,r=e.stopangle;return n>t&&t>r||n<t&&t<r}function A(e,t,n,r,i){t=Math.max(0,t-2*v);var o=e.width/e.height,a=I(o,r,t,n);return{scale:2*a/e.height,rCenter:M(o,a/t),rotate:C(i)}}function E(e,t,n,r,i){t=Math.max(0,t-2*v);var o=e.height/e.width,a=I(o,r,t,n);return{scale:2*a/e.width,rCenter:M(o,a/t),rotate:C(i+Math.PI/2)}}function M(e,t){return Math.cos(t)-e*t}function C(e){return(180/Math.PI*e+720)%180-90}function I(e,t,n,r){var i=e+1/(2*Math.tan(t));return n*Math.min(1/(Math.sqrt(i*i+.5)+i),r/(Math.sqrt(e*e+r/2)+e))}function D(e,t){return e.v!==t.vTotal||t.trace.hole?Math.min(1/(1+1/Math.sin(e.halfangle)),e.ring/2):1}function P(e,t){var n=t.pxmid[0],r=t.pxmid[1],i=e.width/2,o=e.height/2;return n<0&&(i*=-1),r<0&&(o*=-1),{scale:1,rCenter:1,rotate:0,x:i+Math.abs(o)*(i>0?1:-1)/2,y:o/(1+n*n/(r*r)),outside:!0}}function N(e){var t=Math.sqrt(e.titleBox.width*e.titleBox.width+e.titleBox.height*e.titleBox.height);return{x:e.cx,y:e.cy,scale:e.trace.hole*e.r*2/t,tx:0,ty:-e.titleBox.height/2+e.trace.title.font.size}}function L(e,t){var n,r=1,i=1,o=e.trace,a={x:e.cx,y:e.cy},s={tx:0,ty:0};s.ty+=o.title.font.size,n=F(o),-1!==o.title.position.indexOf("top")?(a.y-=(1+n)*e.r,s.ty-=e.titleBox.height):-1!==o.title.position.indexOf("bottom")&&(a.y+=(1+n)*e.r);var u=j(e.r,e.trace.aspectratio),l=t.w*(o.domain.x[1]-o.domain.x[0])/2;return-1!==o.title.position.indexOf("left")?(l+=u,a.x-=(1+n)*u,s.tx+=e.titleBox.width/2):-1!==o.title.position.indexOf("center")?l*=2:-1!==o.title.position.indexOf("right")&&(l+=u,a.x+=(1+n)*u,s.tx-=e.titleBox.width/2),r=l/e.titleBox.width,i=R(e,t)/e.titleBox.height,{x:a.x,y:a.y,scale:Math.min(r,i),tx:s.tx,ty:s.ty}}function j(e,t){return e/(void 0===t?1:t)}function R(e,t){var n=e.trace,r=t.h*(n.domain.y[1]-n.domain.y[0]);return Math.min(e.titleBox.height,r/2)}function F(e){var t,n=e.pull;if(!n)return 0;if(Array.isArray(n))for(n=0,t=0;t<e.pull.length;t++)e.pull[t]>n&&(n=e.pull[t]);return n}function z(e,t){var n,r,i,o,a,s,u,l,c,f,h,d,p;function v(e,t){return e.pxmid[1]-t.pxmid[1]}function g(e,t){return t.pxmid[1]-e.pxmid[1]}function m(e,n){n||(n={});var i,l,c,h,d=n.labelExtraY+(r?n.yLabelMax:n.yLabelMin),p=r?e.yLabelMin:e.yLabelMax,v=r?e.yLabelMax:e.yLabelMin,g=e.cyFinal+a(e.px0[1],e.px1[1]),m=d-p;if(m*u>0&&(e.labelExtraY=m),Array.isArray(t.pull))for(l=0;l<f.length;l++)(c=f[l])===e||(y.castOption(t.pull,e.pts)||0)>=(y.castOption(t.pull,c.pts)||0)||((e.pxmid[1]-c.pxmid[1])*u>0?(m=c.cyFinal+a(c.px0[1],c.px1[1])-p-e.labelExtraY)*u>0&&(e.labelExtraY+=m):(v+e.labelExtraY-g)*u>0&&(i=3*s*Math.abs(l-f.indexOf(e)),(h=c.cxFinal+o(c.px0[0],c.px1[0])+i-(e.cxFinal+e.pxmid[0])-e.labelExtraX)*s>0&&(e.labelExtraX+=h)))}for(r=0;r<2;r++)for(i=r?v:g,a=r?Math.max:Math.min,u=r?1:-1,n=0;n<2;n++){for(o=n?Math.max:Math.min,s=n?1:-1,(l=e[r][n]).sort(i),c=e[1-r][n],f=c.concat(l),d=[],h=0;h<l.length;h++)void 0!==l[h].yLabelMid&&d.push(l[h]);for(p=!1,h=0;r&&h<c.length;h++)if(void 0!==c[h].yLabelMid){p=c[h];break}for(h=0;h<d.length;h++){var b=h&&d[h-1];p&&!h&&(b=p),m(d[h],b)}}}function U(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r][0],o=i.trace,a=o.domain,s=t.w*(a.x[1]-a.x[0]),u=t.h*(a.y[1]-a.y[0]);o.title.text&&"middle center"!==o.title.position&&(u-=R(i,t));var l=s/2,c=u/2;"funnelarea"!==o.type||o.scalegroup||(c/=o.aspectratio),i.r=Math.min(l,c)/(1+F(o)),i.cx=t.l+t.w*(o.domain.x[1]+o.domain.x[0])/2,i.cy=t.t+t.h*(1-o.domain.y[0])-u/2,o.title.text&&-1!==o.title.position.indexOf("bottom")&&(i.cy-=R(i,t)),o.scalegroup&&-1===n.indexOf(o.scalegroup)&&n.push(o.scalegroup)}q(e,n)}function q(e,t){for(var n,r,i,o=0;o<t.length;o++){var a=1/0,s=t[o];for(r=0;r<e.length;r++)if((i=(n=e[r][0]).trace).scalegroup===s){var u;if("pie"===i.type)u=n.r*n.r;else if("funnelarea"===i.type){var l,c;i.aspectratio>1?c=(l=n.r)/i.aspectratio:l=(c=n.r)*i.aspectratio,u=(l*=(1+i.baseratio)/2)*c}a=Math.min(a,u/n.vTotal)}for(r=0;r<e.length;r++)if((i=(n=e[r][0]).trace).scalegroup===s){var f=a*n.vTotal;"funnelarea"===i.type&&(f/=(1+i.baseratio)/2,f/=i.aspectratio),n.r=Math.sqrt(f)}}}function V(e){var t,n,r,i=e[0],o=i.r,a=i.trace,s=y.getRotationAngle(a.rotation),u=2*Math.PI/i.vTotal,l="px0",c="px1";if("counterclockwise"===a.direction){for(t=0;t<e.length&&e[t].hidden;t++);if(t===e.length)return;s+=u*e[t].v,u*=-1,l="px1",c="px0"}for(r=B(o,s),t=0;t<e.length;t++)(n=e[t]).hidden||(n[l]=r,n.startangle=s,s+=u*n.v/2,n.pxmid=B(o,s),n.midangle=s,r=B(o,s+=u*n.v/2),n.stopangle=s,n[c]=r,n.largeArc=n.v>i.vTotal/2?1:0,n.halfangle=Math.PI*Math.min(n.v/i.vTotal,.5),n.ring=1-a.hole,n.rInscribed=D(n,i))}function B(e,t){return[e*Math.sin(t),-e*Math.cos(t)]}function H(e,t,n){var r=e._fullLayout,i=n.trace,o=i.texttemplate,a=i.textinfo;if(!o&&a&&"none"!==a){var s,l=a.split("+"),c=function(e){return-1!==l.indexOf(e)},f=c("label"),h=c("text"),d=c("value"),p=c("percent"),v=r.separators;if(s=f?[t.label]:[],h){var g=y.getFirstFilled(i.text,t.pts);m(g)&&s.push(g)}d&&s.push(y.formatPieValue(t.v,v)),p&&s.push(y.formatPiePercent(t.v/n.vTotal,v)),t.text=s.join("<br>")}function b(e){return{label:e.label,value:e.v,valueLabel:y.formatPieValue(e.v,r.separators),percent:e.v/n.vTotal,percentLabel:y.formatPiePercent(e.v/n.vTotal,r.separators),color:e.color,text:e.text,customdata:u.castOption(i,e.i,"customdata")}}if(o){var _=u.castOption(i,t.i,"texttemplate");if(_){var w=b(t),x=y.getFirstFilled(i.text,t.pts);(m(x)||""===x)&&(w.text=x),t.text=u.texttemplateString(_,w,e._fullLayout._d3locale,w,i._meta||{})}else t.text=""}}function W(e,t){var n=e.rotate*Math.PI/180,r=Math.cos(n),i=Math.sin(n),o=(t.left+t.right)/2,a=(t.top+t.bottom)/2;e.textX=o*r-a*i,e.textY=o*i+a*r,e.noCenter=!0}t.exports={plot:b,formatSliceLabel:H,transformInsideText:O,determineInsideTextFont:T,positionTitleOutside:L,prerenderTitles:k,layoutAreas:U,attachFxHandlers:w,computeTransform:W}},{"../../components/color":100,"../../components/drawing":122,"../../components/fx":140,"../../lib":230,"../../lib/svg_text_utils":252,"../../plots/plots":311,"../bar/constants":325,"../bar/uniform_text":339,"./event_data":344,"./helpers":345,"@plotly/d3":11}],350:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("./style_one"),o=e("../bar/uniform_text").resizeText;t.exports=function(e){var t=e._fullLayout._pielayer.selectAll(".trace");o(e,t,"pie"),t.each((function(e){var t=e[0].trace,n=r.select(this);n.style({opacity:t.opacity}),n.selectAll("path.surface").each((function(e){r.select(this).call(i,e,t)}))}))}},{"../bar/uniform_text":339,"./style_one":351,"@plotly/d3":11}],351:[function(e,t,n){"use strict";var r=e("../../components/color"),i=e("./helpers").castOption;t.exports=function(e,t,n){var o=n.marker.line,a=i(o.color,t.pts)||r.defaultLine,s=i(o.width,t.pts)||0;e.style("stroke-width",s).call(r.fill,t.color).call(r.stroke,a)}},{"../../components/color":100,"./helpers":345}],352:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t){for(var n=0;n<e.length;n++)e[n].i=n;r.mergeArray(t.text,e,"tx"),r.mergeArray(t.texttemplate,e,"txt"),r.mergeArray(t.hovertext,e,"htx"),r.mergeArray(t.customdata,e,"data"),r.mergeArray(t.textposition,e,"tp"),t.textfont&&(r.mergeArrayCastPositive(t.textfont.size,e,"ts"),r.mergeArray(t.textfont.color,e,"tc"),r.mergeArray(t.textfont.family,e,"tf"));var i=t.marker;if(i){r.mergeArrayCastPositive(i.size,e,"ms"),r.mergeArrayCastPositive(i.opacity,e,"mo"),r.mergeArray(i.symbol,e,"mx"),r.mergeArray(i.color,e,"mc");var o=i.line;i.line&&(r.mergeArray(o.color,e,"mlc"),r.mergeArrayCastPositive(o.width,e,"mlw"));var a=i.gradient;a&&"none"!==a.type&&(r.mergeArray(a.type,e,"mgt"),r.mergeArray(a.color,e,"mgc"))}}},{"../../lib":230}],353:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axis_format_attributes").axisHoverFormat,i=e("../../plots/template_attributes").texttemplateAttrs,o=e("../../plots/template_attributes").hovertemplateAttrs,a=e("../../components/colorscale/attributes"),s=e("../../plots/font_attributes"),u=e("../../components/drawing/attributes").dash,l=e("../../components/drawing"),c=e("./constants"),f=e("../../lib/extend").extendFlat;function h(e){return{valType:"any",dflt:0,editType:"calc"}}function d(e){return{valType:"any",editType:"calc"}}function p(e){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}t.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:h("x"),yperiod:h("y"),xperiod0:d("x0"),yperiod0:d("y0"),xperiodalignment:p("x"),yperiodalignment:p("y"),xhoverformat:r("x"),yhoverformat:r("y"),stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:i({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:o({},{keys:c.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:f({},u,{editType:"style"}),simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},marker:f({symbol:{valType:"enumerated",values:l.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:f({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},a("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},a("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:s({editType:"calc",colorEditType:"style",arrayOk:!0})}},{"../../components/colorscale/attributes":107,"../../components/drawing":122,"../../components/drawing/attributes":121,"../../lib/extend":224,"../../plots/cartesian/axis_format_attributes":279,"../../plots/font_attributes":305,"../../plots/template_attributes":312,"./constants":357}],354:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),o=e("../../plots/cartesian/axes"),a=e("../../plots/cartesian/align_period"),s=e("../../constants/numerical").BADNUM,u=e("./subtypes"),l=e("./colorscale_calc"),c=e("./arrays_to_calcdata"),f=e("./calc_selection");function h(e,t){var n,u,h,y,m,b,_=e._fullLayout,w=o.getFromId(e,t.xaxis||"x"),x=o.getFromId(e,t.yaxis||"y"),T=w.makeCalcdata(t,"x"),k=x.makeCalcdata(t,"y"),O=a(t,w,"x",T),S=a(t,x,"y",k),A=t._length,E=new Array(A),M=t.ids,C=g(t,_,w,x),I=!1;v(_,t);var D,P="x",N="y";C?(i.pushUnique(C.traceIndices,t._expandedIndex),(n="v"===C.orientation)?(N="s",D="x"):(P="s",D="y"),m="interpolate"===C.stackgaps):d(e,t,w,x,O,S,p(t,A));var L=!!t.xperiodalignment,j=!!t.yperiodalignment;for(u=0;u<A;u++){var R=E[u]={},F=r(O[u]),z=r(S[u]);F&&z?(R[P]=O[u],R[N]=S[u],L&&(R.orig_x=T[u]),j&&(R.orig_y=k[u])):C&&(n?F:z)?(R[D]=n?O[u]:S[u],R.gap=!0,m?(R.s=s,I=!0):R.s=0):R[P]=R[N]=s,M&&(R.id=String(M[u]))}if(c(E,t),l(e,t),f(E,t),C){for(u=0;u<E.length;)E[u][D]===s?E.splice(u,1):u++;if(i.sort(E,(function(e,t){return e[D]-t[D]||e.i-t.i})),I){for(u=0;u<E.length-1&&E[u].gap;)u++;for((b=E[u].s)||(b=E[u].s=0),h=0;h<u;h++)E[h].s=b;for(y=E.length-1;y>u&&E[y].gap;)y--;for(b=E[y].s,h=E.length-1;h>y;h--)E[h].s=b;for(;u<y;)if(E[++u].gap){for(h=u+1;E[h].gap;)h++;for(var U=E[u-1][D],q=E[u-1].s,V=(E[h].s-q)/(E[h][D]-U);u<h;)E[u].s=q+(E[u][D]-U)*V,u++}}}return E}function d(e,t,n,r,i,a,s){var l=t._length,c=e._fullLayout,f=n._id,h=r._id,d=c._firstScatter[y(t)]===t.uid,p=(g(t,c,n,r)||{}).orientation,v=t.fill;n._minDtick=0,r._minDtick=0;var m={padded:!0},b={padded:!0};s&&(m.ppad=b.ppad=s);var _=l<2||i[0]!==i[l-1]||a[0]!==a[l-1];_&&("tozerox"===v||"tonextx"===v&&(d||"h"===p))?m.tozero=!0:(t.error_y||{}).visible||"tonexty"!==v&&"tozeroy"!==v&&(u.hasMarkers(t)||u.hasText(t))||(m.padded=!1,m.ppad=0),_&&("tozeroy"===v||"tonexty"===v&&(d||"v"===p))?b.tozero=!0:"tonextx"!==v&&"tozerox"!==v||(b.padded=!1),f&&(t._extremes[f]=o.findExtremes(n,i,m)),h&&(t._extremes[h]=o.findExtremes(r,a,b))}function p(e,t){if(u.hasMarkers(e)){var n,r=e.marker,a=1.6*(e.marker.sizeref||1);if(n="area"===e.marker.sizemode?function(e){return Math.max(Math.sqrt((e||0)/a),3)}:function(e){return Math.max((e||0)/a,3)},i.isArrayOrTypedArray(r.size)){var s={type:"linear"};o.setConvert(s);for(var l=s.makeCalcdata(e.marker,"size"),c=new Array(t),f=0;f<t;f++)c[f]=n(l[f]);return c}return n(r.size)}}function v(e,t){var n=y(t),r=e._firstScatter;r[n]||(r[n]=t.uid)}function y(e){var t=e.stackgroup;return e.xaxis+e.yaxis+e.type+(t?"-"+t:"")}function g(e,t,n,r){var i=e.stackgroup;if(i){var o=t._scatterStackOpts[n._id+r._id][i],a="v"===o.orientation?r:n;return"linear"===a.type||"log"===a.type?o:void 0}}t.exports={calc:h,calcMarkerSize:p,calcAxisExpansion:d,setFirstScatter:v,getStackOpts:g}},{"../../constants/numerical":210,"../../lib":230,"../../plots/cartesian/align_period":273,"../../plots/cartesian/axes":276,"./arrays_to_calcdata":352,"./calc_selection":355,"./colorscale_calc":356,"./subtypes":378,"fast-isnumeric":15}],355:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t){r.isArrayOrTypedArray(t.selectedpoints)&&r.tagSelected(e,t)}},{"../../lib":230}],356:[function(e,t,n){"use strict";var r=e("../../components/colorscale/helpers").hasColorscale,i=e("../../components/colorscale/calc"),o=e("./subtypes");t.exports=function(e,t){o.hasLines(t)&&r(t,"line")&&i(e,t,{vals:t.line.color,containerStr:"line",cLetter:"c"}),o.hasMarkers(t)&&(r(t,"marker")&&i(e,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),r(t,"marker.line")&&i(e,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},{"../../components/colorscale/calc":108,"../../components/colorscale/helpers":111,"./subtypes":378}],357:[function(e,t,n){"use strict";t.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},{}],358:[function(e,t,n){"use strict";var r=e("./calc");function i(e,t,n,r,i,a,s){i[r]=!0;var u={i:null,gap:!0,s:0};if(u[s]=n,e.splice(t,0,u),t&&n===e[t-1][s]){var l=e[t-1];u.s=l.s,u.i=l.i,u.gap=l.gap}else a&&(u.s=o(e,t,n,s));t||(e[0].t=e[1].t,e[0].trace=e[1].trace,delete e[1].t,delete e[1].trace)}function o(e,t,n,r){var i=e[t-1],o=e[t+1];return o?i?i.s+(o.s-i.s)*(n-i[r])/(o[r]-i[r]):o.s:i.s}t.exports=function(e,t){var n=t.xaxis,o=t.yaxis,a=n._id+o._id,s=e._fullLayout._scatterStackOpts[a];if(s){var u,l,c,f,h,d,p,v,y,g,m,b,_,w,x,T=e.calcdata;for(var k in s){var O=(g=s[k]).traceIndices;if(O.length){for(m="interpolate"===g.stackgaps,b=g.groupnorm,"v"===g.orientation?(_="x",w="y"):(_="y",w="x"),x=new Array(O.length),u=0;u<x.length;u++)x[u]=!1;d=T[O[0]];var S=new Array(d.length);for(u=0;u<d.length;u++)S[u]=d[u][_];for(u=1;u<O.length;u++){for(h=T[O[u]],l=c=0;l<h.length;l++){for(p=h[l][_];p>S[c]&&c<S.length;c++)i(h,l,S[c],u,x,m,_),l++;if(p!==S[c]){for(f=0;f<u;f++)i(T[O[f]],c,p,f,x,m,_);S.splice(c,0,p)}c++}for(;c<S.length;c++)i(h,l,S[c],u,x,m,_),l++}var A=S.length;for(l=0;l<d.length;l++){for(v=d[l][w]=d[l].s,u=1;u<O.length;u++)(h=T[O[u]])[0].trace._rawLength=h[0].trace._length,h[0].trace._length=A,v+=h[l].s,h[l][w]=v;if(b)for(y=("fraction"===b?v:v/100)||1,u=0;u<O.length;u++){var E=T[O[u]][l];E[w]/=y,E.sNorm=E.s/y}}for(u=0;u<O.length;u++){var M=(h=T[O[u]])[0].trace,C=r.calcMarkerSize(M,M._rawLength),I=Array.isArray(C);if(C&&x[u]||I){var D=C;for(C=new Array(A),l=0;l<A;l++)C[l]=h[l].gap?0:I?D[h[l].i]:D}var P=new Array(A),N=new Array(A);for(l=0;l<A;l++)P[l]=h[l].x,N[l]=h[l].y;r.calcAxisExpansion(e,M,n,o,P,N,C),h[0].t.orientation=g.orientation}}}}}},{"./calc":354}],359:[function(e,t,n){"use strict";t.exports=function(e){for(var t=0;t<e.length;t++){var n=e[t];if("scatter"===n.type){var r=n.fill;if("none"!==r&&"toself"!==r&&(n.opacity=void 0,"tonexty"===r||"tonextx"===r))for(var i=t-1;i>=0;i--){var o=e[i];if("scatter"===o.type&&o.xaxis===n.xaxis&&o.yaxis===n.yaxis){o.opacity=void 0;break}}}}}},{}],360:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../registry"),o=e("./attributes"),a=e("./constants"),s=e("./subtypes"),u=e("./xy_defaults"),l=e("./period_defaults"),c=e("./stack_defaults"),f=e("./marker_defaults"),h=e("./line_defaults"),d=e("./line_shape_defaults"),p=e("./text_defaults"),v=e("./fillcolor_defaults");t.exports=function(e,t,n,y){function g(n,i){return r.coerce(e,t,o,n,i)}var m=u(e,t,y,g);if(m||(t.visible=!1),t.visible){l(e,t,y,g),g("xhoverformat"),g("yhoverformat");var b=c(e,t,y,g),_=!b&&m<a.PTS_LINESONLY?"lines+markers":"lines";g("text"),g("hovertext"),g("mode",_),s.hasLines(t)&&(h(e,t,n,y,g),d(e,t,g),g("connectgaps"),g("line.simplify")),s.hasMarkers(t)&&f(e,t,n,y,g,{gradient:!0}),s.hasText(t)&&(g("texttemplate"),p(e,t,y,g));var w=[];(s.hasMarkers(t)||s.hasText(t))&&(g("cliponaxis"),g("marker.maxdisplayed"),w.push("points")),g("fill",b?b.fillDflt:"none"),"none"!==t.fill&&(v(e,t,n,g),s.hasLines(t)||d(e,t,g));var x=(t.line||{}).color,T=(t.marker||{}).color;"tonext"!==t.fill&&"toself"!==t.fill||w.push("fills"),g("hoveron",w.join("+")||"points"),"fills"!==t.hoveron&&g("hovertemplate");var k=i.getComponentMethod("errorbars","supplyDefaults");k(e,t,x||T||n,{axis:"y"}),k(e,t,x||T||n,{axis:"x",inherit:"y"}),r.coerceSelectionMarkerOpacity(t,g)}}},{"../../lib":230,"../../registry":313,"./attributes":353,"./constants":357,"./fillcolor_defaults":361,"./line_defaults":366,"./line_shape_defaults":368,"./marker_defaults":372,"./period_defaults":373,"./stack_defaults":376,"./subtypes":378,"./text_defaults":379,"./xy_defaults":380}],361:[function(e,t,n){"use strict";var r=e("../../components/color"),i=e("../../lib").isArrayOrTypedArray;t.exports=function(e,t,n,o){var a=!1;if(t.marker){var s=t.marker.color,u=(t.marker.line||{}).color;s&&!i(s)?a=s:u&&!i(u)&&(a=u)}o("fillcolor",r.addOpacity((t.line||{}).color||a||n,.5))}},{"../../components/color":100,"../../lib":230}],362:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axes");t.exports=function(e,t,n){var i={},o={_fullLayout:n},a=r.getFromTrace(o,t,"x"),s=r.getFromTrace(o,t,"y");return i.xLabel=r.tickText(a,a.c2l(e.x),!0).text,i.yLabel=r.tickText(s,s.c2l(e.y),!0).text,i}},{"../../plots/cartesian/axes":276}],363:[function(e,t,n){"use strict";var r=e("../../components/color"),i=e("./subtypes");t.exports=function(e,t){var n,o;if("lines"===e.mode)return(n=e.line.color)&&r.opacity(n)?n:e.fillcolor;if("none"===e.mode)return e.fill?e.fillcolor:"";var a=t.mcc||(e.marker||{}).color,s=t.mlcc||((e.marker||{}).line||{}).color;return(o=a&&r.opacity(a)?a:s&&r.opacity(s)&&(t.mlw||((e.marker||{}).line||{}).width)?s:"")?r.opacity(o)<.3?r.addOpacity(o,.3):o:(n=(e.line||{}).color)&&r.opacity(n)&&i.hasLines(e)&&e.line.width?n:e.fillcolor}},{"../../components/color":100,"./subtypes":378}],364:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../components/fx"),o=e("../../registry"),a=e("./get_trace_color"),s=e("../../components/color"),u=r.fillText;t.exports=function(e,t,n,l){var c=e.cd,f=c[0].trace,h=e.xa,d=e.ya,p=h.c2p(t),v=d.c2p(n),y=[p,v],g=f.hoveron||"",m=-1!==f.mode.indexOf("markers")?3:.5;if(-1!==g.indexOf("points")){var b=function(e){var t=Math.max(3,e.mrc||0),n=1-1/t,r=Math.abs(h.c2p(e.x)-p);return void 0!==e.orig_x&&(r+=h.c2p(e.orig_x)-h.c2p(e.x)),r<t?n*r/t:r-t+n},_=function(e){var t=Math.max(3,e.mrc||0),n=1-1/t,r=Math.abs(d.c2p(e.y)-v);return void 0!==e.orig_y&&(r+=d.c2p(e.orig_y)-d.c2p(e.y)),r<t?n*r/t:r-t+n},w=function(e){var t=Math.max(m,e.mrc||0),n=h.c2p(e.x)-p,r=d.c2p(e.y)-v;return Math.max(Math.sqrt(n*n+r*r)-t,1-m/t)},x=i.getDistanceFunction(l,b,_,w);if(i.getClosest(c,x,e),!1!==e.index){var T=c[e.index],k=h.c2p(T.x,!0),O=d.c2p(T.y,!0),S=T.mrc||1;e.index=T.i;var A=c[0].t.orientation,E=A&&(T.sNorm||T.s),M="h"===A?E:void 0!==T.orig_x?T.orig_x:T.x,C="v"===A?E:void 0!==T.orig_y?T.orig_y:T.y;return r.extendFlat(e,{color:a(f,T),x0:k-S,x1:k+S,xLabelVal:M,y0:O-S,y1:O+S,yLabelVal:C,spikeDistance:w(T),hovertemplate:f.hovertemplate}),u(T,f,e),o.getComponentMethod("errorbars","hoverInfo")(T,f,e),[e]}}if(-1!==g.indexOf("fills")&&f._polygons){var I,D,P,N,L,j,R,F,z,U=f._polygons,q=[],V=!1,B=1/0,H=-1/0,W=1/0,Y=-1/0;for(I=0;I<U.length;I++)(P=U[I]).contains(y)&&(V=!V,q.push(P),W=Math.min(W,P.ymin),Y=Math.max(Y,P.ymax));if(V){var G=((W=Math.max(W,0))+(Y=Math.min(Y,d._length)))/2;for(I=0;I<q.length;I++)for(N=q[I].pts,D=1;D<N.length;D++)(F=N[D-1][1])>G!==(z=N[D][1])>=G&&(j=N[D-1][0],R=N[D][0],z-F&&(L=j+(R-j)*(G-F)/(z-F),B=Math.min(B,L),H=Math.max(H,L)));B=Math.max(B,0),H=Math.min(H,h._length);var K=s.defaultLine;return s.opacity(f.fillcolor)?K=f.fillcolor:s.opacity((f.line||{}).color)&&(K=f.line.color),r.extendFlat(e,{distance:e.maxHoverDistance,x0:B,x1:H,y0:G,y1:G,color:K,hovertemplate:!1}),delete e.index,f.text&&!Array.isArray(f.text)?e.text=String(f.text):e.text=f.name,[e]}}}},{"../../components/color":100,"../../components/fx":140,"../../lib":230,"../../registry":313,"./get_trace_color":363}],365:[function(e,t,n){"use strict";var r=e("./subtypes");t.exports={hasLines:r.hasLines,hasMarkers:r.hasMarkers,hasText:r.hasText,isBubble:r.isBubble,attributes:e("./attributes"),supplyDefaults:e("./defaults"),crossTraceDefaults:e("./cross_trace_defaults"),calc:e("./calc").calc,crossTraceCalc:e("./cross_trace_calc"),arraysToCalcdata:e("./arrays_to_calcdata"),plot:e("./plot"),colorbar:e("./marker_colorbar"),formatLabels:e("./format_labels"),style:e("./style").style,styleOnSelect:e("./style").styleOnSelect,hoverPoints:e("./hover"),selectPoints:e("./select"),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e("../../plots/cartesian"),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},{"../../plots/cartesian":290,"./arrays_to_calcdata":352,"./attributes":353,"./calc":354,"./cross_trace_calc":358,"./cross_trace_defaults":359,"./defaults":360,"./format_labels":362,"./hover":364,"./marker_colorbar":371,"./plot":374,"./select":375,"./style":377,"./subtypes":378}],366:[function(e,t,n){"use strict";var r=e("../../lib").isArrayOrTypedArray,i=e("../../components/colorscale/helpers").hasColorscale,o=e("../../components/colorscale/defaults");t.exports=function(e,t,n,a,s,u){var l=(e.marker||{}).color;s("line.color",n),i(e,"line")?o(e,t,a,s,{prefix:"line.",cLetter:"c"}):s("line.color",!r(l)&&l||n),s("line.width"),(u||{}).noDash||s("line.dash")}},{"../../components/colorscale/defaults":110,"../../components/colorscale/helpers":111,"../../lib":230}],367:[function(e,t,n){"use strict";var r=e("../../constants/numerical"),i=r.BADNUM,o=r.LOG_CLIP,a=o+.5,s=o-.5,u=e("../../lib"),l=u.segmentsIntersect,c=u.constrain,f=e("./constants");t.exports=function(e,t){var n,r,o,h,d,p,v,y,g,m,b,_,w,x,T,k,O,S,A=t.xaxis,E=t.yaxis,M="log"===A.type,C="log"===E.type,I=A._length,D=E._length,P=t.connectGaps,N=t.baseTolerance,L=t.shape,j="linear"===L,R=t.fill&&"none"!==t.fill,F=[],z=f.minTolerance,U=e.length,q=new Array(U),V=0;function B(n){var r=e[n];if(!r)return!1;var o=t.linearized?A.l2p(r.x):A.c2p(r.x),u=t.linearized?E.l2p(r.y):E.c2p(r.y);if(o===i){if(M&&(o=A.c2p(r.x,!0)),o===i)return!1;C&&u===i&&(o*=Math.abs(A._m*D*(A._m>0?a:s)/(E._m*I*(E._m>0?a:s)))),o*=1e3}if(u===i){if(C&&(u=E.c2p(r.y,!0)),u===i)return!1;u*=1e3}return[o,u]}function H(e,t,n,r){var i=n-e,o=r-t,a=.5-e,s=.5-t,u=i*i+o*o,l=i*a+o*s;if(l>0&&l<u){var c=a*o-s*i;if(c*c<u)return!0}}function W(e,t){var n=e[0]/I,r=e[1]/D,i=Math.max(0,-n,n-1,-r,r-1);return i&&void 0!==O&&H(n,r,O,S)&&(i=0),i&&t&&H(n,r,t[0]/I,t[1]/D)&&(i=0),(1+f.toleranceGrowth*i)*N}function Y(e,t){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}var G,K,X,Q,J,$,Z,ee=f.maxScreensAway,te=-I*ee,ne=I*(1+ee),re=-D*ee,ie=D*(1+ee),oe=[[te,re,ne,re],[ne,re,ne,ie],[ne,ie,te,ie],[te,ie,te,re]];function ae(e,t){for(var n=[],r=0,i=0;i<4;i++){var o=oe[i],a=l(e[0],e[1],t[0],t[1],o[0],o[1],o[2],o[3]);a&&(!r||Math.abs(a.x-n[0][0])>1||Math.abs(a.y-n[0][1])>1)&&(a=[a.x,a.y],r&&Y(a,e)<Y(n[0],e)?n.unshift(a):n.push(a),r++)}return n}function se(e){if(e[0]<te||e[0]>ne||e[1]<re||e[1]>ie)return[c(e[0],te,ne),c(e[1],re,ie)]}function ue(e,t){return e[0]===t[0]&&(e[0]===te||e[0]===ne)||e[1]===t[1]&&(e[1]===re||e[1]===ie)||void 0}function le(e,t){var n=[],r=se(e),i=se(t);return r&&i&&ue(r,i)||(r&&n.push(r),i&&n.push(i)),n}function ce(e,t,n){return function(r,i){var o=se(r),a=se(i),s=[];if(o&&a&&ue(o,a))return s;o&&s.push(o),a&&s.push(a);var l=2*u.constrain((r[e]+i[e])/2,t,n)-((o||r)[e]+(a||i)[e]);return l&&((o&&a?l>0===o[e]>a[e]?o:a:o||a)[e]+=l),s}}function fe(e,t){var n=t[0]-e[0],r=(t[1]-e[1])/n;return(e[1]*t[0]-t[1]*e[0])/n>0?[r>0?te:ne,ie]:[r>0?ne:te,re]}function he(e){var t=e[0],n=e[1],r=t===q[V-1][0],i=n===q[V-1][1];if(!r||!i)if(V>1){var o=t===q[V-2][0],a=n===q[V-2][1];r&&(t===te||t===ne)&&o?a?V--:q[V-1]=e:i&&(n===re||n===ie)&&a?o?V--:q[V-1]=e:q[V++]=e}else q[V++]=e}function de(e){q[V-1][0]!==e[0]&&q[V-1][1]!==e[1]&&he([X,Q]),he(e),J=null,X=Q=0}function pe(e){if(O=e[0]/I,S=e[1]/D,G=e[0]<te?te:e[0]>ne?ne:0,K=e[1]<re?re:e[1]>ie?ie:0,G||K){if(V)if(J){var t=Z(J,e);t.length>1&&(de(t[0]),q[V++]=t[1])}else $=Z(q[V-1],e)[0],q[V++]=$;else q[V++]=[G||e[0],K||e[1]];var n=q[V-1];G&&K&&(n[0]!==G||n[1]!==K)?(J&&(X!==G&&Q!==K?he(X&&Q?fe(J,e):[X||G,Q||K]):X&&Q&&he([X,Q])),he([G,K])):X-G&&Q-K&&he([G||X,K||Q]),J=e,X=G,Q=K}else J&&de(Z(J,e)[0]),q[V++]=e}for("linear"===L||"spline"===L?Z=ae:"hv"===L||"vh"===L?Z=le:"hvh"===L?Z=ce(0,te,ne):"vhv"===L&&(Z=ce(1,re,ie)),n=0;n<U;n++)if(r=B(n)){for(V=0,J=null,pe(r),n++;n<U;n++){if(!(h=B(n))){if(P)continue;break}if(j&&t.simplify){var ve=B(n+1);if(m=Y(h,r),R&&(0===V||V===U-1)||!(m<W(h,ve)*z)){for(y=[(h[0]-r[0])/m,(h[1]-r[1])/m],d=r,b=m,_=x=T=0,v=!1,o=h,n++;n<e.length;n++){if(p=ve,ve=B(n+1),!p){if(P)continue;break}if(k=(g=[p[0]-r[0],p[1]-r[1]])[0]*y[1]-g[1]*y[0],x=Math.min(x,k),(T=Math.max(T,k))-x>W(p,ve))break;o=p,(w=g[0]*y[0]+g[1]*y[1])>b?(b=w,h=p,v=!1):w<_&&(_=w,d=p,v=!0)}if(v?(pe(h),o!==d&&pe(d)):(d!==r&&pe(d),o!==h&&pe(h)),pe(o),n>=e.length||!p)break;pe(p),r=p}}else pe(h)}J&&he([X||J[0],Q||J[1]]),F.push(q.slice(0,V))}return F}},{"../../constants/numerical":210,"../../lib":230,"./constants":357}],368:[function(e,t,n){"use strict";t.exports=function(e,t,n){"spline"===n("line.shape")&&n("line.smoothing")}},{}],369:[function(e,t,n){"use strict";var r={tonextx:1,tonexty:1,tonext:1};t.exports=function(e,t,n){var i,o,a,s,u,l={},c=!1,f=-1,h=0,d=-1;for(o=0;o<n.length;o++)(a=(i=n[o][0].trace).stackgroup||"")?a in l?u=l[a]:(u=l[a]=h,h++):i.fill in r&&d>=0?u=d:(u=d=h,h++),u<f&&(c=!0),i._groupIndex=f=u;var p=n.slice();c&&p.sort((function(e,t){var n=e[0].trace,r=t[0].trace;return n._groupIndex-r._groupIndex||n.index-r.index}));var v={};for(o=0;o<p.length;o++)a=(i=p[o][0].trace).stackgroup||"",!0===i.visible?(i._nexttrace=null,i.fill in r&&(s=v[a],i._prevtrace=s||null,s&&(s._nexttrace=i)),i._ownfill=i.fill&&("tozero"===i.fill.substr(0,6)||"toself"===i.fill||"to"===i.fill.substr(0,2)&&!i._prevtrace),v[a]=i):i._prevtrace=i._nexttrace=i._ownfill=null;return p}},{}],370:[function(e,t,n){"use strict";var r=e("fast-isnumeric");t.exports=function(e){var t=e.marker,n=t.sizeref||1,i=t.sizemin||0,o="area"===t.sizemode?function(e){return Math.sqrt(e/n)}:function(e){return e/n};return function(e){var t=o(e/2);return r(t)&&t>0?Math.max(t,i):0}}},{"fast-isnumeric":15}],371:[function(e,t,n){"use strict";t.exports={container:"marker",min:"cmin",max:"cmax"}},{}],372:[function(e,t,n){"use strict";var r=e("../../components/color"),i=e("../../components/colorscale/helpers").hasColorscale,o=e("../../components/colorscale/defaults"),a=e("./subtypes");t.exports=function(e,t,n,s,u,l){var c=a.isBubble(e),f=(e.line||{}).color;l=l||{},f&&(n=f),u("marker.symbol"),u("marker.opacity",c?.7:1),u("marker.size"),u("marker.color",n),i(e,"marker")&&o(e,t,s,u,{prefix:"marker.",cLetter:"c"}),l.noSelect||(u("selected.marker.color"),u("unselected.marker.color"),u("selected.marker.size"),u("unselected.marker.size")),l.noLine||(u("marker.line.color",f&&!Array.isArray(f)&&t.marker.color!==f?f:c?r.background:r.defaultLine),i(e,"marker.line")&&o(e,t,s,u,{prefix:"marker.line.",cLetter:"c"}),u("marker.line.width",c?1:0)),c&&(u("marker.sizeref"),u("marker.sizemin"),u("marker.sizemode")),l.gradient&&"none"!==u("marker.gradient.type")&&u("marker.gradient.color")}},{"../../components/color":100,"../../components/colorscale/defaults":110,"../../components/colorscale/helpers":111,"./subtypes":378}],373:[function(e,t,n){"use strict";var r=e("../../lib").dateTick0,i=e("../../constants/numerical").ONEWEEK;function o(e,t){return r(t,e%i===0?1:0)}t.exports=function(e,t,n,r,i){if(i||(i={x:!0,y:!0}),i.x){var a=r("xperiod");a&&(r("xperiod0",o(a,t.xcalendar)),r("xperiodalignment"))}if(i.y){var s=r("yperiod");s&&(r("yperiod0",o(s,t.ycalendar)),r("yperiodalignment"))}}},{"../../constants/numerical":210,"../../lib":230}],374:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../../registry"),o=e("../../lib"),a=o.ensureSingle,s=o.identity,u=e("../../components/drawing"),l=e("./subtypes"),c=e("./line_points"),f=e("./link_traces"),h=e("../../lib/polygon").tester;function d(e,t,n){t.each((function(t){var i=a(r.select(this),"g","fills");u.setClipUrl(i,n.layerClipId,e);var o=t[0].trace,l=[];o._ownfill&&l.push("_ownFill"),o._nexttrace&&l.push("_nextFill");var c=i.selectAll("g").data(l,s);c.enter().append("g"),c.exit().each((function(e){o[e]=null})).remove(),c.order().each((function(e){o[e]=a(r.select(this),"path","js-fill")}))}))}function p(e,t,n,f,d,p,y){var g;v(e,t,n,f,d);var m=!!y&&y.duration>0;function b(e){return m?e.transition():e}var _=n.xaxis,w=n.yaxis,x=f[0].trace,T=x.line,k=r.select(p),O=a(k,"g","errorbars"),S=a(k,"g","lines"),A=a(k,"g","points"),E=a(k,"g","text");if(i.getComponentMethod("errorbars","plot")(e,O,n,y),!0===x.visible){var M,C;b(k).style("opacity",x.opacity);var I=x.fill.charAt(x.fill.length-1);"x"!==I&&"y"!==I&&(I=""),f[0][n.isRangePlot?"nodeRangePlot3":"node3"]=k;var D,P,N="",L=[],j=x._prevtrace;j&&(N=j._prevRevpath||"",C=j._nextFill,L=j._polygons);var R,F,z,U,q,V,B,H="",W="",Y=[],G=o.noop;if(M=x._ownFill,l.hasLines(x)||"none"!==x.fill){for(C&&C.datum(f),-1!==["hv","vh","hvh","vhv"].indexOf(T.shape)?(R=u.steps(T.shape),F=u.steps(T.shape.split("").reverse().join(""))):R=F="spline"===T.shape?function(e){var t=e[e.length-1];return e.length>1&&e[0][0]===t[0]&&e[0][1]===t[1]?u.smoothclosed(e.slice(1),T.smoothing):u.smoothopen(e,T.smoothing)}:function(e){return"M"+e.join("L")},z=function(e){return F(e.reverse())},Y=c(f,{xaxis:_,yaxis:w,connectGaps:x.connectgaps,baseTolerance:Math.max(T.width||1,3)/4,shape:T.shape,simplify:T.simplify,fill:x.fill}),B=x._polygons=new Array(Y.length),g=0;g<Y.length;g++)x._polygons[g]=h(Y[g]);Y.length&&(U=Y[0][0],V=(q=Y[Y.length-1])[q.length-1]),G=function(e){return function(t){if(D=R(t),P=z(t),H?I?(H+="L"+D.substr(1),W=P+"L"+W.substr(1)):(H+="Z"+D,W=P+"Z"+W):(H=D,W=P),l.hasLines(x)&&t.length>1){var n=r.select(this);if(n.datum(f),e)b(n.style("opacity",0).attr("d",D).call(u.lineGroupStyle)).style("opacity",1);else{var i=b(n);i.attr("d",D),u.singleLineStyle(f,i)}}}}}var K=S.selectAll(".js-line").data(Y);b(K.exit()).style("opacity",0).remove(),K.each(G(!1)),K.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(u.lineGroupStyle).each(G(!0)),u.setClipUrl(K,n.layerClipId,e),Y.length?(M?(M.datum(f),U&&V&&(I?("y"===I?U[1]=V[1]=w.c2p(0,!0):"x"===I&&(U[0]=V[0]=_.c2p(0,!0)),b(M).attr("d","M"+V+"L"+U+"L"+H.substr(1)).call(u.singleFillStyle)):b(M).attr("d",H+"Z").call(u.singleFillStyle))):C&&("tonext"===x.fill.substr(0,6)&&H&&N?("tonext"===x.fill?b(C).attr("d",H+"Z"+N+"Z").call(u.singleFillStyle):b(C).attr("d",H+"L"+N.substr(1)+"Z").call(u.singleFillStyle),x._polygons=x._polygons.concat(L)):(Q(C),x._polygons=null)),x._prevRevpath=W,x._prevPolygons=B):(M?Q(M):C&&Q(C),x._polygons=x._prevRevpath=x._prevPolygons=null),A.datum(f),E.datum(f),re(A,E,f);var X=!1===x.cliponaxis?null:n.layerClipId;u.setClipUrl(A,X,e),u.setClipUrl(E,X,e)}function Q(e){b(e).attr("d","M0,0Z")}function J(e){return e.filter((function(e){return!e.gap&&e.vis}))}function $(e){return e.filter((function(e){return e.vis}))}function Z(e){return e.filter((function(e){return!e.gap}))}function ee(e){return e.id}function te(e){if(e.ids)return ee}function ne(){return!1}function re(t,i,o){var a,c=o[0].trace,f=l.hasMarkers(c),h=l.hasText(c),d=te(c),p=ne,v=ne;if(f||h){var y=s,g=c.stackgroup,x=g&&"infer zero"===e._fullLayout._scatterStackOpts[_._id+w._id][g].stackgaps;c.marker.maxdisplayed||c._needsCull?y=x?$:J:g&&!x&&(y=Z),f&&(p=y),h&&(v=y)}var T,k=(a=t.selectAll("path.point").data(p,d)).enter().append("path").classed("point",!0);m&&k.call(u.pointStyle,c,e).call(u.translatePoints,_,w).style("opacity",0).transition().style("opacity",1),a.order(),f&&(T=u.makePointStyleFns(c)),a.each((function(t){var i=r.select(this),o=b(i);u.translatePoint(t,o,_,w)?(u.singlePointStyle(t,o,c,T,e),n.layerClipId&&u.hideOutsideRangePoint(t,o,_,w,c.xcalendar,c.ycalendar),c.customdata&&i.classed("plotly-customdata",null!==t.data&&void 0!==t.data)):o.remove()})),m?a.exit().transition().style("opacity",0).remove():a.exit().remove(),(a=i.selectAll("g").data(v,d)).enter().append("g").classed("textpoint",!0).append("text"),a.order(),a.each((function(e){var t=r.select(this),i=b(t.select("text"));u.translatePoint(e,i,_,w)?n.layerClipId&&u.hideOutsideRangePoint(e,t,_,w,c.xcalendar,c.ycalendar):t.remove()})),a.selectAll("text").call(u.textPointStyle,c,e).each((function(e){var t=_.c2p(e.x),n=w.c2p(e.y);r.select(this).selectAll("tspan.line").each((function(){b(r.select(this)).attr({x:t,y:n})}))})),a.exit().remove()}}function v(e,t,n,i,a){var s=n.xaxis,u=n.yaxis,c=r.extent(o.simpleMap(s.range,s.r2c)),f=r.extent(o.simpleMap(u.range,u.r2c)),h=i[0].trace;if(l.hasMarkers(h)){var d=h.marker.maxdisplayed;if(0!==d){var p=i.filter((function(e){return e.x>=c[0]&&e.x<=c[1]&&e.y>=f[0]&&e.y<=f[1]})),v=Math.ceil(p.length/d),y=0;a.forEach((function(e,n){var r=e[0].trace;l.hasMarkers(r)&&r.marker.maxdisplayed>0&&n<t&&y++}));var g=Math.round(y*v/3+Math.floor(y/3)*v/7.1);i.forEach((function(e){delete e.vis})),p.forEach((function(e,t){0===Math.round((t+g)%v)&&(e.vis=!0)}))}}}t.exports=function(e,t,n,i,o,a){var s,u,l=!o,c=!!o&&o.duration>0,h=f(e,t,n);(s=i.selectAll("g.trace").data(h,(function(e){return e[0].trace.uid}))).enter().append("g").attr("class",(function(e){return"trace scatter trace"+e[0].trace.uid})).style("stroke-miterlimit",2),s.order(),d(e,s,t),c?(a&&(u=a()),r.transition().duration(o.duration).ease(o.easing).each("end",(function(){u&&u()})).each("interrupt",(function(){u&&u()})).each((function(){i.selectAll("g.trace").each((function(n,r){p(e,r,t,n,h,this,o)}))}))):s.each((function(n,r){p(e,r,t,n,h,this,o)})),l&&s.exit().remove(),i.selectAll("path:not([d])").remove()}},{"../../components/drawing":122,"../../lib":230,"../../lib/polygon":242,"../../registry":313,"./line_points":367,"./link_traces":369,"./subtypes":378,"@plotly/d3":11}],375:[function(e,t,n){"use strict";var r=e("./subtypes");t.exports=function(e,t){var n,i,o,a,s=e.cd,u=e.xaxis,l=e.yaxis,c=[],f=s[0].trace;if(!r.hasMarkers(f)&&!r.hasText(f))return[];if(!1===t)for(n=0;n<s.length;n++)s[n].selected=0;else for(n=0;n<s.length;n++)i=s[n],o=u.c2p(i.x),a=l.c2p(i.y),null!==i.i&&t.contains([o,a],!1,n,e)?(c.push({pointNumber:i.i,x:u.c2d(i.x),y:l.c2d(i.y)}),i.selected=1):i.selected=0;return c}},{"./subtypes":378}],376:[function(e,t,n){"use strict";var r=["orientation","groupnorm","stackgaps"];t.exports=function(e,t,n,i){var o=n._scatterStackOpts,a=i("stackgroup");if(a){var s=t.xaxis+t.yaxis,u=o[s];u||(u=o[s]={});var l=u[a],c=!1;l?l.traces.push(t):(l=u[a]={traceIndices:[],traces:[t]},c=!0);for(var f={orientation:t.x&&!t.y?"h":"v"},h=0;h<r.length;h++){var d=r[h],p=d+"Found";if(!l[p]){var v=void 0!==e[d],y="orientation"===d;if((v||c)&&(l[d]=i(d,f[d]),y&&(l.fillDflt="h"===l[d]?"tonextx":"tonexty"),v&&(l[p]=!0,!c&&(delete l.traces[0][d],y))))for(var g=0;g<l.traces.length-1;g++){var m=l.traces[g];m._input.fill!==m.fill&&(m.fill=l.fillDflt)}}}return l}}},{}],377:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../../components/drawing"),o=e("../../registry");function a(e){var t=r.select(e).selectAll("g.trace.scatter");t.style("opacity",(function(e){return e[0].trace.opacity})),t.selectAll("g.points").each((function(t){s(r.select(this),t.trace||t[0].trace,e)})),t.selectAll("g.text").each((function(t){u(r.select(this),t.trace||t[0].trace,e)})),t.selectAll("g.trace path.js-line").call(i.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(i.fillGroupStyle),o.getComponentMethod("errorbars","style")(t)}function s(e,t,n){i.pointStyle(e.selectAll("path.point"),t,n)}function u(e,t,n){i.textPointStyle(e.selectAll("text"),t,n)}function l(e,t,n){var r=t[0].trace;r.selectedpoints?(i.selectedPointStyle(n.selectAll("path.point"),r),i.selectedTextStyle(n.selectAll("text"),r)):(s(n,r,e),u(n,r,e))}t.exports={style:a,stylePoints:s,styleText:u,styleOnSelect:l}},{"../../components/drawing":122,"../../registry":313,"@plotly/d3":11}],378:[function(e,t,n){"use strict";var r=e("../../lib");t.exports={hasLines:function(e){return e.visible&&e.mode&&-1!==e.mode.indexOf("lines")},hasMarkers:function(e){return e.visible&&(e.mode&&-1!==e.mode.indexOf("markers")||"splom"===e.type)},hasText:function(e){return e.visible&&e.mode&&-1!==e.mode.indexOf("text")},isBubble:function(e){return r.isPlainObject(e.marker)&&r.isArrayOrTypedArray(e.marker.size)}}},{"../../lib":230}],379:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t,n,i,o){o=o||{},i("textposition"),r.coerceFont(i,"textfont",n.font),o.noSelect||(i("selected.textfont.color"),i("unselected.textfont.color"))}},{"../../lib":230}],380:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../registry");t.exports=function(e,t,n,o){var a,s=o("x"),u=o("y");if(i.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y"],n),s){var l=r.minRowLength(s);u?a=Math.min(l,r.minRowLength(u)):(a=l,o("y0"),o("dy"))}else{if(!u)return 0;a=r.minRowLength(u),o("x0"),o("dx")}return t._length=a,a}},{"../../lib":230,"../../registry":313}],381:[function(e,t,n){"use strict";var r=e("../plots/cartesian/axes"),i=e("../lib"),o=e("../plot_api/plot_schema"),a=e("./helpers").pointsAccessorFunction,s=e("../constants/numerical").BADNUM;n.moduleType="transform",n.name="aggregate";var u=n.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},l=u.aggregations;function c(e,t,n,o){if(o.enabled){for(var a=o.target,s=i.nestedProperty(t,a),u=s.get(),l=f(o,r.getDataConversions(e,t,a,u)),c=new Array(n.length),h=0;h<n.length;h++)c[h]=l(u,n[h]);s.set(c),"count"===o.func&&i.pushUnique(t._arrayAttrs,a)}}function f(e,t){var n=e.func,r=t.d2c,o=t.c2d;switch(n){case"count":return h;case"first":return d;case"last":return p;case"sum":return function(e,t){for(var n=0,i=0;i<t.length;i++){var a=r(e[t[i]]);a!==s&&(n+=a)}return o(n)};case"avg":return function(e,t){for(var n=0,i=0,a=0;a<t.length;a++){var u=r(e[t[a]]);u!==s&&(n+=u,i++)}return i?o(n/i):s};case"min":return function(e,t){for(var n=1/0,i=0;i<t.length;i++){var a=r(e[t[i]]);a!==s&&(n=Math.min(n,a))}return n===1/0?s:o(n)};case"max":return function(e,t){for(var n=-1/0,i=0;i<t.length;i++){var a=r(e[t[i]]);a!==s&&(n=Math.max(n,a))}return n===-1/0?s:o(n)};case"range":return function(e,t){for(var n=1/0,i=-1/0,a=0;a<t.length;a++){var u=r(e[t[a]]);u!==s&&(n=Math.min(n,u),i=Math.max(i,u))}return i===-1/0||n===1/0?s:o(i-n)};case"change":return function(e,t){var n=r(e[t[0]]),i=r(e[t[t.length-1]]);return n===s||i===s?s:o(i-n)};case"median":return function(e,t){for(var n=[],a=0;a<t.length;a++){var u=r(e[t[a]]);u!==s&&n.push(u)}if(!n.length)return s;n.sort(i.sorterAsc);var l=(n.length-1)/2;return o((n[Math.floor(l)]+n[Math.ceil(l)])/2)};case"mode":return function(e,t){for(var n={},i=0,a=s,u=0;u<t.length;u++){var l=r(e[t[u]]);if(l!==s){var c=n[l]=(n[l]||0)+1;c>i&&(i=c,a=l)}}return i?o(a):s};case"rms":return function(e,t){for(var n=0,i=0,a=0;a<t.length;a++){var u=r(e[t[a]]);u!==s&&(n+=u*u,i++)}return i?o(Math.sqrt(n/i)):s};case"stddev":return function(t,n){var i,o=0,a=0,u=1,l=s;for(i=0;i<n.length&&l===s;i++)l=r(t[n[i]]);if(l===s)return s;for(;i<n.length;i++){var c=r(t[n[i]]);if(c!==s){var f=c-l;o+=f,a+=f*f,u++}}var h="sample"===e.funcmode?u-1:u;return h?Math.sqrt((a-o*o/u)/h):0}}}function h(e,t){return t.length}function d(e,t){return e[t[0]]}function p(e,t){return e[t[t.length-1]]}n.supplyDefaults=function(e,t){var n,r={};function a(t,n){return i.coerce(e,r,u,t,n)}if(!a("enabled"))return r;var s=o.findArrayAttributes(t),c={};for(n=0;n<s.length;n++)c[s[n]]=1;var f=a("groups");if(!Array.isArray(f)){if(!c[f])return r.enabled=!1,r;c[f]=0}var h,d=e.aggregations||[],p=r.aggregations=new Array(d.length);function v(e,t){return i.coerce(d[n],h,l,e,t)}for(n=0;n<d.length;n++){h={_index:n};var y=v("target"),g=v("func");v("enabled")&&y&&(c[y]||"count"===g&&void 0===c[y])?("stddev"===g&&v("funcmode"),c[y]=0,p[n]=h):p[n]={enabled:!1,_index:n}}for(n=0;n<s.length;n++)c[s[n]]&&p.push({target:s[n],func:l.func.dflt,enabled:!0,_index:-1});return r},n.calcTransform=function(e,t,n){if(n.enabled){var r=n.groups,o=i.getTargetArray(t,{target:r});if(o){var s,u,l,f,h={},d={},p=[],v=a(t.transforms,n),y=o.length;for(t._length&&(y=Math.min(y,t._length)),s=0;s<y;s++)void 0===(l=h[u=o[s]])?(h[u]=p.length,f=[s],p.push(f),d[h[u]]=v(s)):(p[l].push(s),d[h[u]]=(d[h[u]]||[]).concat(v(s)));n._indexToPoints=d;var g=n.aggregations;for(s=0;s<g.length;s++)c(e,t,p,g[s]);"string"===typeof r&&c(e,t,p,{target:r,func:"first",enabled:!0}),t._length=p.length}}}},{"../constants/numerical":210,"../lib":230,"../plot_api/plot_schema":264,"../plots/cartesian/axes":276,"./helpers":384}],382:[function(e,t,n){"use strict";var r=e("../lib"),i=e("../registry"),o=e("../plots/cartesian/axes"),a=e("./helpers").pointsAccessorFunction,s=e("../constants/filter_ops"),u=s.COMPARISON_OPS,l=s.INTERVAL_OPS,c=s.SET_OPS;function f(e,t,n){var r=e.operation,i=e.value,o=Array.isArray(i);function a(e){return-1!==e.indexOf(r)}var s,f=function(n){return t(n,0,e.valuecalendar)},h=function(e){return t(e,0,n)};switch(a(u)?s=f(o?i[0]:i):a(l)?s=o?[f(i[0]),f(i[1])]:[f(i),f(i)]:a(c)&&(s=o?i.map(f):[f(i)]),r){case"=":return function(e){return h(e)===s};case"!=":return function(e){return h(e)!==s};case"<":return function(e){return h(e)<s};case"<=":return function(e){return h(e)<=s};case">":return function(e){return h(e)>s};case">=":return function(e){return h(e)>=s};case"[]":return function(e){var t=h(e);return t>=s[0]&&t<=s[1]};case"()":return function(e){var t=h(e);return t>s[0]&&t<s[1]};case"[)":return function(e){var t=h(e);return t>=s[0]&&t<s[1]};case"(]":return function(e){var t=h(e);return t>s[0]&&t<=s[1]};case"][":return function(e){var t=h(e);return t<=s[0]||t>=s[1]};case")(":return function(e){var t=h(e);return t<s[0]||t>s[1]};case"](":return function(e){var t=h(e);return t<=s[0]||t>s[1]};case")[":return function(e){var t=h(e);return t<s[0]||t>=s[1]};case"{}":return function(e){return-1!==s.indexOf(h(e))};case"}{":return function(e){return-1===s.indexOf(h(e))}}}n.moduleType="transform",n.name="filter",n.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(u).concat(l).concat(c),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},n.supplyDefaults=function(e){var t={};function o(i,o){return r.coerce(e,t,n.attributes,i,o)}if(o("enabled")){var a=o("target");if(r.isArrayOrTypedArray(a)&&0===a.length)return t.enabled=!1,t;o("preservegaps"),o("operation"),o("value");var s=i.getComponentMethod("calendars","handleDefaults");s(e,t,"valuecalendar",null),s(e,t,"targetcalendar",null)}return t},n.calcTransform=function(e,t,n){if(n.enabled){var i=r.getTargetArray(t,n);if(i){var s=n.target,u=i.length;t._length&&(u=Math.min(u,t._length));var l=n.targetcalendar,c=t._arrayAttrs,h=n.preservegaps;if("string"===typeof s){var d=r.nestedProperty(t,s+"calendar").get();d&&(l=d)}var p,v,y=f(n,o.getDataToCoordFunc(e,t,s,i),l),g={},m={},b=0;h?(p=function(e){g[e.astr]=r.extendDeep([],e.get()),e.set(new Array(u))},v=function(e,t){var n=g[e.astr][t];e.get()[t]=n}):(p=function(e){g[e.astr]=r.extendDeep([],e.get()),e.set([])},v=function(e,t){var n=g[e.astr][t];e.get().push(n)}),x(p);for(var _=a(t.transforms,n),w=0;w<u;w++)y(i[w])?(x(v,w),m[b++]=_(w)):h&&b++;n._indexToPoints=m,t._length=b}}function x(e,n){for(var i=0;i<c.length;i++)e(r.nestedProperty(t,c[i]),n)}}},{"../constants/filter_ops":208,"../lib":230,"../plots/cartesian/axes":276,"../registry":313,"./helpers":384}],383:[function(e,t,n){"use strict";var r=e("../lib"),i=e("../plot_api/plot_schema"),o=e("../plots/plots"),a=e("./helpers").pointsAccessorFunction;function s(e,t){var n,s,u,l,c,f,h,d,p,v,y=t.transform,g=t.transformIndex,m=e.transforms[g].groups,b=a(e.transforms,y);if(!r.isArrayOrTypedArray(m)||0===m.length)return[e];var _=r.filterUnique(m),w=new Array(_.length),x=m.length,T=i.findArrayAttributes(e),k=y.styles||[],O={};for(n=0;n<k.length;n++)O[k[n].target]=k[n].value;y.styles&&(v=r.keyedContainer(y,"styles","target","value.name"));var S={},A={};for(n=0;n<_.length;n++){S[f=_[n]]=n,A[f]=0,(h=w[n]=r.extendDeepNoArrays({},e))._group=f,h.transforms[g]._indexToPoints={};var E=null;for(v&&(E=v.get(f)),h.name=E||""===E?E:r.templateString(y.nameformat,{trace:e.name,group:f}),d=h.transforms,h.transforms=[],s=0;s<d.length;s++)h.transforms[s]=r.extendDeepNoArrays({},d[s]);for(s=0;s<T.length;s++)r.nestedProperty(h,T[s]).set([])}for(u=0;u<T.length;u++){for(l=T[u],s=0,p=[];s<_.length;s++)p[s]=r.nestedProperty(w[s],l).get();for(c=r.nestedProperty(e,l).get(),s=0;s<x;s++)p[S[m[s]]].push(c[s])}for(s=0;s<x;s++)(h=w[S[m[s]]]).transforms[g]._indexToPoints[A[m[s]]]=b(s),A[m[s]]++;for(n=0;n<_.length;n++)f=_[n],h=w[n],o.clearExpandedTraceDefaultColors(h),h=r.extendDeepNoArrays(h,O[f]||{});return w}n.moduleType="transform",n.name="groupby",n.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},n.supplyDefaults=function(e,t,i){var o,a={};function s(t,i){return r.coerce(e,a,n.attributes,t,i)}if(!s("enabled"))return a;s("groups"),s("nameformat",i._dataLength>1?"%{group} (%{trace})":"%{group}");var u=e.styles,l=a.styles=[];if(u)for(o=0;o<u.length;o++){var c=l[o]={};r.coerce(u[o],l[o],n.attributes.styles,"target");var f=r.coerce(u[o],l[o],n.attributes.styles,"value");r.isPlainObject(f)?c.value=r.extendDeep({},f):f&&delete c.value}return a},n.transform=function(e,t){var n,r,i,o=[];for(r=0;r<e.length;r++)for(n=s(e[r],t),i=0;i<n.length;i++)o.push(n[i]);return o}},{"../lib":230,"../plot_api/plot_schema":264,"../plots/plots":311,"./helpers":384}],384:[function(e,t,n){"use strict";n.pointsAccessorFunction=function(e,t){for(var n,r,i=0;i<e.length&&(n=e[i])!==t;i++)n._indexToPoints&&!1!==n.enabled&&(r=n._indexToPoints);return r?function(e){return r[e]}:function(e){return[e]}}},{}],385:[function(e,t,n){"use strict";var r=e("../lib"),i=e("../plots/cartesian/axes"),o=e("./helpers").pointsAccessorFunction,a=e("../constants/numerical").BADNUM;function s(e,t,n,r){var i,o=new Array(r),a=new Array(r);for(i=0;i<r;i++)o[i]={v:t[i],i:i};for(o.sort(u(e,n)),i=0;i<r;i++)a[i]=o[i].i;return a}function u(e,t){switch(e.order){case"ascending":return function(e,n){var r=t(e.v),i=t(n.v);return r===a?1:i===a?-1:r-i};case"descending":return function(e,n){var r=t(e.v),i=t(n.v);return r===a?1:i===a?-1:i-r}}}n.moduleType="transform",n.name="sort",n.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},n.supplyDefaults=function(e){var t={};function i(i,o){return r.coerce(e,t,n.attributes,i,o)}return i("enabled")&&(i("target"),i("order")),t},n.calcTransform=function(e,t,n){if(n.enabled){var a=r.getTargetArray(t,n);if(a){var u=n.target,l=a.length;t._length&&(l=Math.min(l,t._length));var c,f,h=t._arrayAttrs,d=s(n,a,i.getDataToCoordFunc(e,t,u,a),l),p=o(t.transforms,n),v={};for(c=0;c<h.length;c++){var y=r.nestedProperty(t,h[c]),g=y.get(),m=new Array(l);for(f=0;f<l;f++)m[f]=g[d[f]];y.set(m)}for(f=0;f<l;f++)v[f]=p(d[f]);n._indexToPoints=v,t._length=l}}}},{"../constants/numerical":210,"../lib":230,"../plots/cartesian/axes":276,"./helpers":384}],386:[function(e,t,n){"use strict";n.version="2.2.0"},{}]},{},[8])(8)}()}).call(this,n(52))},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(t){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(r,t);var n=function(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=n.call(this,e)).p=Promise.resolve(),t.resizeHandler=null,t.handlers={},t.syncWindowResize=t.syncWindowResize.bind(f(t)),t.syncEventHandlers=t.syncEventHandlers.bind(f(t)),t.attachUpdateEvents=t.attachUpdateEvents.bind(f(t)),t.getRef=t.getRef.bind(f(t)),t.handleUpdate=t.handleUpdate.bind(f(t)),t.figureCallback=t.figureCallback.bind(f(t)),t.updatePlotly=t.updatePlotly.bind(f(t)),t}return function(e,t,n){t&&u(e.prototype,t);n&&u(e,n)}(r,[{key:"updatePlotly",value:function(t,n,r){var i=this;this.p=this.p.then((function(){if(!i.unmounting){if(!i.el)throw new Error("Missing element reference");return e.react(i.el,{data:i.props.data,layout:i.props.layout,config:i.props.config,frames:i.props.frames})}})).then((function(){i.unmounting||(i.syncWindowResize(t),i.syncEventHandlers(),i.figureCallback(n),r&&i.attachUpdateEvents())})).catch((function(e){i.props.onError&&i.props.onError(e)}))}},{key:"componentDidMount",value:function(){this.unmounting=!1,this.updatePlotly(!0,this.props.onInitialized,!0)}},{key:"componentDidUpdate",value:function(e){this.unmounting=!1;var t=e.frames&&e.frames.length?e.frames.length:0,n=this.props.frames&&this.props.frames.length?this.props.frames.length:0,r=!(e.layout===this.props.layout&&e.data===this.props.data&&e.config===this.props.config&&n===t),i=void 0!==e.revision,o=e.revision!==this.props.revision;(r||i&&(!i||o))&&this.updatePlotly(!1,this.props.onUpdate,!1)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0,this.figureCallback(this.props.onPurge),this.resizeHandler&&v&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.removeUpdateEvents(),e.purge(this.el)}},{key:"attachUpdateEvents",value:function(){var e=this;this.el&&this.el.removeListener&&p.forEach((function(t){e.el.on(t,e.handleUpdate)}))}},{key:"removeUpdateEvents",value:function(){var e=this;this.el&&this.el.removeListener&&p.forEach((function(t){e.el.removeListener(t,e.handleUpdate)}))}},{key:"handleUpdate",value:function(){this.figureCallback(this.props.onUpdate)}},{key:"figureCallback",value:function(e){if("function"===typeof e){var t=this.el;e({data:t.data,layout:t.layout,frames:this.el._transitionData?this.el._transitionData._frames:null},this.el)}}},{key:"syncWindowResize",value:function(t){var n=this;v&&(this.props.useResizeHandler&&!this.resizeHandler?(this.resizeHandler=function(){return e.Plots.resize(n.el)},window.addEventListener("resize",this.resizeHandler),t&&this.resizeHandler()):!this.props.useResizeHandler&&this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null))}},{key:"getRef",value:function(e){this.el=e,this.props.debug&&v&&(window.gd=this.el)}},{key:"syncEventHandlers",value:function(){var e=this;d.forEach((function(t){var n=e.props["on"+t],r=e.handlers[t],i=Boolean(r);n&&!i?e.addEventHandler(t,n):!n&&i?e.removeEventHandler(t):n&&i&&n!==r&&(e.removeEventHandler(t),e.addEventHandler(t,n))}))}},{key:"addEventHandler",value:function(e,t){this.handlers[e]=t,this.el.on(this.getPlotlyEventName(e),this.handlers[e])}},{key:"removeEventHandler",value:function(e){this.el.removeListener(this.getPlotlyEventName(e),this.handlers[e]),delete this.handlers[e]}},{key:"getPlotlyEventName",value:function(e){return"plotly_"+e.toLowerCase()}},{key:"render",value:function(){return o.default.createElement("div",{id:this.props.divId,style:this.props.style,ref:this.getRef,className:this.props.className})}}]),r}(o.Component);return t.propTypes={data:a.default.arrayOf(a.default.object),config:a.default.object,layout:a.default.object,frames:a.default.arrayOf(a.default.object),revision:a.default.number,onInitialized:a.default.func,onPurge:a.default.func,onError:a.default.func,onUpdate:a.default.func,debug:a.default.bool,style:a.default.object,className:a.default.string,useResizeHandler:a.default.bool,divId:a.default.string},d.forEach((function(e){t.propTypes["on"+e]=a.default.func})),t.defaultProps={debug:!1,useResizeHandler:!1,data:[],style:{position:"relative",display:"inline-block"}},t};var i,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(1)),a=(i=n(6))&&i.__esModule?i:{default:i};function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=["AfterExport","AfterPlot","Animated","AnimatingFrame","AnimationInterrupted","AutoSize","BeforeExport","BeforeHover","ButtonClicked","Click","ClickAnnotation","Deselect","DoubleClick","Framework","Hover","LegendClick","LegendDoubleClick","Relayout","Relayouting","Restyle","Redraw","Selected","Selecting","SliderChange","SliderEnd","SliderStart","SunburstClick","Transitioning","TransitionInterrupted","Unhover"],p=["plotly_restyle","plotly_redraw","plotly_relayout","plotly_relayouting","plotly_doubleclick","plotly_animated","plotly_sunburstclick"],v="undefined"!==typeof window},function(e,t,n){"use strict";t.a={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}Object.create;Object.create},function(e,t,n){"use strict";n.d(t,"a",(function(){return o.a}));var r,i,o=n(10),a=(n(133),n(134),n(2)),s=n(16),u=(n(27),n(24)),l=n(17),c={Firestore:u.a,GeoPoint:u.r,Timestamp:u.l,Blob:u.s,Transaction:u.b,WriteBatch:u.o,DocumentReference:u.g,DocumentSnapshot:u.c,Query:u.d,QueryDocumentSnapshot:u.t,QuerySnapshot:u.i,CollectionReference:u.h,FieldPath:u.q,FieldValue:u.k,setLogLevel:u.e,CACHE_SIZE_UNLIMITED:u.j};(function(e,t){e.INTERNAL.registerComponent(new l.a("firestore",(function(e){return function(e,t){return new u.a(e,new u.m(e,t),new u.f)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},c)))})(r=o.a),r.registerVersion("@firebase/firestore","2.2.4"),(i=u.a).prototype.loadBundle=u.n,i.prototype.namedQuery=u.p;var f=function(e,t){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function h(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{l(i.next(e))}catch(r){a(r)}}function u(e){try{l(i.throw(e))}catch(r){a(r)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}l((i=i.apply(e,t||[])).next())}))}function d(e,t){var n,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(r){a=[6,r],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}Object.create;Object.create;var p={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},v=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}f(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error);var y=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return h(this,void 0,void 0,(function(){var e;return d(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return h(this,void 0,void 0,(function(){return d(this,(function(e){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(r){return[2,void 0]}return[2]}))}))},e.prototype.getContext=function(){return h(this,void 0,void 0,(function(){var e,t;return d(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function g(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var m=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"===typeof e||"object"===typeof e)return g(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"===typeof e||"object"===typeof e?g(e,(function(e){return t.decode(e)})):e},e}();var b=function(){function e(e,t,n,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=e,this.fetchImpl=o,this.serializer=new m,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new y(t,n),this.cancelAllRequests=new Promise((function(e){a.deleteService=function(){return e()}}));try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(r){this.customDomain=null,this.region=i}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return h(this,void 0,void 0,(function(){var r,i;return d(this,(function(o){switch(o.label){case 0:n["Content-Type"]="application/json",o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}}))}))},e.prototype.call=function(e,t,n){return h(this,void 0,void 0,(function(){var i,o,a,s,u,l,c,f,h,y,g;return d(this,(function(d){switch(d.label){case 0:return i=this._url(e),t=this.serializer.encode(t),o={data:t},a={},[4,this.contextProvider.getContext()];case 1:return(s=d.sent()).authToken&&(a.Authorization="Bearer "+s.authToken),s.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=s.instanceIdToken),u=n.timeout||7e4,l=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new v("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(u),c=l.timer,f=l.promise,[4,Promise.race([_(c,this.postJSON(i,o,a)),f,_(c,this.cancelAllRequests)])];case 2:if(!(h=d.sent()))throw new v("cancelled","Firebase Functions instance was deleted.");if(y=function(e,t,n){var i=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),o=i,a=void 0;try{var s=t&&t.error;if(s){var u=s.status;if("string"===typeof u){if(!p[u])return new v("internal","internal");i=p[u],o=u}var l=s.message;"string"===typeof l&&(o=l),void 0!==(a=s.details)&&(a=n.decode(a))}}catch(r){}return"ok"===i?null:new v(i,o,a)}(h.status,h.json,this.serializer))throw y;if(!h.json)throw new v("internal","Response is not valid JSON object.");if("undefined"===typeof(g=h.json.data)&&(g=h.json.result),"undefined"===typeof g)throw new v("internal","Response is missing data field.");return[2,{data:this.serializer.decode(g)}]}}))}))},e}();function _(e,t){return h(this,void 0,void 0,(function(){var n;return d(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}!function(e,t){var n={Functions:b};e.INTERNAL.registerComponent(new l.a("functions",(function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("messaging");return new b(i,o,a,r,t)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(o.a,fetch.bind(self)),o.a.registerVersion("@firebase/functions","0.6.7");var w=function(){return(w=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function x(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{l(i.next(e))}catch(r){a(r)}}function u(e){try{l(i.throw(e))}catch(r){a(r)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}l((i=i.apply(e,t||[])).next())}))}function T(e,t){var n,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(r){a=[6,r],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}Object.create;function k(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function O(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}Object.create;var S,A=n(43),E="0.4.25",M=1e4,C="w:0.4.25",I="FIS_v2",D=36e5,P=((S={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',S["not-registered"]="Firebase Installation is not registered.",S["installation-not-found"]="Firebase Installation not found.",S["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',S["app-offline"]="Could not process request. Application offline.",S["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",S),N=new a.b("installations","Installations",P);function L(e){return e instanceof a.c&&e.code.includes("request-failed")}function j(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function R(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function F(e,t){return x(this,void 0,void 0,(function(){var n,r;return T(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,N.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function z(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function U(e,t){var n=t.refreshToken,r=z(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}(n)),r}function q(e){return x(this,void 0,void 0,(function(){var t;return T(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function V(e,t){var n=t.fid;return x(this,void 0,void 0,(function(){var t,r,i,o,a,s;return T(this,(function(u){switch(u.label){case 0:return t=j(e),r=z(e),i={fid:n,authVersion:I,appId:e.appId,sdkVersion:C},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,q((function(){return fetch(t,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return s=u.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:R(s.authToken)}];case 3:return[4,F("Create Installation",a)];case 4:throw u.sent()}}))}))}function B(e){return new Promise((function(t){setTimeout(t,e)}))}var H=/^[cdef][\w-]{21}$/;function W(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}([],O(t)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return H.test(t)?t:""}catch(n){return""}}function Y(e){return e.appName+"!"+e.appId}var G=new Map;function K(e,t){var n=Y(e);X(n,t),function(e,t){var n=J();n&&n.postMessage({key:e,fid:t});$()}(n,t)}function X(e,t){var n,r,i=G.get(e);if(i)try{for(var o=k(i),a=o.next();!a.done;a=o.next()){(0,a.value)(t)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var Q=null;function J(){return!Q&&"BroadcastChannel"in self&&((Q=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){X(e.data.key,e.data.fid)}),Q}function $(){0===G.size&&Q&&(Q.close(),Q=null)}var Z,ee="firebase-installations-store",te=null;function ne(){return te||(te=Object(A.openDb)("firebase-installations-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(ee)}}))),te}function re(e,t){return x(this,void 0,void 0,(function(){var n,r,i,o,a;return T(this,(function(s){switch(s.label){case 0:return n=Y(e),[4,ne()];case 1:return r=s.sent(),i=r.transaction(ee,"readwrite"),[4,(o=i.objectStore(ee)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||K(e,t.fid),[2,t]}}))}))}function ie(e){return x(this,void 0,void 0,(function(){var t,n,r;return T(this,(function(i){switch(i.label){case 0:return t=Y(e),[4,ne()];case 1:return n=i.sent(),[4,(r=n.transaction(ee,"readwrite")).objectStore(ee).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function oe(e,t){return x(this,void 0,void 0,(function(){var n,r,i,o,a,s;return T(this,(function(u){switch(u.label){case 0:return n=Y(e),[4,ne()];case 1:return r=u.sent(),i=r.transaction(ee,"readwrite"),[4,(o=i.objectStore(ee)).get(n)];case 2:return a=u.sent(),void 0!==(s=t(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||K(e,s.fid),[2,s]}}))}))}function ae(e){return x(this,void 0,void 0,(function(){var t,n,r;return T(this,(function(i){switch(i.label){case 0:return[4,oe(e,(function(n){var r=function(e){return le(e||{fid:W(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(N.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return x(this,void 0,void 0,(function(){var n,r;return T(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,V(e,t)];case 1:return n=i.sent(),[2,re(e,n)];case 2:return L(r=i.sent())&&409===r.customData.serverCode?[4,ie(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,re(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:se(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function se(e){return x(this,void 0,void 0,(function(){var t,n,r,i;return T(this,(function(o){switch(o.label){case 0:return[4,ue(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,B(100)];case 3:return o.sent(),[4,ue(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,ae(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function ue(e){return oe(e,(function(e){if(!e)throw N.create("installation-not-found");return le(e)}))}function le(e){return 1===(t=e).registrationStatus&&t.registrationTime+M<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function ce(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return x(this,void 0,void 0,(function(){var e,i,o,a,s,u,l;return T(this,(function(c){switch(c.label){case 0:return e=function(e,t){var n=t.fid;return j(e)+"/"+n+"/authTokens:generate"}(n,t),i=U(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:C}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,q((function(){return fetch(e,s)}))];case 1:return(u=c.sent()).ok?[4,u.json()]:[3,3];case 2:return l=c.sent(),[2,R(l)];case 3:return[4,F("Generate Auth Token",u)];case 4:throw c.sent()}}))}))}function fe(e,t){return void 0===t&&(t=!1),x(this,void 0,void 0,(function(){var n,r,i;return T(this,(function(o){switch(o.label){case 0:return[4,oe(e.appConfig,(function(r){if(!de(r))throw N.create("not-registered");var i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+D}(e)}(i))return r;if(1===i.requestStatus)return n=function(e,t){return x(this,void 0,void 0,(function(){var n,r;return T(this,(function(i){switch(i.label){case 0:return[4,he(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,B(100)];case 3:return i.sent(),[4,he(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,fe(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw N.create("app-offline");var o=function(e){var t={requestStatus:1,requestTime:Date.now()};return w(w({},e),{authToken:t})}(r);return n=function(e,t){return x(this,void 0,void 0,(function(){var n,r,i;return T(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,ce(e,t)];case 1:return n=o.sent(),i=w(w({},t),{authToken:n}),[4,re(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!L(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,ie(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=w(w({},t),{authToken:{requestStatus:0}}),[4,re(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function he(e){return oe(e,(function(e){if(!de(e))throw N.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+M<Date.now()?w(w({},e),{authToken:{requestStatus:0}}):e}))}function de(e){return void 0!==e&&2===e.registrationStatus}function pe(e){return x(this,void 0,void 0,(function(){var t;return T(this,(function(n){switch(n.label){case 0:return[4,ae(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function ve(e,t){return x(this,void 0,void 0,(function(){var n,r,i,o;return T(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return j(e)+"/"+n}(e,t),r=U(e,t),i={method:"DELETE",headers:r},[4,q((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,F("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function ye(e,t){var n=e.appConfig;return function(e,t){J();var n=Y(e),r=G.get(n);r||(r=new Set,G.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=Y(e),r=G.get(n);r&&(r.delete(t),0===r.size&&G.delete(n),$())}(n,t)}}function ge(e){return N.create("missing-app-config-values",{valueName:e})}(Z=o.a).INTERNAL.registerComponent(new l.a("installations",(function(e){var t=e.getProvider("app").getImmediate(),n={appConfig:function(e){var t,n;if(!e||!e.options)throw ge("App Configuration");if(!e.name)throw ge("App Name");try{for(var r=k(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw ge(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:e.getProvider("platform-logger")};return{app:t,getId:function(){return function(e){return x(this,void 0,void 0,(function(){var t,n,r;return T(this,(function(i){switch(i.label){case 0:return[4,ae(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):fe(e).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),x(this,void 0,void 0,(function(){return T(this,(function(n){switch(n.label){case 0:return[4,pe(e.appConfig)];case 1:return n.sent(),[4,fe(e,t)];case 2:return[2,n.sent().token]}}))}))}(n,e)},delete:function(){return function(e){return x(this,void 0,void 0,(function(){var t,n;return T(this,(function(r){switch(r.label){case 0:return[4,oe(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw N.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw N.create("app-offline");case 3:return[4,ve(t,n)];case 4:return r.sent(),[4,ie(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(e){return ye(n,e)}}}),"PUBLIC")),Z.registerVersion("@firebase/installations",E);var me=function(){return(me=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function be(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{l(i.next(e))}catch(r){a(r)}}function u(e){try{l(i.throw(e))}catch(r){a(r)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}l((i=i.apply(e,t||[])).next())}))}function _e(e,t){var n,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(r){a=[6,r],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}Object.create;function we(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function xe(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var Te;Object.create;var ke,Oe=((Te={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Te["only-available-in-window"]="This method is available in a Window context.",Te["only-available-in-sw"]="This method is available in a service worker context.",Te["permission-default"]="The notification permission was not granted and dismissed instead.",Te["permission-blocked"]="The notification permission was not granted and blocked instead.",Te["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Te["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Te["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Te["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Te["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Te["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Te["token-update-no-token"]="FCM returned no token when updating the user to push.",Te["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Te["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Te["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Te["invalid-vapid-key"]="The public VAPID key must be a string.",Te["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Te),Se=new a.b("messaging","Messaging",Oe),Ae="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ee="google.c.a.c_id";function Me(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}([],xe(t)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ce(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(ke||(ke={}));var Ie="fcm_token_details_db",De="fcm_token_object_Store";function Pe(e){return be(this,void 0,void 0,(function(){var t,n,r=this;return _e(this,(function(i){switch(i.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=i.sent(),!t.map((function(e){return e.name})).includes(Ie))return[2,null];i.label=2;case 2:return n=null,[4,Object(A.openDb)(Ie,5,(function(t){return be(r,void 0,void 0,(function(){var r,i,o,a;return _e(this,(function(s){switch(s.label){case 0:return t.oldVersion<2?[2]:t.objectStoreNames.contains(De)?[4,(r=t.transaction.objectStore(De)).index("fcmSenderId").get(e)]:[2];case 1:return i=s.sent(),[4,r.clear()];case 2:if(s.sent(),!i)return[2];if(2===t.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];n={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"===typeof o.vapidKey?o.vapidKey:Me(o.vapidKey)}}}else(3===t.oldVersion||4===t.oldVersion)&&(n={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:Me(o.auth),p256dh:Me(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:Me(o.vapidKey)}});return[2]}}))}))}))];case 3:return i.sent().close(),[4,Object(A.deleteDb)(Ie)];case 4:return i.sent(),[4,Object(A.deleteDb)("fcm_vapid_details_db")];case 5:return i.sent(),[4,Object(A.deleteDb)("undefined")];case 6:return i.sent(),[2,Ne(n)?n:null]}}))}))}function Ne(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var Le="firebase-messaging-store",je=null;function Re(){return je||(je=Object(A.openDb)("firebase-messaging-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(Le)}}))),je}function Fe(e){return be(this,void 0,void 0,(function(){var t,n,r;return _e(this,(function(i){switch(i.label){case 0:return t=qe(e),[4,Re()];case 1:return[4,i.sent().transaction(Le).objectStore(Le).get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,Pe(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,ze(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function ze(e,t){return be(this,void 0,void 0,(function(){var n,r,i;return _e(this,(function(o){switch(o.label){case 0:return n=qe(e),[4,Re()];case 1:return r=o.sent(),[4,(i=r.transaction(Le,"readwrite")).objectStore(Le).put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}}))}))}function Ue(e){return be(this,void 0,void 0,(function(){var t,n,r;return _e(this,(function(i){switch(i.label){case 0:return t=qe(e),[4,Re()];case 1:return n=i.sent(),[4,(r=n.transaction(Le,"readwrite")).objectStore(Le).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function qe(e){return e.appConfig.appId}function Ve(e,t){return be(this,void 0,void 0,(function(){var n,r,i,o,a,s;return _e(this,(function(u){switch(u.label){case 0:return[4,Ye(e)];case 1:n=u.sent(),r=Ge(t),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(We(e.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),Se.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,Se.create("token-subscribe-failed",{errorInfo:s});if(!o.token)throw Se.create("token-subscribe-no-token");return[2,o.token]}}))}))}function Be(e,t){return be(this,void 0,void 0,(function(){var n,r,i,o,a,s;return _e(this,(function(u){switch(u.label){case 0:return[4,Ye(e)];case 1:n=u.sent(),r=Ge(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(We(e.appConfig)+"/"+t.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),Se.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,Se.create("token-update-failed",{errorInfo:s});if(!o.token)throw Se.create("token-update-no-token");return[2,o.token]}}))}))}function He(e,t){return be(this,void 0,void 0,(function(){var n,r,i,o,a;return _e(this,(function(s){switch(s.label){case 0:return[4,Ye(e)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(We(e.appConfig)+"/"+t,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,Se.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),Se.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}}))}))}function We(e){return"https://fcmregistrations.googleapis.com/v1/projects/"+e.projectId+"/registrations"}function Ye(e){var t=e.appConfig,n=e.installations;return be(this,void 0,void 0,(function(){var e;return _e(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function Ge(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,o={web:{endpoint:r,auth:n,p256dh:t}};return i!==Ae&&(o.web.applicationPubKey=i),o}function Ke(e,t,n){return be(this,void 0,void 0,(function(){var r,i,o,a;return _e(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw Se.create("permission-blocked");return[4,$e(t,n)];case 1:return r=s.sent(),[4,Fe(e)];case 2:return i=s.sent(),o={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:Me(r.getKey("auth")),p256dh:Me(r.getKey("p256dh"))},i?[3,3]:[2,Je(e,o)];case 3:if(function(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&i&&o}(i.subscriptionOptions,o))return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,He(e,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,Je(e,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,Qe({token:i.token,createTime:Date.now(),subscriptionOptions:o},e,t)]:[2,i.token];case 9:return[2]}}))}))}function Xe(e,t){return be(this,void 0,void 0,(function(){var n,r;return _e(this,(function(i){switch(i.label){case 0:return[4,Fe(e)];case 1:return(n=i.sent())?[4,He(e,n.token)]:[3,4];case 2:return i.sent(),[4,Ue(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function Qe(e,t,n){return be(this,void 0,void 0,(function(){var r,i,o;return _e(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,Be(t,e)];case 1:return r=a.sent(),i=me(me({},e),{token:r,createTime:Date.now()}),[4,ze(t,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,Xe(t,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function Je(e,t){return be(this,void 0,void 0,(function(){var n,r;return _e(this,(function(i){switch(i.label){case 0:return[4,Ve(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,ze(e,r)];case 2:return i.sent(),[2,r.token]}}))}))}function $e(e,t){return be(this,void 0,void 0,(function(){var n;return _e(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ce(t)})]}}))}))}function Ze(e){return"object"===typeof e&&!!e&&Ee in e}function et(e){return new Promise((function(t){setTimeout(t,e)}))}var tt=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!==typeof e)throw Se.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return be(this,void 0,void 0,(function(){var n;return _e(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,Fe(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:Ae,r.label=2;case 2:return[2,Ke(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return Xe(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw Se.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw Se.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw Se.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw Se.create("only-available-in-window")},e.prototype.onMessage=function(){throw Se.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw Se.create("only-available-in-window")},e.prototype.onPush=function(e){return be(this,void 0,void 0,(function(){var t,n,r,i;return _e(this,(function(o){switch(o.label){case 0:return(t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}(e))?[4,ot()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,it(n,t)]:(r=!1,t.notification?[4,at(nt(t))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(e){var t={from:e.from,collapseKey:e.collapse_key};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}(t),"function"===typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,et(1e3)]);case 4:return o.sent(),[2]}}))}))},e.prototype.onSubChange=function(e){var t,n;return be(this,void 0,void 0,(function(){var r;return _e(this,(function(i){switch(i.label){case 0:return e.newSubscription?[3,2]:[4,Xe(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,Fe(this.firebaseDependencies)];case 3:return r=i.sent(),[4,Xe(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,Ke(this.firebaseDependencies,self.registration,null!==(n=null===(t=null===r||void 0===r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:Ae)];case 5:return i.sent(),[2]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return be(this,void 0,void 0,(function(){var r,i,o,a,s;return _e(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n.FCM_MSG)?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),(i=function(e){var t,n,r,i=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;if(i)return i;return Ze(e.data)?self.location.origin:null}(r))?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,rt(o)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,et(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=ke.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}}))}))},e}();function nt(e){var t,n=me({},e.notification);return n.data=((t={}).FCM_MSG=e,t),n}function rt(e){return be(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return _e(this,(function(u){switch(u.label){case 0:return[4,ot()];case 1:t=u.sent();try{for(n=we(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(l){a={error:l}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}function it(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=ke.PUSH_RECEIVED;try{for(var i=we(e),o=i.next();!o.done;o=i.next()){o.value.postMessage(t)}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function ot(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function at(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}var st=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return be(this,void 0,void 0,(function(){var t,n;return _e(this,(function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===ke.PUSH_RECEIVED&&("function"===typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),Ze(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return be(this,void 0,void 0,(function(){return _e(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw Se.create("permission-blocked");return[4,this.updateVapidKey(null===e||void 0===e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null===e||void 0===e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,Ke(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},e.prototype.updateVapidKey=function(e){return be(this,void 0,void 0,(function(){return _e(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=Ae),[2]}))}))},e.prototype.updateSwReg=function(e){return be(this,void 0,void 0,(function(){return _e(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw Se.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},e.prototype.registerDefaultSw=function(){return be(this,void 0,void 0,(function(){var e,t;return _e(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=n.sent(),Se.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},e.prototype.deleteToken=function(){return be(this,void 0,void 0,(function(){return _e(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,Xe(this.firebaseDependencies,this.swRegistration)]}}))}))},e.prototype.requestPermission=function(){return be(this,void 0,void 0,(function(){var e;return _e(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?Se.create("permission-blocked"):Se.create("permission-default")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw Se.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw Se.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw Se.create("invalid-sw-registration");if(this.swRegistration)throw Se.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw Se.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw Se.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return be(this,void 0,void 0,(function(){var n;return _e(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case ke.NOTIFICATION_CLICKED:return"notification_open";case ke.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t["google.c.a.c_id"],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}();function ut(e){return Se.create("missing-app-config-values",{valueName:e})}var lt={isSupported:ct};function ct(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}o.a.INTERNAL.registerComponent(new l.a("messaging",(function(e){var t=e.getProvider("app").getImmediate(),n={app:t,appConfig:function(e){var t,n;if(!e||!e.options)throw ut("App Configuration Object");if(!e.name)throw ut("App Name");var r=e.options;try{for(var i=we(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw ut(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!ct())throw Se.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new tt(n):new st(n)}),"PUBLIC").setServiceProps(lt));var ft=function(e,t){return(ft=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};var ht=function(){return(ht=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function dt(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{l(i.next(e))}catch(r){a(r)}}function u(e){try{l(i.throw(e))}catch(r){a(r)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}l((i=i.apply(e,t||[])).next())}))}function pt(e,t){var n,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(r){a=[6,r],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}Object.create;function vt(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}Object.create;var yt="firebasestorage.googleapis.com",gt=function(e){function t(n,r){var i=e.call(this,mt(n),"Firebase Storage: "+r+" ("+mt(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,t.prototype),i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ft(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype._codeEquals=function(e){return mt(e)===this.code},Object.defineProperty(t.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e},enumerable:!1,configurable:!0}),t}(a.c);function mt(e){return"storage/"+e}function bt(){return new gt("unknown","An unknown error occurred, please check the error payload for server response.")}function _t(){return new gt("canceled","User canceled the upload/download.")}function wt(){return new gt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function xt(e){return new gt("invalid-argument",e)}function Tt(){return new gt("app-deleted","The Firebase app was deleted.")}function kt(e){return new gt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ot(e,t){return new gt("invalid-format","String does not match format '"+e+"': "+t)}function St(e){throw new gt("internal-error","Internal error: "+e)}var At={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Et=function(e,t){this.data=e,this.contentType=t||null};function Mt(e,t){switch(e){case At.RAW:return new Et(Ct(t));case At.BASE64:case At.BASE64URL:return new Et(It(e,t));case At.DATA_URL:return new Et(function(e){var t=new Dt(e);return t.base64?It(At.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(r){throw Ot(At.DATA_URL,"Malformed data URL.")}return Ct(t)}(t.rest)}(t),new Dt(t).contentType)}throw bt()}function Ct(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function It(e,t){switch(e){case At.BASE64:var n=-1!==t.indexOf("-"),i=-1!==t.indexOf("_");if(n||i)throw Ot(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case At.BASE64URL:var o=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(o||a)throw Ot(e,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(t)}catch(r){throw Ot(e,"Invalid character found")}for(var u=new Uint8Array(s.length),l=0;l<s.length;l++)u[l]=s.charCodeAt(l);return u}var Dt=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw Ot(At.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1);var r,i};var Pt,Nt={STATE_CHANGED:"state_changed"},Lt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function jt(e){switch(e){case"running":case"pausing":case"canceling":return Lt.RUNNING;case"paused":return Lt.PAUSED;case"success":return Lt.SUCCESS;case"canceled":return Lt.CANCELED;case"error":default:return Lt.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Pt||(Pt={}));var Rt=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Pt.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=Pt.ABORT,t(e)})),e.xhr_.addEventListener("error",(function(){e.errorCode_=Pt.NETWORK_ERROR,t(e)})),e.xhr_.addEventListener("load",(function(){t(e)}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw St("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw St("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw St("cannot .getStatus() before sending");try{return this.xhr_.status}catch(r){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw St("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}(),Ft=function(){function e(){}return e.prototype.createXhrIo=function(){return new Rt},e}(),zt=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var i;try{i=e.makeFromUrl(t,n)}catch(r){return new e(t,"")}if(""===i.path)return i;throw new gt("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://"+(n===yt?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:a}],l=0;l<u.length;l++){var c=u[l],f=c.regex.exec(t);if(f){var h=f[c.indices.bucket],d=f[c.indices.path];d||(d=""),r=new e(h,d),c.postModify(r);break}}if(null==r)throw function(e){return new gt("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),Ut=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function qt(e){return"string"===typeof e||e instanceof String}function Vt(e){return Bt()&&e instanceof Blob}function Bt(){return"undefined"!==typeof Blob}function Ht(e,t,n,r){if(r<t)throw xt("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw xt("Invalid value for '"+e+"'. Expected "+n+" or less.")}function Wt(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null===n||void 0===n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function Yt(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}var Gt=function(){function e(e,t,n,r,i,o,a,s,u,l,c){var f=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=l,this.timeout_=u,this.pool_=c,this.promise_=new Promise((function(e,t){f.resolve_=e,f.reject_=t,f.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var i,o=e.resolve_,a=e.reject_,s=n.xhr;if(n.wasSuccessCode)try{var u=e.callback_(s,s.getResponseText());void 0!==u?o(u):o()}catch(r){a(r)}else null!==s?((i=bt()).serverResponse=s.getResponseText(),e.errorCallback_?a(e.errorCallback_(s,i)):a(i)):n.canceled?a(i=e.appDelete_?Tt():_t()):a(i=new gt("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new Kt(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function l(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];u||(u=!0,t.apply(null,e))}function c(t){i=setTimeout((function(){i=null,e(f,s())}),t)}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!u)if(e)l.call.apply(l,vt([null,e],t));else{var i;s()||o?l.call.apply(l,vt([null,e],t)):(r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),c(i))}}var h=!1;function d(e){h||(h=!0,u||(null!==i?(e||(a=2),clearTimeout(i),c(0)):e||(a=1)))}return c(0),setTimeout((function(){o=!0,d(!0)}),n),d}((function(t,n){if(n)t(!1,new Kt(!1,null,!0));else{var r=e.pool_.createXhrIo();e.pendingXhr_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(n){null!==e.progressCallback_&&n.removeUploadProgressListener(i),e.pendingXhr_=null;var r=(n=n).getErrorCode()===Pt.NO_ERROR,o=n.getStatus();if(r&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new Kt(a,n))}else{var s=n.getErrorCode()===Pt.ABORT;t(!1,new Kt(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),Kt=function(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n};function Xt(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Qt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Xt();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(Bt())return new Blob(e);throw new gt("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Jt=function(){function e(e,t){var n=0,r="";Vt(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(Vt(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Bt()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(Qt.apply(null,r))}var i=t.map((function(e){return qt(e)?Mt(At.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function $t(e){var t,n;try{t=JSON.parse(e)}catch(r){return null}return"object"!==typeof(n=t)||Array.isArray(n)?null:t}function Zt(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function en(e,t){return t}var tn=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||en},nn=null;function rn(){if(nn)return nn;var e=[];e.push(new tn("bucket")),e.push(new tn("generation")),e.push(new tn("metageneration")),e.push(new tn("name","fullPath",!0));var t=new tn("name");t.xform=function(e,t){return function(e){return!qt(e)||e.length<2?e:Zt(e)}(t)},e.push(t);var n=new tn("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new tn("timeCreated")),e.push(new tn("updated")),e.push(new tn("md5Hash",null,!0)),e.push(new tn("cacheControl",null,!0)),e.push(new tn("contentDisposition",null,!0)),e.push(new tn("contentEncoding",null,!0)),e.push(new tn("contentLanguage",null,!0)),e.push(new tn("contentType",null,!0)),e.push(new tn("metadata","customMetadata",!0)),nn=e}function on(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new zt(n,r);return t._makeStorageReference(i)}})}(r,e),r}function an(e,t,n){var r=$t(t);return null===r?null:on(e,r,n)}function sn(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function un(e,t,n){var r=$t(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new zt(t,a));r.prefixes.push(s)}if(n.items)for(var u=0,l=n.items;u<l.length;u++){var c=l[u];s=e._makeStorageReference(new zt(t,c.name)),r.items.push(s)}return r}(e,t,r)}var ln=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function cn(e){if(!e)throw bt()}function fn(e,t){return function(n,r){var i=an(e,r,t);return cn(null!==i),i}}function hn(e,t){return function(n,r){var i=an(e,r,t);return cn(null!==i),function(e,t,n){var r=$t(t);if(null===r)return null;if(!qt(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.bucket,i=e.fullPath;return Wt("/b/"+o(r)+"/o/"+o(i),n)+Yt({alt:"media",token:t})}))[0]}(i,r,e.host)}}function dn(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=new gt("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new gt("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new gt("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function pn(e){var t=dn(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new gt("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function vn(e,t,n){var r=Wt(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new ln(r,"GET",fn(e,n),i);return o.errorHandler=pn(t),o}function yn(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=Wt(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,u=new ln(a,"GET",function(e,t){return function(n,r){var i=un(e,t,r);return cn(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=dn(t),u}function gn(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var mn=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function bn(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){cn(!1)}return cn(!!n&&-1!==(t||["active"]).indexOf(n)),n}var _n=262144;function wn(e,t,n,r,i,o,a,s){var u=new mn(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new gt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var l=u.total-u.current,c=l;i>0&&(c=Math.min(c,i));var f=u.current,h=f+c,d={"X-Goog-Upload-Command":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},p=r.slice(f,h);if(null===p)throw wt();var v=t.maxUploadRetryTime,y=new ln(n,"POST",(function(e,n){var i,a=bn(e,["active","final"]),s=u.current+c,l=r.size();return i="final"===a?fn(t,o)(e,n):null,new mn(s,l,"final"===a,i)}),v);return y.headers=d,y.body=p.uploadData(),y.progressCallback=s||null,y.errorHandler=dn(e),y}var xn=function(e,t,n){if("function"===typeof e||null!=t||null!=n)this.next=e,this.error=t,this.complete=n;else{var r=e;this.next=r.next,this.error=r.error,this.complete=r.complete}};function Tn(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var kn=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=rn(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;this._ref.storage._getAuthToken().then((function(n){switch(t._state){case"running":e(n);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t){var n=function(e,t,n,i,o){var a=t.bucketOnlyServerUrl(),s=gn(t,i,o),u={name:s.fullPath},l=Wt(a,e.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":i.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},f=sn(s,n),h=e.maxUploadRetryTime,d=new ln(l,"POST",(function(e){var t;bn(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(r){cn(!1)}return cn(qt(t)),t}),h);return d.urlParams=u,d.headers=c,d.body=f,d.errorHandler=dn(t),d}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(n,t);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n){var i=function(e,t,n,i){var o=e.maxUploadRetryTime,a=new ln(n,"POST",(function(e){var t=bn(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(r){cn(!1)}n||cn(!1);var o=Number(n);return cn(!isNaN(o)),new mn(o,i.size(),"final"===t)}),o);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=dn(t),a}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n);e._request=o,o.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=_n*this._chunkMultiplier,n=new mn(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((function(o){var a;try{a=wn(e._ref._location,e._ref.storage,i,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(r){return e._error=r,void e._transition("error")}var s=e._ref.storage._makeRequest(a,o);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){_n*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t){var n=vn(e._ref.storage,e._ref._location,e._mappings),r=e._ref.storage._makeRequest(n,t);e._request=r,r.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=gn(t,r,i),l="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+sn(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",c="\r\n--"+s+"--",f=Jt.getBlob(l,r,c);if(null===f)throw wt();var h={name:u.fullPath},d=Wt(o,e.host),p=e.maxUploadRetryTime,v=new ln(d,"POST",fn(e,n),p);return v.urlParams=h,v.headers=a,v.body=f.uploadData(),v.errorHandler=dn(t),v}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),r=e._ref.storage._makeRequest(n,t);e._request=r,r.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=_t(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=jt(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new xn(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(jt(this._state)){case Lt.SUCCESS:Tn(this._resolve.bind(null,this.snapshot))();break;case Lt.CANCELED:case Lt.ERROR:Tn(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(jt(this._state)){case Lt.RUNNING:case Lt.PAUSED:e.next&&Tn(e.next.bind(e,this.snapshot))();break;case Lt.SUCCESS:e.complete&&Tn(e.complete.bind(e))();break;case Lt.CANCELED:case Lt.ERROR:e.error&&Tn(e.error.bind(e,this._error))();break;default:e.error&&Tn(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),On=function(){function e(e,t){this._service=e,this._location=t instanceof zt?t:zt.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new zt(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return Zt(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new zt(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw kt(e)},e}();function Sn(e){var t={prefixes:[],items:[]};return An(e,t).then((function(){return t}))}function An(e,t,n){return dt(this,void 0,void 0,(function(){var r,i,o;return pt(this,(function(a){switch(a.label){case 0:return[4,En(e,{pageToken:n})];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,An(e,t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function En(e,t){return dt(this,void 0,void 0,(function(){var n,r,i;return pt(this,(function(o){switch(o.label){case 0:return null!=t&&"number"===typeof t.maxResults&&Ht("options.maxResults",1,1e3,t.maxResults),[4,e.storage._getAuthToken()];case 1:return n=o.sent(),r=t||{},i=yn(e.storage,e._location,"/",r.pageToken,r.maxResults),[2,e.storage._makeRequest(i,n).getPromise()]}}))}))}function Mn(e,t){return dt(this,void 0,void 0,(function(){var n,r;return pt(this,(function(i){switch(i.label){case 0:return e._throwIfRoot("updateMetadata"),[4,e.storage._getAuthToken()];case 1:return n=i.sent(),r=function(e,t,n,r){var i=Wt(t.fullServerUrl(),e.host),o=sn(n,r),a=e.maxOperationRetryTime,s=new ln(i,"PATCH",fn(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=pn(t),s}(e.storage,e._location,t,rn()),[2,e.storage._makeRequest(r,n).getPromise()]}}))}))}function Cn(e){return dt(this,void 0,void 0,(function(){var t,n;return pt(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("getDownloadURL"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=function(e,t,n){var r=Wt(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new ln(r,"GET",hn(e,n),i);return o.errorHandler=pn(t),o}(e.storage,e._location,rn()),[2,e.storage._makeRequest(n,t).getPromise().then((function(e){if(null===e)throw new gt("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function In(e){return dt(this,void 0,void 0,(function(){var t,n;return pt(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("deleteObject"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=function(e,t){var n=Wt(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,i=new ln(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=pn(t),i}(e.storage,e._location),[2,e.storage._makeRequest(n,t).getPromise()]}}))}))}function Dn(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new zt(e._location.bucket,n);return new On(e.storage,r)}function Pn(e){return/^[A-Za-z]+:\/\//.test(e)}function Nn(e,t){if(e instanceof Rn){var n=e;if(null==n._bucket)throw new gt("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new On(n,n._bucket);return null!=t?Nn(r,t):r}if(void 0!==t){if(t.includes(".."))throw xt('`path` param cannot contain ".."');return Dn(e,t)}return e}function Ln(e,t){if(t&&Pn(t)){if(e instanceof Rn)return new On(e,t);throw xt("To use ref(service, url), the first argument must be a Storage instance.")}return Nn(e,t)}function jn(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:zt.makeFromBucketSpec(n,e)}var Rn=function(){function e(e,t,n,r,i){this.app=e,this._authProvider=t,this._pool=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=yt,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?zt.makeFromBucketSpec(r,this._host):jn(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=zt.makeFromBucketSpec(this._url,e):this._bucket=jn(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){Ht("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){Ht("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return dt(this,void 0,void 0,(function(){var e,t;return pt(this,(function(n){switch(n.label){case 0:return(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear(),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new On(this,e)},e.prototype._makeRequest=function(e,t){var n=this;if(this._deleted)return new Ut(Tt());var r=function(e,t,n,r,i){var o=Yt(e.urlParams),a=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(s,i),new Gt(a,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r)}(e,this._appId,t,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then((function(){return n._requests.delete(r)}),(function(){return n._requests.delete(r)})),r},e}();function Fn(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new kn(e,new Jt(t),n)}(e=Object(a.p)(e),t,n)}function zn(e){return function(e){return dt(this,void 0,void 0,(function(){var t,n;return pt(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("getMetadata"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=vn(e.storage,e._location,rn()),[2,e.storage._makeRequest(n,t).getPromise()]}}))}))}(e=Object(a.p)(e))}function Un(e,t){return Ln(e=Object(a.p)(e),t)}var qn=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),Vn=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new qn(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new qn(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"===typeof t?function(e){return t(new qn(e,i,i._ref))}:{next:t.next?function(e){return t.next(new qn(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),Bn=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new Hn(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new Hn(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),Hn=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){return new e(function(e,t){return Dn(e,t)}(this._delegate,t),this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new Vn(Fn(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=At.RAW),this._throwIfRoot("putString");var r=Mt(t,e),i=ht({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Vn(new kn(this._delegate,new Jt(r.data,!0),i),this)},e.prototype.listAll=function(){var e,t=this;return(e=this._delegate,Sn(e=Object(a.p)(e))).then((function(e){return new Bn(e,t.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return En(e=Object(a.p)(e),t)}(this._delegate,e||void 0).then((function(e){return new Bn(e,t.storage)}))},e.prototype.getMetadata=function(){return zn(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return Mn(e=Object(a.p)(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return e=this._delegate,Cn(e=Object(a.p)(e));var e},e.prototype.delete=function(){return this._throwIfRoot("delete"),e=this._delegate,In(e=Object(a.p)(e));var e},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw kt(e)},e}(),Wn=function(){function e(e,t){var n=this;this.app=e,this._delegate=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(Pn(e))throw xt("ref() expected a child path but got a URL, use refFromURL instead.");return new Hn(Un(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!Pn(e))throw xt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{zt.makeFromUrl(e,this._delegate.host)}catch(r){throw xt("refFromUrl() expected a valid full URL but got an invalid one.")}return new Hn(Un(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t){!function(e,t,n){e.host="http://"+t+":"+n}(this._delegate,e,t)},e}();function Yn(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal");return new Wn(r,new Rn(r,i,new Ft,n,o.a.SDK_VERSION))}!function(e){var t={TaskState:Lt,TaskEvent:Nt,StringFormat:At,Storage:Rn,Reference:Hn};e.INTERNAL.registerComponent(new l.a("storage",Yn,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.5.0")}(o.a);var Gn=function(){return(Gn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.create;function Kn(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}Object.create;var Xn,Qn,Jn,$n="0.4.11",Zn=$n,er="FB-PERF-TRACE-MEASURE",tr="_wt_",nr="_fcp",rr="_fid",ir="@firebase/performance/config",or="@firebase/performance/configexpire",ar="Performance",sr=((Xn={})["trace started"]="Trace {$traceName} was started before.",Xn["trace stopped"]="Trace {$traceName} is not running.",Xn["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Xn["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Xn["no window"]="Window is not available.",Xn["no app id"]="App id is not available.",Xn["no project id"]="Project id is not available.",Xn["no api key"]="Api key is not available.",Xn["invalid cc log"]="Attempted to queue invalid cc event",Xn["FB not default"]="Performance can only start when Firebase app instance is the default one.",Xn["RC response not ok"]="RC response is not ok",Xn["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Xn["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Xn["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Xn["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Xn),ur=new a.b("performance",ar,sr),lr=new s.b(ar);lr.logLevel=s.a.INFO;var cr,fr=function(){function e(e){if(this.window=e,!e)throw ur.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Object(a.x)()||(lr.info("IndexedDB is not supported by current browswer"),!1):(lr.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){this.PerformanceObserver&&new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var i=r[n];t(i)}})).observe({entryTypes:[e]})},e.getInstance=function(){return void 0===Qn&&(Qn=new e(Jn)),Qn},e}();function hr(e,t){var n=e.length-t.length;if(n<0||n>1)throw ur.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var dr,pr,vr=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=hr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=hr("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw ur.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw ur.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw ur.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===cr&&(cr=new e),cr},e}();function yr(){return dr}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"}(pr||(pr={}));var gr=["firebase_","google_","ga_"],mr=new RegExp("^[a-zA-Z]\\w*$");function br(){var e=fr.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function _r(){switch(fr.getInstance().document.visibilityState){case"visible":return pr.VISIBLE;case"hidden":return pr.HIDDEN;default:return pr.UNKNOWN}}function wr(){var e=fr.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var xr="0.0.1",Tr=!0,kr="FIREBASE_INSTALLATIONS_AUTH";function Or(e){var t=function(){var e=fr.getInstance().localStorage;if(!e)return;var t=e.getItem(or);if(!t||(n=t,!(Number(n)>Date.now())))return;var n;var r=e.getItem(ir);if(!r)return;try{return JSON.parse(r)}catch(i){return}}();return t?(Ar(t),Promise.resolve()):function(e){return function(){var e=vr.getInstance().installationsService.getToken();return e.then((function(e){})),e}().then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+vr.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+vr.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:kr+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:vr.getInstance().getAppId(),app_version:Zn,sdk_version:xr})});return fetch(r).then((function(e){if(e.ok)return e.json();throw ur.create("RC response not ok")}))})).catch((function(){lr.info(Sr)}))}(e).then(Ar).then((function(e){return function(e){var t=fr.getInstance().localStorage;if(!e||!t)return;t.setItem(ir,JSON.stringify(e)),t.setItem(or,String(Date.now()+60*vr.getInstance().configTimeToLive*60*1e3))}(e)}),(function(){}))}var Sr="Could not fetch config, will use default configs";function Ar(e){if(!e)return e;var t=vr.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=Tr,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=Er(t.tracesSamplingRate),t.logNetworkAfterSampling=Er(t.networkRequestsSamplingRate),e}function Er(e){return Math.random()<=e}var Mr,Cr=1;function Ir(){return Cr=2,Mr=Mr||function(){var e=fr.getInstance().document;return new Promise((function(t){if(e&&"complete"!==e.readyState){var n=function n(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))}().then((function(){return function(){var e=vr.getInstance().installationsService.getId();return e.then((function(e){dr=e})),e}()})).then((function(e){return Or(e)})).then((function(){return Dr()}),(function(){return Dr()}))}function Dr(){Cr=3}var Pr,Nr=1e4,Lr=3,jr=[],Rr=!1;function Fr(e){setTimeout((function(){if(0!==Lr)return jr.length?void function(){var e=jr.splice(0,1e3),t=e.map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}}));(function(e,t){return function(e){var t=vr.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||lr.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=Nr;isNaN(n)||(r=Math.max(n,r));var i=e.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(jr=Kn(Kn([],t),jr),lr.info("Retry transport request later.")),Lr=3,Fr(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:vr.getInstance().logSource,log_event:t},e).catch((function(){jr=Kn(Kn([],e),jr),Lr--,lr.info("Tries left: "+Lr+"."),Fr(Nr)}))}():Fr(Nr)}),e)}function zr(e){if(!e.eventTime||!e.message)throw ur.create("invalid cc log");jr=Kn(Kn([],jr),[e])}function Ur(e,t){Pr||(Pr=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];zr({message:e.apply(void 0,t),eventTime:Date.now()})}}(Br)),Pr(e,t)}function qr(e){var t=vr.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&fr.getInstance().requiredApisAvailable()&&(e.isAuto&&_r()!==pr.VISIBLE||(3===Cr?Vr(e):Ir().then((function(){return Vr(e)}),(function(){return Vr(e)}))))}function Vr(e){if(yr()){var t=vr.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return Ur(e,1)}),0)}}function Br(e,t){return 0===t?function(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:Hr(),network_request_metric:t};return JSON.stringify(n)}(e):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:Hr(),trace_metric:t};return JSON.stringify(r)}(e)}function Hr(){return{google_app_id:vr.getInstance().getAppId(),app_instance_id:yr(),web_app_info:{sdk_version:Zn,page_url:fr.getInstance().getUrl(),service_worker_status:br(),visibility_state:_r(),effective_connection_type:wr()},application_process_state:0}}var Wr=["_fp",nr,rr];var Yr=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=fr.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw ur.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw ur.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),qr(this)},e.prototype.record=function(e,t,n){if(e<=0)throw ur.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw ur.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=Gn({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}qr(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},e.prototype.putMetric=function(e,t){if(n=e,r=this.name,0===n.length||n.length>100||!(r&&r.startsWith(tr)&&Wr.indexOf(n)>-1)&&n.startsWith("_"))throw ur.create("invalid custom metric name",{customMetricName:e});var n,r;this.counters[e]=function(e){var t=Math.floor(e);return t<e&&lr.info("Metric value should be an Integer, setting the value as : "+t+"."),t}(t)},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n,r=!(0===(n=e).length||n.length>40)&&!gr.some((function(e){return n.startsWith(e)}))&&!!n.match(mr),i=function(e){return 0!==e.length&&e.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw ur.create("invalid attribute name",{attributeName:e});if(!i)throw ur.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return Gn({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=fr.getInstance().getUrl();if(i){var o=new e(tr+i,!0),a=Math.floor(1e3*fr.getInstance().getTimeOrigin());o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd)));if(n){var s=n.find((function(e){return"first-paint"===e.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(e){return"first-contentful-paint"===e.name}));u&&u.startTime&&o.putMetric(nr,Math.floor(1e3*u.startTime)),r&&o.putMetric(rr,Math.floor(1e3*r))}qr(o)}},e.createUserTimingTrace=function(t){qr(new e(t,!1,t))},e}();function Gr(e){var t=e;if(t&&void 0!==t.responseStart){var n=fr.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),i=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=vr.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return Ur(e,0)}),0)}}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function Kr(){yr()&&(setTimeout((function(){return function(){var e=fr.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout((function(){Yr.createOobTrace(t,n),r=void 0}),5e3);e.onFirstInputDelay((function(e){r&&(clearTimeout(r),Yr.createOobTrace(t,n,e))}))}else Yr.createOobTrace(t,n)}()}),0),setTimeout((function(){return function(){for(var e=fr.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){Gr(r[n])}e.setupObserver("resource",Gr)}()}),0),setTimeout((function(){return function(){for(var e=fr.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){Xr(r[n])}e.setupObserver("measure",Xr)}()}),0))}function Xr(e){var t=e.name;t.substring(0,er.length)!==er&&Yr.createUserTimingTrace(t)}var Qr=function(){function e(e){this.app=e,fr.getInstance().requiredApisAvailable()&&Object(a.O)().then((function(e){e&&(Rr||(Fr(5500),Rr=!0),Ir().then(Kr,Kr))})).catch((function(e){lr.info("Environment doesn't support IndexedDB: "+e)}))}return e.prototype.trace=function(e){return new Yr(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return vr.getInstance().instrumentationEnabled},set:function(e){vr.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return vr.getInstance().dataCollectionEnabled},set:function(e){vr.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();!function(e){var t=function(e,t){if("[DEFAULT]"!==e.name)throw ur.create("FB not default");if("undefined"===typeof window)throw ur.create("no window");return function(e){Jn=e}(window),vr.getInstance().firebaseAppInstance=e,vr.getInstance().installationsService=t,new Qr(e)};e.INTERNAL.registerComponent(new l.a("performance",(function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("installations").getImmediate();return t(n,r)}),"PUBLIC")),e.registerVersion("@firebase/performance",$n)}(o.a);var Jr=function(){return(Jr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function $r(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{l(i.next(e))}catch(r){a(r)}}function u(e){try{l(i.throw(e))}catch(r){a(r)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}l((i=i.apply(e,t||[])).next())}))}function Zr(e,t){var n,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(r){a=[6,r],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}Object.create;Object.create;var ei,ti,ni="https://www.googletagmanager.com/gtag/js";!function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"}(ei||(ei={})),function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(ti||(ti={}));var ri,ii=new s.b("@firebase/analytics");function oi(e,t,n,r,i,o){return $r(this,void 0,void 0,(function(){var a,s,u,l;return Zr(this,(function(c){switch(c.label){case 0:a=r[i],c.label=1;case 1:return c.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return c.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=c.sent(),(u=s.find((function(e){return e.measurementId===i})))?[4,t[u.appId]]:[3,6];case 5:c.sent(),c.label=6;case 6:return[3,8];case 7:return l=c.sent(),ii.error(l),[3,8];case 8:return e(ei.CONFIG,i,o),[2]}}))}))}function ai(e,t,n,r,i){return $r(this,void 0,void 0,(function(){var o,a,s,u,l,c,f,h;return Zr(this,(function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=d.sent(),u=function(e){var n=s.find((function(t){return t.measurementId===e})),r=n&&t[n.appId];if(!r)return o=[],"break";o.push(r)},l=0,c=a;l<c.length&&(f=c[l],"break"!==u(f));l++);d.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return d.sent(),e(ei.EVENT,r,i||{}),[3,5];case 4:return h=d.sent(),ii.error(h),[3,5];case 5:return[2]}}))}))}function si(e,t,n,r,i){var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){return function(i,o,a){return $r(this,void 0,void 0,(function(){var s;return Zr(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==ei.EVENT?[3,2]:[4,ai(e,t,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==ei.CONFIG?[3,4]:[4,oi(e,t,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:e(ei.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),ii.error(s),[3,7];case 7:return[2]}}))}))}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}var ui=((ri={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",ri["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",ri["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",ri["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",ri["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",ri["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",ri["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",ri["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',ri["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',ri),li=new a.b("analytics","Analytics",ui),ci=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function fi(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function hi(e){var t;return $r(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Zr(this,(function(l){switch(l.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:fi(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=l.sent()).status||304===a.status)return[3,6];s="",l.label=2;case 2:return l.trys.push([2,4,,5]),[4,a.json()];case 3:return u=l.sent(),(null===(t=u.error)||void 0===t?void 0:t.message)&&(s=u.error.message),[3,5];case 4:return l.sent(),[3,5];case 5:throw li.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}}))}))}function di(e,t,n,r){var i=t.throttleEndTimeMillis,o=t.backoffCount;return void 0===r&&(r=ci),$r(this,void 0,void 0,(function(){var t,s,u,l,c,f,h;return Zr(this,(function(d){switch(d.label){case 0:t=e.appId,s=e.measurementId,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,pi(n,i)];case 2:return d.sent(),[3,4];case 3:if(u=d.sent(),s)return ii.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]"),[2,{appId:t,measurementId:s}];throw u;case 4:return d.trys.push([4,6,,7]),[4,hi(e)];case 5:return l=d.sent(),r.deleteThrottleMetadata(t),[2,l];case 6:if(!function(e){if(!(e instanceof a.c)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(c=d.sent())){if(r.deleteThrottleMetadata(t),s)return ii.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:t,measurementId:s}];throw c}return f=503===Number(c.customData.httpStatus)?Object(a.j)(o,r.intervalMillis,30):Object(a.j)(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+f,backoffCount:o+1},r.setThrottleMetadata(t,h),ii.debug("Calling attemptFetch again in "+f+" millis"),[2,di(e,h,n,r)];case 7:return[2]}}))}))}function pi(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(li.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var vi=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}();function yi(e,t,n,r,i,o){return $r(this,void 0,void 0,(function(){var s,u,l,c,f,h,d;return Zr(this,(function(p){switch(p.label){case 0:return(s=function(e,t,n){return void 0===t&&(t=ci),$r(this,void 0,void 0,(function(){var r,i,o,a,s,u,l=this;return Zr(this,(function(c){if(r=e.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw li.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw li.create("no-api-key")}return s=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new vi,setTimeout((function(){return $r(l,void 0,void 0,(function(){return Zr(this,(function(e){return u.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,di({appId:i,apiKey:o,measurementId:a},s,u,t)]}))}))}(e)).then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&ii.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return ii.error(e)})),t.push(s),u=function(){return $r(this,void 0,void 0,(function(){var e;return Zr(this,(function(t){switch(t.label){case 0:return Object(a.x)()?[3,1]:(ii.warn(li.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,Object(a.O)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),ii.warn(li.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){return e?r.getId():void 0})),[4,Promise.all([s,u])];case 1:return l=p.sent(),c=l[0],f=l[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(ni))return r}return null}()||function(e,t){var n=document.createElement("script");n.src=ni+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(d={}).origin="firebase",d.update=!0,h=d,null!=f&&(h.firebase_id=f),i(ei.CONFIG,c.measurementId,h),[2,c.measurementId]}}))}))}var gi,mi,bi={},_i=[],wi={},xi="dataLayer",Ti="gtag",ki=!1;function Oi(e){if(ki)throw li.create("already-initialized");e.dataLayerName&&(xi=e.dataLayerName),e.gtagName&&(Ti=e.gtagName)}function Si(e,t){!function(){var e=[];if(Object(a.t)()&&e.push("This is a browser extension environment."),Object(a.e)()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),n=li.create("invalid-analytics-context",{errorInfo:t});ii.warn(n.message)}}();var n=e.options.appId;if(!n)throw li.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw li.create("no-api-key");ii.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=bi[n])throw li.create("already-exists",{id:n});if(!ki){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(xi);var r=si(bi,_i,wi,xi,Ti),i=r.wrappedGtag,o=r.gtagCore;mi=i,gi=o,ki=!0}return bi[n]=yi(e,_i,wi,t,gi,xi),{app:e,logEvent:function(e,t,r){(function(e,t,n,r,i){return $r(this,void 0,void 0,(function(){var o,a;return Zr(this,(function(s){switch(s.label){case 0:return i&&i.global?(e(ei.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=s.sent(),a=Jr(Jr({},r),{send_to:o}),e(ei.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})(mi,bi[n],e,t,r).catch((function(e){return ii.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return $r(this,void 0,void 0,(function(){var i;return Zr(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(ei.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(ei.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(mi,bi[n],e,t).catch((function(e){return ii.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return $r(this,void 0,void 0,(function(){var i;return Zr(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(ei.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(ei.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(mi,bi[n],e,t).catch((function(e){return ii.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return $r(this,void 0,void 0,(function(){var i,o,a,s,u;return Zr(this,(function(l){switch(l.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return e(ei.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:u=l.sent(),e(ei.CONFIG,u,{update:!0,user_properties:n}),l.label=3;case 3:return[2]}}))}))})(mi,bi[n],e,t).catch((function(e){return ii.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return $r(this,void 0,void 0,(function(){var n;return Zr(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(bi[n],e).catch((function(e){return ii.error(e)}))},INTERNAL:{delete:function(){return delete bi[n],Promise.resolve()}}}}var Ai="analytics";function Ei(){return $r(this,void 0,void 0,(function(){return Zr(this,(function(e){switch(e.label){case 0:if(Object(a.t)())return[2,!1];if(!Object(a.e)())return[2,!1];if(!Object(a.x)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Object(a.O)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}!function(e){e.INTERNAL.registerComponent(new l.a(Ai,(function(e){return Si(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:Oi,EventName:ti,isSupported:Ei})),e.INTERNAL.registerComponent(new l.a("analytics-internal",(function(e){try{return{logEvent:e.getProvider(Ai).getImmediate().logEvent}}catch(r){throw li.create("interop-component-reg-failed",{reason:r})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.9")}(o.a);var Mi=function(){return(Mi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Ci(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{l(i.next(e))}catch(r){a(r)}}function u(e){try{l(i.throw(e))}catch(r){a(r)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}l((i=i.apply(e,t||[])).next())}))}function Ii(e,t){var n,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(r){a=[6,r],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}Object.create;Object.create;var Di,Pi=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return Ci(this,void 0,void 0,(function(){var t,n,r,i,o;return Ii(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=a.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},e}(),Ni=((Di={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",Di["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",Di["registration-api-key"]="Undefined API key. Check Firebase app initialization.",Di["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",Di["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Di["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Di["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Di["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",Di["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Di["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',Di["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',Di["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Di["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Di),Li=new a.b("remoteconfig","Remote Config",Ni);var ji=function(){function e(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return e.prototype.fetch=function(e){return Ci(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,l,c,f,h,d,p,v,y,g,m,b;return Ii(this,(function(_){switch(_.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=_.sent(),n=t[0],r=t[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===w&&(w=navigator),w.languages&&w.languages[0]||w.language)},u={method:"POST",headers:a,body:JSON.stringify(s)},l=fetch(o,u),c=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),_.label=2;case 2:return _.trys.push([2,5,,6]),[4,Promise.race([l,c])];case 3:return _.sent(),[4,l];case 4:return f=_.sent(),[3,6];case 5:throw h=_.sent(),d="fetch-client-network","AbortError"===h.name&&(d="fetch-timeout"),Li.create(d,{originalErrorMessage:h.message});case 6:if(p=f.status,v=f.headers.get("ETag")||void 0,200!==f.status)return[3,11];m=void 0,_.label=7;case 7:return _.trys.push([7,9,,10]),[4,f.json()];case 8:return m=_.sent(),[3,10];case 9:throw b=_.sent(),Li.create("fetch-client-parse",{originalErrorMessage:b.message});case 10:y=m.entries,g=m.state,_.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===g?p=500:"NO_CHANGE"===g?p=304:"NO_TEMPLATE"!==g&&"EMPTY_CONFIG"!==g||(y={}),304!==p&&200!==p)throw Li.create("fetch-status",{httpStatus:p});return[2,{status:p,eTag:v,config:y}]}var w}))}))},e}(),Ri=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),Fi=["1","true","t","yes","y","on"],zi=function(){function e(e,t){void 0===t&&(t=""),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&Fi.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),Ui=function(){function e(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=s.a.DEBUG;break;case"silent":this._logger.logLevel=s.a.SILENT;break;default:this._logger.logLevel=s.a.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return Ci(this,void 0,void 0,(function(){var e,t,n;return Ii(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),t=e[0],n=e[1],t&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},e.prototype.fetch=function(){return Ci(this,void 0,void 0,(function(){var e,t,n,r=this;return Ii(this,(function(i){switch(i.label){case 0:e=new Ri,setTimeout((function(){return Ci(r,void 0,void 0,(function(){return Ii(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return t=i.sent(),n=function(e,t){return e instanceof a.c&&-1!==e.code.indexOf(t)}(t,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),t;case 6:return[2]}}))}))},e.prototype.fetchAndActivate=function(){return Ci(this,void 0,void 0,(function(){return Ii(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},e.prototype.getAll=function(){var e=this;return function(e,t){void 0===e&&(e={});void 0===t&&(t={});return Object.keys(Mi(Mi({},e),t))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(t,n){return t[n]=e.getValue(n),t}),{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new zi("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new zi("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new zi("static"))},e}();function qi(e,t){var n=e.target.error||void 0;return Li.create(t,{originalErrorMessage:n&&n.message})}var Vi="app_namespace_store";var Bi=function(){function e(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t(qi(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(Vi,{keyPath:"compositeKey"})}}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return Ci(this,void 0,void 0,(function(){var t,n=this;return Ii(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return t=i.sent(),[2,new Promise((function(i,o){var a=t.transaction([Vi],"readonly").objectStore(Vi),s=n.createCompositeKey(e);try{var u=a.get(s);u.onerror=function(e){o(qi(e,"storage-get"))},u.onsuccess=function(e){var t=e.target.result;i(t?t.value:void 0)}}catch(r){o(Li.create("storage-get",{originalErrorMessage:r&&r.message}))}}))]}}))}))},e.prototype.set=function(e,t){return Ci(this,void 0,void 0,(function(){var n,i=this;return Ii(this,(function(o){switch(o.label){case 0:return[4,this.openDbPromise];case 1:return n=o.sent(),[2,new Promise((function(o,a){var s=n.transaction([Vi],"readwrite").objectStore(Vi),u=i.createCompositeKey(e);try{var l=s.put({compositeKey:u,value:t});l.onerror=function(e){a(qi(e,"storage-set"))},l.onsuccess=function(){o()}}catch(r){a(Li.create("storage-set",{originalErrorMessage:r&&r.message}))}}))]}}))}))},e.prototype.delete=function(e){return Ci(this,void 0,void 0,(function(){var t,n=this;return Ii(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return t=i.sent(),[2,new Promise((function(i,o){var a=t.transaction([Vi],"readwrite").objectStore(Vi),s=n.createCompositeKey(e);try{var u=a.delete(s);u.onerror=function(e){o(qi(e,"storage-delete"))},u.onsuccess=function(){i()}}catch(r){o(Li.create("storage-delete",{originalErrorMessage:r&&r.message}))}}))]}}))}))},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),Hi=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return Ci(this,void 0,void 0,(function(){var e,t,n,r,i,o;return Ii(this,(function(a){switch(a.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}}))}))},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}();function Wi(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(Li.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var Yi,Gi=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return Ci(this,void 0,void 0,(function(){var t;return Ii(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return Ci(this,void 0,void 0,(function(){var t,i,o;return Ii(this,(function(s){switch(s.label){case 0:return[4,Wi(e.signal,n)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=s.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return s.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof a.c)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i=s.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+Object(a.j)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return s.sent(),[2,this.attemptFetch(e,o)];case 7:return[2]}}))}))},e}(),Ki="@firebase/remote-config";(Yi=o.a).INTERNAL.registerComponent(new l.a("remoteConfig",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"===typeof window)throw Li.create("registration-window");var o=r.options,a=o.projectId,u=o.apiKey,l=o.appId;if(!a)throw Li.create("registration-project-id");if(!u)throw Li.create("registration-api-key");if(!l)throw Li.create("registration-app-id");n=n||"firebase";var c=new Bi(l,r.name,n),f=new Hi(c),h=new s.b(Ki);h.logLevel=s.a.ERROR;var d=new ji(i,Yi.SDK_VERSION,n,a,u,l),p=new Gi(d,c),v=new Pi(p,c,f,h),y=new Ui(r,v,f,c,h);return y.ensureInitialized(),y}),"PUBLIC").setMultipleInstances(!0)),Yi.registerVersion(Ki,"0.1.36");o.a.registerVersion("firebase","8.4.1","app");console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),o.a.registerVersion("firebase","8.4.1")},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(26),i=n(48);var o=n(59);function a(e,t,n){return(a=Object(o.a)()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Object(i.a)(o,n.prototype),o}).apply(null,arguments)}function s(e){var t="function"===typeof Map?new Map:void 0;return(s=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return a(e,arguments,Object(r.a)(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Object(i.a)(o,e)})(e)}},,,,function(e,t,n){"use strict";var r=n(62),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var l=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),o=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),a=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),l=f("react.memo"),c=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function g(){}function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=m.prototype=new g;b.constructor=m,r(b,y.prototype),b.isPureReactComponent=!0;var _={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:_.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var O=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===r?"."+S(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(O,"$&/")+"/"),A(a,t,n,"",(function(e){return e}))):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(O,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=r+S(s=e[l],l);u+=A(s,t,n,c,a)}else if("function"===typeof(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e)))for(e=c.call(e),l=0;!(s=e.next()).done;)u+=A(s=s.value,t,n,c=r+S(s,l++),a);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function E(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function M(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var C={current:null};function I(){var e=C.current;if(null===e)throw Error(d(321));return e}var D={ReactCurrentDispatcher:C,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:_,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:E,forEach:function(e,t,n){E(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return E(e,(function(){t++})),t},toArray:function(e){return E(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error(d(143));return e}},t.Component=y,t.PureComponent=m,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!x.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){l=Array(c);for(var f=0;f<c;f++)l[f]=arguments[f+2];o.children=l}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return I().useCallback(e,t)},t.useContext=function(e,t){return I().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return I().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return I().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return I().useLayoutEffect(e,t)},t.useMemo=function(e,t){return I().useMemo(e,t)},t.useReducer=function(e,t,n){return I().useReducer(e,t,n)},t.useRef=function(e){return I().useRef(e)},t.useState=function(e){return I().useState(e)},t.version="17.0.1"},function(e,t,n){"use strict";var r=n(1),i=n(62),o=n(95);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function y(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,b);g[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,b);g[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,b);g[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,T=60106,k=60107,O=60108,S=60114,A=60109,E=60110,M=60112,C=60113,I=60120,D=60115,P=60116,N=60121,L=60128,j=60129,R=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var z=Symbol.for;x=z("react.element"),T=z("react.portal"),k=z("react.fragment"),O=z("react.strict_mode"),S=z("react.profiler"),A=z("react.provider"),E=z("react.context"),M=z("react.forward_ref"),C=z("react.suspense"),I=z("react.suspense_list"),D=z("react.memo"),P=z("react.lazy"),N=z("react.block"),z("react.scope"),L=z("react.opaque.id"),j=z("react.debug_trace_mode"),R=z("react.offscreen"),F=z("react.legacy_hidden")}var U,q="function"===typeof Symbol&&Symbol.iterator;function V(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=q&&e[q]||e["@@iterator"])?e:null}function B(e){if(void 0===U)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var H=!1;function W(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function Y(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case T:return"Portal";case S:return"Profiler";case O:return"StrictMode";case C:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case M:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case D:return G(e.type);case N:return G(e._render);case P:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function K(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function X(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=X(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=X(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function le(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ye,ge=(ye=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ye(e,t)}))}:ye);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_e=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){_e.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Te=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(e,t){if(t){if(Te[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Oe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ae=null,Ee=null,Me=null;function Ce(e){if(e=ei(e)){if("function"!==typeof Ae)throw Error(a(280));var t=e.stateNode;t&&(t=ni(t),Ae(e.stateNode,e.type,t))}}function Ie(e){Ee?Me?Me.push(e):Me=[e]:Ee=e}function De(){if(Ee){var e=Ee,t=Me;if(Me=Ee=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Pe(e,t){return e(t)}function Ne(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var je=Pe,Re=!1,Fe=!1;function ze(){null===Ee&&null===Me||(Le(),De())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ni(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var qe=!1;if(f)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){qe=!0}}),window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch(ye){qe=!1}function Be(e,t,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var He=!1,We=null,Ye=!1,Ge=null,Ke={onError:function(e){He=!0,We=e}};function Xe(e,t,n,r,i,o,a,s,u){He=!1,We=null,Be.apply(Ke,arguments)}function Qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Qe(e)!==e)throw Error(a(188))}function Ze(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return $e(i),e;if(o===r)return $e(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,at=[],st=null,ut=null,lt=null,ct=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function yt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&(null!==(t=ei(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=Zr(e.target);if(null!==t){var n=Qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ei(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){mt(e)&&n.delete(t)}function _t(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ei(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&mt(st)&&(st=null),null!==ut&&mt(ut)&&(ut=null),null!==lt&&mt(lt)&&(lt=null),ct.forEach(bt),ft.forEach(bt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,_t)))}function xt(e){function t(t){return wt(t,e)}if(0<at.length){wt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==lt&&wt(lt,e),ct.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)gt(n),null===n.blockedOn&&ht.shift()}function Tt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kt={animationend:Tt("Animation","AnimationEnd"),animationiteration:Tt("Animation","AnimationIteration"),animationstart:Tt("Animation","AnimationStart"),transitionend:Tt("Transition","TransitionEnd")},Ot={},St={};function At(e){if(Ot[e])return Ot[e];if(!kt[e])return e;var t,n=kt[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return Ot[e]=n[t];return e}f&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete kt.animationend.animation,delete kt.animationiteration.animation,delete kt.animationstart.animation),"TransitionEvent"in window||delete kt.transitionend.transition);var Et=At("animationend"),Mt=At("animationiteration"),Ct=At("animationstart"),It=At("transitionend"),Dt=new Map,Pt=new Map,Nt=["abort","abort",Et,"animationEnd",Mt,"animationIteration",Ct,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",It,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Dt.set(r,i),l(i,[r])}}(0,o.unstable_now)();var jt=8;function Rt(e){if(0!==(1&e))return jt=15,1;if(0!==(2&e))return jt=14,2;if(0!==(4&e))return jt=13,4;var t=24&e;return 0!==t?(jt=12,t):0!==(32&e)?(jt=11,32):0!==(t=192&e)?(jt=10,t):0!==(256&e)?(jt=9,256):0!==(t=3584&e)?(jt=8,t):0!==(4096&e)?(jt=7,4096):0!==(t=4186112&e)?(jt=6,t):0!==(t=62914560&e)?(jt=5,t):67108864&e?(jt=4,67108864):0!==(134217728&e)?(jt=3,134217728):0!==(t=805306368&e)?(jt=2,t):0!==(1073741824&e)?(jt=1,1073741824):(jt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return jt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=jt=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=Rt(u),i=jt):0!==(s&=o)&&(r=Rt(s),i=jt)}else 0!==(o=n&~a)?(r=Rt(o),i=jt):0!==s&&(r=Rt(s),i=jt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Rt(t),i<=jt)return t;jt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function zt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=qt(24&~t))?Ut(10,t):e;case 10:return 0===(e=qt(192&~t))?Ut(8,t):e;case 8:return 0===(e=qt(3584&~t))&&(0===(e=qt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=qt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function qt(e){return e&-e}function Vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Yt|0)|0},Wt=Math.log,Yt=Math.LN2;var Gt=o.unstable_UserBlockingPriority,Kt=o.unstable_runWithPriority,Xt=!0;function Qt(e,t,n,r){Re||Le();var i=$t,o=Re;Re=!0;try{Ne(i,e,t,n,r)}finally{(Re=o)||ze()}}function Jt(e,t,n,r){Kt(Gt,$t.bind(null,e,t,n,r))}function $t(e,t,n,r){var i;if(Xt)if((i=0===(4&t))&&0<at.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),at.push(e);else{var o=Zt(e,t,n,r);if(null===o)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(o,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=yt(st,e,t,n,r,i),!0;case"dragenter":return ut=yt(ut,e,t,n,r,i),!0;case"mouseover":return lt=yt(lt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ct.set(o,yt(ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ft.set(o,yt(ft.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;vt(e,r)}Dr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Se(r);if(null!==(i=Zr(i))){var o=Qe(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Je(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Dr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var ln,cn,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),vn=un(pn),yn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(ln=e.screenX-fn.screenX,cn=e.screenY-fn.screenY):cn=ln=0,fn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),gn=un(yn),mn=un(i({},yn,{dataTransfer:0})),bn=un(i({},pn,{relatedTarget:0})),_n=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=un(i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),xn=un(i({},hn,{data:0})),Tn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},On={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=On[e])&&!!t[e]}function An(){return Sn}var En=un(i({},pn,{key:function(e){if(e.key){var t=Tn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Mn=un(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),In=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=un(i({},yn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Pn=[9,13,27,32],Nn=f&&"CompositionEvent"in window,Ln=null;f&&"documentMode"in document&&(Ln=document.documentMode);var jn=f&&"TextEvent"in window&&!Ln,Rn=f&&(!Nn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),zn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ie(r),0<(t=Nr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Gn=null;function Kn(e){Sr(e,0)}function Xn(e){if(J(ti(e)))return e}function Qn(e,t){if("change"===e)return t}var Jn=!1;if(f){var $n;if(f){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Yn&&(Yn.detachEvent("onpropertychange",nr),Gn=Yn=null)}function nr(e){if("value"===e.propertyName&&Xn(Gn)){var t=[];if(Wn(t,Gn,e,Se(e)),e=Kn,Re)e(t);else{Re=!0;try{Pe(e,t)}finally{Re=!1,ze()}}}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Yn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Gn)}function or(e,t){if("click"===e)return Xn(t)}function ar(e,t){if("input"===e||"change"===e)return Xn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ur=Object.prototype.hasOwnProperty;function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ur.call(t,n[r])||!sr(e[n[r]],t[n[r]]))return!1;return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vr=f&&"documentMode"in document&&11>=document.documentMode,yr=null,gr=null,mr=null,br=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==yr||yr!==$(r)||("selectionStart"in(r=yr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&lr(mr,r)||(mr=r,0<(r=Nr(gr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Nt,2);for(var wr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),xr=0;xr<wr.length;xr++)Pt.set(wr[xr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Or(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(Xe.apply(this,arguments),He){if(!He)throw Error(a(198));var c=We;He=!1,We=null,Ye||(Ye=!0,Ge=c)}}(r,t,void 0,e),e.currentTarget=null}function Sr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Or(i,s,l),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Or(i,s,l),o=u}}}if(Ye)throw e=Ge,Ye=!1,Ge=null,e}function Ar(e,t){var n=ri(t),r=e+"__bubble";n.has(r)||(Ir(t,e,2,!1),n.add(r))}var Er="_reactListening"+Math.random().toString(36).slice(2);function Mr(e){e[Er]||(e[Er]=!0,s.forEach((function(t){kr.has(t)||Cr(t,!1,e,null),Cr(t,!0,e,null)})))}function Cr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&kr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ri(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Ir(o,e,i,t),a.add(s))}function Ir(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Qt;break;case 1:i=Jt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!qe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=Zr(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{je(e,t,n)}finally{Fe=!1,ze()}}((function(){var r=o,i=Se(n),a=[];e:{var s=Dt.get(e);if(void 0!==s){var u=dn,l=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":u=En;break;case"focusin":l="focus",u=bn;break;case"focusout":l="blur",u=bn;break;case"beforeblur":case"afterblur":u=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Cn;break;case Et:case Mt:case Ct:u=_n;break;case It:u=In;break;case"scroll":u=vn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Mn}var c=0!==(4&t),f=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ue(p,h))&&c.push(Pr(p,v,d)))),f)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(l=n.relatedTarget||n.fromElement)||!Zr(l)&&!l[Jr])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?Zr(l):null)&&(l!==(f=Qe(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=gn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Mn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ti(u),d=null==l?s:ti(l),(s=new c(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,Zr(i)===r&&((c=new c(h,p+"enter",l,n,i)).target=d,c.relatedTarget=f,v=c),f=v,u&&l)e:{for(h=l,p=0,d=c=u;d;d=Lr(d))p++;for(d=0,v=h;v;v=Lr(v))d++;for(;0<p-d;)c=Lr(c),p--;for(;0<d-p;)h=Lr(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Lr(c),h=Lr(h)}c=null}else c=null;null!==u&&jr(a,s,u,c,!1),null!==l&&null!==f&&jr(a,f,l,c,!0)}if("select"===(u=(s=r?ti(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var y=Qn;else if(Hn(s))if(Jn)y=ar;else{y=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=or);switch(y&&(y=y(e,r))?Wn(a,y,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?ti(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(yr=g,gr=r,mr=null);break;case"focusout":mr=gr=yr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":_r(a,n,i)}var m;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Rn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(m=rn()):(tn="value"in(en=i)?en.value:en.textContent,Vn=!0)),0<(g=Nr(r,b)).length&&(b=new xn(b,e,null,n,i),a.push({event:b,listeners:g}),m?b.data=m:null!==(m=qn(n))&&(b.data=m))),(m=jn?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Nn&&Un(e,t)?(e=rn(),nn=tn=en=null,Vn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Nr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=m))}Sr(a,t)}))}function Pr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Nr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ue(e,n))&&r.unshift(Pr(e,o,i)),null!=(o=Ue(e,t))&&r.push(Pr(e,o,i))),e=e.return}return r}function Lr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function jr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Ue(n,o))&&a.unshift(Pr(n,u,s)):i||null!=(u=Ue(n,o))&&a.push(Pr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Rr(){}var Fr=null,zr=null;function Ur(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function qr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Vr="function"===typeof setTimeout?setTimeout:void 0,Br="function"===typeof clearTimeout?clearTimeout:void 0;function Hr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Wr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Gr=0;var Kr=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Kr,Qr="__reactProps$"+Kr,Jr="__reactContainer$"+Kr,$r="__reactEvents$"+Kr;function Zr(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jr]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[Xr])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ei(e){return!(e=e[Xr]||e[Jr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ti(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ni(e){return e[Qr]||null}function ri(e){var t=e[$r];return void 0===t&&(t=e[$r]=new Set),t}var ii=[],oi=-1;function ai(e){return{current:e}}function si(e){0>oi||(e.current=ii[oi],ii[oi]=null,oi--)}function ui(e,t){oi++,ii[oi]=e.current,e.current=t}var li={},ci=ai(li),fi=ai(!1),hi=li;function di(e,t){var n=e.type.contextTypes;if(!n)return li;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function vi(){si(fi),si(ci)}function yi(e,t,n){if(ci.current!==li)throw Error(a(168));ui(ci,t),ui(fi,n)}function gi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,G(t)||"Unknown",o));return i({},n,r)}function mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||li,hi=ci.current,ui(ci,e),ui(fi,fi.current),!0}function bi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=gi(e,t,hi),r.__reactInternalMemoizedMergedChildContext=e,si(fi),si(ci),ui(ci,e)):si(fi),ui(fi,n)}var _i=null,wi=null,xi=o.unstable_runWithPriority,Ti=o.unstable_scheduleCallback,ki=o.unstable_cancelCallback,Oi=o.unstable_shouldYield,Si=o.unstable_requestPaint,Ai=o.unstable_now,Ei=o.unstable_getCurrentPriorityLevel,Mi=o.unstable_ImmediatePriority,Ci=o.unstable_UserBlockingPriority,Ii=o.unstable_NormalPriority,Di=o.unstable_LowPriority,Pi=o.unstable_IdlePriority,Ni={},Li=void 0!==Si?Si:function(){},ji=null,Ri=null,Fi=!1,zi=Ai(),Ui=1e4>zi?Ai:function(){return Ai()-zi};function qi(){switch(Ei()){case Mi:return 99;case Ci:return 98;case Ii:return 97;case Di:return 96;case Pi:return 95;default:throw Error(a(332))}}function Vi(e){switch(e){case 99:return Mi;case 98:return Ci;case 97:return Ii;case 96:return Di;case 95:return Pi;default:throw Error(a(332))}}function Bi(e,t){return e=Vi(e),xi(e,t)}function Hi(e,t,n){return e=Vi(e),Ti(e,t,n)}function Wi(){if(null!==Ri){var e=Ri;Ri=null,ki(e)}Yi()}function Yi(){if(!Fi&&null!==ji){Fi=!0;var e=0;try{var t=ji;Bi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ji=null}catch(n){throw null!==ji&&(ji=ji.slice(e+1)),Ti(Mi,Wi),n}finally{Fi=!1}}}var Gi=w.ReactCurrentBatchConfig;function Ki(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=ai(null),Qi=null,Ji=null,$i=null;function Zi(){$i=Ji=Qi=null}function eo(e){var t=Xi.current;si(Xi),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function no(e,t){Qi=e,$i=Ji=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Na=!0),e.firstContext=null)}function ro(e,t){if($i!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||($i=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ji){if(null===Qi)throw Error(a(308));Ji=t,Qi.dependencies={lanes:0,firstContext:t,responders:null}}else Ji=Ji.next=t;return e._currentValue}var io=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function so(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function uo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function lo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function co(e,t,n,r){var o=e.updateQueue;io=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var l=u,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=c:h.next=c,f.lastBaseUpdate=l)}}if(null!==a){for(h=o.baseState,s=0,f=c=l=null;;){u=a.lane;var d=a.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,v=a;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:io=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else d={eventTime:d,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(c=f=d,l=h):f=f.next=d,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===f&&(l=h),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=f,Fs|=s,e.lanes=s,e.memoizedState=h}}function fo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ho=(new r.Component).refs;function po(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var vo={isMounted:function(e){return!!(e=e._reactInternals)&&Qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=lu(),i=cu(e),o=so(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),uo(e,o),fu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=lu(),i=cu(e),o=so(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),uo(e,o),fu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lu(),r=cu(e),i=so(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),uo(e,i),fu(e,r,n)}};function yo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function go(e,t,n){var r=!1,i=li,o=t.contextType;return"object"===typeof o&&null!==o?o=ro(o):(i=pi(t)?hi:ci.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?di(e,i):li),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=vo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function mo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function bo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ho,oo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ro(o):(o=pi(t)?hi:ci.current,i.context=di(e,o)),co(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(po(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&vo.enqueueReplaceState(i,i.state,null),co(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var _o=Array.isArray;function wo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===ho&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function xo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function To(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Bu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Gu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=wo(e,t,n),r.return=e,r):((r=Hu(n.type,n.key,n.props,null,e.mode,r)).ref=wo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ku(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Wu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Gu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Hu(t.type,t.key,t.props,null,e.mode,n)).ref=wo(e,null,t),n.return=e,n;case T:return(t=Ku(t,e.mode,n)).return=e,t}if(_o(t)||V(t))return(t=Wu(t,e.mode,n,null)).return=e,t;xo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===k?f(e,t,n.props.children,r,i):l(e,t,n,r):null;case T:return n.key===i?c(e,t,n,r):null}if(_o(n)||V(n))return null!==i?null:f(e,t,n,r,null);xo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===k?f(t,e,r.props.children,i,r.key):l(t,e,r,i);case T:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(_o(r)||V(r))return f(t,e=e.get(n)||null,r,i,null);xo(t,r)}return null}function v(i,a,s,u){for(var l=null,c=null,f=a,v=a=0,y=null;null!==f&&v<s.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var g=d(i,f,s[v],u);if(null===g){null===f&&(f=y);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===c?l=g:c.sibling=g,c=g,f=y}if(v===s.length)return n(i,f),l;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===c?l=f:c.sibling=f,c=f);return l}for(f=r(i,f);v<s.length;v++)null!==(y=p(f,i,v,s[v],u))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===c?l=y:c.sibling=y,c=y);return e&&f.forEach((function(e){return t(i,e)})),l}function y(i,s,u,l){var c=V(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var f=c=null,v=s,y=s=0,g=null,m=u.next();null!==v&&!m.done;y++,m=u.next()){v.index>y?(g=v,v=null):g=v.sibling;var b=d(i,v,m.value,l);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,y),null===f?c=b:f.sibling=b,f=b,v=g}if(m.done)return n(i,v),c;if(null===v){for(;!m.done;y++,m=u.next())null!==(m=h(i,m.value,l))&&(s=o(m,s,y),null===f?c=m:f.sibling=m,f=m);return c}for(v=r(i,v);!m.done;y++,m=u.next())null!==(m=p(v,i,y,m.value,l))&&(e&&null!==m.alternate&&v.delete(null===m.key?y:m.key),s=o(m,s,y),null===f?c=m:f.sibling=m,f=m);return e&&v.forEach((function(e){return t(i,e)})),c}return function(e,r,o,u){var l="object"===typeof o&&null!==o&&o.type===k&&null===o.key;l&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case x:e:{for(c=o.key,l=r;null!==l;){if(l.key===c){switch(l.tag){case 7:if(o.type===k){n(e,l.sibling),(r=i(l,o.props.children)).return=e,e=r;break e}break;default:if(l.elementType===o.type){n(e,l.sibling),(r=i(l,o.props)).ref=wo(e,l,o),r.return=e,e=r;break e}}n(e,l);break}t(e,l),l=l.sibling}o.type===k?((r=Wu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Hu(o.type,o.key,o.props,null,e.mode,u)).ref=wo(e,r,o),u.return=e,e=u)}return s(e);case T:e:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ku(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Gu(o,e.mode,u)).return=e,e=r),s(e);if(_o(o))return v(e,r,o,u);if(V(o))return y(e,r,o,u);if(c&&xo(e,o),"undefined"===typeof o&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,G(e.type)||"Component"))}return n(e,r)}}var ko=To(!0),Oo=To(!1),So={},Ao=ai(So),Eo=ai(So),Mo=ai(So);function Co(e){if(e===So)throw Error(a(174));return e}function Io(e,t){switch(ui(Mo,t),ui(Eo,e),ui(Ao,So),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}si(Ao),ui(Ao,t)}function Do(){si(Ao),si(Eo),si(Mo)}function Po(e){Co(Mo.current);var t=Co(Ao.current),n=pe(t,e.type);t!==n&&(ui(Eo,e),ui(Ao,n))}function No(e){Eo.current===e&&(si(Ao),si(Eo))}var Lo=ai(0);function jo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ro=null,Fo=null,zo=!1;function Uo(e,t){var n=qu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Vo(e){if(zo){var t=Fo;if(t){var n=t;if(!qo(e,t)){if(!(t=Wr(n.nextSibling))||!qo(e,t))return e.flags=-1025&e.flags|2,zo=!1,void(Ro=e);Uo(Ro,n)}Ro=e,Fo=Wr(t.firstChild)}else e.flags=-1025&e.flags|2,zo=!1,Ro=e}}function Bo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ro=e}function Ho(e){if(e!==Ro)return!1;if(!zo)return Bo(e),zo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!qr(t,e.memoizedProps))for(t=Fo;t;)Uo(e,t),t=Wr(t.nextSibling);if(Bo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Fo=Wr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Fo=null}}else Fo=Ro?Wr(e.stateNode.nextSibling):null;return!0}function Wo(){Fo=Ro=null,zo=!1}var Yo=[];function Go(){for(var e=0;e<Yo.length;e++)Yo[e]._workInProgressVersionPrimary=null;Yo.length=0}var Ko=w.ReactCurrentDispatcher,Xo=w.ReactCurrentBatchConfig,Qo=0,Jo=null,$o=null,Zo=null,ea=!1,ta=!1;function na(){throw Error(a(321))}function ra(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ia(e,t,n,r,i,o){if(Qo=o,Jo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ko.current=null===e||null===e.memoizedState?Ca:Ia,e=n(r,i),ta){o=0;do{if(ta=!1,!(25>o))throw Error(a(301));o+=1,Zo=$o=null,t.updateQueue=null,Ko.current=Da,e=n(r,i)}while(ta)}if(Ko.current=Ma,t=null!==$o&&null!==$o.next,Qo=0,Zo=$o=Jo=null,ea=!1,t)throw Error(a(300));return e}function oa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Zo?Jo.memoizedState=Zo=e:Zo=Zo.next=e,Zo}function aa(){if(null===$o){var e=Jo.alternate;e=null!==e?e.memoizedState:null}else e=$o.next;var t=null===Zo?Jo.memoizedState:Zo.next;if(null!==t)Zo=t,$o=e;else{if(null===e)throw Error(a(310));e={memoizedState:($o=e).memoizedState,baseState:$o.baseState,baseQueue:$o.baseQueue,queue:$o.queue,next:null},null===Zo?Jo.memoizedState=Zo=e:Zo=Zo.next=e}return Zo}function sa(e,t){return"function"===typeof t?t(e):t}function ua(e){var t=aa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=$o,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,l=i;do{var c=l.lane;if((Qo&c)===c)null!==u&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var f={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=f,o=r):u=u.next=f,Jo.lanes|=c,Fs|=c}l=l.next}while(null!==l&&l!==i);null===u?o=r:u.next=s,sr(r,t.memoizedState)||(Na=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function la(e){var t=aa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(Na=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ca(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Qo&e)===e)&&(t._workInProgressVersionPrimary=r,Yo.push(t))),e)return n(t._source);throw Yo.push(t),Error(a(350))}function fa(e,t,n,r){var i=Cs;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=Ko.current,l=u.useState((function(){return ca(i,t,n)})),c=l[1],f=l[0];l=Zo;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var y=Jo;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=c;var e=o(t._source);if(!sr(s,e)){e=n(t._source),sr(f,e)||(c(e),e=cu(y),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-Ht(a),l=1<<u;r[u]|=e,a&=~l}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=cu(y);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),sr(p,n)&&sr(v,t)&&sr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:sa,lastRenderedState:f}).dispatch=c=Ea.bind(null,Jo,e),l.queue=e,l.baseQueue=null,f=ca(i,t,n),l.memoizedState=l.baseState=f),f}function ha(e,t,n){return fa(aa(),e,t,n)}function da(e){var t=oa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:sa,lastRenderedState:e}).dispatch=Ea.bind(null,Jo,e),[t.memoizedState,e]}function pa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Jo.updateQueue)?(t={lastEffect:null},Jo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function va(e){return e={current:e},oa().memoizedState=e}function ya(){return aa().memoizedState}function ga(e,t,n,r){var i=oa();Jo.flags|=e,i.memoizedState=pa(1|t,n,void 0,void 0===r?null:r)}function ma(e,t,n,r){var i=aa();r=void 0===r?null:r;var o=void 0;if(null!==$o){var a=$o.memoizedState;if(o=a.destroy,null!==r&&ra(r,a.deps))return void pa(t,n,o,r)}Jo.flags|=e,i.memoizedState=pa(1|t,n,o,r)}function ba(e,t){return ga(516,4,e,t)}function _a(e,t){return ma(516,4,e,t)}function wa(e,t){return ma(4,2,e,t)}function xa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ta(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ma(4,2,xa.bind(null,t,e),n)}function ka(){}function Oa(e,t){var n=aa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ra(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Sa(e,t){var n=aa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ra(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Aa(e,t){var n=qi();Bi(98>n?98:n,(function(){e(!0)})),Bi(97<n?97:n,(function(){var n=Xo.transition;Xo.transition=1;try{e(!1),t()}finally{Xo.transition=n}}))}function Ea(e,t,n){var r=lu(),i=cu(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Jo||null!==a&&a===Jo)ta=ea=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,sr(u,s))return}catch(l){}fu(e,i,r)}}var Ma={readContext:ro,useCallback:na,useContext:na,useEffect:na,useImperativeHandle:na,useLayoutEffect:na,useMemo:na,useReducer:na,useRef:na,useState:na,useDebugValue:na,useDeferredValue:na,useTransition:na,useMutableSource:na,useOpaqueIdentifier:na,unstable_isNewReconciler:!1},Ca={readContext:ro,useCallback:function(e,t){return oa().memoizedState=[e,void 0===t?null:t],e},useContext:ro,useEffect:ba,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ga(4,2,xa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ga(4,2,e,t)},useMemo:function(e,t){var n=oa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=oa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ea.bind(null,Jo,e),[r.memoizedState,e]},useRef:va,useState:da,useDebugValue:ka,useDeferredValue:function(e){var t=da(e),n=t[0],r=t[1];return ba((function(){var t=Xo.transition;Xo.transition=1;try{r(e)}finally{Xo.transition=t}}),[e]),n},useTransition:function(){var e=da(!1),t=e[0];return va(e=Aa.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=oa();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},fa(r,e,t,n)},useOpaqueIdentifier:function(){if(zo){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Gr++).toString(36))),Error(a(355))})),n=da(t)[1];return 0===(2&Jo.mode)&&(Jo.flags|=516,pa(5,(function(){n("r:"+(Gr++).toString(36))}),void 0,null)),t}return da(t="r:"+(Gr++).toString(36)),t},unstable_isNewReconciler:!1},Ia={readContext:ro,useCallback:Oa,useContext:ro,useEffect:_a,useImperativeHandle:Ta,useLayoutEffect:wa,useMemo:Sa,useReducer:ua,useRef:ya,useState:function(){return ua(sa)},useDebugValue:ka,useDeferredValue:function(e){var t=ua(sa),n=t[0],r=t[1];return _a((function(){var t=Xo.transition;Xo.transition=1;try{r(e)}finally{Xo.transition=t}}),[e]),n},useTransition:function(){var e=ua(sa)[0];return[ya().current,e]},useMutableSource:ha,useOpaqueIdentifier:function(){return ua(sa)[0]},unstable_isNewReconciler:!1},Da={readContext:ro,useCallback:Oa,useContext:ro,useEffect:_a,useImperativeHandle:Ta,useLayoutEffect:wa,useMemo:Sa,useReducer:la,useRef:ya,useState:function(){return la(sa)},useDebugValue:ka,useDeferredValue:function(e){var t=la(sa),n=t[0],r=t[1];return _a((function(){var t=Xo.transition;Xo.transition=1;try{r(e)}finally{Xo.transition=t}}),[e]),n},useTransition:function(){var e=la(sa)[0];return[ya().current,e]},useMutableSource:ha,useOpaqueIdentifier:function(){return la(sa)[0]},unstable_isNewReconciler:!1},Pa=w.ReactCurrentOwner,Na=!1;function La(e,t,n,r){t.child=null===e?Oo(t,null,n,r):ko(t,e.child,n,r)}function ja(e,t,n,r,i){n=n.render;var o=t.ref;return no(t,i),r=ia(e,t,n,r,o,i),null===e||Na?(t.flags|=1,La(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function Ra(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Vu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Fa(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)?ns(e,t,o):(t.flags|=1,(e=Bu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Fa(e,t,n,r,i,o){if(null!==e&&lr(e.memoizedProps,r)&&e.ref===t.ref){if(Na=!1,0===(o&i))return t.lanes=e.lanes,ns(e,t,o);0!==(16384&e.flags)&&(Na=!0)}return qa(e,t,n,r,o)}function za(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},bu(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},bu(t,e),null;t.memoizedState={baseLanes:0},bu(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,bu(t,r);return La(e,t,i,n),t.child}function Ua(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function qa(e,t,n,r,i){var o=pi(n)?hi:ci.current;return o=di(t,o),no(t,i),n=ia(e,t,n,r,o,i),null===e||Na?(t.flags|=1,La(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function Va(e,t,n,r,i){if(pi(n)){var o=!0;mi(t)}else o=!1;if(no(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),go(t,n,r),bo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=ro(l):l=di(t,l=pi(n)?hi:ci.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&mo(t,a,r,l),io=!1;var h=t.memoizedState;a.state=h,co(t,r,a,i),u=t.memoizedState,s!==r||h!==u||fi.current||io?("function"===typeof c&&(po(t,n,c,r),u=t.memoizedState),(s=io||yo(t,n,s,r,h,u,l))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,ao(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Ki(t.type,s),a.props=l,f=t.pendingProps,h=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ro(u):u=di(t,u=pi(n)?hi:ci.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||h!==u)&&mo(t,a,r,u),io=!1,h=t.memoizedState,a.state=h,co(t,r,a,i);var p=t.memoizedState;s!==f||h!==p||fi.current||io?("function"===typeof d&&(po(t,n,d,r),p=t.memoizedState),(l=io||yo(t,n,l,r,h,p,u))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ba(e,t,n,r,o,i)}function Ba(e,t,n,r,i,o){Ua(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&bi(t,n,!1),ns(e,t,o);r=t.stateNode,Pa.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ko(t,e.child,null,o),t.child=ko(t,null,s,o)):La(e,t,s,o),t.memoizedState=r.state,i&&bi(t,n,!0),t.child}function Ha(e){var t=e.stateNode;t.pendingContext?yi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yi(0,t.context,!1),Io(e,t.containerInfo)}var Wa,Ya,Ga,Ka={dehydrated:null,retryLane:0};function Xa(e,t,n){var r,i=t.pendingProps,o=Lo.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ui(Lo,1&o),null===e?(void 0!==i.fallback&&Vo(t),e=i.children,o=i.fallback,a?(e=Qa(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ka,e):"number"===typeof i.unstable_expectedLoadTime?(e=Qa(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ka,t.lanes=33554432,e):((n=Yu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=$a(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ka,i):(n=Ja(e,t,i.children,n),t.memoizedState=null,n))}function Qa(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Yu(t,i,0,null),n=Wu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Ja(e,t,n,r){var i=e.child;return e=i.sibling,n=Bu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function $a(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Bu(a,s),null!==e?r=Bu(e,r):(r=Wu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Za(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),to(e.return,t)}function es(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function ts(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(La(e,t,r.children,n),0!==(2&(r=Lo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Za(e,n);else if(19===e.tag)Za(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ui(Lo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===jo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),es(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===jo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}es(t,!0,n,null,o,t.lastEffect);break;case"together":es(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ns(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Bu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Bu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function rs(e,t){if(!zo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function is(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return pi(t.type)&&vi(),null;case 3:return Do(),si(fi),si(ci),Go(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ho(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:No(t);var o=Co(Mo.current);if(n=t.type,null!==e&&null!=t.stateNode)Ya(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Co(Ao.current),Ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Xr]=t,r[Qr]=s,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Ar(Tr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,s),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ar("invalid",r);break;case"textarea":ue(r,s),Ar("invalid",r)}for(var l in ke(n,s),e=null,s)s.hasOwnProperty(l)&&(o=s[l],"children"===l?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(l)&&null!=o&&"onScroll"===l&&Ar("scroll",r));switch(n){case"input":Q(r),re(r,s,!0);break;case"textarea":Q(r),ce(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Rr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(l=9===o.nodeType?o:o.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Xr]=t,e[Qr]=r,Wa(e,t),t.stateNode=e,l=Oe(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),o=r;break;case"iframe":case"object":case"embed":Ar("load",e),o=r;break;case"video":case"audio":for(o=0;o<Tr.length;o++)Ar(Tr[o],e);o=r;break;case"source":Ar("error",e),o=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),o=r;break;case"details":Ar("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),Ar("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),Ar("invalid",e);break;default:o=r}ke(n,o);var c=o;for(s in c)if(c.hasOwnProperty(s)){var f=c[s];"style"===s?xe(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ge(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&me(e,f):"number"===typeof f&&me(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Ar("scroll",e):null!=f&&_(e,s,f,l))}switch(n){case"input":Q(e),re(e,r,!1);break;case"textarea":Q(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Rr)}Ur(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ga(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Co(Mo.current),Co(Ao.current),Ho(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return si(Lo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ho(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Lo.current)?0===Ls&&(Ls=3):(0!==Ls&&3!==Ls||(Ls=4),null===Cs||0===(134217727&Fs)&&0===(134217727&zs)||vu(Cs,Ds))),(r||n)&&(t.flags|=4),null);case 4:return Do(),null===e&&Mr(t.stateNode.containerInfo),null;case 10:return eo(t),null;case 17:return pi(t.type)&&vi(),null;case 19:if(si(Lo),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(l=r.rendering))if(s)rs(r,!1);else{if(0!==Ls||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=jo(e))){for(t.flags|=64,rs(r,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ui(Lo,1&Lo.current|2),t.child}e=e.sibling}null!==r.tail&&Ui()>Bs&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=jo(l))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),rs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!zo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ui()-r.renderingStartTime>Bs&&1073741824!==n&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ui(),n.sibling=null,t=Lo.current,ui(Lo,s?1&t|2:1&t),n):null;case 23:case 24:return _u(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function os(e){switch(e.tag){case 1:pi(e.type)&&vi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Do(),si(fi),si(ci),Go(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return No(e),null;case 13:return si(Lo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return si(Lo),null;case 4:return Do(),null;case 10:return eo(e),null;case 23:case 24:return _u(),null;default:return null}}function as(e,t){try{var n="",r=t;do{n+=Y(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function ss(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Wa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ya=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Co(Ao.current);var a,s=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Rr)}for(f in ke(n,r),n=null,o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var l=o[f];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var c=r[f];if(l=null!=o?o[f]:void 0,r.hasOwnProperty(f)&&c!==l&&(null!=c||null!=l))if("style"===f)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(f,n)),n=c;else"dangerouslySetInnerHTML"===f?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(f,c)):"children"===f?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(f,""+c):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=c&&"onScroll"===f&&Ar("scroll",e),s||l===c||(s=[])):"object"===typeof c&&null!==c&&c.$$typeof===L?c.toString():(s=s||[]).push(f,c))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Ga=function(e,t,n,r){n!==r&&(t.flags|=4)};var us="function"===typeof WeakMap?WeakMap:Map;function ls(e,t,n){(n=so(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gs||(Gs=!0,Ks=r),ss(0,t)},n}function cs(e,t,n){(n=so(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ss(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Xs?Xs=new Set([this]):Xs.add(this),ss(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var fs="function"===typeof WeakSet?WeakSet:Set;function hs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Ru(e,n)}else t.current=null}function ds(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ki(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function ps(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Nu(n,e),Pu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ki(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&fo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}fo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Ur(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function vs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ys(e,t){if(wi&&"function"===typeof wi.onCommitFiberUnmount)try{wi.onCommitFiberUnmount(_i,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Nu(t,n);else{r=t;try{i()}catch(o){Ru(r,o)}}n=n.next}while(n!==e)}break;case 1:if(hs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Ru(t,o)}break;case 5:hs(t);break;case 4:xs(e,t)}}function gs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ms(e){return 5===e.tag||3===e.tag||4===e.tag}function bs(e){e:{for(var t=e.return;null!==t;){if(ms(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(me(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ms(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_s(e,n,t):ws(e,n,t)}function _s(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Rr));else if(4!==r&&null!==(e=e.child))for(_s(e,t,n),e=e.sibling;null!==e;)_s(e,t,n),e=e.sibling}function ws(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ws(e,t,n),e=e.sibling;null!==e;)ws(e,t,n),e=e.sibling}function xs(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,l=u;;)if(ys(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===u)break e;for(;null===l.sibling;){if(null===l.return||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ys(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Ts(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Qr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Oe(e,i),t=Oe(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?xe(n,u):"dangerouslySetInnerHTML"===s?ge(n,u):"children"===s?me(n,u):_(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Vs=Ui(),vs(t.child,!0)),void ks(t);case 19:return void ks(t);case 17:return;case 23:case 24:return void vs(t,null!==t.memoizedState)}throw Error(a(163))}function ks(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new fs),t.forEach((function(t){var r=zu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Os(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ss=Math.ceil,As=w.ReactCurrentDispatcher,Es=w.ReactCurrentOwner,Ms=0,Cs=null,Is=null,Ds=0,Ps=0,Ns=ai(0),Ls=0,js=null,Rs=0,Fs=0,zs=0,Us=0,qs=null,Vs=0,Bs=1/0;function Hs(){Bs=Ui()+500}var Ws,Ys=null,Gs=!1,Ks=null,Xs=null,Qs=!1,Js=null,$s=90,Zs=[],eu=[],tu=null,nu=0,ru=null,iu=-1,ou=0,au=0,su=null,uu=!1;function lu(){return 0!==(48&Ms)?Ui():-1!==iu?iu:iu=Ui()}function cu(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===qi()?1:2;if(0===ou&&(ou=Rs),0!==Gi.transition){0!==au&&(au=null!==qs?qs.pendingLanes:0),e=ou;var t=4186112&~au;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=qi(),0!==(4&Ms)&&98===e?e=Ut(12,ou):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ou),e}function fu(e,t,n){if(50<nu)throw nu=0,ru=null,Error(a(185));if(null===(e=hu(e,t)))return null;Bt(e,t,n),e===Cs&&(zs|=t,4===Ls&&vu(e,Ds));var r=qi();1===t?0!==(8&Ms)&&0===(48&Ms)?yu(e):(du(e,n),0===Ms&&(Hs(),Wi())):(0===(4&Ms)||98!==r&&99!==r||(null===tu?tu=new Set([e]):tu.add(e)),du(e,n)),qs=e}function hu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function du(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Ht(s),l=1<<u,c=o[u];if(-1===c){if(0===(l&r)||0!==(l&i)){c=t,Rt(l);var f=jt;o[u]=10<=f?c+250:6<=f?c+5e3:-1}}else c<=t&&(e.expiredLanes|=l);s&=~l}if(r=Ft(e,e===Cs?Ds:0),t=jt,0===r)null!==n&&(n!==Ni&&ki(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ni&&ki(n)}15===t?(n=yu.bind(null,e),null===ji?(ji=[n],Ri=Ti(Mi,Yi)):ji.push(n),n=Ni):14===t?n=Hi(99,yu.bind(null,e)):n=Hi(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),pu.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function pu(e){if(iu=-1,au=ou=0,0!==(48&Ms))throw Error(a(327));var t=e.callbackNode;if(Du()&&e.callbackNode!==t)return null;var n=Ft(e,e===Cs?Ds:0);if(0===n)return null;var r=n,i=Ms;Ms|=16;var o=Tu();for(Cs===e&&Ds===r||(Hs(),wu(e,r));;)try{Su();break}catch(u){xu(e,u)}if(Zi(),As.current=o,Ms=i,null!==Is?r=0:(Cs=null,Ds=0,r=Ls),0!==(Rs&zs))wu(e,0);else if(0!==r){if(2===r&&(Ms|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(n=zt(e))&&(r=ku(e,n))),1===r)throw t=js,wu(e,0),vu(e,n),du(e,Ui()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:Mu(e);break;case 3:if(vu(e,n),(62914560&n)===n&&10<(r=Vs+500-Ui())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){lu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Vr(Mu.bind(null,e),r);break}Mu(e);break;case 4:if(vu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Ht(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Ui()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ss(n/1960))-n)){e.timeoutHandle=Vr(Mu.bind(null,e),n);break}Mu(e);break;case 5:Mu(e);break;default:throw Error(a(329))}}return du(e,Ui()),e.callbackNode===t?pu.bind(null,e):null}function vu(e,t){for(t&=~Us,t&=~zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function yu(e){if(0!==(48&Ms))throw Error(a(327));if(Du(),e===Cs&&0!==(e.expiredLanes&Ds)){var t=Ds,n=ku(e,t);0!==(Rs&zs)&&(n=ku(e,t=Ft(e,t)))}else n=ku(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Ms|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(t=zt(e))&&(n=ku(e,t))),1===n)throw n=js,wu(e,0),vu(e,t),du(e,Ui()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mu(e),du(e,Ui()),null}function gu(e,t){var n=Ms;Ms|=1;try{return e(t)}finally{0===(Ms=n)&&(Hs(),Wi())}}function mu(e,t){var n=Ms;Ms&=-2,Ms|=8;try{return e(t)}finally{0===(Ms=n)&&(Hs(),Wi())}}function bu(e,t){ui(Ns,Ps),Ps|=t,Rs|=t}function _u(){Ps=Ns.current,si(Ns)}function wu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Br(n)),null!==Is)for(n=Is.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&vi();break;case 3:Do(),si(fi),si(ci),Go();break;case 5:No(r);break;case 4:Do();break;case 13:case 19:si(Lo);break;case 10:eo(r);break;case 23:case 24:_u()}n=n.return}Cs=e,Is=Bu(e.current,null),Ds=Ps=Rs=t,Ls=0,js=null,Us=zs=Fs=0}function xu(e,t){for(;;){var n=Is;try{if(Zi(),Ko.current=Ma,ea){for(var r=Jo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ea=!1}if(Qo=0,Zo=$o=Jo=null,ta=!1,Es.current=null,null===n||null===n.return){Ls=1,js=t,Is=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=Ds,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Lo.current),h=a;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var y=h.updateQueue;if(null===y){var g=new Set;g.add(l),h.updateQueue=g}else y.add(l);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var m=so(-1,1);m.tag=2,uo(s,m)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new us,u=new Set,b.set(l,u)):void 0===(u=b.get(l))&&(u=new Set,b.set(l,u)),!u.has(s)){u.add(s);var _=Fu.bind(null,o,l,s);l.then(_,_)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ls&&(Ls=2),u=as(u,s),h=a;do{switch(h.tag){case 3:o=u,h.flags|=4096,t&=-t,h.lanes|=t,lo(h,ls(0,o,t));break e;case 1:o=u;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Xs||!Xs.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,lo(h,cs(h,o,t));break e}}h=h.return}while(null!==h)}Eu(n)}catch(T){t=T,Is===n&&null!==n&&(Is=n=n.return);continue}break}}function Tu(){var e=As.current;return As.current=Ma,null===e?Ma:e}function ku(e,t){var n=Ms;Ms|=16;var r=Tu();for(Cs===e&&Ds===t||wu(e,t);;)try{Ou();break}catch(i){xu(e,i)}if(Zi(),Ms=n,As.current=r,null!==Is)throw Error(a(261));return Cs=null,Ds=0,Ls}function Ou(){for(;null!==Is;)Au(Is)}function Su(){for(;null!==Is&&!Oi();)Au(Is)}function Au(e){var t=Ws(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?Eu(e):Is=t,Es.current=null}function Eu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=is(n,t,Ps)))return void(Is=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ps)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=os(t)))return n.flags&=2047,void(Is=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Is=t);Is=t=e}while(null!==t);0===Ls&&(Ls=5)}function Mu(e){var t=qi();return Bi(99,Cu.bind(null,e,t)),null}function Cu(e,t){do{Du()}while(null!==Js);if(0!==(48&Ms))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var l=31-Ht(o),c=1<<l;i[l]=0,s[l]=-1,u[l]=-1,o&=~c}if(null!==tu&&0===(24&r)&&tu.has(e)&&tu.delete(e),e===Cs&&(Is=Cs=null,Ds=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ms,Ms|=32,Es.current=null,Fr=Xt,pr(s=dr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&0!==c.rangeCount){u=c.anchorNode,o=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch(S){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,y=s,g=null;t:for(;;){for(var m;y!==u||0!==o&&3!==y.nodeType||(h=f+o),y!==l||0!==c&&3!==y.nodeType||(d=f+c),3===y.nodeType&&(f+=y.nodeValue.length),null!==(m=y.firstChild);)g=y,y=m;for(;;){if(y===s)break t;if(g===u&&++p===o&&(h=f),g===l&&++v===c&&(d=f),null!==(m=y.nextSibling))break;g=(y=g).parentNode}y=m}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;zr={focusedElem:s,selectionRange:u},Xt=!1,su=null,uu=!1,Ys=r;do{try{Iu()}catch(S){if(null===Ys)throw Error(a(330));Ru(Ys,S),Ys=Ys.nextEffect}}while(null!==Ys);su=null,Ys=r;do{try{for(s=e;null!==Ys;){var b=Ys.flags;if(16&b&&me(Ys.stateNode,""),128&b){var _=Ys.alternate;if(null!==_){var w=_.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:bs(Ys),Ys.flags&=-3;break;case 6:bs(Ys),Ys.flags&=-3,Ts(Ys.alternate,Ys);break;case 1024:Ys.flags&=-1025;break;case 1028:Ys.flags&=-1025,Ts(Ys.alternate,Ys);break;case 4:Ts(Ys.alternate,Ys);break;case 8:xs(s,u=Ys);var x=u.alternate;gs(u),null!==x&&gs(x)}Ys=Ys.nextEffect}}catch(S){if(null===Ys)throw Error(a(330));Ru(Ys,S),Ys=Ys.nextEffect}}while(null!==Ys);if(w=zr,_=dr(),b=w.focusedElem,s=w.selectionRange,_!==b&&b&&b.ownerDocument&&hr(b.ownerDocument.documentElement,b)){null!==s&&pr(b)&&(_=s.start,void 0===(w=s.end)&&(w=_),"selectionStart"in b?(b.selectionStart=_,b.selectionEnd=Math.min(w,b.value.length)):(w=(_=b.ownerDocument||document)&&_.defaultView||window).getSelection&&(w=w.getSelection(),u=b.textContent.length,x=Math.min(s.start,u),s=void 0===s.end?x:Math.min(s.end,u),!w.extend&&x>s&&(u=s,s=x,x=u),u=fr(b,x),o=fr(b,s),u&&o&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((_=_.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),x>s?(w.addRange(_),w.extend(o.node,o.offset)):(_.setEnd(o.node,o.offset),w.addRange(_))))),_=[];for(w=b;w=w.parentNode;)1===w.nodeType&&_.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<_.length;b++)(w=_[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Xt=!!Fr,zr=Fr=null,e.current=n,Ys=r;do{try{for(b=e;null!==Ys;){var T=Ys.flags;if(36&T&&ps(b,Ys.alternate,Ys),128&T){_=void 0;var k=Ys.ref;if(null!==k){var O=Ys.stateNode;switch(Ys.tag){case 5:_=O;break;default:_=O}"function"===typeof k?k(_):k.current=_}}Ys=Ys.nextEffect}}catch(S){if(null===Ys)throw Error(a(330));Ru(Ys,S),Ys=Ys.nextEffect}}while(null!==Ys);Ys=null,Li(),Ms=i}else e.current=n;if(Qs)Qs=!1,Js=e,$s=t;else for(Ys=r;null!==Ys;)t=Ys.nextEffect,Ys.nextEffect=null,8&Ys.flags&&((T=Ys).sibling=null,T.stateNode=null),Ys=t;if(0===(r=e.pendingLanes)&&(Xs=null),1===r?e===ru?nu++:(nu=0,ru=e):nu=0,n=n.stateNode,wi&&"function"===typeof wi.onCommitFiberRoot)try{wi.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(S){}if(du(e,Ui()),Gs)throw Gs=!1,e=Ks,Ks=null,e;return 0!==(8&Ms)||Wi(),null}function Iu(){for(;null!==Ys;){var e=Ys.alternate;uu||null===su||(0!==(8&Ys.flags)?et(Ys,su)&&(uu=!0):13===Ys.tag&&Os(e,Ys)&&et(Ys,su)&&(uu=!0));var t=Ys.flags;0!==(256&t)&&ds(e,Ys),0===(512&t)||Qs||(Qs=!0,Hi(97,(function(){return Du(),null}))),Ys=Ys.nextEffect}}function Du(){if(90!==$s){var e=97<$s?97:$s;return $s=90,Bi(e,Lu)}return!1}function Pu(e,t){Zs.push(t,e),Qs||(Qs=!0,Hi(97,(function(){return Du(),null})))}function Nu(e,t){eu.push(t,e),Qs||(Qs=!0,Hi(97,(function(){return Du(),null})))}function Lu(){if(null===Js)return!1;var e=Js;if(Js=null,0!==(48&Ms))throw Error(a(331));var t=Ms;Ms|=32;var n=eu;eu=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(l){if(null===o)throw Error(a(330));Ru(o,l)}}for(n=Zs,Zs=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(l){if(null===o)throw Error(a(330));Ru(o,l)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ms=t,Wi(),!0}function ju(e,t,n){uo(e,t=ls(0,t=as(n,t),1)),t=lu(),null!==(e=hu(e,1))&&(Bt(e,1,t),du(e,t))}function Ru(e,t){if(3===e.tag)ju(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){ju(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r))){var i=cs(n,e=as(t,e),1);if(uo(n,i),i=lu(),null!==(n=hu(n,1)))Bt(n,1,i),du(n,i);else if("function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Fu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=lu(),e.pingedLanes|=e.suspendedLanes&n,Cs===e&&(Ds&n)===n&&(4===Ls||3===Ls&&(62914560&Ds)===Ds&&500>Ui()-Vs?wu(e,0):Us|=n),du(e,t)}function zu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===qi()?1:2:(0===ou&&(ou=Rs),0===(t=qt(62914560&~ou))&&(t=4194304))),n=lu(),null!==(e=hu(e,t))&&(Bt(e,t,n),du(e,n))}function Uu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function qu(e,t,n,r){return new Uu(e,t,n,r)}function Vu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Bu(e,t){var n=e.alternate;return null===n?((n=qu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Vu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Wu(n.children,i,o,t);case j:s=8,i|=16;break;case O:s=8,i|=1;break;case S:return(e=qu(12,n,t,8|i)).elementType=S,e.type=S,e.lanes=o,e;case C:return(e=qu(13,n,t,i)).type=C,e.elementType=C,e.lanes=o,e;case I:return(e=qu(19,n,t,i)).elementType=I,e.lanes=o,e;case R:return Yu(n,i,o,t);case F:return(e=qu(24,n,t,i)).elementType=F,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:s=10;break e;case E:s=9;break e;case M:s=11;break e;case D:s=14;break e;case P:s=16,r=null;break e;case N:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=qu(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Wu(e,t,n,r){return(e=qu(7,e,r,t)).lanes=n,e}function Yu(e,t,n,r){return(e=qu(23,e,r,t)).elementType=R,e.lanes=n,e}function Gu(e,t,n){return(e=qu(6,e,null,t)).lanes=n,e}function Ku(e,t,n){return(t=qu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Vt(0),this.expirationTimes=Vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.mutableSourceEagerHydrationData=null}function Qu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:T,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ju(e,t,n,r){var i=t.current,o=lu(),s=cu(i);e:if(n){t:{if(Qe(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(pi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var l=n.type;if(pi(l)){n=gi(n,l,u);break e}}n=u}else n=li;return null===t.context?t.context=n:t.pendingContext=n,(t=so(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),uo(i,t),fu(i,s,o),s}function $u(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Zu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function el(e,t){Zu(e,t),(e=e.alternate)&&Zu(e,t)}function tl(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xu(e,t,null!=n&&!0===n.hydrate),t=qu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,oo(t),e[Jr]=n.current,Mr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function nl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function rl(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=$u(a);s.call(e)}}Ju(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tl(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=$u(a);u.call(e)}}mu((function(){Ju(t,a,e,i)}))}return $u(a)}function il(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nl(t))throw Error(a(200));return Qu(e,t,null,n)}Ws=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||fi.current)Na=!0;else{if(0===(n&r)){switch(Na=!1,t.tag){case 3:Ha(t),Wo();break;case 5:Po(t);break;case 1:pi(t.type)&&mi(t);break;case 4:Io(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ui(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Xa(e,t,n):(ui(Lo,1&Lo.current),null!==(t=ns(e,t,n))?t.sibling:null);ui(Lo,1&Lo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return ts(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ui(Lo,Lo.current),r)break;return null;case 23:case 24:return t.lanes=0,za(e,t,n)}return ns(e,t,n)}Na=0!==(16384&e.flags)}else Na=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=di(t,ci.current),no(t,n),i=ia(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,pi(r)){var o=!0;mi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&po(t,r,s,e),i.updater=vo,t.stateNode=i,i._reactInternals=t,bo(t,r,e,n),t=Ba(null,t,r,!0,o,n)}else t.tag=0,La(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Vu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===M)return 11;if(e===D)return 14}return 2}(i),e=Ki(i,e),o){case 0:t=qa(null,t,i,e,n);break e;case 1:t=Va(null,t,i,e,n);break e;case 11:t=ja(null,t,i,e,n);break e;case 14:t=Ra(null,t,i,Ki(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,qa(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 1:return r=t.type,i=t.pendingProps,Va(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 3:if(Ha(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ao(e,t),co(t,r,null,n),(r=t.memoizedState.element)===i)Wo(),t=ns(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Fo=Wr(t.stateNode.containerInfo.firstChild),Ro=t,o=zo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Yo.push(o);for(n=Oo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else La(e,t,r,n),Wo();t=t.child}return t;case 5:return Po(t),null===e&&Vo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,qr(r,i)?s=null:null!==o&&qr(r,o)&&(t.flags|=16),Ua(e,t),La(e,t,s,n),t.child;case 6:return null===e&&Vo(t),null;case 13:return Xa(e,t,n);case 4:return Io(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ko(t,null,r,n):La(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ja(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 7:return La(e,t,t.pendingProps,n),t.child;case 8:case 12:return La(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(ui(Xi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=sr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!fi.current){t=ns(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===u.tag&&((c=so(-1,n&-n)).tag=2,uo(u,c)),u.lanes|=n,null!==(c=u.alternate)&&(c.lanes|=n),to(u.return,n),l.lanes|=n;break}c=c.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}La(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,no(t,n),r=r(i=ro(i,o.unstable_observedBits)),t.flags|=1,La(e,t,r,n),t.child;case 14:return o=Ki(i=t.type,t.pendingProps),Ra(e,t,i,o=Ki(i.type,o),r,n);case 15:return Fa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ki(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pi(r)?(e=!0,mi(t)):e=!1,no(t,n),go(t,r,i),bo(t,r,i,n),Ba(null,t,r,!0,e,n);case 19:return ts(e,t,n);case 23:case 24:return za(e,t,n)}throw Error(a(156,t.tag))},tl.prototype.render=function(e){Ju(e,this._internalRoot,null,null)},tl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ju(null,e,null,(function(){t[Jr]=null}))},tt=function(e){13===e.tag&&(fu(e,4,lu()),el(e,4))},nt=function(e){13===e.tag&&(fu(e,67108864,lu()),el(e,67108864))},rt=function(e){if(13===e.tag){var t=lu(),n=cu(e);fu(e,n,t),el(e,n)}},it=function(e,t){return t()},Ae=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ni(r);if(!i)throw Error(a(90));J(r),ne(r,i)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Pe=gu,Ne=function(e,t,n,r,i){var o=Ms;Ms|=4;try{return Bi(98,e.bind(null,t,n,r,i))}finally{0===(Ms=o)&&(Hs(),Wi())}},Le=function(){0===(49&Ms)&&(function(){if(null!==tu){var e=tu;tu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,du(e,Ui())}))}Wi()}(),Du())},je=function(e,t){var n=Ms;Ms|=2;try{return e(t)}finally{0===(Ms=n)&&(Hs(),Wi())}};var ol={Events:[ei,ti,ni,Ie,De,Du,{current:!1}]},al={findFiberByHostInstance:Zr,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},sl={bundleType:al.bundleType,version:al.version,rendererPackageName:al.rendererPackageName,rendererConfig:al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:al.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{_i=ul.inject(sl),wi=ul}catch(ye){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ol,t.createPortal=il,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ms;if(0!==(48&n))return e(t);Ms|=1;try{if(e)return Bi(99,e.bind(null,t))}finally{Ms=n,Wi()}},t.hydrate=function(e,t,n){if(!nl(t))throw Error(a(200));return rl(null,e,t,!0,n)},t.render=function(e,t,n){if(!nl(t))throw Error(a(200));return rl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nl(e))throw Error(a(40));return!!e._reactRootContainer&&(mu((function(){rl(null,null,e,!1,(function(){e._reactRootContainer=null,e[Jr]=null}))})),!0)},t.unstable_batchedUpdates=gu,t.unstable_createPortal=function(e,t){return il(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return rl(e,t,n,!1,r)},t.version="17.0.1"},function(e,t,n){"use strict";e.exports=n(96)},function(e,t,n){"use strict";var r,i,o,a;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,l=u.now();t.unstable_now=function(){return u.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,f=null,h=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};r=function(e){null!==c?setTimeout(r,0,e):(c=e,setTimeout(h,0))},i=function(e,t){f=setTimeout(e,t)},o=function(){clearTimeout(f)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var y=!1,g=null,m=-1,b=5,_=0;t.unstable_shouldYield=function(){return t.unstable_now()>=_},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,x=w.port2;w.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();_=e+b;try{g(!0,e)?x.postMessage(null):(y=!1,g=null)}catch(n){throw x.postMessage(null),n}}else y=!1},r=function(e){g=e,y||(y=!0,x.postMessage(null))},i=function(e,n){m=d((function(){e(t.unstable_now())}),n)},o=function(){p(m),m=-1}}function T(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function k(e){return void 0===(e=e[0])?null:e}function O(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>S(a,n))void 0!==u&&0>S(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>S(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var A=[],E=[],M=1,C=null,I=3,D=!1,P=!1,N=!1;function L(e){for(var t=k(E);null!==t;){if(null===t.callback)O(E);else{if(!(t.startTime<=e))break;O(E),t.sortIndex=t.expirationTime,T(A,t)}t=k(E)}}function j(e){if(N=!1,L(e),!P)if(null!==k(A))P=!0,r(R);else{var t=k(E);null!==t&&i(j,t.startTime-e)}}function R(e,n){P=!1,N&&(N=!1,o()),D=!0;var r=I;try{for(L(n),C=k(A);null!==C&&(!(C.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=C.callback;if("function"===typeof a){C.callback=null,I=C.priorityLevel;var s=a(C.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?C.callback=s:C===k(A)&&O(A),L(n)}else O(A);C=k(A)}if(null!==C)var u=!0;else{var l=k(E);null!==l&&i(j,l.startTime-n),u=!1}return u}finally{C=null,I=r,D=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||D||(P=!0,r(R))},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return k(A)},t.unstable_next=function(e){switch(I){case 1:case 2:case 3:var t=3;break;default:t=I}var n=I;I=t;try{return e()}finally{I=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=I;I=e;try{return t()}finally{I=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:M++,callback:n,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,T(E,e),null===k(A)&&e===k(E)&&(N?o():N=!0,i(j,a-s))):(e.sortIndex=u,T(A,e),P||D||(P=!0,r(R))),e},t.unstable_wrapCallback=function(e){var t=I;return function(){var n=I;I=t;try{return e.apply(this,arguments)}finally{I=n}}}},function(e,t,n){"use strict";n(62);var r=n(1),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:o,_owner:a.current}}t.jsx=l,t.jsxs=l},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,y=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case h:case a:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case d:case g:case y:case l:return e;default:return t}}case o:return t}}}function T(e){return x(e)===h}t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=l,t.Element=i,t.ForwardRef=d,t.Fragment=a,t.Lazy=g,t.Memo=y,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return T(e)||x(e)===f},t.isConcurrentMode=T,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return x(e)===d},t.isFragment=function(e){return x(e)===a},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===y},t.isPortal=function(e){return x(e)===o},t.isProfiler=function(e){return x(e)===u},t.isStrictMode=function(e){return x(e)===s},t.isSuspense=function(e){return x(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===h||e===u||e===s||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===y||e.$$typeof===l||e.$$typeof===c||e.$$typeof===d||e.$$typeof===b||e.$$typeof===_||e.$$typeof===w||e.$$typeof===m)},t.typeOf=x},function(e,t,n){"use strict";var r=n(100);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=n(30),i=n(72),o=n(103),a=n(78);function s(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var u=s(n(75));u.Axios=o,u.create=function(e){return s(a(u.defaults,e))},u.Cancel=n(79),u.CancelToken=n(116),u.isCancel=n(74),u.all=function(e){return Promise.all(e)},u.spread=n(117),u.isAxiosError=n(118),e.exports=u,e.exports.default=u},function(e,t,n){"use strict";var r=n(30),i=n(73),o=n(104),a=n(105),s=n(78);function u(e){this.defaults=e,this.interceptors={request:new o,response:new o}}u.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},u.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=u},function(e,t,n){"use strict";var r=n(30);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,n){"use strict";var r=n(30),i=n(106),o=n(74),a=n(75);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(s(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(30);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t,n){"use strict";var r=n(30);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(77);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(30);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(112),i=n(113);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(30),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},function(e,t,n){"use strict";var r=n(30);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(79);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==d(e)&&"function"!==typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1)),i=f(n(6)),o=f(n(121)),a=f(n(46)),s=f(n(137)),u=f(n(138)),l=f(n(122)),c=n(45);function f(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function d(e){return(d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){return!t||"object"!==d(t)&&"function"!==typeof t?T(e):t}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S="react-date-picker",A=["mousedown","focusin","touchstart"],E=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(f,e);var t,n,i,c=w(f);function f(){var e;m(this,f);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return O(T(e=c.call.apply(c,[this].concat(n))),"state",{}),O(T(e),"onOutsideAction",(function(t){e.wrapper&&!e.wrapper.contains(t.target)&&e.closeCalendar()})),O(T(e),"onChange",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.props.closeCalendar,r=e.props.onChange;n&&e.closeCalendar(),r&&r(t)})),O(T(e),"onFocus",(function(t){var n=e.props,r=n.disabled,i=n.onFocus;i&&i(t),r||e.openCalendar()})),O(T(e),"openCalendar",(function(){e.setState({isOpen:!0})})),O(T(e),"closeCalendar",(function(){e.setState((function(e){return e.isOpen?{isOpen:!1}:null}))})),O(T(e),"toggleCalendar",(function(){e.setState((function(e){return{isOpen:!e.isOpen}}))})),O(T(e),"stopPropagation",(function(e){return e.stopPropagation()})),O(T(e),"clear",(function(){return e.onChange(null)})),e}return t=f,i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.isOpen!==t.isOpenProps?{isOpen:e.isOpen,isOpenProps:e.isOpen}:null}}],(n=[{key:"componentDidMount",value:function(){this.handleOutsideActionListeners()}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.isOpen,r=this.props,i=r.onCalendarClose,o=r.onCalendarOpen;if(n!==t.isOpen){this.handleOutsideActionListeners();var a=n?o:i;a&&a()}}},{key:"componentWillUnmount",value:function(){this.handleOutsideActionListeners(!1)}},{key:"handleOutsideActionListeners",value:function(e){var t=this,n=this.state.isOpen,r=("undefined"!==typeof e?e:n)?"addEventListener":"removeEventListener";A.forEach((function(e){return document[r](e,t.onOutsideAction)}))}},{key:"renderInputs",value:function(){var e=this.props,t=e.autoFocus,n=e.calendarAriaLabel,i=e.calendarIcon,o=e.clearAriaLabel,a=e.clearIcon,s=e.dayAriaLabel,u=e.dayPlaceholder,c=e.disableCalendar,f=e.disabled,h=e.format,d=e.locale,p=e.maxDate,g=e.maxDetail,m=e.minDate,b=e.monthAriaLabel,_=e.monthPlaceholder,w=e.name,x=e.nativeInputAriaLabel,T=e.required,k=e.returnValue,O=e.showLeadingZeros,A=e.value,E=e.yearAriaLabel,M=e.yearPlaceholder,C=this.state.isOpen,I=y([].concat(A),1)[0],D={dayAriaLabel:s,monthAriaLabel:b,nativeInputAriaLabel:x,yearAriaLabel:E},P={dayPlaceholder:u,monthPlaceholder:_,yearPlaceholder:M};return r.default.createElement("div",{className:"".concat(S,"__wrapper")},r.default.createElement(l.default,v({},D,P,{autoFocus:t,className:"".concat(S,"__inputGroup"),disabled:f,format:h,isCalendarOpen:C,locale:d,maxDate:p,maxDetail:g,minDate:m,name:w,onChange:this.onChange,required:T,returnValue:k,showLeadingZeros:O,value:I})),null!==a&&r.default.createElement("button",{"aria-label":o,className:"".concat(S,"__clear-button ").concat(S,"__button"),disabled:f,onClick:this.clear,onFocus:this.stopPropagation,type:"button"},a),null!==i&&!c&&r.default.createElement("button",{"aria-label":n,className:"".concat(S,"__calendar-button ").concat(S,"__button"),disabled:f,onBlur:this.resetValue,onClick:this.toggleCalendar,onFocus:this.stopPropagation,type:"button"},i))}},{key:"renderCalendar",value:function(){var e=this.props.disableCalendar,t=this.state.isOpen;if(null===t||e)return null;var n=this.props,i=n.calendarClassName,o=(n.className,n.onChange,n.value),l=p(n,["calendarClassName","className","onChange","value"]),c="".concat(S,"__calendar");return r.default.createElement(u.default,null,r.default.createElement("div",{className:(0,a.default)(c,"".concat(c,"--").concat(t?"open":"closed"))},r.default.createElement(s.default,v({className:i,onChange:this.onChange,value:o||null},l))))}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,i=t.disabled,o=this.state.isOpen;return r.default.createElement("div",v({className:(0,a.default)(S,"".concat(S,"--").concat(o?"open":"closed"),"".concat(S,"--").concat(i?"disabled":"enabled"),n)},this.eventProps,{onFocus:this.onFocus,ref:function(t){t&&(e.wrapper=t)}}),this.renderInputs(),this.renderCalendar())}},{key:"eventProps",get:function(){return(0,o.default)(this.props)}}])&&b(t.prototype,n),i&&b(t,i),f}(r.PureComponent);t.default=E;var M={xmlns:"http://www.w3.org/2000/svg",width:19,height:19,viewBox:"0 0 19 19",stroke:"black",strokeWidth:2},C=r.default.createElement("svg",v({},M,{className:"".concat(S,"__calendar-button__icon ").concat(S,"__button__icon")}),r.default.createElement("rect",{fill:"none",height:"15",width:"15",x:"2",y:"2"}),r.default.createElement("line",{x1:"6",x2:"6",y1:"0",y2:"4"}),r.default.createElement("line",{x1:"13",x2:"13",y1:"0",y2:"4"})),I=r.default.createElement("svg",v({},M,{className:"".concat(S,"__clear-button__icon ").concat(S,"__button__icon")}),r.default.createElement("line",{x1:"4",x2:"15",y1:"4",y2:"15"}),r.default.createElement("line",{x1:"15",x2:"4",y1:"4",y2:"15"}));E.defaultProps={calendarIcon:C,clearIcon:I,closeCalendar:!0,isOpen:null,returnValue:"start"};var D=i.default.oneOfType([i.default.string,i.default.instanceOf(Date)]);E.propTypes={autoFocus:i.default.bool,calendarAriaLabel:i.default.string,calendarClassName:i.default.oneOfType([i.default.string,i.default.arrayOf(i.default.string)]),calendarIcon:i.default.node,className:i.default.oneOfType([i.default.string,i.default.arrayOf(i.default.string)]),clearAriaLabel:i.default.string,clearIcon:i.default.node,closeCalendar:i.default.bool,dayAriaLabel:i.default.string,dayPlaceholder:i.default.string,disableCalendar:i.default.bool,disabled:i.default.bool,format:i.default.string,isOpen:i.default.bool,locale:i.default.string,maxDate:c.isMaxDate,maxDetail:i.default.oneOf(["century","decade","year","month"]),minDate:c.isMinDate,monthAriaLabel:i.default.string,monthPlaceholder:i.default.string,name:i.default.string,nativeInputAriaLabel:i.default.string,onCalendarClose:i.default.func,onCalendarOpen:i.default.func,onChange:i.default.func,onFocus:i.default.func,required:i.default.bool,returnValue:i.default.oneOf(["start","end","range"]),showLeadingZeros:i.default.bool,value:i.default.oneOfType([D,i.default.arrayOf(D)]),yearAriaLabel:i.default.string,yearPlaceholder:i.default.string}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.focusEvents=t.keyboardEvents=t.touchEvents=t.mouseEvents=void 0;var r=["onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"];t.mouseEvents=r;var i=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"];t.touchEvents=i;var o=["onKeyDown","onKeyPress","onKeyUp"];t.keyboardEvents=o;var a=["onFocus","onBlur"];t.focusEvents=a;var s=function(e,t){var n={};return[].concat(r,i,o,a).forEach((function(r){e[r]&&(n[r]=function(n){return t?e[r](n,t(r)):e[r](n)})})),n};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==m(e)&&"function"!==typeof e)return{default:e};var t=g();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(1)),i=y(n(6)),o=n(9),a=y(n(123)),s=y(n(124)),u=y(n(126)),l=y(n(127)),c=y(n(128)),f=y(n(129)),h=n(80),d=n(130),p=n(45),v=n(53);function y(e){return e&&e.__esModule?e:{default:e}}function g(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return g=function(){return e},e}function m(e){return(m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||C(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var i=A(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==m(t)&&"function"!==typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||C(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){if(e){if("string"===typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var D=new Date;D.setFullYear(1,0,1),D.setHours(0,0,0,0);var P=new Date(864e13),N=["century","decade","year","month"],L=[].concat(M(N.slice(1)),["day"]);function j(e,t){return e&&!t||!e&&t||e&&t&&e.getTime()!==t.getTime()}function R(e){return L[N.indexOf(e)]}function F(e,t){if(!e)return null;var n=Array.isArray(e)&&2===e.length?e[t]:e;if(!n)return null;var r=function(e){return e instanceof Date?e:new Date(e)}(n);if(isNaN(r.getTime()))throw new Error("Invalid date: ".concat(e));return r}function z(e,t){var n=e.value,r=e.minDate,i=e.maxDate,o=e.maxDetail,a=F(n,t);if(!a)return null;var s=R(o),u=[d.getBegin,d.getEnd][t](s,a);return(0,v.between)(u,r,i)}var U=function(e){return z(e,0)},q=function(e){return z(e,1)},V=function(e){var t=e.value;return Array.isArray(t)?t:[U,q].map((function(t){return t(e)}))};function B(e){return"true"===e.getAttribute("data-input")}function H(e,t){var n=e;do{n=n[t]}while(n&&!B(n));return n}function W(e){e&&e.focus()}var Y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(p,e);var t,n,i,d=k(p);function p(){var e;w(this,p);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return E(S(e=d.call.apply(d,[this].concat(n))),"state",{year:null,month:null,day:null}),E(S(e),"onClick",(function(e){e.target===e.currentTarget&&W(e.target.children[1])})),E(S(e),"onKeyDown",(function(t){switch(t.key){case"ArrowLeft":case"ArrowRight":case e.divider:t.preventDefault(),W(H(t.target,"ArrowLeft"===t.key?"previousElementSibling":"nextElementSibling"))}})),E(S(e),"onKeyUp",(function(e){var t=e.key,n=e.target;if(!isNaN(parseInt(t,10))){var r=n.value,i=n.getAttribute("max");if(10*r>i||r.length>=i.length){W(H(n,"nextElementSibling"))}}})),E(S(e),"onChange",(function(t){var n=t.target,r=n.name,i=n.value;e.setState(E({},r,i),e.onChangeExternal)})),E(S(e),"onChangeNative",(function(t){var n=e.props.onChange,r=t.target.value;n&&n(function(){if(!r)return null;var e=_(r.split("-"),3),t=e[0],n=e[1],i=e[2],o=parseInt(t,10),a=parseInt(n,10)-1||0,s=parseInt(i,10)||1,u=new Date;return u.setFullYear(o,a,s),u.setHours(0,0,0,0),u}(),!1)})),E(S(e),"onChangeExternal",(function(){var t=e.props.onChange;if(t){var n=[e.dayInput,e.monthInput,e.yearInput].filter(Boolean),r={};if(n.forEach((function(e){r[e.name]=e.value})),n.every((function(e){return!e.value})))t(null,!1);else if(n.every((function(e){return e.value&&e.validity.valid}))){var i=parseInt(r.year,10),o=parseInt(r.month,10)-1||0,a=parseInt(r.day||1,10),s=new Date;s.setFullYear(i,o,a),s.setHours(0,0,0,0),t(e.getProcessedValue(s),!1)}}})),E(S(e),"renderDay",(function(t,n){var i=e.props,o=i.autoFocus,a=i.dayAriaLabel,u=i.dayPlaceholder,l=i.showLeadingZeros,c=e.state,f=c.day,h=c.month,d=c.year;if(t&&t.length>2)throw new Error("Unsupported token: ".concat(t));var p=t&&2===t.length;return r.default.createElement(s.default,b({key:"day"},e.commonInputProps,{ariaLabel:a,autoFocus:0===n&&o,month:h,placeholder:u,showLeadingZeros:p||l,value:f,year:d}))})),E(S(e),"renderMonth",(function(t,n){var i=e.props,o=i.autoFocus,a=i.locale,s=i.monthAriaLabel,c=i.monthPlaceholder,f=i.showLeadingZeros,h=e.state,d=h.month,p=h.year;if(t&&t.length>4)throw new Error("Unsupported token: ".concat(t));if(t.length>2)return r.default.createElement(l.default,b({key:"month"},e.commonInputProps,{ariaLabel:s,autoFocus:0===n&&o,locale:a,placeholder:c,short:3===t.length,value:d,year:p}));var v=t&&2===t.length;return r.default.createElement(u.default,b({key:"month"},e.commonInputProps,{ariaLabel:s,autoFocus:0===n&&o,placeholder:c,showLeadingZeros:v||f,value:d,year:p}))})),E(S(e),"renderYear",(function(t,n){var i=e.props,o=i.autoFocus,a=i.yearAriaLabel,s=i.yearPlaceholder,u=e.state.year;return r.default.createElement(c.default,b({key:"year"},e.commonInputProps,{ariaLabel:a,autoFocus:0===n&&o,placeholder:s,value:u,valueType:e.valueType}))})),e}return t=p,i=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.minDate,r=e.maxDate,i=e.maxDetail,a={};e.isCalendarOpen!==t.isCalendarOpen&&(a.isCalendarOpen=e.isCalendarOpen);var s=U({value:e.value,minDate:n,maxDate:r,maxDetail:i}),u=[s,t.value];return(a.isCalendarOpen||j.apply(void 0,M(u.map((function(e){return U({value:e,minDate:n,maxDate:r,maxDetail:i})}))))||j.apply(void 0,M(u.map((function(e){return q({value:e,minDate:n,maxDate:r,maxDetail:i})})))))&&(s?(a.year=(0,o.getYear)(s).toString(),a.month=(0,o.getMonthHuman)(s).toString(),a.day=(0,o.getDate)(s).toString()):(a.year=null,a.month=null,a.day=null),a.value=s),a}}],(n=[{key:"getProcessedValue",value:function(e){var t=this.props,n=t.minDate,r=t.maxDate,i=t.maxDetail,o=t.returnValue;return function(){switch(o){case"start":return U;case"end":return q;case"range":return V;default:throw new Error("Invalid returnValue.")}}()({value:e,minDate:n,maxDate:r,maxDetail:i})}},{key:"renderCustomInputs",value:function(){var e=this.placeholder,t=this.props.format;return function(e,t,n){var i=[],o=new RegExp(Object.keys(t).map((function(e){return"".concat(e,"+")})).join("|"),"g"),s=e.match(o);return e.split(o).reduce((function(e,o,u){var l=o&&r.default.createElement(a.default,{key:"separator_".concat(u)},o),c=[].concat(M(e),[l]),f=s&&s[u];if(f){var h=t[f]||t[Object.keys(t).find((function(e){return f.match(e)}))];!n&&i.includes(h)?c.push(f):(c.push(h(f,u)),i.push(h))}return c}),[])}(e,{d:this.renderDay,M:this.renderMonth,y:this.renderYear},"undefined"!==typeof t)}},{key:"renderNativeInput",value:function(){var e=this.props,t=e.disabled,n=e.maxDate,i=e.minDate,o=e.name,a=e.nativeInputAriaLabel,s=e.required,u=this.state.value;return r.default.createElement(f.default,{key:"date",ariaLabel:a,disabled:t,maxDate:n||P,minDate:i||D,name:o,onChange:this.onChangeNative,required:s,value:u,valueType:this.valueType})}},{key:"render",value:function(){var e=this.props.className;return r.default.createElement("div",{className:e,onClick:this.onClick},this.renderNativeInput(),this.renderCustomInputs())}},{key:"formatDate",get:function(){var e=this.props.maxDetail,t={year:"numeric"},n=N.indexOf(e);return n>=2&&(t.month="numeric"),n>=3&&(t.day="numeric"),(0,h.getFormatter)(t)}},{key:"divider",get:function(){var e=this.placeholder.match(/[^0-9a-z]/i);return e?e[0]:null}},{key:"placeholder",get:function(){var e=this.props,t=e.format,n=e.locale;if(t)return t;var r=new Date(2017,11,11),i=this.formatDate(n,r),o=["y","M","d"],a=i;return["year","month","day"].forEach((function(e,t){var i,s,u=(i=e,s=r,(0,h.getFormatter)(E({useGrouping:!1},i,"numeric"))(n,s).match(/\d{1,}/)),l=o[t];a=a.replace(u,l)})),a}},{key:"commonInputProps",get:function(){var e=this,t=this.props,n=t.className,r=t.disabled,i=t.isCalendarOpen,o=t.maxDate,a=t.minDate,s=t.required;return{className:n,disabled:r,maxDate:o||P,minDate:a||D,onChange:this.onChange,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,required:s||i,itemRef:function(t,n){e["".concat(n,"Input")]=t}}}},{key:"valueType",get:function(){return R(this.props.maxDetail)}}])&&x(t.prototype,n),i&&x(t,i),p}(r.PureComponent);t.default=Y,Y.defaultProps={maxDetail:"month",name:"date",returnValue:"start"};var G=i.default.oneOfType([i.default.string,i.default.instanceOf(Date)]);Y.propTypes={autoFocus:i.default.bool,className:i.default.string.isRequired,dayAriaLabel:i.default.string,dayPlaceholder:i.default.string,disabled:i.default.bool,format:i.default.string,isCalendarOpen:i.default.bool,locale:i.default.string,maxDate:p.isMaxDate,maxDetail:i.default.oneOf(N),minDate:p.isMinDate,monthAriaLabel:i.default.string,monthPlaceholder:i.default.string,name:i.default.string,nativeInputAriaLabel:i.default.string,onChange:i.default.func,required:i.default.bool,returnValue:i.default.oneOf(["start","end","range"]),showLeadingZeros:i.default.bool,value:i.default.oneOfType([G,i.default.arrayOf(G)]),yearAriaLabel:i.default.string,yearPlaceholder:i.default.string}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=o(n(1)),i=o(n(6));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.children;return r.default.createElement("span",{className:"react-date-picker__inputGroup__divider"},t)}a.propTypes={children:i.default.node}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var r=l(n(1)),i=l(n(6)),o=n(9),a=l(n(63)),s=n(45),u=n(53);function l(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function h(e){var t=e.maxDate,n=e.minDate,i=e.month,s=e.year,l=f(e,["maxDate","minDate","month","year"]),h=i?(0,o.getDaysInMonth)(new Date(s,i-1,1)):31;function d(e){return e&&s===(0,o.getYear)(e).toString()&&i===(0,o.getMonthHuman)(e).toString()}var p=(0,u.safeMin)(h,d(t)&&(0,o.getDate)(t)),v=(0,u.safeMax)(1,d(n)&&(0,o.getDate)(n));return r.default.createElement(a.default,c({max:p,min:v,name:"day"},l))}h.propTypes={ariaLabel:i.default.string,className:i.default.string.isRequired,disabled:i.default.bool,itemRef:i.default.func,maxDate:s.isMaxDate,minDate:s.isMinDate,month:i.default.string,onChange:i.default.func,onKeyDown:i.default.func,onKeyUp:i.default.func,placeholder:i.default.string,required:i.default.bool,showLeadingZeros:i.default.bool,value:i.default.string,year:i.default.string}},function(e,t,n){"use strict";n.r(t),n.d(t,"getFontShorthand",(function(){return i})),n.d(t,"measureText",(function(){return o})),n.d(t,"updateInputWidth",(function(){return a}));var r=["normal","small-caps"];function i(e){var t=window.getComputedStyle(e);if(t.font)return t.font;if(!(""!==t["font-family"]))return"";var n=r.includes(t["font-variant"])?t["font-variant"]:"normal";return"".concat(t["font-style"]," ").concat(n," ").concat(t["font-weight"]," ").concat(t["font-size"]," / ").concat(t["line-height"]," ").concat(t["font-family"])}function o(e,t){var n=(o.canvas||(o.canvas=document.createElement("canvas"))).getContext("2d");if(!n)return null;n.font=t;var r=n.measureText(e).width;return Math.ceil(r)}function a(e){if("undefined"===typeof window)return null;var t=i(e),n=o(e.value||e.placeholder,t);return null===n?null:(e.style.width="".concat(n,"px"),n)}t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var r=l(n(1)),i=l(n(6)),o=n(9),a=l(n(63)),s=n(45),u=n(53);function l(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function h(e){var t=e.maxDate,n=e.minDate,i=e.year,s=f(e,["maxDate","minDate","year"]);function l(e){return e&&i===(0,o.getYear)(e).toString()}var h=(0,u.safeMin)(12,l(t)&&(0,o.getMonthHuman)(t)),d=(0,u.safeMax)(1,l(n)&&(0,o.getMonthHuman)(n));return r.default.createElement(a.default,c({max:h,min:d,name:"month"},s))}h.propTypes={ariaLabel:i.default.string,className:i.default.string.isRequired,disabled:i.default.bool,itemRef:i.default.func,maxDate:s.isMaxDate,minDate:s.isMinDate,onChange:i.default.func,onKeyDown:i.default.func,onKeyUp:i.default.func,placeholder:i.default.string,required:i.default.bool,showLeadingZeros:i.default.bool,value:i.default.string,year:i.default.string}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var r=c(n(1)),i=c(n(6)),o=c(n(46)),a=n(9),s=n(80),u=n(45),l=n(53);function c(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function v(e){var t=e.ariaLabel,n=e.className,i=e.itemRef,u=e.locale,c=e.maxDate,d=e.minDate,v=e.placeholder,y=void 0===v?"--":v,g=e.short,m=e.value,b=e.year,_=p(e,["ariaLabel","className","itemRef","locale","maxDate","minDate","placeholder","short","value","year"]);function w(e){return e&&b===(0,a.getYear)(e).toString()}var x=(0,l.safeMin)(12,w(c)&&(0,a.getMonthHuman)(c)),T=(0,l.safeMax)(1,w(d)&&(0,a.getMonthHuman)(d)),k=h(Array(12)).map((function(e,t){return new Date(2019,t,1)})),O="month",S=g?s.formatShortMonth:s.formatMonth;return r.default.createElement("select",f({"aria-label":t,className:(0,o.default)("".concat(n,"__input"),"".concat(n,"__").concat(O)),"data-input":"true",name:O,ref:function(e){i&&i(e,O)},value:null!==m?m:""},_),!m&&r.default.createElement("option",{value:""},y),k.map((function(e){var t=(0,a.getMonthHuman)(e),n=t<T||t>x;return r.default.createElement("option",{key:t,disabled:n,value:t},S(u,e))})))}v.propTypes={ariaLabel:i.default.string,className:i.default.string.isRequired,disabled:i.default.bool,itemRef:i.default.func,locale:i.default.string,maxDate:u.isMaxDate,minDate:u.isMinDate,onChange:i.default.func,onKeyDown:i.default.func,onKeyUp:i.default.func,placeholder:i.default.string,required:i.default.bool,short:i.default.bool,value:i.default.string,year:i.default.string}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var r=l(n(1)),i=l(n(6)),o=n(9),a=l(n(63)),s=n(45),u=n(53);function l(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function h(e){var t=e.maxDate,n=e.minDate,i=e.placeholder,s=void 0===i?"----":i,l=e.valueType,h=f(e,["maxDate","minDate","placeholder","valueType"]),d=(0,u.safeMin)(275760,t&&(0,o.getYear)(t)),p=(0,u.safeMax)(1,n&&(0,o.getYear)(n)),v="century"===l?10:1;return r.default.createElement(a.default,c({max:d,min:p,name:"year",placeholder:s,step:v},h))}h.propTypes={ariaLabel:i.default.string,className:i.default.string.isRequired,disabled:i.default.bool,itemRef:i.default.func,maxDate:s.isMaxDate,minDate:s.isMinDate,onChange:i.default.func,onKeyDown:i.default.func,onKeyUp:i.default.func,placeholder:i.default.string,required:i.default.bool,value:i.default.string,valueType:s.isValueType}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=s(n(1)),i=s(n(6)),o=n(9),a=n(45);function s(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.ariaLabel,n=e.disabled,i=e.maxDate,a=e.minDate,s=e.name,u=e.onChange,l=e.required,c=e.value,f=e.valueType,h=function(){switch(f){case"decade":case"year":return"number";case"month":return"month";case"day":return"date";default:throw new Error("Invalid valueType.")}}(),d=function(){switch(f){case"century":case"decade":case"year":return o.getYear;case"month":return o.getISOLocalMonth;case"day":return o.getISOLocalDate;default:throw new Error("Invalid valueType.")}}();return r.default.createElement("input",{"aria-label":t,disabled:n,max:i?d(i):null,min:a?d(a):null,name:s,onChange:u,onFocus:function(e){e.stopPropagation()},required:l,style:{visibility:"hidden",position:"absolute",zIndex:"-999"},type:h,value:c?d(c):""})}u.propTypes={ariaLabel:i.default.string,disabled:i.default.bool,maxDate:a.isMaxDate,minDate:a.isMinDate,name:i.default.string,onChange:i.default.func,required:i.default.bool,value:i.default.oneOfType([i.default.string,i.default.instanceOf(Date)]),valueType:a.isValueType}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBegin=function(e,t){switch(e){case"century":return(0,r.getCenturyStart)(t);case"decade":return(0,r.getDecadeStart)(t);case"year":return(0,r.getYearStart)(t);case"month":return(0,r.getMonthStart)(t);case"day":return(0,r.getDayStart)(t);default:throw new Error("Invalid rangeType: ".concat(e))}},t.getEnd=function(e,t){switch(e){case"century":return(0,r.getCenturyEnd)(t);case"decade":return(0,r.getDecadeEnd)(t);case"year":return(0,r.getYearEnd)(t);case"month":return(0,r.getMonthEnd)(t);case"day":return(0,r.getDayEnd)(t);default:throw new Error("Invalid rangeType: ".concat(e))}};var r=n(9)},function(e,t,n){},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(I){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,o=Object.create(i.prototype),a=new E(r||[]);return o._invoke=function(e,t,n){var r=f;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return C()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=O(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function y(){}function g(){}function m(){}var b={};b[o]=function(){return this};var _=Object.getPrototypeOf,w=_&&_(_(M([])));w&&w!==n&&r.call(w,o)&&(b=w);var x=m.prototype=y.prototype=Object.create(b);function T(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(i,o,a,s){var u=c(e[i],e,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function O(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function M(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:C}}function C(){return{value:t,done:!0}}return g.prototype=x.constructor=m,m.constructor=g,g.displayName=u(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},T(k.prototype),k.prototype[a]=function(){return this},e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},T(x),u(x,s,"Generator"),x[o]=function(){return this},x.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=M,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:M(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";(function(e){var t=n(10);(function(){var n,r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};var i=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof e&&e,t];for(var n=0;n<t.length;++n){var r=t[n];if(r&&r.Math==Math)return r}return globalThis}(this);function o(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function a(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:o(e)}}!function(e,t){if(t){var n=i;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in n||(n[a]={}),n=n[a]}(t=t(o=n[e=e[e.length-1]]))!=o&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var o=i.setTimeout;n.prototype.c=function(e){o(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Qa(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){o(n)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Qa(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Qa=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=a(e),o=i.next();!o.done;o=i.next())r(o.value).Qa(t,n)}))},t.all=function(e){var n=a(e),i=n.next();return i.done?r([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Qa(o(a.length-1),t),i=n.next()}while(!i.done)}))},t}));var s=s||{},u=this||self,l=/^[\w+/_-]+[=]{0,2}$/,c=null;function f(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&l.test(e)?e:""}function h(){}function d(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function p(e){var t=d(e);return"array"==t||"object"==t&&"number"==typeof e.length}function v(e){return"function"==d(e)}function y(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function g(e){return Object.prototype.hasOwnProperty.call(e,m)&&e[m]||(e[m]=++b)}var m="closure_uid_"+(1e9*Math.random()>>>0),b=0;function _(e,t,n){return e.call.apply(e.bind,arguments)}function w(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function x(e,t,n){return(x=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:w).apply(null,arguments)}function T(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var k=Date.now;function O(e,t){function n(){}n.prototype=t.prototype,e.ab=t.prototype,e.prototype=new n,e.prototype.constructor=e}function S(e){return e}function A(e,t,n){this.code=C+e,this.message=t||I[e]||"",this.a=n||null}function E(e){var t=e&&e.code;return t?new A(t.substring(C.length),e.message,e.serverResponse):null}O(A,Error),A.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},A.prototype.toJSON=function(){return this.w()};var M,C="auth/",I={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},D={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function P(e){for(var t in D)if(D[t].id===e)return{firebaseEndpoint:(e=D[t]).Ta,secureTokenEndpoint:e.Za,identityPlatformEndpoint:e.Wa};return null}function N(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function L(e){if(Error.captureStackTrace)Error.captureStackTrace(this,L);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function j(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");L.call(this,n+e[r])}function R(e,t){throw new j("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function F(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function z(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function U(){this.b=this.a=null}M=P("__EID__")?"__EID__":void 0,O(L,Error),L.prototype.name="CustomError",O(j,L),j.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var q=new F((function(){return new B}),(function(e){e.reset()}));function V(){var e=_t,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function B(){this.next=this.b=this.a=null}U.prototype.add=function(e,t){var n=q.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},B.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},B.prototype.reset=function(){this.next=this.b=this.a=null};var H=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},W=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};var Y=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"===typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},G=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"===typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},K=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function X(e,t){return 0<=H(e,t)}function Q(e,t){var n;return(n=0<=(t=H(e,t)))&&Array.prototype.splice.call(e,t,1),n}function J(e,t){!function(e,t){for(var n="string"===typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function $(e){return Array.prototype.concat.apply([],arguments)}function Z(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var ee,te=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},ne=/&/g,re=/</g,ie=/>/g,oe=/"/g,ae=/'/g,se=/\x00/g,ue=/[\x00&<>"']/;function le(e,t){return-1!=e.indexOf(t)}function ce(e,t){return e<t?-1:e>t?1:0}e:{var fe=u.navigator;if(fe){var he=fe.userAgent;if(he){ee=he;break e}}ee=""}function de(e){return le(ee,e)}function pe(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function ve(e){for(var t in e)return!1;return!0}function ye(e){var t,n={};for(t in e)n[t]=e[t];return n}var ge="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ge.length;o++)n=ge[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function be(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break e}}catch(a){}i=null}if(i&&"undefined"!=typeof i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(y(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(a){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;R("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function _e(e,t){this.a=e===ke&&t||"",this.b=Te}function we(e){return e instanceof _e&&e.constructor===_e&&e.b===Te?e.a:(R("expected object of type Const, got '"+e+"'"),"type_error:Const")}_e.prototype.sa=!0,_e.prototype.ra=function(){return this.a},_e.prototype.toString=function(){return"Const{"+this.a+"}"};var xe,Te={},ke={};function Oe(){if(void 0===xe){var e=null,t=u.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:S,createScript:S,createScriptURL:S})}catch(n){u.console&&u.console.error(n.message)}xe=e}else xe=e}return xe}function Se(e,t){this.a=t===Ie?e:""}function Ae(e){return e instanceof Se&&e.constructor===Se?e.a:(R("expected object of type TrustedResourceUrl, got '"+e+"' of type "+d(e)),"type_error:TrustedResourceUrl")}function Ee(e,t){var n=we(e);if(!Ce.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=Oe();return new Se(e=t?t.createScriptURL(e):e,Ie)}(e=n.replace(Me,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof _e?we(e):encodeURIComponent(String(e))})))}Se.prototype.sa=!0,Se.prototype.ra=function(){return this.a.toString()},Se.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Me=/%{(\w+)}/g,Ce=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ie={};function De(e,t){this.a=t===ze?e:""}function Pe(e){return e instanceof De&&e.constructor===De?e.a:(R("expected object of type SafeUrl, got '"+e+"' of type "+d(e)),"type_error:SafeUrl")}De.prototype.sa=!0,De.prototype.ra=function(){return this.a.toString()},De.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ne=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Le=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,je=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Re(e){if(e instanceof De)return e;if(e="object"==typeof e&&e.sa?e.ra():String(e),je.test(e))e=new De(e,ze);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(Le);e=t&&Ne.test(t[1])?new De(e,ze):null}return e}function Fe(e){return e instanceof De?e:(e="object"==typeof e&&e.sa?e.ra():String(e),je.test(e)||(e="about:invalid#zClosurez"),new De(e,ze))}var ze={},Ue=new De("about:invalid#zClosurez",ze);function qe(e,t,n){this.a=n===Ve?e:""}qe.prototype.sa=!0,qe.prototype.ra=function(){return this.a.toString()},qe.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ve={};function Be(e,t,n,r){return e=e instanceof De?e:Fe(e),t=t||u,n=n instanceof _e?we(n):n||"",t.open(Pe(e),n,r,void 0)}function He(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function We(e){return ue.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(ne,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(re,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(ie,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(oe,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(ae,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(se,"&#0;"))),e}function Ye(e){return Ye[" "](e),e}Ye[" "]=h;var Ge,Ke=de("Opera"),Xe=de("Trident")||de("MSIE"),Qe=de("Edge"),Je=Qe||Xe,$e=de("Gecko")&&!(le(ee.toLowerCase(),"webkit")&&!de("Edge"))&&!(de("Trident")||de("MSIE"))&&!de("Edge"),Ze=le(ee.toLowerCase(),"webkit")&&!de("Edge");function et(){var e=u.document;return e?e.documentMode:void 0}e:{var tt="",nt=function(){var e=ee;return $e?/rv:([^\);]+)(\)|;)/.exec(e):Qe?/Edge\/([\d\.]+)/.exec(e):Xe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ze?/WebKit\/(\S+)/.exec(e):Ke?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(nt&&(tt=nt?nt[1]:""),Xe){var rt=et();if(null!=rt&&rt>parseFloat(tt)){Ge=String(rt);break e}}Ge=tt}var it,ot={};function at(e){return function(e,t){var n=ot;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=te(String(Ge)).split("."),r=te(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=ce(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ce(0==a[2].length,0==s[2].length)||ce(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(u.document&&Xe){var st=et();it=st||(parseInt(Ge,10)||void 0)}else it=void 0;var ut=it;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(ha){}var lt=!Xe||9<=Number(ut);function ct(e){var t=document;return"string"===typeof e?t.getElementById(e):e}function ft(e,t){pe(t,(function(t,n){t&&"object"==typeof t&&t.sa&&(t=t.ra()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:pt.hasOwnProperty(n)?e.setAttribute(pt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var ht,dt,pt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function vt(e,t,n){function r(n){n&&t.appendChild("string"===typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!p(o)||y(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(y(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(v(o)){a="function"==typeof o.item;break e}}a=!1}W(a?Z(o):o,r)}}}function yt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function gt(e){u.setTimeout((function(){throw e}),0)}function mt(e,t){dt||function(){if(u.Promise&&u.Promise.resolve){var e=u.Promise.resolve(void 0);dt=function(){e.then(wt)}}else dt=function(){var e=wt;!v(u.setImmediate)||u.Window&&u.Window.prototype&&!de("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(ht||(ht=function(){var e=u.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!de("Presto")&&(e=function(){var e=yt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=x((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!de("Trident")&&!de("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Gb;n.Gb=null,e()}},function(e){r.next={Gb:e},r=r.next,t.port2.postMessage(0)}}return function(e){u.setTimeout(e,0)}}()),ht(e)):u.setImmediate(e)}}(),bt||(dt(),bt=!0),_t.add(e,t)}var bt=!1,_t=new U;function wt(){for(var e;e=V();){try{e.a.call(e.b)}catch(t){gt(t)}z(q,e)}bt=!1}function xt(e,t){if(this.a=Tt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=h)try{var n=this;e.call(t,(function(e){jt(n,kt,e)}),(function(e){if(!(e instanceof Bt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}jt(n,Ot,e)}))}catch(r){jt(this,Ot,r)}}var Tt=0,kt=2,Ot=3;function St(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}St.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var At=new F((function(){return new St}),(function(e){e.reset()}));function Et(e,t,n){var r=At.get();return r.g=e,r.b=t,r.f=n,r}function Mt(e){if(e instanceof xt)return e;var t=new xt(h);return jt(t,kt,e),t}function Ct(e){return new xt((function(t,n){n(e)}))}function It(e,t,n){Rt(e,t,n,null)||mt(T(t,e))}function Dt(e){return new xt((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)It(e[o],T(i,o,!0),T(i,o,!1));else t(r)}))}function Pt(e,t){if(e.a==Tt)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Tt&&1==r?Pt(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):zt(n),Ut(n,i,Ot,t)))}e.c=null}else jt(e,Ot,t)}function Nt(e,t){e.b||e.a!=kt&&e.a!=Ot||Ft(e),e.f?e.f.next=t:e.b=t,e.f=t}function Lt(e,t,n,r){var i=Et(null,null,null);return i.a=new xt((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(a){o(a)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Bt?o(t):e(i)}catch(a){o(a)}}:o})),i.a.c=e,Nt(e,i),i.a}function jt(e,t,n){e.a==Tt&&(e===n&&(t=Ot,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Rt(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Ft(e),t!=Ot||n instanceof Bt||function(e,t){e.g=!0,mt((function(){e.g&&Vt.call(null,t)}))}(e,n)))}function Rt(e,t,n,r){if(e instanceof xt)return Nt(e,Et(t||h,n||null,r)),!0;if(N(e))return e.then(t,n,r),!0;if(y(e))try{var i=e.then;if(v(i))return function(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}function a(e){s||(s=!0,n.call(i,e))}var s=!1;try{t.call(e,a,o)}catch(u){o(u)}}(e,i,t,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Ft(e){e.h||(e.h=!0,mt(e.gc,e))}function zt(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Ut(e,t,n,r){if(n==Ot&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,qt(t,n,r);else try{t.c?t.g.call(t.f):qt(t,n,r)}catch(i){Vt.call(null,i)}z(At,t)}function qt(e,t,n){t==kt?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}xt.prototype.then=function(e,t,n){return Lt(this,v(e)?e:null,v(t)?t:null,n)},xt.prototype.$goog_Thenable=!0,(n=xt.prototype).oa=function(e,t){return(e=Et(e,e,t)).c=!0,Nt(this,e),this},n.o=function(e,t){return Lt(this,null,e,t)},n.cancel=function(e){if(this.a==Tt){var t=new Bt(e);mt((function(){Pt(this,t)}),this)}},n.$c=function(e){this.a=Tt,jt(this,kt,e)},n.ad=function(e){this.a=Tt,jt(this,Ot,e)},n.gc=function(){for(var e;e=zt(this);)Ut(this,e,this.a,this.i);this.h=!1};var Vt=gt;function Bt(e){L.call(this,e)}function Ht(){0!=Wt&&(Yt[g(this)]=this),this.xa=this.xa,this.pa=this.pa}O(Bt,L),Bt.prototype.name="cancel";var Wt=0,Yt={};function Gt(e){if(!e.xa&&(e.xa=!0,e.Da(),0!=Wt)){var t=g(e);if(0!=Wt&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Yt[t]}}Ht.prototype.xa=!1,Ht.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Kt=Object.freeze||function(e){return e},Xt=!Xe||9<=Number(ut),Qt=Xe&&!at("9"),Jt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",h,t),u.removeEventListener("test",h,t)}catch(n){}return e}();function $t(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function Zt(e,t){if($t.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if($e){e:{try{Ye(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:en[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}$t.prototype.preventDefault=function(){this.defaultPrevented=!0},O(Zt,$t);var en=Kt({2:"touch",3:"pen",4:"mouse"});Zt.prototype.preventDefault=function(){Zt.ab.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Qt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},Zt.prototype.g=function(){return this.a};var tn="closure_listenable_"+(1e6*Math.random()|0),nn=0;function rn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Va=i,this.key=++nn,this.va=this.Pa=!1}function on(e){e.va=!0,e.listener=null,e.proxy=null,e.src=null,e.Va=null}function an(e){this.src=e,this.a={},this.b=0}function sn(e,t){var n=t.type;n in e.a&&Q(e.a[n],t)&&(on(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function un(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.va&&o.listener==t&&o.capture==!!n&&o.Va==r)return i}return-1}an.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=un(e,t,r,i);return-1<a?(t=e[a],n||(t.Pa=!1)):((t=new rn(t,this.src,o,!!r,i)).Pa=n,e.push(t)),t};var ln="closure_lm_"+(1e6*Math.random()|0),cn={};function fn(e,t,n,r,i){if(r&&r.once)dn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)fn(e,t[o],n,r,i);else n=xn(n),e&&e[tn]?kn(e,t,n,y(r)?!!r.capture:!!r,i):hn(e,t,n,!1,r,i)}function hn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=y(i)?!!i.capture:!!i,s=_n(e);if(s||(e[ln]=s=new an(e)),!(n=s.add(t,n,r,a,o)).proxy){if(r=function(){var e=bn,t=Xt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Jt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(yn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function dn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)dn(e,t[o],n,r,i);else n=xn(n),e&&e[tn]?On(e,t,n,y(r)?!!r.capture:!!r,i):hn(e,t,n,!0,r,i)}function pn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)pn(e,t[o],n,r,i);else r=y(r)?!!r.capture:!!r,n=xn(n),e&&e[tn]?(e=e.v,(t=String(t).toString())in e.a&&(-1<(n=un(o=e.a[t],n,r,i))&&(on(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=_n(e))&&(t=e.a[t.toString()],e=-1,t&&(e=un(t,n,r,i)),(n=-1<e?t[e]:null)&&vn(n))}function vn(e){if("number"!==typeof e&&e&&!e.va){var t=e.src;if(t&&t[tn])sn(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(yn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=_n(t))?(sn(n,e),0==n.b&&(n.src=null,t[ln]=null)):on(e)}}}function yn(e){return e in cn?cn[e]:cn[e]="on"+e}function gn(e,t,n,r){var i=!0;if((e=_n(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.va&&(o=mn(o,r),i=i&&!1!==o)}return i}function mn(e,t){var n=e.listener,r=e.Va||e.src;return e.Pa&&vn(e),n.call(r,t)}function bn(e,t){if(e.va)return!0;if(!Xt){if(!t)e:{t=["window","event"];for(var n=u,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Zt(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=gn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=gn(r[i],e,!1,t),n=n&&o}return n}return mn(e,new Zt(t,this))}function _n(e){return(e=e[ln])instanceof an?e:null}var wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function xn(e){return v(e)?e:(e[wn]||(e[wn]=function(t){return e.handleEvent(t)}),e[wn])}function Tn(){Ht.call(this),this.v=new an(this),this.ac=this,this.gb=null}function kn(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function On(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function Sn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Va||a.src;a.Pa&&sn(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function An(e,t,n){if(v(e))n&&(e=x(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=x(e.handleEvent,e)}return 2147483647<Number(t)?-1:u.setTimeout(e,t||0)}function En(e){var t=null;return new xt((function(n,r){-1==(t=An((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw u.clearTimeout(t),e}))}function Mn(e){if(e.W&&"function"==typeof e.W)return e.W();if("string"===typeof e)return e.split("");if(p(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Cn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.W||"function"!=typeof e.W){if(p(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function In(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof In)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Dn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Pn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Pn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Pn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}O(Tn,Ht),Tn.prototype[tn]=!0,Tn.prototype.addEventListener=function(e,t,n,r){fn(this,e,t,n,r)},Tn.prototype.removeEventListener=function(e,t,n,r){pn(this,e,t,n,r)},Tn.prototype.dispatchEvent=function(e){var t,n=this.gb;if(n)for(t=[];n;n=n.gb)t.push(n);n=this.ac;var r=e.type||e;if("string"===typeof e)e=new $t(e,n);else if(e instanceof $t)e.target=e.target||n;else{var i=e;me(e=new $t(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=Sn(a,r,!0,e)&&i}if(i=Sn(a=e.b=n,r,!0,e)&&i,i=Sn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Sn(a=e.b=t[o],r,!1,e)&&i;return i},Tn.prototype.Da=function(){if(Tn.ab.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)on(n[r]);delete t.a[e],t.b--}}this.gb=null},(n=In.prototype).W=function(){Dn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},n.Y=function(){return Dn(this),this.a.concat()},n.clear=function(){this.b={},this.c=this.a.length=0},n.get=function(e,t){return Pn(this.b,e)?this.b[e]:t},n.set=function(e,t){Pn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},n.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Nn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ln(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Ln?(this.i=void 0!==t?t:e.i,jn(this,e.c),this.l=e.l,this.a=e.a,Rn(this,e.g),this.f=e.f,Fn(this,rr(e.b)),this.h=e.h):e&&(n=String(e).match(Nn))?(this.i=!!t,jn(this,n[1]||"",!0),this.l=Bn(n[2]||""),this.a=Bn(n[3]||"",!0),Rn(this,n[4]),this.f=Bn(n[5]||"",!0),Fn(this,n[6]||"",!0),this.h=Bn(n[7]||"")):(this.i=!!t,this.b=new Jn(null,this.i))}function jn(e,t,n){e.c=n?Bn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Rn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Fn(e,t,n){t instanceof Jn?(e.b=t,function(e,t){t&&!e.f&&($n(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(er(this,t),nr(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=Hn(t,Xn)),e.b=new Jn(t,e.i))}function zn(e,t,n){e.b.set(t,n)}function Un(e,t){return e.b.get(t)}function qn(e){return e instanceof Ln?new Ln(e):new Ln(e,void 0)}function Vn(e,t,n,r){var i=new Ln(null,void 0);return e&&jn(i,e),t&&(i.a=t),n&&Rn(i,n),r&&(i.f=r),i}function Bn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Hn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Wn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Wn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ln.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Hn(t,Yn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(Hn(t,Yn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(Hn(n,"/"==n.charAt(0)?Kn:Gn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Hn(n,Qn)),e.join("")},Ln.prototype.resolve=function(e){var t=new Ln(this),n=!!e.c;n?jn(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Rn(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(le(i,"./")||le(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?Fn(t,rr(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Yn=/[#\/\?@]/g,Gn=/[#\?:]/g,Kn=/[#\?]/g,Xn=/[#\?@]/g,Qn=/#/g;function Jn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function $n(e){e.a||(e.a=new In,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Zn(e){var t=Cn(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new Jn(null,void 0);e=Mn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?nr(n,i,o):n.add(i,o)}return n}function er(e,t){$n(e),t=ir(e,t),Pn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Pn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Dn(e)))}function tr(e,t){return $n(e),t=ir(e,t),Pn(e.a.b,t)}function nr(e,t,n){er(e,t),0<n.length&&(e.c=null,e.a.set(ir(e,t),Z(n)),e.b+=n.length)}function rr(e){var t=new Jn;return t.c=e.c,e.a&&(t.a=new In(e.a),t.b=e.b),t}function ir(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function or(e){var t=[];return sr(new ar,e,t),t.join("")}function ar(){}function sr(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),sr(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&("function"!=typeof(o=t[r])&&(n.push(i),cr(r,n),n.push(":"),sr(e,o,n),i=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":cr(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(n=Jn.prototype).add=function(e,t){$n(this),this.c=null,e=ir(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},n.clear=function(){this.a=this.c=null,this.b=0},n.forEach=function(e,t){$n(this),this.a.forEach((function(n,r){W(n,(function(n){e.call(t,n,r,this)}),this)}),this)},n.Y=function(){$n(this);for(var e=this.a.W(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},n.W=function(e){$n(this);var t=[];if("string"===typeof e)tr(this,e)&&(t=$(t,this.a.get(ir(this,e))));else{e=this.a.W();for(var n=0;n<e.length;n++)t=$(t,e[n])}return t},n.set=function(e,t){return $n(this),this.c=null,tr(this,e=ir(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},n.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},n.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var ur={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},lr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function cr(e,t){t.push('"',e.replace(lr,(function(e){var t=ur[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),ur[e]=t),t})),'"')}function fr(){var e=Ir();return Xe&&!!ut&&11==ut||/Edge\/\d+/.test(e)}function hr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function dr(e,t){t=t||u.window;var n="about:blank";e&&(n=Pe(Re(e)||Ue)),t.location.href=n}function pr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<pr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function vr(e){return!!((e=(e||Ir()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function yr(e){e=e||u.window;try{e.close()}catch(t){}}function gr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ir().toLowerCase(),r&&(t.target=r,le(n,"crios/")&&(t.target="_blank")),Er(Ir())==Sr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof De?n:Re("undefined"!=typeof n.href?n.href:String(n))||Ue,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((de("iPhone")&&!de("iPod")&&!de("iPad")||de("iPad")||de("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(be(a=yt(document,"A"),"HTMLAnchorElement"),t=t instanceof De?t:Fe(t),a.href=Pe(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=Be("",r,n,a),e=Pe(t),a&&(Je&&le(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+We(e)+'">',e=new qe(e=(r=Oe())?r.createHTML(e):e,null,Ve),r=a.document)&&(r.write(function(e){return e instanceof qe&&e.constructor===qe?e.a:(R("expected object of type SafeHtml, got '"+e+"' of type "+d(e)),"type_error:SafeHtml")}(e)),r.close())):(a=Be(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var mr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,br=/^[^@]+@[^@]+$/;function _r(){var e=null;return new xt((function(t){"complete"==u.document.readyState?t():(e=function(){t()},dn(window,"load",e))})).o((function(t){throw pn(window,"load",e),t}))}function wr(e){return e=e||Ir(),!("file:"!==jr()&&"ionic:"!==jr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function xr(){var e=u.window;try{return!(!e||e==e.top)}catch(t){return!1}}function Tr(){return"undefined"!==typeof u.WorkerGlobalScope&&"function"===typeof u.importScripts}function kr(){return t.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":t.a.INTERNAL.hasOwnProperty("node")?"Node":Tr()?"Worker":"Browser"}function Or(){var e=kr();return"ReactNative"===e||"Node"===e}var Sr="Firefox",Ar="Chrome";function Er(e){var t=e.toLowerCase();return le(t,"opera/")||le(t,"opr/")||le(t,"opios/")?"Opera":le(t,"iemobile")?"IEMobile":le(t,"msie")||le(t,"trident/")?"IE":le(t,"edge/")?"Edge":le(t,"firefox/")?Sr:le(t,"silk/")?"Silk":le(t,"blackberry")?"Blackberry":le(t,"webos")?"Webos":!le(t,"safari/")||le(t,"chrome/")||le(t,"crios/")||le(t,"android")?!le(t,"chrome/")&&!le(t,"crios/")||le(t,"edge/")?le(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Ar:"Safari"}var Mr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Cr(e,t){t=t||[];var n,r=[],i={};for(n in Mr)i[Mr[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=kr())?r=Er(i=Ir()):"Worker"===r&&(r=Er(i=Ir())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Ir(){return u.navigator&&u.navigator.userAgent||""}function Dr(e,t){e=e.split("."),t=t||u;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Pr(){try{var e=u.localStorage,t=qr();if(e)return e.setItem(t,"1"),e.removeItem(t),!fr()||!!u.indexedDB}catch(n){return Tr()&&!!u.indexedDB}return!1}function Nr(){return(Lr()||"chrome-extension:"===jr()||wr())&&!Or()&&Pr()&&!Tr()}function Lr(){return"http:"===jr()||"https:"===jr()}function jr(){return u.location&&u.location.protocol||null}function Rr(e){return!vr(e=e||Ir())&&Er(e)!=Sr}function Fr(e){return"undefined"===typeof e?null:or(e)}function zr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Ur(e){if(null!==e)return JSON.parse(e)}function qr(e){return e||Math.floor(1e9*Math.random()).toString()}function Vr(e){return"Safari"!=Er(e=e||Ir())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Br(){var e=u.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Hr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Ir(),t=kr(),this.b=vr(e)||"ReactNative"===t}function Wr(){var e=u.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function Yr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Gr(){return!(!Dr("fireauth.oauthhelper",u)&&!Dr("fireauth.iframe",u))}Hr.prototype.get=function(){var e=u.navigator;return!e||"boolean"!==typeof e.onLine||!Lr()&&"chrome-extension:"!==jr()&&"undefined"===typeof e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Kr,Xr={};function Qr(e){Xr[e]||(Xr[e]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e))}try{var Jr={};Object.defineProperty(Jr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Jr,"abcd",{configurable:!0,enumerable:!0,value:2}),Kr=2==Jr.abcd}catch(ha){Kr=!1}function $r(e,t,n){Kr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Zr(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&$r(e,n,t[n])}function ei(e){var t={};return Zr(t,e),t}function ti(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)$r(t,n,ti(e[n]));return t}function ni(e){var t=e&&(e[si]?"phone":null);if(!(t&&e&&e[ai]))throw new A("internal-error","Internal assert: invalid MultiFactorInfo object");$r(this,"uid",e[ai]),$r(this,"displayName",e[ii]||null);var n=null;e[oi]&&(n=new Date(e[oi]).toUTCString()),$r(this,"enrollmentTime",n),$r(this,"factorId",t)}function ri(e){try{var t=new ui(e)}catch(n){t=null}return t}ni.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ii="displayName",oi="enrolledAt",ai="mfaEnrollmentId",si="phoneInfo";function ui(e){ni.call(this,e),$r(this,"phoneNumber",e[si])}function li(e){var t={},n=e[di],r=e[vi],i=e[yi];if(e=ri(e[pi]),!i||i!=fi&&i!=hi&&!n||i==hi&&!r||i==ci&&!e)throw Error("Invalid checkActionCode response!");i==hi?(t[mi]=n||null,t[_i]=n||null,t[gi]=r):(t[mi]=r||null,t[_i]=r||null,t[gi]=n||null),t[bi]=e||null,$r(this,xi,i),$r(this,wi,ti(t))}O(ui,ni),ui.prototype.w=function(){var e=ui.ab.w.call(this);return e.phoneNumber=this.phoneNumber,e};var ci="REVERT_SECOND_FACTOR_ADDITION",fi="EMAIL_SIGNIN",hi="VERIFY_AND_CHANGE_EMAIL",di="email",pi="mfaInfo",vi="newEmail",yi="requestType",gi="email",mi="fromEmail",bi="multiFactorInfo",_i="previousEmail",wi="data",xi="operation";function Ti(e){var t=Un(e=qn(e),ki)||null,n=Un(e,Oi)||null,r=Un(e,Ei)||null;if(r=r&&Ci[r]||null,!t||!n||!r)throw new A("argument-error",ki+", "+Oi+"and "+Ei+" are required in a valid action code URL.");Zr(this,{apiKey:t,operation:r,code:n,continueUrl:Un(e,Si)||null,languageCode:Un(e,Ai)||null,tenantId:Un(e,Mi)||null})}var ki="apiKey",Oi="oobCode",Si="continueUrl",Ai="languageCode",Ei="mode",Mi="tenantId",Ci={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ci,signIn:fi,verifyAndChangeEmail:hi,verifyEmail:"VERIFY_EMAIL"};function Ii(e){try{return new Ti(e)}catch(t){return null}}function Di(e){var t=e[Ri];if("undefined"===typeof t)throw new A("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new A("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Pi];if(n&&"object"===typeof n){t=n[Ui];var r=n[Fi];if(n=n[zi],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof r&&"boolean"!==typeof r)throw new A("argument-error",Fi+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new A("argument-error",zi+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof t)throw new A("argument-error",Ui+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new A("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new A("argument-error",Pi+" property must be a non null object when specified.");if(this.f=null,(t=e[ji])&&"object"===typeof t){if("string"===typeof(t=t[qi])&&t.length)this.f=t;else if("undefined"!==typeof t)throw new A("argument-error",qi+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new A("argument-error",ji+" property must be a non null object when specified.");if("undefined"!==typeof(t=e[Li])&&"boolean"!==typeof t)throw new A("argument-error",Li+" property must be a boolean when specified.");if(this.c=!!t,"undefined"!==typeof(e=e[Ni])&&("string"!==typeof e||"string"===typeof e&&!e.length))throw new A("argument-error",Ni+" property must be a non empty string when specified.");this.i=e||null}var Pi="android",Ni="dynamicLinkDomain",Li="handleCodeInApp",ji="iOS",Ri="url",Fi="installApp",zi="minimumVersion",Ui="packageName",qi="bundleId";function Vi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Bi=null;function Hi(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Bi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Bi){Bi={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Bi[o]&&(Bi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}function Wi(e){var t=Gi(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Yi(e){try{return new Wi(e)}catch(t){return null}}function Gi(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=Hi(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(u){}return null}Wi.prototype.T=function(){return this.f},Wi.prototype.l=function(){return this.c},Wi.prototype.toString=function(){return this.h};var Ki="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Xi=["client_id","response_type","scope","redirect_uri","state"],Qi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Xi},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Xi},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Xi},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Ki},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Ji(e){for(var t in Qi)if(Qi[t].fa==e)return Qi[t];return null}function $i(e){var t={};t["facebook.com"]=ro,t["google.com"]=oo,t["github.com"]=io,t["twitter.com"]=ao;var n=e&&e[eo];try{if(n)return t[n]?new t[n](e):new no(e);if("undefined"!==typeof e[Zi])return new to(e)}catch(r){}return null}var Zi="idToken",eo="providerId";function to(e){var t=e[eo];if(!t&&e[Zi]){var n=Yi(e[Zi]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),$r(this,"providerId",t),$r(this,"isNewUser",n)}function no(e){to.call(this,e),$r(this,"profile",ti((e=Ur(e.rawUserInfo||"{}"))||{}))}function ro(e){if(no.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function io(e){if(no.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");$r(this,"username",this.profile&&this.profile.login||null)}function oo(e){if(no.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ao(e){if(no.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");$r(this,"username",e.screenName||null)}function so(e){var t=qn(e),n=Un(t,"link"),r=Un(qn(n),"link");return t=Un(t,"deep_link_id"),Un(qn(t),"link")||t||r||n||e}function uo(e,t){if(!e&&!t)throw new A("internal-error","Internal assert: no raw session string available");if(e&&t)throw new A("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?lo:co}O(no,to),O(ro,no),O(io,no),O(oo,no),O(ao,no);var lo="enroll",co="signin";function fo(){}function ho(e,t){return e.then((function(e){if(e[ns]){var n=Yi(e[ns]);if(!n||t!=n.i)throw new A("user-mismatch");return e}throw new A("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==C+"user-not-found"?new A("user-mismatch"):e}))}function po(e,t){if(!t)throw new A("internal-error","failed to construct a credential");this.a=t,$r(this,"providerId",e),$r(this,"signInMethod",e)}function vo(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function yo(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new po(e.providerId,e.pendingToken)}catch(t){}return null}function go(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&$r(this,"idToken",t.idToken),t.accessToken&&$r(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&$r(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new A("internal-error","failed to construct a credential");$r(this,"accessToken",t.oauthToken),$r(this,"secret",t.oauthTokenSecret)}$r(this,"providerId",e),$r(this,"signInMethod",n)}function mo(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Zn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function bo(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new go(e.providerId,t,e.signInMethod)}catch(n){}}return null}function _o(e,t){this.Qc=t||[],Zr(this,{providerId:e,isOAuthProvider:!0}),this.Ib={},this.pb=(Ji(e)||{}).Ja||null,this.ob=null}function wo(e){if("string"!==typeof e||0!=e.indexOf("saml."))throw new A("argument-error",'SAML provider IDs must be prefixed with "saml."');_o.call(this,e,[])}function xo(e){_o.call(this,e,Xi),this.a=[]}function To(){xo.call(this,"facebook.com")}function ko(e){if(!e)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return y(e)&&(t=e.accessToken),(new To).credential({accessToken:t})}function Oo(){xo.call(this,"github.com")}function So(e){if(!e)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return y(e)&&(t=e.accessToken),(new Oo).credential({accessToken:t})}function Ao(){xo.call(this,"google.com"),this.Ca("profile")}function Eo(e,t){var n=e;return y(e)&&(n=e.idToken,t=e.accessToken),(new Ao).credential({idToken:n,accessToken:t})}function Mo(){_o.call(this,"twitter.com",Ki)}function Co(e,t){var n=e;if(y(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new A("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new go("twitter.com",n,"twitter.com")}function Io(e,t,n){this.a=e,this.f=t,$r(this,"providerId","password"),$r(this,"signInMethod",n===Po.EMAIL_LINK_SIGN_IN_METHOD?Po.EMAIL_LINK_SIGN_IN_METHOD:Po.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Do(e){return e&&e.email&&e.password?new Io(e.email,e.password,e.signInMethod):null}function Po(){Zr(this,{providerId:"password",isOAuthProvider:!1})}function No(e,t){if(!(t=Lo(t)))throw new A("argument-error","Invalid email link!");return new Io(e,t.code,Po.EMAIL_LINK_SIGN_IN_METHOD)}function Lo(e){return(e=Ii(e=so(e)))&&e.operation===fi?e:null}function jo(e){if(!(e.eb&&e.cb||e.La&&e.ea))throw new A("internal-error");this.a=e,$r(this,"providerId","phone"),this.fa="phone",$r(this,"signInMethod","phone")}function Ro(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return W(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new jo(t)}return null}function Fo(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.eb,code:e.a.cb}}function zo(e){try{this.a=e||t.a.auth()}catch(n){throw new A("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Zr(this,{providerId:"phone",isOAuthProvider:!1})}function Uo(e,t){if(!e)throw new A("missing-verification-id");if(!t)throw new A("missing-verification-code");return new jo({eb:e,cb:t})}function qo(e){if(e.temporaryProof&&e.phoneNumber)return new jo({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return Eo(o,n);case"facebook.com":return ko(n);case"github.com":return So(n);case"twitter.com":return Co(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new po(t,a):new go(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new xo(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Vo(e){if(!e.isOAuthProvider)throw new A("invalid-oauth-provider")}function Bo(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new A("invalid-auth-event");if(this.g&&this.a)throw new A("invalid-auth-event");if(this.g&&!this.f)throw new A("invalid-auth-event")}function Ho(e){return(e=e||{}).type?new Bo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&E(e.error),e.postBody,e.tenantId):null}function Wo(){this.b=null,this.a=[]}uo.prototype.Ha=function(){return this.a?Mt(this.a):Mt(this.b)},uo.prototype.w=function(){return this.type==lo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},fo.prototype.ka=function(){},fo.prototype.b=function(){},fo.prototype.c=function(){},fo.prototype.w=function(){},po.prototype.ka=function(e){return ks(e,vo(this))},po.prototype.b=function(e,t){var n=vo(this);return n.idToken=t,Os(e,n)},po.prototype.c=function(e,t){return ho(Ss(e,vo(this)),t)},po.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},go.prototype.ka=function(e){return ks(e,mo(this))},go.prototype.b=function(e,t){var n=mo(this);return n.idToken=t,Os(e,n)},go.prototype.c=function(e,t){return ho(Ss(e,mo(this)),t)},go.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},_o.prototype.Ka=function(e){return this.Ib=ye(e),this},O(wo,_o),O(xo,_o),xo.prototype.Ca=function(e){return X(this.a,e)||this.a.push(e),this},xo.prototype.Qb=function(){return Z(this.a)},xo.prototype.credential=function(e,t){var n;if(!(n=y(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new A("argument-error","credential failed: must provide the ID token and/or the access token.");return new go(this.providerId,n,this.providerId)},O(To,xo),$r(To,"PROVIDER_ID","facebook.com"),$r(To,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),O(Oo,xo),$r(Oo,"PROVIDER_ID","github.com"),$r(Oo,"GITHUB_SIGN_IN_METHOD","github.com"),O(Ao,xo),$r(Ao,"PROVIDER_ID","google.com"),$r(Ao,"GOOGLE_SIGN_IN_METHOD","google.com"),O(Mo,_o),$r(Mo,"PROVIDER_ID","twitter.com"),$r(Mo,"TWITTER_SIGN_IN_METHOD","twitter.com"),Io.prototype.ka=function(e){return this.signInMethod==Po.EMAIL_LINK_SIGN_IN_METHOD?su(e,Ns,{email:this.a,oobCode:this.f}):su(e,nu,{email:this.a,password:this.f})},Io.prototype.b=function(e,t){return this.signInMethod==Po.EMAIL_LINK_SIGN_IN_METHOD?su(e,Ls,{idToken:t,email:this.a,oobCode:this.f}):su(e,Ks,{idToken:t,email:this.a,password:this.f})},Io.prototype.c=function(e,t){return ho(this.ka(e),t)},Io.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Zr(Po,{PROVIDER_ID:"password"}),Zr(Po,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Zr(Po,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),jo.prototype.ka=function(e){return e.fb(Fo(this))},jo.prototype.b=function(e,t){var n=Fo(this);return n.idToken=t,su(e,iu,n)},jo.prototype.c=function(e,t){var n=Fo(this);return n.operation="REAUTH",ho(e=su(e,ou,n),t)},jo.prototype.w=function(){var e={providerId:"phone"};return this.a.eb&&(e.verificationId=this.a.eb),this.a.cb&&(e.verificationCode=this.a.cb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},zo.prototype.fb=function(e,t){var n=this.a.a;return Mt(t.verify()).then((function(r){if("string"!==typeof r)throw new A("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":var i=y(e)?e.session:null,o=y(e)?e.phoneNumber:e;return(i&&i.type==lo?i.Ha().then((function(e){return function(e,t){return su(e,Qs,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==co?i.Ha().then((function(t){return function(e,t){return su(e,Js,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return su(e,Ys,t)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(e){return"function"===typeof t.reset&&t.reset(),e}),(function(e){throw"function"===typeof t.reset&&t.reset(),e}));default:throw new A("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Zr(zo,{PROVIDER_ID:"phone"}),Zr(zo,{PHONE_SIGN_IN_METHOD:"phone"}),Bo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Bo.prototype.T=function(){return this.h},Bo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Yo,Go=null;function Ko(e){var t="unauthorized-domain",n=void 0,r=qn(e);e=r.a,"chrome-extension"==(r=r.c)?n=He("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=He("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",A.call(this,t,n)}function Xo(e,t,n){A.call(this,e,n),(e=t||{}).Jb&&$r(this,"email",e.Jb),e.ea&&$r(this,"phoneNumber",e.ea),e.credential&&$r(this,"credential",e.credential),e.Zb&&$r(this,"tenantId",e.Zb)}function Qo(e){if(e.code){var t=e.code||"";0==t.indexOf(C)&&(t=t.substring(C.length));var n={credential:qo(e),Zb:e.tenantId};if(e.email)n.Jb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new A(t,e.message||void 0);return new Xo(t,n,e.message)}return null}function Jo(){}function $o(e){return e.c||(e.c=e.b())}function Zo(){}function ea(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function ta(){}function na(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=x(this.qc,this),this.a.onerror=x(this.Sb,this),this.a.onprogress=x(this.rc,this),this.a.ontimeout=x(this.vc,this)}function ra(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function ia(e,t,n){this.reset(e,t,n,void 0,void 0)}O(Ko,A),O(Xo,A),Xo.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&me(e,t),e},Xo.prototype.toJSON=function(){return this.w()},Jo.prototype.c=null,O(Zo,Jo),Zo.prototype.a=function(){var e=ea(this);return e?new ActiveXObject(e):new XMLHttpRequest},Zo.prototype.b=function(){var e={};return ea(this)&&(e[0]=!0,e[1]=!0),e},Yo=new Zo,O(ta,Jo),ta.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new na;throw Error("Unsupported browser")},ta.prototype.b=function(){return{}},(n=na.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},n.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},n.abort=function(){this.a.abort()},n.setRequestHeader=function(){},n.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},n.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ra(this,4)},n.Sb=function(){this.status=500,this.response=this.responseText="",ra(this,4)},n.vc=function(){this.Sb()},n.rc=function(){this.status=200,ra(this,1)},n.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ia.prototype.a=null;function oa(e){this.f=e,this.b=this.c=this.a=null}function aa(e,t){this.name=e,this.value=t}ia.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,r||k(),delete this.a},aa.prototype.toString=function(){return this.name};var sa=new aa("SEVERE",1e3),ua=new aa("WARNING",900),la=new aa("CONFIG",700),ca=new aa("FINE",500);function fa(e){return e.c?e.c:e.a?fa(e.a):(R("Root logger has no level set."),null)}oa.prototype.log=function(e,t,n){if(e.value>=fa(this).value)for(v(t)&&(t=t()),e=new ia(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var ha,da={},pa=null;function va(e){var t;if(pa||(pa=new oa(""),da[""]=pa,pa.c=la),!(t=da[e])){t=new oa(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=va(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,da[e]=t}return t}function ya(e,t){e&&e.log(ca,t,void 0)}function ga(e){this.f=e}function ma(e){Tn.call(this),this.u=e,this.h=void 0,this.readyState=ba,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=va("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}O(ga,Jo),ga.prototype.a=function(){return new ma(this.f)},ga.prototype.b=(ha={},function(){return ha}),O(ma,Tn);var ba=0;function _a(e){e.c.read().then(e.pc.bind(e)).catch(e.Ua.bind(e))}function wa(e){e.readyState=4,e.g=null,e.c=null,e.m=null,xa(e)}function xa(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ta(e){Tn.call(this),this.headers=new In,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=ka,this.u=this.S=!1}(n=ma.prototype).open=function(e,t){if(this.readyState!=ba)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,xa(this)},n.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Ua.bind(this))},n.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,wa(this)),this.readyState=ba},n.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,xa(this)),this.a&&(this.readyState=3,xa(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):"undefined"!==typeof u.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,_a(this)):e.text().then(this.tc.bind(this),this.Ua.bind(this)))))},n.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?wa(this):xa(this),3==this.readyState&&_a(this)}},n.tc=function(e){this.a&&(this.response=this.responseText=e,wa(this))},n.sc=function(e){this.a&&(this.response=e,wa(this))},n.Ua=function(e){var t=this.i;t&&t.log(ua,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&wa(this)},n.setRequestHeader=function(e,t){this.l.append(e,t)},n.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(ua,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},n.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(ua,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ma.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),O(Ta,Tn);var ka="";Ta.prototype.b=va("goog.net.XhrIo");var Oa=/^https?$/i,Sa=["POST","PUT"];function Aa(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.R=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():Yo.a(),e.C=e.D?$o(e.D):$o(Yo),e.a.onreadystatechange=x(e.Vb,e);try{ya(e.b,ja(e,"Opening Xhr")),e.O=!0,e.a.open(n,String(t),!0),e.O=!1}catch(a){return ya(e.b,ja(e,"Error opening Xhr: "+a.message)),void Ma(e,a)}t=r||"";var o=new In(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(p(e)||"string"===typeof e)W(e,t,void 0);else for(var n=Cn(e),r=Mn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=Ea,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(o.Y()),r=u.FormData&&t instanceof u.FormData,!X(Sa,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{Pa(e),0<e.g&&(e.u=function(e){return Xe&&at(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(e.a),ya(e.b,ja(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=x(e.Ma,e)):e.s=An(e.Ma,e.g,e)),ya(e.b,ja(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(a){ya(e.b,ja(e,"Send error: "+a.message)),Ma(e,a)}}function Ea(e){return"content-type"==e.toLowerCase()}function Ma(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Ca(e),Da(e)}function Ca(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Ia(e){if(e.c&&"undefined"!=typeof s)if(e.C[1]&&4==Na(e)&&2==La(e))ya(e.b,ja(e,"Local request error detected and ignored"));else if(e.i&&4==Na(e))An(e.Vb,0,e);else if(e.dispatchEvent("readystatechange"),4==Na(e)){ya(e.b,ja(e,"Request complete")),e.c=!1;try{var t,n=La(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(Nn)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!Oa.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var l=2<Na(e)?e.a.statusText:""}catch(c){ya(e.b,"Can not get status: "+c.message),l=""}e.h=l+" ["+La(e)+"]",Ca(e)}}finally{Da(e)}}}function Da(e,t){if(e.a){Pa(e);var n=e.a,r=e.C[0]?h:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(e=e.b)&&e.log(sa,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Pa(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(u.clearTimeout(e.s),e.s=null)}function Na(e){return e.a?e.a.readyState:0}function La(e){try{return 2<Na(e)?e.a.status:-1}catch(t){return-1}}function ja(e,t){return t+" ["+e.R+" "+e.l+" "+La(e)+"]"}function Ra(e){var t=Ka;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Fa(e,t,n){e.a=!0,e.c=n,e.f=!t,Va(e)}function za(e){if(e.a){if(!e.v)throw new Ba(e);e.v=!1}}function Ua(e,t,n,r){e.g.push([t,n,r]),e.a&&Va(e)}function qa(e){return K(e.g,(function(e){return v(e[1])}))}function Va(e){if(e.h&&e.a&&qa(e)){var t=e.h,n=Ya[t];n&&(u.clearTimeout(n.a),delete Ya[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var s=o.call(i||e.s,t);void 0!==s&&(e.f=e.f&&(s==t||s instanceof Error),e.c=t=s),(N(t)||"function"===typeof u.Promise&&t instanceof u.Promise)&&(r=!0,e.i=!0)}catch(l){t=l,e.f=!0,qa(e)||(n=!0)}}e.c=t,r&&(s=x(e.m,e,!0),r=x(e.m,e,!1),t instanceof Ra?(Ua(t,s,r),t.C=!0):t.then(s,r)),n&&(t=new Wa(t),Ya[t.a]=t,e.h=t.a)}function Ba(){L.call(this)}function Ha(){L.call(this)}function Wa(e){this.a=u.setTimeout(x(this.c,this),0),this.b=e}(n=Ta.prototype).Ma=function(){"undefined"!=typeof s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ya(this.b,ja(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},n.abort=function(){this.a&&this.c&&(ya(this.b,ja(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Da(this))},n.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Da(this,!0)),Ta.ab.Da.call(this)},n.Vb=function(){this.xa||(this.O||this.i||this.f?Ia(this):this.Jc())},n.Jc=function(){Ia(this)},n.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ka:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(sa,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return ya(this.b,"Can not get response: "+t.message),null}},Ra.prototype.cancel=function(e){if(this.a)this.c instanceof Ra&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Ha(this),za(this),Fa(this,!1,e))}},Ra.prototype.m=function(e,t){this.i=!1,Fa(this,e,t)},Ra.prototype.then=function(e,t,n){var r,i,o=new xt((function(e,t){r=e,i=t}));return Ua(this,r,(function(e){e instanceof Ha?o.cancel():i(e)})),o.then(e,t,n)},Ra.prototype.$goog_Thenable=!0,O(Ba,L),Ba.prototype.message="Deferred has already fired",Ba.prototype.name="AlreadyCalledError",O(Ha,L),Ha.prototype.message="Deferred was canceled",Ha.prototype.name="CanceledError",Wa.prototype.c=function(){throw delete Ya[this.a],this.b};var Ya={};function Ga(e){var t={},n=t.document||document,r=Ae(e).toString(),i=yt(document,"SCRIPT"),o={Wb:i,Ma:void 0},a=new Ra(o),s=null,l=null!=t.timeout?t.timeout:5e3;return 0<l&&(s=window.setTimeout((function(){Xa(i,!0);var e=new $a(Ja,"Timeout reached for loading script "+r);za(a),Fa(a,!1,e)}),l),o.Ma=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Xa(i,t.xd||!1,s),za(a),Fa(a,!0,null))},i.onerror=function(){Xa(i,!0,s);var e=new $a(Qa,"Error while loading script "+r);za(a),Fa(a,!1,e)},me(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ft(i,o),function(e,t){be(e,"HTMLScriptElement"),e.src=Ae(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=u?t=f(t.document):(null===c&&(c=f(u.document)),t=c),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function Ka(){if(this&&this.Wb){var e=this.Wb;e&&"SCRIPT"==e.tagName&&Xa(e,!0,this.Ma)}}function Xa(e,t,n){null!=n&&u.clearTimeout(n),e.onload=h,e.onerror=h,e.onreadystatechange=h,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Qa=0,Ja=1;function $a(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),L.call(this,n),this.code=e}function Za(e){this.f=e}function es(e,n,r){if(this.c=e,e=n||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||rs,this.g=ye(e.secureTokenHeaders||is),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||os,this.a=ye(e.firebaseHeaders||as),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==kr(),!(r=u.XMLHttpRequest||r&&t.a.INTERNAL.node&&t.a.INTERNAL.node.XMLHttpRequest)&&!Tr())throw new A("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Tr()?this.f=new ga(self):Or()?this.f=new Za(r):this.f=new ta,this.b=null}O($a,L),O(Za,Jo),Za.prototype.a=function(){return new this.f},Za.prototype.b=function(){return{}};var ts,ns="idToken",rs=new Hr(3e4,6e4),is={"Content-Type":"application/x-www-form-urlencoded"},os=new Hr(3e4,6e4),as={"Content-Type":"application/json"};function ss(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function us(e,t){t&&(e.l=ls("https://securetoken.googleapis.com/v1/token",t),e.h=ls("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=ls("https://identitytoolkit.googleapis.com/v2/",t))}function ls(e,t){return e=qn(e),t=qn(t.url),e.f=e.a+e.f,jn(e,t.c),e.a=t.a,Rn(e,t.g),e.toString()}function cs(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function fs(e,t,n,r,i,o,a){(function(){var e=Ir();return!((e=Er(e)!=Ar?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!Xe||!ut||9<ut)})()||Tr()?e=x(e.u,e):(ts||(ts=new xt((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{u[ds]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){Ua(e,null,t,void 0)}(Ga(Ee(hs,{onload:ds})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=x(e.s,e)),e(t,n,r,i,o,a)}es.prototype.T=function(){return this.b},es.prototype.u=function(e,t,n,r,i,o){if(Tr()&&("undefined"===typeof u.fetch||"undefined"===typeof u.Headers||"undefined"===typeof u.Request))throw new A("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Ta(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout((function(){a.dispatchEvent("timeout")}),o)}kn(a,"complete",(function(){s&&clearTimeout(s);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return ya(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(n){e=null}t&&t(e)})),On(a,"ready",(function(){s&&clearTimeout(s),Gt(this)})),On(a,"timeout",(function(){s&&clearTimeout(s),Gt(this),t&&t(null)})),Aa(a,e,n,r,i)};var hs=new _e(ke,"https://apis.google.com/js/client.js?onload=%{onload}"),ds="__fcb"+Math.floor(1e6*Math.random()).toString();function ps(e,t,n,r,i,o,a){var s=qn(t+n);zn(s,"key",e.c),a&&zn(s,"cb",k().toString());var u="GET"==r;if(u)for(var l in i)i.hasOwnProperty(l)&&zn(s,l,i[l]);return new xt((function(t,n){fs(e,s.toString(),(function(e){e?e.error?n(lu(e,o||{})):t(e):n(new A("network-request-failed"))}),r,u?void 0:or(zr(i)),e.a,e.v.get())}))}function vs(e){if("string"!==typeof(e=e.email)||!br.test(e))throw new A("invalid-email")}function ys(e){"email"in e&&vs(e)}function gs(e){if(!e[ns]){if(e.mfaPendingCredential)throw new A("multi-factor-auth-required",null,ye(e));throw new A("internal-error")}}function ms(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new A("internal-error")}else{if(!e.sessionInfo)throw new A("missing-verification-id");if(!e.code)throw new A("missing-verification-code")}}es.prototype.s=function(e,t,n,r,i){var o=this;ts.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},es.prototype.zb=function(){return su(this,Xs,{})},es.prototype.Bb=function(e,t){return su(this,Gs,{idToken:e,email:t})},es.prototype.Cb=function(e,t){return su(this,Ks,{idToken:e,password:t})};var bs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function _s(e){if(!e.phoneVerificationInfo)throw new A("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new A("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new A("missing-verification-code")}function ws(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new A("internal-error")}function xs(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(tr(e=new Jn(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function Ts(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Qo(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Qo(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Qo(e)):e.errorMessage&&(t=uu(e.errorMessage)),t)throw t;gs(e)}function ks(e,t){return t.returnIdpCredential=!0,su(e,$s,t)}function Os(e,t){return t.returnIdpCredential=!0,su(e,eu,t)}function Ss(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,su(e,Zs,t)}function As(e){if(!e.oobCode)throw new A("invalid-action-code")}(n=es.prototype).Db=function(e,t){var n={idToken:e},r=[];return pe(bs,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),su(this,Gs,n)},n.vb=function(e,t){return me(e={requestType:"PASSWORD_RESET",email:e},t),su(this,Vs,e)},n.wb=function(e,t){return me(e={requestType:"EMAIL_SIGNIN",email:e},t),su(this,zs,e)},n.ub=function(e,t){return me(e={requestType:"VERIFY_EMAIL",idToken:e},t),su(this,Us,e)},n.Eb=function(e,t,n){return me(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),su(this,qs,e)},n.fb=function(e){return su(this,ru,e)},n.nb=function(e,t){return su(this,Ws,{oobCode:e,newPassword:t})},n.Ra=function(e){return su(this,Ms,{oobCode:e})},n.jb=function(e){return su(this,Es,{oobCode:e})};var Es={endpoint:"setAccountInfo",A:As,Z:"email",B:!0},Ms={endpoint:"resetPassword",A:As,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new A("internal-error")},B:!0},Cs={endpoint:"signupNewUser",A:function(e){if(vs(e),!e.password)throw new A("weak-password")},G:gs,V:!0,B:!0},Is={endpoint:"createAuthUri",B:!0},Ds={endpoint:"deleteAccount",N:["idToken"]},Ps={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new A("internal-error")}},Ns={endpoint:"emailLinkSignin",N:["email","oobCode"],A:vs,G:gs,V:!0,B:!0},Ls={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:vs,G:gs,V:!0},js={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:_s,G:gs,B:!0,Na:!0},Rs={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:_s,G:gs,B:!0,Na:!0},Fs={endpoint:"getAccountInfo"},zs={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new A("internal-error");vs(e)},Z:"email",B:!0},Us={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new A("internal-error")},Z:"email",B:!0},qs={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new A("internal-error")},Z:"email",B:!0},Vs={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new A("internal-error");vs(e)},Z:"email",B:!0},Bs={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Hs={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new A("internal-error")}},Ws={endpoint:"resetPassword",A:As,Z:"email",B:!0},Ys={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Gs={endpoint:"setAccountInfo",N:["idToken"],A:ys,V:!0},Ks={endpoint:"setAccountInfo",N:["idToken"],A:function(e){if(ys(e),!e.password)throw new A("weak-password")},G:gs,V:!0},Xs={endpoint:"signupNewUser",G:gs,V:!0,B:!0},Qs={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new A("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new A("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},Js={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},$s={endpoint:"verifyAssertion",A:ws,Ya:xs,G:Ts,V:!0,B:!0},Zs={endpoint:"verifyAssertion",A:ws,Ya:xs,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new A("user-not-found");if(e.errorMessage)throw uu(e.errorMessage);gs(e)},V:!0,B:!0},eu={endpoint:"verifyAssertion",A:function(e){if(ws(e),!e.idToken)throw new A("internal-error")},Ya:xs,G:Ts,V:!0},tu={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new A("invalid-custom-token")},G:gs,V:!0,B:!0},nu={endpoint:"verifyPassword",A:function(e){if(vs(e),!e.password)throw new A("wrong-password")},G:gs,V:!0,B:!0},ru={endpoint:"verifyPhoneNumber",A:ms,G:gs,B:!0},iu={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new A("internal-error");ms(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Qo(e);gs(e)}},ou={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ms,G:gs,B:!0},au={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[ns]^!!e.refreshToken)throw new A("internal-error")},B:!0,Na:!0};function su(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,t.N))return Ct(new A("internal-error"));var r,i=!!t.Na,o=t.Ub||"POST";return Mt(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&"undefined"===typeof n.tenantId&&(n.tenantId=e.b),ps(e,i?e.i:e.h,t.endpoint,o,n,t.Hb,t.lb||!1)})).then((function(e){return r=e,t.Ya?t.Ya(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new A("internal-error");return r[t.Z]}))}function uu(e){return lu({error:{errors:[{message:e}],code:400,message:e}})}function lu(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new A(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",me(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new A(r[i],t);return!t&&e&&(t=Fr(e)),new A("internal-error",t)}function cu(e){this.b=e,this.a=null,this.rb=function(e){return(pu||(pu=new xt((function(e,t){function n(){Br(),Dr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Br(),t(Error("Network Error"))},timeout:hu.get()})}if(Dr("gapi.iframes.Iframe"))e();else if(Dr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Dr("gapi.load")?n():t(Error("Network Error"))},Mt(Ga(r=Ee(fu,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw pu=null,e})))).then((function(){return new xt((function(t,n){Dr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),du.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var fu=new _e(ke,"https://apis.google.com/js/api.js?onload=%{onload}"),hu=new Hr(3e4,6e4),du=new Hr(5e3,15e3),pu=null;function vu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,this.g?e=Vn((e=qn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):e=Vn("https",this.l,null,"/__/auth/iframe"),this.a=e,zn(this.a,"apiKey",this.h),zn(this.a,"appName",this.i),this.b=null,this.c=[]}function yu(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function gu(e){try{return t.a.app(e).auth().Ga()}catch(n){return[]}}function mu(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function bu(e){var t=hr();return function(e){return su(e,Bs,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=qn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=qn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:mr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Ko(hr())}))}function _u(e){return e.m||(e.m=_r().then((function(){if(!e.u){var t=e.c,n=e.i,r=gu(e.b),i=new vu(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=Z(r||[]),e.u=i.toString()}e.v=new cu(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.rb.then((function(){e.a.register("authEvent",t,Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Ho(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Mt(n)}return n.status="ERROR",Mt(n)}))}(e)}))),e.m}function wu(e){return e.l||(e.C=e.c?Cr(e.c,gu(e.b)):null,e.l=new es(e.g,P(e.i),e.C),e.f&&us(e.l,e.f)),e.l}function xu(e,t,n,r,i,o,a,s,u,l,c,f){return(e=new yu(e,t,n,r,i,f)).l=o,e.g=a,e.i=s,e.b=ye(u||null),e.f=l,e.yb(c).toString()}function Tu(e){if(this.a=e||t.a.INTERNAL.reactNative&&t.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new A("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function ku(e){this.b=e,this.a={},this.f=x(this.c,this)}vu.prototype.toString=function(){return this.f?zn(this.a,"v",this.f):er(this.a.b,"v"),this.b?zn(this.a,"eid",this.b):er(this.a.b,"eid"),this.c.length?zn(this.a,"fw",this.c.join(",")):er(this.a.b,"fw"),this.a.toString()},yu.prototype.yb=function(e){return this.h=e,this},yu.prototype.toString=function(){if(this.v){var e=qn(this.v.url);e=Vn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=Vn("https",this.u,null,"/__/auth/handler");if(zn(e,"apiKey",this.s),zn(e,"appName",this.c),zn(e,"authType",this.m),this.a.isOAuthProvider){var n=this.a;try{var r=t.a.app(this.c).auth().la()}catch(u){r=null}for(var i in n.ob=r,zn(e,"providerId",this.a.providerId),n=zr((r=this.a).Ib))n[i]=n[i].toString();i=r.Qc,n=ye(n);for(var o=0;o<i.length;o++){var a=i[o];a in n&&delete n[a]}r.pb&&r.ob&&!n[r.pb]&&(n[r.pb]=r.ob),ve(n)||zn(e,"customParameters",Fr(n))}if("function"===typeof this.a.Qb&&((r=this.a.Qb()).length&&zn(e,"scopes",r.join(","))),this.l?zn(e,"redirectUrl",this.l):er(e.b,"redirectUrl"),this.g?zn(e,"eventId",this.g):er(e.b,"eventId"),this.i?zn(e,"v",this.i):er(e.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Un(e,s)&&zn(e,s,this.b[s]);return this.h?zn(e,"tid",this.h):er(e.b,"tid"),this.f?zn(e,"eid",this.f):er(e.b,"eid"),(s=gu(this.c)).length&&zn(e,"fw",s.join(",")),e.toString()},(n=mu.prototype).Ob=function(e,t,n){var r=new A("popup-closed-by-user"),i=new A("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return _u(e).then((function(){return function(e,t){return e.rb.then((function(){return new xt((function(n){e.a.send(t.type,t,n,Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&yr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new xt((function(t){return function n(){En(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return En(n).then((function(){t(r)}))}))},n.Xb=function(){var e=Ir();return!Rr(e)&&!Vr(e)},n.Tb=function(){return!1},n.Mb=function(e,t,n,r,i,o,a,s){if(!e)return Ct(new A("popup-blocked"));if(a&&!Rr())return this.ma().o((function(t){yr(e),i(t)})),r(),Mt();this.a||(this.a=bu(wu(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw yr(e),i(t),t}));return r(),t})).then((function(){(Vo(n),a)||dr(xu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},n.Nb=function(e,t,n,r){this.a||(this.a=bu(wu(this)));var i=this;return this.a.then((function(){Vo(t),dr(xu(i.s,i.g,i.b,e,t,hr(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},n.ma=function(){var e=this;return _u(this).then((function(){return e.v.rb})).o((function(){throw e.a=null,new A("network-request-failed")}))},n.$b=function(){return!0},n.Ea=function(e){this.h.push(e)},n.Sa=function(e){J(this.h,(function(t){return t==e}))},(n=Tu.prototype).get=function(e){return Mt(this.a.getItem(e)).then((function(e){return e&&Ur(e)}))},n.set=function(e,t){return Mt(this.a.setItem(e,Fr(t)))},n.U=function(e){return Mt(this.a.removeItem(e))},n.ca=function(){},n.ia=function(){};var Ou,Su=[];function Au(e,t,n){ve(e.a)&&e.b.addEventListener("message",e.f),"undefined"===typeof e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Eu(e){this.a=e}function Mu(e){this.c=e,this.b=!1,this.a=[]}function Cu(e,t,n,r){var i,o,a,s,u=n||{},l=null;if(e.b)return Ct(Error("connection_unavailable"));var c=r?800:50,f="undefined"!==typeof MessageChannel?new MessageChannel:null;return new xt((function(n,r){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),c),l={messageChannel:f,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),"undefined"!==typeof e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},e.a.push(l),f.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[f.port2])):r(Error("connection_unavailable"))})).then((function(t){return Iu(e,l),t})).o((function(t){throw Iu(e,l),t}))}function Iu(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),J(e.a,(function(e){return e==t}))}}function Du(){if(!ju())throw new A("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;Tr()&&self?(this.v=function(){var e=Tr()?self:null;if(W(Su,(function(n){n.b==e&&(t=n)})),!t){var t=new ku(e);Su.push(t)}return t}(),Au(this.v,"keyChanged",(function(t,n){return qu(e).then((function(t){return 0<t.length&&W(e.a,(function(e){e(t)})),{keyProcessed:X(t,n.key)}}))})),Au(this.v,"ping",(function(){return Mt(["keyChanged"])}))):function(){var e=u.navigator;return e&&e.serviceWorker?Mt().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):Mt(null)}().then((function(t){(e.h=t)&&(e.g=new Mu(new Eu(t)),Cu(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&X(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function Pu(e){return new xt((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(t){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new xt((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return Pu(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function Nu(e){return e.i||(e.i=Pu(e)),e.i}function Lu(e,t){var n=0;return new xt((function r(i,o){Nu(e).then(t).then(i).o((function(t){if(!(3<++n))return Nu(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}));o(t)}))}))}function ju(){try{return!!u.indexedDB}catch(ha){return!1}}function Ru(e){return e.objectStore("firebaseLocalStorage")}function Fu(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function zu(e){return new xt((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Uu(e,t){return e.g&&e.h&&function(){var e=u.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Cu(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):Mt()}function qu(e){return Nu(e).then((function(e){var t=Ru(Fu(e,!1));return t.getAll?zu(t.getAll()):new xt((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=pr(e.c,n),e.c=n}return r}))}function Vu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Bu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Mt().then((function(){if(ju()){var e=qr(),r="__sak"+e;return Ou||(Ou=new Du),(n=Ou).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){W(t.a,(function(t){t(e)}))})),e}))}function Hu(){this.a={},this.type="inMemory"}function Wu(){if(!function(){var e="Node"==kr();if(!(e=Yu()||e&&t.a.INTERNAL.node&&t.a.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==kr())throw new A("internal-error","The LocalStorage compatibility library was not found.");throw new A("web-storage-unsupported")}this.a=Yu()||t.a.INTERNAL.node.localStorage,this.type="localStorage"}function Yu(){try{var e=u.localStorage,t=qr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Gu(){this.type="nullStorage"}function Ku(){if(!function(){var e="Node"==kr();if(!(e=Xu()||e&&t.a.INTERNAL.node&&t.a.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==kr())throw new A("internal-error","The SessionStorage compatibility library was not found.");throw new A("web-storage-unsupported")}this.a=Xu()||t.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Xu(){try{var e=u.sessionStorage,t=qr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Qu(){var e={};e.Browser=Zu,e.Node=el,e.ReactNative=tl,e.Worker=nl,this.a=e[kr()]}ku.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];W(r,(function(t){i.push(Mt().then((function(){return t(e.origin,e.data.data)})))})),Dt(i).then((function(r){var i=[];W(r,(function(e){i.push({fulfilled:e.Pb,value:e.value,reason:e.reason?e.reason.message:void 0})})),W(i,(function(e){for(var t in e)"undefined"===typeof e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Eu.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Mu.prototype.close=function(){for(;0<this.a.length;)Iu(this,this.a[0]);this.b=!0},(n=Du.prototype).set=function(e,t){var n=this,r=!1;return Lu(this,(function(t){return zu((t=Ru(Fu(t,!0))).get(e))})).then((function(i){return Lu(n,(function(o){if(o=Ru(Fu(o,!0)),i)return i.value=t,zu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,zu(o.add(a))}))})).then((function(){return n.c[e]=t,Uu(n,e)})).oa((function(){r&&n.b--}))},n.get=function(e){return Lu(this,(function(t){return zu(Ru(Fu(t,!1)).get(e))})).then((function(e){return e&&e.value}))},n.U=function(e){var t=this,n=!1;return Lu(this,(function(r){return n=!0,t.b++,zu(Ru(Fu(r,!0)).delete(e))})).then((function(){return delete t.c[e],Uu(t,e)})).oa((function(){n&&t.b--}))},n.ca=function(e){0==this.a.length&&function(e){function t(){e.f=setTimeout((function(){e.l=qu(e).then((function(t){0<t.length&&W(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}Vu(e),t()}(this),this.a.push(e)},n.ia=function(e){J(this.a,(function(t){return t==e})),0==this.a.length&&Vu(this)},(n=Bu.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},n.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},n.U=function(e){return this.b.then((function(t){return t.U(e)}))},n.ca=function(e){this.a.push(e)},n.ia=function(e){J(this.a,(function(t){return t==e}))},(n=Hu.prototype).get=function(e){return Mt(this.a[e])},n.set=function(e,t){return this.a[e]=t,Mt()},n.U=function(e){return delete this.a[e],Mt()},n.ca=function(){},n.ia=function(){},(n=Wu.prototype).get=function(e){var t=this;return Mt().then((function(){return Ur(t.a.getItem(e))}))},n.set=function(e,t){var n=this;return Mt().then((function(){var r=Fr(t);null===r?n.U(e):n.a.setItem(e,r)}))},n.U=function(e){var t=this;return Mt().then((function(){t.a.removeItem(e)}))},n.ca=function(e){u.window&&fn(u.window,"storage",e)},n.ia=function(e){u.window&&pn(u.window,"storage",e)},(n=Gu.prototype).get=function(){return Mt(null)},n.set=function(){return Mt()},n.U=function(){return Mt()},n.ca=function(){},n.ia=function(){},(n=Ku.prototype).get=function(e){var t=this;return Mt().then((function(){return Ur(t.a.getItem(e))}))},n.set=function(e,t){var n=this;return Mt().then((function(){var r=Fr(t);null===r?n.U(e):n.a.setItem(e,r)}))},n.U=function(e){var t=this;return Mt().then((function(){t.a.removeItem(e)}))},n.ca=function(){},n.ia=function(){};var Ju,$u,Zu={F:Wu,bb:Ku},el={F:Wu,bb:Ku},tl={F:Tu,bb:Gu},nl={F:Wu,bb:Gu},rl={rd:"local",NONE:"none",td:"session"};function il(){var e=!(Vr(Ir())||!xr()),t=Rr(),n=Pr();this.m=e,this.h=t,this.l=n,this.a={},Ju||(Ju=new Qu),e=Ju;try{this.g=!fr()&&Gr()||!u.indexedDB?new e.a.F:new Bu(Tr()?new Hu:new e.a.F)}catch(r){this.g=new Hu,this.h=!0}try{this.i=new e.a.bb}catch(r){this.i=new Hu}this.v=new Hu,this.f=x(this.Yb,this),this.b={}}function ol(){return $u||($u=new il),$u}function al(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function sl(e,t){return"firebase:"+e.name+(t?":"+t:"")}function ul(e,t,n){return n=sl(t,n),"local"==t.F&&(e.b[n]=null),al(e,t.F).U(n)}function ll(e){e.c&&(clearInterval(e.c),e.c=null)}function cl(e){this.a=e,this.b=ol()}(n=il.prototype).get=function(e,t){return al(this,e.F).get(sl(e,t))},n.set=function(e,t,n){var r=sl(e,n),i=this,o=al(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},n.addListener=function(e,t,n){e=sl(e,t),this.l&&(this.b[e]=u.localStorage.getItem(e)),ve(this.a)&&(al(this,"local").ca(this.f),this.h||(fr()||!Gr())&&u.indexedDB||!this.l||function(e){ll(e),e.c=setInterval((function(){for(var t in e.a){var n=u.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Zt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Yb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},n.removeListener=function(e,t,n){e=sl(e,t),this.a[e]&&(J(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),ve(this.a)&&(al(this,"local").ia(this.f),ll(this))},n.Yb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?al(this,"local").ia(this.f):ll(this),this.m)if(n=u.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?u.localStorage.setItem(t,r):u.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var o=this;n=function(){"undefined"===typeof e.a.a&&o.b[t]===u.localStorage.getItem(t)||(o.b[t]=u.localStorage.getItem(t),o.mb(t))},Xe&&ut&&10==ut&&u.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else W(e,x(this.mb,this))},n.mb=function(e){this.a[e]&&W(this.a[e],(function(e){e()}))};var fl,hl={name:"authEvent",F:"local"};function dl(){this.a=ol()}function pl(e,t){this.b=vl,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===fl&&(fl=u.Int32Array?new Int32Array(xl):xl),this.reset()}O(pl,(function(){this.b=-1}));for(var vl=64,yl=vl-1,gl=[],ml=0;ml<yl;ml++)gl[ml]=0;var bl=$(128,gl);function _l(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],l=0|e.a[4],c=0|e.a[5],f=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var h=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0)+((a=(a=l&c^~l&f)+(0|fl[t])|0)+(0|n[t])|0)|0,o=f,f=c,c=l,l=u+a|0,u=s,s=i,i=r,r=a+h|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+l|0,e.a[5]=e.a[5]+c|0,e.a[6]=e.a[6]+f|0,e.a[7]=e.a[7]+o|0}function wl(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"===typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(_l(e),i=0);else{if(!p(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(_l(e),i=0)}}e.c=i,e.g+=n}pl.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):Z(this.h)};var xl=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Tl(){pl.call(this,8,kl)}O(Tl,pl);var kl=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ol(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new dl,this.g=new cl(this.h),this.f=null,this.b=[],this.a=this.c=null}function Sl(e){return new A("invalid-cordova-configuration",e)}function Al(e){var t=new Tl;wl(t,e),e=[];var n=8*t.g;56>t.c?wl(t,bl,56-t.c):wl(t,bl,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(_l(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return G(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function El(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function Ml(e){return e.f||(e.f=e.ma().then((function(){return new xt((function(t){e.Ea((function n(r){return t(r),e.Sa(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),Cl(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=so(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=Ur(Un(o=qn(i),"firebaseError")||null))?E(o):null)?new Bo(r.c,r.b,null,null,o,null,r.T()):new Bo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}El(e,i)}))}var n=new Bo("unknown",null,null,null,new A("no-auth-event")),r=!1,i=En(500).then((function(){return Cl(e).then((function(){r||El(e,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Dr("BuildInfo.packageName",u).toLowerCase()+"://")&&t({url:e}),"function"===typeof o)try{o(e)}catch(n){console.error(n)}},Go||(Go=new Wo),function(e){var t=Go;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"===typeof(e=Dr("universalLinks.subscribe",u))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Cl(e){var t=null;return function(e){return e.b.get(hl,e.a).then((function(e){return Ho(e)}))}(e.g).then((function(n){return t=n,ul((n=e.g).b,hl,n.a)})).then((function(){return t}))}function Il(e){this.a=e,this.b=ol()}(n=Ol.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(wr(void 0)?_r().then((function(){return new xt((function(e,t){var n=u.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):Ct(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Dr("universalLinks.subscribe",u))throw Sl("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Dr("BuildInfo.packageName",u))throw Sl("cordova-plugin-buildinfo is not installed");if("function"!==typeof Dr("cordova.plugins.browsertab.openUrl",u))throw Sl("cordova-plugin-browsertab is not installed");if("function"!==typeof Dr("cordova.InAppBrowser.open",u))throw Sl("cordova-plugin-inappbrowser is not installed")}),(function(){throw new A("cordova-not-ready")}))},n.Ob=function(e,t){return t(new A("operation-not-supported-in-this-environment")),Mt()},n.Mb=function(){return Ct(new A("operation-not-supported-in-this-environment"))},n.$b=function(){return!1},n.Xb=function(){return!0},n.Tb=function(){return!0},n.Nb=function(e,t,n,r){if(this.c)return Ct(new A("redirect-operation-pending"));var i=this,o=u.document,a=null,s=null,l=null,c=null;return this.c=Mt().then((function(){return Vo(t),Ml(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new Bo(t,r,null,o,new A("no-auth-event"),null,i),s=Dr("BuildInfo.packageName",u);if("string"!==typeof s)throw new A("invalid-cordova-configuration");var l=Dr("BuildInfo.displayName",u),c={};if(Ir().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!Ir().toLowerCase().match(/android/))return Ct(new A("operation-not-supported-in-this-environment"));c.apn=s}l&&(c.appDisplayName=l),o=Al(o),c.sessionId=o;var f=xu(e.v,e.i,e.l,t,n,null,r,e.m,c,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(hl,a.w(),t)})).then((function(){var t=Dr("cordova.plugins.browsertab.isAvailable",u);if("function"!==typeof t)throw new A("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!==typeof(n=Dr("cordova.plugins.browsertab.openUrl",u)))throw new A("invalid-cordova-configuration");n(f)}else{if("function"!==typeof(n=Dr("cordova.InAppBrowser.open",u)))throw new A("invalid-cordova-configuration");t=Ir(),e.a=n(f,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new xt((function(e,t){s=function(){var t=Dr("cordova.plugins.browsertab.close",u);return e(),"function"===typeof t&&t(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(s),l=function(){a||(a=En(2e3).then((function(){t(new A("redirect-cancelled-by-user"))})))},c=function(){Wr()&&l()},o.addEventListener("resume",l,!1),Ir().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)})).o((function(e){return Cl(i).then((function(){throw e}))}))})).oa((function(){l&&o.removeEventListener("resume",l,!1),c&&o.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),s&&i.Sa(s),i.c=null}))},n.Ea=function(e){this.b.push(e),Ml(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Bo("unknown",null,null,null,new A("no-auth-event")),e(t))}))},n.Sa=function(e){J(this.b,(function(t){return t==e}))};var Dl={name:"pendingRedirect",F:"session"};function Pl(e){return ul(e.b,Dl,e.a)}function Nl(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=x(this.s,this),this.b=new Xl,this.C=new ec,this.g=new Il(Gl(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Ll(this.D,this.v,this.m,M,this.J)}function Ll(e,n,r,i,o){var a=t.a.SDK_VERSION||null;return wr()?new Ol(e,n,r,a,i,o):new mu(e,n,r,a,i,o)}function jl(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Rl(e){e.a.Xb()&&jl(e).o((function(t){var n=new Bo("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));Bl(t)&&e.s(n)})),e.a.Tb()||Ql(e.b)}function Fl(e,t){X(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Dl,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?Pl(e.g).then((function(){jl(e).o((function(t){var n=new Bo("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));Bl(t)&&e.s(n)}))})):Rl(e)})).o((function(){Rl(e)}))}function zl(e,t){J(e.h,(function(e){return e==t}))}Nl.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Ll(this.D,this.v,this.m,null,this.J),this.i={}},Nl.prototype.s=function(e){if(!e)throw new A("invalid-auth-event");if(6e5<=k()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=k())),t=!0;break}}return Ql(this.b),t};var Ul=new Hr(2e3,1e4),ql=new Hr(3e4,6e4);function Vl(e,t,n,r,i,o,a){return e.a.Mb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function Bl(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Hl(e,t,n,r,i){var o;return function(e){return e.b.set(Dl,"pending",e.a)}(e.g).then((function(){return e.a.Nb(t,n,r,i).o((function(t){if(Bl(t))throw new A("operation-not-supported-in-this-environment");return o=t,Pl(e.g).then((function(){throw o}))})).then((function(){return e.a.$b()?new xt((function(){})):Pl(e.g).then((function(){return e.qa()})).then((function(){})).o((function(){}))}))}))}function Wl(e,t,n,r,i){return e.a.Ob(r,(function(e){t.na(n,null,e,i)}),Ul.get())}Nl.prototype.qa=function(){return this.b.qa()};var Yl={};function Gl(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Kl(e,t,n,r){var i=Gl(t,n,r);return Yl[i]||(Yl[i]=new Nl(e,t,n,r)),Yl[i]}function Xl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Ql(e){e.g||(e.g=!0,Zl(e,!1,null,null))}function Jl(e){e.g&&!e.i&&Zl(e,!1,null,null)}function $l(e,t){if(e.b=function(){return Mt(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Zl(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Ct(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):$l(e,n):$l(e,{user:null}),e.f=[],e.c=[]}function ec(){}function tc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(e){this.ib=e},enumerable:!1})}function nc(e,t){this.a=t,$r(this,"verificationId",e)}function rc(e,t,n,r){return new zo(e).fb(t,n).then((function(e){return new nc(e,r)}))}function ic(e){var t=Gi(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new A("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Zr(this,{token:e,expirationTime:Yr(1e3*t.exp),authTime:Yr(1e3*t.auth_time),issuedAtTime:Yr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function oc(e,t,n){var r=t&&t[sc];if(!r)throw new A("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=ye(t),this.g=n,this.c=new uo(null,r),this.b=[];var i=this;W(t[ac]||[],(function(e){(e=ri(e))&&i.b.push(e)})),$r(this,"auth",this.a),$r(this,"session",this.c),$r(this,"hints",this.b)}Xl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Xl.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(Zl(this,!0,null,e.a),Mt()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){Zl(e,s,t,null)})).o((function(t){Zl(e,s,null,t)}))}(this,e,t):Ct(new A("invalid-auth-event")):(Zl(this,!1,null,null),Mt())}else Ct(new A("invalid-auth-event"))},Xl.prototype.qa=function(){var e=this;return new xt((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new A("timeout");e.a&&e.a.cancel(),e.a=En(ql.get()).then((function(){e.b||(e.g=!0,Zl(e,!0,null,t))}))}(e))}))},ec.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),Mt()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):Ct(new A("invalid-auth-event"))}else Ct(new A("invalid-auth-event"))},nc.prototype.confirm=function(e){return e=Uo(this.verificationId,e),this.a(e)};var ac="mfaInfo",sc="mfaPendingCredential";function uc(e,t,n,r){A.call(this,"multi-factor-auth-required",r,t),this.b=new oc(e,t,n),$r(this,"resolver",this.b)}function lc(e,t,n){if(e&&y(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new uc(t,e.serverResponse,n,e.message)}catch(r){}return null}function cc(){}function fc(e){$r(this,"factorId",e.fa),this.a=e}function hc(e){if(fc.call(this,e),this.a.fa!=zo.PROVIDER_ID)throw new A("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function dc(e,t){for(var n in $t.call(this,e),t)this[n]=t[n]}function pc(e,t){this.a=e,this.b=[],this.c=x(this.yc,this),fn(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&W(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[ai]=e.uid),e.displayName&&(r[ii]=e.displayName),e.enrollmentTime&&(r[oi]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[si]=e.phoneNumber);try{t=new ui(r)}catch(i){}e=t}else e=null;e&&n.push(e)})),vc(this,n)}function vc(e,t){e.b=t,$r(e,"enrolledFactors",t)}function yc(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function gc(e,t){e.stop(),e.b=En(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return function(){var e=u.document,t=null;return Wr()||!e?Mt():new xt((function(n){t=function(){Wr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){gc(e,!0)})).o((function(t){e.i(t)&&gc(e,!1)}))}function mc(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function bc(e,t){"undefined"===typeof t&&(e.b?t=(t=e.b).a-t.g:t=0),e.c=Date.now()+1e3*t}function _c(e,t){e.b=Yi(t[ns]||""),e.a=t.refreshToken,bc(e,"undefined"!==typeof(t=t.expiresIn)?Number(t):void 0)}function wc(e,t){return function(e,t){return new xt((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?fs(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(lu(e)):e.access_token&&e.refresh_token?n(e):r(new A("internal-error")):r(new A("network-request-failed"))}),"POST",Zn(t).toString(),e.g,e.m.get()):r(new A("internal-error"))}))}(e.f,t).then((function(t){return e.b=Yi(t.access_token),e.a=t.refresh_token,bc(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function xc(e,t){this.a=e||null,this.b=t||null,Zr(this,{lastSignInTime:Yr(t||null),creationTime:Yr(e||null)})}function Tc(e,t,n,r,i,o){Zr(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function kc(e,n,r){this.J=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var i=t.a.SDK_VERSION?Cr(t.a.SDK_VERSION):null;this.a=new es(this.l,P(M),i),e.emulatorConfig&&us(this.a,e.emulatorConfig),this.b=new mc(this.a),Dc(this,n[ns]),_c(this.b,n),$r(this,"refreshToken",this.b.a),Lc(this,r||{}),Tn.call(this),this.R=!1,this.s&&Nr()&&(this.i=Kl(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(e){return new yc((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.b.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.aa=x(this.hb,this);var o=this;this.ya=null,this.Oa=function(e){o.wa(e.h)},this.ja=null,this.Aa=function(e){us(o.a,e.c)},this.X=null,this.$=[],this.Ba=function(e){Ac(o,e.f)},this.ba=null,this.O=new pc(this,r),$r(this,"multiFactor",this.O)}function Oc(e,t){e.ja&&pn(e.ja,"languageCodeChanged",e.Oa),(e.ja=t)&&fn(t,"languageCodeChanged",e.Oa)}function Sc(e,t){e.X&&pn(e.X,"emulatorConfigChanged",e.Aa),(e.X=t)&&fn(t,"emulatorConfigChanged",e.Aa)}function Ac(e,n){e.$=n,cs(e.a,t.a.SDK_VERSION?Cr(t.a.SDK_VERSION,e.$):null)}function Ec(e,t){e.ba&&pn(e.ba,"frameworkChanged",e.Ba),(e.ba=t)&&fn(t,"frameworkChanged",e.Ba)}function Mc(e){try{return t.a.app(e.m).auth()}catch(n){throw new A("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Cc(e){e.D||e.u.b||(e.u.start(),pn(e,"tokenChanged",e.aa),fn(e,"tokenChanged",e.aa))}function Ic(e){pn(e,"tokenChanged",e.aa),e.u.stop()}function Dc(e,t){e.za=t,$r(e,"_lat",t)}function Pc(e){for(var t=[],n=0;n<e.S.length;n++)t.push(e.S[n](e));return Dt(t).then((function(){return e}))}function Nc(e){e.i&&!e.R&&(e.R=!0,Fl(e.i,e))}function Lc(e,t){Zr(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new xc(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function jc(){}function Rc(e){return Mt().then((function(){if(e.D)throw new A("app-deleted")}))}function Fc(e){return G(e.providerData,(function(e){return e.providerId}))}function zc(e,t){t&&(Uc(e,t.providerId),e.providerData.push(t))}function Uc(e,t){J(e.providerData,(function(e){return e.providerId==t}))}function qc(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&$r(e,t,n)}function Vc(e,t){e!=t&&(Zr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?$r(e,"metadata",function(e){return new xc(e.a,e.b)}(t.metadata)):$r(e,"metadata",new xc),W(t.providerData,(function(t){zc(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.b,t.b),$r(e,"refreshToken",e.b.a),vc(e.O,t.O.b))}function Bc(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return su(e.a,Fs,{idToken:t}).then(x(e.Kc,e))}(e,t).then((function(){return n||qc(e,"isAnonymous",!1),t}))}))}function Hc(e,t){t[ns]&&e.za!=t[ns]&&(_c(e.b,t),e.dispatchEvent(new dc("tokenChanged")),Dc(e,t[ns]),qc(e,"refreshToken",e.b.a))}function Wc(e,t){return Bc(e).then((function(){if(X(Fc(e),t))return Pc(e).then((function(){throw new A("provider-already-linked")}))}))}function Yc(e,t,n){return ei({user:e,credential:qo(t),additionalUserInfo:t=$i(t),operationType:n})}function Gc(e,t){return Hc(e,t),e.reload().then((function(){return e}))}function Kc(e,n,r,i,o){if(!Nr())return Ct(new A("operation-not-supported-in-this-environment"));if(e.h&&!o)return Ct(e.h);var a=Ji(r.providerId),s=qr(e.uid+":::"),u=null;(!Rr()||xr())&&e.s&&r.isOAuthProvider&&(u=xu(e.s,e.l,e.m,n,r,null,s,t.a.SDK_VERSION||null,null,null,e.tenantId));var l=gr(u,a&&a.ua,a&&a.ta);return i=i().then((function(){if(Qc(e),!o)return e.I().then((function(){}))})).then((function(){return Vl(e.i,l,n,r,s,!!u,e.tenantId)})).then((function(){return new xt((function(t,r){e.na(n,null,new A("cancelled-popup-request"),e.g||null),e.f=t,e.C=r,e.g=s,e.c=Wl(e.i,e,n,l,s)}))})).then((function(e){return l&&yr(l),e?ei(e):null})).o((function(e){throw l&&yr(l),e})),Jc(e,i,o)}function Xc(e,t,n,r,i){if(!Nr())return Ct(new A("operation-not-supported-in-this-environment"));if(e.h&&!i)return Ct(e.h);var o=null,a=qr(e.uid+":::");return r=r().then((function(){if(Qc(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,Pc(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(ef,e.w(),t.a)),t})).then((function(){return Hl(e.i,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return tf(e.ha);throw o})).then((function(){if(o)throw o})),Jc(e,r,i)}function Qc(e){if(!e.i||!e.R){if(e.i&&!e.R)throw new A("internal-error");throw new A("auth-domain-config-required")}}function Jc(e,t,n){var r=function(e,t,n){return e.h&&!n?(t.cancel(),Ct(e.h)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.h||e.dispatchEvent(new dc("userInvalidated")),e.h=t),t}))}(e,t,n);return e.J.push(r),r.oa((function(){Q(e.J,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=lc(t.w(),Mc(e),x(e.jc,e))),n||t}))}function $c(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[ns]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new kc(t,n,e);return e.providerData&&W(e.providerData,(function(e){e&&zc(i,ei(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function Zc(e){this.a=e,this.b=ol()}oc.prototype.Rc=function(e){var t=this;return e.sb(this.a.a,this.c).then((function(e){var n=ye(t.f);return delete n[ac],delete n[sc],me(n,e),t.g(n)}))},O(uc,A),cc.prototype.sb=function(e,t,n){return t.type==lo?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),me(n,{phoneVerificationInfo:Fo(e.a)}),su(t,js,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return me(n={mfaPendingCredential:n},{phoneVerificationInfo:Fo(e.a)}),su(t,Rs,n)}))}(this,e,t)},O(fc,cc),O(hc,fc),O(dc,$t),(n=pc.prototype).yc=function(e){vc(this,function(e){var t=[];return W(e.mfaInfo||[],(function(e){(e=ri(e))&&t.push(e)})),t}(e.hd))},n.Rb=function(){return this.a.I().then((function(e){return new uo(e,null)}))},n.fc=function(e,t){var n=this,r=this.a.a;return this.Rb().then((function(n){return e.sb(r,n,t)})).then((function(e){return Hc(n.a,e),n.a.reload()}))},n.bd=function(e){var t=this,n="string"===typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return su(r,au,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=Y(t.b,(function(e){return e.uid!=n}));return vc(t,r),Hc(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},n.w=function(){return{multiFactor:{enrolledFactors:G(this.b,(function(e){return e.w()}))}}},yc.prototype.start=function(){this.a=this.c,gc(this,!0)},yc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},mc.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},mc.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Ct(new A("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?wc(this,{grant_type:"refresh_token",refresh_token:this.a}):Mt(null):Mt({accessToken:this.b.toString(),refreshToken:this.a})},xc.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},O(kc,Tn),kc.prototype.wa=function(e){this.ya=e,ss(this.a,e)},kc.prototype.la=function(){return this.ya},kc.prototype.Ga=function(){return Z(this.$)},kc.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},$r(kc.prototype,"providerId","firebase"),(n=kc.prototype).reload=function(){var e=this;return Jc(this,Rc(this).then((function(){return Bc(e).then((function(){return Pc(e)})).then(jc)})))},n.oc=function(e){return this.I(e).then((function(e){return new ic(e)}))},n.I=function(e){var t=this;return Jc(this,Rc(this).then((function(){return t.b.getToken(e)})).then((function(e){if(!e)throw new A("internal-error");return e.accessToken!=t.za&&(Dc(t,e.accessToken),t.dispatchEvent(new dc("tokenChanged"))),qc(t,"refreshToken",e.refreshToken),e.accessToken})))},n.Kc=function(e){if(!(e=e.users)||!e.length)throw new A("internal-error");Lc(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?G(e,(function(e){return new Tc(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)zc(this,t[n]);qc(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new dc("userReloaded",{hd:e}))},n.Lc=function(e){return Qr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(e)},n.tb=function(e){var t=this,n=null;return Jc(this,e.c(this.a,this.uid).then((function(e){return Hc(t,e),n=Yc(t,e,"reauthenticate"),t.h=null,t.reload()})).then((function(){return n})),!0)},n.Cc=function(e){return Qr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(e)},n.qb=function(e){var t=this,n=null;return Jc(this,Wc(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Yc(t,e,"link"),Gc(t,e)})).then((function(){return n})))},n.Dc=function(e,t){var n=this;return Jc(this,Wc(this,"phone").then((function(){return rc(Mc(n),e,t,x(n.qb,n))})))},n.Mc=function(e,t){var n=this;return Jc(this,Mt().then((function(){return rc(Mc(n),e,t,x(n.tb,n))})),!0)},n.Bb=function(e){var t=this;return Jc(this,this.I().then((function(n){return t.a.Bb(n,e)})).then((function(e){return Hc(t,e),t.reload()})))},n.ed=function(e){var t=this;return Jc(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return Hc(t,e),t.reload()})))},n.Cb=function(e){var t=this;return Jc(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return Hc(t,e),t.reload()})))},n.Db=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Rc(this);var t=this;return Jc(this,this.I().then((function(n){return t.a.Db(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Hc(t,e),qc(t,"displayName",e.displayName||null),qc(t,"photoURL",e.photoUrl||null),W(t.providerData,(function(e){"password"===e.providerId&&($r(e,"displayName",t.displayName),$r(e,"photoURL",t.photoURL))})),Pc(t)})).then(jc))},n.cd=function(e){var t=this;return Jc(this,Bc(this).then((function(n){return X(Fc(t),e)?function(e,t,n){return su(e,Ps,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return W(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),W(Fc(t),(function(e){n[e]||Uc(t,e)})),n[zo.PROVIDER_ID]||$r(t,"phoneNumber",null),Pc(t)})):Pc(t).then((function(){throw new A("no-such-provider")}))})))},n.delete=function(){var e=this;return Jc(this,this.I().then((function(t){return su(e.a,Ds,{idToken:t})})).then((function(){e.dispatchEvent(new dc("userDeleted"))}))).then((function(){for(var t=0;t<e.J.length;t++)e.J[t].cancel("app-deleted");Oc(e,null),Sc(e,null),Ec(e,null),e.J=[],e.D=!0,Ic(e),$r(e,"refreshToken",null),e.i&&zl(e.i,e)}))},n.Fb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},n.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?x(this.Kb,this):"reauthViaPopup"==e&&t==(this.g||null)?x(this.Lb,this):"linkViaRedirect"==e&&(this.ga||null)==t?x(this.Kb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?x(this.Lb,this):null},n.Ec=function(e){var t=this;return Kc(this,"linkViaPopup",e,(function(){return Wc(t,e.providerId).then((function(){return Pc(t)}))}),!1)},n.Nc=function(e){return Kc(this,"reauthViaPopup",e,(function(){return Mt()}),!0)},n.Fc=function(e){var t=this;return Xc(this,"linkViaRedirect",e,(function(){return Wc(t,e.providerId)}),!1)},n.Oc=function(e){return Xc(this,"reauthViaRedirect",e,(function(){return Mt()}),!0)},n.Kb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Jc(this,this.I().then((function(n){return Os(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Yc(i,e,"link"),Gc(i,e)})).then((function(){return o})))},n.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Jc(this,Mt().then((function(){return ho(Ss(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Yc(i,e,"reauthenticate"),Hc(i,e),i.h=null,i.reload()})).then((function(){return o})),!0)},n.ub=function(e){var t=this,n=null;return Jc(this,this.I().then((function(t){return n=t,"undefined"===typeof e||ve(e)?{}:Vi(new Di(e))})).then((function(e){return t.a.ub(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},n.Eb=function(e,t){var n=this,r=null;return Jc(this,this.I().then((function(e){return r=e,"undefined"===typeof t||ve(t)?{}:Vi(new Di(t))})).then((function(t){return n.a.Eb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},n.jc=function(e){var t=null,n=this;return Jc(this,e=ho(Mt(e),n.uid).then((function(e){return t=Yc(n,e,"reauthenticate"),Hc(n,e),n.h=null,n.reload()})).then((function(){return t})),!0)},n.toJSON=function(){return this.w()},n.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&me(e,this.metadata.w()),W(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),me(e,this.O.w()),e};var ef={name:"redirectUser",F:"session"};function tf(e){return ul(e.b,ef,e.a)}function nf(e){this.a=e,this.b=ol(),this.c=null,this.f=function(e){var t=af("local"),n=af("session"),r=af("none");return function(e,t,n){var r=sl(t,n),i=al(e,t.F);return e.get(t,n).then((function(o){var a=null;try{a=Ur(u.localStorage.getItem(r))}catch(s){}if(a&&!o)return u.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(of,e.a).then((function(e){return e?af(e):t}))}))}))})).then((function(t){return e.c=t,rf(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(af("local"),this.a,x(this.g,this))}function rf(e,t){var n,r=[];for(n in rl)rl[n]!==t&&r.push(ul(e.b,af(rl[n]),e.a));return r.push(ul(e.b,of,e.a)),function(e){return new xt((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)It(e[s],T(o,s),a);else t(i)}))}(r)}nf.prototype.g=function(){var e=this,t=af("local");cf(this,(function(){return Mt().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return rf(e,"local").then((function(){e.c=t}))}))}))};var of={name:"persistence",F:"session"};function af(e){return{name:"authUser",F:e}}function sf(e,t){return cf(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function uf(e){return cf(e,(function(){return ul(e.b,e.c,e.a)}))}function lf(e,t,n){return cf(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),$c(e||{})}))}))}function cf(e,t){return e.f=e.f.then(t,t),e.f}function ff(e){if(this.l=!1,$r(this,"settings",new tc),$r(this,"app",e),!_f(this).options||!_f(this).options.apiKey)throw new A("invalid-api-key");e=t.a.SDK_VERSION?Cr(t.a.SDK_VERSION):null,this.a=new es(_f(this).options&&_f(this).options.apiKey,P(M),e),this.R=[],this.s=[],this.O=[],this.hb=t.a.INTERNAL.createSubscribe(x(this.zc,this)),this.X=void 0,this.bc=t.a.INTERNAL.createSubscribe(x(this.Ac,this)),mf(this,null),this.i=new nf(_f(this).options.apiKey+":"+_f(this).name),this.D=new Zc(_f(this).options.apiKey+":"+_f(this).name),this.$=kf(this,function(e){var t=_f(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(ef,e.a).then((function(e){return e&&t&&(e.authDomain=t),$c(e||{})}))}(e.D,_f(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),tf(e.D)}));return kf(e,t)}(e).then((function(){return lf(e.i,t,e.P)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return sf(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:uf(e.i)}))):null})).then((function(t){mf(e,t||null)}));return kf(e,n)}(this)),this.h=kf(this,function(e){return e.$.then((function(){return yf(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(af("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=x(this.Zc,this),this.Ba=x(this.da,this),this.ya=x(this.mc,this),this.za=x(this.wc,this),this.Aa=x(this.xc,this),this.b=null,function(e){var t=_f(e).options.authDomain,n=_f(e).options.apiKey;t&&Nr()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=Kl(t,n,_f(e).name,e.P),Fl(e.b,e),wf(e)&&Nc(wf(e)),e.m){Nc(e.m);var r=e.m;r.wa(e.la()),Oc(r,e),Ac(r=e.m,e.J),Ec(r,e),us((r=e.m).a,e.P),Sc(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=x(this.delete,this),this.INTERNAL.logFramework=x(this.Gc,this),this.u=0,Tn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.wa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.yb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.P){var e=qn(this.P.url);e=ei({protocol:e.c,host:e.a,port:e.g,options:ei({disableWarnings:this.P.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.P=null}function hf(e){$t.call(this,"languageCodeChanged"),this.h=e}function df(e){$t.call(this,"emulatorConfigChanged"),this.c=e}function pf(e){$t.call(this,"frameworkChanged"),this.f=e}function vf(e){return e.Oa||Ct(new A("auth-domain-config-required"))}function yf(e){if(!Nr())return Ct(new A("operation-not-supported-in-this-environment"));var t=vf(e).then((function(){return e.b.qa()})).then((function(e){return e?ei(e):null}));return kf(e,t)}function gf(e,t){var n={};return n.apiKey=_f(e).options.apiKey,n.authDomain=_f(e).options.authDomain,n.appName=_f(e).name,e.P&&(n.emulatorConfig=e.P),e.$.then((function(){return function(e,t,n,r){var i=new kc(e,t);return n&&(i.ha=n),r&&Ac(i,r),i.reload().then((function(){return i}))}(n,t,e.D,e.Ga())})).then((function(t){return wf(e)&&t.uid==wf(e).uid?(Vc(wf(e),t),e.da(t)):(mf(e,t),Nc(t),e.da(t))})).then((function(){Tf(e)}))}function mf(e,t){wf(e)&&(function(e,t){J(e.S,(function(e){return e==t}))}(wf(e),e.Ba),pn(wf(e),"tokenChanged",e.ya),pn(wf(e),"userDeleted",e.za),pn(wf(e),"userInvalidated",e.Aa),Ic(wf(e))),t&&(t.S.push(e.Ba),fn(t,"tokenChanged",e.ya),fn(t,"userDeleted",e.za),fn(t,"userInvalidated",e.Aa),0<e.u&&Cc(t)),$r(e,"currentUser",t),t&&(t.wa(e.la()),Oc(t,e),Ac(t,e.J),Ec(t,e),us(t.a,e.P),Sc(t,e))}function bf(e,t){var n=null,r=null;return kf(e,t.then((function(t){return n=qo(t),r=$i(t),gf(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=lc(t.w(),e,x(e.kc,e))),n||t})).then((function(){return ei({user:wf(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function _f(e){return e.app}function wf(e){return e.currentUser}function xf(e){return wf(e)&&wf(e)._lat||null}function Tf(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](xf(e));if(e.X!==e.getUid()&&e.O.length)for(e.X=e.getUid(),t=0;t<e.O.length;t++)e.O[t]&&e.O[t](xf(e))}}function kf(e,t){return e.R.push(t),t.oa((function(){Q(e.R,t)})),t}function Of(){}function Sf(){this.a={},this.b=1e12}nf.prototype.xb=function(e){var t=null,n=this;return function(e){var t=new A("invalid-persistence-type"),n=new A("unsupported-persistence-type");e:{for(r in rl)if(rl[r]==e){var r=!0;break e}r=!1}if(!r||"string"!==typeof e)throw t;switch(kr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!ju()&&"none"!==e)throw n;break;default:if(!Pr()&&"none"!==e)throw n}}(e),cf(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,rf(n,e)})).then((function(){if(n.c=af(e),t)return n.b.set(n.c,t,n.a)})):Mt()}))},O(ff,Tn),O(hf,$t),O(df,$t),O(pf,$t),(n=ff.prototype).xb=function(e){return kf(this,e=this.i.xb(e))},n.wa=function(e){this.aa===e||this.l||(this.aa=e,ss(this.a,this.aa),this.dispatchEvent(new hf(this.la())))},n.la=function(){return this.aa},n.fd=function(){var e=u.navigator;this.wa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},n.gd=function(e,t){if(!this.P){if(!/^https?:\/\//.test(e))throw new A("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&!e&&_r().then((function(){var e=u.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#ff0000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),u.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.P={url:e,ec:t},this.settings.ib=!0,us(this.a,this.P),this.dispatchEvent(new df(this.P))}},n.Gc=function(e){this.J.push(e),cs(this.a,t.a.SDK_VERSION?Cr(t.a.SDK_VERSION,this.J):null),this.dispatchEvent(new pf(this.J))},n.Ga=function(){return Z(this.J)},n.yb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},n.T=function(){return this.S},n.toJSON=function(){return{apiKey:_f(this).options.apiKey,authDomain:_f(this).options.authDomain,appName:_f(this).name,currentUser:wf(this)&&wf(this).w()}},n.Fb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},n.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?x(this.ic,this):null},n.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return bf(i,ks(i.a,o))}))},n.Xc=function(e){if(!Nr())return Ct(new A("operation-not-supported-in-this-environment"));var n=this,r=Ji(e.providerId),i=qr(),o=null;(!Rr()||xr())&&_f(this).options.authDomain&&e.isOAuthProvider&&(o=xu(_f(this).options.authDomain,_f(this).options.apiKey,_f(this).name,"signInViaPopup",e,null,i,t.a.SDK_VERSION||null,null,null,this.T(),this.P));var a=gr(o,r&&r.ua,r&&r.ta);return kf(this,r=vf(this).then((function(t){return Vl(t,a,"signInViaPopup",e,i,!!o,n.T())})).then((function(){return new xt((function(e,t){n.na("signInViaPopup",null,new A("cancelled-popup-request"),n.g),n.f=e,n.C=t,n.g=i,n.c=Wl(n.b,n,"signInViaPopup",a,i)}))})).then((function(e){return a&&yr(a),e?ei(e):null})).o((function(e){throw a&&yr(a),e})))},n.Yc=function(e){if(!Nr())return Ct(new A("operation-not-supported-in-this-environment"));var t=this;return kf(this,vf(this).then((function(){return function(e){return cf(e,(function(){return e.b.set(of,e.c.F,e.a)}))}(t.i)})).then((function(){return Hl(t.b,"signInViaRedirect",e,void 0,t.T())})))},n.qa=function(){var e=this;return yf(this).then((function(t){return e.b&&Jl(e.b.b),t})).o((function(t){throw e.b&&Jl(e.b.b),t}))},n.dd=function(e){if(!e)return Ct(new A("null-user"));if(this.S!=e.tenantId)return Ct(new A("tenant-id-mismatch"));var t=this,n={};n.apiKey=_f(this).options.apiKey,n.authDomain=_f(this).options.authDomain,n.appName=_f(this).name;var r=function(e,t,n,r){var i=e.b,o={};return o[ns]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new kc(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&Ac(t,r),Vc(t,e),t}(e,n,t.D,t.Ga());return kf(this,this.h.then((function(){if(_f(t).options.apiKey!=e.l)return r.reload()})).then((function(){return wf(t)&&e.uid==wf(t).uid?(Vc(wf(t),e),t.da(e)):(mf(t,r),Nc(r),t.da(r))})).then((function(){Tf(t)})))},n.Ab=function(){var e=this;return kf(this,this.h.then((function(){return e.b&&Jl(e.b.b),wf(e)?(mf(e,null),uf(e.i).then((function(){Tf(e)}))):Mt()})))},n.Zc=function(){var e=this;return lf(this.i,_f(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=wf(e)&&t){n=wf(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Vc(wf(e),t),wf(e).I();(wf(e)||t)&&(mf(e,t),t&&(Nc(t),t.ha=e.D),e.b&&Fl(e.b,e),Tf(e))}}))},n.da=function(e){return sf(this.i,e)},n.mc=function(){Tf(this),this.da(wf(this))},n.wc=function(){this.Ab()},n.xc=function(){this.Ab()},n.kc=function(e){var t=this;return this.h.then((function(){return bf(t,Mt(e))}))},n.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(wf(t))}))},n.Ac=function(e){var t=this;!function(e,t){e.O.push(t),kf(e,e.h.then((function(){!e.l&&X(e.O,t)&&e.X!==e.getUid()&&(e.X=e.getUid(),t(xf(e)))})))}(this,(function(){e.next(wf(t))}))},n.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof e?e(wf(r)):"function"===typeof e.next&&e.next(wf(r))})),this.hb(e,t,n)},n.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"===typeof e?e(wf(r)):"function"===typeof e.next&&e.next(wf(r))})),this.bc(e,t,n)},n.nc=function(e){var t=this;return kf(this,this.h.then((function(){return wf(t)?wf(t).I(e).then((function(e){return{accessToken:e}})):null})))},n.Tc=function(e){var t=this;return this.h.then((function(){return bf(t,su(t.a,tu,{token:e}))})).then((function(e){var n=e.user;return qc(n,"isAnonymous",!1),t.da(n),e}))},n.Uc=function(e,t){var n=this;return this.h.then((function(){return bf(n,su(n.a,nu,{email:e,password:t}))}))},n.dc=function(e,t){var n=this;return this.h.then((function(){return bf(n,su(n.a,Cs,{email:e,password:t}))}))},n.$a=function(e){var t=this;return this.h.then((function(){return bf(t,e.ka(t.a))}))},n.Sc=function(e){return Qr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(e)},n.zb=function(){var e=this;return this.h.then((function(){var t=wf(e);if(t&&t.isAnonymous){var n=ei({providerId:null,isNewUser:!1});return ei({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return bf(e,e.a.zb()).then((function(t){var n=t.user;return qc(n,"isAnonymous",!0),e.da(n),t}))}))},n.getUid=function(){return wf(this)&&wf(this).uid||null},n.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&wf(this)&&Cc(wf(this))},n.Pc=function(e){var t=this;W(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&wf(this)&&Ic(wf(this)),this.removeAuthTokenListener(e)},n.addAuthTokenListener=function(e){var t=this;this.s.push(e),kf(this,this.h.then((function(){t.l||X(t.s,e)&&e(xf(t))})))},n.removeAuthTokenListener=function(e){J(this.s,(function(t){return t==e}))},n.delete=function(){this.l=!0;for(var e=0;e<this.R.length;e++)this.R[e].cancel("app-deleted");return this.R=[],this.i&&(e=this.i).b.removeListener(af("local"),e.a,this.ja),this.b&&(zl(this.b,this),Jl(this.b.b)),Promise.resolve()},n.hc=function(e){return kf(this,function(e,t){return su(e,Is,{identifier:t,continueUri:Lr()?hr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},n.Bc=function(e){return!!Lo(e)},n.wb=function(e,t){var n=this;return kf(this,Mt().then((function(){var e=new Di(t);if(!e.c)throw new A("argument-error",Li+" must be true when sending sign in link to email");return Vi(e)})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},n.jd=function(e){return this.Ra(e).then((function(e){return e.data.email}))},n.nb=function(e,t){return kf(this,this.a.nb(e,t).then((function(){})))},n.Ra=function(e){return kf(this,this.a.Ra(e).then((function(e){return new li(e)})))},n.jb=function(e){return kf(this,this.a.jb(e).then((function(){})))},n.vb=function(e,t){var n=this;return kf(this,Mt().then((function(){return"undefined"===typeof t||ve(t)?{}:Vi(new Di(t))})).then((function(t){return n.a.vb(e,t)})).then((function(){})))},n.Wc=function(e,t){return kf(this,rc(this,e,t,x(this.$a,this)))},n.Vc=function(e,t){var n=this;return kf(this,Mt().then((function(){var r=t||hr(),i=No(e,r);if(!(r=Lo(r)))throw new A("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new A("tenant-id-mismatch");return n.$a(i)})))},Of.prototype.render=function(){},Of.prototype.reset=function(){},Of.prototype.getResponse=function(){},Of.prototype.execute=function(){};var Af=null;function Ef(e,t){return(t=Mf(t))&&e.a[t]||null}function Mf(e){return(e="undefined"===typeof e?1e12:e)?e.toString():null}function Cf(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ct(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():fn(this.f,"click",this.i)}function If(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Df(){}function Pf(){}Sf.prototype.render=function(e,t){return this.a[this.b.toString()]=new Cf(e,t),this.b++},Sf.prototype.reset=function(e){var t=Ef(this,e);e=Mf(e),t&&e&&(t.delete(),delete this.a[e])},Sf.prototype.getResponse=function(e){return(e=Ef(this,e))?e.getResponse():null},Sf.prototype.execute=function(e){(e=Ef(this,e))&&e.execute()},Cf.prototype.getResponse=function(){return If(this),this.b},Cf.prototype.execute=function(){If(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()}),6e4)}),500))},Cf.prototype.delete=function(){If(this),this.g=!0,clearTimeout(this.a),this.a=null,pn(this.f,"click",this.i)},$r(Df,"FACTOR_ID","phone"),Pf.prototype.g=function(){return Af||(Af=new Sf),Mt(Af)},Pf.prototype.c=function(){};var Nf=null;function Lf(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var jf=new _e(ke,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Rf=new Hr(3e4,6e4);Lf.prototype.g=function(e){var t=this;return new xt((function(n,r){var i=setTimeout((function(){r(new A("network-request-failed"))}),Rf.get());!u.grecaptcha||e!==t.f&&!t.b?(u[t.a]=function(){if(u.grecaptcha){t.f=e;var o=u.grecaptcha.render;u.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new A("internal-error"));delete u[t.a]},Mt(Ga(Ee(jf,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new A("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},Lf.prototype.c=function(){this.b--};var Ff=null;function zf(e,t,n,r,i,o,a){if($r(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=t,this.g=null,a?(Nf||(Nf=new Pf),a=Nf):(Ff||(Ff=new Lf),a=Ff),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Vf])throw new A("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Bf],!u.document)throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ct(t)||!this.i&&ct(t).hasChildNodes())throw new A("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new es(e,o||null,i||null),this.u=r||function(){return null};var s=this;this.l=[];var l=this.a[Uf];this.a[Uf]=function(e){if(Hf(s,e),"function"===typeof l)l(e);else if("string"===typeof l){var t=Dr(l,u);"function"===typeof t&&t(e)}};var c=this.a[qf];this.a[qf]=function(){if(Hf(s,null),"function"===typeof c)c();else if("string"===typeof c){var e=Dr(c,u);"function"===typeof e&&e()}}}var Uf="callback",qf="expired-callback",Vf="sitekey",Bf="size";function Hf(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function Wf(e,t){return e.h.push(t),t.oa((function(){Q(e.h,t)})),t}function Yf(e){if(e.D)throw new A("internal-error","RecaptchaVerifier instance has been destroyed.")}function Gf(e,n,r){var i=!1;try{this.b=r||t.a.app()}catch(s){throw new A("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new A("invalid-api-key");r=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=t.a.SDK_VERSION?Cr(t.a.SDK_VERSION,a):null,zf.call(this,r,e,n,(function(){try{var e=o.b.auth().la()}catch(t){e=null}return e}),a,P(M),i)}function Kf(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new A("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=Xf.length)throw new A("internal-error","Argument validator received an unsupported number of arguments.");n=Xf[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new A("argument-error",e+" failed: "+r)}(n=zf.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Wf(this,Mt().then((function(){if(Lr()&&!Tr())return _r();throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,su(e.s,Hs,{})})).then((function(t){e.a[Vf]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},n.render=function(){Yf(this);var e=this;return Wf(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=ct(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!lt&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',We(a.name),'"'),a.type){o.push(' type="',We(a.type),'"');var s={};me(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=yt(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ft(o,a)),2<r.length&&vt(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},n.verify=function(){Yf(this);var e=this;return Wf(this,this.render().then((function(t){return new xt((function(n){var r=e.g.getResponse(t);if(r)n(r);else{e.l.push((function t(r){r&&(function(e,t){J(e.l,(function(e){return e==t}))}(e,t),n(r))})),e.i&&e.g.execute(e.c)}}))})))},n.reset=function(){Yf(this),null!==this.c&&this.g.reset(this.c)},n.clear=function(){Yf(this),this.D=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=ct(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},O(Gf,zf);var Xf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Qf(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"===typeof e}}}function Jf(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"===typeof e}}}function $f(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:y}}function Zf(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"===typeof e}}}function eh(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function th(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function nh(e,t){return y(e)&&"string"===typeof e.type&&e.type===t&&"function"===typeof e.Ha}function rh(e){return y(e)&&"string"===typeof e.uid}function ih(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function oh(e,t){for(var n in t){var r=t[n].name;e[r]=uh(r,e[n],t[n].j)}}function ah(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:T((function(e){return this[e]}),n),set:T((function(e,t,n,r){Kf(e,[n],[r],!0),this[t]=r}),r,n,t[n].kb),enumerable:!0})}}function sh(e,t,n,r){e[t]=uh(t,n,r)}function uh(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Kf(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}oh(ff.prototype,{jb:{name:"applyActionCode",j:[Qf("code")]},Ra:{name:"checkActionCode",j:[Qf("code")]},nb:{name:"confirmPasswordReset",j:[Qf("code"),Qf("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Qf("email"),Qf("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Qf("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Qf("emailLink")]},Hc:{name:"onAuthStateChanged",j:[ih($f(),Zf(),"nextOrObserver"),Zf("opt_error",!0),Zf("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[ih($f(),Zf(),"nextOrObserver"),Zf("opt_error",!0),Zf("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Qf("email"),ih($f("opt_actionCodeSettings",!0),eh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Qf("email"),$f("actionCodeSettings")]},xb:{name:"setPersistence",j:[Qf("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[th()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[th()]},Tc:{name:"signInWithCustomToken",j:[Qf("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Qf("email"),Qf("password")]},Vc:{name:"signInWithEmailLink",j:[Qf("email"),Qf("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Qf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[ih({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof kc)}},eh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Qf(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Qf("url"),$f("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Qf("code")]}}),ah(ff.prototype,{lc:{name:"languageCode",kb:ih(Qf(),eh(),"languageCode")},ti:{name:"tenantId",kb:ih(Qf(),eh(),"tenantId")}}),ff.Persistence=rl,ff.Persistence.LOCAL="local",ff.Persistence.SESSION="session",ff.Persistence.NONE="none",oh(kc.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Jf("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Jf("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[th()]},qb:{name:"linkWithCredential",j:[th()]},Dc:{name:"linkWithPhoneNumber",j:[Qf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[th()]},tb:{name:"reauthenticateWithCredential",j:[th()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Qf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[ih($f("opt_actionCodeSettings",!0),eh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Qf(null,!0)]},cd:{name:"unlink",j:[Qf("provider")]},Bb:{name:"updateEmail",j:[Qf("email")]},Cb:{name:"updatePassword",j:[Qf("password")]},ed:{name:"updatePhoneNumber",j:[th("phone")]},Db:{name:"updateProfile",j:[$f("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Qf("email"),ih($f("opt_actionCodeSettings",!0),eh(null,!0),"opt_actionCodeSettings",!0)]}}),oh(Sf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),oh(Of.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),oh(xt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),ah(tc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Jf("appVerificationDisabledForTesting")}}),oh(nc.prototype,{confirm:{name:"confirm",j:[Qf("verificationCode")]}}),sh(fo,"fromJSON",(function(e){e="string"===typeof e?JSON.parse(e):e;for(var t,n=[bo,Do,Ro,yo],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[ih(Qf(),$f(),"json")]),sh(Po,"credential",(function(e,t){return new Io(e,t)}),[Qf("email"),Qf("password")]),oh(Io.prototype,{w:{name:"toJSON",j:[Qf(null,!0)]}}),oh(To.prototype,{Ca:{name:"addScope",j:[Qf("scope")]},Ka:{name:"setCustomParameters",j:[$f("customOAuthParameters")]}}),sh(To,"credential",ko,[ih(Qf(),$f(),"token")]),sh(Po,"credentialWithLink",No,[Qf("email"),Qf("emailLink")]),oh(Oo.prototype,{Ca:{name:"addScope",j:[Qf("scope")]},Ka:{name:"setCustomParameters",j:[$f("customOAuthParameters")]}}),sh(Oo,"credential",So,[ih(Qf(),$f(),"token")]),oh(Ao.prototype,{Ca:{name:"addScope",j:[Qf("scope")]},Ka:{name:"setCustomParameters",j:[$f("customOAuthParameters")]}}),sh(Ao,"credential",Eo,[ih(Qf(),ih($f(),eh()),"idToken"),ih(Qf(),eh(),"accessToken",!0)]),oh(Mo.prototype,{Ka:{name:"setCustomParameters",j:[$f("customOAuthParameters")]}}),sh(Mo,"credential",Co,[ih(Qf(),$f(),"token"),Qf("secret",!0)]),oh(xo.prototype,{Ca:{name:"addScope",j:[Qf("scope")]},credential:{name:"credential",j:[ih(Qf(),ih($f(),eh()),"optionsOrIdToken"),ih(Qf(),eh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[$f("customOAuthParameters")]}}),oh(go.prototype,{w:{name:"toJSON",j:[Qf(null,!0)]}}),oh(po.prototype,{w:{name:"toJSON",j:[Qf(null,!0)]}}),sh(zo,"credential",Uo,[Qf("verificationId"),Qf("verificationCode")]),oh(zo.prototype,{fb:{name:"verifyPhoneNumber",j:[ih(Qf(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?nh(e.session,lo)&&"string"===typeof e.phoneNumber:e.session&&e.multiFactorHint?nh(e.session,co)&&rh(e.multiFactorHint):e.session&&e.multiFactorUid?nh(e.session,co)&&"string"===typeof e.multiFactorUid:!!e.phoneNumber&&"string"===typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]}}),oh(jo.prototype,{w:{name:"toJSON",j:[Qf(null,!0)]}}),oh(A.prototype,{toJSON:{name:"toJSON",j:[Qf(null,!0)]}}),oh(Xo.prototype,{toJSON:{name:"toJSON",j:[Qf(null,!0)]}}),oh(Ko.prototype,{toJSON:{name:"toJSON",j:[Qf(null,!0)]}}),oh(uc.prototype,{toJSON:{name:"toJSON",j:[Qf(null,!0)]}}),oh(oc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.sb}}]}}),oh(pc.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.sb}},Qf("displayName",!0)]},bd:{name:"unenroll",j:[ih({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:rh},Qf(),"multiFactorInfoIdentifier")]}}),oh(Gf.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),sh(Ti,"parseLink",Ii,[Qf("link")]),sh(Df,"assertion",(function(e){return new hc(e)}),[th("phone")]),function(){if("undefined"===typeof t.a||!t.a.INTERNAL||!t.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:fi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ci,VERIFY_AND_CHANGE_EMAIL:hi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ff,AuthCredential:fo,Error:A};sh(e,"EmailAuthProvider",Po,[]),sh(e,"FacebookAuthProvider",To,[]),sh(e,"GithubAuthProvider",Oo,[]),sh(e,"GoogleAuthProvider",Ao,[]),sh(e,"TwitterAuthProvider",Mo,[]),sh(e,"OAuthProvider",xo,[Qf("providerId")]),sh(e,"SAMLAuthProvider",wo,[Qf("providerId")]),sh(e,"PhoneAuthProvider",zo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof ff)}}]),sh(e,"RecaptchaVerifier",Gf,[ih(Qf(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),$f("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof t.a.app.App)}}]),sh(e,"ActionCodeURL",Ti,[]),sh(e,"PhoneMultiFactorGenerator",Df,[]),t.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new ff(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC"}),t.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:x((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:x(e.nc,e),addAuthTokenListener:x(e.cc,e),removeAuthTokenListener:x(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),t.a.registerVersion("@firebase/auth","0.16.4"),t.a.INTERNAL.extendNamespace({User:kc})}()}).apply("undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}).call(this,n(52))},function(e,t,n){"use strict";(function(e,t){var r=n(10),i=n(17),o=n(2),a=n(12),s=n(16),u=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Object(o.K)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Object(o.E)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),l=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return Object(o.k)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),c=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new u(t)}}catch(n){}return new l},f=c("localStorage"),h=c("sessionStorage"),d=new s.b("@firebase/database"),p=function(){var e=1;return function(){return e++}}(),v=function(e){var t=Object(o.J)(e),n=new o.d;n.update(t);var r=n.digest();return o.h.encodeByteArray(r)},y=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=0;i<t.length;i++){var a=t[i];Array.isArray(a)||a&&"object"===typeof a&&"number"===typeof a.length?r+=e.apply(null,a):r+="object"===typeof a?Object(o.K)(a):a,r+=" "}return r},g=null,m=!0,b=function(e,t){Object(o.f)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(d.logLevel=s.a.VERBOSE,g=d.log.bind(d),t&&h.set("logging_enabled",!0)):"function"===typeof e?g=e:(g=null,h.remove("logging_enabled"))},_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===m&&(m=!1,null===g&&!0===h.get("logging_enabled")&&b(!0)),g){var n=y.apply(null,e);g(n)}},w=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];_.apply(void 0,Object(a.d)([e],Object(a.c)(t)))}},x=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+y.apply(void 0,Object(a.d)([],Object(a.c)(e)));d.error(n)},T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+y.apply(void 0,Object(a.d)([],Object(a.c)(e)));throw d.error(n),new Error(n)},k=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+y.apply(void 0,Object(a.d)([],Object(a.c)(e)));d.warn(n)},O=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},S="[MIN_NAME]",A="[MAX_NAME]",E=function(e,t){if(e===t)return 0;if(e===S||t===A)return-1;if(t===S||e===A)return 1;var n=F(e),r=F(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},M=function(e,t){return e===t?0:e<t?-1:1},C=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Object(o.K)(t))},I=function e(t){if("object"!==typeof t||null===t)return Object(o.K)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Object(o.K)(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},D=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function P(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var N=function(e){Object(o.f)(!O(e),"Invalid JSON number");var t,n,r,i,a,s=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),s))+s,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var u=[];for(a=52;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var l=u.join(""),c="";for(a=0;a<64;a+=8){var f=parseInt(l.substr(a,8),2).toString(16);1===f.length&&(f="0"+f),c+=f}return c.toLowerCase()};var L=new RegExp("^-?(0*)\\d{1,10}$"),j=-2147483648,R=2147483647,F=function(e){if(L.test(e)){var t=Number(e);if(t>=j&&t<=R)return t}return null},z=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw k("Exception was thrown by user callback.",e),t}),Math.floor(0))}},U=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},q=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.get().then((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(_("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):Promise.resolve(null)},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):(setTimeout((function(){return e(null)}),0),this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)})))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',k(e)},e}(),V=function(){function e(){}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:e.EMULATOR_AUTH_TOKEN})},e.prototype.addTokenChangeListener=function(t){t(e.EMULATOR_AUTH_TOKEN)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.EMULATOR_AUTH_TOKEN="owner",e}(),B="5",H=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,W="websocket",Y="long_polling",G=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=f.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&f.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function K(e,t,n){var r;if(Object(o.f)("string"===typeof t,"typeof type must == string"),Object(o.f)("object"===typeof n,"typeof params must == object"),t===W)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Y)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return P(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var X=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),Object(o.k)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return Object(o.m)(this.counters_)},e}(),Q={},J={};function $(e){var t=e.toString();return Q[t]||(Q[t]=new X),Q[t]}var Z=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&z((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),ee="start",te="close",ne=function(){function e(e,t,n,r,i){this.connId=e,this.repoInfo=t,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=w(e),this.stats_=$(t),this.urlFn=function(e){return K(t,Y,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Z(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Object(o.A)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new re((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object(a.c)(e,5),i=r[0],o=r[1],s=r[2];r[3],r[4];if(n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===ee)n.id=o,n.password=s;else{if(i!==te)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object(a.c)(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=B,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),"undefined"!==typeof location&&location.hostname&&H.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!Object(o.A)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=Object(o.K)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Object(o.i)(t),r=D(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!Object(o.A)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=Object(o.K)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),re=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(o.A)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=p(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){_("frame writing exception"),u.stack&&_(u.stack),_(u)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||_("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;Object(o.A)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){_("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),ie="";function oe(e){ie=e}var ae=null;"undefined"!==typeof MozWebSocket?ae=MozWebSocket:"undefined"!==typeof WebSocket&&(ae=WebSocket);var se=function(){function t(e,n,r,i,o){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=w(this.connId),this.stats_=$(n),this.connURL=t.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(e,t,n){var r={};return r.v=B,!Object(o.A)()&&"undefined"!==typeof location&&location.hostname&&H.test(location.hostname)&&(r.r="f"),t&&(r.s=t),n&&(r.ls=n),K(e,W,r)},t.prototype.open=function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,f.set("previous_websocket_failure",!0);try{if(Object(o.A)()){var i=this.nodeAdmin?"AdminNode":"Node",a={headers:{"User-Agent":"Firebase/5/"+ie+"/"+e.platform+"/"+i,"X-Firebase-GMPID":this.applicationId||""}},s=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}),u=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;u&&(a.proxy={origin:u}),this.mySock=new ae(this.connURL,[],a)}else{a={headers:{"X-Firebase-GMPID":this.applicationId||""}};this.mySock=new ae(this.connURL,[],a)}}catch(c){this.log_("Error instantiating WebSocket.");var l=c.message||c.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(e){r.handleIncomingFrame(e)},this.mySock.onerror=function(e){r.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&r.log_(t),r.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==ae&&!t.forceDisallow_},t.previouslyFailed=function(){return f.isInMemoryStorage||!0===f.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){f.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Object(o.E)(t);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},t.prototype.extractFrameCount_=function(e){if(Object(o.f)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},t.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(e){this.resetKeepAlive();var t=Object(o.K)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=D(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),ue=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[ne,se]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=se&&se.isAvailable(),o=i&&!se.previouslyFailed();if(t.webSocketOnly&&(i||k("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[se];else{var s=this.transports_=[];try{for(var u=Object(a.e)(e.ALL_TRANSPORTS),l=u.next();!l.done;l=u.next()){var c=l.value;c&&c.isAvailable()&&s.push(c)}}catch(f){n={error:f}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),le=function(){function e(e,t,n,r,i,o,a,s){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=w("c:"+this.id+":"),this.transportManager_=new ue(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=U((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=C("t",e),n=C("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=C("t",e),n=C("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=C("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?x("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):x("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),B!==n&&k("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),U((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):U((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(f.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),ce=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),fe=function(){function e(e){this.allowedEvents_=e,this.listeners_={},Object(o.f)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=Object(a.d)([],Object(a.c)(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){Object(o.f)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),he=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Object(o.y)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return Object(a.b)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Object(o.f)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(fe),de=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function pe(){return new de("")}function ve(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ye(e){return e.pieces_.length-e.pieceNum_}function ge(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new de(e.pieces_,t)}function me(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function be(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function _e(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new de(t,0)}function we(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof de)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new de(n,0)}function xe(e){return e.pieceNum_>=e.pieces_.length}function Te(e,t){var n=ve(e),r=ve(t);if(null===n)return t;if(n===r)return Te(ge(e),ge(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function ke(e,t){for(var n=be(e,0),r=be(t,0),i=0;i<n.length&&i<r.length;i++){var o=E(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Oe(e,t){if(ye(e)!==ye(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Se(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(ye(e)>ye(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Ae=function(e,t){this.errorPrefix_=t,this.parts_=be(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(o.I)(this.parts_[n]);Ee(this)};function Ee(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Me(e))}function Me(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Ce,Ie,De=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",t="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",t="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return Object(a.b)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Object(o.f)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(fe),Pe=1e3,Ne=function(e){function t(n,r,i,a,s,u,l){var c=e.call(this)||this;if(c.repoInfo_=n,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=a,c.onServerInfoUpdate_=s,c.authTokenProvider_=u,c.authOverride_=l,c.id=t.nextPersistentConnectionId_++,c.log_=w("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=Pe,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,l&&!Object(o.A)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return c.scheduleConnect_(0),De.getInstance().on("visible",c.onVisible_,c),-1===n.host.indexOf("fblocal")&&he.getInstance().on("online",c.onOnline_,c),c}return Object(a.b)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Object(o.K)(i)),Object(o.f)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this,n=new o.a,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Object(o.f)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(o.f)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"===typeof e&&Object(o.k)(e,"w")){var n=Object(o.H)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();k("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||Object(o.r)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=Object(o.D)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(o.f)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+Object(o.K)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):x("Unrecognized action received from server: "+Object(o.K)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;Object(o.f)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Pe,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Pe,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Pe),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){var e=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+t.nextConnectionId_++,s=this,u=this.lastSessionId,l=!1,c=null,f=function(){c?c.close():(l=!0,i())};this.realtime_={close:f,sendRequest:function(e){Object(o.f)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)}};var h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(h).then((function(e){l?_("getToken() completed but was canceled"):(_("getToken() completed. Creating connection."),s.authToken_=e&&e.accessToken,c=new le(a,s.repoInfo_,s.applicationId_,n,r,i,(function(e){k(e+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")}),u))})).then(null,(function(t){s.log_("Failed to get token: "+t),l||(e.repoInfo_.nodeAdmin&&k(t),f())}))}},t.prototype.interrupt=function(e){_("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){_("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Object(o.v)(this.interruptReasons_)&&(this.reconnectDelay_=Pe,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return I(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new de(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){_("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth();try{for(var i=Object(a.e)(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,Object(a.e)(s.values())),l=u.next();!l.done;l=u.next()){var c=l.value;this.sendListen_(c)}}catch(d){n={error:d}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(p){e={error:p}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var f=0;f<this.outstandingPuts_.length;f++)this.outstandingPuts_[f]&&this.sendPut_(f);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(f=0;f<this.outstandingGets_.length;f++)this.outstandingGets_[f]&&this.sendGet_(f)},t.prototype.sendConnectStats_=function(){var e={},t="js";Object(o.A)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+ie.replace(/\./g,"-")]=1,Object(o.y)()?e["framework.cordova"]=1:Object(o.B)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=he.getInstance().currentlyOnline();return Object(o.v)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(ce),Le=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),je=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Le(S,e),r=new Le(S,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Le.MIN},e}(),Re=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.b)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Ce},set:function(e){Ce=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return E(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw Object(o.g)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Le.MIN},t.prototype.maxPost=function(){return new Le(A,Ce)},t.prototype.makePost=function(e,t){return Object(o.f)("string"===typeof e,"KeyIndex indexValue must always be a string."),new Le(e,Ce)},t.prototype.toString=function(){return".key"},t}(je),Fe=new Re,ze=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Ue=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Ve.EMPTY_NODE,this.right=null!=o?o:Ve.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Ve.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Ve.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),qe=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Ue(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Ve=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ue.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ue.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new ze(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new ze(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new ze(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new ze(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new qe,e}();function Be(e,t){return E(e.name,t.name)}function He(e,t){return E(e,t)}var We,Ye,Ge,Ke=function(e){return"number"===typeof e?"number:"+N(e):"string:"+e},Xe=function(e){if(e.isLeafNode()){var t=e.val();Object(o.f)("string"===typeof t||"number"===typeof t||"object"===typeof t&&Object(o.k)(t,".sv"),"Priority must be a string or number.")}else Object(o.f)(e===Ie||e.isEmpty(),"priority of unexpected type.");Object(o.f)(e===Ie||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Qe=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Object(o.f)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Xe(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return We},set:function(e){We=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return xe(t)?this:".priority"===ve(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=ve(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(o.f)(".priority"!==r||1===ye(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ge(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ke(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?N(this.value_):this.value_,this.lazyHash_=v(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Object(o.f)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Object(o.f)(i>=0,"Unknown leaf type: "+n),Object(o.f)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var Je,$e,Ze=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.b)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?E(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Le.MIN},t.prototype.maxPost=function(){return new Le(A,new Qe("[PRIORITY-POST]",Ge))},t.prototype.makePost=function(e,t){var n=Ye(e);return new Le(t,new Qe("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(je)),et=Math.log(2),tt=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/et,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),nt=function(e,t,n,r){e.sort(t);var i=function t(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=e[r],a=n?n(o):o,new Ue(a,o.node,Ue.BLACK,null,null);var u=parseInt(s/2,10)+r,l=t(r,u),c=t(u+1,i);return o=e[u],a=n?n(o):o,new Ue(a,o.node,Ue.BLACK,l,c)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var l=i(o+1,s),c=e[o],f=n?n(c):c;u(new Ue(f,c.node,r,null,l))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},l=0;l<t.count;++l){var c=t.nextBitIsOne(),f=Math.pow(2,t.count-(l+1));c?s(f,Ue.BLACK):(s(f,Ue.BLACK),s(f,Ue.RED))}return o}(new tt(e.length));return new Ve(r||t,o)},rt={},it=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return Object(o.f)(rt&&Ze,"ChildrenNode.ts has not been loaded"),Je=Je||new e({".priority":rt},{".priority":Ze})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=Object(o.H)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ve?t:null},e.prototype.hasIndex=function(e){return Object(o.k)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){Object(o.f)(t!==Fe,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],s=!1,u=n.getIterator(Le.Wrap),l=u.getNext();l;)s=s||t.isDefinedOn(l.node),i.push(l),l=u.getNext();r=s?nt(i,t.getCompare()):rt;var c=t.toString(),f=Object(a.a)({},this.indexSet_);f[c]=t;var h=Object(a.a)({},this.indexes_);return h[c]=r,new e(h,f)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(Object(o.F)(this.indexes_,(function(e,i){var a=Object(o.H)(r.indexSet_,i);if(Object(o.f)(a,"Missing index implementation for "+i),e===rt){if(a.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(Le.Wrap),l=u.getNext();l;)l.name!==t.name&&s.push(l),l=u.getNext();return s.push(t),nt(s,a.getCompare())}return rt}var c=n.get(t.name),f=e;return c&&(f=f.remove(new Le(t.name,c))),f.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(Object(o.F)(this.indexes_,(function(e){if(e===rt)return e;var r=n.get(t.name);return r?e.remove(new Le(t.name,r)):e})),this.indexSet_)},e}(),ot=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Xe(this.priorityNode_),this.children_.isEmpty()&&Object(o.f)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return $e||($e=new e(new Ve(He),null,it.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||$e},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?$e:t},e.prototype.getChild=function(e){var t=ve(e);return null===t?this:this.getImmediateChild(t).getChild(ge(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(Object(o.f)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Le(t,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?$e:this.priorityNode_;return new e(i,s,a)},e.prototype.updateChild=function(e,t){var n=ve(e);if(null===n)return t;Object(o.f)(".priority"!==ve(e)||1===ye(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(ge(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Ze,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Ke(this.getPriority().val())+":"),this.forEachChild(Ze,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":v(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Le(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Le(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Le(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Le.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Le.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===at?-1:0},e.prototype.withIndex=function(t){if(t===Fe||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Fe||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Ze),r=t.getIterator(Ze),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Fe?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),at=new(function(e){function t(){return e.call(this,new Ve(He),ot.EMPTY_NODE,it.Default)||this}return Object(a.b)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return ot.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(ot));Object.defineProperties(Le,{MIN:{value:new Le(S,ot.EMPTY_NODE)},MAX:{value:new Le(A,at)}}),Re.__EMPTY_NODE=ot.EMPTY_NODE,Qe.__childrenNodeConstructor=ot,Ie=at,function(e){Ge=e}(at);function st(e,t){if(void 0===t&&(t=null),null===e)return ot.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Object(o.f)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new Qe(e,st(t));if(e instanceof Array){var n=ot.EMPTY_NODE;return P(e,(function(t,r){if(Object(o.k)(e,t)&&"."!==t.substring(0,1)){var i=st(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(st(t))}var r=[],i=!1;if(P(e,(function(e,t){if("."!==e.substring(0,1)){var n=st(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Le(e,n)))}})),0===r.length)return ot.EMPTY_NODE;var a=nt(r,Be,(function(e){return e.name}),He);if(i){var s=nt(r,Ze.getCompare());return new ot(a,st(t),new it({".priority":s},{".priority":Ze}))}return new ot(a,st(t),it.Default)}!function(e){Ye=e}(st);var ut=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,Object(o.f)(!xe(t)&&".priority"!==ve(t),"Can't create PathIndex with empty path or .priority key"),n}return Object(a.b)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?E(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=st(e),r=ot.EMPTY_NODE.updateChild(this.indexPath_,n);return new Le(t,r)},t.prototype.maxPost=function(){var e=ot.EMPTY_NODE.updateChild(this.indexPath_,at);return new Le(A,e)},t.prototype.toString=function(){return be(this.indexPath_,0).join("/")},t}(je),lt=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.b)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?E(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Le.MIN},t.prototype.maxPost=function(){return Le.MAX},t.prototype.makePost=function(e,t){var n=st(e);return new Le(t,n)},t.prototype.toString=function(){return".value"},t}(je)),ct="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ft=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=ct.charAt(n%64),n=Math.floor(n/64);Object(o.f)(0===n,"Cannot push at time == 0");var s=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=ct.charAt(t[r]);return Object(o.f)(20===s.length,"nextPushId: Length should be 20."),s}}(),ht=function(e){if("2147483647"===e)return"-";var t=F(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return A;var o=n[i],a=ct.charAt(ct.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},dt=function(e){if("-2147483648"===e)return S;var t=F(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=ct.charAt(ct.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function pt(e){return{type:"value",snapshotNode:e}}function vt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function yt(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function gt(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var mt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){Object(o.f)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(yt(t,s)):Object(o.f)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(vt(t,n)):a.trackChildChange(gt(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Ze,(function(e,r){t.hasChild(e)||n.trackChildChange(yt(e,r))})),t.isLeafNode()||t.forEachChild(Ze,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(gt(t,r,i))}else n.trackChildChange(vt(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?ot.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),bt=function(){function e(t){this.indexedFilter_=new mt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Le(t,n))||(n=ot.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=ot.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(ot.EMPTY_NODE);var i=this;return t.forEachChild(Ze,(function(e,t){i.matches(new Le(e,t))||(r=r.updateImmediateChild(e,ot.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),_t=function(){function e(e){this.rangedFilter_=new bt(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Le(t,n))||(n=ot.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=ot.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=ot.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(ot.EMPTY_NODE);var s=void 0,u=void 0,l=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();l=function(e,t){return c(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();o=0;for(var f=!1;i.hasNext();){a=i.getNext();!f&&l(s,a)<=0&&(f=!0),f&&o<this.limit_&&l(a,u)<=0?o++:r=r.updateImmediateChild(a.name,ot.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var u=e;Object(o.f)(u.numChildren()===this.limit_,"");var l=new Le(t,n),c=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),f=this.rangedFilter_.matches(l);if(u.hasChild(t)){for(var h=u.getImmediateChild(t),d=r.getChildAfterChild(this.index_,c,this.reverse_);null!=d&&(d.name===t||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,l);if(f&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(gt(t,n,h)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(yt(t,h));var v=u.updateImmediateChild(t,ot.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(vt(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?e:f&&a(c,l)>=0?(null!=i&&(i.trackChildChange(yt(c.name,c.node)),i.trackChildChange(vt(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(c.name,ot.EMPTY_NODE)):e},e}(),wt=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ze}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return Object(o.f)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return Object(o.f)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:S},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return Object(o.f)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return Object(o.f)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:A},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return Object(o.f)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Ze},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function xt(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Tt(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function kt(e,t){var n=e.copy();return n.index_=t,n}function Ot(e){var t,n={};return e.isDefault()||(e.index_===Ze?t="$priority":e.index_===lt?t="$value":e.index_===Fe?t="$key":(Object(o.f)(e.index_ instanceof ut,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Object(o.K)(t),e.startSet_&&(n.startAt=Object(o.K)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Object(o.K)(e.indexStartName_))),e.endSet_&&(n.endAt=Object(o.K)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Object(o.K)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function St(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Ze&&(t.i=e.index_.toString()),t}var At=function(e){function t(t,n,r){var i=e.call(this)||this;return i.repoInfo_=t,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=w("p:rest:"),i.listens_={},i}return Object(a.b)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(Object(o.f)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var u=t.getListenId_(e,r),l={};this.listens_[u]=l;var c=Ot(e._queryParams);this.restRequest_(s+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),Object(o.H)(a.listens_,u)===l)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=Ot(e._queryParams),r=e._path.toString(),i=new o.a;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;void 0===t&&(t={}),t.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var a=i&&i.accessToken;a&&(t.auth=a);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+Object(o.G)(t);r.log_("Sending REST request for "+s);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+s+" received. status:",u.status,"response:",u.responseText);var e=null;if(u.status>=200&&u.status<300){try{e=Object(o.E)(u.responseText)}catch(t){k("Failed to parse JSON response for "+s+": "+u.responseText)}n(null,e)}else 401!==u.status&&404!==u.status&&k("Got unsuccessful REST response for "+s+" Status: "+u.status),n(u.status);n=null}},u.open("GET",s,!0),u.send()}))},t}(ce),Et=function(){function e(){this.rootNode_=ot.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();function Mt(){return{value:null,children:new Map}}function Ct(e,t,n){if(xe(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=ve(t);e.children.has(r)||e.children.set(r,Mt()),Ct(e.children.get(r),t=ge(t),n)}}function It(e,t){if(xe(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(Ze,(function(t,n){Ct(e,new de(t),n)})),It(e,t)}if(e.children.size>0){var r=ve(t);if(t=ge(t),e.children.has(r))It(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function Dt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Dt(r,new de(t.toString()+"/"+e),n)}))}var Pt,Nt=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=Object(a.a)({},e);return this.last_&&P(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),Lt=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Nt(e);var n=1e4+2e4*Math.random();U(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;P(t,(function(t,i){i>0&&Object(o.k)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),U(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();function jt(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Pt||(Pt={}));var Rt,Ft=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Pt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(xe(this.path)){if(null!=this.affectedTree.value)return Object(o.f)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new de(t));return new e(pe(),n,this.revert)}return Object(o.f)(ve(this.path)===t,"operationForChild called for unrelated child."),new e(ge(this.path),this.affectedTree,this.revert)},e}(),zt=function(){function e(e,t){this.source=e,this.path=t,this.type=Pt.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return xe(this.path)?new e(this.source,pe()):new e(this.source,ge(this.path))},e}(),Ut=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Pt.OVERWRITE}return e.prototype.operationForChild=function(t){return xe(this.path)?new e(this.source,pe(),this.snap.getImmediateChild(t)):new e(this.source,ge(this.path),this.snap)},e}(),qt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Pt.MERGE}return e.prototype.operationForChild=function(t){if(xe(this.path)){var n=this.children.subtree(new de(t));return n.isEmpty()?null:n.value?new Ut(this.source,pe(),n.value):new e(this.source,pe(),n)}return Object(o.f)(ve(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,ge(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Vt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(xe(e))return this.isFullyInitialized()&&!this.filtered_;var t=ve(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),Bt=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function Ht(e,t,n,r,i,a){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Object(o.g)("Should only compare child_ events.");var r=new Le(t.childName,t.snapshotNode),i=new Le(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Wt(e,t){return{eventCache:e,serverCache:t}}function Yt(e,t,n,r){return Wt(new Vt(t,n,r),e.serverCache)}function Gt(e,t,n,r){return Wt(e.eventCache,new Vt(t,n,r))}function Kt(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Xt(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Qt=function(){function e(e,t){void 0===t&&(Rt||(Rt=new Ve(M)),t=Rt),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return P(t,(function(e,t){n=n.set(new de(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:pe(),value:this.value};if(xe(e))return null;var n=ve(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(ge(e),t);return null!=i?{path:we(new de(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(xe(t))return this;var n=ve(t),r=this.children.get(n);return null!==r?r.subtree(ge(t)):new e(null)},e.prototype.set=function(t,n){if(xe(t))return new e(n,this.children);var r=ve(t),i=(this.children.get(r)||new e(null)).set(ge(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(xe(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ve(t),r=this.children.get(n);if(r){var i=r.remove(ge(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(xe(e))return this.value;var t=ve(e),n=this.children.get(t);return n?n.get(ge(e)):null},e.prototype.setTree=function(t,n){if(xe(t))return n;var r=ve(t),i=(this.children.get(r)||new e(null)).setTree(ge(t),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(pe(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(we(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,pe(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(xe(e))return null;var i=ve(e),o=this.children.get(i);return o?o.findOnPath_(ge(e),we(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,pe(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(xe(t))return this;this.value&&r(n,this.value);var i=ve(t),o=this.children.get(i);return o?o.foreachOnPath_(ge(t),we(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(pe(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(we(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),Jt=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new Qt(null))},e}();function $t(e,t,n){if(xe(t))return new Jt(new Qt(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=Te(i,t);return o=o.updateChild(a,n),new Jt(e.writeTree_.set(i,o))}var s=new Qt(n),u=e.writeTree_.setTree(t,s);return new Jt(u)}function Zt(e,t,n){var r=e;return P(n,(function(e,n){r=$t(r,we(t,e),n)})),r}function en(e,t){if(xe(t))return Jt.empty();var n=e.writeTree_.setTree(t,new Qt(null));return new Jt(n)}function tn(e,t){return null!=nn(e,t)}function nn(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Te(n.path,t)):null}function rn(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ze,(function(e,n){t.push(new Le(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Le(e,n.value))})),t}function on(e,t){if(xe(t))return e;var n=nn(e,t);return new Jt(null!=n?new Qt(n):e.writeTree_.subtree(t))}function an(e){return e.writeTree_.isEmpty()}function sn(e,t){return un(pe(),e.writeTree_,t)}function un(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(Object(o.f)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=un(we(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(we(e,".priority"),r)),n}function ln(e,t){return xn(t,e)}function cn(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Object(o.f)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=e.allWrites.length-1;i&&s>=0;){var u=e.allWrites[s];u.visible&&(s>=n&&fn(u,r.path)?i=!1:Se(r.path,u.path)&&(a=!0)),s--}if(i){if(a)return function(e){e.visibleWrites=dn(e.allWrites,hn,pe()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=en(e.visibleWrites,r.path):P(r.children,(function(t){e.visibleWrites=en(e.visibleWrites,we(r.path,t))}));return!0}return!1}function fn(e,t){if(e.snap)return Se(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Se(we(e.path,n),t))return!0;return!1}function hn(e){return e.visible}function dn(e,t,n){for(var r=Jt.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,u=void 0;if(a.snap)Se(n,s)?r=$t(r,u=Te(n,s),a.snap):Se(s,n)&&(u=Te(s,n),r=$t(r,pe(),a.snap.getChild(u)));else{if(!a.children)throw Object(o.g)("WriteRecord should have .snap or .children");if(Se(n,s))r=Zt(r,u=Te(n,s),a.children);else if(Se(s,n))if(xe(u=Te(s,n)))r=Zt(r,pe(),a.children);else{var l=Object(o.H)(a.children,ve(u));if(l){var c=l.getChild(ge(u));r=$t(r,pe(),c)}}}}}return r}function pn(e,t,n,r,i){if(r||i){var o=on(e.visibleWrites,t);if(!i&&an(o))return n;if(i||null!=n||tn(o,pe())){return sn(dn(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Se(e.path,t)||Se(t,e.path))}),t),n||ot.EMPTY_NODE)}return null}var a=nn(e.visibleWrites,t);if(null!=a)return a;var s=on(e.visibleWrites,t);return an(s)?n:null!=n||tn(s,pe())?sn(s,n||ot.EMPTY_NODE):null}function vn(e,t,n,r){return pn(e.writeTree,e.treePath,t,n,r)}function yn(e,t){return function(e,t,n){var r=ot.EMPTY_NODE,i=nn(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ze,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=on(e.visibleWrites,t);return n.forEachChild(Ze,(function(e,t){var n=sn(on(o,new de(e)),t);r=r.updateImmediateChild(e,n)})),rn(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return rn(on(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function gn(e,t,n,r){return function(e,t,n,r,i){Object(o.f)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=we(t,n);if(tn(e.visibleWrites,a))return null;var s=on(e.visibleWrites,a);return an(s)?i.getChild(n):sn(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function mn(e,t){return function(e,t){return nn(e.visibleWrites,t)}(e.writeTree,we(e.treePath,t))}function bn(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=on(e.visibleWrites,t),l=nn(u,pe());if(null!=l)s=l;else{if(null==n)return[];s=sn(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var c=[],f=a.getCompare(),h=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=h.getNext();d&&c.length<i;)0!==f(d,r)&&c.push(d),d=h.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,o)}function _n(e,t,n){return function(e,t,n,r){var i=we(t,n),o=nn(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?sn(on(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function wn(e,t){return xn(we(e.treePath,t),e.writeTree)}function xn(e,t){return{treePath:e,writeTree:t}}var Tn=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;Object(o.f)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Object(o.f)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,gt(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,yt(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,vt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Object(o.g)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,gt(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),kn=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),On=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Vt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return _n(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Xt(this.viewCache_),i=bn(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();function Sn(e,t,n,r,i){var a,s,u=new Tn;if(n.type===Pt.OVERWRITE){var l=n;l.source.fromUser?a=Mn(e,t,l.path,l.snap,r,i,u):(Object(o.f)(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered()&&!xe(l.path),a=En(e,t,l.path,l.snap,r,i,s,u))}else if(n.type===Pt.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var l=we(n,r);Cn(t,ve(l))&&(s=Mn(e,s,l,u,i,o,a))})),r.foreach((function(r,u){var l=we(n,r);Cn(t,ve(l))||(s=Mn(e,s,l,u,i,o,a))})),s}(e,t,c.path,c.children,r,i,u):(Object(o.f)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered(),a=Dn(e,t,c.path,c.children,r,i,s,u))}else if(n.type===Pt.ACK_USER_WRITE){var f=n;a=f.revert?function(e,t,n,r,i,a){var s;if(null!=mn(r,n))return t;var u=new On(r,t,i),l=t.eventCache.getNode(),c=void 0;if(xe(n)||".priority"===ve(n)){var f=void 0;if(t.serverCache.isFullyInitialized())f=vn(r,Xt(t));else{var h=t.serverCache.getNode();Object(o.f)(h instanceof ot,"serverChildren would be complete if leaf node"),f=yn(r,h)}f=f,c=e.filter.updateFullNode(l,f,a)}else{var d=ve(n),p=_n(r,d,t.serverCache);null==p&&t.serverCache.isCompleteForChild(d)&&(p=l.getImmediateChild(d)),(c=null!=p?e.filter.updateChild(l,d,p,ge(n),u,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(l,d,ot.EMPTY_NODE,ge(n),u,a):l).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=vn(r,Xt(t))).isLeafNode()&&(c=e.filter.updateFullNode(c,s,a))}return s=t.serverCache.isFullyInitialized()||null!=mn(r,pe()),Yt(t,c,s,e.filter.filtersNodes())}(e,t,f.path,r,i,u):function(e,t,n,r,i,o,a){if(null!=mn(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(xe(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return En(e,t,n,u.getNode().getChild(n),i,o,s,a);if(xe(n)){var l=new Qt(null);return u.getNode().forEachChild(Fe,(function(e,t){l=l.set(new de(e),t)})),Dn(e,t,n,l,i,o,s,a)}return t}var c=new Qt(null);return r.foreach((function(e,t){var r=we(n,e);u.isCompleteForPath(r)&&(c=c.set(e,u.getNode().getChild(r)))})),Dn(e,t,n,c,i,o,s,a)}(e,t,f.path,f.affectedTree,r,i,u)}else{if(n.type!==Pt.LISTEN_COMPLETE)throw Object(o.g)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var o=t.serverCache,a=Gt(t,o.getNode(),o.isFullyInitialized()||xe(n),o.isFiltered());return An(e,a,n,r,kn,i)}(e,t,n.path,r,u)}var h=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Kt(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(pt(Kt(t)))}}(t,a,h),{viewCache:a,changes:h}}function An(e,t,n,r,i,a){var s=t.eventCache;if(null!=mn(r,n))return t;var u=void 0,l=void 0;if(xe(n))if(Object(o.f)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=Xt(t),f=yn(r,c instanceof ot?c:ot.EMPTY_NODE);u=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=vn(r,Xt(t));u=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var d=ve(n);if(".priority"===d){Object(o.f)(1===ye(n),"Can't have a priority with additional path components");var p=s.getNode(),v=gn(r,n,p,l=t.serverCache.getNode());u=null!=v?e.filter.updatePriority(p,v):s.getNode()}else{var y=ge(n),g=void 0;if(s.isCompleteForChild(d)){l=t.serverCache.getNode();var m=gn(r,n,s.getNode(),l);g=null!=m?s.getNode().getImmediateChild(d).updateChild(y,m):s.getNode().getImmediateChild(d)}else g=_n(r,d,t.serverCache);u=null!=g?e.filter.updateChild(s.getNode(),d,g,y,i,a):s.getNode()}}return Yt(t,u,s.isFullyInitialized()||xe(n),e.filter.filtersNodes())}function En(e,t,n,r,i,o,a,s){var u,l=t.serverCache,c=a?e.filter:e.filter.getIndexedFilter();if(xe(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){var f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{var h=ve(n);if(!l.isCompleteForPath(n)&&ye(n)>1)return t;var d=ge(n),p=l.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?c.updatePriority(l.getNode(),p):c.updateChild(l.getNode(),h,p,d,kn,null)}var v=Gt(t,u,l.isFullyInitialized()||xe(n),c.filtersNodes());return An(e,v,n,i,new On(i,v,o),s)}function Mn(e,t,n,r,i,o,a){var s,u,l=t.eventCache,c=new On(i,t,o);if(xe(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=Yt(t,u,!0,e.filter.filtersNodes());else{var f=ve(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Yt(t,u,l.isFullyInitialized(),l.isFiltered());else{var h=ge(n),d=l.getNode().getImmediateChild(f),p=void 0;if(xe(h))p=r;else{var v=c.getCompleteChild(f);p=null!=v?".priority"===me(h)&&v.getChild(_e(h)).isEmpty()?v:v.updateChild(h,r):ot.EMPTY_NODE}if(d.equals(p))s=t;else s=Yt(t,e.filter.updateChild(l.getNode(),f,p,h,c,a),l.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Cn(e,t){return e.eventCache.isCompleteForChild(t)}function In(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Dn(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,l=t;u=xe(n)?r:new Qt(null).setTree(n,r);var c=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var u=In(0,t.serverCache.getNode().getImmediateChild(n),r);l=En(e,l,new de(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!c.hasChild(n)&&!u){var f=In(0,t.serverCache.getNode().getImmediateChild(n),r);l=En(e,l,new de(n),f,i,o,a,s)}})),l}var Pn,Nn=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new mt(r.getIndex()),o=(n=r).loadsAllData()?new mt(n.getIndex()):n.hasLimit()?new _t(n):new bt(n);this.processor_=function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode(ot.EMPTY_NODE,a.getNode(),null),l=o.updateFullNode(ot.EMPTY_NODE,s.getNode(),null),c=new Vt(u,a.isFullyInitialized(),i.filtersNodes()),f=new Vt(l,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=Wt(f,c),this.eventGenerator_=new Bt(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function Ln(e,t){var n=Xt(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!xe(t)&&!n.getImmediateChild(ve(t)).isEmpty())?n.getChild(t):null}function jn(e){return 0===e.eventRegistrations_.length}function Rn(e,t,n){var r=[];if(n){Object(o.f)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Fn(e,t,n,r){t.type===Pt.MERGE&&null!==t.source.queryId&&(Object(o.f)(Xt(e.viewCache_),"We should always have a full cache before handling merges"),Object(o.f)(Kt(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=e.viewCache_,u=Sn(e.processor_,s,t,n,r);return i=e.processor_,a=u.viewCache,Object(o.f)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Object(o.f)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Object(o.f)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,zn(e,u.changes,u.viewCache.eventCache.getNode(),null)}function zn(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Ht(e,i,"child_removed",t,r,n),Ht(e,i,"child_added",t,r,n),Ht(e,i,"child_moved",o,r,n),Ht(e,i,"child_changed",t,r,n),Ht(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Un,qn=function(){this.views=new Map};function Vn(e,t,n,r){var i,s,u=t.source.queryId;if(null!==u){var l=e.views.get(u);return Object(o.f)(null!=l,"SyncTree gave us an op for an invalid query."),Fn(l,t,n,r)}var c=[];try{for(var f=Object(a.e)(e.views.values()),h=f.next();!h.done;h=f.next()){l=h.value;c=c.concat(Fn(l,t,n,r))}}catch(d){i={error:d}}finally{try{h&&!h.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}return c}function Bn(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=vn(n,i?r:null),u=!1;s?u=!0:r instanceof ot?(s=yn(n,r),u=!1):(s=ot.EMPTY_NODE,u=!1);var l=Wt(new Vt(s,u,!1),new Vt(r,i,!1));return new Nn(t,l)}return a}function Hn(e,t,n,r,i,o){var a=Bn(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ze,(function(e,t){r.push(vt(e,t))})),n.isFullyInitialized()&&r.push(pt(n.getNode())),zn(e,r,n.getNode(),t)}(a,n)}function Wn(e,t,n,r){var i,s,u=t._queryIdentifier,l=[],c=[],f=Qn(e);if("default"===u)try{for(var h=Object(a.e)(e.views.entries()),d=h.next();!d.done;d=h.next()){var p=Object(a.c)(d.value,2),v=p[0],y=p[1];c=c.concat(Rn(y,n,r)),jn(y)&&(e.views.delete(v),y.query._queryParams.loadsAllData()||l.push(y.query))}}catch(g){i={error:g}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}else(y=e.views.get(u))&&(c=c.concat(Rn(y,n,r)),jn(y)&&(e.views.delete(u),y.query._queryParams.loadsAllData()||l.push(y.query)));return f&&!Qn(e)&&l.push(new(Object(o.f)(Pn,"Reference.ts has not been loaded"),Pn)(t._repo,t._path)),{removed:l,events:c}}function Yn(e){var t,n,r=[];try{for(var i=Object(a.e)(e.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Gn(e,t){var n,r,i=null;try{for(var o=Object(a.e)(e.views.values()),s=o.next();!s.done;s=o.next()){var u=s.value;i=i||Ln(u,t)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function Kn(e,t){if(t._queryParams.loadsAllData())return Jn(e);var n=t._queryIdentifier;return e.views.get(n)}function Xn(e,t){return null!=Kn(e,t)}function Qn(e){return null!=Jn(e)}function Jn(e){var t,n;try{for(var r=Object(a.e)(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var $n=1,Zn=function(e){this.listenProvider_=e,this.syncPointTree_=new Qt(null),this.pendingWriteTree_={visibleWrites:Jt.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function er(e,t,n,r,i){return function(e,t,n,r,i){Object(o.f)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=$t(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?ur(e,new Ut({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function tr(e,t,n,r){!function(e,t,n,r){Object(o.f)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Zt(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=Qt.fromObject(n);return ur(e,new qt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function nr(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(cn(e.pendingWriteTree_,t)){var i=new Qt(null);return null!=r.snap?i=i.set(pe(),!0):P(r.children,(function(e){i=i.set(new de(e),!0)})),ur(e,new Ft(r.path,i,n))}return[]}function rr(e,t,n){return ur(e,new Ut({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function ir(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t._queryIdentifier||Xn(o,t))){var s=Wn(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;a=s.events;var l=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),c=e.syncPointTree_.findOnPath(i,(function(e,t){return Qn(t)}));if(l&&!c){var f=e.syncPointTree_.subtree(i);if(!f.isEmpty())for(var h=function(e){return e.fold((function(e,t,n){if(t&&Qn(t))return[Jn(t)];var r=[];return t&&(r=Yn(t)),P(n,(function(e,t){r=r.concat(t)})),r}))}(f),d=0;d<h.length;++d){var p=h[d],v=p.query,y=fr(e,p);e.listenProvider_.startListening(gr(v),hr(e,v),y.hashFn,y.onComplete)}}if(!c&&u.length>0&&!r)if(l){e.listenProvider_.stopListening(gr(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(dr(t));e.listenProvider_.stopListening(gr(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=dr(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,u)}return a}function or(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=Te(e,r);i=i||Gn(t,n),a=a||Qn(t)}));var s,u=e.syncPointTree_.get(r);(u?(a=a||Qn(u),i=i||Gn(u,pe())):(u=new qn,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i)?s=!0:(s=!1,i=ot.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=Gn(t,pe());n&&(i=i.updateImmediateChild(e,n))})));var l=Xn(u,t);if(!l&&!t._queryParams.loadsAllData()){var c=dr(t);Object(o.f)(!e.queryToTagMap.has(c),"View does not exist, but we have a tag");var f=$n++;e.queryToTagMap.set(c,f),e.tagToQueryMap.set(f,c)}var h=Hn(u,t,n,ln(e.pendingWriteTree_,r),i,s);if(!l&&!a){var d=Kn(u,t);h=h.concat(function(e,t,n){var r=t._path,i=hr(e,t),a=fr(e,n),s=e.listenProvider_.startListening(gr(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)Object(o.f)(!Qn(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var l=u.fold((function(e,t,n){if(!xe(e)&&t&&Qn(t))return[Jn(t).query];var r=[];return t&&(r=r.concat(Yn(t).map((function(e){return e.query})))),P(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<l.length;++c){var f=l[c];e.listenProvider_.stopListening(gr(f),hr(e,f))}return s}(e,t,d))}return h}function ar(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Gn(n,Te(e,t));if(r)return r}));return pn(r,t,i,n,!0)}function sr(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Te(e,n);r=r||Gn(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Gn(i,pe()):(i=new qn,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new Vt(r,!0,!1):null;return function(e){return Kt(e.viewCache_)}(Bn(i,t,ln(e.pendingWriteTree_,t._path),o?a.getNode():ot.EMPTY_NODE,o))}function ur(e,t){return lr(t,e.syncPointTree_,null,ln(e.pendingWriteTree_,pe()))}function lr(e,t,n,r){if(xe(e.path))return cr(e,t,n,r);var i=t.get(pe());null==n&&null!=i&&(n=Gn(i,pe()));var o=[],a=ve(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var l=n?n.getImmediateChild(a):null,c=wn(r,a);o=o.concat(lr(s,u,l,c))}return i&&(o=o.concat(Vn(i,e,r,n))),o}function cr(e,t,n,r){var i=t.get(pe());null==n&&null!=i&&(n=Gn(i,pe()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=wn(r,t),u=e.operationForChild(t);u&&(o=o.concat(cr(u,i,a,s)))})),i&&(o=o.concat(Vn(i,e,r,n))),o}function fr(e,t){var n=t.query,r=hr(e,n);return{hashFn:function(){return(function(e){return e.viewCache_.serverCache.getNode()}(t)||ot.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=pr(e,n);if(r){var i=vr(r),o=i.path,a=i.queryId,s=Te(o,t);return yr(e,o,new zt(jt(a),s))}return[]}(e,n._path,r):function(e,t){return ur(e,new zt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return ir(e,n,null,i)}}}function hr(e,t){var n=dr(t);return e.queryToTagMap.get(n)}function dr(e){return e._path.toString()+"$"+e._queryIdentifier}function pr(e,t){return e.tagToQueryMap.get(t)}function vr(e){var t=e.indexOf("$");return Object(o.f)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new de(e.substr(0,t))}}function yr(e,t,n){var r=e.syncPointTree_.get(t);return Object(o.f)(r,"Missing sync point for query tag that we're tracking"),Vn(r,n,ln(e.pendingWriteTree_,t),null)}function gr(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Object(o.f)(Un,"Reference.ts has not been loaded"),Un)(e._repo,e._path):e}var mr=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),br=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=we(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return ar(this.syncTree_,this.path_)},e}(),_r=function(e,t,n){return e&&"object"===typeof e?(Object(o.f)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?wr(e[".sv"],t,n):"object"===typeof e[".sv"]?xr(e[".sv"],t):void Object(o.f)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},wr=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:Object(o.f)(!1,"Unexpected server value: "+e)}},xr=function(e,t,n){e.hasOwnProperty("increment")||Object(o.f)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&Object(o.f)(!1,"Unexpected increment value: "+r);var i=t.node();if(Object(o.f)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Tr=function(e,t,n,r){return Or(t,new br(n,e),r)},kr=function(e,t,n){return Or(e,new mr(t),n)};function Or(e,t,n){var r,i=e.getPriority().val(),o=_r(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=_r(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new Qe(s,st(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Qe(o))),u.forEachChild(Ze,(function(e,i){var o=Or(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var Sr=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function Ar(e,t){for(var n=t instanceof de?t:new de(t),r=e,i=ve(n);null!==i;){var a=Object(o.H)(r.node.children,i)||{children:{},childCount:0};r=new Sr(i,r,a),i=ve(n=ge(n))}return r}function Er(e){return e.node.value}function Mr(e,t){e.node.value=t,Nr(e)}function Cr(e){return e.node.childCount>0}function Ir(e,t){P(e.node.children,(function(n,r){t(new Sr(n,e,r))}))}function Dr(e,t,n,r){n&&!r&&t(e),Ir(e,(function(e){Dr(e,t,!0,r)})),n&&r&&t(e)}function Pr(e){return new de(null===e.parent?e.name:Pr(e.parent)+"/"+e.name)}function Nr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Er(e)&&!Cr(e)}(n),i=Object(o.k)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Nr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Nr(e))}(e.parent,e.name,e)}var Lr=/[\[\].#$\/\u0000-\u001F\u007F]/,jr=/[\[\].#$\u0000-\u001F\u007F]/,Rr=10485760,Fr=function(e){return"string"===typeof e&&0!==e.length&&!Lr.test(e)},zr=function(e){return"string"===typeof e&&0!==e.length&&!jr.test(e)},Ur=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!O(e)||e&&"object"===typeof e&&Object(o.k)(e,".sv")},qr=function(e,t,n,r){r&&void 0===t||Vr(Object(o.o)(e,"value"),t,n)},Vr=function e(t,n,r){var i=r instanceof de?new Ae(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Me(i));if("function"===typeof n)throw new Error(t+"contains a function "+Me(i)+" with contents = "+n.toString());if(O(n))throw new Error(t+"contains "+n.toString()+" "+Me(i));if("string"===typeof n&&n.length>Rr/3&&Object(o.I)(n)>Rr)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+Me(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,s=!1;if(P(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!Fr(n)))throw new Error(t+" contains an invalid key ("+n+") "+Me(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Object(o.I)(t),Ee(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Object(o.I)(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&s)throw new Error(t+' contains ".value" child '+Me(i)+" in addition to actual children.")}},Br=function(e,t,n,r){if(!r||void 0!==t){var i=Object(o.o)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];P(t,(function(e,t){var r=new de(e);if(Vr(i,t,we(n,r)),".priority"===me(r)&&!Ur(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=be(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Fr(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(ke);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&Se(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},Hr=function(e,t,n){if(!n||void 0!==t){if(O(t))throw new Error(Object(o.o)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ur(t))throw new Error(Object(o.o)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Wr=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(o.o)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Yr=function(e,t,n,r){if((!r||void 0!==n)&&!Fr(n))throw new Error(Object(o.o)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Gr=function(e,t,n,r){if((!r||void 0!==n)&&!zr(n))throw new Error(Object(o.o)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Kr=function(e,t){if(".info"===ve(t))throw new Error(e+" failed = Can't modify data under /.info/")},Xr=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Fr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),zr(e)}(n))throw new Error(Object(o.o)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Qr=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(Object(o.o)(e,t)+"must be a boolean.")},Jr=function(){this.eventLists_=[],this.recursionDepth_=0};function $r(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||Oe(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Zr(e,t,n){$r(e,n),ti(e,(function(e){return Oe(e,t)}))}function ei(e,t,n){$r(e,n),ti(e,(function(e){return Se(e,t)||Se(t,e)}))}function ti(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(ni(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function ni(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();g&&_("event: "+n.toString()),z(r)}}}var ri="repo_interrupt",ii=function(){function e(e,t,n){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Jr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Mt(),this.transactionQueueTree_=new Sr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function oi(e,t,n){if(e.stats_=$(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new At(e.repoInfo_,(function(t,n,r,i){ui(e,t,n,r,i)}),e.authTokenProvider_),setTimeout((function(){return li(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(o.K)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Ne(e.repoInfo_,t,(function(t,n,r,i){ui(e,t,n,r,i)}),(function(t){li(e,t)}),(function(t){!function(e,t){P(t,(function(t,n){ci(e,t,n)}))}(e,t)}),e.authTokenProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.statsReporter_=function(e,t){var n=e.toString();return J[n]||(J[n]=t()),J[n]}(e.repoInfo_,(function(){return new Lt(e.stats_,e.server_)})),e.infoData_=new Et,e.infoSyncTree_=new Zn({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=rr(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),ci(e,"connected",!1),e.serverSyncTree_=new Zn({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);ei(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function ai(e){var t=e.infoData_.getNode(new de(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function si(e){return(t=(t={timestamp:ai(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function ui(e,t,n,r,i){e.dataUpdateCount++;var a=new de(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var u=Object(o.F)(n,(function(e){return st(e)}));s=function(e,t,n,r){var i=pr(e,r);if(i){var o=vr(i),a=o.path,s=o.queryId,u=Te(a,t),l=Qt.fromObject(n);return yr(e,a,new qt(jt(s),u,l))}return[]}(e.serverSyncTree_,a,u,i)}else{var l=st(n);s=function(e,t,n,r){var i=pr(e,r);if(null!=i){var o=vr(i),a=o.path,s=o.queryId,u=Te(a,t);return yr(e,a,new Ut(jt(s),u,n))}return[]}(e.serverSyncTree_,a,l,i)}else if(r){var c=Object(o.F)(n,(function(e){return st(e)}));s=function(e,t,n){var r=Qt.fromObject(n);return ur(e,new qt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var f=st(n);s=rr(e.serverSyncTree_,a,f)}var h=a;s.length>0&&(h=wi(e,a)),ei(e.eventQueue_,h,s)}function li(e,t){ci(e,"connected",t),!1===t&&function(e){gi(e,"onDisconnectEvents");var t=si(e),n=Mt();Dt(e.onDisconnect_,pe(),(function(r,i){var o=Tr(r,i,e.serverSyncTree_,t);Ct(n,r,o)}));var r=[];Dt(n,pe(),(function(t,n){r=r.concat(rr(e.serverSyncTree_,t,n));var i=Si(e,t);wi(e,i)})),e.onDisconnect_=Mt(),ei(e.eventQueue_,pe(),r)}(e)}function ci(e,t,n){var r=new de("/.info/"+t),i=st(n);e.infoData_.updateSnapshot(r,i);var o=rr(e.infoSyncTree_,r,i);ei(e.eventQueue_,r,o)}function fi(e){return e.nextWriteId_++}function hi(e,t,n,r,i){gi(e,"set",{path:t.toString(),value:n,priority:r});var o=si(e),a=st(n,r),s=ar(e.serverSyncTree_,t),u=kr(a,s,o),l=fi(e),c=er(e.serverSyncTree_,t,u,l,!0);$r(e.eventQueue_,c),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||k("set at "+t+" failed: "+n);var a=nr(e.serverSyncTree_,l,!o);ei(e.eventQueue_,t,a),mi(e,i,n,r)}));var f=Si(e,t);wi(e,f),ei(e.eventQueue_,f,[])}function di(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&It(e.onDisconnect_,t),mi(e,n,r,i)}))}function pi(e,t,n,r){var i=st(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&Ct(e.onDisconnect_,t,i),mi(e,r,n,o)}))}function vi(e,t,n){var r;r=".info"===ve(t._path)?ir(e.infoSyncTree_,t,n):ir(e.serverSyncTree_,t,n),Zr(e.eventQueue_,t._path,r)}function yi(e){e.persistentConnection_&&e.persistentConnection_.interrupt(ri)}function gi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),_.apply(void 0,Object(a.d)([r],Object(a.c)(t)))}function mi(e,t,n,r){t&&z((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function bi(e,t,n){return ar(e.serverSyncTree_,t,n)||ot.EMPTY_NODE}function _i(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||Oi(e,t),Er(t)){var n=Ti(e,t);Object(o.f)(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=bi(e,t,r),a=i,s=i.hash(),u=0;u<n.length;u++){var l=n[u];Object(o.f)(0===l.status,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;var c=Te(t,l.path);a=a.updateChild(c,l.currentOutputSnapshotRaw)}var f=a.val(!0),h=t;e.server_.put(h.toString(),f,(function(r){gi(e,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(nr(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);Oi(e,Ar(e.transactionQueueTree_,t)),_i(e,e.transactionQueueTree_),ei(e.eventQueue_,t,i);for(s=0;s<o.length;s++)z(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{k("transaction at "+h.toString()+" failed: "+r);for(s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}wi(e,t)}}),s)}(e,Pr(t),n)}else Cr(t)&&Ir(t,(function(t){_i(e,t)}))}function wi(e,t){var n=xi(e,t),r=Pr(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=function(s){var u,l,c=t[s],f=Te(n,c.path),h=!1;if(Object(o.f)(null!==f,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,u=c.abortReason,i=i.concat(nr(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=25)h=!0,u="maxretry",i=i.concat(nr(e.serverSyncTree_,c.currentWriteId,!0));else{var d=bi(e,c.path,a);c.currentInputSnapshot=d;var p=t[s].update(d.val());if(void 0!==p){Vr("transaction failed: Data returned ",p,c.path);var v=st(p);"object"===typeof p&&null!=p&&Object(o.k)(p,".priority")||(v=v.updatePriority(d.getPriority()));var y=c.currentWriteId,g=si(e),m=kr(v,d,g);c.currentOutputSnapshotRaw=v,c.currentOutputSnapshotResolved=m,c.currentWriteId=fi(e),a.splice(a.indexOf(y),1),i=(i=i.concat(er(e.serverSyncTree_,c.path,m,c.currentWriteId,c.applyLocally))).concat(nr(e.serverSyncTree_,y,!0))}else h=!0,u="nodata",i=i.concat(nr(e.serverSyncTree_,c.currentWriteId,!0))}ei(e.eventQueue_,n,i),i=[],h&&(t[s].status=2,l=t[s].unwatcher,setTimeout(l,Math.floor(0)),t[s].onComplete&&("nodata"===u?r.push((function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)})):r.push((function(){return t[s].onComplete(new Error(u),!1,null)}))))},u=0;u<t.length;u++)s(u);Oi(e,e.transactionQueueTree_);for(u=0;u<r.length;u++)z(r[u]);_i(e,e.transactionQueueTree_)}(e,Ti(e,n),r),r}function xi(e,t){var n,r=e.transactionQueueTree_;for(n=ve(t);null!==n&&void 0===Er(r);)r=Ar(r,n),n=ve(t=ge(t));return r}function Ti(e,t){var n=[];return ki(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function ki(e,t,n){var r=Er(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Ir(t,(function(t){ki(e,t,n)}))}function Oi(e,t){var n=Er(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Mr(t,n.length>0?n:void 0)}Ir(t,(function(t){Oi(e,t)}))}function Si(e,t){var n=Pr(xi(e,t)),r=Ar(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Ai(e,t)})),Ai(e,r),Dr(r,(function(t){Ai(e,t)})),n}function Ai(e,t){var n=Er(t);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(Object(o.f)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):(Object(o.f)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(nr(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Mr(t,void 0):n.length=a+1,ei(e.eventQueue_,Pr(t),i);for(s=0;s<r.length;s++)z(r[s])}}var Ei=function(e,t){var n=Mi(e),r=n.namespace;"firebase.com"===n.domain&&T(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||T("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&k("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new G(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new de(n.pathString)}},Mi=function(e){var t="",n="",r="",i="",o="",s=!0,u="https",l=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(u=e.substring(0,c-1),e=e.substring(c+2));var f=e.indexOf("/");-1===f&&(f=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(f,h)),f<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(f,h)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=Object(a.e)(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):k("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,h)));(c=t.indexOf(":"))>=0?(s="https"===u||"wss"===u,l=parseInt(t.substring(c+1),10)):c=t.length;var p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:o}},Ci=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(o.K)(this.snapshot.exportVal())},e}(),Ii=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Di=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return Object(o.f)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),Pi=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new o.a;return di(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){Kr("OnDisconnect.remove",this._path);var e=new o.a;return pi(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){Kr("OnDisconnect.set",this._path),qr("OnDisconnect.set",e,this._path,!1);var t=new o.a;return pi(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){Kr("OnDisconnect.setWithPriority",this._path),qr("OnDisconnect.setWithPriority",e,this._path,!1),Hr("OnDisconnect.setWithPriority",t,!1);var n=new o.a;return function(e,t,n,r,i){var o=st(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&Ct(e.onDisconnect_,t,o),mi(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){Kr("OnDisconnect.update",this._path),Br("OnDisconnect.update",e,this._path,!1);var t=new o.a;return function(e,t,n,r){if(Object(o.v)(n))return _("onDisconnect().update() called with empty data.  Don't do anything."),void mi(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&P(n,(function(n,r){var i=st(r);Ct(e.onDisconnect_,we(t,n),i)})),mi(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),Ni=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return xe(this._path)?null:me(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Fi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=St(this._queryParams),t=I(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return St(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=Object(o.p)(t))instanceof e))return!1;var n=this._repo===t._repo,r=Oe(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function Li(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function ji(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Fe){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==S)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==A)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===Ze){if(null!=t&&!Ur(t)||null!=n&&!Ur(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(o.f)(e.getIndex()instanceof ut||e.getIndex()===lt,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ri(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Fi=function(e){function t(t,n){return e.call(this,t,n,new wt,!1)||this}return Object(a.b)(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=_e(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(Ni),zi=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new de(t),r=Vi(this.ref,t);return new e(this._node.getChild(n),r,Ze)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Vi(n.ref,r),Ze))}))},e.prototype.hasChild=function(e){var t=new de(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function Ui(e,t){return(e=Object(o.p)(e))._checkNotDeleted("ref"),void 0!==t?Vi(e._root,t):e._root}function qi(e,t){(e=Object(o.p)(e))._checkNotDeleted("refFromURL");var n=Ei(t,e._repo.repoInfo_.nodeAdmin);Xr("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||T("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),Ui(e,n.path.toString())}function Vi(e,t){var n,r,i,a;return null===ve((e=Object(o.p)(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Gr(n,r,i,a)):Gr("child","path",t,!1),new Fi(e._repo,we(e._path,t))}function Bi(e,t){e=Object(o.p)(e),Kr("push",e._path),qr("push",t,e._path,!0);var n,r=ai(e._repo),i=ft(r),a=Vi(e,i),s=Vi(e,i);return n=null!=t?Wi(s,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function Hi(e){return Kr("remove",e._path),Wi(e,null)}function Wi(e,t){e=Object(o.p)(e),Kr("set",e._path),qr("set",t,e._path,!1);var n=new o.a;return hi(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Yi(e,t){e=Object(o.p)(e),Kr("setPriority",e._path),Hr("setPriority",t,!1);var n=new o.a;return hi(e._repo,we(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function Gi(e,t,n){if(Kr("setWithPriority",e._path),qr("setWithPriority",t,e._path,!1),Hr("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new o.a;return hi(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function Ki(e,t){Br("update",t,e._path,!1);var n=new o.a;return function(e,t,n,r){gi(e,"update",{path:t.toString(),value:n});var i=!0,o=si(e),a={};if(P(n,(function(n,r){i=!1,a[n]=Tr(we(t,n),st(r),e.serverSyncTree_,o)})),i)_("update() called with empty data.  Don't do anything."),mi(0,r,"ok",void 0);else{var s=fi(e),u=tr(e.serverSyncTree_,t,a,s);$r(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||k("update at "+t+" failed: "+n);var a=nr(e.serverSyncTree_,s,!o),u=a.length>0?wi(e,t):t;ei(e.eventQueue_,u,a),mi(0,r,n,i)})),P(n,(function(n){var r=Si(e,we(t,n));wi(e,r)})),ei(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function Xi(e){return function(e,t){var n=sr(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=st(n),i=rr(e.serverSyncTree_,t._path,r);return Zr(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return gi(e,"get for query "+Object(o.K)(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=Object(o.p)(e))._repo,e).then((function(t){return new zi(t,new Fi(e._repo,e._path),e._queryParams.getIndex())}))}var Qi=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new Ci("value",this,new zi(e.snapshotNode,new Fi(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Ii(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),Ji=function(){function e(e){this.callbacks=e}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,Object(o.k)(this.callbacks,t)},e.prototype.createCancelEvent=function(e,t){return this.callbacks.cancel.hasCancelCallback?new Ii(this,e,t):null},e.prototype.createEvent=function(e,t){Object(o.f)(null!=e.childName,"Child events should have a childName.");var n=Vi(new Fi(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Ci(e.type,this,new zi(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){if("cancel"===e.getEventType()){var t=this.callbacks.cancel;return function(){return t.onCancel(e.error)}}var n=this.callbacks[e.eventType];return function(){return n.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){var n=this;if(t instanceof e){if(!this.callbacks||!t.callbacks)return!0;var r=Object.keys(t.callbacks),i=Object.keys(this.callbacks),o=r.length;if(o===i.length){if(1===o){var a=r[0],s=i[0];return s===a&&(!t.callbacks[a]||!this.callbacks[s]||t.callbacks[a].matches(this.callbacks[s]))}return i.every((function(e){return t.callbacks[e].matches(n.callbacks[e])}))}}return!1},e.prototype.hasAnyCallback=function(){return null!==this.callbacks},e}();function $i(e,t,n,r,i){var o,a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var s=n,u=function(t,n){s(t,n),vi(e._repo,e,c)};u.userCallback=n.userCallback,u.context=n.context,n=u}var l=new Di(n,a||void 0),c="value"===t?new Qi(l):new Ji(((o={})[t]=l,o));return function(e,t,n){var r;r=".info"===ve(t._path)?or(e.infoSyncTree_,t,n):or(e.serverSyncTree_,t,n),Zr(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return vi(e._repo,e,c)}}function Zi(e,t,n,r){return $i(e,"value",t,n,r)}function eo(e,t,n,r){return $i(e,"child_added",t,n,r)}function to(e,t,n,r){return $i(e,"child_changed",t,n,r)}function no(e,t,n,r){return $i(e,"child_moved",t,n,r)}function ro(e,t,n,r){return $i(e,"child_removed",t,n,r)}function io(e,t,n){var r=null,i=null,o=n?new Di(n):null;"value"===t?r=new Qi(o):t&&(n&&((i={})[t]=o),r=new Ji(i)),vi(e._repo,e,r)}var oo=function(){},ao=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(a.b)(t,e),t.prototype._apply=function(e){qr("endAt",this._value,e._path,!0);var t=Tt(e._queryParams,this._value,this._key);if(Ri(t),ji(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ni(e._repo,e._path,t,e._orderByCalled)},t}(oo);function so(e,t){return Yr("endAt","key",t,!0),new ao(e,t)}var uo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(a.b)(t,e),t.prototype._apply=function(e){qr("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===Fe?("string"===typeof t&&(t=dt(t)),r=Tt(e,t,n)):r=Tt(e,t,null==n?S:dt(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(Ri(t),ji(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ni(e._repo,e._path,t,e._orderByCalled)},t}(oo);function lo(e,t){return Yr("endBefore","key",t,!0),new uo(e,t)}var co=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(a.b)(t,e),t.prototype._apply=function(e){qr("startAt",this._value,e._path,!0);var t=xt(e._queryParams,this._value,this._key);if(Ri(t),ji(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ni(e._repo,e._path,t,e._orderByCalled)},t}(oo);function fo(e,t){return void 0===e&&(e=null),Yr("startAt","key",t,!0),new co(e,t)}var ho=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(a.b)(t,e),t.prototype._apply=function(e){qr("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;e.index_===Fe?("string"===typeof t&&(t=ht(t)),r=xt(e,t,n)):r=xt(e,t,null==n?A:ht(n));return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Ri(t),ji(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ni(e._repo,e._path,t,e._orderByCalled)},t}(oo);function po(e,t){return Yr("startAfter","key",t,!0),new ho(e,t)}var vo=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Object(a.b)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ni(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)},t}(oo);function yo(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new vo(e)}var go=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Object(a.b)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ni(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)},t}(oo);function mo(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new go(e)}var bo=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return Object(a.b)(t,e),t.prototype._apply=function(e){Li(e,"orderByChild");var t=new de(this._path);if(xe(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new ut(t),r=kt(e._queryParams,n);return ji(r),new Ni(e._repo,e._path,r,!0)},t}(oo);function _o(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Gr("orderByChild","path",e,!1),new bo(e)}var wo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.b)(t,e),t.prototype._apply=function(e){Li(e,"orderByKey");var t=kt(e._queryParams,Fe);return ji(t),new Ni(e._repo,e._path,t,!0)},t}(oo);function xo(){return new wo}var To=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.b)(t,e),t.prototype._apply=function(e){Li(e,"orderByPriority");var t=kt(e._queryParams,Ze);return ji(t),new Ni(e._repo,e._path,t,!0)},t}(oo);function ko(){return new To}var Oo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.b)(t,e),t.prototype._apply=function(e){Li(e,"orderByValue");var t=kt(e._queryParams,lt);return ji(t),new Ni(e._repo,e._path,t,!0)},t}(oo);function So(){return new Oo}var Ao=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(a.b)(t,e),t.prototype._apply=function(e){if(qr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ao(this._value,this._key)._apply(new co(this._value,this._key)._apply(e))},t}(oo);function Eo(e,t){return Yr("equalTo","key",t,!0),new Ao(e,t)}function Mo(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=Object(o.p)(e);try{for(var u=Object(a.e)(r),l=u.next();!l.done;l=u.next()){var c=l.value;s=c._apply(s)}}catch(f){t={error:f}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s}!function(e){Object(o.f)(!Pn,"__referenceConstructor has already been defined"),Pn=e}(Fi),function(e){Object(o.f)(!Un,"__referenceConstructor has already been defined"),Un=e}(Fi);var Co={},Io=!1;function Do(t,n,r,i){var o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||T("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var a,s=Ei(o,i),u=s.repoInfo,l=void 0;"undefined"!==typeof e&&(l=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_DATABASE_EMULATOR_HOST),l?(a=!0,o="http://"+l+"?ns="+u.namespace,u=(s=Ei(o,i)).repoInfo):a=!s.repoInfo.secure;var c=i&&a?new V:new q(t.name,t.options,n);Xr("Invalid Firebase Database URL",s),xe(s.path)||T("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n){var r=Co[t.name];r||(r={},Co[t.name]=r);var i=r[e.toURLString()];i&&T("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return i=new ii(e,Io,n),r[e.toURLString()]=i,i}(u,t,c);return new Po(f,t)}var Po=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(oi(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Fi(this._repo,pe())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return this._checkNotDeleted("delete"),function(e,t){var n=Co[t];n&&n[e.key]===e||T("Database "+t+"("+e.repoInfo_+") has already been deleted."),yi(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null,Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&T("Cannot call "+e+" on a deleted database.")},e}();function No(e,t,n){(e=Object(o.p)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&T("Cannot call useEmulator() after instance has already been initialized."),function(e,t,n){e.repoInfo_=new G(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),e.repoInfo_.nodeAdmin&&(e.authTokenProvider_=new V)}(e._repo,t,n)}function Lo(e){(e=Object(o.p)(e))._checkNotDeleted("goOffline"),yi(e._repo)}function jo(e){var t;(e=Object(o.p)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(ri)}function Ro(e,t){b(e,t)}var Fo={".sv":"timestamp"};var zo=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function Uo(e,t,n){var r;if(e=Object(o.p)(e),Kr("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new o.a,s=Zi(e,(function(){}));return function(e,t,n,r,i,a){gi(e,"transaction on "+t);var s={path:t,update:n,onComplete:r,status:null,order:p(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=bi(e,t,void 0);s.currentInputSnapshot=u;var l=s.update(u.val());if(void 0===l)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Vr("transaction failed: Data returned ",l,s.path),s.status=0;var c=Ar(e.transactionQueueTree_,t),f=Er(c)||[];f.push(s),Mr(c,f);var h=void 0;"object"===typeof l&&null!==l&&Object(o.k)(l,".priority")?(h=Object(o.H)(l,".priority"),Object(o.f)(Ur(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(ar(e.serverSyncTree_,t)||ot.EMPTY_NODE).getPriority().val();var d=si(e),v=st(l,h),y=kr(v,u,d);s.currentOutputSnapshotRaw=v,s.currentOutputSnapshotResolved=y,s.currentWriteId=fi(e);var g=er(e.serverSyncTree_,t,y,s.currentWriteId,s.applyLocally);ei(e.eventQueue_,t,g),_i(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new zi(r,new Fi(e._repo,e._path),Ze),a.resolve(new zo(n,i)))}),s,i),a.promise}var qo=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){Object(o.L)("OnDisconnect.cancel",0,1,arguments.length),Object(o.M)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){Object(o.L)("OnDisconnect.remove",0,1,arguments.length),Object(o.M)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){Object(o.L)("OnDisconnect.set",1,2,arguments.length),Object(o.M)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){Object(o.L)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(o.M)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if(Object(o.L)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,k("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(o.M)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),Vo=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return Object(o.L)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Bo=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return Object(o.L)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return Object(o.L)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return Object(o.L)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return Object(o.L)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return Object(o.L)("DataSnapshot.child",0,1,arguments.length),t=String(t),Gr("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return Object(o.L)("DataSnapshot.hasChild",1,1,arguments.length),Gr("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return Object(o.L)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return Object(o.L)("DataSnapshot.forEach",1,1,arguments.length),Object(o.M)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return Object(o.L)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return Object(o.L)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return Object(o.L)("DataSnapshot.ref",0,0,arguments.length),new Wo(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Ho=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var a,s=this;Object(o.L)("Query.on",2,4,arguments.length),Object(o.M)("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),l=function(e,t){n.call(u.context,new Bo(s.database,e),t)};l.userCallback=n,l.context=u.context;var c=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return Zi(this._delegate,l,c),n;case"child_added":return eo(this._delegate,l,c),n;case"child_removed":return ro(this._delegate,l,c),n;case"child_changed":return to(this._delegate,l,c),n;case"child_moved":return no(this._delegate,l,c),n;default:throw new Error(Object(o.o)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if(Object(o.L)("Query.off",0,3,arguments.length),Wr("Query.off",e,!0),Object(o.M)("Query.off","callback",t,!0),Object(o.N)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,io(this._delegate,e,r)}else io(this._delegate,e)},e.prototype.get=function(){var e=this;return Xi(this._delegate).then((function(t){return new Bo(e.database,t)}))},e.prototype.once=function(t,n,r,i){var a=this;Object(o.L)("Query.once",1,4,arguments.length),Object(o.M)("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.on",r,i),u=new o.a,l=function(e,t){var r=new Bo(a.database,e);n&&n.call(s.context,r,t),u.resolve(r)};l.userCallback=n,l.context=s.context;var c=function(e){s.cancel&&s.cancel.call(s.context,e),u.reject(e)};switch(t){case"value":Zi(this._delegate,l,c,{onlyOnce:!0});break;case"child_added":eo(this._delegate,l,c,{onlyOnce:!0});break;case"child_removed":ro(this._delegate,l,c,{onlyOnce:!0});break;case"child_changed":to(this._delegate,l,c,{onlyOnce:!0});break;case"child_moved":no(this._delegate,l,c,{onlyOnce:!0});break;default:throw new Error(Object(o.o)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},e.prototype.limitToFirst=function(t){return Object(o.L)("Query.limitToFirst",1,1,arguments.length),new e(this.database,Mo(this._delegate,yo(t)))},e.prototype.limitToLast=function(t){return Object(o.L)("Query.limitToLast",1,1,arguments.length),new e(this.database,Mo(this._delegate,mo(t)))},e.prototype.orderByChild=function(t){return Object(o.L)("Query.orderByChild",1,1,arguments.length),new e(this.database,Mo(this._delegate,_o(t)))},e.prototype.orderByKey=function(){return Object(o.L)("Query.orderByKey",0,0,arguments.length),new e(this.database,Mo(this._delegate,xo()))},e.prototype.orderByPriority=function(){return Object(o.L)("Query.orderByPriority",0,0,arguments.length),new e(this.database,Mo(this._delegate,ko()))},e.prototype.orderByValue=function(){return Object(o.L)("Query.orderByValue",0,0,arguments.length),new e(this.database,Mo(this._delegate,So()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),Object(o.L)("Query.startAt",0,2,arguments.length),new e(this.database,Mo(this._delegate,fo(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),Object(o.L)("Query.startAfter",0,2,arguments.length),new e(this.database,Mo(this._delegate,po(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),Object(o.L)("Query.endAt",0,2,arguments.length),new e(this.database,Mo(this._delegate,so(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),Object(o.L)("Query.endBefore",0,2,arguments.length),new e(this.database,Mo(this._delegate,lo(t,n)))},e.prototype.equalTo=function(t,n){return Object(o.L)("Query.equalTo",1,2,arguments.length),new e(this.database,Mo(this._delegate,Eo(t,n)))},e.prototype.toString=function(){return Object(o.L)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return Object(o.L)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(Object(o.L)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Object(o.M)(e,"cancel",r.cancel,!0),r.context=n,Object(o.N)(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(Object(o.o)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new Wo(this.database,new Fi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Wo=function(e){function t(t,n){var r=e.call(this,t,new Ni(n._repo,n._path,new wt,!1))||this;return r.database=t,r._delegate=n,r}return Object(a.b)(t,e),t.prototype.getKey=function(){return Object(o.L)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return Object(o.L)("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new t(this.database,Vi(this._delegate,e))},t.prototype.getParent=function(){Object(o.L)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return Object(o.L)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){Object(o.L)("Reference.set",1,2,arguments.length),Object(o.M)("Reference.set","onComplete",t,!0);var n=Wi(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if(Object(o.L)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,k("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Kr("Reference.update",this._delegate._path),Object(o.M)("Reference.update","onComplete",t,!0);var i=Ki(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){Object(o.L)("Reference.setWithPriority",2,3,arguments.length),Object(o.M)("Reference.setWithPriority","onComplete",n,!0);var r=Gi(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){Object(o.L)("Reference.remove",0,1,arguments.length),Object(o.M)("Reference.remove","onComplete",e,!0);var t=Hi(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;Object(o.L)("Reference.transaction",1,3,arguments.length),Object(o.M)("Reference.transaction","transactionUpdate",e,!1),Object(o.M)("Reference.transaction","onComplete",t,!0),Qr("Reference.transaction","applyLocally",n,!0);var i=Uo(this._delegate,e,{applyLocally:n}).then((function(e){return new Vo(e.committed,new Bo(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){Object(o.L)("Reference.setPriority",1,2,arguments.length),Object(o.M)("Reference.setPriority","onComplete",t,!0);var n=Yi(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;Object(o.L)("Reference.push",0,2,arguments.length),Object(o.M)("Reference.push","onComplete",n,!0);var i=Bi(this._delegate,e),a=i.then((function(e){return new t(r.database,e)}));n&&a.then((function(){return n(null)}),(function(e){return n(e)}));var s=new t(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},t.prototype.onDisconnect=function(){return Kr("Reference.onDisconnect",this._delegate._path),new qo(new Pi(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Ho),Yo=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t){No(this._delegate,e,t)},e.prototype.ref=function(e){if(Object(o.L)("database.ref",0,1,arguments.length),e instanceof Wo){var t=qi(this._delegate,e.toString());return new Wo(this,t)}t=Ui(this._delegate,e);return new Wo(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";Object(o.L)(t,1,1,arguments.length);var n=qi(this._delegate,e);return new Wo(this,n)},e.prototype.goOffline=function(){return Object(o.L)("database.goOffline",0,0,arguments.length),Lo(this._delegate)},e.prototype.goOnline=function(){return Object(o.L)("database.goOnline",0,0,arguments.length),jo(this._delegate)},e.ServerValue={TIMESTAMP:Fo,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}();var Go=Object.freeze({__proto__:null,forceLongPolling:function(){se.forceDisallow(),ne.forceAllow()},forceWebSockets:function(){ne.forceDisallow()},isWebSocketsAvailable:function(){return se.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!==typeof console){var n;t?(e.statsListener_||(e.statsListener_=new Nt(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);P(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n,r;e.stats_.incrementCounter(t),n=e.statsReporter_,r=t,n.statsToReport_[r]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,o=e.customAuthImpl,a=e.namespace,s=e.nodeAdmin,u=void 0!==s&&s;oe(r);var l=new i.c("auth-internal",new i.b("database-standalone"));return l.setComponent(new i.a("auth-internal",(function(){return o}),"PRIVATE")),{instance:new Yo(Do(t,l,n,u),t),namespace:a}}}),Ko=Ne;Ne.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Ne.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Xo=le,Qo=G,Jo=Object.freeze({__proto__:null,DataConnection:Ko,RealTimeConnection:Xo,hijackHash:function(e){var t=Ne.prototype.put;return Ne.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Ne.prototype.put=t}},ConnectionTarget:Qo,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){Io=e}(e)}}),$o=Yo.ServerValue;!function(e){oe(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new i.a("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal");return new Yo(Do(r,i,n),r)}),"PUBLIC").setServiceProps({Reference:Wo,Query:Ho,Database:Yo,DataSnapshot:Bo,enableLogging:Ro,INTERNAL:Go,ServerValue:$o,TEST_ACCESS:Jo}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.9.10"),Object(o.A)()&&(t.exports=n)}(r.a)}).call(this,n(51),n(135)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},,function(e,t,n){"use strict";n.r(t),n.d(t,"Calendar",(function(){return sn})),n.d(t,"CenturyView",(function(){return qe})),n.d(t,"DecadeView",(function(){return $e})),n.d(t,"YearView",(function(){return ct})),n.d(t,"MonthView",(function(){return Ct}));var r,i=n(1),o=n.n(i),a=n(6),s=n.n(a),u=n(46),l=n(56),c=n(9);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d,p={ARABIC:"Arabic",HEBREW:"Hebrew",ISO_8601:"ISO 8601",US:"US"},v=(h(r={},p.US,["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"]),h(r,p.ARABIC,["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]),h(r,p.HEBREW,["he","he-IL"]),r),y=(d=Array(7),function(e){if(Array.isArray(e))return f(e)}(d)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(d)||function(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e,t){return t}));function g(e){return function(t,n){return function(e){return function(t,n){return n.toLocaleString(t||Object(l.default)(),e)}}(e)(t,function(e){var t=new Date(e);return new Date(t.setHours(12))}(n))}}g({day:"numeric",month:"numeric",year:"numeric"});var m=g({day:"numeric",month:"long",year:"numeric"}),b=g({month:"long"}),_=g({month:"long",year:"numeric"}),w=g({year:"numeric"}),x=g({weekday:"short"}),T=g({weekday:"long"}),k=y[0],O=y[5],S=y[6];function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.ISO_8601,n=e.getDay();switch(t){case p.ISO_8601:return(n+6)%7;case p.ARABIC:return(n+1)%7;case p.HEBREW:case p.US:return n;default:throw new Error("Unsupported calendar type.")}}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.ISO_8601,n=Object(c.getYear)(e),r=Object(c.getMonth)(e),i=e.getDate()-A(e,t);return new Date(n,r,i)}function M(e,t){switch(e){case"century":return Object(c.getCenturyStart)(t);case"decade":return Object(c.getDecadeStart)(t);case"year":return Object(c.getYearStart)(t);case"month":return Object(c.getMonthStart)(t);case"day":return Object(c.getDayStart)(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function C(e,t){switch(e){case"century":return Object(c.getNextCenturyStart)(t);case"decade":return Object(c.getNextDecadeStart)(t);case"year":return Object(c.getNextYearStart)(t);case"month":return Object(c.getNextMonthStart)(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function I(e,t){switch(e){case"century":return Object(c.getCenturyEnd)(t);case"decade":return Object(c.getDecadeEnd)(t);case"year":return Object(c.getYearEnd)(t);case"month":return Object(c.getMonthEnd)(t);case"day":return Object(c.getDayEnd)(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function D(e,t){switch(e){case"century":return Object(c.getCenturyRange)(t);case"decade":return Object(c.getDecadeRange)(t);case"year":return Object(c.getYearRange)(t);case"month":return Object(c.getMonthRange)(t);case"day":return Object(c.getDayRange)(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function P(e,t,n){var r=[t,n].sort((function(e,t){return e-t}));return[M(e,r[0]),I(e,r[1])]}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w,n=arguments.length>2?arguments[2]:void 0;return n.map((function(n){return t(e,n)})).join(" \u2013 ")}function L(e,t,n){return N(e,t,Object(c.getDecadeRange)(n))}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.ISO_8601,n=e.getDay();switch(t){case p.ARABIC:case p.HEBREW:return n===O||n===S;case p.ISO_8601:case p.US:return n===S||n===k;default:throw new Error("Unsupported calendar type.")}}function R(e){return(R="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var F=Object.values(p),z=["century","decade","year","month"],U=s.a.oneOf(F),q=s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)]),V=function(e,t,n){var r=e[t];if(!r)return null;if(!(r instanceof Date))return new Error("Invalid prop `".concat(t,"` of type `").concat(R(r),"` supplied to `").concat(n,"`, expected instance of `Date`."));var i=e.maxDate;return i&&r>i?new Error("Invalid prop `".concat(t,"` of type `").concat(R(r),"` supplied to `").concat(n,"`, minDate cannot be larger than maxDate.")):null},B=function(e,t,n){var r=e[t];if(!r)return null;if(!(r instanceof Date))return new Error("Invalid prop `".concat(t,"` of type `").concat(R(r),"` supplied to `").concat(n,"`, expected instance of `Date`."));var i=e.minDate;return i&&r<i?new Error("Invalid prop `".concat(t,"` of type `").concat(R(r),"` supplied to `").concat(n,"`, maxDate cannot be smaller than minDate.")):null},H=s.a.oneOfType([s.a.func,s.a.shape({current:s.a.any})]),W=s.a.oneOfType([s.a.instanceOf(Date),s.a.arrayOf(s.a.instanceOf(Date))]),Y=s.a.arrayOf(s.a.oneOf(z)),G=function(e,t,n){var r=e[t],i=e.views||z;return void 0!==r&&-1===i.indexOf(r)?new Error("Invalid prop `".concat(t,"` of value `").concat(r,"` supplied to `").concat(n,"`, expected one of [").concat(i.map((function(e){return'"'.concat(e,'"')})).join(", "),"].")):null};G.isRequired=function(e,t,n){var r=e[t];return r?G(e,t,n):new Error("The prop `".concat(t,"` is marked as required in `").concat(n,"`, but its value is `").concat(r,"`."))};var K={activeStartDate:s.a.instanceOf(Date).isRequired,hover:s.a.instanceOf(Date),locale:s.a.string,maxDate:B,minDate:V,onClick:s.a.func,onMouseOver:s.a.func,tileClassName:s.a.oneOfType([s.a.func,q]),tileContent:s.a.oneOfType([s.a.func,s.a.node]),value:W,valueType:s.a.string},X={activeStartDate:s.a.instanceOf(Date).isRequired,classes:s.a.arrayOf(s.a.string).isRequired,date:s.a.instanceOf(Date).isRequired,locale:s.a.string,maxDate:B,minDate:V,onClick:s.a.func,onMouseOver:s.a.func,style:s.a.objectOf(s.a.oneOfType([s.a.string,s.a.number])),tileClassName:s.a.oneOfType([s.a.func,q]),tileContent:s.a.oneOfType([s.a.func,s.a.node]),tileDisabled:s.a.func},Q="react-calendar__navigation";function J(e){var t=e.activeStartDate,n=e.drillUp,r=e.formatMonthYear,i=void 0===r?_:r,a=e.formatYear,s=void 0===a?w:a,u=e.locale,f=e.maxDate,h=e.minDate,d=e.navigationAriaLabel,p=void 0===d?"":d,v=e.navigationLabel,y=e.next2AriaLabel,g=void 0===y?"":y,m=e.next2Label,b=void 0===m?"\xbb":m,x=e.nextAriaLabel,T=void 0===x?"":x,k=e.nextLabel,O=void 0===k?"\u203a":k,S=e.prev2AriaLabel,A=void 0===S?"":S,E=e.prev2Label,M=void 0===E?"\xab":E,I=e.prevAriaLabel,D=void 0===I?"":I,P=e.prevLabel,j=void 0===P?"\u2039":P,R=e.setActiveStartDate,F=e.showDoubleView,z=e.view,U=e.views.indexOf(z)>0,q="century"!==z,V=function(e,t){switch(e){case"century":return Object(c.getPreviousCenturyStart)(t);case"decade":return Object(c.getPreviousDecadeStart)(t);case"year":return Object(c.getPreviousYearStart)(t);case"month":return Object(c.getPreviousMonthStart)(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(z,t),B=q&&function(e,t){switch(e){case"decade":return Object(c.getPreviousDecadeStart)(t,-100);case"year":return Object(c.getPreviousYearStart)(t,-10);case"month":return Object(c.getPreviousMonthStart)(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(z,t),H=C(z,t),W=q&&function(e,t){switch(e){case"decade":return Object(c.getNextDecadeStart)(t,100);case"year":return Object(c.getNextYearStart)(t,10);case"month":return Object(c.getNextMonthStart)(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}(z,t),Y=function(){if(V.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"century":return Object(c.getPreviousCenturyEnd)(t);case"decade":return Object(c.getPreviousDecadeEnd)(t);case"year":return Object(c.getPreviousYearEnd)(t);case"month":return Object(c.getPreviousMonthEnd)(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(z,t);return h&&h>=e}(),G=q&&function(){if(B.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"decade":return Object(c.getPreviousDecadeEnd)(t,-100);case"year":return Object(c.getPreviousYearEnd)(t,-10);case"month":return Object(c.getPreviousMonthEnd)(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(z,t);return h&&h>=e}(),K=f&&f<=H,X=q&&f&&f<=W;function J(e){var t=function(){switch(z){case"century":return function(e,t,n){return N(e,t,Object(c.getCenturyRange)(n))}(u,s,e);case"decade":return L(u,s,e);case"year":return s(u,e);case"month":return i(u,e);default:throw new Error("Invalid view: ".concat(z,"."))}}();return v?v({date:e,label:t,locale:u||Object(l.getUserLocale)(),view:z}):t}return o.a.createElement("div",{className:Q,style:{display:"flex"}},null!==M&&q&&o.a.createElement("button",{"aria-label":A,className:"".concat(Q,"__arrow ").concat(Q,"__prev2-button"),disabled:G,onClick:function(){R(B)},type:"button"},M),null!==j&&o.a.createElement("button",{"aria-label":D,className:"".concat(Q,"__arrow ").concat(Q,"__prev-button"),disabled:Y,onClick:function(){R(V)},type:"button"},j),function(){var e="".concat(Q,"__label");return o.a.createElement("button",{"aria-label":p,className:e,disabled:!U,onClick:n,style:{flexGrow:1},type:"button"},o.a.createElement("span",{className:"".concat(e,"__labelText ").concat(e,"__labelText--from")},J(t)),F&&o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"".concat(e,"__divider")}," ","\u2013"," "),o.a.createElement("span",{className:"".concat(e,"__labelText ").concat(e,"__labelText--to")},J(H))))}(),null!==O&&o.a.createElement("button",{"aria-label":T,className:"".concat(Q,"__arrow ").concat(Q,"__next-button"),disabled:K,onClick:function(){R(H)},type:"button"},O),null!==b&&q&&o.a.createElement("button",{"aria-label":g,className:"".concat(Q,"__arrow ").concat(Q,"__next2-button"),disabled:X,onClick:function(){R(W)},type:"button"},b))}function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function re(e){return"".concat(e,"%")}function ie(e){var t=e.children,n=e.className,r=e.direction,i=e.count,a=e.offset,s=e.style,u=e.wrap,l=ne(e,["children","className","direction","count","offset","style","wrap"]);return o.a.createElement("div",$({className:n,style:ee({display:"flex",flexDirection:r,flexWrap:u?"wrap":"no-wrap"},s)},l),o.a.Children.map(t,(function(e,t){return o.a.cloneElement(e,ee(ee({},e.props),{},{style:{flexBasis:re(100/i),maxWidth:re(100/i),overflow:"hidden",marginLeft:a&&0===t?re(100*a/i):null}}))})))}function oe(e){return function(e){if(Array.isArray(e))return ae(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function se(e,t){return t[0]<=e&&t[1]>=e}function ue(e,t){return e[0]<=t[0]&&e[1]>=t[1]}function le(e,t){return se(e[0],t)||se(e[1],t)}function ce(e,t,n){var r=[];if(le(t,e)){r.push(n);var i=se(e[0],t),o=se(e[1],t);i&&r.push("".concat(n,"Start")),o&&r.push("".concat(n,"End")),i&&o&&r.push("".concat(n,"BothEnds"))}return r}function fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value,n=e.valueType,r=e.date,i=e.dateType,o=e.hover,a="react-calendar__tile",s=[a];if(!r)return s;if(!Array.isArray(r)&&!i)throw new Error("getTileClasses(): Unable to get tile activity classes because one or more required arguments were not passed.");var u=new Date,l=Array.isArray(r)?r:D(i,r);if(se(u,l)&&s.push("".concat(a,"--now")),!t)return s;if(!Array.isArray(t)&&!n)throw new Error("getTileClasses(): Unable to get tile activity classes because one or more required arguments were not passed.");var c=Array.isArray(t)?t:D(n,t);ue(c,l)?s.push("".concat(a,"--active")):le(c,l)&&s.push("".concat(a,"--hasActive"));var f=ce(c,l,"".concat(a,"--range"));if(s.push.apply(s,oe(f)),o){var h=o>c[1]?[c[1],o]:[o,c[0]],d=ce(h,l,"".concat(a,"--hover"));s.push.apply(s,oe(d))}return s}function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ve(){return(ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ye(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ge(e){for(var t=e.className,n=e.count,r=void 0===n?3:n,i=e.dateTransform,a=e.dateType,s=e.end,u=e.hover,l=e.offset,c=e.start,f=e.step,h=void 0===f?1:f,d=e.tile,p=e.value,v=e.valueType,y=ye(e,["className","count","dateTransform","dateType","end","hover","offset","start","step","tile","value","valueType"]),g=[],m=c;m<=s;m+=h){var b=i(m);g.push(o.a.createElement(d,ve({key:b.getTime(),classes:fe({value:p,valueType:v,date:b,dateType:a,hover:u}),date:b,point:m},y)))}return o.a.createElement(ie,{className:t,count:r,offset:l,wrap:!0},g)}function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){Ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e){return(_e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ke(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ae(e);if(t){var i=Ae(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Oe(this,n)}}function Oe(e,t){return!t||"object"!==_e(t)&&"function"!==typeof t?Se(e):t}function Se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ae(e){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Me(e,t){var n=e.activeStartDate,r=e.date,i=e.view;return"function"===typeof t?t({activeStartDate:n,date:r,view:i}):t}J.propTypes={activeStartDate:s.a.instanceOf(Date).isRequired,drillUp:s.a.func.isRequired,formatMonthYear:s.a.func,formatYear:s.a.func,locale:s.a.string,maxDate:s.a.instanceOf(Date),minDate:s.a.instanceOf(Date),navigationAriaLabel:s.a.string,navigationLabel:s.a.func,next2AriaLabel:s.a.string,next2Label:s.a.node,nextAriaLabel:s.a.string,nextLabel:s.a.node,prev2AriaLabel:s.a.string,prev2Label:s.a.node,prevAriaLabel:s.a.string,prevLabel:s.a.node,setActiveStartDate:s.a.func.isRequired,showDoubleView:s.a.bool,view:G.isRequired,views:Y.isRequired},ie.propTypes={children:s.a.node,className:s.a.string,count:s.a.number.isRequired,direction:s.a.string,offset:s.a.number,style:s.a.objectOf(s.a.oneOfType([s.a.string,s.a.number])),wrap:s.a.bool},ge.propTypes=de(de({},K),{},{activeStartDate:s.a.instanceOf(Date),count:s.a.number,dateTransform:s.a.func.isRequired,offset:s.a.number,step:s.a.number,tile:s.a.func.isRequired});var Ce=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(a,e);var t,n,r,i=ke(a);function a(){var e;we(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ee(Se(e=i.call.apply(i,[this].concat(n))),"state",{}),e}return t=a,r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.tileClassName,r=e.tileContent,i={};return n!==t.tileClassNameProps&&(i.tileClassName=Me(e,n),i.tileClassNameProps=n),r!==t.tileContentProps&&(i.tileContent=Me(e,r),i.tileContentProps=r),i}}],(n=[{key:"render",value:function(){var e=this.props,t=e.activeStartDate,n=e.children,r=e.classes,i=e.date,a=e.formatAbbr,s=e.locale,l=e.maxDate,c=e.maxDateTransform,f=e.minDate,h=e.minDateTransform,d=e.onClick,p=e.onMouseOver,v=e.style,y=e.tileDisabled,g=e.view,m=this.state,b=m.tileClassName,_=m.tileContent;return o.a.createElement("button",{className:Object(u.default)(r,b),disabled:f&&h(f)>i||l&&c(l)<i||y&&y({activeStartDate:t,date:i,view:g}),onClick:d&&function(e){return d(i,e)},onFocus:p&&function(){return p(i)},onMouseOver:p&&function(){return p(i)},style:v,type:"button"},a?o.a.createElement("abbr",{"aria-label":a(s,i)},n):n,_)}}])&&xe(t.prototype,n),r&&xe(t,r),a}(i.Component);function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){Pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ne(){return(Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Le(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}Ce.propTypes=be(be({},X),{},{children:s.a.node.isRequired,formatAbbr:s.a.func,maxDateTransform:s.a.func.isRequired,minDateTransform:s.a.func.isRequired});function je(e){var t=e.classes,n=e.formatYear,r=void 0===n?w:n,i=Le(e,["classes","formatYear"]),a=i.date,s=i.locale;return o.a.createElement(Ce,Ne({},i,{classes:[].concat(t,"react-calendar__century-view__decades__decade"),maxDateTransform:c.getDecadeEnd,minDateTransform:c.getDecadeStart,view:"century"}),L(s,r,a))}function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ue(e){var t=function(e){var t=Object(c.getCenturyStart)(e);return Object(c.getYear)(t)}(e.activeStartDate),n=t+99;return o.a.createElement(ge,ze({},e,{className:"react-calendar__century-view__decades",dateTransform:c.getDecadeStart,dateType:"decade",end:n,start:t,step:10,tile:je}))}function qe(e){return o.a.createElement("div",{className:"react-calendar__century-view"},o.a.createElement(Ue,e))}function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){He(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function We(){return(We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ye(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}je.propTypes=De(De({},X),{},{formatYear:s.a.func}),Ue.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){Fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},K);function Ge(e){var t=e.classes,n=e.formatYear,r=void 0===n?w:n,i=Ye(e,["classes","formatYear"]),a=i.date,s=i.locale;return o.a.createElement(Ce,We({},i,{classes:[].concat(t,"react-calendar__decade-view__years__year"),maxDateTransform:c.getYearEnd,minDateTransform:c.getYearStart,view:"decade"}),r(s,a))}function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qe(){return(Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Je(e){var t=function(e){var t=Object(c.getDecadeStart)(e);return Object(c.getYear)(t)}(e.activeStartDate),n=t+9;return o.a.createElement(ge,Qe({},e,{className:"react-calendar__decade-view__years",dateTransform:function(e){var t=new Date;return t.setFullYear(e,0,1),t.setHours(0,0,0,0),t},dateType:"year",end:n,start:t,tile:Ge}))}function $e(e){return o.a.createElement("div",{className:"react-calendar__decade-view"},o.a.createElement(Je,e))}function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){tt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nt(){return(nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function rt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}Ge.propTypes=Be(Be({},X),{},{formatYear:s.a.func}),Je.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){Xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},K);function it(e){var t=e.classes,n=e.formatMonth,r=void 0===n?b:n,i=e.formatMonthYear,a=void 0===i?_:i,s=rt(e,["classes","formatMonth","formatMonthYear"]),u=s.date,l=s.locale;return o.a.createElement(Ce,nt({},s,{classes:[].concat(t,"react-calendar__year-view__months__month"),formatAbbr:a,maxDateTransform:c.getMonthEnd,minDateTransform:c.getMonthStart,view:"year"}),r(l,u))}function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){st(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function st(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ut(){return(ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function lt(e){var t=e.activeStartDate,n=Object(c.getYear)(t);return o.a.createElement(ge,ut({},e,{className:"react-calendar__year-view__months",dateTransform:function(e){var t=new Date;return t.setFullYear(n,e,1),t.setHours(0,0,0,0),t},dateType:"month",end:11,start:0,tile:it}))}function ct(e){return o.a.createElement("div",{className:"react-calendar__year-view"},o.a.createElement(lt,e))}function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){dt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pt(){return(pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function vt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}it.propTypes=et(et({},X),{},{formatMonth:s.a.func,formatMonthYear:s.a.func}),lt.propTypes=at(at({},K),{},{locale:s.a.string});var yt="react-calendar__month-view__days__day";function gt(e){var t=e.formatLongDate,n=void 0===t?m:t,r=e.calendarType,i=e.classes,a=e.currentMonthIndex,s=vt(e,["formatLongDate","calendarType","classes","currentMonthIndex"]),u=s.date;return o.a.createElement(Ce,pt({},s,{classes:[].concat(i,yt,j(u,r)?"".concat(yt,"--weekend"):null,u.getMonth()!==a?"".concat(yt,"--neighboringMonth"):null),formatAbbr:n,maxDateTransform:c.getDayEnd,minDateTransform:c.getDayStart,view:"month"}),Object(c.getDate)(u))}function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _t(){return(_t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function wt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xt(e){var t=e.activeStartDate,n=e.calendarType,r=e.showFixedNumberOfWeeks,i=e.showNeighboringMonth,a=wt(e,["showFixedNumberOfWeeks","showNeighboringMonth"]),s=Object(c.getYear)(t),u=Object(c.getMonth)(t),l=r||i,f=A(t,n),h=l?0:f,d=1+(l?-f:0),p=function(){if(r)return d+42-1;var e=Object(c.getDaysInMonth)(t);if(i){var o=new Date;return o.setFullYear(s,u,e),o.setHours(0,0,0,0),e+(7-A(o,n)-1)}return e}();return o.a.createElement(ge,_t({},a,{className:"react-calendar__month-view__days",count:7,currentMonthIndex:u,dateTransform:function(e){var t=new Date;return t.setFullYear(s,u,e),t.setHours(0,0,0,0),t},dateType:"day",end:p,offset:h,start:d,tile:gt}))}gt.propTypes=ht(ht({},X),{},{currentMonthIndex:s.a.number.isRequired,formatLongDate:s.a.func}),xt.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){bt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({calendarType:U.isRequired,showFixedNumberOfWeeks:s.a.bool,showNeighboringMonth:s.a.bool},K);var Tt="react-calendar__month-view__weekdays";function kt(e){for(var t=e.calendarType,n=e.formatShortWeekday,r=void 0===n?x:n,i=e.locale,a=e.onMouseLeave,s=new Date,u=Object(c.getMonthStart)(s),l=Object(c.getYear)(u),f=Object(c.getMonth)(u),h=[],d=1;d<=7;d+=1){var p=new Date(l,f,d-A(u,t)),v=T(i,p);h.push(o.a.createElement("div",{key:d,className:"".concat(Tt,"__weekday")},o.a.createElement("abbr",{"aria-label":v,title:v},r(i,p).replace(".",""))))}return o.a.createElement(ie,{className:Tt,count:7,onFocus:a,onMouseOver:a},h)}function Ot(){return(Ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function St(e){var t=e.date,n=e.onClickWeekNumber,r=e.weekNumber,i={className:"react-calendar__tile",style:{flexGrow:1}},a=o.a.createElement("span",null,r);return n?o.a.createElement("button",Ot({},i,{onClick:function(e){return n(r,t,e)},type:"button"}),a):o.a.createElement("div",i,a)}function At(e){var t=e.activeStartDate,n=e.calendarType,r=e.onClickWeekNumber,i=e.onMouseLeave,a=e.showFixedNumberOfWeeks,s=function(){if(a)return 6;var e=Object(c.getDaysInMonth)(t)-(7-A(t,n));return 1+Math.ceil(e/7)}(),u=function(){for(var e=Object(c.getYear)(t),r=Object(c.getMonth)(t),i=Object(c.getDate)(t),o=[],a=0;a<s;a+=1)o.push(E(new Date(e,r,i+7*a),n));return o}(),l=u.map((function(e){return function(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.ISO_8601)===p.US?p.US:p.ISO_8601,r=E(e,n),i=Object(c.getYear)(e)+1;do{t=E(new Date(i,0,n===p.ISO_8601?4:1),n),i-=1}while(e-t<0);return Math.round((r-t)/6048e5)+1}(e,n)}));return o.a.createElement(ie,{className:"react-calendar__month-view__weekNumbers",count:s,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0}},l.map((function(e,t){return o.a.createElement(St,{key:e,date:u[t],onClickWeekNumber:r,weekNumber:e})})))}function Et(){return(Et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Mt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ct(e){var t=e.activeStartDate,n=e.locale,r=e.onMouseLeave,i=e.showFixedNumberOfWeeks,a=e.calendarType,s=void 0===a?function(e){return Object.keys(v).find((function(t){return v[t].includes(e)}))||p.ISO_8601}(n):a,u=e.formatShortWeekday,l=e.onClickWeekNumber,c=e.showWeekNumbers,f=Mt(e,["calendarType","formatShortWeekday","onClickWeekNumber","showWeekNumbers"]);var h="react-calendar__month-view";return o.a.createElement("div",{className:[h,c?"".concat(h,"--weekNumbers"):""].join(" ")},o.a.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},c?o.a.createElement(At,{activeStartDate:t,calendarType:s,onClickWeekNumber:l,onMouseLeave:r,showFixedNumberOfWeeks:i}):null,o.a.createElement("div",{style:{flexGrow:1,width:"100%"}},o.a.createElement(kt,{calendarType:s,formatShortWeekday:u,locale:n,onMouseLeave:r}),o.a.createElement(xt,Et({calendarType:s},f)))))}function It(){return(It=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Dt(e){return(Dt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lt(e,t){return(Lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zt(e);if(t){var i=zt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Rt(this,n)}}function Rt(e,t){return!t||"object"!==Dt(t)&&"function"!==typeof t?Ft(e):t}function Ft(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zt(e){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(n),!0).forEach((function(t){Vt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}kt.propTypes={calendarType:U.isRequired,formatShortWeekday:s.a.func,locale:s.a.string,onMouseLeave:s.a.func},St.propTypes={date:s.a.instanceOf(Date).isRequired,onClickWeekNumber:s.a.func,weekNumber:s.a.node.isRequired},At.propTypes={activeStartDate:s.a.instanceOf(Date).isRequired,calendarType:U.isRequired,onClickWeekNumber:s.a.func,onMouseLeave:s.a.func,showFixedNumberOfWeeks:s.a.bool},Ct.propTypes={activeStartDate:s.a.instanceOf(Date).isRequired,calendarType:U,formatShortWeekday:s.a.func,locale:s.a.string,onClickWeekNumber:s.a.func,onMouseLeave:s.a.func,showFixedNumberOfWeeks:s.a.bool,showWeekNumbers:s.a.bool};var Wt=new Date;Wt.setFullYear(1,0,1),Wt.setHours(0,0,0,0);var Yt=new Date(864e13),Gt="react-calendar",Kt=["century","decade","year","month"],Xt=[].concat(function(e){return function(e){if(Array.isArray(e))return Ht(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ht(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Kt.slice(1)),["day"]);function Qt(e,t){return Kt.slice(Kt.indexOf(e),Kt.indexOf(t)+1)}function Jt(e,t,n){return function(e,t,n){return-1!==Qt(t,n).indexOf(e)}(e,t,n)?e:n}function $t(e){return Xt[Kt.indexOf(e)]}function Zt(e,t){if(!e)return null;var n=Array.isArray(e)&&2===e.length?e[t]:e;if(!n)return null;var r=function(e){return e instanceof Date?e:new Date(e)}(n);if(isNaN(r.getTime()))throw new Error("Invalid date: ".concat(e));return r}function en(e,t){var n=e.value,r=e.minDate,i=e.maxDate,o=e.maxDetail,a=Zt(n,t);if(!a)return null;var s=$t(o);return function(e,t,n){return t&&t>e?t:n&&n<e?n:e}([M,I][t](s,a),r,i)}var tn=function(e){return en(e,0)},nn=function(e){return en(e,1)},rn=function(e){var t=e.value;return Array.isArray(t)?t:[tn,nn].map((function(t){return t(e)}))};function on(e){var t=e.maxDate,n=e.maxDetail,r=e.minDate,i=e.minDetail,o=e.value;return M(Jt(e.view,i,n),tn({value:o,minDate:r,maxDate:t,maxDetail:n})||new Date)}var an=function(e){return e&&1===[].concat(e).length},sn=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lt(e,t)}(a,e);var t,n,r,i=jt(a);function a(){var e;Pt(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Vt(Ft(e=i.call.apply(i,[this].concat(n))),"state",{activeStartDate:e.props.defaultActiveStartDate,value:e.props.defaultValue,view:e.props.defaultView}),Vt(Ft(e),"setStateAndCallCallbacks",(function(t,n,r){var i=Ft(e),o=i.activeStartDate,a=i.view,s=e.props,u=s.allowPartialRange,l=s.onActiveStartDateChange,c=s.onChange,f=s.onViewChange,h=s.selectRange,d={activeStartDate:o,view:a};e.setState(t,(function(){var i={activeStartDate:t.activeStartDate||e.activeStartDate,value:t.value||e.value,view:t.view||e.view};function o(e){return e in t&&(Dt(t[e])!==Dt(d[e])||(t[e]instanceof Date?t[e].getTime()!==d[e].getTime():t[e]!==d[e]))}(o("activeStartDate")&&l&&l(i),o("view")&&f&&f(i),o("value"))&&(c&&(h&&an(t.value)?u&&c([t.value],n):c(t.value,n)));r&&r(i)}))})),Vt(Ft(e),"setActiveStartDate",(function(t){e.setStateAndCallCallbacks({activeStartDate:t})})),Vt(Ft(e),"drillDown",(function(t,n){if(e.drillDownAvailable){e.onClickTile(t,n);var r=Ft(e),i=r.view,o=r.views,a=e.props.onDrillDown,s=o[o.indexOf(i)+1];e.setStateAndCallCallbacks({activeStartDate:t,view:s},void 0,a)}})),Vt(Ft(e),"drillUp",(function(){if(e.drillUpAvailable){var t=Ft(e),n=t.activeStartDate,r=t.view,i=t.views,o=e.props.onDrillUp,a=i[i.indexOf(r)-1],s=M(a,n);e.setStateAndCallCallbacks({activeStartDate:s,view:a},void 0,o)}})),Vt(Ft(e),"onChange",(function(t,n){var r,i=e.props.selectRange;if(e.onClickTile(t,n),i){var o=Ft(e),a=o.value,s=o.valueType;r=an(a)?P(s,a,t):M(s,t)}else r=e.getProcessedValue(t);var u=on(qt(qt({},e.props),{},{value:r}));n.persist(),e.setStateAndCallCallbacks({activeStartDate:u,value:r},n)})),Vt(Ft(e),"onClickTile",(function(t,n){var r=Ft(e).view,i=e.props,o=i.onClickDay,a=i.onClickDecade,s=i.onClickMonth,u=i.onClickYear,l=function(){switch(r){case"century":return a;case"decade":return u;case"year":return s;case"month":return o;default:throw new Error("Invalid view: ".concat(r,"."))}}();l&&l(t,n)})),Vt(Ft(e),"onMouseOver",(function(t){e.setState((function(e){return e.hover&&e.hover.getTime()===t.getTime()?null:{hover:t}}))})),Vt(Ft(e),"onMouseLeave",(function(){e.setState({hover:null})})),e}return t=a,(n=[{key:"getProcessedValue",value:function(e){var t=this.props,n=t.minDate,r=t.maxDate,i=t.maxDetail,o=t.returnValue;return function(){switch(o){case"start":return tn;case"end":return nn;case"range":return rn;default:throw new Error("Invalid returnValue.")}}()({value:e,minDate:n,maxDate:r,maxDetail:i})}},{key:"renderContent",value:function(e){var t=this.activeStartDate,n=this.onMouseOver,r=this.valueType,i=this.value,a=this.view,s=this.props,u=s.calendarType,l=s.locale,c=s.maxDate,f=s.minDate,h=s.selectRange,d=s.tileClassName,p=s.tileContent,v=s.tileDisabled,y=this.hover,g={activeStartDate:e?C(a,t):M(a,t),hover:y,locale:l,maxDate:c,minDate:f,onClick:this.drillDownAvailable?this.drillDown:this.onChange,onMouseOver:h?n:null,tileClassName:d,tileContent:p,tileDisabled:v,value:i,valueType:r};switch(a){case"century":var m=this.props.formatYear;return o.a.createElement(qe,It({formatYear:m},g));case"decade":var b=this.props.formatYear;return o.a.createElement($e,It({formatYear:b},g));case"year":var _=this.props,w=_.formatMonth,x=_.formatMonthYear;return o.a.createElement(ct,It({formatMonth:w,formatMonthYear:x},g));case"month":var T=this.props,k=T.formatLongDate,O=T.formatShortWeekday,S=T.onClickWeekNumber,A=T.showDoubleView,E=T.showFixedNumberOfWeeks,I=T.showNeighboringMonth,D=T.showWeekNumbers,P=this.onMouseLeave;return o.a.createElement(Ct,It({calendarType:u,formatLongDate:k,formatShortWeekday:O,onClickWeekNumber:S,onMouseLeave:h?P:null,showFixedNumberOfWeeks:E||A,showNeighboringMonth:I,showWeekNumbers:D},g));default:throw new Error("Invalid view: ".concat(a,"."))}}},{key:"renderNavigation",value:function(){if(!this.props.showNavigation)return null;var e=this.activeStartDate,t=this.view,n=this.views,r=this.props,i=r.formatMonthYear,a=r.formatYear,s=r.locale,u=r.maxDate,l=r.minDate,c=r.navigationAriaLabel,f=r.navigationLabel,h=r.next2AriaLabel,d=r.next2Label,p=r.nextAriaLabel,v=r.nextLabel,y=r.prev2AriaLabel,g=r.prev2Label,m=r.prevAriaLabel,b=r.prevLabel,_=r.showDoubleView;return o.a.createElement(J,{activeStartDate:e,drillUp:this.drillUp,formatMonthYear:i,formatYear:a,locale:s,maxDate:u,minDate:l,navigationAriaLabel:c,navigationLabel:f,next2AriaLabel:h,next2Label:d,nextAriaLabel:p,nextLabel:v,prev2AriaLabel:y,prev2Label:g,prevAriaLabel:m,prevLabel:b,setActiveStartDate:this.setActiveStartDate,showDoubleView:_,view:t,views:n})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.inputRef,r=e.selectRange,i=e.showDoubleView,a=this.onMouseLeave,s=this.value,l=[].concat(s);return o.a.createElement("div",{className:Object(u.default)(Gt,r&&1===l.length&&"".concat(Gt,"--selectRange"),i&&"".concat(Gt,"--doubleView"),t),ref:n},this.renderNavigation(),o.a.createElement("div",{className:"".concat(Gt,"__viewContainer"),onBlur:r?a:null,onMouseLeave:r?a:null},this.renderContent(),i&&this.renderContent(!0)))}},{key:"activeStartDate",get:function(){var e=this.props.activeStartDate,t=this.state.activeStartDate;return e||t||function(e){var t=e.activeStartDate,n=e.defaultActiveStartDate,r=e.defaultValue,i=e.defaultView,o=e.maxDetail,a=e.minDetail,s=e.value,u=e.view,l=Bt(e,["activeStartDate","defaultActiveStartDate","defaultValue","defaultView","maxDetail","minDetail","value","view"]),c=Jt(u,a,o),f=t||n;return f?M(c,f):on(qt({maxDetail:o,minDetail:a,value:s||r,view:u||i},l))}(this.props)}},{key:"value",get:function(){var e=this.props,t=e.selectRange,n=e.value,r=this.state.value;return t&&an(r)?r:void 0!==n?n:r}},{key:"valueType",get:function(){return $t(this.props.maxDetail)}},{key:"view",get:function(){var e=this.props,t=e.minDetail,n=e.maxDetail,r=e.view,i=this.state.view;return Jt(r||i,t,n)}},{key:"views",get:function(){var e=this.props;return Qt(e.minDetail,e.maxDetail)}},{key:"hover",get:function(){var e=this.props.selectRange,t=this.state.hover;return e?t:null}},{key:"drillDownAvailable",get:function(){var e=this.view,t=this.views;return t.indexOf(e)<t.length-1}},{key:"drillUpAvailable",get:function(){var e=this.view;return this.views.indexOf(e)>0}}])&&Nt(t.prototype,n),r&&Nt(t,r),a}(i.Component);sn.defaultProps={maxDate:Yt,maxDetail:"month",minDate:Wt,minDetail:"century",returnValue:"start",showNavigation:!0,showNeighboringMonth:!0};var un=s.a.instanceOf(Date),ln=s.a.oneOfType([s.a.string,W]);sn.propTypes={activeStartDate:un,allowPartialRange:s.a.bool,calendarType:U,className:q,defaultActiveStartDate:un,defaultValue:ln,defaultView:G,formatLongDate:s.a.func,formatMonth:s.a.func,formatMonthYear:s.a.func,formatShortWeekday:s.a.func,formatYear:s.a.func,inputRef:H,locale:s.a.string,maxDate:B,maxDetail:s.a.oneOf(Kt),minDate:V,minDetail:s.a.oneOf(Kt),navigationAriaLabel:s.a.string,navigationLabel:s.a.func,next2AriaLabel:s.a.string,next2Label:s.a.node,nextAriaLabel:s.a.string,nextLabel:s.a.node,onActiveStartDateChange:s.a.func,onChange:s.a.func,onClickDay:s.a.func,onClickDecade:s.a.func,onClickMonth:s.a.func,onClickWeekNumber:s.a.func,onClickYear:s.a.func,onDrillDown:s.a.func,onDrillUp:s.a.func,onViewChange:s.a.func,prev2AriaLabel:s.a.string,prev2Label:s.a.node,prevAriaLabel:s.a.string,prevLabel:s.a.node,returnValue:s.a.oneOf(["start","end","range"]),selectRange:s.a.bool,showDoubleView:s.a.bool,showFixedNumberOfWeeks:s.a.bool,showNavigation:s.a.bool,showNeighboringMonth:s.a.bool,showWeekNumbers:s.a.bool,tileClassName:s.a.oneOfType([s.a.func,q]),tileContent:s.a.oneOfType([s.a.func,s.a.node]),tileDisabled:s.a.func,value:ln,view:G};t.default=sn},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return I}));var r=n(1),i=n.n(r),o=n(47),a=n(6),s=n.n(a),u=function(e){return e.getBoundingClientRect()},l=function(e,t){return{get collidedTop(){return u(e).top<u(t).top},get collidedBottom(){return u(e).bottom>u(t).bottom},get collidedLeft(){return u(e).left<u(t).left},get collidedRight(){return u(e).right>u(t).right},get overflowTop(){return u(t).top-u(e).top},get overflowBottom(){return u(e).bottom-u(t).bottom},get overflowLeft(){return u(t).left-u(e).left},get overflowRight(){return u(e).right-u(t).right}}},c=function(e){},f=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.apply(void 0,["warn"].concat(t))};function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==T(t)&&"function"!==typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){return(T="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var k="undefined"!==typeof window,O=k&&"CSS"in window&&"supports"in window.CSS&&CSS.supports("display","contents"),S=k&&"MutationObserver"in window;function A(e){return e[0].toUpperCase()+e.slice(1)}function E(e){if(e){for(var t=e.parentElement;t;){if(window.getComputedStyle(t).overflow.split(" ").every((function(e){return"auto"===e||"scroll"===e})))return t;t=t.parentElement}return document.documentElement}}function M(e){var t=e.axis,n=e.container,r=e.element,i=e.invertAxis,o=e.secondary,a=e.scrollContainer,s=e.spacing,u=window.getComputedStyle(r),c=n.parentElement,h=l(c,a),d=l(c,document.documentElement),p="x"===t,v=p?"left":"top",y=p?"right":"bottom",g=p?"width":"height",m="overflow".concat(A(v)),b="overflow".concat(A(y)),_="scroll".concat(A(v)),w=A(g),x="offset".concat(w),k="client".concat(w),O="min-".concat(g),S=a[x]-a[k],E="object"===T(s)?s[v]:s,M=-Math.max(h[m],d[m]+document.documentElement[_])-E,C="object"===T(s)?s[y]:s,I=-Math.max(h[b],d[b]-document.documentElement[_])-C-S;o&&(M+=c[k],I+=c[k]);var D=r[x];function P(){r.style[v]="unset",r.style[y]=o?"0":"100%"}function N(){r.style[v]=o?"0":"100%",r.style[y]="unset"}function L(e,t){var n=D<=e;return n&&t(),n}function j(){return L(M,P)}function R(){return L(I,N)}(i?j()||R():R()||j())||function(){var e=M>I,t=u[O]&&parseInt(u[O],10);function n(e){t&&e<t&&f("<Fit />'s child will not fit anywhere with its current ".concat(O," of ").concat(t,"px."));var n=Math.max(e,t||0);f("<Fit />'s child needed to have its ".concat(g," decreased to ").concat(n,"px.")),r.style[g]="".concat(n,"px")}e?(n(M),P()):(n(I),N())}()}function C(e){var t=e.invertAxis,n=e.invertSecondaryAxis,r=b(e,["invertAxis","invertSecondaryAxis"]);!function(e){M(e)}(w(w({},r),{},{invertAxis:t})),function(e){M(w(w({},e),{},{axis:"x"===e.axis?"y":"x",secondary:!0}))}(w(w({},r),{},{invertAxis:n}))}var I=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(s,e);var t,n,r,a=v(s);function s(){var e;h(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return x(g(e=a.call.apply(a,[this].concat(n))),"onMutation",(function(){e.fit()})),x(g(e),"mutationObserver",S&&new MutationObserver(e.onMutation)),x(g(e),"fit",(function(){var t=g(e),n=t.scrollContainer,r=t.container,i=t.element;if(i){var o=i.clientWidth,a=i.clientHeight;if(e.elementWidth!==o||e.elementHeight!==a){e.elementWidth=o,e.elementHeight=a;var s=r.parentElement;if(s){"absolute"!==window.getComputedStyle(i).position&&(f("<Fit />'s child does not have absolute position. You should apply `position: absolute` to it."),i.style.position="absolute");var u=window.getComputedStyle(s).position;"relative"!==u&&"absolute"!==u&&(f("<Fit />'s parent does not have relative position. You should apply `position: relative` to it."),s.style.position="relative");var l=e.props;C({container:r,element:i,invertAxis:l.invertAxis,invertSecondaryAxis:l.invertSecondaryAxis,axis:l.mainAxis,scrollContainer:n,spacing:l.spacing})}}}})),e}return t=s,(n=[{key:"componentDidMount",value:function(){if(!O){var e=Object(o.findDOMNode)(this);this.container=e,this.element=e,this.scrollContainer=E(e)}this.fit(),S&&this.mutationObserver.observe(this.element,{attributes:!0,attributeFilter:["class","style"]})}},{key:"render",value:function(){var e=this,t=this.props.children,n=i.a.Children.only(t);return O?i.a.createElement("span",{ref:function(t){e.container=t;var n=t&&t.firstChild;e.element=n,e.scrollContainer=E(n)},style:{display:"contents"}},n):n}}])&&d(t.prototype,n),r&&d(t,r),s}(r.Component);I.propTypes={children:s.a.node,invertAxis:s.a.bool,invertSecondaryAxis:s.a.bool,mainAxis:s.a.oneOf(["x","y"]),spacing:s.a.oneOfType([s.a.number,s.a.shape({bottom:s.a.number.isRequired,left:s.a.number.isRequired,right:s.a.number.isRequired,top:s.a.number.isRequired})])},I.defaultProps={mainAxis:"y",spacing:8}},function(e,t,n){"use strict";n.d(t,"animated",(function(){return E}));var r=n(18),i=n(8),o=n(15),a=n(19),s=n(20),u=n(28),l=n(36),c=n(47),f=n(60),h=n(86),d=n(23),p=n(7),v=n(22),y=/^--/;function g(e,t){return null==t||"boolean"===typeof t||""===t?"":"number"!==typeof t||0===t||y.test(e)||b.hasOwnProperty(e)&&b[e]?(""+t).trim():t+"px"}var m={};var b={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_=["Webkit","Ms","Moz","O"];b=Object.keys(b).reduce((function(e,t){return _.forEach((function(n){return e[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(n,t)]=e[t]})),e}),b);var w=/^(matrix|translate|scale|rotate|skew)/,x=/^(translate)/,T=/^(rotate|skew)/,k=function(e,t){return p.d.num(e)&&0!==e?e+t:e},O=function e(t,n){return p.d.arr(t)?t.every((function(t){return e(t,n)})):p.d.num(t)?t===n:parseFloat(t)===n},S=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(e){Object(o.a)(this,n);var r=e.x,a=e.y,s=e.z,l=Object(u.a)(e,["x","y","z"]),c=[],f=[];return(r||a||s)&&(c.push([r||0,a||0,s||0]),f.push((function(e){return["translate3d("+e.map((function(e){return k(e,"px")})).join(",")+")",O(e,0)]}))),Object(p.b)(l,(function(e,t){if("transform"===t)c.push([e||""]),f.push((function(e){return[e,""===e]}));else if(w.test(t)){if(delete l[t],p.d.und(e))return;var n=x.test(t)?"px":T.test(t)?"deg":"";c.push(Object(p.h)(e)),f.push("rotate3d"===t?function(e){var t=Object(i.a)(e,4),r=t[0],o=t[1],a=t[2],s=t[3];return["rotate3d("+r+","+o+","+a+","+k(s,n)+")",O(s,0)]}:function(e){return[t+"("+e.map((function(e){return k(e,n)})).join(",")+")",O(e,t.startsWith("scale")?1:0)]})}})),c.length&&(l.transform=new A(c,f)),t.call(this,l)}return n}(d.b),A=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(e,r){var i;return Object(o.a)(this,n),(i=t.call(this)).inputs=e,i.transforms=r,i._value=null,i._children=new Set,i}return Object(r.a)(n,[{key:"get",value:function(){return this._value||(this._value=this._get())}},{key:"_get",value:function(){var e=this,t="",n=!0;return Object(p.b)(this.inputs,(function(r,o){var a=Object(v.c)(r[0]),s=e.transforms[o](p.d.arr(a)?a:r.map(v.c)),u=Object(i.a)(s,2),l=u[0],c=u[1];t+=" "+l,n=n&&c})),n?"none":t}},{key:"addChild",value:function(e){var t=this;this._children.size||Object(p.b)(this.inputs,(function(e){return Object(p.b)(e,(function(e){var n=Object(v.b)(e);n&&n.addChild(t)}))})),this._children.add(e)}},{key:"removeChild",value:function(e){var t=this;this._children.delete(e),this._children.size||Object(p.b)(this.inputs,(function(e){return Object(p.b)(e,(function(e){var n=Object(v.b)(e);n&&n.removeChild(t)}))}))}},{key:"onParentChange",value:function(e){"change"==e.type&&(this._value=null),Object(p.b)(this._children,(function(t){t.onParentChange(e)}))}}]),n}(v.a);l.Globals.assign({colorNames:h.a,createStringInterpolator:f.a,batchedUpdates:c.unstable_batchedUpdates});var E=Object(d.e)(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;var n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,r=t,i=r.style,o=r.children,a=r.scrollTop,s=r.scrollLeft,c=Object(u.a)(r,["style","children","scrollTop","scrollLeft"]),f=Object.values(c),h=Object.keys(c).map((function(t){return n||e.hasAttribute(t)?t:m[t]||(m[t]=t.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()})))}));l.Globals.frameLoop.onWrite((function(){for(var t in void 0!==o&&(e.textContent=o),i)if(i.hasOwnProperty(t)){var n=g(t,i[t]);"float"===t?t="cssFloat":y.test(t)?e.style.setProperty(t,n):e.style[t]=n}h.forEach((function(t,n){e.setAttribute(t,f[n])})),void 0!==a&&(e.scrollTop=a),void 0!==s&&(e.scrollLeft=s)}))},createAnimatedStyle:function(e){return new S(e)},getComponentProps:function(e){return Object(u.a)(e,["scrollTop","scrollLeft"])}}).animated}]]);
//# sourceMappingURL=2.adb64179.chunk.js.map