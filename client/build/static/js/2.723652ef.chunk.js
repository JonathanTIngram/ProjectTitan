/*! For license information please see 2.723652ef.chunk.js.LICENSE.txt */
(this["webpackJsonpproject-titan"]=this["webpackJsonpproject-titan"]||[]).push([[2],[function(e,t,n){"use strict";e.exports=n(85)},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return a})),n.d(t,"__rest",(function(){return o})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return u})),n.d(t,"__metadata",(function(){return l})),n.d(t,"__awaiter",(function(){return c})),n.d(t,"__generator",(function(){return f})),n.d(t,"__createBinding",(function(){return h})),n.d(t,"__exportStar",(function(){return d})),n.d(t,"__values",(function(){return p})),n.d(t,"__read",(function(){return v})),n.d(t,"__spread",(function(){return g})),n.d(t,"__spreadArrays",(function(){return y})),n.d(t,"__spreadArray",(function(){return m})),n.d(t,"__await",(function(){return b})),n.d(t,"__asyncGenerator",(function(){return _})),n.d(t,"__asyncDelegator",(function(){return w})),n.d(t,"__asyncValues",(function(){return x})),n.d(t,"__makeTemplateObject",(function(){return T})),n.d(t,"__importStar",(function(){return O})),n.d(t,"__importDefault",(function(){return S})),n.d(t,"__classPrivateFieldGet",(function(){return A})),n.d(t,"__classPrivateFieldSet",(function(){return E}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function u(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}var h=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function d(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||h(t,e,n)}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}function m(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||t)}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function _(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),a=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){a.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof b?Promise.resolve(n.value.v).then(u,l):c(a[0][2],n)}catch(r){c(a[0][3],r)}var n}function u(e){s("next",e)}function l(e){s("throw",e)}function c(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function x(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function T(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var k=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&h(t,e,n);return k(t,e),t}function S(e){return e&&e.__esModule?e:{default:e}}function A(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function E(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}},function(e,t,n){"use strict";e.exports=n(81)},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"CONSTANTS",(function(){return i})),n.d(t,"Deferred",(function(){return d})),n.d(t,"ErrorFactory",(function(){return I})),n.d(t,"FirebaseError",(function(){return M})),n.d(t,"MAX_VALUE_MILLIS",(function(){return oe})),n.d(t,"RANDOM_FACTOR",(function(){return se})),n.d(t,"Sha1",(function(){return K})),n.d(t,"areCookiesEnabled",(function(){return E})),n.d(t,"assert",(function(){return a})),n.d(t,"assertionError",(function(){return o})),n.d(t,"async",(function(){return Q})),n.d(t,"base64",(function(){return u})),n.d(t,"base64Decode",(function(){return c})),n.d(t,"base64Encode",(function(){return l})),n.d(t,"calculateBackoffMillis",(function(){return ue})),n.d(t,"contains",(function(){return q})),n.d(t,"createMockUserToken",(function(){return p})),n.d(t,"createSubscribe",(function(){return X})),n.d(t,"decode",(function(){return L})),n.d(t,"deepCopy",(function(){return f})),n.d(t,"deepExtend",(function(){return h})),n.d(t,"errorPrefix",(function(){return ee})),n.d(t,"extractQuerystring",(function(){return G})),n.d(t,"getGlobal",(function(){return C})),n.d(t,"getModularInstance",(function(){return ce})),n.d(t,"getUA",(function(){return v})),n.d(t,"isAdmin",(function(){return U})),n.d(t,"isBrowser",(function(){return m})),n.d(t,"isBrowserExtension",(function(){return b})),n.d(t,"isElectron",(function(){return w})),n.d(t,"isEmpty",(function(){return V})),n.d(t,"isIE",(function(){return x})),n.d(t,"isIndexedDBAvailable",(function(){return S})),n.d(t,"isMobileCordova",(function(){return g})),n.d(t,"isNode",(function(){return y})),n.d(t,"isNodeSdk",(function(){return k})),n.d(t,"isReactNative",(function(){return _})),n.d(t,"isSafari",(function(){return O})),n.d(t,"isUWP",(function(){return T})),n.d(t,"isValidFormat",(function(){return z})),n.d(t,"isValidTimestamp",(function(){return R})),n.d(t,"issuedAtTime",(function(){return F})),n.d(t,"jsonEval",(function(){return N})),n.d(t,"map",(function(){return H})),n.d(t,"ordinal",(function(){return le})),n.d(t,"querystring",(function(){return W})),n.d(t,"querystringDecode",(function(){return Y})),n.d(t,"safeGet",(function(){return B})),n.d(t,"stringLength",(function(){return ae})),n.d(t,"stringToByteArray",(function(){return ie})),n.d(t,"stringify",(function(){return j})),n.d(t,"validateArgCount",(function(){return Z})),n.d(t,"validateCallback",(function(){return ne})),n.d(t,"validateContextObject",(function(){return re})),n.d(t,"validateIndexedDBOpenable",(function(){return A})),n.d(t,"validateNamespace",(function(){return te}));var r=n(1),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},a=function(e,t){if(!e)throw o(t)},o=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|l>>6,d=63&l;u||(d=64,o||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(a=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{a=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var l=a<<2|o>>4;if(r.push(l),64!==s){var c=o<<4&240|s>>2;if(r.push(c),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},l=function(e){var t=s(e);return u.encodeByteArray(t,!0)},c=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function f(e){return h(void 0,e)}function h(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=h(e[n],t[n]));return e}var d=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function p(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Object(r.__assign)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[u.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),u.encodeString(JSON.stringify(o),!1),""].join(".")}function v(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function g(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())}function y(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}}function m(){return"object"===typeof self&&self.self===self}function b(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function _(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function w(){return v().indexOf("Electron/")>=0}function x(){var e=v();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function T(){return v().indexOf("MSAppHost/")>=0}function k(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}function O(){return!y()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S(){return"indexedDB"in self&&null!=indexedDB}function A(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}}))}function E(){return!(!navigator||!navigator.cookieEnabled)}function C(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof e)return e;throw new Error("Unable to locate global object.")}var M=function(e){function t(n,r,i){var a=e.call(this,r)||this;return a.code=n,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(a,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(a,I.prototype.create),a}return Object(r.__extends)(t,e),t}(Error),I=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,a=this.errors[e],o=a?D(a,r):"Error",s=this.serviceName+": "+o+" ("+i+").",u=new M(i,s,r);return u},e}();function D(e,t){return e.replace(P,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var P=/\{\$([^}]+)}/g;function N(e){return JSON.parse(e)}function j(e){return JSON.stringify(e)}var L=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=N(c(a[0])||""),n=N(c(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}},R=function(e){var t=L(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"===typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},F=function(e){var t=L(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},z=function(e){var t=L(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},U=function(e){var t=L(e).claims;return"object"===typeof t&&!0===t.admin};function q(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function B(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function V(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function H(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function W(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var a=i[r];n(a[0],a[1])}return t.length?"&"+t.join("&"):""}function Y(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function G(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var K=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var a,o,s=this.chain_[0],u=this.chain_[1],l=this.chain_[2],c=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(a=c^u&(l^c),o=1518500249):(a=u^l^c,o=1859775393):r<60?(a=u&l|c&(u|l),o=2400959708):(a=u^l^c,o=3395469782);i=(s<<5|s>>>27)+a+f+o+n[r]&4294967295;f=c,c=l,l=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function X(e,t){var n=new $(e,t);return n.subscribe.bind(n)}var $=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=J),void 0===r.error&&(r.error=J),void 0===r.complete&&(r.complete=J);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function Q(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}}function J(){}var Z=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function ee(e,t){return e+" failed: "+t+" argument "}function te(e,t,n){if((!n||t)&&"string"!==typeof t)throw new Error(ee(e,"namespace")+"must be a valid firebase namespace.")}function ne(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(ee(e,t)+"must be a valid function.")}function re(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(ee(e,t)+"must be a valid context object.")}var ie=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,a(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ae=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},oe=144e5,se=.5;function ue(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),i=Math.round(se*r*(Math.random()-.5)*2);return Math.min(oe,r+i)}function le(e){return Number.isFinite(e)?e+function(e){var t=(e=Math.abs(e))%100;if(t>=10&&t<=20)return"th";var n=e%10;if(1===n)return"st";if(2===n)return"nd";if(3===n)return"rd";return"th"}(e):""+e}function ce(e){return e&&e._delegate?e._delegate:e}}.call(this,n(45))},function(e,t,n){"use strict";n.d(t,"w",(function(){return s})),n.d(t,"a",(function(){return xe})),n.d(t,"b",(function(){return z})),n.d(t,"c",(function(){return ke})),n.d(t,"d",(function(){return we})),n.d(t,"e",(function(){return X})),n.d(t,"f",(function(){return pe})),n.d(t,"g",(function(){return De})),n.d(t,"h",(function(){return S})),n.d(t,"i",(function(){return Fe})),n.d(t,"j",(function(){return Le})),n.d(t,"k",(function(){return C})),n.d(t,"l",(function(){return M})),n.d(t,"m",(function(){return D})),n.d(t,"n",(function(){return j})),n.d(t,"o",(function(){return H})),n.d(t,"p",(function(){return _e})),n.d(t,"q",(function(){return be})),n.d(t,"r",(function(){return me})),n.d(t,"s",(function(){return A})),n.d(t,"t",(function(){return ze})),n.d(t,"u",(function(){return E})),n.d(t,"v",(function(){return O})),n.d(t,"x",(function(){return Oe})),n.d(t,"y",(function(){return I})),n.d(t,"z",(function(){return Be})),n.d(t,"A",(function(){return Ye})),n.d(t,"B",(function(){return He})),n.d(t,"C",(function(){return Ue})),n.d(t,"D",(function(){return We}));var r=n(8),i=n(12),a=n(28),o=w(),s=function(e){return y(e,o)},u=w();s.write=function(e){return y(e,u)};var l=w();s.onStart=function(e){return y(e,l)};var c=w();s.onFrame=function(e){return y(e,c)};var f=w();s.onFinish=function(e){return y(e,f)};var h=[];s.setTimeout=function(e,t){var n=s.now()+t,r={time:n,handler:e,cancel:function e(){var t=h.findIndex((function(t){return t.cancel==e}));~t&&h.splice(t,1),T.count-=~t?1:0}};return h.splice(d(n),0,r),T.count+=1,m(),r};var d=function(e){return~(~h.findIndex((function(t){return t.time>e}))||~h.length)};s.cancel=function(e){o.delete(e),u.delete(e)},s.sync=function(e){g=!0,s.batchedUpdates(e),g=!1},s.throttle=function(e){var t;function n(){try{e.apply(void 0,Object(a.a)(t))}finally{t=null}}function r(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t=r,s.onStart(n)}return r.handler=e,r.cancel=function(){l.delete(n),t=null},r};var p="undefined"!=typeof window?window.requestAnimationFrame:function(){};s.use=function(e){return p=e},s.now="undefined"!=typeof performance?function(){return performance.now()}:Date.now,s.batchedUpdates=function(e){return e()},s.catch=console.error,s.frameLoop="always",s.advance=function(){"demand"!==s.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):_()};var v=-1,g=!1;function y(e,t){g?(t.delete(e),e(0)):(t.add(e),m())}function m(){v<0&&(v=0,"demand"!==s.frameLoop&&p(b))}function b(){~v&&(p(b),s.batchedUpdates(_))}function _(){var e=v;v=s.now();var t=d(v);t&&(x(h.splice(0,t),(function(e){return e.handler()})),T.count-=t),l.flush(),o.flush(e?Math.min(64,v-e):16.667),c.flush(),u.flush(),f.flush()}function w(){var e=new Set,t=e;return{add:function(n){T.count+=t!=e||e.has(n)?0:1,e.add(n)},delete:function(n){return T.count-=t==e&&e.has(n)?1:0,e.delete(n)},flush:function(n){t.size&&(e=new Set,T.count-=t.size,x(t,(function(t){return t(n)&&e.add(t)})),T.count+=e.size,t=e)}}}function x(e,t){e.forEach((function(e){try{t(e)}catch(n){s.catch(n)}}))}var T={count:0,clear:function(){v=-1,h=[],l=w(),o=w(),c=w(),u=w(),f=w(),T.count=0}},k=n(2);function O(){}var S=function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})},A={arr:Array.isArray,obj:function(e){return!!e&&"Object"===e.constructor.name},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},und:function(e){return void 0===e}};function E(e,t){if(A.arr(e)){if(!A.arr(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var C=function(e,t){return e.forEach(t)};function M(e,t,n){for(var r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var I=function(e){return A.und(e)?[]:A.arr(e)?e:[e]};function D(e,t){if(e.size){var n=Array.from(e);e.clear(),C(n,t)}}var P,N,j=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return D(e,(function(e){return e.apply(void 0,n)}))},L=null,R=!1,F=O,z=Object.freeze({__proto__:null,get createStringInterpolator(){return P},get to(){return N},get colors(){return L},get skipAnimation(){return R},get willAdvance(){return F},assign:function(e){e.to&&(N=e.to),e.now&&(s.now=e.now),void 0!==e.colors&&(L=e.colors),null!=e.skipAnimation&&(R=e.skipAnimation),e.createStringInterpolator&&(P=e.createStringInterpolator),e.requestAnimationFrame&&s.use(e.requestAnimationFrame),e.batchedUpdates&&(s.batchedUpdates=e.batchedUpdates),e.willAdvance&&(F=e.willAdvance),e.frameLoop&&(s.frameLoop=e.frameLoop)}}),U=new Set,q=[],B=[],V=0,H={get idle(){return!U.size&&!q.length},start:function(e){V>e.priority?(U.add(e),s.onStart(W)):(Y(e),s(K))},advance:K,sort:function(e){if(V)s.onFrame((function(){return H.sort(e)}));else{var t=q.indexOf(e);~t&&(q.splice(t,1),G(e))}},clear:function(){q=[],U.clear()}};function W(){U.forEach(Y),U.clear(),s(K)}function Y(e){q.includes(e)||G(e)}function G(e){q.splice(function(e,t){var n=e.findIndex(t);return n<0?e.length:n}(q,(function(t){return t.priority>e.priority})),0,e)}function K(e){for(var t=B,n=0;n<q.length;n++){var r=q[n];V=r.priority,r.idle||(F(r),r.advance(e),r.idle||t.push(r))}return V=0,(B=q).length=0,(q=t).length>0}var X={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},$="[-+]?\\d*\\.?\\d+",Q=$+"%";function J(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var Z=new RegExp("rgb"+J($,$,$)),ee=new RegExp("rgba"+J($,$,$,$)),te=new RegExp("hsl"+J($,Q,Q)),ne=new RegExp("hsla"+J($,Q,Q,$)),re=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ie=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ae=/^#([0-9a-fA-F]{6})$/,oe=/^#([0-9a-fA-F]{8})$/;function se(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ue(e,t,n){var r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,a=se(i,r,e+1/3),o=se(i,r,e),s=se(i,r,e-1/3);return Math.round(255*a)<<24|Math.round(255*o)<<16|Math.round(255*s)<<8}function le(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function ce(e){return(parseFloat(e)%360+360)%360/360}function fe(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function he(e){var t=parseFloat(e);return t<0?0:t>100?1:t/100}function de(e){var t=function(e){var t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=ae.exec(e))?parseInt(t[1]+"ff",16)>>>0:L&&void 0!==L[e]?L[e]:(t=Z.exec(e))?(le(t[1])<<24|le(t[2])<<16|le(t[3])<<8|255)>>>0:(t=ee.exec(e))?(le(t[1])<<24|le(t[2])<<16|le(t[3])<<8|fe(t[4]))>>>0:(t=re.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=oe.exec(e))?parseInt(t[1],16)>>>0:(t=ie.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=te.exec(e))?(255|ue(ce(t[1]),he(t[2]),he(t[3])))>>>0:(t=ne.exec(e))?(ue(ce(t[1]),he(t[2]),he(t[3]))|fe(t[4]))>>>0:null}(e);if(null===t)return e;var n=(16711680&(t=t||0))>>>16,r=(65280&t)>>>8,i=(255&t)/255;return"rgba(".concat((4278190080&t)>>>24,", ").concat(n,", ").concat(r,", ").concat(i,")")}var pe=function e(t,n,r){if(A.fun(t))return t;if(A.arr(t))return e({range:t,output:n,extrapolate:r});if(A.str(t.output[0]))return P(t);var i=t,a=i.output,o=i.range||[0,1],s=i.extrapolateLeft||i.extrapolate||"extend",u=i.extrapolateRight||i.extrapolate||"extend",l=i.easing||function(e){return e};return function(e){var t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,o);return function(e,t,n,r,i,a,o,s,u){var l=u?u(e):e;if(l<t){if("identity"===o)return l;"clamp"===o&&(l=t)}if(l>n){if("identity"===s)return l;"clamp"===s&&(l=n)}if(r===i)return r;if(t===n)return e<=t?r:i;t===-1/0?l=-l:n===1/0?l-=t:l=(l-t)/(n-t);l=a(l),r===-1/0?l=-l:i===1/0?l+=r:l=l*(i-r)+r;return l}(e,o[t],o[t+1],a[t],a[t+1],l,s,u,i.map)}};function ve(){return(ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ge=Symbol.for("FluidValue.get"),ye=Symbol.for("FluidValue.observers"),me=function(e){return Boolean(e&&e[ge])},be=function(e){return e&&e[ge]?e[ge]():e},_e=function(e){return e[ye]||null};function we(e,t){var n=e[ye];n&&n.forEach((function(e){!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}var xe=function e(t){if(Object(i.a)(this,e),this[ge]=void 0,this[ye]=void 0,!t&&!(t=this.get))throw Error("Unknown getter");Te(this,t)},Te=function(e,t){return Ae(e,ge,t)};function ke(e,t){if(e[ge]){var n=e[ye];n||Ae(e,ye,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Oe(e,t){var n=e[ye];if(n&&n.has(t)){var r=n.size-1;r?n.delete(t):e[ye]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var Se,Ae=function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})},Ee=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Ce=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Me=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Ie=function(e,t,n,r,i){return"rgba(".concat(Math.round(t),", ").concat(Math.round(n),", ").concat(Math.round(r),", ").concat(i,")")},De=function(e){Se||(Se=L?new RegExp("(".concat(Object.keys(L).join("|"),")(?!\\w)"),"g"):/^\b$/);var t=e.output.map((function(e){return be(e).replace(Ce,de).replace(Se,de)})),n=t.map((function(e){return e.match(Ee).map(Number)})),r=n[0].map((function(e,t){return n.map((function(e){if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]}))})).map((function(t){return pe(ve({},e,{output:t}))}));return function(e){var n=0;return t[0].replace(Ee,(function(){return String(r[n++](e))})).replace(Me,Ie)}},Pe="react-spring: ",Ne=function(e){var t=e,n=!1;if("function"!=typeof t)throw new TypeError("".concat(Pe,"once requires a function parameter"));return function(){n||(t.apply(void 0,arguments),n=!0)}},je=Ne(console.warn);function Le(){je("".concat(Pe,'The "interpolate" function is deprecated in v9 (use "to" instead)'))}var Re=Ne(console.warn);function Fe(){Re("".concat(Pe,'Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions'))}function ze(e){return A.str(e)&&("#"==e[0]||/\d/.test(e)||e in(L||{}))}var Ue=function(e){return Object(k.useEffect)(e,qe)},qe=[];function Be(){var e=Object(k.useState)()[1],t=Object(k.useState)(Ve)[0];return Ue(t.unmount),function(){t.current&&e({})}}function Ve(){var e={current:!0,unmount:function(){return function(){e.current=!1}}};return e}function He(e,t){var n=Object(k.useState)((function(){return{inputs:t,result:e()}})),i=Object(r.a)(n,1)[0],a=Object(k.useRef)(),o=a.current,s=o;s?Boolean(t&&s.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,s.inputs))||(s={inputs:t,result:e()}):s=i;return Object(k.useEffect)((function(){a.current=s,o==i&&(i.inputs=i.result=void 0)}),[s]),s.result}function We(e){var t=Object(k.useRef)();return Object(k.useEffect)((function(){t.current=e})),t.current}var Ye="undefined"!==typeof window&&window.document&&window.document.createElement?k.useLayoutEffect:k.useEffect},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Pe}));var r=n(56),i=n(2),a=n.n(i),o=n(75),s=n.n(o),u=n(76),l=n(77),c=n(62),f=n(49),h=n.n(f);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},v=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!Object(r.typeOf)(e)},g=Object.freeze([]),y=Object.freeze({});function m(e){return"function"==typeof e}function b(e){return e.displayName||e.name||"Component"}function _(e){return e&&"string"==typeof e.styledComponentId}var w="undefined"!=typeof e&&(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_ATTR||Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_ATTR)||"data-styled",x="undefined"!=typeof window&&"HTMLElement"in window,T=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY?"false"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&("false"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY)),k={};function O(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var S=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&O(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),A=new Map,E=new Map,C=1,M=function(e){if(A.has(e))return A.get(e);for(;E.has(C);)C++;var t=C++;return A.set(e,t),E.set(t,e),t},I=function(e){return E.get(e)},D=function(e,t){A.set(e,t),E.set(t,e)},P="style["+w+'][data-styled-version="5.3.0"]',N=new RegExp("^"+w+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),j=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},L=function(e,t){for(var n=t.innerHTML.split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(N);if(s){var u=0|parseInt(s[1],10),l=s[2];0!==u&&(D(l,u),j(e,l,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(o)}}},R=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},F=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(w))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(w,"active"),r.setAttribute("data-styled-version","5.3.0");var o=R();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},z=function(){function e(e){var t=this.element=F(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}O(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),U=function(){function e(e){var t=this.element=F(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),q=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),B=x,V={isServer:!x,useCSSOMInjection:!T},H=function(){function e(e,t,n){void 0===e&&(e=y),void 0===t&&(t={}),this.options=d({},V,{},e),this.gs=t,this.names=new Map(n),!this.options.isServer&&x&&B&&(B=!1,function(e){for(var t=document.querySelectorAll(P),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(w)&&(L(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return M(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(d({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new q(i):r?new z(i):new U(i),new S(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(M(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(M(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(M(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=I(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(void 0!==o&&0!==s.length){var u=w+".g"+i+'[id="'+a+'"]',l="";void 0!==o&&o.forEach((function(e){e.length>0&&(l+=e+",")})),r+=""+s+u+'{content:"'+l+'"}/*!sc*/\n'}}}return r}(this)},e}(),W=/(a)(d)/gi,Y=function(e){return String.fromCharCode(e+(e>25?39:97))};function G(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Y(t%52)+n;return(Y(t%52)+n).replace(W,"$1-$2")}var K=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},X=function(e){return K(5381,e)};function $(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(m(n)&&!_(n))return!1}return!0}var Q=X("5.3.0"),J=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&$(e),this.componentId=t,this.baseHash=K(Q,t),this.baseStyle=n,H.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=ge(this.rules,e,t,n).join(""),o=G(K(this.baseHash,a.length)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var u=this.rules.length,l=K(this.baseHash,n.hash),c="",f=0;f<u;f++){var h=this.rules[f];if("string"==typeof h)c+=h;else if(h){var d=ge(h,e,t,n),p=Array.isArray(d)?d.join(""):d;l=K(l,p+f),c+=p}}if(c){var v=G(l>>>0);if(!t.hasNameForId(r,v)){var g=n(c,"."+v,void 0,r);t.insertRules(r,v,g)}i.push(v)}}return i.join(" ")},e}(),Z=/^\s*\/\/.*$/gm,ee=[":","[",".","#"];function te(e){var t,n,r,i,a=void 0===e?y:e,o=a.options,s=void 0===o?y:o,l=a.plugins,c=void 0===l?g:l,f=new u.a(s),h=[],d=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,s,u,l,c,f){switch(n){case 1:if(0===c&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===l)return r+"/*|*/";break;case 3:switch(l){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){h.push(e)})),p=function(e,r,a){return 0===r&&-1!==ee.indexOf(a[n.length])||a.match(i)?e:"."+t};function v(e,a,o,s){void 0===s&&(s="&");var u=e.replace(Z,""),l=a&&o?o+" "+a+" { "+u+" }":u;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),f(o||!a?"":a,l)}return f.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,p))},d,function(e){if(-2===e){var t=h;return h=[],t}}])),v.hash=c.length?c.reduce((function(e,t){return t.name||O(15),K(e,t.name)}),5381).toString():"",v}var ne=a.a.createContext(),re=(ne.Consumer,a.a.createContext()),ie=(re.Consumer,new H),ae=te();function oe(){return Object(i.useContext)(ne)||ie}function se(){return Object(i.useContext)(re)||ae}function ue(e){var t=Object(i.useState)(e.stylisPlugins),n=t[0],r=t[1],o=oe(),u=Object(i.useMemo)((function(){var t=o;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),l=Object(i.useMemo)((function(){return te({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return Object(i.useEffect)((function(){s()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),a.a.createElement(ne.Provider,{value:u},a.a.createElement(re.Provider,{value:l},e.children))}var le=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=ae);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return O(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=ae),this.name+e.hash},e}(),ce=/([A-Z])/,fe=/([A-Z])/g,he=/^ms-/,de=function(e){return"-"+e.toLowerCase()};function pe(e){return ce.test(e)?e.replace(fe,de).replace(he,"-ms-"):e}var ve=function(e){return null==e||!1===e||""===e};function ge(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=ge(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return ve(e)?"":_(e)?"."+e.styledComponentId:m(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:ge(e(t),t,n,r):e instanceof le?n?(e.inject(n,r),e.getName(r)):e:v(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!ve(t[o])&&(v(t[o])?a.push.apply(a,e(t[o],o)):m(t[o])?a.push(pe(o)+":",t[o],";"):a.push(pe(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in l.a?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var u}function ye(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return m(e)||v(e)?ge(p(g,[e].concat(n))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:ge(p(e,n))}new Set;var me=function(e,t,n){return void 0===n&&(n=y),e.theme!==n.theme&&e.theme||t||n.theme},be=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,_e=/(^-|-$)/g;function we(e){return e.replace(be,"-").replace(_e,"")}var xe=function(e){return G(X(e)>>>0)};function Te(e){return"string"==typeof e&&!0}var ke=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Oe=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Se(e,t,n){var r=e[n];ke(t)&&ke(r)?Ae(r,t):e[n]=t}function Ae(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(ke(o))for(var s in o)Oe(s)&&Se(e,o[s],s)}return e}var Ee=a.a.createContext();Ee.Consumer;var Ce={};function Me(e,t,n){var r=_(e),o=!Te(e),s=t.attrs,u=void 0===s?g:s,l=t.componentId,f=void 0===l?function(e,t){var n="string"!=typeof e?"sc":we(e);Ce[n]=(Ce[n]||0)+1;var r=n+"-"+xe("5.3.0"+n+Ce[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):l,p=t.displayName,v=void 0===p?function(e){return Te(e)?"styled."+e:"Styled("+b(e)+")"}(e):p,w=t.displayName&&t.componentId?we(t.displayName)+"-"+t.componentId:t.componentId||f,x=r&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,T=t.shouldForwardProp;r&&e.shouldForwardProp&&(T=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var k,O=new J(n,w,r?e.componentStyle:void 0),S=O.isStatic&&0===u.length,A=function(e,t){return function(e,t,n,r){var a=e.attrs,o=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,l=e.shouldForwardProp,f=e.styledComponentId,h=e.target,p=function(e,t,n){void 0===e&&(e=y);var r=d({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in m(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(me(t,Object(i.useContext)(Ee),s)||y,t,a),v=p[0],g=p[1],b=function(e,t,n,r){var i=oe(),a=se();return t?e.generateAndInjectStyles(y,i,a):e.generateAndInjectStyles(n,i,a)}(o,r,v),_=n,w=g.$as||t.$as||g.as||t.as||h,x=Te(w),T=g!==t?d({},t,{},g):t,k={};for(var O in T)"$"!==O[0]&&"as"!==O&&("forwardedAs"===O?k.as=T[O]:(l?l(O,c.a,w):!x||Object(c.a)(O))&&(k[O]=T[O]));return t.style&&g.style!==t.style&&(k.style=d({},t.style,{},g.style)),k.className=Array.prototype.concat(u,f,b!==f?b:null,t.className,g.className).filter(Boolean).join(" "),k.ref=_,Object(i.createElement)(w,k)}(k,e,t,S)};return A.displayName=v,(k=a.a.forwardRef(A)).attrs=x,k.componentStyle=O,k.displayName=v,k.shouldForwardProp=T,k.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):g,k.styledComponentId=w,k.target=r?e.target:e,k.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(Te(e)?e:we(b(e)));return Me(e,d({},i,{attrs:x,componentId:a}),n)},Object.defineProperty(k,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Ae({},e.defaultProps,t):t}}),k.toString=function(){return"."+k.styledComponentId},o&&h()(k,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),k}var Ie=function(e){return function e(t,n,i){if(void 0===i&&(i=y),!Object(r.isValidElementType)(n))return O(1,String(n));var a=function(){return t(n,i,ye.apply(void 0,arguments))};return a.withConfig=function(r){return e(t,n,d({},i,{},r))},a.attrs=function(r){return e(t,n,d({},i,{attrs:Array.prototype.concat(i.attrs,r).filter(Boolean)}))},a}(Me,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Ie[e]=Ie(e)}));var De=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=$(e),H.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(ge(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&H.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function Pe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=ye.apply(void 0,[e].concat(n)),s="sc-global-"+xe(JSON.stringify(o)),u=new De(o,s);function l(e){var t=oe(),n=se(),r=Object(i.useContext)(Ee),a=Object(i.useRef)(t.allocateGSInstance(s)).current;return Object(i.useLayoutEffect)((function(){return c(a,e,t,r,n),function(){return u.removeStyles(a,t)}}),[a,e,t,r,n]),null}function c(e,t,n,r,i){if(u.isStatic)u.renderStyles(e,k,n,i);else{var a=d({},t,{theme:me(t,r,l.defaultProps)});u.renderStyles(e,a,n,i)}}return a.a.memo(l)}!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),n=R();return"<style "+[n&&'nonce="'+n+'"',w+'="true"','data-styled-version="5.3.0"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?O(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return O(2);var n=((t={})[w]="",t["data-styled-version"]="5.3.0",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=R();return r&&(n.nonce=r),[a.a.createElement("style",d({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new H({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?O(2):a.a.createElement(ue,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return O(3)}}();t.b=Ie}).call(this,n(50))},function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,"a",(function(){return r}))},function(e,t,n){e.exports=n(89)()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(41);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";function r(e,t,n){return function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,a=e(r)+i;return t(a)}}function i(e){return function(t){return new Date(e(t).getTime()-1)}}function a(e){return function(t){return e.map((function(e){return e(t)}))}}function o(e){if(e instanceof Date)return e.getFullYear();if("number"===typeof e)return e;var t=parseInt(e,10);if("string"===typeof e&&!isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(e,"."))}function s(e){if(e instanceof Date)return e.getMonth();throw new Error("Failed to get month from date: ".concat(e,"."))}function u(e){if(e instanceof Date)return e.getMonth()+1;throw new Error("Failed to get human-readable month from date: ".concat(e,"."))}function l(e){if(e instanceof Date)return e.getDate();throw new Error("Failed to get year from date: ".concat(e,"."))}function c(e){if(e instanceof Date)return e.getHours();if("string"===typeof e){var t=e.split(":");if(t.length>=2){var n=t[0],r=parseInt(n,10);if(!isNaN(r))return r}}throw new Error("Failed to get hours from date: ".concat(e,"."))}function f(e){if(e instanceof Date)return e.getMinutes();if("string"===typeof e){var t=e.split(":");if(t.length>=2){var n=t[1]||0,r=parseInt(n,10);if(!isNaN(r))return r}}throw new Error("Failed to get minutes from date: ".concat(e,"."))}function h(e){if(e instanceof Date)return e.getSeconds();if("string"===typeof e){var t=e.split(":");if(t.length>=2){var n=t[2]||0,r=parseInt(n,10);if(!isNaN(r))return r}}throw new Error("Failed to get seconds from date: ".concat(e,"."))}function d(e){var t=o(e),n=t+(1-t)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}n.r(t),n.d(t,"getYear",(function(){return o})),n.d(t,"getMonth",(function(){return s})),n.d(t,"getMonthHuman",(function(){return u})),n.d(t,"getDate",(function(){return l})),n.d(t,"getHours",(function(){return c})),n.d(t,"getMinutes",(function(){return f})),n.d(t,"getSeconds",(function(){return h})),n.d(t,"getCenturyStart",(function(){return d})),n.d(t,"getPreviousCenturyStart",(function(){return p})),n.d(t,"getNextCenturyStart",(function(){return v})),n.d(t,"getCenturyEnd",(function(){return g})),n.d(t,"getPreviousCenturyEnd",(function(){return y})),n.d(t,"getNextCenturyEnd",(function(){return m})),n.d(t,"getCenturyRange",(function(){return b})),n.d(t,"getDecadeStart",(function(){return _})),n.d(t,"getPreviousDecadeStart",(function(){return w})),n.d(t,"getNextDecadeStart",(function(){return x})),n.d(t,"getDecadeEnd",(function(){return T})),n.d(t,"getPreviousDecadeEnd",(function(){return k})),n.d(t,"getNextDecadeEnd",(function(){return O})),n.d(t,"getDecadeRange",(function(){return S})),n.d(t,"getYearStart",(function(){return A})),n.d(t,"getPreviousYearStart",(function(){return E})),n.d(t,"getNextYearStart",(function(){return C})),n.d(t,"getYearEnd",(function(){return M})),n.d(t,"getPreviousYearEnd",(function(){return I})),n.d(t,"getNextYearEnd",(function(){return D})),n.d(t,"getYearRange",(function(){return P})),n.d(t,"getMonthStart",(function(){return j})),n.d(t,"getPreviousMonthStart",(function(){return L})),n.d(t,"getNextMonthStart",(function(){return R})),n.d(t,"getMonthEnd",(function(){return F})),n.d(t,"getPreviousMonthEnd",(function(){return z})),n.d(t,"getNextMonthEnd",(function(){return U})),n.d(t,"getMonthRange",(function(){return q})),n.d(t,"getDayStart",(function(){return V})),n.d(t,"getPreviousDayStart",(function(){return H})),n.d(t,"getNextDayStart",(function(){return W})),n.d(t,"getDayEnd",(function(){return Y})),n.d(t,"getPreviousDayEnd",(function(){return G})),n.d(t,"getNextDayEnd",(function(){return K})),n.d(t,"getDayRange",(function(){return X})),n.d(t,"getDaysInMonth",(function(){return $})),n.d(t,"getHoursMinutes",(function(){return J})),n.d(t,"getHoursMinutesSeconds",(function(){return Z})),n.d(t,"getISOLocalMonth",(function(){return ee})),n.d(t,"getISOLocalDate",(function(){return te})),n.d(t,"getISOLocalDateTime",(function(){return ne}));var p=r(o,d,-100),v=r(o,d,100),g=i(v),y=r(o,g,-100),m=r(o,g,100),b=a([d,g]);function _(e){var t=o(e),n=t+(1-t)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var w=r(o,_,-10),x=r(o,_,10),T=i(x),k=r(o,T,-10),O=r(o,T,10),S=a([_,T]);function A(e){var t=o(e),n=new Date;return n.setFullYear(t,0,1),n.setHours(0,0,0,0),n}var E=r(o,A,-1),C=r(o,A,1),M=i(C),I=r(o,M,-1),D=r(o,M,1),P=a([A,M]);function N(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=o(n),a=s(n)+r,u=new Date;return u.setFullYear(i,a,1),u.setHours(0,0,0,0),e(u)}}function j(e){var t=o(e),n=s(e),r=new Date;return r.setFullYear(t,n,1),r.setHours(0,0,0,0),r}var L=N(j,-1),R=N(j,1),F=i(R),z=N(F,-1),U=N(F,1),q=a([j,F]);function B(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=o(n),a=s(n),u=l(n)+r,c=new Date;return c.setFullYear(i,a,u),c.setHours(0,0,0,0),e(c)}}function V(e){var t=o(e),n=s(e),r=l(e),i=new Date;return i.setFullYear(t,n,r),i.setHours(0,0,0,0),i}var H=B(V,-1),W=B(V,1),Y=i(W),G=B(Y,-1),K=B(Y,1),X=a([V,Y]);function $(e){return l(F(e))}function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n="".concat(e);return n.length>=t?e:"0000".concat(n).slice(-t)}function J(e){var t=Q(c(e)),n=Q(f(e));return"".concat(t,":").concat(n)}function Z(e){var t=Q(c(e)),n=Q(f(e)),r=Q(h(e));return"".concat(t,":").concat(n,":").concat(r)}function ee(e){var t=Q(o(e),4),n=Q(u(e));return"".concat(t,"-").concat(n)}function te(e){var t=Q(o(e),4),n=Q(u(e)),r=Q(l(e));return"".concat(t,"-").concat(n,"-").concat(r)}function ne(e){return"".concat(te(e),"T").concat(Z(e))}},function(e,t,n){"use strict";n.r(t),n.d(t,"firebase",(function(){return _}));var r,i,a=n(1),o=n(3),s=n(14),u=n(13),l=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),c=new o.ErrorFactory("app","Firebase",l),f="@firebase/app",h="[DEFAULT]",d=((i={})[f]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Logger("@firebase/app"),v=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Object(o.deepCopy)(e),this.container=new s.ComponentContainer(t.name),this._addComponent(new s.Component("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=h),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=h),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){p.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},e}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var g=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"===typeof i&&null!==i||(i={name:i});var a=i;void 0===a.name&&(a.name=h);var s=a.name;if("string"!==typeof s||!s)throw c.create("bad-app-name",{appName:String(s)});if(Object(o.contains)(t,s))throw c.create("duplicate-app",{appName:s});var u=new e(n,a,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=d[e])&&void 0!==r?r:e;n&&(i+="-"+n);var o=i.match(/\s|\//),u=t.match(/\s|\//);if(o||u){var l=['Unable to register library "'+i+'" with version "'+t+'":'];return o&&l.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&u&&l.push("and"),u&&l.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void p.warn(l.join(" "))}a(new s.Component(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw c.create("invalid-log-argument");Object(u.setUserLogHandler)(e,t)},apps:null,SDK_VERSION:"8.7.0",INTERNAL:{registerComponent:a,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||h,!Object(o.contains)(t,e))throw c.create("no-app",{appName:e});return t[e]}function a(a){var s=a.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===a.type?r[s]:null;if(n.set(s,a),"PUBLIC"===a.type){var u=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[s])throw c.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==a.serviceProps&&Object(o.deepExtend)(u,a.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,a.multipleInstances?e:[])}}for(var l=0,f=Object.keys(t);l<f.length;l++){var h=f[l];t[h]._addComponent(a)}return"PUBLIC"===a.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(v);return t.INTERNAL=Object(a.__assign)(Object(a.__assign)({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(o.deepExtend)(t,e)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),t}(),y=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if(Object(o.isBrowser)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=g.initializeApp;g.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(o.isNode)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,e)};var _=g;!function(e,t){e.INTERNAL.registerComponent(new s.Component("platform-logger",(function(e){return new y(e)}),"PRIVATE")),e.registerVersion(f,"0.6.28",t),e.registerVersion("fire-js","")}(_),t.default=_},function(e,t,n){e.exports=n(94)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}var i;n.r(t),n.d(t,"LogLevel",(function(){return a})),n.d(t,"Logger",(function(){return f})),n.d(t,"setLogLevel",(function(){return h})),n.d(t,"setUserLogHandler",(function(){return d}));var a,o=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(a||(a={}));var s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},u=a.INFO,l=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),c=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var a=(new Date).toISOString(),o=l[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,r(["["+a+"]  "+e.name+":"],n))}},f=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=c,this._userLogHandler=null,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in a))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],e)),this._logHandler.apply(this,r([this,a.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],e)),this._logHandler.apply(this,r([this,a.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],e)),this._logHandler.apply(this,r([this,a.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],e)),this._logHandler.apply(this,r([this,a.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],e)),this._logHandler.apply(this,r([this,a.ERROR],e))},e}();function h(e){o.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:a[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=o;r<i.length;r++){n(i[r])}}},function(e,t,n){"use strict";n.r(t),n.d(t,"Component",(function(){return a})),n.d(t,"ComponentContainer",(function(){return u})),n.d(t,"Provider",(function(){return s}));var r=n(1),i=n(3),a=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),o="[DEFAULT]",s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.Deferred;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(a){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=Object(r.__values)(this.instancesDeferred.entries()),a=i.next();!a.done;a=i.next()){var s=Object(r.__read)(a.value,2),u=s[0],l=s[1],c=this.normalizeInstanceIdentifier(u);try{var f=this.getOrInitializeService({instanceIdentifier:c});l.resolve(f)}catch(h){}}}catch(d){t={error:d}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=o),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__read)(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),Object(r.__read)(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=o),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,a=void 0===i?{}:i,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:o,options:a});try{for(var u=Object(r.__values)(this.instancesDeferred.entries()),l=u.next();!l.done;l=u.next()){var c=Object(r.__read)(l.value,2),f=c[0],h=c[1];o===this.normalizeInstanceIdentifier(f)&&h.resolve(s)}}catch(d){t={error:d}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,a=this.onInitCallbacks.get(t);if(a)try{for(var o=Object(r.__values)(a),s=o.next();!s.done;s=o.next()){var u=s.value;try{u(e,t)}catch(l){}}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===o?void 0:t),options:i}),this.instances.set(n,a),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(s){}return a||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=o),this.component?this.component.multipleInstances?e:o:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var u=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(40);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.a)(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(25),i=n(52);function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(39);function s(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?Object(o.a)(e):t}function u(e){var t=Object(i.a)();return function(){var n,i=Object(r.a)(e);if(t){var a=Object(r.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return s(this,n)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return E})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return T})),n.d(t,"g",(function(){return v})),n.d(t,"h",(function(){return p}));var r=n(8),i=n(44),a=n(25),o=n(16),s=n(17),u=n(12),l=n(15),c=n(4),f=n(2),h=Symbol.for("Animated:node"),d=function(e){return e&&e[h]},p=function(e,t){return Object(c.h)(e,h,t)},v=function(e){return e&&e[h]&&e[h].getPayload()},g=function(){function e(){Object(u.a)(this,e),this.payload=void 0,p(this,this)}return Object(l.a)(e,[{key:"getPayload",value:function(){return this.payload||[]}}]),e}(),y=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this)).done=!0,r.elapsedTime=void 0,r.lastPosition=void 0,r.lastVelocity=void 0,r.v0=void 0,r.durationProgress=0,r._value=e,c.s.num(r._value)&&(r.lastPosition=r._value),r}return Object(l.a)(n,[{key:"getPayload",value:function(){return[this]}},{key:"getValue",value:function(){return this._value}},{key:"setValue",value:function(e,t){return c.s.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}},{key:"reset",value:function(){var e=this.done;this.done=!1,c.s.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(g),m=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,0))._string=null,r._toString=void 0,r._toString=Object(c.f)({output:[e,e]}),r}return Object(l.a)(n,[{key:"getValue",value:function(){var e=this._string;return null==e?this._string=this._toString(this._value):e}},{key:"setValue",value:function(e){if(c.s.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!Object(i.a)(Object(a.a)(n.prototype),"setValue",this).call(this,e))return!1;this._string=null}return!0}},{key:"reset",value:function(e){e&&(this._toString=Object(c.f)({output:[this.getValue(),e]})),this._value=0,Object(i.a)(Object(a.a)(n.prototype),"reset",this).call(this)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(y),b={dependencies:null},_=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this)).source=e,r.setValue(e),r}return Object(l.a)(n,[{key:"getValue",value:function(e){var t={};return Object(c.l)(this.source,(function(n,r){var i;(i=n)&&i[h]===i?t[r]=n.getValue(e):Object(c.r)(n)?t[r]=Object(c.q)(n):e||(t[r]=n)})),t}},{key:"setValue",value:function(e){this.source=e,this.payload=this._makePayload(e)}},{key:"reset",value:function(){this.payload&&Object(c.k)(this.payload,(function(e){return e.reset()}))}},{key:"_makePayload",value:function(e){if(e){var t=new Set;return Object(c.l)(e,this._addToPayload,t),Array.from(t)}}},{key:"_addToPayload",value:function(e){var t=this;b.dependencies&&Object(c.r)(e)&&b.dependencies.add(e);var n=v(e);n&&Object(c.k)(n,(function(e){return t.add(e)}))}}]),n}(g),w=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){return Object(u.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"getValue",value:function(){return this.source.map((function(e){return e.getValue()}))}},{key:"setValue",value:function(e){var t=this.getPayload();return e.length==t.length?t.map((function(t,n){return t.setValue(e[n])})).some(Boolean):(Object(i.a)(Object(a.a)(n.prototype),"setValue",this).call(this,e.map(x)),!0)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(_);function x(e){return(Object(c.t)(e)?m:y).create(e)}function T(e){var t=d(e);return t?t.constructor:c.s.arr(e)?w:Object(c.t)(e)?m:y}function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var O=function(e,t){var n=!c.s.fun(e)||e.prototype&&e.prototype.isReactComponent;return Object(f.forwardRef)((function(i,a){var o=Object(f.useRef)(null),s=n&&Object(f.useCallback)((function(e){o.current=function(e,t){e&&(c.s.fun(e)?e(t):e.current=t);return t}(a,e)}),[a]),u=function(e,t){var n=new Set;b.dependencies=n,e.style&&(e=k({},e,{style:t.createAnimatedStyle(e.style)}));return e=new _(e),b.dependencies=null,[e,n]}(i,t),l=Object(r.a)(u,2),h=l[0],d=l[1],p=Object(c.z)(),v=function(){var e=o.current;n&&!e||!1===(!!e&&t.applyAnimatedValues(e,h.getValue(!0)))&&p()},g=new S(v,d),y=Object(f.useRef)();Object(c.A)((function(){var e=y.current;y.current=g,Object(c.k)(d,(function(e){return Object(c.c)(e,g)})),e&&(Object(c.k)(e.deps,(function(t){return Object(c.x)(t,e)})),c.w.cancel(e.update))})),Object(f.useEffect)(v,[]),Object(c.C)((function(){return function(){var e=y.current;Object(c.k)(e.deps,(function(t){return Object(c.x)(t,e)}))}}));var m=t.getComponentProps(h.getValue());return f.createElement(e,k({},m,{ref:s}))}))},S=function(){function e(t,n){Object(u.a)(this,e),this.update=t,this.deps=n}return Object(l.a)(e,[{key:"eventObserved",value:function(e){"change"==e.type&&c.w.write(this.update)}}]),e}();var A=Symbol.for("AnimatedComponent"),E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.applyAnimatedValues,r=void 0===n?function(){return!1}:n,i=t.createAnimatedStyle,a=void 0===i?function(e){return new _(e)}:i,o=t.getComponentProps,s=void 0===o?function(e){return e}:o,u={applyAnimatedValues:r,createAnimatedStyle:a,getComponentProps:s},l=function e(t){var n=C(t)||"Anonymous";return(t=c.s.str(t)?e[t]||(e[t]=O(t,u)):t[A]||(t[A]=O(t,u))).displayName="Animated(".concat(n,")"),t};return Object(c.l)(e,(function(t,n){c.s.arr(e)&&(n=C(t)),l[n]=l(t)})),{animated:l}},C=function(e){return c.s.str(e)?e:e&&c.s.str(e.displayName)?e.displayName:c.s.fun(e)&&e.name||null}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return al})),n.d(t,"b",(function(){return Qs})),n.d(t,"c",(function(){return Vs})),n.d(t,"d",(function(){return hl})),n.d(t,"e",(function(){return ul})),n.d(t,"f",(function(){return k})),n.d(t,"g",(function(){return ll})),n.d(t,"h",(function(){return yl})),n.d(t,"i",(function(){return gl})),n.d(t,"j",(function(){return ml})),n.d(t,"k",(function(){return il})),n.d(t,"l",(function(){return Sl})),n.d(t,"m",(function(){return _l})),n.d(t,"n",(function(){return Tl})),n.d(t,"o",(function(){return cl})),n.d(t,"p",(function(){return wl})),n.d(t,"q",(function(){return Ol})),n.d(t,"r",(function(){return Bs})),n.d(t,"s",(function(){return ol})),n.d(t,"t",(function(){return kl}));var r=n(1),i=n(3),a=n(13),o=n(23),s=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();s.o=-1;var u={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},l=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(r.__extends)(t,e),t}(Error),c=new a.Logger("@firebase/firestore");function f(){return c.logLevel}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(c.logLevel<=a.LogLevel.DEBUG){var i=t.map(v);c.debug.apply(c,Object(r.__spreadArray)(["Firestore (8.7.0): "+e],i))}}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(c.logLevel<=a.LogLevel.ERROR){var i=t.map(v);c.error.apply(c,Object(r.__spreadArray)(["Firestore (8.7.0): "+e],i))}}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(c.logLevel<=a.LogLevel.WARN){var i=t.map(v);c.warn.apply(c,Object(r.__spreadArray)(["Firestore (8.7.0): "+e],i))}}function v(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function g(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.7.0) INTERNAL ASSERTION FAILED: "+e;throw d(t),new Error(t)}function y(e,t){e||g()}function m(e,t){return e}function b(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var _=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=b(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function w(e,t){return e<t?-1:e>t?1:0}function x(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function T(e){return e+"\0"}var k=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new l(u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new l(u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new l(u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new l(u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?w(this.nanoseconds,e.nanoseconds):w(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),O=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new k(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function S(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function A(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function E(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var C=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&g(),void 0===n?n=e.length-t:n>e.length-t&&g(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,a=e;i<a.length;i++){var o=a[i];if(o.indexOf("//")>=0)throw new l(u.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(C),I=/^[_a-zA-Z][_a-zA-Z0-9]*$/,D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return I.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,a=function(){if(0===r.length)throw new l(u.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new l(u.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new l(u.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new l(u.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(C),P=function(){function e(e){this.fields=e,e.sort(D.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return x(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),N=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return w(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();N.EMPTY_BYTE_STRING=new N("");var j=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function L(e){if(y(!!e),"string"==typeof e){var t=0,n=j.exec(e);if(y(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:R(e.seconds),nanos:R(e.nanos)}}function R(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function F(e){return"string"==typeof e?N.fromBase64String(e):N.fromUint8Array(e)}function z(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function U(e){var t=e.mapValue.fields.__previous_value__;return z(t)?U(t):t}function q(e){var t=L(e.mapValue.fields.__local_write_time__.timestampValue);return new k(t.seconds,t.nanos)}function B(e){return null==e}function V(e){return 0===e&&1/e==-1/0}function H(e){return"number"==typeof e&&Number.isInteger(e)&&!V(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var W=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(M.fromString(t))},e.fromName=function(t){return new e(M.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===M.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return M.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new M(t.slice()))},e}();function Y(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?z(e)?4:10:g()}function G(e,t){var n=Y(e);if(n!==Y(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return q(e).isEqual(q(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=L(e.timestampValue),r=L(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return F(e.bytesValue).isEqual(F(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return R(e.geoPointValue.latitude)===R(t.geoPointValue.latitude)&&R(e.geoPointValue.longitude)===R(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return R(e.integerValue)===R(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=R(e.doubleValue),r=R(t.doubleValue);return n===r?V(n)===V(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return x(e.arrayValue.values||[],t.arrayValue.values||[],G);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(S(n)!==S(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!G(n[i],r[i])))return!1;return!0}(e,t);default:return g()}}function K(e,t){return void 0!==(e.values||[]).find((function(e){return G(e,t)}))}function X(e,t){var n=Y(e),r=Y(t);if(n!==r)return w(n,r);switch(n){case 0:return 0;case 1:return w(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=R(e.integerValue||e.doubleValue),r=R(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return $(e.timestampValue,t.timestampValue);case 4:return $(q(e),q(t));case 5:return w(e.stringValue,t.stringValue);case 6:return function(e,t){var n=F(e),r=F(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=w(n[i],r[i]);if(0!==a)return a}return w(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=w(R(e.latitude),R(t.latitude));return 0!==n?n:w(R(e.longitude),R(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=X(n[i],r[i]);if(a)return a}return w(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=w(r[o],a[o]);if(0!==s)return s;var u=X(n[r[o]],i[a[o]]);if(0!==u)return u}return w(r.length,a.length)}(e.mapValue,t.mapValue);default:throw g()}}function $(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return w(e,t);var n=L(e),r=L(t),i=w(n.seconds,r.seconds);return 0!==i?i:w(n.nanos,r.nanos)}function Q(e){return J(e)}function J(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=L(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?F(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,W.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=J(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var a=i[r];n?n=!1:t+=",",t+=a+":"+J(e.fields[a])}return t+"}"}(e.mapValue):g();var t,n}function Z(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function ee(e){return!!e&&"integerValue"in e}function te(e){return!!e&&"arrayValue"in e}function ne(e){return!!e&&"nullValue"in e}function re(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ie(e){return!!e&&"mapValue"in e}function ae(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue)return{timestampValue:Object.assign({},L(e.timestampValue))};if(e.mapValue){var t={mapValue:{fields:{}}};return A(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=ae(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=ae(e.arrayValue.values[r]);return n}return Object.assign({},e)}var oe=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!ie(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ae(t)},e.prototype.setAll=function(e){var t=this,n=D.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=ae(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());ie(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return G(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];ie(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){A(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++){var a=i[r];delete e[a]}},e.prototype.clone=function(){return new e(ae(this.value))},e}();function se(e){var t=[];return A(e.fields,(function(e,n){var r=new D([e]);if(ie(n)){var i=se(n.mapValue).fields;if(0===i.length)t.push(r);else for(var a=0,o=i;a<o.length;a++){var s=o[a];t.push(r.child(s))}}else t.push(r)})),new P(t)}var ue=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,O.min(),oe.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,oe.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,oe.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=oe.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=oe.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),le=function(e,t,n,r,i,a,o){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===a&&(a=null),void 0===o&&(o=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=o,this.h=null};function ce(e,t,n,r,i,a,o){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===a&&(a=null),void 0===o&&(o=null),new le(e,t,n,r,i,a,o)}function fe(e){var t=m(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Q(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),B(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=ke(t.startAt)),t.endAt&&(n+="|ub:",n+=ke(t.endAt)),t.h=n}return t.h}function he(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Se(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!G(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ee(e.startAt,t.startAt)&&Ee(e.endAt,t.endAt)}function de(e){return W.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var pe=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return Object(r.__extends)(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new ve(e,n,r):"array-contains"===n?new be(e,r):"in"===n?new _e(e,r):"not-in"===n?new we(e,r):"array-contains-any"===n?new xe(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new ge(e,n):new ye(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(X(t,this.value)):null!==t&&Y(this.value)===Y(t)&&this.m(X(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return g()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),ve=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=W.fromName(r.referenceValue),i}return Object(r.__extends)(t,e),t.prototype.matches=function(e){var t=W.comparator(e.key,this.key);return this.m(t)},t}(pe),ge=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=me("in",n),r}return Object(r.__extends)(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(pe),ye=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=me("not-in",n),r}return Object(r.__extends)(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(pe);function me(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return W.fromName(e.referenceValue)}))}var be=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return Object(r.__extends)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return te(t)&&K(t.arrayValue,this.value)},t}(pe),_e=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return Object(r.__extends)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&K(this.value.arrayValue,t)},t}(pe),we=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return Object(r.__extends)(t,e),t.prototype.matches=function(e){if(K(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!K(this.value.arrayValue,t)},t}(pe),xe=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return Object(r.__extends)(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!te(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return K(t.value.arrayValue,e)}))},t}(pe),Te=function(e,t){this.position=e,this.before=t};function ke(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return Q(e)})).join(",")}var Oe=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Se(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Ae(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?W.comparator(W.fromName(o.referenceValue),n.key):X(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Ee(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!G(e.position[n],t.position[n]))return!1;return!0}var Ce=function(e,t,n,r,i,a,o,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===a&&(a="F"),void 0===o&&(o=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Me(e,t,n,r,i,a,o,s){return new Ce(e,t,n,r,i,a,o,s)}function Ie(e){return new Ce(e)}function De(e){return!B(e.limit)&&"F"===e.limitType}function Pe(e){return!B(e.limit)&&"L"===e.limitType}function Ne(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function je(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Le(e){return null!==e.collectionGroup}function Re(e){var t=m(e);if(null===t.p){t.p=[];var n=je(t),r=Ne(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new Oe(n)),t.p.push(new Oe(D.keyField(),"asc"));else{for(var i=!1,a=0,o=t.explicitOrderBy;a<o.length;a++){var s=o[a];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Oe(D.keyField(),u))}}}return t.p}function Fe(e){var t=m(e);if(!t.T)if("F"===t.limitType)t.T=ce(t.path,t.collectionGroup,Re(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Re(t);r<i.length;r++){var a=i[r],o="desc"===a.dir?"asc":"desc";n.push(new Oe(a.field,o))}var s=t.endAt?new Te(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Te(t.startAt.position,!t.startAt.before):null;t.T=ce(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function ze(e,t,n){return new Ce(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ue(e,t){return he(Fe(e),Fe(t))&&e.limitType===t.limitType}function qe(e){return fe(Fe(e))+"|lt:"+e.limitType}function Be(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+Q(t.value);var t})).join(", ")+"]"),B(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+ke(e.startAt)),e.endAt&&(t+=", endAt: "+ke(e.endAt)),"Target("+t+")"}(Fe(e))+"; limitType="+e.limitType+")"}function Ve(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):W.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Ae(e.startAt,Re(e),t))&&(!e.endAt||!Ae(e.endAt,Re(e),t))}(e,t)}function He(e){return function(t,n){for(var r=!1,i=0,a=Re(e);i<a.length;i++){var o=a[i],s=We(o,t,n);if(0!==s)return s;r=r||o.field.isKeyField()}return 0}}function We(e,t,n){var r=e.field.isKeyField()?W.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?X(r,i):g()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return g()}}function Ye(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:V(t)?"-0":t}}function Ge(e){return{integerValue:""+e}}function Ke(e,t){return H(t)?Ge(t):Ye(e,t)}var Xe=function(){this._=void 0};function $e(e,t,n){return e instanceof Ze?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof et?tt(e,t):e instanceof nt?rt(e,t):function(e,t){var n=Je(e,t),r=at(n)+at(e.A);return ee(n)&&ee(e.A)?Ge(r):Ye(e.R,r)}(e,t)}function Qe(e,t,n){return e instanceof et?tt(e,t):e instanceof nt?rt(e,t):n}function Je(e,t){return e instanceof it?ee(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Ze=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t}(Xe),et=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Object(r.__extends)(t,e),t}(Xe);function tt(e,t){for(var n=ot(t),r=function(e){n.some((function(t){return G(t,e)}))||n.push(e)},i=0,a=e.elements;i<a.length;i++)r(a[i]);return{arrayValue:{values:n}}}var nt=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Object(r.__extends)(t,e),t}(Xe);function rt(e,t){for(var n=ot(t),r=function(e){n=n.filter((function(t){return!G(t,e)}))},i=0,a=e.elements;i<a.length;i++)r(a[i]);return{arrayValue:{values:n}}}var it=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return Object(r.__extends)(t,e),t}(Xe);function at(e){return R(e.integerValue||e.doubleValue)}function ot(e){return te(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var st=function(e,t){this.field=e,this.transform=t},ut=function(e,t){this.version=e,this.transformResults=t},lt=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function ct(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ft=function(){};function ht(e,t,n){e instanceof yt?function(e,t,n){var r=e.value.clone(),i=_t(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof mt?function(e,t,n){if(ct(e.precondition,t)){var r=_t(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(bt(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function dt(e,t,n){e instanceof yt?function(e,t,n){if(ct(e.precondition,t)){var r=e.value.clone(),i=wt(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(gt(t),r).setHasLocalMutations()}}(e,t,n):e instanceof mt?function(e,t,n){if(ct(e.precondition,t)){var r=wt(e.fieldTransforms,n,t),i=t.data;i.setAll(bt(e)),i.setAll(r),t.convertToFoundDocument(gt(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){ct(e.precondition,t)&&t.convertToNoDocument(O.min())}(e,t)}function pt(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var a=i[r],o=t.data.field(a.field),s=Je(a.transform,o||null);null!=s&&(null==n&&(n=oe.empty()),n.set(a.field,s))}return n||null}function vt(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&x(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof et&&t instanceof et||e instanceof nt&&t instanceof nt?x(e.elements,t.elements,G):e instanceof it&&t instanceof it?G(e.A,t.A):e instanceof Ze&&t instanceof Ze}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function gt(e){return e.isFoundDocument()?e.version:O.min()}var yt=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var a=this;return(a=e.call(this)||this).key=t,a.value=n,a.precondition=r,a.fieldTransforms=i,a.type=0,a}return Object(r.__extends)(t,e),t}(ft),mt=function(e){function t(t,n,r,i,a){void 0===a&&(a=[]);var o=this;return(o=e.call(this)||this).key=t,o.data=n,o.fieldMask=r,o.precondition=i,o.fieldTransforms=a,o.type=1,o}return Object(r.__extends)(t,e),t}(ft);function bt(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function _t(e,t,n){var r=new Map;y(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Qe(o,s,n[i]))}return r}function wt(e,t,n){for(var r=new Map,i=0,a=e;i<a.length;i++){var o=a[i],s=o.transform,u=n.data.field(o.field);r.set(o.field,$e(s,u,t))}return r}var xt,Tt,kt=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(r.__extends)(t,e),t}(ft),Ot=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(r.__extends)(t,e),t}(ft),St=function(e){this.count=e};function At(e){switch(e){case u.OK:return g();case u.CANCELLED:case u.UNKNOWN:case u.DEADLINE_EXCEEDED:case u.RESOURCE_EXHAUSTED:case u.INTERNAL:case u.UNAVAILABLE:case u.UNAUTHENTICATED:return!1;case u.INVALID_ARGUMENT:case u.NOT_FOUND:case u.ALREADY_EXISTS:case u.PERMISSION_DENIED:case u.FAILED_PRECONDITION:case u.ABORTED:case u.OUT_OF_RANGE:case u.UNIMPLEMENTED:case u.DATA_LOSS:return!0;default:return g()}}function Et(e){if(void 0===e)return d("GRPC error has no .code"),u.UNKNOWN;switch(e){case xt.OK:return u.OK;case xt.CANCELLED:return u.CANCELLED;case xt.UNKNOWN:return u.UNKNOWN;case xt.DEADLINE_EXCEEDED:return u.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return u.RESOURCE_EXHAUSTED;case xt.INTERNAL:return u.INTERNAL;case xt.UNAVAILABLE:return u.UNAVAILABLE;case xt.UNAUTHENTICATED:return u.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return u.INVALID_ARGUMENT;case xt.NOT_FOUND:return u.NOT_FOUND;case xt.ALREADY_EXISTS:return u.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return u.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return u.FAILED_PRECONDITION;case xt.ABORTED:return u.ABORTED;case xt.OUT_OF_RANGE:return u.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return u.UNIMPLEMENTED;case xt.DATA_LOSS:return u.DATA_LOSS;default:return g()}}(Tt=xt||(xt={}))[Tt.OK=0]="OK",Tt[Tt.CANCELLED=1]="CANCELLED",Tt[Tt.UNKNOWN=2]="UNKNOWN",Tt[Tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tt[Tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tt[Tt.NOT_FOUND=5]="NOT_FOUND",Tt[Tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tt[Tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tt[Tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tt[Tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tt[Tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tt[Tt.ABORTED=10]="ABORTED",Tt[Tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tt[Tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tt[Tt.INTERNAL=13]="INTERNAL",Tt[Tt.UNAVAILABLE=14]="UNAVAILABLE",Tt[Tt.DATA_LOSS=15]="DATA_LOSS";var Ct=function(){function e(e,t){this.comparator=e,this.root=t||It.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,It.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,It.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Mt(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Mt(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Mt(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Mt(this.root,e,this.comparator,!0)},e}(),Mt=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),It=function(){function e(t,n,r,i,a){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw g();if(this.right.isRed())throw g();var e=this.left.check();if(e!==this.right.check())throw g();return e+(this.isRed()?0:1)},e}();It.EMPTY=null,It.RED=!0,It.BLACK=!1,It.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw g()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new It(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var Dt=function(){function e(e){this.comparator=e,this.data=new Ct(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Pt(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Pt(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Pt=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Nt=new Ct(W.comparator);function jt(){return Nt}var Lt=new Ct(W.comparator);function Rt(){return Lt}var Ft=new Ct(W.comparator);function zt(){return Ft}var Ut=new Dt(W.comparator);function qt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Ut,r=0,i=e;r<i.length;r++){var a=i[r];n=n.add(a)}return n}var Bt=new Dt(w);function Vt(){return Bt}var Ht=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Wt.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(O.min(),r,Vt(),jt(),qt())},e}(),Wt=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(N.EMPTY_BYTE_STRING,n,qt(),qt(),qt())},e}(),Yt=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},Gt=function(e,t){this.targetId=e,this.V=t},Kt=function(e,t,n,r){void 0===n&&(n=N.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Xt=function(){function e(){this.S=0,this.D=Jt(),this.C=N.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},e.prototype.M=function(){var e=qt(),t=qt(),n=qt();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:g()}})),new Wt(this.C,this.N,e,t,n)},e.prototype.L=function(){this.F=!1,this.D=Jt()},e.prototype.B=function(e,t){this.F=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),$t=function(){function e(e){this.W=e,this.G=new Map,this.H=jt(),this.J=Qt(),this.Y=new Dt(w)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,a=e.removedTargetIds;i<a.length;i++)r=a[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.k||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:g()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(de(i))if(0===n){var a=new W(i.path);this.tt(t,a,ue.newNoDocument(a,O.min()))}else y(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var a=t.ot(i);if(a){if(r.current&&de(a.target)){var o=new W(a.target.path);null!==t.H.get(o)||t.at(i,o)||t.tt(i,o,ue.newNoDocument(o,e))}r.$&&(n.set(i,r.M()),r.L())}}));var r=qt();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Ht(e,n,this.Y,this.H,r);return this.H=jt(),this.J=Qt(),this.Y=new Dt(w),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new Xt,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new Dt(w),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||h("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.k?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new Xt),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function Qt(){return new Ct(W.comparator)}function Jt(){return new Ct(W.comparator)}var Zt={asc:"ASCENDING",desc:"DESCENDING"},en={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tn=function(e,t){this.databaseId=e,this.I=t};function nn(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function rn(e,t){return e.I?t.toBase64():t.toUint8Array()}function an(e,t){return nn(e,t.toTimestamp())}function on(e){return y(!!e),O.fromTimestamp(function(e){var t=L(e);return new k(t.seconds,t.nanos)}(e))}function sn(e,t){return function(e){return new M(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function un(e){var t=M.fromString(e);return y(Dn(t)),t}function ln(e,t){return sn(e.databaseId,t.path)}function cn(e,t){var n=un(t);if(n.get(1)!==e.databaseId.projectId)throw new l(u.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new l(u.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new W(pn(n))}function fn(e,t){return sn(e.databaseId,t)}function hn(e){var t=un(e);return 4===t.length?M.emptyPath():pn(t)}function dn(e){return new M(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function pn(e){return y(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function vn(e,t,n){return{name:ln(e,t),fields:n.value.mapValue.fields}}function gn(e,t,n){var r=cn(e,t.name),i=on(t.updateTime),a=new oe({mapValue:{fields:t.fields}}),o=ue.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function yn(e,t){var n;if(t instanceof yt)n={update:vn(e,t.key,t.value)};else if(t instanceof kt)n={delete:ln(e,t.key)};else if(t instanceof mt)n={update:vn(e,t.key,t.data),updateMask:In(t.fieldMask)};else{if(!(t instanceof Ot))return g();n={verify:ln(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Ze)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof et)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof nt)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof it)return{fieldPath:t.field.canonicalString(),increment:n.A};throw g()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:an(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:g()}(e,t.precondition)),n}function mn(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?lt.updateTime(on(e.updateTime)):void 0!==e.exists?lt.exists(e.exists):lt.none()}(t.currentDocument):lt.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)y("REQUEST_TIME"===t.setToServerValue),n=new Ze;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new et(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new nt(i)}else"increment"in t?n=new it(e,t.increment):g();var a=D.fromServerFormat(t.fieldPath);return new st(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=cn(e,t.update.name),a=new oe({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new P(t.map((function(e){return D.fromServerFormat(e)})))}(t.updateMask);return new mt(i,a,o,n,r)}return new yt(i,a,n,r)}if(t.delete){var s=cn(e,t.delete);return new kt(s,n)}if(t.verify){var u=cn(e,t.verify);return new Ot(u,n)}return g()}function bn(e,t){return{documents:[fn(e,t.path)]}}function _n(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=fn(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=fn(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(re(e.value))return{unaryFilter:{field:An(e.field),op:"IS_NAN"}};if(ne(e.value))return{unaryFilter:{field:An(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(re(e.value))return{unaryFilter:{field:An(e.field),op:"IS_NOT_NAN"}};if(ne(e.value))return{unaryFilter:{field:An(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:An(e.field),op:Sn(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:An(e.field),direction:On(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.I||B(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=Tn(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Tn(t.endAt)),n}function wn(e){var t=hn(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){y(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=xn(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Oe(En(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return B(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=kn(n.startAt));var c=null;return n.endAt&&(c=kn(n.endAt)),Me(t,i,s,o,u,"F",l,c)}function xn(e){return e?void 0!==e.unaryFilter?[Mn(e)]:void 0!==e.fieldFilter?[Cn(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return xn(e)})).reduce((function(e,t){return e.concat(t)})):g():[]}function Tn(e){return{before:e.before,values:e.position}}function kn(e){var t=!!e.before,n=e.values||[];return new Te(n,t)}function On(e){return Zt[e]}function Sn(e){return en[e]}function An(e){return{fieldPath:e.canonicalString()}}function En(e){return D.fromServerFormat(e.fieldPath)}function Cn(e){return pe.create(En(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return g()}}(e.fieldFilter.op),e.fieldFilter.value)}function Mn(e){switch(e.unaryFilter.op){case"IS_NAN":var t=En(e.unaryFilter.field);return pe.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=En(e.unaryFilter.field);return pe.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=En(e.unaryFilter.field);return pe.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=En(e.unaryFilter.field);return pe.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return g()}}function In(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Dn(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Pn(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=jn(t)),t=Nn(e.get(n),t);return jn(t)}function Nn(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function jn(e){return e+"\x01\x01"}function Ln(e){var t=e.length;if(y(t>=2),2===t)return y("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),M.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&g(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:g()}a=o+2}return new M(r)}var Rn=function(e,t){this.seconds=e,this.nanoseconds=t},Fn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Fn.store="owner",Fn.key="owner";var zn=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};zn.store="mutationQueues",zn.keyPath="userId";var Un=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Un.store="mutations",Un.keyPath="batchId",Un.userMutationsIndex="userMutationsIndex",Un.userMutationsKeyPath=["userId","batchId"];var qn=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Pn(t)]},e.key=function(e,t,n){return[e,Pn(t),n]},e}();qn.store="documentMutations",qn.PLACEHOLDER=new qn;var Bn=function(e,t){this.path=e,this.readTime=t},Vn=function(e,t){this.path=e,this.version=t},Hn=function(e,t,n,r,i,a){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=a};Hn.store="remoteDocuments",Hn.readTimeIndex="readTimeIndex",Hn.readTimeIndexPath="readTime",Hn.collectionReadTimeIndex="collectionReadTimeIndex",Hn.collectionReadTimeIndexPath=["parentPath","readTime"];var Wn=function(e){this.byteSize=e};Wn.store="remoteDocumentGlobal",Wn.key="remoteDocumentGlobalKey";var Yn=function(e,t,n,r,i,a,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=a,this.query=o};Yn.store="targets",Yn.keyPath="targetId",Yn.queryTargetsIndexName="queryTargetsIndex",Yn.queryTargetsKeyPath=["canonicalId","targetId"];var Gn=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Gn.store="targetDocuments",Gn.keyPath=["targetId","path"],Gn.documentTargetsIndex="documentTargetsIndex",Gn.documentTargetsKeyPath=["path","targetId"];var Kn=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Kn.key="targetGlobalKey",Kn.store="targetGlobal";var Xn=function(e,t){this.collectionId=e,this.parent=t};Xn.store="collectionParents",Xn.keyPath=["collectionId","parent"];var $n=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};$n.store="clientMetadata",$n.keyPath="clientId";var Qn=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Qn.store="bundles",Qn.keyPath="bundleId";var Jn=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Jn.store="namedQueries",Jn.keyPath="name";var Zn=Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__spreadArray)(Object(r.__spreadArray)([],[zn.store,Un.store,qn.store,Hn.store,Yn.store,Fn.store,Kn.store,Gn.store]),[$n.store])),[Wn.store])),[Xn.store])),[Qn.store,Jn.store]),er="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",tr=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),nr=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},rr=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&g(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,a=t;i<a.length;i++)r(a[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),ir=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new nr,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new sr(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=hr(t.target.error);n.ft.reject(new sr(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new sr(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(h("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new lr(t)},e}(),ar=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(i.getUA)())&&d("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return h("SimpleDb","Removing database:",e),cr(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(i.getUA)(),n=t._t(e),r=0<n&&n<10,a=t.Et(e),o=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof e&&"YES"===(null===(t=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}))||void 0===t?void 0:t.Tt)},t.It=function(e,t){return e.store(t)},t._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(h("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new sr(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new l(u.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new sr(e,n))},i.onupgradeneeded=function(e){h("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){h("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},t.prototype.runTransaction=function(e,t,n,i){return Object(r.__awaiter)(this,void 0,void 0,(function(){var a,o,s,u,l;return Object(r.__generator)(this,(function(c){switch(c.label){case 0:a="readonly"===t,o=0,s=function(){var t,s,l,c,f;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:++o,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.At(e)];case 2:return u.db=r.sent(),t=ir.open(u.db,e,a?"readonly":"readwrite",n),s=i(t).catch((function(e){return t.abort(e),rr.reject(e)})).toPromise(),l={},s.catch((function(){})),[4,t.dt];case 3:return[2,(l.value=(r.sent(),s),l)];case 4:return c=r.sent(),f="FirebaseError"!==c.name&&o<3,h("SimpleDb","Transaction failed with error:",c.message,"Retrying:",f),u.close(),f?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},u=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(l=c.sent()))return[2,l.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),or=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return cr(this.Pt.delete())},e}(),sr=function(e){function t(t,n){var r=this;return(r=e.call(this,u.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(r.__extends)(t,e),t}(l);function ur(e){return"IndexedDbTransactionError"===e.name}var lr=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(h("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(h("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),cr(n)},e.prototype.add=function(e){return h("SimpleDb","ADD",this.store.name,e,e),cr(this.store.add(e))},e.prototype.get=function(e){var t=this;return cr(this.store.get(e)).next((function(n){return void 0===n&&(n=null),h("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return h("SimpleDb","DELETE",this.store.name,e),cr(this.store.delete(e))},e.prototype.count=function(){return h("SimpleDb","COUNT",this.store.name),cr(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Ft=function(e,t){h("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new rr((function(n,r){t.onerror=function(e){var t=hr(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new rr((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new or(i),o=t(i.primaryKey,i.value,a);if(o instanceof rr){var s=o.catch((function(e){return a.done(),rr.reject(e)}));n.push(s)}a.isDone?r():null===a.Dt?i.continue():i.continue(a.Dt)}else r()}})).next((function(){return rr.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function cr(e){return new rr((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=hr(e.target.error);n(t)}}))}var fr=!1;function hr(e){var t=ar._t(Object(i.getUA)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new l("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return fr||(fr=!0,setTimeout((function(){throw r}),0)),r}}return e}var dr=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return Object(r.__extends)(t,e),t}(tr);function pr(e,t){var n=m(e);return ar.It(n.Mt,t)}var vr=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&ht(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(a=n[t]).key.isEqual(e.key)&&dt(a,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var a;(a=i[r]).key.isEqual(e.key)&&dt(a,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(O.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),qt())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&x(this.mutations,e.mutations,(function(e,t){return vt(e,t)}))&&x(this.baseMutations,e.baseMutations,(function(e,t){return vt(e,t)}))},e}(),gr=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){y(t.mutations.length===r.length);for(var i=zt(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)},e}(),yr=function(){function e(e,t,n,r,i,a,o){void 0===i&&(i=O.min()),void 0===a&&(a=O.min()),void 0===o&&(o=N.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),mr=function(e){this.Lt=e};function br(e,t){if(t.document)return gn(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=W.fromSegments(t.noDocument.path),r=kr(t.noDocument.readTime),i=ue.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=W.fromSegments(t.unknownDocument.path);return r=kr(t.unknownDocument.version),ue.newUnknownDocument(a,r)}return g()}function _r(e,t,n){var r=wr(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(e,t){return{name:ln(e,t.key),fields:t.data.value.mapValue.fields,updateTime:nn(e,t.version.toTimestamp())}}(e.Lt,t),o=t.hasCommittedMutations;return new Hn(null,null,a,o,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=Tr(t.version);return o=t.hasCommittedMutations,new Hn(null,new Bn(s,u),null,o,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),c=Tr(t.version);return new Hn(new Vn(l,c),null,null,!0,r,i)}return g()}function wr(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function xr(e){var t=new k(e[0],e[1]);return O.fromTimestamp(t)}function Tr(e){var t=e.toTimestamp();return new Rn(t.seconds,t.nanoseconds)}function kr(e){var t=new k(e.seconds,e.nanoseconds);return O.fromTimestamp(t)}function Or(e,t){for(var n=(t.baseMutations||[]).map((function(t){return mn(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return mn(e.Lt,t)})),s=k.fromMillis(t.localWriteTimeMs);return new vr(t.batchId,s,n,o)}function Sr(e){var t,n,r=kr(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?kr(e.lastLimboFreeSnapshotVersion):O.min();return void 0!==e.query.documents?(y(1===(n=e.query).documents.length),t=Fe(Ie(hn(n.documents[0])))):t=function(e){return Fe(wn(e))}(e.query),new yr(t,e.targetId,0,e.lastListenSequenceNumber,r,i,N.fromBase64String(e.resumeToken))}function Ar(e,t){var n,r=Tr(t.snapshotVersion),i=Tr(t.lastLimboFreeSnapshotVersion);n=de(t.target)?bn(e.Lt,t.target):_n(e.Lt,t.target);var a=t.resumeToken.toBase64();return new Yn(t.targetId,fe(t.target),r,a,t.sequenceNumber,i,n)}function Er(e){var t=wn({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ze(t,t.limit,"L"):t}var Cr=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return Mr(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:kr(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return Mr(e).put({bundleId:(n=t).id,createTime:Tr(on(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Ir(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Er(t.bundledQuery),readTime:kr(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return Ir(e).put(function(e){return{name:e.name,readTime:Tr(on(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function Mr(e){return pr(e,Qn.store)}function Ir(e){return pr(e,Jn.store)}var Dr=function(){function e(){this.Bt=new Pr}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),rr.resolve()},e.prototype.getCollectionParents=function(e,t){return rr.resolve(this.Bt.getEntries(t))},e}(),Pr=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Dt(M.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Dt(M.comparator)).toArray()},e}(),Nr=function(){function e(){this.qt=new Pr}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var a={collectionId:r,parent:Pn(i)};return jr(e).put(a)}return rr.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[T(t),""],!1,!0);return jr(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var a=i[r];if(a.collectionId!==t)break;n.push(Ln(a.parent))}return n}))},e}();function jr(e){return pr(e,Xn.store)}var Lr={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Rr=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function Fr(e,t,n){var r=e.store(Un.store),i=e.store(qn.store),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){y(1===s)})));for(var l=[],c=0,f=n.mutations;c<f.length;c++){var h=f[c],d=qn.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}return rr.waitFor(a).next((function(){return l}))}function zr(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw g();t=e.noDocument}return JSON.stringify(t).length}Rr.DEFAULT_COLLECTION_PERCENTILE=10,Rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rr.DEFAULT=new Rr(41943040,Rr.DEFAULT_COLLECTION_PERCENTILE,Rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rr.DISABLED=new Rr(-1,0,0);var Ur=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return y(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Br(e).$t({index:Un.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,a=Vr(e),o=Br(e);return o.add({}).next((function(s){y("number"==typeof s);for(var u=new vr(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return yn(e.Lt,t)})),i=n.mutations.map((function(t){return yn(e.Lt,t)}));return new Un(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),c=[],f=new Dt((function(e,t){return w(e.canonicalString(),t.canonicalString())})),h=0,d=r;h<d.length;h++){var p=d[h],v=qn.key(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),c.push(o.put(l)),c.push(a.put(v,qn.PLACEHOLDER))}return f.forEach((function(t){c.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),rr.waitFor(c).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Br(e).get(t).next((function(e){return e?(y(e.userId===n.userId),Or(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?rr.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Br(e).$t({index:Un.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(y(t.batchId>=r),a=Or(n.R,t)),i.done()})).next((function(){return a}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Br(e).$t({index:Un.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Br(e).Nt(Un.userMutationsIndex,n).next((function(e){return e.map((function(e){return Or(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=qn.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Vr(e).$t({range:i},(function(r,i,o){var s=r[0],u=r[1],l=r[2],c=Ln(u);if(s===n.userId&&t.path.isEqual(c))return Br(e).get(l).next((function(e){if(!e)throw g();y(e.userId===n.userId),a.push(Or(n.R,e))}));o.done()})).next((function(){return a}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Dt(w),i=[];return t.forEach((function(t){var a=qn.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=Vr(e).$t({range:o},(function(e,i,a){var o=e[0],s=e[1],u=e[2],l=Ln(s);o===n.userId&&t.path.isEqual(l)?r=r.add(u):a.done()}));i.push(s)})),rr.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,a=qn.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Dt(w);return Vr(e).$t({range:o},(function(e,t,a){var o=e[0],u=e[1],l=e[2],c=Ln(u);o===n.userId&&r.isPrefixOf(c)?c.length===i&&(s=s.add(l)):a.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Br(e).get(t).next((function(e){if(null===e)throw g();y(e.userId===n.userId),r.push(Or(n.R,e))})))})),rr.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return Fr(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),rr.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return rr.resolve();var r=IDBKeyRange.lowerBound(qn.prefixForUser(t.userId)),i=[];return Vr(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Ln(e[1]);i.push(a)}else r.done()})).next((function(){y(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return qr(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return Hr(e).get(this.userId).next((function(e){return e||new zn(t.userId,-1,"")}))},e}();function qr(e,t,n){var r=qn.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Vr(e).$t({range:a,kt:!0},(function(e,n,r){var a=e[0],s=e[1];e[2],a===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function Br(e){return pr(e,Un.store)}function Vr(e){return pr(e,qn.store)}function Hr(e){return pr(e,zn.store)}var Wr=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),Yr=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new Wr(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return O.fromTimestamp(new k(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Gr(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return y(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,a=[];return Gr(e).$t((function(o,s){var u=Sr(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return rr.waitFor(a)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return Gr(e).$t((function(e,n){var r=Sr(n);t(r)}))},e.prototype.Xt=function(e){return Kr(e).get(Kn.key).next((function(e){return y(null!==e),e}))},e.prototype.Zt=function(e,t){return Kr(e).put(Kn.key,t)},e.prototype.te=function(e,t){return Gr(e).put(Ar(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=fe(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Gr(e).$t({range:r,index:Yn.queryTargetsIndexName},(function(e,n,r){var a=Sr(n);he(t,a.target)&&(i=a,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],a=Xr(e);return t.forEach((function(t){var o=Pn(t.path);i.push(a.put(new Gn(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),rr.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=Xr(e);return rr.forEach(t,(function(t){var a=Pn(t.path);return rr.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=Xr(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Xr(e),i=qt();return r.$t({range:n,kt:!0},(function(e,t,n){var r=Ln(e[1]),a=new W(r);i=i.add(a)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=Pn(t.path),r=IDBKeyRange.bound([n],[T(n)],!1,!0),i=0;return Xr(e).$t({index:Gn.documentTargetsIndex,kt:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return Gr(e).get(t).next((function(e){return e?Sr(e):null}))},e}();function Gr(e){return pr(e,Yn.store)}function Kr(e){return pr(e,Kn.store)}function Xr(e){return pr(e,Gn.store)}function $r(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){if(e.code!==u.FAILED_PRECONDITION||e.message!==er)throw e;return h("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function Qr(e,t){var n=e[0],r=e[1],i=t[0],a=t[1],o=w(n,i);return 0===o?w(r,a):o}var Jr=function(){function e(e){this.ne=e,this.buffer=new Dt(Qr),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Qr(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Zr=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;h("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return ur(t=n.sent())?(h("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,$r(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),ei=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return rr.resolve(s.o);var r=new Jr(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(h("LruGarbageCollector","Garbage collection skipped; disabled"),rr.resolve(Lr)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(h("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Lr):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,s,u,l,c=this,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(h("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,s=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return l=Date.now(),f()<=a.LogLevel.DEBUG&&h("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-d)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+e+" documents in "+(l-u)+"ms\nTotal Duration: "+(l-d)+"ms"),rr.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),ti=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new ei(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return ni(e,n)},e.prototype.removeReference=function(e,t,n){return ni(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return ni(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return Hr(e).Ot((function(r){return qr(e,r,t).next((function(e){return e&&(n=!0),rr.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.we(e,(function(o,s){if(s<=t){var u=n._e(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o),Xr(e).delete([0,Pn(o.path)])}))}));i.push(u)}})).next((function(){return rr.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return ni(e,t)},e.prototype.we=function(e,t){var n,r=Xr(e),i=s.o;return r.$t({index:Gn.documentTargetsIndex},(function(e,r){var a=e[0];e[1];var o=r.path,u=r.sequenceNumber;0===a?(i!==s.o&&t(new W(Ln(n)),i),i=u,n=o):i=s.o})).next((function(){i!==s.o&&t(new W(Ln(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function ni(e,t){return Xr(e).put(function(e,t){return new Gn(0,Pn(e.path),t)}(t,e.currentSequenceNumber))}var ri=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var a=i[r],o=a[0],s=a[1];if(this.equalsFn(o,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){A(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var a=i[r],o=a[0],s=a[1];e(o,s)}}))},e.prototype.isEmpty=function(){return E(this.inner)},e}(),ii=function(){function e(){this.changes=new ri((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:O.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:ue.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?rr.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),ai=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return ui(e).put(li(t),n)},e.prototype.removeEntry=function(e,t){var n=ui(e),r=li(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return ui(e).get(li(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return ui(e).get(li(t)).next((function(e){return{document:n.ye(t,e),size:zr(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=jt();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=jt(),i=new Ct(W.comparator);return this.pe(e,t,(function(e,t){var a=n.ye(e,t);r=r.insert(e,a),i=i.insert(e,zr(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return rr.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return ui(e).$t({range:r},(function(e,t,r){for(var o=W.fromSegments(e);a&&W.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Ct(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=jt(),a=t.path.length+1,o={};if(n.isEqual(O.min())){var s=t.path.toArray();o.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),l=wr(n);o.range=IDBKeyRange.lowerBound([u,l],!0),o.index=Hn.collectionReadTimeIndex}return ui(e).$t(o,(function(e,n,o){if(e.length===a){var s=br(r.R,n);t.path.isPrefixOf(s.key.path)?Ve(t,s)&&(i=i.insert(s.key,s)):o.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new oi(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return si(e).get(Wn.key).next((function(e){return y(!!e),e}))},e.prototype.me=function(e,t){return si(e).put(Wn.key,t)},e.prototype.ye=function(e,t){if(t){var n=br(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(O.min()))return n}return ue.newInvalidDocument(e)},e}(),oi=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new ri((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return Object(r.__extends)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new Dt((function(e,t){return w(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Ae.get(a);if(o.document.isValidDocument()){var u=_r(t.Ie.R,o.document,t.getReadTime(a));i=i.add(a.path.popLast());var l=zr(u);r+=l-s,n.push(t.Ie.addEntry(e,a,u))}else if(r-=s,t.trackRemovals){var c=_r(t.Ie.R,ue.newNoDocument(a,O.min()),t.getReadTime(a));n.push(t.Ie.addEntry(e,a,c))}else n.push(t.Ie.removeEntry(e,a))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),rr.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(ii);function si(e){return pr(e,Wn.store)}function ui(e){return pr(e,Hn.store)}function li(e){return e.path.toArray()}var ci=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;y(n<r&&n>=0&&r<=11);var a=new ir("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Fn.store)}(e),function(e){e.createObjectStore(zn.store,{keyPath:zn.keyPath}),e.createObjectStore(Un.store,{keyPath:Un.keyPath,autoIncrement:!0}).createIndex(Un.userMutationsIndex,Un.userMutationsKeyPath,{unique:!0}),e.createObjectStore(qn.store)}(e),fi(e),function(e){e.createObjectStore(Hn.store)}(e));var o=rr.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Gn.store),e.deleteObjectStore(Yn.store),e.deleteObjectStore(Kn.store)}(e),fi(e)),o=o.next((function(){return function(e){var t=e.store(Kn.store),n=new Kn(0,0,O.min().toTimestamp(),0);return t.put(Kn.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(Un.store).Nt().next((function(n){e.deleteObjectStore(Un.store),e.createObjectStore(Un.store,{keyPath:Un.keyPath,autoIncrement:!0}).createIndex(Un.userMutationsIndex,Un.userMutationsKeyPath,{unique:!0});var r=t.store(Un.store),i=n.map((function(e){return r.put(e)}));return rr.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore($n.store,{keyPath:$n.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Re(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(Wn.store)}(e),i.be(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.ve(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Pe(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Hn.store);t.createIndex(Hn.readTimeIndex,Hn.readTimeIndexPath,{unique:!1}),t.createIndex(Hn.collectionReadTimeIndex,Hn.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ve(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(Qn.store,{keyPath:Qn.keyPath})}(e),function(e){e.createObjectStore(Jn.store,{keyPath:Jn.keyPath})}(e)}))),o},e.prototype.be=function(e){var t=0;return e.store(Hn.store).$t((function(e,n){t+=zr(n)})).next((function(){var n=new Wn(t);return e.store(Wn.store).put(Wn.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(zn.store),r=e.store(Un.store);return n.Nt().next((function(n){return rr.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Un.userMutationsIndex,i).next((function(r){return rr.forEach(r,(function(r){y(r.userId===n.userId);var i=Or(t.R,r);return Fr(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(Gn.store),n=e.store(Hn.store);return e.store(Kn.store).get(Kn.key).next((function(e){var r=[];return n.$t((function(n,i){var a=new M(n),o=function(e){return[0,Pn(e)]}(a);r.push(t.get(o).next((function(n){return n?rr.resolve():function(n){return t.put(new Gn(0,Pn(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return rr.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(Xn.store,{keyPath:Xn.keyPath});var n=t.store(Xn.store),r=new Pr,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Pn(i)})}};return t.store(Hn.store).$t({kt:!0},(function(e,t){var n=new M(e);return i(n.popLast())})).next((function(){return t.store(qn.store).$t({kt:!0},(function(e,t){e[0];var n=e[1];e[2];var r=Ln(n);return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(Yn.store);return n.$t((function(e,r){var i=Sr(r),a=Ar(t.R,i);return n.put(a)}))},e}();function fi(e){e.createObjectStore(Gn.store,{keyPath:Gn.keyPath}).createIndex(Gn.documentTargetsIndex,Gn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Yn.store,{keyPath:Yn.keyPath}).createIndex(Yn.queryTargetsIndexName,Yn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Kn.store)}var hi="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",di=function(){function e(t,n,r,i,a,o,s,c,f,h){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=a,this.window=o,this.document=s,this.De=f,this.Ce=h,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new l(u.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ti(this,i),this.Le=n+"main",this.R=new mr(c),this.Be=new ar(this.Le,11,new ci(this.R)),this.qe=new Yr(this.referenceDelegate,this.R),this.Ut=new Nr,this.Ue=function(e,t){return new ai(e,t)}(this.R,this.Ut),this.Ke=new Cr,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===h&&d("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new l(u.FAILED_PRECONDITION,hi);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new s(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return Object(r.__awaiter)(t,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return Object(r.__awaiter)(t,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return vi(t).put(new $n(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(ur(t))return h("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return h("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return pi(e).get(Fn.key).next((function(e){return rr.resolve(t.tn(e))}))},e.prototype.en=function(e){return vi(e).delete(this.clientId)},e.prototype.nn=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,t,n,i,a=this;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=pr(e,$n.store);return t.Nt().next((function(e){var n=a.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return rr.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=r.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)i=n[t],this.Qe.removeItem(this.on(i.clientId));r.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?rr.resolve(!0):pi(e).get(Fn.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new l(u.FAILED_PRECONDITION,hi);return!1}}return!(!t.networkEnabled||!t.inForeground)||vi(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&h("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e=this;return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Fn.store,$n.store],(function(t){var n=new dr(t,s.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return vi(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return Ur.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;h("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,a,Zn,(function(a){return i=new dr(a,r.Ne?r.Ne.next():s.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw d("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new l(u.FAILED_PRECONDITION,er);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return pi(e).get(Fn.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new l(u.FAILED_PRECONDITION,hi)}))},e.prototype.Ze=function(e){var t=new Fn(this.clientId,this.allowTabSynchronization,Date.now());return pi(e).put(Fn.key,t)},e.yt=function(){return ar.yt()},e.prototype.Xe=function(e){var t=this,n=pi(e);return n.get(Fn.key).next((function(e){return t.tn(e)?(h("IndexedDbPersistence","Releasing primary lease."),n.delete(Fn.key)):rr.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(d("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){t.un(),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return h("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return d("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){d("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function pi(e){return pr(e,Fn.store)}function vi(e){return pr(e,$n.store)}function gi(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var yi=function(e,t){this.progress=e,this.wn=t},mi=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return W.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):Le(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new W(t)).next((function(e){var t=Rt();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,a=Rt();return this.Ut.getCollectionParents(e,i).next((function(o){return rr.forEach(o,(function(o){var s=function(e,t){return new Ce(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))},e.prototype.An=function(e,t,n){var r,i,a=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var a=n[t],o=0,s=a.mutations;o<s.length;o++){var u=s[o],l=u.key,c=r.get(l);null==c&&(c=ue.newInvalidDocument(l),r=r.insert(l,c)),dt(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(l))}}))})).next((function(){return r.forEach((function(e,n){Ve(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=qt(),i=0,a=t;i<a.length;i++)for(var o=0,s=a[i].mutations;o<s.length;o++){var u=s[o];u instanceof mt&&null===n.get(u.key)&&(r=r.add(u.key))}var l=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(l=l.insert(e,t))})),l}))},e}(),bi=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=qt(),i=qt(),a=0,o=n.docChanges;a<o.length;a++){var s=o[a];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),_i=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(O.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var s=i.Cn(t,o);return(De(t)||Pe(t))&&i.Nn(t.limitType,s,r,n)?i.Dn(e,t):(f()<=a.LogLevel.DEBUG&&h("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Be(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return s.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new Dt(He(e));return t.forEach((function(t,r){Ve(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return f()<=a.LogLevel.DEBUG&&h("QueryEngine","Using full collection scan to execute query:",Be(t)),this.Sn.getDocumentsMatchingQuery(e,t,O.min())},e}(),wi=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.Fn=new Ct(w),this.kn=new ri((function(e){return fe(e)}),he),this.$n=O.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new mi(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Fn)}))},e}();function xi(e,t,n,r){return new wi(e,t,n,r)}function Ti(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,a,o;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return n=m(e),i=n._n,a=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var r;return n._n.getAllMutationBatches(e).next((function(o){return r=o,i=n.persistence.getMutationQueue(t),a=new mi(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(t){for(var n=[],i=[],o=qt(),s=0,u=r;s<u.length;s++){var l=u[s];n.push(l.batchId);for(var c=0,f=l.mutations;c<f.length;c++){var h=f[c];o=o.add(h.key)}}for(var d=0,p=t;d<p.length;d++){var v=p[d];i.push(v.batchId);for(var g=0,y=v.mutations;g<y.length;g++){var m=y[g];o=o.add(m.key)}}return a.pn(e,o).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:i}}))}))}))];case 1:return o=r.sent(),[2,(n._n=i,n.Mn=a,n.xn.Vn(n.Mn),o)]}}))}))}function ki(e,t){var n=m(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=rr.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);y(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function Oi(e){var t=m(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function Si(e,t){var n=m(e),r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var o=[];t.targetChanges.forEach((function(t,a){var s=i.get(a);if(s){o.push(n.qe.removeMatchingKeys(e,t.removedDocuments,a).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,a)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var l=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(a,l),function(e,t,n){return y(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,l,t)&&o.push(n.qe.updateTargetData(e,l))}}}));var s=jt();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Ai(e,a,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(O.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return rr.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.Fn=i,e}))}function Ai(e,t,n,r,i){var a=qt();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=jt();return n.forEach((function(n,o){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(O.min())?(t.removeEntry(n,u),a=a.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o,u),a=a.insert(n,o)):h("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),a}))}function Ei(e,t){var n=m(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function Ci(e,t){var n=m(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,rr.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new yr(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Fn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(e.targetId,e),n.kn.set(t,e.targetId)),e}))}function Mi(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,a,o,s;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:i=m(e),a=i.Fn.get(t),o=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}))];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!ur(s=r.sent()))throw s;return h("LocalStore","Failed to update sequence numbers for target "+t+": "+s),[3,5];case 5:return i.Fn=i.Fn.remove(t),i.kn.delete(a.target),[2]}}))}))}function Ii(e,t,n){var r=m(e),i=O.min(),a=qt();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=m(e),i=r.kn.get(n);return void 0!==i?rr.resolve(r.Fn.get(i)):r.qe.getTargetData(t,n)}(r,e,Fe(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:O.min(),n?a:qt())})).next((function(e){return{documents:e,Bn:a}}))}))}function Di(e,t){var n=m(e),r=m(n.qe),i=n.Fn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function Pi(e){var t=m(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=m(e),i=jt(),a=wr(n),o=ui(t),s=IDBKeyRange.lowerBound(a,!0);return o.$t({index:Hn.readTimeIndex,range:s},(function(e,t){var n=br(r.R,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{wn:i,readTime:xr(a)}}))}(t.On,e,t.$n)})).then((function(e){var n=e.wn,r=e.readTime;return t.$n=r,n}))}function Ni(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){return[2,(t=m(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=ui(e),n=O.min();return t.$t({index:Hn.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=xr(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.$n=e}))]}))}))}function ji(e,t,n,i){return Object(r.__awaiter)(this,void 0,void 0,(function(){var a,o,s,u,l,c,f,h,d,p;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:for(a=m(e),o=qt(),s=jt(),u=zt(),l=0,c=n;l<c.length;l++)f=c[l],h=t.qn(f.metadata.name),f.document&&(o=o.add(h)),s=s.insert(h,t.Un(f)),u=u.insert(h,t.Kn(f.metadata.readTime));return d=a.On.newChangeBuffer({trackRemovals:!0}),[4,Ci(a,function(e){return Fe(Ie(M.fromString("__bundle__/docs/"+e)))}(i))];case 1:return p=r.sent(),[2,a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Ai(e,d,s,O.min(),u).next((function(t){return d.apply(e),t})).next((function(t){return a.qe.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.qe.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function Li(e,t,n){return void 0===n&&(n=qt()),Object(r.__awaiter)(this,void 0,void 0,(function(){var i,a;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,Ci(e,Fe(Er(t.bundledQuery)))];case 1:return i=r.sent(),[2,(a=m(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var r=on(t.readTime);if(i.snapshotVersion.compareTo(r)>=0)return a.Ke.saveNamedQuery(e,t);var o=i.withResumeToken(N.EMPTY_BYTE_STRING,r);return a.Fn=a.Fn.insert(o.targetId,o),a.qe.updateTargetData(e,o).next((function(){return a.qe.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.qe.addMatchingKeys(e,n,i.targetId)})).next((function(){return a.Ke.saveNamedQuery(e,t)}))}))]}}))}))}var Ri=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return rr.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:on(n.createTime)}),rr.resolve()},e.prototype.getNamedQuery=function(e,t){return rr.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Er(e.bundledQuery),readTime:on(e.readTime)}}(t)),rr.resolve()},e}(),Fi=function(){function e(){this.Wn=new Dt(zi.Gn),this.zn=new Dt(zi.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new zi(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new zi(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new W(new M([])),r=new zi(n,e),i=new zi(n,e+1),a=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),a.push(e.key)})),a},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new W(new M([])),n=new zi(t,e),r=new zi(t,e+1),i=qt();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new zi(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),zi=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return W.comparator(e.key,t.key)||w(e.ns,t.ns)},e.Hn=function(e,t){return w(e.ns,t.ns)||W.comparator(e.key,t.key)},e}(),Ui=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new Dt(zi.Gn)}return e.prototype.checkEmpty=function(e){return rr.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new vr(i,t,n,r);this._n.push(a);for(var o=0,s=r;o<s.length;o++){var u=s[o];this.rs=this.rs.add(new zi(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return rr.resolve(a)},e.prototype.lookupMutationBatch=function(e,t){return rr.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return rr.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return rr.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return rr.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new zi(t,0),i=new zi(t,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);a.push(t)})),rr.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Dt(w);return t.forEach((function(e){var t=new zi(e,0),i=new zi(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),rr.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;W.isDocumentKey(i)||(i=i.child(""));var a=new zi(new W(i),0),o=new Dt(w);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ns)),!0)}),a),rr.resolve(this.us(o))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;y(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return rr.forEach(t.mutations,(function(i){var a=new zi(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new zi(t,0),r=this.rs.firstAfterOrEqual(n);return rr.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,rr.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),qi=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Ct(W.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-a,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return rr.resolve(n?n.document.clone():ue.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=jt();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():ue.newInvalidDocument(e))})),rr.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=jt(),i=new W(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value,l=u.document,c=u.readTime;if(!t.path.isPrefixOf(s.path))break;c.compareTo(n)<=0||Ve(t,l)&&(r=r.insert(l.key,l.clone()))}return rr.resolve(r)},e.prototype.fs=function(e,t){return rr.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new Bi(this)},e.prototype.getSize=function(e){return rr.resolve(this.size)},e}(),Bi=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return Object(r.__extends)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),rr.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(ii),Vi=function(){function e(e){this.persistence=e,this.ds=new ri((function(e){return fe(e)}),he),this.lastRemoteSnapshotVersion=O.min(),this.highestTargetId=0,this.ws=0,this._s=new Fi,this.targetCount=0,this.ys=Wr.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),rr.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return rr.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return rr.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),rr.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),rr.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new Wr(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,rr.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),rr.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,rr.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,a=[];return this.ds.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),rr.waitFor(a).next((function(){return i}))},e.prototype.getTargetCount=function(e){return rr.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return rr.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),rr.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),rr.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),rr.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return rr.resolve(n)},e.prototype.containsKey=function(e,t){return rr.resolve(this._s.containsKey(t))},e}(),Hi=function(){function e(e,t){var n=this;this.gs={},this.Ne=new s(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new Vi(this),this.Ut=new Dr,this.Ue=function(e,t){return new qi(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new mr(t),this.Ke=new Ri(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new Ui(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;h("MemoryPersistence","Starting transaction:",e);var i=new Wi(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return rr.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),Wi=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return Object(r.__extends)(t,e),t}(tr),Yi=function(){function e(e){this.persistence=e,this.As=new Fi,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw g()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),rr.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),rr.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),rr.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rr.forEach(this.vs,(function(r){var i=W.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return rr.or([function(){return rr.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),Gi=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function Ki(e,t){return"firestore_clients_"+e+"_"+t}function Xi(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function $i(e,t){return"firestore_targets_"+e+"_"+t}Gi.UNAUTHENTICATED=new Gi(null),Gi.GOOGLE_CREDENTIALS=new Gi("google-credentials-uid"),Gi.FIRST_PARTY=new Gi("first-party-uid");var Qi=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&(o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new l(a.error.code,a.error.message)),o?new e(t,n,a.state,i):(d("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Ji=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new l(i.error.code,i.error.message)),a?new e(t,i.state,r):(d("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Zi=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Vt(),o=0;i&&o<r.activeTargetIds.length;++o)i=H(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(d("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),ea=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(d("SharedClientState","Failed to parse online state: "+t),null)},e}(),ta=function(){function e(){this.activeTargetIds=Vt()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),na=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Ct(w),this.started=!1,this.$s=[];var a=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Ki(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new ta),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,t,n,i,a,o,s,u,l,c,f,h=this;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=r.sent(),t=0,n=e;t<n.length;t++)(i=n[t])!==this.Ns&&(a=this.getItem(Ki(this.persistenceKey,i)))&&(o=Zi.Vs(i,a))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(u=this.js(s))&&this.Ws(u),l=0,c=this.$s;l<c.length;l++)f=c[l],this.Fs(f);return this.$s=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem($i(this.persistenceKey,e));if(n){var r=Ji.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem($i(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return h("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){h("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){h("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Fs=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(h("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void d("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var e,t,i,a,o,u;return Object(r.__generator)(this,(function(r){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(i=this.si(n.key,n.newValue)))return[2,this.ii(i)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(a=this.ri(n.key,n.newValue)))return[2,this.oi(a)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(u=function(e){var t=s.o;if(null!=e)try{var n=JSON.parse(e);y("number"==typeof n),t=n}catch(e){d("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==s.o&&this.sequenceNumberHandler(u);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new Qi(this.currentUser,e,t,n),i=Xi(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=Xi(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=$i(this.persistenceKey,e),i=new Ji(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return Zi.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Qi.Vs(new Gi(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return Ji.Vs(r,t)},e.prototype.js=function(e){return ea.Vs(e)},e.prototype.ii=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(h("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.ks.insert(e,t):this.ks.remove(e),i=this.Gs(this.ks),a=this.Gs(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.hi(o,s).then((function(){n.ks=r}))},e.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=Vt();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),ra=function(){function e(){this.li=new ta,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new ta,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),ia=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),aa=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){h("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){h("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),oa={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},sa=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),ua=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return Object(r.__extends)(t,e),t.prototype.ki=function(e,t,n,r){return new Promise((function(i,a){var s=new o.g;s.listenOnce(o.c.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case o.a.NO_ERROR:var t=s.getResponseJson();h("Connection","XHR received:",JSON.stringify(t)),i(t);break;case o.a.TIMEOUT:h("Connection",'RPC "'+e+'" timed out'),a(new l(u.DEADLINE_EXCEEDED,"Request time out"));break;case o.a.HTTP_ERROR:var n=s.getStatus();if(h("Connection",'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(u).indexOf(t)>=0?t:u.UNKNOWN}(r.status);a(new l(c,r.message))}else a(new l(u.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new l(u.UNAVAILABLE,"Connection failed."));break;default:g()}}finally{h("Connection",'RPC "'+e+'" completed.')}}));var c=JSON.stringify(r);s.send(t,"POST",c,n,15)}))},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Object(o.h)(),a=Object(o.i)(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new o.d({})),this.Fi(s.initMessageHeaders,t),Object(i.isMobileCordova)()||Object(i.isReactNative)()||Object(i.isElectron)()||Object(i.isIE)()||Object(i.isUWP)()||Object(i.isBrowserExtension)()||(s.httpHeadersOverwriteParam="$httpHeaders");var c=n.join("");h("Connection","Creating WebChannel: "+c,s);var f=r.createWebChannel(c,s),d=!1,v=!1,g=new sa({Ei:function(e){v?h("Connection","Not sending because WebChannel is closed:",e):(d||(h("Connection","Opening WebChannel transport."),f.open(),d=!0),h("Connection","WebChannel sending:",e),f.send(e))},Ti:function(){return f.close()}}),m=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return m(f,o.f.EventType.OPEN,(function(){v||h("Connection","WebChannel transport opened.")})),m(f,o.f.EventType.CLOSE,(function(){v||(v=!0,h("Connection","WebChannel transport closed"),g.Vi())})),m(f,o.f.EventType.ERROR,(function(e){v||(v=!0,p("Connection","WebChannel transport errored:",e),g.Vi(new l(u.UNAVAILABLE,"The operation could not be completed")))})),m(f,o.f.EventType.MESSAGE,(function(e){var t;if(!v){var n=e.data[0];y(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){h("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=xt[e];if(void 0!==t)return Et(t)}(a),s=i.message;void 0===o&&(o=u.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),v=!0,g.Vi(new l(o,s)),f.close()}else h("Connection","WebChannel received:",n),g.Si(n)}})),m(a,o.b.STAT_EVENT,(function(e){e.stat===o.e.PROXY?h("Connection","Detected buffering proxy"):e.stat===o.e.NOPROXY&&h("Connection","Detected no buffering proxy")})),setTimeout((function(){g.Pi()}),0),g},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);h("RestConnection","Sending: ",i,n);var a={};return this.Fi(a,r),this.ki(e,i,a,n).then((function(e){return h("RestConnection","Received: ",e),e}),(function(t){throw p("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.Fi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.7.0",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=oa[e];return this.Di+"/v1/"+t+":"+n},e}());function la(){return"undefined"!=typeof window?window:null}function ca(){return"undefined"!=typeof document?document:null}function fa(e){return new tn(e,!0)}var ha=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&h("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),da=function(){function e(e,t,n,r,i,a){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new ha(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===u.RESOURCE_EXHAUSTED?(d(t.toString()),d("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===u.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new l(u.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return Object(r.__awaiter)(e,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return h("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(h("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),pa=function(e){function t(t,n,r,i,a){var o=this;return(o=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,a)||this).R=i,o}return Object(r.__extends)(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:g()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.I?(y(void 0===t||"string"==typeof t),N.fromBase64String(t||"")):(y(void 0===t||t instanceof Uint8Array),N.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?u.UNKNOWN:Et(e.code);return new l(t,e.message||"")}(s);n=new Kt(r,i,a,o||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=cn(e,r.document.name),a=on(r.document.updateTime);var s=new oe({mapValue:{fields:r.document.fields}}),c=(o=ue.newFoundDocument(i,a,s),r.targetIds||[]),f=r.removedTargetIds||[];n=new Yt(c,f,o.key,o)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=cn(e,r.document),a=r.readTime?on(r.readTime):O.min(),s=ue.newNoDocument(i,a),o=r.removedTargetIds||[],n=new Yt([],o,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=cn(e,r.document),a=r.removedTargetIds||[],n=new Yt([],a,i,null);else{if(!("filter"in t))return g();t.filter;var h=t.filter;h.targetId,r=h.count||0,i=new St(r),a=h.targetId,n=new Gt(a,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return O.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?O.min():t.readTime?on(t.readTime):O.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=dn(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=de(r)?{documents:bn(e,r)}:{query:_n(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=rn(e,t.resumeToken):t.snapshotVersion.compareTo(O.min())>0&&(n.readTime=nn(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return g()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=dn(this.R),t.removeTarget=e,this.cr(t)},t}(da),va=function(e){function t(t,n,r,i,a){var o=this;return(o=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,a)||this).R=i,o.gr=!1,o}return Object(r.__extends)(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(y(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(y(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?on(e.updateTime):on(t);return n.isEqual(O.min())&&(n=on(t)),new ut(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=on(e.commitTime);return this.listener.Tr(n,t)}return y(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=dn(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return yn(t.R,e)}))};this.cr(n)},t}(da),ga=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(r.__extends)(t,e),t.prototype.br=function(){if(this.Rr)throw new l(u.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===u.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new l(u.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===u.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new l(u.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),ya=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(d(t),this.Vr=!1):h("OnlineStateTracker",t)},e.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),ma=function(e,t,n,i,a){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=a,this.Lr.di((function(e){n.enqueueAndForget((function(){return Object(r.__awaiter)(o,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){switch(e.label){case 0:return Aa(this)?(h("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return(t=m(e)).Or.add(4),[4,_a(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,ba(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new ya(n,i)};function ba(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:if(!Aa(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function _a(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function wa(e,t){var n=m(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Sa(n)?Oa(n):Ba(n).er()&&Ta(n,t))}function xa(e,t){var n=m(e),r=Ba(n);n.$r.delete(t),r.er()&&ka(n,t),0===n.$r.size&&(r.er()?r.ir():Aa(n)&&n.Br.set("Unknown"))}function Ta(e,t){e.qr.U(t.targetId),Ba(e).mr(t)}function ka(e,t){e.qr.U(t),Ba(e).yr(t)}function Oa(e){e.qr=new $t({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Ba(e).start(),e.Br.Sr()}function Sa(e){return Aa(e)&&!Ba(e).tr()&&e.$r.size>0}function Aa(e){return 0===m(e).Or.size}function Ea(e){e.qr=void 0}function Ca(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return e.$r.forEach((function(t,n){Ta(e,t)})),[2]}))}))}function Ma(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(n){return Ea(e),Sa(e)?(e.Br.Nr(t),Oa(e)):e.Br.set("Unknown"),[2]}))}))}function Ia(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,a,o;return Object(r.__generator)(this,(function(s){switch(s.label){case 0:if(e.Br.set("Online"),!(t instanceof Kt&&2===t.state&&t.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,a,o;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:n=t.cause,i=0,a=t.targetIds,r.label=1;case 1:return i<a.length?(o=a[i],e.$r.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:r.sent(),e.$r.delete(o),e.qr.removeTarget(o),r.label=3;case 3:r.label=4;case 4:return i++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return s.sent(),[3,5];case 3:return i=s.sent(),h("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),[4,Da(e,i)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Yt?e.qr.X(t):t instanceof Gt?e.qr.rt(t):e.qr.et(t),n.isEqual(O.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Oi(e.localStore)];case 8:return a=s.sent(),n.compareTo(a)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(N.EMPTY_BYTE_STRING,n.snapshotVersion)),ka(e,t);var r=new yr(n.target,t,1,n.sequenceNumber);Ta(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return h("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Da(e,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function Da(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i=this;return Object(r.__generator)(this,(function(a){switch(a.label){case 0:if(!ur(t))throw t;return e.Or.add(1),[4,_a(e)];case 1:return a.sent(),e.Br.set("Offline"),n||(n=function(){return Oi(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return Object(r.__awaiter)(i,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return h("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,ba(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function Pa(e,t){return t().catch((function(n){return Da(e,n,t)}))}function Na(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n,i,a,o;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:t=m(e),n=Va(t),i=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,r.label=1;case 1:if(!function(e){return Aa(e)&&e.kr.length<10}(t))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,Ei(t.localStore,i)];case 3:return null===(a=r.sent())?(0===t.kr.length&&n.ir(),[3,7]):(i=a.batchId,function(e,t){e.kr.push(t);var n=Va(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,a),[3,6]);case 4:return o=r.sent(),[4,Da(t,o)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return ja(t)&&La(t),[2]}}))}))}function ja(e){return Aa(e)&&!Va(e).tr()&&e.kr.length>0}function La(e){Va(e).start()}function Ra(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return Va(e).Ar(),[2]}))}))}function Fa(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n,i,a;return Object(r.__generator)(this,(function(r){for(t=Va(e),n=0,i=e.kr;n<i.length;n++)a=i[n],t.Er(a.mutations);return[2]}))}))}function za(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,a;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return i=e.kr.shift(),a=gr.from(i,t,n),[4,Pa(e,(function(){return e.remoteSyncer.applySuccessfulWrite(a)}))];case 1:return r.sent(),[4,Na(e)];case 2:return r.sent(),[2]}}))}))}function Ua(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return t&&Va(e).pr?[4,function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return At(i=t.code)&&i!==u.ABORTED?(n=e.kr.shift(),Va(e).sr(),[4,Pa(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return r.sent(),[4,Na(e)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return ja(e)&&La(e),[2]}}))}))}function qa(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return n=m(e),t?(n.Or.delete(2),[4,ba(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,_a(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Ba(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=m(e);return r.br(),new pa(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Ca.bind(null,e),Ri:Ma.bind(null,e),_r:Ia.bind(null,e)}),e.Mr.push((function(n){return Object(r.__awaiter)(t,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),Sa(e)?Oa(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),Ea(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function Va(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=m(e);return r.br(),new va(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Ra.bind(null,e),Ri:Ua.bind(null,e),Ir:Fa.bind(null,e),Tr:za.bind(null,e)}),e.Mr.push((function(n){return Object(r.__awaiter)(t,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,Na(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.kr.length>0&&(h("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Kr}var Ha=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new l(u.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Wa(e,t){if(d("AsyncQueue",t+": "+e),ur(e))return new l(u.UNAVAILABLE,t+": "+e);throw e}var Ya=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||W.comparator(t.key,n.key)}:function(e,t){return W.comparator(e.key,t.key)},this.keyedMap=Rt(),this.sortedSet=new Ct(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Ga=function(){function e(){this.Qr=new Ct(W.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):g():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),Ka=function(){function e(e,t,n,r,i,a,o,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Ya.emptySet(n),a,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ue(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),Xa=function(){this.Wr=void 0,this.listeners=[]},$a=function(){this.queries=new ri((function(e){return qe(e)}),Ue),this.onlineState="Unknown",this.Gr=new Set};function Qa(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,a,o,s,u,l;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:if(n=m(e),i=t.query,a=!1,(o=n.queries.get(i))||(a=!0,o=new Xa),!a)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),s=o,[4,n.onListen(i)];case 2:return s.Wr=r.sent(),[3,4];case 3:return u=r.sent(),l=Wa(u,"Initialization of query '"+Be(t.query)+"' failed"),[2,void t.onError(l)];case 4:return n.queries.set(i,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&to(n),[2]}}))}))}function Ja(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,a,o,s;return Object(r.__generator)(this,(function(r){return n=m(e),i=t.query,a=!1,(o=n.queries.get(i))&&(s=o.listeners.indexOf(t))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),a?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]}))}))}function Za(e,t){for(var n=m(e),r=!1,i=0,a=t;i<a.length;i++){var o=a[i],s=o.query,u=n.queries.get(s);if(u){for(var l=0,c=u.listeners;l<c.length;l++)c[l].Hr(o)&&(r=!0);u.Wr=o}}r&&to(n)}function eo(e,t,n){var r=m(e),i=r.queries.get(t);if(i)for(var a=0,o=i.listeners;a<o.length;a++)o[a].onError(n);r.queries.delete(t)}function to(e){e.Gr.forEach((function(e){e.next()}))}var no=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new Ka(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),a=!0):this.eo(e,this.onlineState)&&(this.no(e),a=!0),this.Xr=e,a},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=Ka.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),ro=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),io=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return cn(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?gn(this.R,e.document,!1):ue.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return on(e)},e}(),ao=function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=oo(e)}return e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new io(this.R),r=0,i=e;r<i.length;r++){var a=i[r];if(a.metadata.queries)for(var o=n.qn(a.metadata.name),s=0,u=a.metadata.queries;s<u.length;s++){var l=u[s],c=(t.get(l)||qt()).add(o);t.set(l,c)}}return t},e.prototype.complete=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,t,n,i,a;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,ji(this.localStore,new io(this.R),this.documents,this.ro.id)];case 1:e=r.sent(),t=this.co(this.documents),n=0,i=this.queries,r.label=2;case 2:return n<i.length?(a=i[n],[4,Li(this.localStore,a,t.get(a.name))]):[3,5];case 3:r.sent(),r.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new yi(Object.assign({},this.progress),e))]}}))}))},e}();function oo(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var so=function(e){this.key=e},uo=function(e){this.key=e},lo=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=qt(),this.mutatedKeys=qt(),this.lo=He(e),this.fo=new Ya(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new Ga,i=t?t.fo:this.fo,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=De(this.query)&&i.size===this.query.limit?i.last():null,l=Pe(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),f=Ve(n.query,t)?t:null,h=!!c&&n.mutatedKeys.has(c.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;c&&f?c.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.yo(c,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.lo(f,u)>0||l&&n.lo(f,l)<0)&&(s=!0)):!c&&f?(r.track({type:0,doc:f}),p=!0):c&&!f&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),De(this.query)||Pe(this.query))for(;o.size>this.query.limit;){var c=De(this.query)?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{fo:o,mo:r,Nn:s,mutatedKeys:a}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var a=e.mo.jr();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return g()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var o=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==a.length||u?{snapshot:new Ka(this.query,e.fo,i,a,e.mutatedKeys,0===s,u,!1),To:o}:{To:o}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Ga,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=qt(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new uo(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new so(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=qt();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return Ka.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),co=function(e,t,n){this.query=e,this.targetId=t,this.view=n},fo=function(e){this.key=e,this.bo=!1},ho=function(){function e(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new ri((function(e){return qe(e)}),Ue),this.Vo=new Map,this.So=new Set,this.Do=new Ct(W.comparator),this.Co=new Map,this.No=new Fi,this.xo={},this.Fo=new Map,this.ko=Wr.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function po(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,a,o,s,u;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return n=Vo(e),(o=n.Po.get(t))?(i=o.targetId,n.sharedClientState.addLocalQueryTarget(i),a=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Ci(n.localStore,Fe(t))];case 2:return s=r.sent(),u=n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,[4,vo(n,t,i,"current"===u)];case 3:a=r.sent(),n.isPrimaryClient&&wa(n.remoteStore,s),r.label=4;case 4:return[2,a]}}))}))}function vo(e,t,n,i){return Object(r.__awaiter)(this,void 0,void 0,(function(){var a,o,s,u,l,c;return Object(r.__generator)(this,(function(f){switch(f.label){case 0:return e.Oo=function(t,n,i){return function(e,t,n,i){return Object(r.__awaiter)(this,void 0,void 0,(function(){var a,o,s;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return(a=t.view._o(n)).Nn?[4,Ii(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,a)}))]:[3,2];case 1:a=r.sent(),r.label=2;case 2:return o=i&&i.targetChanges.get(t.targetId),s=t.view.applyChanges(a,e.isPrimaryClient,o),[2,(Eo(e,t.targetId,s.To),s.snapshot)]}}))}))}(e,t,n,i)},[4,Ii(e.localStore,t,!0)];case 1:return a=f.sent(),o=new lo(t,a.Bn),s=o._o(a.documents),u=Wt.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==e.onlineState),l=o.applyChanges(s,e.isPrimaryClient,u),Eo(e,n,l.To),c=new co(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),l.snapshot)]}}))}))}function go(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,a;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return n=m(e),i=n.Po.get(t),(a=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,a.filter((function(e){return!Ue(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,Mi(n.localStore,i.targetId,!1).then((function(){n.sharedClientState.clearQueryState(i.targetId),xa(n.remoteStore,i.targetId),So(n,i.targetId)})).catch($r)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return So(n,i.targetId),[4,Mi(n.localStore,i.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))}function yo(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,a,o,s;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:i=Ho(e),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(e,t){var n,r=m(e),i=k.now(),a=t.reduce((function(e,t){return e.add(t.key)}),qt());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,a).next((function(a){n=a;for(var o=[],s=0,u=t;s<u.length;s++){var l=u[s],c=pt(l,n.get(l.key));null!=c&&o.push(new mt(l.key,c,se(c.value.mapValue),lt.exists(!0)))}return r._n.addMutationBatch(e,i,o,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,t)];case 2:return a=r.sent(),i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Ct(w)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(i,a.batchId,n),[4,Io(i,a.changes)];case 3:return r.sent(),[4,Na(i.remoteStore)];case 4:return r.sent(),[3,6];case 5:return o=r.sent(),s=Wa(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function mo(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:n=m(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Si(n.localStore,t)];case 2:return i=r.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(y(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?y(r.bo):e.removedDocuments.size>0&&(y(r.bo),r.bo=!1))})),[4,Io(n,i,t)];case 3:return r.sent(),[3,6];case 4:return[4,$r(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function bo(e,t,n){var r=m(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=m(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,a=n.listeners;i<a.length;i++)a[i].zr(t)&&(r=!0)})),r&&to(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function _o(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,a,o,s,u,l;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return(i=m(e)).sharedClientState.updateQueryState(t,"rejected",n),a=i.Co.get(t),(o=a&&a.key)?(s=(s=new Ct(W.comparator)).insert(o,ue.newNoDocument(o,O.min())),u=qt().add(o),l=new Ht(O.min(),new Map,new Dt(w),s,u),[4,mo(i,l)]):[3,2];case 1:return r.sent(),i.Do=i.Do.remove(o),i.Co.delete(t),Mo(i),[3,4];case 2:return[4,Mi(i.localStore,t,!1).then((function(){return So(i,t,n)})).catch($r)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))}function wo(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,a;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:n=m(e),i=t.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,ki(n.localStore,t)];case 2:return a=r.sent(),Oo(n,i,null),ko(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,Io(n,a)];case 3:return r.sent(),[3,6];case 4:return[4,$r(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function xo(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,a;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:i=m(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(e,t){var n=m(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return y(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(i.localStore,t)];case 2:return a=r.sent(),Oo(i,t,n),ko(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),[4,Io(i,a)];case 3:return r.sent(),[3,6];case 4:return[4,$r(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function To(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,a,o,s;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:Aa((n=m(e)).remoteStore)||h("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(e){var t=m(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(i=r.sent())?[2,void t.resolve()]:((a=n.Fo.get(i)||[]).push(t),n.Fo.set(i,a),[3,4]);case 3:return o=r.sent(),s=Wa(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(s),[3,4];case 4:return[2]}}))}))}function ko(e,t){(e.Fo.get(t)||[]).forEach((function(e){e.resolve()})),e.Fo.delete(t)}function Oo(e,t,n){var r=m(e),i=r.xo[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function So(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var a=i[r];e.Po.delete(a),n&&e.vo.Mo(a,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||Ao(e,t)}))}function Ao(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(xa(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Mo(e))}function Eo(e,t,n){for(var r=0,i=n;r<i.length;r++){var a=i[r];a instanceof so?(e.No.addReference(a.key,t),Co(e,a)):a instanceof uo?(h("SyncEngine","Document no longer in limbo: "+a.key),e.No.removeReference(a.key,t),e.No.containsKey(a.key)||Ao(e,a.key)):g()}}function Co(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(h("SyncEngine","New document in limbo: "+n),e.So.add(r),Mo(e))}function Mo(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new W(M.fromString(t)),r=e.ko.next();e.Co.set(r,new fo(n)),e.Do=e.Do.insert(n,r),wa(e.remoteStore,new yr(Fe(Ie(n.path)),r,2,s.o))}}function Io(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,a,o,s;return Object(r.__generator)(this,(function(u){switch(u.label){case 0:return i=m(e),a=[],o=[],s=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach((function(e,r){s.push(i.Oo(r,t,n).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(r.targetId,e.fromCache?"not-current":"current"),a.push(e);var t=bi.Pn(r.targetId,e);o.push(t)}})))})),[4,Promise.all(s)]);case 1:return u.sent(),i.vo._r(a),[4,function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,a,o,s,u,l,c,f;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:n=m(e),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return rr.forEach(t,(function(t){return rr.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return rr.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return r.sent(),[3,4];case 3:if(!ur(i=r.sent()))throw i;return h("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(a=0,o=t;a<o.length;a++)s=o[a],u=s.targetId,s.fromCache||(l=n.Fn.get(u),c=l.snapshotVersion,f=l.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(u,f));return[2]}}))}))}(i.localStore,o)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function Do(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return(n=m(e)).currentUser.isEqual(t)?[3,3]:(h("SyncEngine","User change. New user:",t.toKey()),[4,Ti(n.localStore,t)]);case 1:return i=r.sent(),n.currentUser=t,function(e,t){e.Fo.forEach((function(e){e.forEach((function(e){e.reject(new l(u.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),[4,Io(n,i.Ln)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}function Po(e,t){var n=m(e),r=n.Co.get(t);if(r&&r.bo)return qt().add(r.key);var i=qt(),a=n.Vo.get(t);if(!a)return i;for(var o=0,s=a;o<s.length;o++){var u=s[o],l=n.Po.get(u);i=i.unionWith(l.view.wo)}return i}function No(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,a;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,Ii((n=m(e)).localStore,t.query,!0)];case 1:return i=r.sent(),a=t.view.Ao(i),[2,(n.isPrimaryClient&&Eo(n,t.targetId,a.To),a)]}}))}))}function jo(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){return[2,Pi((t=m(e)).localStore).then((function(e){return Io(t,e)}))]}))}))}function Lo(e,t,n,i){return Object(r.__awaiter)(this,void 0,void 0,(function(){var a,o;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,function(e,t){var n=m(e),r=m(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):rr.resolve(null)}))}))}((a=m(e)).localStore,t)];case 1:return null===(o=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,Na(a.remoteStore)];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Oo(a,t,i||null),ko(a,t),function(e,t){m(m(e)._n).Gt(t)}(a.localStore,t)):g(),r.label=4;case 4:return[4,Io(a,o)];case 5:return r.sent(),[3,7];case 6:h("SyncEngine","Cannot apply mutation batch with id: "+t),r.label=7;case 7:return[2]}}))}))}function Ro(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,a,o,s,u,l,c;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return Vo(n=m(e)),Ho(n),!0!==t||!0===n.$o?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,Fo(n,i.toArray())]);case 1:return a=r.sent(),n.$o=!0,[4,qa(n.remoteStore,!0)];case 2:for(r.sent(),o=0,s=a;o<s.length;o++)u=s[o],wa(n.remoteStore,u);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(l=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?l.push(t):c=c.then((function(){return So(n,t),Mi(n.localStore,t,!0)})),xa(n.remoteStore,t)})),[4,c]);case 4:return r.sent(),[4,Fo(n,l)];case 5:return r.sent(),function(e){var t=m(e);t.Co.forEach((function(e,n){xa(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new Ct(W.comparator)}(n),n.$o=!1,[4,qa(n.remoteStore,!1)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))}function Fo(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,a,o,s,u,l,c,f,h,d,p,v,g;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:n=m(e),i=[],a=[],o=0,s=t,r.label=1;case 1:return o<s.length?(u=s[o],l=void 0,(c=n.Vo.get(u))&&0!==c.length?[4,Ci(n.localStore,Fe(c[0]))]:[3,7]):[3,13];case 2:l=r.sent(),f=0,h=c,r.label=3;case 3:return f<h.length?(d=h[f],p=n.Po.get(d),[4,No(n,p)]):[3,6];case 4:(v=r.sent()).snapshot&&a.push(v.snapshot),r.label=5;case 5:return f++,[3,3];case 6:return[3,11];case 7:return[4,Di(n.localStore,u)];case 8:return g=r.sent(),[4,Ci(n.localStore,g)];case 9:return l=r.sent(),[4,vo(n,zo(g),u,!1)];case 10:r.sent(),r.label=11;case 11:i.push(l),r.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(a),i)]}}))}))}function zo(e){return Me(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Uo(e){var t=m(e);return m(m(t.localStore).persistence).fn()}function qo(e,t,n,i){return Object(r.__awaiter)(this,void 0,void 0,(function(){var a,o,s;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return(a=m(e)).$o?(h("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!a.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Pi(a.localStore)];case 3:return o=r.sent(),s=Ht.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Io(a,o,s)];case 4:return r.sent(),[3,8];case 5:return[4,Mi(a.localStore,t,!0)];case 6:return r.sent(),So(a,t,i),[3,8];case 7:g(),r.label=8;case 8:return[2]}}))}))}function Bo(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,a,o,s,u,l,c,f,d,p;return Object(r.__generator)(this,(function(v){switch(v.label){case 0:if(!(i=Vo(e)).$o)return[3,10];a=0,o=t,v.label=1;case 1:return a<o.length?(s=o[a],i.Vo.has(s)?(h("SyncEngine","Adding an already active target "+s),[3,5]):[4,Di(i.localStore,s)]):[3,6];case 2:return u=v.sent(),[4,Ci(i.localStore,u)];case 3:return l=v.sent(),[4,vo(i,zo(u),l.targetId,!1)];case 4:v.sent(),wa(i.remoteStore,l),v.label=5;case 5:return a++,[3,1];case 6:c=function(e){return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return i.Vo.has(e)?[4,Mi(i.localStore,e,!1).then((function(){xa(i.remoteStore,e),So(i,e)})).catch($r)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},f=0,d=n,v.label=7;case 7:return f<d.length?(p=d[f],[5,c(p)]):[3,10];case 8:v.sent(),v.label=9;case 9:return f++,[3,7];case 10:return[2]}}))}))}function Vo(e){var t=m(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=mo.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Po.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_o.bind(null,t),t.vo._r=Za.bind(null,t.eventManager),t.vo.Mo=eo.bind(null,t.eventManager),t}function Ho(e){var t=m(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wo.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xo.bind(null,t),t}function Wo(e,t,n){var i=m(e);(function(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,a,o,s,u,l;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,14,,15]),[4,t.getMetadata()];case 1:return i=r.sent(),[4,function(e,t){var n=m(e),r=on(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ke.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(e.localStore,i)];case 2:return r.sent()?[4,t.close()]:[3,4];case 3:return[2,(r.sent(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)))];case 4:return n._updateProgress(oo(i)),a=new ao(i,e.localStore,t.R),[4,t.Lo()];case 5:o=r.sent(),r.label=6;case 6:return o?[4,a.oo(o)]:[3,10];case 7:return(s=r.sent())&&n._updateProgress(s),[4,t.Lo()];case 8:o=r.sent(),r.label=9;case 9:return[3,6];case 10:return[4,a.complete()];case 11:return u=r.sent(),[4,Io(e,u.wn,void 0)];case 12:return r.sent(),[4,function(e,t){var n=m(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ke.saveBundleMetadata(e,t)}))}(e.localStore,i)];case 13:return r.sent(),n._completeWith(u.progress),[3,15];case 14:return p("SyncEngine","Loading bundle failed with "+(l=r.sent())),n._failWith(l),[3,15];case 15:return[2]}}))}))})(i,t,n).then((function(){i.sharedClientState.notifyBundleLoaded()}))}var Yo=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return this.R=fa(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return xi(this.persistence,new _i,e.initialUser,this.R)},e.prototype.qo=function(e){return new Hi(Yi.bs,this.R)},e.prototype.Bo=function(e){return new ra},e.prototype.terminate=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),Go=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(r.__extends)(t,e),t.prototype.initialize=function(t){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,Ni(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,t)];case 3:return n.sent(),[4,Ho(this.Qo.syncEngine)];case 4:return n.sent(),[4,Na(this.Qo.remoteStore)];case 5:return n.sent(),[2]}}))}))},t.prototype.Ko=function(e){return xi(this.persistence,new _i,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Zr(t,e.asyncQueue)},t.prototype.qo=function(e){var t=gi(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Rr.withCacheSize(this.cacheSizeBytes):Rr.DEFAULT;return new di(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,la(),ca(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new ra},t}(Yo),Ko=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(r.__extends)(t,e),t.prototype.initialize=function(t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i=this;return Object(r.__generator)(this,(function(a){switch(a.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return a.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof na?(this.sharedClientState.syncEngine={ui:Lo.bind(null,n),ai:qo.bind(null,n),hi:Bo.bind(null,n),fn:Uo.bind(null,n),ci:jo.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:a.sent(),a.label=3;case 3:return[4,this.persistence.He((function(e){return Object(r.__awaiter)(i,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return[4,Ro(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return a.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=la();if(!na.yt(t))throw new l(u.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=gi(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new na(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(Go),Xo=function(){function e(){}return e.prototype.initialize=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n=this;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return bo(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Do.bind(null,this.syncEngine),[4,qa(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new $a},e.prototype.createDatastore=function(e){var t,n=fa(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new ua(t));return function(e,t,n){return new ga(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return bo(o.syncEngine,e,0)},a=aa.yt()?new aa:new ia,new ma(t,n,r,i,a)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,a,o){var s=new ho(e,t,n,r,i,a);return o&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return t=m(e),h("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,_a(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();function $o(e,t){void 0===t&&(t=10240);var n=0;return{read:function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i;return Object(r.__generator)(this,(function(r){return n<e.byteLength?(i={value:e.slice(n,n+t),done:!1},[2,(n+=t,i)]):[2,{done:!0}]}))}))},cancel:function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Qo=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),Jo=function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new nr,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,t,n,i;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.Jo()];case 1:return null===(e=r.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return i=r.sent(),[2,new ro(JSON.parse(i),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))},e}(),Zo=function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return Object(r.__generator)(this,(function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new l(u.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,a,o,s,u;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return n=m(e),i=dn(n.R)+"/documents",a={documents:t.map((function(e){return ln(n.R,e)}))},[4,n.$i("BatchGetDocuments",i,a)];case 1:return o=r.sent(),s=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){y(!!t.found),t.found.name,t.found.updateTime;var n=cn(e,t.found.name),r=on(t.found.updateTime),i=new oe({mapValue:{fields:t.found.fields}});return ue.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){y(!!t.missing),y(!!t.readTime);var n=cn(e,t.missing),r=on(t.readTime);return ue.newNoDocument(n,r)}(e,t):g()}(n.R,e);s.set(t.key.toString(),t)})),u=[],[2,(t.forEach((function(e){var t=s.get(e.toString());y(!!t),u.push(t)})),u)]}}))}))}(this.datastore,e)];case 1:return[2,((t=i.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new kt(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=W.fromPath(n);t.mutations.push(new Ot(r,t.precondition(r)))})),[4,function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,a;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return n=m(e),i=dn(n.R)+"/documents",a={writes:t.map((function(e){return yn(n.R,e)}))},[4,n.Ni("Commit",i,a)];case 1:return r.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw g();t=O.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new l(u.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?lt.updateTime(t):lt.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(O.min()))throw new l(u.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return lt.updateTime(t)}return lt.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}(),es=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new ha(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return Object(r.__awaiter)(e,void 0,void 0,(function(){var e,t,n=this;return Object(r.__generator)(this,(function(r){return e=new Zo(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!B(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!At(t)}return!1},e}(),ts=function(){function e(e,t,n){var i=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Gi.UNAUTHENTICATED,this.clientId=_.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return Object(r.__awaiter)(i,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return h("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new l(u.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Object(r.__awaiter)(e,void 0,void 0,(function(){var e,n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=Wa(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function ns(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,a=this;return Object(r.__generator)(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),h("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),i=n.initialUser,e.setCredentialChangeListener((function(e){return Object(r.__awaiter)(a,void 0,void 0,(function(){return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return i.isEqual(e)?[3,2]:[4,Ti(t.localStore,e)];case 1:n.sent(),i=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function rs(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i;return Object(r.__generator)(this,(function(a){switch(a.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,is(e)];case 1:return n=a.sent(),h("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return i=a.sent(),[4,t.initialize(n,i)];case 3:return a.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return(n=m(e)).asyncQueue.verifyOperationInProgress(),h("RemoteStore","RemoteStore received new credentials"),i=Aa(n),n.Or.add(3),[4,_a(n)];case 1:return r.sent(),i&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return r.sent(),n.Or.delete(3),[4,ba(n)];case 3:return r.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function is(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(h("FirestoreClient","Using default OfflineComponentProvider"),[4,ns(e,new Yo)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function as(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(h("FirestoreClient","Using default OnlineComponentProvider"),[4,rs(e,new Xo)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function os(e){return is(e).then((function(e){return e.persistence}))}function ss(e){return is(e).then((function(e){return e.localStore}))}function us(e){return as(e).then((function(e){return e.remoteStore}))}function ls(e){return as(e).then((function(e){return e.syncEngine}))}function cs(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,as(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=po.bind(null,t.syncEngine),n.onUnlisten=go.bind(null,t.syncEngine),n)]}}))}))}function fs(e,t,n){var i=this;void 0===n&&(n={});var a=new nr;return e.asyncQueue.enqueueAndForget((function(){return Object(r.__awaiter)(i,void 0,void 0,(function(){var i;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return i=function(e,t,n,r,i){var a=new Qo({next:function(a){t.enqueueAndForget((function(){return Ja(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new l(u.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new l(u.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new no(Ie(n.path),a,{includeMetadataChanges:!0,so:!0});return Qa(e,o)},[4,cs(e)];case 1:return[2,i.apply(void 0,[r.sent(),e.asyncQueue,t,n,a])]}}))}))})),a.promise}function hs(e,t,n){var i=this;void 0===n&&(n={});var a=new nr;return e.asyncQueue.enqueueAndForget((function(){return Object(r.__awaiter)(i,void 0,void 0,(function(){var i;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return i=function(e,t,n,r,i){var a=new Qo({next:function(n){t.enqueueAndForget((function(){return Ja(e,o)})),n.fromCache&&"server"===r.source?i.reject(new l(u.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new no(n,a,{includeMetadataChanges:!0,so:!0});return Qa(e,o)},[4,cs(e)];case 1:return[2,i.apply(void 0,[r.sent(),e.asyncQueue,t,n,a])]}}))}))})),a.promise}var ds=function(e,t,n,r,i,a,o,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.useFetchStreams=s},ps=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),vs=new Map,gs=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},ys=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(Gi.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),ms=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),bs=function(){function e(e){var t=this;this.currentUser=Gi.UNAUTHENTICATED,this.oc=new nr,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){h("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(h("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(h("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(y("string"==typeof n.accessToken),new gs(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return y(null===e||"string"==typeof e),new Gi(e)},e}(),_s=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=Gi.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),ws=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new _s(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(Gi.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function xs(e,t,n){if(!n)throw new l(u.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Ts(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new l(u.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function ks(e,t,n,r){if(!0===t&&!0===r)throw new l(u.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Os(e){if(!W.isDocumentKey(e))throw new l(u.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Ss(e){if(W.isDocumentKey(e))throw new l(u.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function As(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":g()}function Es(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new l(u.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=As(e);throw new l(u.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function Cs(e,t){if(t<=0)throw new l(u.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var Ms=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new l(u.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new l(u.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,ks("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),Is=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ms({}),this._settingsFrozen=!1,e instanceof ps?(this._databaseId=e,this._credentials=new ys):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new l(u.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ps(e.options.projectId)}(e),this._credentials=new bs(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new l(u.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new l(u.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ms(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new ys;switch(e.type){case"gapi":var t=e.client;return y(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new ws(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new l(u.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=vs.get(this))&&(h("ComponentProvider","Removing Datastore"),vs.delete(this),e.terminate()),Promise.resolve();var e},e}(),Ds=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ns(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Ps=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Ns=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Ie(r))||this)._path=r,i.type="collection",i}return Object(r.__extends)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Ds(this.firestore,null,new W(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Ps);function js(e,t){for(var n,a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];if(e=Object(i.getModularInstance)(e),xs("collection","path",t),e instanceof Is)return Ss(n=M.fromString.apply(M,Object(r.__spreadArray)([t],a))),new Ns(e,null,n);if(!(e instanceof Ds||e instanceof Ns))throw new l(u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ss(n=M.fromString.apply(M,Object(r.__spreadArray)([e.path],a)).child(M.fromString(t))),new Ns(e.firestore,null,n)}function Ls(e,t){for(var n,a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];if(e=Object(i.getModularInstance)(e),1===arguments.length&&(t=_.u()),xs("doc","path",t),e instanceof Is)return Os(n=M.fromString.apply(M,Object(r.__spreadArray)([t],a))),new Ds(e,null,new W(n));if(!(e instanceof Ds||e instanceof Ns))throw new l(u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Os(n=e._path.child(M.fromString.apply(M,Object(r.__spreadArray)([t],a)))),new Ds(e.firestore,e instanceof Ns?e.converter:null,new W(n))}function Rs(e,t){return e=Object(i.getModularInstance)(e),t=Object(i.getModularInstance)(t),(e instanceof Ds||e instanceof Ns)&&(t instanceof Ds||t instanceof Ns)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Fs(e,t){return e=Object(i.getModularInstance)(e),t=Object(i.getModularInstance)(t),e instanceof Ps&&t instanceof Ps&&e.firestore===t.firestore&&Ue(e._query,t._query)&&e.converter===t.converter}var zs=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=[],this.Zi=new ha(this,"async_queue_retry"),this.Tc=function(){var t=ca();t&&h("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=ca();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Tc)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ic(),this.Ac(e)},e.prototype.enterRestrictedMode=function(){if(!this._c){this._c=!0;var e=ca();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Tc)}},e.prototype.enqueue=function(e){return this.Ic(),this._c?new Promise((function(e){})):this.Ac(e)},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.Rc()}))},e.prototype.Rc=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!ur(e=n.sent()))throw e;return h("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.Rc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Ac=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,d("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ic(),this.Ec.indexOf(e)>-1&&(t=0);var i=Ha.createAndSchedule(this,e,t,n,(function(e){return r.bc(e)}));return this.mc.push(i),i},e.prototype.Ic=function(){this.yc&&g()},e.prototype.verifyOperationInProgress=function(){},e.prototype.vc=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Pc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Vc=function(e){var t=this;return this.vc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.vc()}))},e.prototype.Sc=function(e){this.Ec.push(e)},e.prototype.bc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function Us(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var a=i[r];if(a in n&&"function"==typeof n[a])return!0}return!1}(e)}var qs=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new nr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},e}(),Bs=-1,Vs=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new zs,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return Object(r.__extends)(t,e),t.prototype._terminate=function(){return this._firestoreClient||Ws(this),this._firestoreClient.terminate()},t}(Is);function Hs(e){return e._firestoreClient||Ws(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Ws(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new ds(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new ts(e._credentials,e._queue,r)}function Ys(e,t,n){var i=this,a=new nr;return e.asyncQueue.enqueue((function(){return Object(r.__awaiter)(i,void 0,void 0,(function(){var i;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,ns(e,n)];case 1:return r.sent(),[4,rs(e,t)];case 2:return r.sent(),a.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===u.FAILED_PRECONDITION||e.code===u.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(i=r.sent()))throw i;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),a.reject(i),[3,4];case 4:return[2]}}))}))})).then((function(){return a.promise}))}function Gs(e){if(e._initialized||e._terminated)throw new l(u.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ks=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new l(u.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new D(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),Xs=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(N.fromBase64String(t))}catch(t){throw new l(u.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(N.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),$s=function(e){this._methodName=e},Qs=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new l(u.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new l(u.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return w(this._lat,e._lat)||w(this._long,e._long)},e}(),Js=/^__.*__$/,Zs=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new mt(e,this.data,this.fieldMask,t,this.fieldTransforms):new yt(e,this.data,t,this.fieldTransforms)},e}(),eu=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new mt(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function tu(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw g()}}var nu=function(){function e(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Dc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Cc",{get:function(){return this.settings.Cc},enumerable:!1,configurable:!0}),e.prototype.Nc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.xc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Nc({path:n,Fc:!1});return r.kc(e),r},e.prototype.$c=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Nc({path:n,Fc:!1});return r.Dc(),r},e.prototype.Oc=function(e){return this.Nc({path:void 0,Fc:!0})},e.prototype.Mc=function(e){return xu(e,this.settings.methodName,this.settings.Lc||!1,this.path,this.settings.Bc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Dc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.kc(this.path.get(e))},e.prototype.kc=function(e){if(0===e.length)throw this.Mc("Document fields must not be empty");if(tu(this.Cc)&&Js.test(e))throw this.Mc('Document fields cannot begin and end with "__"')},e}(),ru=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||fa(e)}return e.prototype.qc=function(e,t,n,r){return void 0===r&&(r=!1),new nu({Cc:e,methodName:t,Bc:n,path:D.emptyPath(),Fc:!1,Lc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function iu(e){var t=e._freezeSettings(),n=fa(e._databaseId);return new ru(e._databaseId,!!t.ignoreUndefinedProperties,n)}function au(e,t,n,r,i,a){void 0===a&&(a={});var o=e.qc(a.merge||a.mergeFields?2:0,t,n,i);mu("Data must be an object, but it was:",o,r);var s,c,f=gu(r,o);if(a.merge)s=new P(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){for(var h=[],d=0,p=a.mergeFields;d<p.length;d++){var v=bu(t,p[d],n);if(!o.contains(v))throw new l(u.INVALID_ARGUMENT,"Field '"+v+"' is specified in your field mask but missing from your input data.");Tu(h,v)||h.push(v)}s=new P(h),c=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,c=o.fieldTransforms;return new Zs(new oe(f),s,c)}var ou=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Cc)throw 1===e.Cc?e.Mc(this._methodName+"() can only appear at the top level of your update data"):e.Mc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}($s);function su(e,t,n){return new nu({Cc:3,Bc:t.settings.Bc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var uu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype._toFieldTransform=function(e){return new st(e.path,new Ze)},t.prototype.isEqual=function(e){return e instanceof t},t}($s),lu=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Uc=n,r}return Object(r.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=su(this,e,!0),n=this.Uc.map((function(e){return vu(e,t)})),r=new et(n);return new st(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}($s),cu=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Uc=n,r}return Object(r.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=su(this,e,!0),n=this.Uc.map((function(e){return vu(e,t)})),r=new nt(n);return new st(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}($s),fu=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Object(r.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=new it(e.R,Ke(e.R,this.Kc));return new st(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}($s);function hu(e,t,n,r){var a=e.qc(1,t,n);mu("Data must be an object, but it was:",a,r);var o=[],s=oe.empty();A(r,(function(e,r){var u=wu(t,e,n);r=Object(i.getModularInstance)(r);var l=a.$c(u);if(r instanceof ou)o.push(u);else{var c=vu(r,l);null!=c&&(o.push(u),s.set(u,c))}}));var u=new P(o);return new eu(s,u,a.fieldTransforms)}function du(e,t,n,r,a,o){var s=e.qc(1,t,n),c=[bu(t,r,n)],f=[a];if(o.length%2!=0)throw new l(u.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<o.length;h+=2)c.push(bu(t,o[h])),f.push(o[h+1]);for(var d=[],p=oe.empty(),v=c.length-1;v>=0;--v)if(!Tu(d,c[v])){var g=c[v],y=f[v];y=Object(i.getModularInstance)(y);var m=s.$c(g);if(y instanceof ou)d.push(g);else{var b=vu(y,m);null!=b&&(d.push(g),p.set(g,b))}}var _=new P(d);return new eu(p,_,s.fieldTransforms)}function pu(e,t,n,r){return void 0===r&&(r=!1),vu(n,e.qc(r?4:3,t))}function vu(e,t){if(yu(e=Object(i.getModularInstance)(e)))return mu("Unsupported field value:",t,e),gu(e,t);if(e instanceof $s)return function(e,t){if(!tu(t.Cc))throw t.Mc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Mc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Cc)throw t.Mc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,a=e;i<a.length;i++){var o=vu(a[i],t.Oc(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Object(i.getModularInstance)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ke(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=k.fromDate(e);return{timestampValue:nn(t.R,n)}}if(e instanceof k)return n=new k(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:nn(t.R,n)};if(e instanceof Qs)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Xs)return{bytesValue:rn(t.R,e._byteString)};if(e instanceof Ds){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Mc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:sn(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Mc("Unsupported field value: "+As(e))}(e,t)}function gu(e,t){var n={};return E(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):A(e,(function(e,r){var i=vu(r,t.xc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function yu(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof k||e instanceof Qs||e instanceof Xs||e instanceof Ds||e instanceof $s)}function mu(e,t,n){if(!yu(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=As(n);throw"an object"===r?t.Mc(e+" a custom object"):t.Mc(e+" "+r)}}function bu(e,t,n){if((t=Object(i.getModularInstance)(t))instanceof Ks)return t._internalPath;if("string"==typeof t)return wu(e,t);throw xu("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var _u=new RegExp("[~\\*/\\[\\]]");function wu(e,t,n){if(t.search(_u)>=0)throw xu("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(Ks.bind.apply(Ks,Object(r.__spreadArray)([void 0],t.split(".")))))._internalPath}catch(i){throw xu("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function xu(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var c="";return(a||o)&&(c+=" (found",a&&(c+=" in field "+r),o&&(c+=" in document "+i),c+=")"),new l(u.INVALID_ARGUMENT,(s+=". ")+e+c)}function Tu(e,t){return e.some((function(e){return e.isEqual(t)}))}var ku=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Ds(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new Ou(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(Su("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),Ou=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(ku);function Su(e,t){return"string"==typeof t?wu(e,t):t instanceof Ks?t._internalPath:t._delegate._internalPath}var Au=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Eu=function(e){function t(t,n,r,i,a,o){var s=this;return(s=e.call(this,t,n,r,i,o)||this)._firestore=t,s._firestoreImpl=t,s.metadata=a,s}return Object(r.__extends)(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new Cu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(Su("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(ku),Cu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(Eu),Mu=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Au(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Cu(n._firestore,n._userDataWriter,r.key,r,new Au(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new l(u.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Cu(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Au(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Cu(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Au(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Iu(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function Iu(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return g()}}function Du(e,t){return e instanceof Eu&&t instanceof Eu?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Mu&&t instanceof Mu&&e._firestore===t._firestore&&Fs(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Pu(e){if(Pe(e)&&0===e.explicitOrderBy.length)throw new l(u.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Nu=function(){};function ju(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var a=i[r];e=a._apply(e)}return e}var Lu=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qc=t,i.jc=n,i.Wc=r,i.type="where",i}return Object(r.__extends)(t,e),t.prototype._apply=function(e){var t=iu(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new l(u.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+a+"' queries on FieldPath.documentId().");if("in"===a||"not-in"===a){Vu(o,a);for(var c=[],f=0,h=o;f<h.length;f++){var d=h[f];c.push(Bu(r,e,d))}s={arrayValue:{values:c}}}else s=Bu(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Vu(o,a),s=pu(n,"where",o,"in"===a||"not-in"===a);var p=pe.create(i,a,s);return function(e,t){if(t.g()){var n=je(e);if(null!==n&&!n.isEqual(t.field))throw new l(u.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=Ne(e);null!==r&&Hu(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new l(u.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new l(u.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,p),p}(e._query,0,t,e.firestore._databaseId,this.Qc,this.jc,this.Wc);return new Ps(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Ce(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(Nu),Ru=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Qc=t,r.Gc=n,r.type="orderBy",r}return Object(r.__extends)(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new l(u.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new l(u.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Oe(t,n);return function(e,t){if(null===Ne(e)){var n=je(e);null!==n&&Hu(e,n,t.field)}}(e,r),r}(e._query,this.Qc,this.Gc);return new Ps(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Ce(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(Nu),Fu=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.zc=n,i.Hc=r,i}return Object(r.__extends)(t,e),t.prototype._apply=function(e){return new Ps(e.firestore,e.converter,ze(e._query,this.zc,this.Hc))},t}(Nu),zu=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Jc=n,i.Yc=r,i}return Object(r.__extends)(t,e),t.prototype._apply=function(e){var t=qu(e,this.type,this.Jc,this.Yc);return new Ps(e.firestore,e.converter,function(e,t){return new Ce(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(Nu),Uu=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Jc=n,i.Yc=r,i}return Object(r.__extends)(t,e),t.prototype._apply=function(e){var t=qu(e,this.type,this.Jc,this.Yc);return new Ps(e.firestore,e.converter,function(e,t){return new Ce(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(Nu);function qu(e,t,n,r){if(n[0]=Object(i.getModularInstance)(n[0]),n[0]instanceof ku)return function(e,t,n,r,i){if(!r)throw new l(u.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var a=[],o=0,s=Re(e);o<s.length;o++){var c=s[o];if(c.field.isKeyField())a.push(Z(t,r.key));else{var f=r.data.field(c.field);if(z(f))throw new l(u.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===f){var h=c.field.canonicalString();throw new l(u.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+h+"' (used as the orderBy) does not exist.")}a.push(f)}}return new Te(a,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var a=iu(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new l(u.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],c=0;c<i.length;c++){var f=i[c];if(o[c].field.isKeyField()){if("string"!=typeof f)throw new l(u.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof f);if(!Le(e)&&-1!==f.indexOf("/"))throw new l(u.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+f+"' contains a slash.");var h=e.path.child(M.fromString(f));if(!W.isDocumentKey(h))throw new l(u.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+h+"' is not because it contains an odd number of segments.");var d=new W(h);s.push(Z(t,d))}else{var p=pu(n,r,f);s.push(p)}}return new Te(s,a)}(e._query,e.firestore._databaseId,a,t,n,r)}function Bu(e,t,n){if("string"==typeof(n=Object(i.getModularInstance)(n))){if(""===n)throw new l(u.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Le(t)&&-1!==n.indexOf("/"))throw new l(u.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(M.fromString(n));if(!W.isDocumentKey(r))throw new l(u.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Z(e,new W(r))}if(n instanceof Ds)return Z(e,n._key);throw new l(u.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+As(n)+".")}function Vu(e,t){if(!Array.isArray(e)||0===e.length)throw new l(u.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new l(u.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Hu(e,t,n){if(!n.isEqual(t))throw new l(u.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Wu=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),Y(e)){case 0:return null;case 1:return e.booleanValue;case 2:return R(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(F(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw g()}},e.prototype.convertObject=function(e,t){var n=this,r={};return A(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new Qs(R(e.latitude),R(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=U(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(q(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=L(e);return new k(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=M.fromString(e);y(Dn(n));var r=new ps(n.get(1),n.get(3)),i=new W(n.popFirst(5));return r.isEqual(t)||d("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function Yu(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Gu=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Object(r.__extends)(t,e),t.prototype.convertBytes=function(e){return new Xs(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ds(this.firestore,null,t)},t}(Wu),Ku=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=iu(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=Xu(e,this._firestore),i=Yu(r.converter,t,n),a=au(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,lt.none())),this},e.prototype.update=function(e,t,n){for(var r=[],a=3;a<arguments.length;a++)r[a-3]=arguments[a];this._verifyNotCommitted();var o,s=Xu(e,this._firestore);return o="string"==typeof(t=Object(i.getModularInstance)(t))||t instanceof Ks?du(this._dataReader,"WriteBatch.update",s._key,t,n,r):hu(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,lt.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=Xu(e,this._firestore);return this._mutations=this._mutations.concat(new kt(t._key,lt.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new l(u.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function Xu(e,t){if((e=Object(i.getModularInstance)(e)).firestore!==t)throw new l(u.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var $u=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Object(r.__extends)(t,e),t.prototype.convertBytes=function(e){return new Xs(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ds(this.firestore,null,t)},t}(Wu);function Qu(e,t,n){for(var r=[],a=3;a<arguments.length;a++)r[a-3]=arguments[a];e=Es(e,Ds);var o=Es(e.firestore,Vs),s=iu(o);return Zu(o,[("string"==typeof(t=Object(i.getModularInstance)(t))||t instanceof Ks?du(s,"updateDoc",e._key,t,n,r):hu(s,"updateDoc",e._key,t)).toMutation(e._key,lt.exists(!0))])}function Ju(e){for(var t,n,a,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];e=Object(i.getModularInstance)(e);var u={includeMetadataChanges:!1},l=0;"object"!=typeof o[l]||Us(o[l])||(u=o[l],l++);var c,f,h,d={includeMetadataChanges:u.includeMetadataChanges};if(Us(o[l])){var p=o[l];o[l]=null===(t=p.next)||void 0===t?void 0:t.bind(p),o[l+1]=null===(n=p.error)||void 0===n?void 0:n.bind(p),o[l+2]=null===(a=p.complete)||void 0===a?void 0:a.bind(p)}if(e instanceof Ds)f=Es(e.firestore,Vs),h=Ie(e._key.path),c={next:function(t){o[l]&&o[l](el(f,e,t))},error:o[l+1],complete:o[l+2]};else{var v=Es(e,Ps);f=Es(v.firestore,Vs),h=v._query;var g=new $u(f);c={next:function(e){o[l]&&o[l](new Mu(f,g,v,e))},error:o[l+1],complete:o[l+2]},Pu(e._query)}return function(e,t,n,i){var a=this,o=new Qo(i),s=new no(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return Object(r.__awaiter)(a,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return t=Qa,[4,cs(e)];case 1:return[2,t.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return Object(r.__awaiter)(a,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return t=Ja,[4,cs(e)];case 1:return[2,t.apply(void 0,[n.sent(),s])]}}))}))}))}}(Hs(f),h,d,c)}function Zu(e,t){return function(e,t){var n=this,i=new nr;return e.asyncQueue.enqueueAndForget((function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return n=yo,[4,ls(e)];case 1:return[2,n.apply(void 0,[r.sent(),t,i])]}}))}))})),i.promise}(Hs(e),t)}function el(e,t,n){var r=n.docs.get(t._key),i=new $u(e);return new Eu(e,i,t._key,r,new Au(n.hasPendingWrites,n.fromCache),t.converter)}var tl=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return Object(r.__extends)(t,e),t.prototype.get=function(t){var n=this,r=Xu(t,this._firestore),i=new $u(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new Eu(n._firestore,i,r._key,e._document,new Au(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=iu(e)}return e.prototype.get=function(e){var t=this,n=Xu(e,this._firestore),r=new Gu(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return g();var i=e[0];if(i.isFoundDocument())return new ku(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new ku(t._firestore,r,n._key,null,n.converter);throw g()}))},e.prototype.set=function(e,t,n){var r=Xu(e,this._firestore),i=Yu(r.converter,t,n),a=au(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this},e.prototype.update=function(e,t,n){for(var r=[],a=3;a<arguments.length;a++)r[a-3]=arguments[a];var o,s=Xu(e,this._firestore);return o="string"==typeof(t=Object(i.getModularInstance)(t))||t instanceof Ks?du(this._dataReader,"Transaction.update",s._key,t,n,r):hu(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,o),this},e.prototype.delete=function(e){var t=Xu(e,this._firestore);return this._transaction.delete(t._key),this},e}());function nl(){if("undefined"==typeof Uint8Array)throw new l(u.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function rl(){if("undefined"==typeof atob)throw new l(u.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var il=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return rl(),new e(Xs.fromBase64String(t))},e.fromUint8Array=function(t){return nl(),new e(Xs.fromUint8Array(t))},e.prototype.toBase64=function(){return rl(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return nl(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),al=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){Gs(e=Es(e,Vs));var n=Hs(e),r=e._freezeSettings(),i=new Xo;return Ys(n,i,new Go(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){Gs(e=Es(e,Vs));var t=Hs(e),n=e._freezeSettings(),r=new Xo;return Ys(t,r,new Ko(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new l(u.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new nr;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return ar.yt()?(t=e+"main",[4,ar.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(gi(e._databaseId,e._persistenceKey))];case 1:return i.sent(),n.resolve(),[3,3];case 2:return t=i.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),ol=function(){function e(e,t,n){var r=this;this._delegate=t,this.Xc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof ps||(this.Zc=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||p("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={});var a=(e=Es(e,Is))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&p("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:t+":"+n,ssl:!1})),r.mockUserToken){var o=Object(i.createMockUserToken)(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new l(u.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");e._credentials=new ms(new gs(o,new Gi(s)))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var t,n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,os(e)];case 1:return t=r.sent(),[4,us(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=m(e);return t.Or.delete(0),ba(t)}(n))]}}))}))}))}(Hs(Es(this._delegate,Vs)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var t,n;return Object(r.__generator)(this,(function(i){switch(i.label){case 0:return[4,os(e)];case 1:return t=i.sent(),[4,us(e)];case 2:return n=i.sent(),[2,(t.setNetworkEnabled(!1),function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return(t=m(e)).Or.add(0),[4,_a(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Hs(Es(this._delegate,Vs)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&ks("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Xc.enableMultiTabIndexedDbPersistence(this):this.Xc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Xc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Zc&&(this.Zc._removeServiceInstance("firestore"),this.Zc._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new nr;return e.asyncQueue.enqueueAndForget((function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return t=To,[4,ls(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Hs(Es(this._delegate,Vs)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,i=new Qo(t);return e.asyncQueue.enqueueAndForget((function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return t=function(e,t){m(e).Gr.add(t),t.next()},[4,cs(e)];case 1:return[2,t.apply(void 0,[n.sent(),i])]}}))}))})),function(){i.Wo(),e.asyncQueue.enqueueAndForget((function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return t=function(e,t){m(e).Gr.delete(t)},[4,cs(e)];case 1:return[2,t.apply(void 0,[n.sent(),i])]}}))}))}))}}(Hs(e=Es(e,Vs)),Us(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Zc)throw new l(u.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Zc},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new wl(this,js(this._delegate,e))}catch(e){throw dl(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new hl(this,Ls(this._delegate,e))}catch(e){throw dl(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new ml(this,function(e,t){if(e=Es(e,Is),xs("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new l(u.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Ps(e,null,function(e){return new Ce(M.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw dl(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,i=new nr;return e.asyncQueue.enqueueAndForget((function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,function(e){return as(e).then((function(e){return e.datastore}))}(e)];case 1:return n=r.sent(),new es(e.asyncQueue,n,t,i).run(),[2]}}))}))})),i.promise}(Hs(e),(function(n){return t(new tl(e,n))}))}(this._delegate,(function(n){return e(new ll(t,n))}))},e.prototype.batch=function(){var e=this;return Hs(this._delegate),new cl(new Ku(this._delegate,(function(t){return Zu(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new l(u.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new l(u.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),sl=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Object(r.__extends)(t,e),t.prototype.convertBytes=function(e){return new il(new Xs(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return hl.tu(t,this.firestore,null)},t}(Wu);function ul(e){var t;t=e,c.setLogLevel(t)}var ll=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new sl(e)}return e.prototype.get=function(e){var t=this,n=xl(e);return this._delegate.get(n).then((function(e){return new gl(t._firestore,new Eu(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=xl(e);return n?(Ts("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var i,a=[],o=3;o<arguments.length;o++)a[o-3]=arguments[o];var s=xl(e);return 2===arguments.length?this._delegate.update(s,t):(i=this._delegate).update.apply(i,Object(r.__spreadArray)([s,t,n],a)),this},e.prototype.delete=function(e){var t=xl(e);return this._delegate.delete(t),this},e}(),cl=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=xl(e);return n?(Ts("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var i,a=[],o=3;o<arguments.length;o++)a[o-3]=arguments[o];var s=xl(e);return 2===arguments.length?this._delegate.update(s,t):(i=this._delegate).update.apply(i,Object(r.__spreadArray)([s,t,n],a)),this},e.prototype.delete=function(e){var t=xl(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),fl=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new Cu(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new yl(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.eu=function(t,n){var r=e.nu,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new sl(t),n),i.set(n,a)),a},e}();fl.nu=new WeakMap;var hl=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new sl(e)}return e.su=function(t,n,r){if(t.length%2!=0)throw new l(u.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Ds(n._delegate,r,new W(t)))},e.tu=function(t,n,r){return new e(n,new Ds(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new wl(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new wl(this.firestore,js(this._delegate,e))}catch(e){throw dl(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=Object(i.getModularInstance)(e))instanceof Ds&&Rs(this._delegate,e)},e.prototype.set=function(e,t){t=Ts("DocumentReference.set",t);try{return function(e,t,n){e=Es(e,Ds);var r=Es(e.firestore,Vs),i=Yu(e.converter,t,n);return Zu(r,[au(iu(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,lt.none())])}(this._delegate,e,t)}catch(e){throw dl(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];try{return 1===arguments.length?Qu(this._delegate,e):Qu.apply(void 0,Object(r.__spreadArray)([this._delegate,e,t],n))}catch(e){throw dl(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Zu(Es((e=this._delegate).firestore,Vs),[new kt(e._key,lt.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=pl(t),i=vl(t,(function(t){return new gl(e.firestore,new Eu(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Ju(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Es(e,Ds);var t=Es(e.firestore,Vs),n=Hs(t),i=new $u(t);return function(e,t){var n=this,i=new nr;return e.asyncQueue.enqueueAndForget((function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var n;return Object(r.__generator)(this,(function(a){switch(a.label){case 0:return n=function(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,a;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e,t){var n=m(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(a=r.sent()).isFoundDocument()?n.resolve(a):a.isNoDocument()?n.resolve(null):n.reject(new l(u.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=r.sent(),a=Wa(i,"Failed to get document '"+t+" from cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,ss(e)];case 1:return[2,n.apply(void 0,[a.sent(),t,i])]}}))}))})),i.promise}(n,e._key).then((function(n){return new Eu(t,i,e._key,n,new Au(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Es(e,Ds);var t=Es(e.firestore,Vs);return fs(Hs(t),e._key,{source:"server"}).then((function(n){return el(t,e,n)}))}(this._delegate):function(e){e=Es(e,Ds);var t=Es(e.firestore,Vs);return fs(Hs(t),e._key).then((function(n){return el(t,e,n)}))}(this._delegate)).then((function(e){return new gl(t.firestore,new Eu(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(fl.eu(this.firestore,t)):this._delegate.withConverter(null))},e}();function dl(e,t,n){return e.message=e.message.replace(t,n),e}function pl(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!Us(r))return r}return{}}function vl(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Us(e[0])?e[0]:Us(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var gl=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new hl(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return Du(this._delegate,e._delegate)},e}(),yl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(gl),ml=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new sl(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,ju(this._delegate,function(e,t,n){var r=t,i=Su("where",e);return new Lu(i,r,n)}(t,n,r)))}catch(t){throw dl(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,ju(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=Su("orderBy",e);return new Ru(r,n)}(t,n)))}catch(t){throw dl(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,ju(this._delegate,function(e){return Cs("limit",e),new Fu("limit",e,"F")}(t)))}catch(t){throw dl(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,ju(this._delegate,function(e){return Cs("limitToLast",e),new Fu("limitToLast",e,"L")}(t)))}catch(t){throw dl(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ju(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new zu("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw dl(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ju(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new zu("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw dl(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ju(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Uu("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw dl(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ju(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Uu("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw dl(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return Fs(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Es(e,Ps);var t=Es(e.firestore,Vs),n=Hs(t),i=new $u(t);return function(e,t){var n=this,i=new nr;return e.asyncQueue.enqueueAndForget((function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var n;return Object(r.__generator)(this,(function(a){switch(a.label){case 0:return n=function(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,a,o,s,u;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Ii(e,t,!0)];case 1:return u=r.sent(),i=new lo(t,u.Bn),a=i._o(u.documents),o=i.applyChanges(a,!1),n.resolve(o.snapshot),[3,3];case 2:return s=r.sent(),u=Wa(s,"Failed to execute query '"+t+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,ss(e)];case 1:return[2,n.apply(void 0,[a.sent(),t,i])]}}))}))})),i.promise}(n,e._query).then((function(n){return new Mu(t,i,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Es(e,Ps);var t=Es(e.firestore,Vs),n=Hs(t),r=new $u(t);return hs(n,e._query,{source:"server"}).then((function(n){return new Mu(t,r,e,n)}))}(this._delegate):function(e){e=Es(e,Ps);var t=Es(e.firestore,Vs),n=Hs(t),r=new $u(t);return Pu(e._query),hs(n,e._query).then((function(n){return new Mu(t,r,e,n)}))}(this._delegate)).then((function(e){return new _l(t.firestore,new Mu(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=pl(t),i=vl(t,(function(t){return new _l(e.firestore,new Mu(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Ju(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(fl.eu(this.firestore,t)):this._delegate.withConverter(null))},e}(),bl=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new yl(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),_l=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new ml(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new yl(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new bl(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new yl(n._firestore,r))}))},e.prototype.isEqual=function(e){return Du(this._delegate,e._delegate)},e}(),wl=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return Object(r.__extends)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new hl(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new hl(this.firestore,void 0===e?Ls(this._delegate):Ls(this._delegate,e))}catch(e){throw dl(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=Es(e.firestore,Vs),r=Ls(e),i=Yu(e.converter,t);return Zu(n,[au(iu(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,lt.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new hl(t.firestore,e)}))},t.prototype.isEqual=function(e){return Rs(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(fl.eu(this.firestore,e)):this._delegate.withConverter(null))},t}(ml);function xl(e){return Es(e,Ds)}var Tl=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(Ks.bind.apply(Ks,Object(r.__spreadArray)([void 0],e)))}return e.documentId=function(){return new e(D.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=Object(i.getModularInstance)(e))instanceof Ks&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),kl=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new uu("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new ou("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new lu("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new cu("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new fu("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();function Ol(e){return function(e,t){var n=Hs(e=Es(e,Vs)),i=new qs;return function(e,t,n,i){var a=this,o=function(e,t){return function(e,t){return new Jo(e,t)}(function(e,t){if(e instanceof Uint8Array)return $o(e,t);if(e instanceof ArrayBuffer)return $o(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,fa(t));e.asyncQueue.enqueueAndForget((function(){return Object(r.__awaiter)(a,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return t=Wo,[4,ls(e)];case 1:return t.apply(void 0,[n.sent(),o,i]),[2]}}))}))}))}(n,e._databaseId,t,i),i}(this._delegate,e)}function Sl(e){var t,n,i=this;return(t=this._delegate,n=e,function(e,t){var n=this;return e.asyncQueue.enqueue((function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return n=function(e,t){var n=m(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ke.getNamedQuery(e,t)}))},[4,ss(e)];case 1:return[2,n.apply(void 0,[r.sent(),t])]}}))}))}))}(Hs(t=Es(t,Vs)),n).then((function(e){return e?new Ps(t,null,e.query):null}))).then((function(e){return e?new ml(i,e):null}))}}).call(this,n(50))},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return _}));var r=n(21),i=n(27),a=n(2),o=n.n(a),s=n(30),u=(n(7),n(22)),l=n(36),c=n(26),f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(s.a)(t.props),t}return Object(i.a)(t,e),t.prototype.render=function(){return o.a.createElement(r.b,{history:this.history,children:this.props.children})},t}(o.a.Component);o.a.Component;var h=function(e,t){return"function"===typeof e?e(t):e},d=function(e,t){return"string"===typeof e?Object(s.c)(e,null,null,t):e},p=function(e){return e},v=o.a.forwardRef;"undefined"===typeof v&&(v=p);var g=v((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,a=Object(l.a)(e,["innerRef","navigate","onClick"]),s=a.target,c=Object(u.a)({},a,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return c.ref=p!==v&&t||n,o.a.createElement("a",c)}));var y=v((function(e,t){var n=e.component,i=void 0===n?g:n,a=e.replace,s=e.to,f=e.innerRef,y=Object(l.a)(e,["component","replace","to","innerRef"]);return o.a.createElement(r.d.Consumer,null,(function(e){e||Object(c.a)(!1);var n=e.history,r=d(h(s,e.location),e.location),l=r?n.createHref(r):"",g=Object(u.a)({},y,{href:l,navigate:function(){var t=h(s,e.location);(a?n.replace:n.push)(t)}});return p!==v?g.ref=t||f:g.innerRef=f,o.a.createElement(i,g)}))})),m=function(e){return e},b=o.a.forwardRef;"undefined"===typeof b&&(b=m);var _=b((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,a=e.activeClassName,s=void 0===a?"active":a,f=e.activeStyle,p=e.className,v=e.exact,g=e.isActive,_=e.location,w=e.sensitive,x=e.strict,T=e.style,k=e.to,O=e.innerRef,S=Object(l.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return o.a.createElement(r.d.Consumer,null,(function(e){e||Object(c.a)(!1);var n=_||e.location,a=d(h(k,n),n),l=a.pathname,A=l&&l.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),E=A?Object(r.e)(n.pathname,{path:A,exact:v,sensitive:w,strict:x}):null,C=!!(g?g(E,n):E),M=C?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(p,s):p,I=C?Object(u.a)({},T,{},f):T,D=Object(u.a)({"aria-current":C&&i||null,className:M,style:I,to:a},S);return m!==b?D.ref=t||O:D.innerRef=O,o.a.createElement(y,D)}))}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return A}));var r=n(27),i=n(2),a=n.n(i),o=(n(7),n(30)),s=n(57),u=n(26),l=n(22),c=n(58),f=n.n(c),h=(n(92),n(36)),d=(n(49),function(e){var t=Object(s.a)();return t.displayName=e,t}("Router-History")),p=function(e){var t=Object(s.a)();return t.displayName=e,t}("Router"),v=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return a.a.createElement(p.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},a.a.createElement(d.Provider,{children:this.props.children||null,value:this.props.history}))},t}(a.a.Component);a.a.Component;a.a.Component;var g={},y=0;function m(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,s=void 0!==o&&o,u=n.sensitive,l=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=g[n]||(g[n]={});if(r[e])return r[e];var i=[],a={regexp:f()(e,i,t),keys:i};return y<1e4&&(r[e]=a,y++),a}(n,{end:a,strict:s,sensitive:l}),i=r.regexp,o=r.keys,u=i.exec(e);if(!u)return null;var c=u[0],h=u.slice(1),d=e===c;return a&&!d?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:d,params:o.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}),null)}var b=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return a.a.createElement(p.Consumer,null,(function(t){t||Object(u.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?m(n.pathname,e.props):t.match,i=Object(l.a)({},t,{location:n,match:r}),o=e.props,s=o.children,c=o.component,f=o.render;return Array.isArray(s)&&0===s.length&&(s=null),a.a.createElement(p.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:c?a.a.createElement(c,i):f?f(i):null:"function"===typeof s?s(i):null)}))},t}(a.a.Component);function _(e){return"/"===e.charAt(0)?e:"/"+e}function w(e,t){if(!e)return t;var n=_(e);return 0!==t.pathname.indexOf(n)?t:Object(l.a)({},t,{pathname:t.pathname.substr(n.length)})}function x(e){return"string"===typeof e?e:Object(o.e)(e)}function T(e){return function(){Object(u.a)(!1)}}function k(){}a.a.Component;var O=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return a.a.createElement(p.Consumer,null,(function(t){t||Object(u.a)(!1);var n,r,i=e.props.location||t.location;return a.a.Children.forEach(e.props.children,(function(e){if(null==r&&a.a.isValidElement(e)){n=e;var o=e.props.path||e.props.from;r=o?m(i.pathname,Object(l.a)({},e.props,{path:o})):t.match}})),r?a.a.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(a.a.Component);var S=a.a.useContext;function A(){return S(d)}},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return fr})),n.d(t,"b",(function(){return dr})),n.d(t,"c",(function(){return hr})),n.d(t,"d",(function(){return vr})),n.d(t,"e",(function(){return pr})),n.d(t,"f",(function(){return gr})),n.d(t,"g",(function(){return yr})),n.d(t,"h",(function(){return lr})),n.d(t,"i",(function(){return cr}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var a,o="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},s=s||{},u=o||self;function l(){}function c(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function f(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var h="closure_uid_"+(1e9*Math.random()>>>0),d=0;function p(e,t,n){return e.call.apply(e.bind,arguments)}function v(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function g(e,t,n){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p:v).apply(null,arguments)}function y(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function m(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function b(){this.s=this.s,this.o=this.o}var _={};b.prototype.s=!1,b.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,h)&&e[h]||(e[h]=++d)}(this);delete _[e]}},b.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var w=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},x=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function T(e){return Array.prototype.concat.apply([],arguments)}function k(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function O(e){return/^[\s\xa0]*$/.test(e)}var S,A=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function E(e,t){return-1!=e.indexOf(t)}function C(e,t){return e<t?-1:e>t?1:0}e:{var M=u.navigator;if(M){var I=M.userAgent;if(I){S=I;break e}}S=""}function D(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function P(e){var t={};for(var n in e)t[n]=e[n];return t}var N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<N.length;a++)n=N[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function L(e){return L[" "](e),e}L[" "]=l;var R,F=E(S,"Opera"),z=E(S,"Trident")||E(S,"MSIE"),U=E(S,"Edge"),q=U||z,B=E(S,"Gecko")&&!(E(S.toLowerCase(),"webkit")&&!E(S,"Edge"))&&!(E(S,"Trident")||E(S,"MSIE"))&&!E(S,"Edge"),V=E(S.toLowerCase(),"webkit")&&!E(S,"Edge");function H(){var e=u.document;return e?e.documentMode:void 0}e:{var W="",Y=function(){var e=S;return B?/rv:([^\);]+)(\)|;)/.exec(e):U?/Edge\/([\d\.]+)/.exec(e):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):V?/WebKit\/(\S+)/.exec(e):F?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Y&&(W=Y?Y[1]:""),z){var G=H();if(null!=G&&G>parseFloat(W)){R=String(G);break e}}R=W}var K,X={};function $(){return function(e){var t=X;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=A(String(R)).split("."),n=A("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=C(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||C(0==a[2].length,0==o[2].length)||C(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(u.document&&z){var Q=H();K=Q||(parseInt(R,10)||void 0)}else K=void 0;var J=K,Z=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",l,t),u.removeEventListener("test",l,t)}catch(n){}return e}();function ee(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function te(e,t){if(ee.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(B){e:{try{L(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ne[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&te.Z.h.call(this)}}ee.prototype.h=function(){this.defaultPrevented=!0},m(te,ee);var ne={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),ie=0;function ae(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++ie,this.ca=this.fa=!1}function oe(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function se(e){this.src=e,this.g={},this.h=0}function ue(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=w(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(oe(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function le(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}se.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=le(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new ae(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var ce="closure_lm_"+(1e6*Math.random()|0),fe={};function he(e,t,n,r,i){if(r&&r.once)return pe(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)he(e,t[a],n,r,i);return null}return n=we(n),e&&e[re]?e.N(t,n,f(r)?!!r.capture:!!r,i):de(e,t,n,!1,r,i)}function de(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=f(i)?!!i.capture:!!i,s=be(e);if(s||(e[ce]=s=new se(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=me;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Z||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ye(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function pe(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)pe(e,t[a],n,r,i);return null}return n=we(n),e&&e[re]?e.O(t,n,f(r)?!!r.capture:!!r,i):de(e,t,n,!0,r,i)}function ve(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ve(e,t[a],n,r,i);else r=f(r)?!!r.capture:!!r,n=we(n),e&&e[re]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=le(a=e.g[t],n,r,i))&&(oe(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=be(e))&&(t=e.g[t.toString()],e=-1,t&&(e=le(t,n,r,i)),(n=-1<e?t[e]:null)&&ge(n))}function ge(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[re])ue(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ye(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=be(t))?(ue(n,e),0==n.h&&(n.src=null,t[ce]=null)):oe(e)}}}function ye(e){return e in fe?fe[e]:fe[e]="on"+e}function me(e,t){if(e.ca)e=!0;else{t=new te(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&ge(e),e=n.call(r,t)}return e}function be(e){return(e=e[ce])instanceof se?e:null}var _e="__closure_events_fn_"+(1e9*Math.random()>>>0);function we(e){return"function"===typeof e?e:(e[_e]||(e[_e]=function(t){return e.handleEvent(t)}),e[_e])}function xe(){b.call(this),this.i=new se(this),this.P=this,this.I=null}function Te(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ee(t,e);else if(t instanceof ee)t.target=t.target||e;else{var i=t;j(t=new ee(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ke(o,r,!0,t)&&i}if(i=ke(o=t.g=e,r,!0,t)&&i,i=ke(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ke(o=t.g=n[a],r,!1,t)&&i}function ke(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&ue(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}m(xe,b),xe.prototype[re]=!0,xe.prototype.removeEventListener=function(e,t,n,r){ve(this,e,t,n,r)},xe.prototype.M=function(){if(xe.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)oe(n[r]);delete t.g[e],t.h--}}this.I=null},xe.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},xe.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Oe=u.JSON.stringify;function Se(){var e=Ne,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ae,Ee=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=Ce.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),Ce=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new Me}),(function(e){return e.reset()})),Me=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Ie(e){u.setTimeout((function(){throw e}),0)}function De(e,t){Ae||function(){var e=u.Promise.resolve(void 0);Ae=function(){e.then(je)}}(),Pe||(Ae(),Pe=!0),Ne.add(e,t)}var Pe=!1,Ne=new Ee;function je(){for(var e;e=Se();){try{e.h.call(e.g)}catch(n){Ie(n)}var t=Ce;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Pe=!1}function Le(e,t){xe.call(this),this.h=e||1,this.g=t||u,this.j=g(this.kb,this),this.l=Date.now()}function Re(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Fe(e,t,n){if("function"===typeof e)n&&(e=g(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=g(e.handleEvent,e)}return 2147483647<Number(t)?-1:u.setTimeout(e,t||0)}function ze(e){e.g=Fe((function(){e.g=null,e.i&&(e.i=!1,ze(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}m(Le,xe),(a=Le.prototype).da=!1,a.S=null,a.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Te(this,"tick"),this.da&&(Re(this),this.start()))}},a.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},a.M=function(){Le.Z.M.call(this),Re(this),delete this.g};var Ue=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:ze(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(b);function qe(e){b.call(this),this.h=e,this.g={}}m(qe,b);var Be=[];function Ve(e,t,n,r){Array.isArray(n)||(n&&(Be[0]=n.toString()),n=Be);for(var i=0;i<n.length;i++){var a=he(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function He(e){D(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ge(e)}),e),e.g={}}function We(){this.g=!0}function Ye(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Oe(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}qe.prototype.M=function(){qe.Z.M.call(this),He(this)},qe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},We.prototype.Aa=function(){this.g=!1},We.prototype.info=function(){};var Ge={},Ke=null;function Xe(){return Ke=Ke||new xe}function $e(e){ee.call(this,Ge.Ma,e)}function Qe(e){var t=Xe();Te(t,new $e(t,e))}function Je(e,t){ee.call(this,Ge.STAT_EVENT,e),this.stat=t}function Ze(e){var t=Xe();Te(t,new Je(t,e))}function et(e,t){ee.call(this,Ge.Na,e),this.size=t}function tt(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return u.setTimeout((function(){e()}),t)}Ge.Ma="serverreachability",m($e,ee),Ge.STAT_EVENT="statevent",m(Je,ee),Ge.Na="timingevent",m(et,ee);var nt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},rt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function it(){}function at(e){return e.h||(e.h=e.i())}function ot(){}it.prototype.h=null;var st,ut={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function lt(){ee.call(this,"d")}function ct(){ee.call(this,"c")}function ft(){}function ht(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new qe(this),this.P=pt,e=q?125:void 0,this.W=new Le(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new dt}function dt(){this.i=null,this.g="",this.h=!1}m(lt,ee),m(ct,ee),m(ft,it),ft.prototype.g=function(){return new XMLHttpRequest},ft.prototype.i=function(){return{}},st=new ft;var pt=45e3,vt={},gt={};function yt(e,t,n){e.K=1,e.v=Ut(Nt(t)),e.s=n,e.U=!0,mt(e,null)}function mt(e,t){e.F=Date.now(),xt(e),e.A=Nt(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Zt(n.h,"t",r),e.C=0,n=e.l.H,e.h=new dt,e.g=nr(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Ue(g(e.Ia,e,e.g),e.O)),Ve(e.V,e.g,"readystatechange",e.gb),t=e.H?P(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Qe(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&"type"==f[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function bt(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function _t(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=wt(e,n))==gt){4==t&&(e.o=4,Ze(14),i=!1),Ye(e.j,e.m,null,"[Incomplete Response]");break}if(r==vt){e.o=4,Ze(15),Ye(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ye(e.j,e.m,r,null),At(e,r)}bt(e)&&r!=gt&&r!=vt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ze(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Kn(t),t.L=!0,Ze(11))):(Ye(e.j,e.m,n,"[Invalid Chunked Response]"),St(e),Ot(e))}function wt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?gt:(n=Number(t.substring(n,r)),isNaN(n)?vt:(r+=1)+n>t.length?gt:(t=t.substr(r,n),e.C=r+n,t))}function xt(e){e.Y=Date.now()+e.P,Tt(e,e.P)}function Tt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=tt(g(e.eb,e),t)}function kt(e){e.B&&(u.clearTimeout(e.B),e.B=null)}function Ot(e){0==e.l.G||e.I||Qn(e.l,e)}function St(e){kt(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Re(e.W),He(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function At(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||un(n.i,e)))if(n.I=e.N,!e.J&&un(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;$n(n),zn(n)}Gn(n),Ze(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=tt(g(n.ab,n),6e3));if(1>=sn(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Zn(n,11)}else if((e.J||n.g==e)&&$n(n),!O(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var f=r.i;!f.g&&(E(c,"spdy")||E(c,"quic")||E(c,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(ln(f,f.h),f.h=null))}if(r.D){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,zt(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=tr(r,r.H?r.la:null,r.W),d.J){cn(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(kt(p),xt(p)),r.g=d}else Yn(r);0<n.l.length&&Bn(n)}else"stop"!=a[0]&&"close"!=a[0]||Zn(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Zn(n,7):Fn(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Qe(4)}catch(a){}}function Et(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(c(e)||"string"===typeof e)x(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(c(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(c(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Ct(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Ct)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Mt(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];It(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)It(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function It(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(a=ht.prototype).setTimeout=function(e){this.P=e},a.gb=function(e){e=e.target;var t=this.L;t&&3==Pn(e)?t.l():this.Ia(e)},a.Ia=function(e){try{if(e==this.g)e:{var t=Pn(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||q||this.g&&(this.h.h||this.g.ga()||Nn(this.g)))){this.I||4!=t||7==n||Qe(8==n||0>=r?3:2),kt(this);var i=this.g.ba();this.N=i;t:if(bt(this)){var a=Nn(this.g);e="";var o=a.length,s=4==Pn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){St(this),Ot(this);var l="";break t}this.h.i=new u.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,l=this.h.g}else l=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,f=this.g;if((c=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(c)){var h=c;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,Ze(12),St(this),Ot(this);break e}Ye(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,At(this,i)}this.U?(_t(this,t,l),q&&this.i&&3==t&&(Ve(this.V,this.W,"tick",this.fb),this.W.start())):(Ye(this.j,this.m,l,null),At(this,l)),4==t&&St(this),this.i&&!this.I&&(4==t?Qn(this.l,this):(this.i=!1,xt(this)))}else 400==i&&0<l.indexOf("Unknown SID")?(this.o=3,Ze(12)):(this.o=0,Ze(13)),St(this),Ot(this)}}}catch(t){}},a.fb=function(){if(this.g){var e=Pn(this.g),t=this.g.ga();this.C<t.length&&(kt(this),_t(this,e,t),this.i&&4!=e&&xt(this))}},a.cancel=function(){this.I=!0,St(this)},a.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Qe(3),Ze(17)),St(this),this.o=2,Ot(this)):Tt(this,this.Y-e)},(a=Ct.prototype).R=function(){Mt(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},a.T=function(){return Mt(this),this.g.concat()},a.get=function(e,t){return It(this.h,e)?this.h[e]:t},a.set=function(e,t){It(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},a.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Dt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pt(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Pt){this.g=void 0!==t?t:e.g,jt(this,e.j),this.s=e.s,Lt(this,e.i),Rt(this,e.m),this.l=e.l,t=e.h;var n=new Xt;n.i=t.i,t.g&&(n.g=new Ct(t.g),n.h=t.h),Ft(this,n),this.o=e.o}else e&&(n=String(e).match(Dt))?(this.g=!!t,jt(this,n[1]||"",!0),this.s=qt(n[2]||""),Lt(this,n[3]||"",!0),Rt(this,n[4]),this.l=qt(n[5]||"",!0),Ft(this,n[6]||"",!0),this.o=qt(n[7]||"")):(this.g=!!t,this.h=new Xt(null,this.g))}function Nt(e){return new Pt(e)}function jt(e,t,n){e.j=n?qt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Lt(e,t,n){e.i=n?qt(t,!0):t}function Rt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ft(e,t,n){t instanceof Xt?(e.h=t,function(e,t){t&&!e.j&&($t(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Qt(this,t),Zt(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Bt(t,Gt)),e.h=new Xt(t,e.g))}function zt(e,t,n){e.h.set(t,n)}function Ut(e){return zt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function qt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Bt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Vt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Vt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Pt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Bt(t,Ht,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Bt(t,Ht,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Bt(n,"/"==n.charAt(0)?Yt:Wt,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Bt(n,Kt)),e.join("")};var Ht=/[#\/\?@]/g,Wt=/[#\?:]/g,Yt=/[#\?]/g,Gt=/[#\?@]/g,Kt=/#/g;function Xt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function $t(e){e.g||(e.g=new Ct,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Qt(e,t){$t(e),t=en(e,t),It(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,It((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Mt(e)))}function Jt(e,t){return $t(e),t=en(e,t),It(e.g.h,t)}function Zt(e,t,n){Qt(e,t),0<n.length&&(e.i=null,e.g.set(en(e,t),k(n)),e.h+=n.length)}function en(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(a=Xt.prototype).add=function(e,t){$t(this),this.i=null,e=en(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},a.forEach=function(e,t){$t(this),this.g.forEach((function(n,r){x(n,(function(n){e.call(t,n,r,this)}),this)}),this)},a.T=function(){$t(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},a.R=function(e){$t(this);var t=[];if("string"===typeof e)Jt(this,e)&&(t=T(t,this.g.get(en(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=T(t,e[n])}return t},a.set=function(e,t){return $t(this),this.i=null,Jt(this,e=en(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},a.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},a.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var tn=function(e,t){this.h=e,this.g=t};function nn(e){this.l=e||an,u.PerformanceNavigationTiming?e=0<(e=u.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(u.g&&u.g.Ea&&u.g.Ea()&&u.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var rn,an=10;function on(e){return!!e.h||!!e.g&&e.g.size>=e.j}function sn(e){return e.h?1:e.g?e.g.size:0}function un(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ln(e,t){e.g?e.g.add(t):e.h=t}function cn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function fn(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var a=i(e.g.values()),o=a.next();!o.done;o=a.next()){var s=o.value;r=r.concat(s.D)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r}return k(e.i)}function hn(){}function dn(){this.g=new hn}function pn(e,t,n){var r=n||"";try{Et(e,(function(e,n){var i=e;f(e)&&(i=Oe(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function vn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function gn(e){this.l=e.$b||null,this.j=e.ib||!1}function yn(e,t){xe.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=mn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nn.prototype.cancel=function(){var e,t;if(this.i=fn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=i(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(a){e={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},hn.prototype.stringify=function(e){return u.JSON.stringify(e,void 0)},hn.prototype.parse=function(e){return u.JSON.parse(e,void 0)},m(gn,it),gn.prototype.g=function(){return new yn(this.l,this.j)},gn.prototype.i=(rn={},function(){return rn}),m(yn,xe);var mn=0;function bn(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function _n(e){e.readyState=4,e.l=null,e.j=null,e.A=null,wn(e)}function wn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(a=yn.prototype).open=function(e,t){if(this.readyState!=mn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,wn(this)},a.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||u).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},a.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_n(this)),this.readyState=mn},a.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,wn(this)),this.g&&(this.readyState=3,wn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof u.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bn(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},a.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?_n(this):wn(this),3==this.readyState&&bn(this)}},a.Ua=function(e){this.g&&(this.response=this.responseText=e,_n(this))},a.Ta=function(e){this.g&&(this.response=e,_n(this))},a.ha=function(){this.g&&_n(this)},a.setRequestHeader=function(e,t){this.v.append(e,t)},a.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(yn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var xn=u.JSON.parse;function Tn(e){xe.call(this),this.headers=new Ct,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=kn,this.K=this.L=!1}m(Tn,xe);var kn="",On=/^https?$/i,Sn=["POST","PUT"];function An(e){return"content-type"==e.toLowerCase()}function En(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Cn(e),In(e)}function Cn(e){e.D||(e.D=!0,Te(e,"complete"),Te(e,"error"))}function Mn(e){if(e.h&&"undefined"!=typeof s&&(!e.C[1]||4!=Pn(e)||2!=e.ba()))if(e.v&&4==Pn(e))Fe(e.Fa,0,e);else if(Te(e,"readystatechange"),4==Pn(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Dt)[1]||null;if(!a&&u.self&&u.self.location){var o=u.self.location.protocol;a=o.substr(0,o.length-1)}i=!On.test(a?a.toLowerCase():"")}t=i}if(t)Te(e,"complete"),Te(e,"success");else{e.m=6;try{var l=2<Pn(e)?e.g.statusText:""}catch(c){l=""}e.j=l+" ["+e.ba()+"]",Cn(e)}}finally{In(e)}}}function In(e,t){if(e.g){Dn(e);var n=e.g,r=e.C[0]?l:null;e.g=null,e.C=null,t||Te(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Dn(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(u.clearTimeout(e.A),e.A=null)}function Pn(e){return e.g?e.g.readyState:0}function Nn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case kn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function jn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return D(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):zt(e,t,n))}function Ln(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Rn(e){this.za=0,this.l=[],this.h=new We,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ln("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ln("baseRetryDelayMs",5e3,e),this.$a=Ln("retryDelaySeedMs",1e4,e),this.Ya=Ln("forwardChannelMaxRetries",2,e),this.ra=Ln("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new nn(e&&e.concurrentRequestLimit),this.Ca=new dn,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Fn(e){if(Un(e),3==e.G){var t=e.V++,n=Nt(e.F);zt(n,"SID",e.J),zt(n,"RID",t),zt(n,"TYPE","terminate"),Hn(e,n),(t=new ht(e,e.h,t,void 0)).K=2,t.v=Ut(Nt(n)),n=!1,u.navigator&&u.navigator.sendBeacon&&(n=u.navigator.sendBeacon(t.v.toString(),"")),!n&&u.Image&&((new Image).src=t.v,n=!0),n||(t.g=nr(t.l,null),t.g.ea(t.v)),t.F=Date.now(),xt(t)}er(e)}function zn(e){e.g&&(Kn(e),e.g.cancel(),e.g=null)}function Un(e){zn(e),e.u&&(u.clearTimeout(e.u),e.u=null),$n(e),e.i.cancel(),e.m&&("number"===typeof e.m&&u.clearTimeout(e.m),e.m=null)}function qn(e,t){e.l.push(new tn(e.Za++,t)),3==e.G&&Bn(e)}function Bn(e){on(e.i)||e.m||(e.m=!0,De(e.Ha,e),e.C=0)}function Vn(e,t){var n;n=t?t.m:e.V++;var r=Nt(e.F);zt(r,"SID",e.J),zt(r,"RID",n),zt(r,"AID",e.U),Hn(e,r),e.o&&e.s&&jn(r,e.o,e.s),n=new ht(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Wn(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),ln(e.i,n),yt(n,r,t)}function Hn(e,t){e.j&&Et({},(function(e,n){zt(t,n,e)}))}function Wn(e,t,n){n=Math.min(e.l.length,n);var r=e.j?g(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var l=i[u].h,c=i[u].g;if(0>(l-=a))a=Math.max(0,i[u].h-100),s=!1;else try{pn(c,o,"req"+l+"_")}catch(f){r&&r(c)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Yn(e){e.g||e.u||(e.Y=1,De(e.Ga,e),e.A=0)}function Gn(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=tt(g(e.Ga,e),Jn(e,e.A)),e.A++,!0)}function Kn(e){null!=e.B&&(u.clearTimeout(e.B),e.B=null)}function Xn(e){e.g=new ht(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Nt(e.oa);zt(t,"RID","rpc"),zt(t,"SID",e.J),zt(t,"CI",e.N?"0":"1"),zt(t,"AID",e.U),Hn(e,t),zt(t,"TYPE","xmlhttp"),e.o&&e.s&&jn(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Ut(Nt(t)),n.s=null,n.U=!0,mt(n,e)}function $n(e){null!=e.v&&(u.clearTimeout(e.v),e.v=null)}function Qn(e,t){var n=null;if(e.g==t){$n(e),Kn(e),e.g=null;var r=2}else{if(!un(e.i,t))return;n=t.D,cn(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Te(r=Xe(),new et(r,n,t,i)),Bn(e)}else Yn(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(sn(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=tt(g(e.Ha,e,t),Jn(e,e.C)),e.C++,!0))}(e,t)||2==r&&Gn(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Zn(e,5);break;case 4:Zn(e,10);break;case 3:Zn(e,6);break;default:Zn(e,2)}}function Jn(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Zn(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=g(e.jb,e);n||(n=new Pt("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||jt(n,"https"),Ut(n)),function(e,t){var n=new We;if(u.Image){var r=new Image;r.onload=y(vn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=y(vn,n,r,"TestLoadImage: error",!1,t),r.onabort=y(vn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=y(vn,n,r,"TestLoadImage: timeout",!1,t),u.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ze(2);e.G=0,e.j&&e.j.va(t),er(e),Un(e)}function er(e){e.G=0,e.I=-1,e.j&&(0==fn(e.i).length&&0==e.l.length||(e.i.i.length=0,k(e.l),e.l.length=0),e.j.ua())}function tr(e,t,n){var r=function(e){return e instanceof Pt?Nt(e):new Pt(e,void 0)}(n);if(""!=r.i)t&&Lt(r,t+"."+r.i),Rt(r,r.m);else{var i=u.location;r=function(e,t,n,r){var i=new Pt(null,void 0);return e&&jt(i,e),t&&Lt(i,t),n&&Rt(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&D(e.aa,(function(e,t){zt(r,t,e)})),t=e.D,n=e.sa,t&&n&&zt(r,t,n),zt(r,"VER",e.ma),Hn(e,r),r}function nr(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Tn(new gn({ib:!0})):new Tn(e.qa)).L=e.H,t}function rr(){}function ir(){if(z&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function ar(e,t){xe.call(this),this.g=new Rn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!O(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!O(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ur(this)}function or(e){lt.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function sr(){ct.call(this),this.status=1}function ur(e){this.g=e}(a=Tn.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():st.g(),this.C=this.u?at(this.u):at(st),this.g.onreadystatechange=g(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void En(this,a)}e=n||"";var i=new Ct(this.headers);r&&Et(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=An,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=u.FormData&&e instanceof u.FormData,!(0<=w(Sn,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Dn(this),0<this.B&&((this.K=function(e){return z&&$()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=g(this.pa,this)):this.A=Fe(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){En(this,a)}},a.pa=function(){"undefined"!=typeof s&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Te(this,"timeout"),this.abort(8))},a.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Te(this,"complete"),Te(this,"abort"),In(this))},a.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),In(this,!0)),Tn.Z.M.call(this)},a.Fa=function(){this.s||(this.F||this.v||this.l?Mn(this):this.cb())},a.cb=function(){Mn(this)},a.ba=function(){try{return 2<Pn(this)?this.g.status:-1}catch(rn){return-1}},a.ga=function(){try{return this.g?this.g.responseText:""}catch(rn){return""}},a.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),xn(t)}},a.Da=function(){return this.m},a.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(a=Rn.prototype).ma=8,a.G=1,a.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},a.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new ht(this,this.h,e,void 0),n=this.s;if(this.P&&(n?j(n=P(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Wn(this,t,r),zt(i=Nt(this.F),"RID",e),zt(i,"CVER",22),this.D&&zt(i,"X-HTTP-Session-Id",this.D),Hn(this,i),this.o&&n&&jn(i,this.o,n),ln(this.i,t),this.Ra&&zt(i,"TYPE","init"),this.ja?(zt(i,"$req",r),zt(i,"SID","null"),t.$=!0,yt(t,i,null)):yt(t,i,r),this.G=2}}else 3==this.G&&(e?Vn(this,e):0==this.l.length||on(this.i)||Vn(this))},a.Ga=function(){if(this.u=null,Xn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=tt(g(this.bb,this),e)}},a.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ze(10),zn(this),Xn(this))},a.ab=function(){null!=this.v&&(this.v=null,zn(this),Gn(this),Ze(19))},a.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Ze(2)):(this.h.info("Failed to ping google.com"),Ze(1))},(a=rr.prototype).xa=function(){},a.wa=function(){},a.va=function(){},a.ua=function(){},a.Oa=function(){},ir.prototype.g=function(e,t){return new ar(e,t)},m(ar,xe),ar.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),De(g(e.hb,e,t))),Ze(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=tr(e,null,e.W),Bn(e)},ar.prototype.close=function(){Fn(this.g)},ar.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,qn(this.g,t)}else this.v?((t={}).__data__=Oe(e),qn(this.g,t)):qn(this.g,e)},ar.prototype.M=function(){this.g.j=null,delete this.j,Fn(this.g),delete this.g,ar.Z.M.call(this)},m(or,lt),m(sr,ct),m(ur,rr),ur.prototype.xa=function(){Te(this.g,"a")},ur.prototype.wa=function(e){Te(this.g,new or(e))},ur.prototype.va=function(e){Te(this.g,new sr(e))},ur.prototype.ua=function(){Te(this.g,"b")},ir.prototype.createWebChannel=ir.prototype.g,ar.prototype.send=ar.prototype.u,ar.prototype.open=ar.prototype.m,ar.prototype.close=ar.prototype.close,nt.NO_ERROR=0,nt.TIMEOUT=8,nt.HTTP_ERROR=6,rt.COMPLETE="complete",ot.EventType=ut,ut.OPEN="a",ut.CLOSE="b",ut.ERROR="c",ut.MESSAGE="d",xe.prototype.listen=xe.prototype.N,Tn.prototype.listenOnce=Tn.prototype.O,Tn.prototype.getLastError=Tn.prototype.La,Tn.prototype.getLastErrorCode=Tn.prototype.Da,Tn.prototype.getStatus=Tn.prototype.ba,Tn.prototype.getResponseJson=Tn.prototype.Qa,Tn.prototype.getResponseText=Tn.prototype.ga,Tn.prototype.send=Tn.prototype.ea;var lr=function(){return new ir},cr=function(){return Xe()},fr=nt,hr=rt,dr=Ge,pr={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},vr=gn,gr=ot,yr=Tn}).call(this,n(45))},function(e,t,n){"use strict";var r=n(63),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function o(e){return"undefined"===typeof e}function s(e){return null!==e&&"object"===typeof e}function u(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===i.call(e)}function c(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:s,isPlainObject:u,isUndefined:o,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:l,isStream:function(e){return s(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:c,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):a(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],n);return t},extend:function(e,t,n){return c(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r="Invariant failed";t.a=function(e,t){if(!e)throw new Error(r)}},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(48);var i=n(41);function a(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){e.exports=n(124)},function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return C})),n.d(t,"d",(function(){return I})),n.d(t,"c",(function(){return v})),n.d(t,"f",(function(){return g})),n.d(t,"e",(function(){return p}));var r=n(22);function i(e){return"/"===e.charAt(0)}function a(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var o=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],o=t&&t.split("/")||[],s=e&&i(e),u=t&&i(t),l=s||u;if(e&&i(e)?o=r:r.length&&(o.pop(),o=o.concat(r)),!o.length)return"/";if(o.length){var c=o[o.length-1];n="."===c||".."===c||""===c}else n=!1;for(var f=0,h=o.length;h>=0;h--){var d=o[h];"."===d?a(o,h):".."===d?(a(o,h),f++):f&&(a(o,h),f--)}if(!l)for(;f--;f)o.unshift("..");!l||""===o[0]||o[0]&&i(o[0])||o.unshift("");var p=o.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var u=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=s(t),i=s(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},l=n(26);function c(e){return"/"===e.charAt(0)?e:"/"+e}function f(e){return"/"===e.charAt(0)?e.substr(1):e}function h(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function d(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function v(e,t,n,i){var a;"string"===typeof e?(a=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(a=Object(r.a)({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(a.key=n),i?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=o(a.pathname,i.pathname)):a.pathname=i.pathname:a.pathname||(a.pathname="/"),a}function g(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&u(e.state,t.state)}function y(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var m=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}var _="popstate",w="hashchange";function x(){try{return window.history.state||{}}catch(e){return{}}}function T(e){void 0===e&&(e={}),m||Object(l.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),a=e,o=a.forceRefresh,s=void 0!==o&&o,u=a.getUserConfirmation,f=void 0===u?b:u,g=a.keyLength,T=void 0===g?6:g,k=e.basename?d(c(e.basename)):"";function O(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return k&&(a=h(a,k)),v(a,r,n)}function S(){return Math.random().toString(36).substr(2,T)}var A=y();function E(e){Object(r.a)(U,e),U.length=t.length,A.notifyListeners(U.location,U.action)}function C(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||D(O(e.state))}function M(){D(O(x()))}var I=!1;function D(e){if(I)I=!1,E();else{A.confirmTransitionTo(e,"POP",f,(function(t){t?E({action:"POP",location:e}):function(e){var t=U.location,n=N.indexOf(t.key);-1===n&&(n=0);var r=N.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(I=!0,L(i))}(e)}))}}var P=O(x()),N=[P.key];function j(e){return k+p(e)}function L(e){t.go(e)}var R=0;function F(e){1===(R+=e)&&1===e?(window.addEventListener(_,C),i&&window.addEventListener(w,M)):0===R&&(window.removeEventListener(_,C),i&&window.removeEventListener(w,M))}var z=!1;var U={length:t.length,action:"POP",location:P,createHref:j,push:function(e,r){var i="PUSH",a=v(e,r,S(),U.location);A.confirmTransitionTo(a,i,f,(function(e){if(e){var r=j(a),o=a.key,u=a.state;if(n)if(t.pushState({key:o,state:u},null,r),s)window.location.href=r;else{var l=N.indexOf(U.location.key),c=N.slice(0,l+1);c.push(a.key),N=c,E({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=v(e,r,S(),U.location);A.confirmTransitionTo(a,i,f,(function(e){if(e){var r=j(a),o=a.key,u=a.state;if(n)if(t.replaceState({key:o,state:u},null,r),s)window.location.replace(r);else{var l=N.indexOf(U.location.key);-1!==l&&(N[l]=a.key),E({action:i,location:a})}else window.location.replace(r)}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=A.setPrompt(e);return z||(F(1),z=!0),function(){return z&&(z=!1,F(-1)),t()}},listen:function(e){var t=A.appendListener(e);return F(1),function(){F(-1),t()}}};return U}var k="hashchange",O={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+f(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:f,decodePath:c},slash:{encodePath:c,decodePath:c}};function S(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function A(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function E(e){window.location.replace(S(window.location.href)+"#"+e)}function C(e){void 0===e&&(e={}),m||Object(l.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,a=void 0===i?b:i,o=n.hashType,s=void 0===o?"slash":o,u=e.basename?d(c(e.basename)):"",f=O[s],g=f.encodePath,_=f.decodePath;function w(){var e=_(A());return u&&(e=h(e,u)),v(e)}var x=y();function T(e){Object(r.a)(U,e),U.length=t.length,x.notifyListeners(U.location,U.action)}var C=!1,M=null;function I(){var e,t,n=A(),r=g(n);if(n!==r)E(r);else{var i=w(),o=U.location;if(!C&&(t=i,(e=o).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(M===p(i))return;M=null,function(e){if(C)C=!1,T();else{var t="POP";x.confirmTransitionTo(e,t,a,(function(n){n?T({action:t,location:e}):function(e){var t=U.location,n=j.lastIndexOf(p(t));-1===n&&(n=0);var r=j.lastIndexOf(p(e));-1===r&&(r=0);var i=n-r;i&&(C=!0,L(i))}(e)}))}}(i)}}var D=A(),P=g(D);D!==P&&E(P);var N=w(),j=[p(N)];function L(e){t.go(e)}var R=0;function F(e){1===(R+=e)&&1===e?window.addEventListener(k,I):0===R&&window.removeEventListener(k,I)}var z=!1;var U={length:t.length,action:"POP",location:N,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=S(window.location.href)),n+"#"+g(u+p(e))},push:function(e,t){var n="PUSH",r=v(e,void 0,void 0,U.location);x.confirmTransitionTo(r,n,a,(function(e){if(e){var t=p(r),i=g(u+t);if(A()!==i){M=t,function(e){window.location.hash=e}(i);var a=j.lastIndexOf(p(U.location)),o=j.slice(0,a+1);o.push(t),j=o,T({action:n,location:r})}else T()}}))},replace:function(e,t){var n="REPLACE",r=v(e,void 0,void 0,U.location);x.confirmTransitionTo(r,n,a,(function(e){if(e){var t=p(r),i=g(u+t);A()!==i&&(M=t,E(i));var a=j.indexOf(p(U.location));-1!==a&&(j[a]=t),T({action:n,location:r})}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=x.setPrompt(e);return z||(F(1),z=!0),function(){return z&&(z=!1,F(-1)),t()}},listen:function(e){var t=x.appendListener(e);return F(1),function(){F(-1),t()}}};return U}function M(e,t,n){return Math.min(Math.max(e,t),n)}function I(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,a=void 0===i?["/"]:i,o=t.initialIndex,s=void 0===o?0:o,u=t.keyLength,l=void 0===u?6:u,c=y();function f(e){Object(r.a)(_,e),_.length=_.entries.length,c.notifyListeners(_.location,_.action)}function h(){return Math.random().toString(36).substr(2,l)}var d=M(s,0,a.length-1),g=a.map((function(e){return v(e,void 0,"string"===typeof e?h():e.key||h())})),m=p;function b(e){var t=M(_.index+e,0,_.entries.length-1),r=_.entries[t];c.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var _={length:g.length,action:"POP",location:g[d],index:d,entries:g,createHref:m,push:function(e,t){var r="PUSH",i=v(e,t,h(),_.location);c.confirmTransitionTo(i,r,n,(function(e){if(e){var t=_.index+1,n=_.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),f({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=v(e,t,h(),_.location);c.confirmTransitionTo(i,r,n,(function(e){e&&(_.entries[_.index]=i,f({action:r,location:i}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=_.index+e;return t>=0&&t<_.entries.length},block:function(e){return void 0===e&&(e=!1),c.setPrompt(e)},listen:function(e){return c.appendListener(e)}};return _}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){return Array.prototype.slice.call(arguments).reduce((function(e,t){return"string"===typeof t||Array.isArray(t)?e.concat(t):e}),[]).filter(Boolean).join(" ")}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(2),i=n.n(r),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=i.a.createContext&&i.a.createContext(a),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function l(e){return e&&e.map((function(e,t){return i.a.createElement(e.tag,s({key:t},e.attr),l(e.child))}))}function c(e){return function(t){return i.a.createElement(f,s({attr:s({},e.attr)},t),l(e.child))}}function f(e){var t=function(t){var n,r=e.attr,a=e.size,o=e.title,l=u(e,["attr","size","title"]),c=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),i.a.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:n,style:s(s({color:e.color||t.color},t.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&i.a.createElement("title",null,o),e.children)};return void 0!==o?i.a.createElement(o.Consumer,null,(function(e){return t(e)})):t(a)}function h(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}}]})(e)}},function(e,t,n){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,a=new Promise((function(a,o){n(i=e[t].apply(e,r)).then(a,o)}));return a.request=i,a}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new c(e,i.request)}))}function a(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function o(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function l(e){this._index=e}function c(e,t){this._cursor=e,this._request=t}function f(e){this._store=e}function h(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new h(n)}function p(e){this._db=e}function v(e,t,n){var i=r(indexedDB,"open",[e,t]),a=i.request;return a&&(a.onupgradeneeded=function(e){n&&n(new d(a.result,e.oldVersion,a.transaction))}),i.then((function(e){return new p(e)}))}function g(e){return r(indexedDB,"deleteDatabase",[e])}a(l,"_index",["name","keyPath","multiEntry","unique"]),o(l,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(l,"_index",IDBIndex,["openCursor","openKeyCursor"]),a(c,"_cursor",["direction","key","primaryKey","value"]),o(c,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(c.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new c(e,t._request)}))}))})})),f.prototype.createIndex=function(){return new l(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new l(this._store.index.apply(this._store,arguments))},a(f,"_store",["name","keyPath","indexNames","autoIncrement"]),o(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(f,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},a(h,"_tx",["objectStoreNames","mode"]),s(h,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},a(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},a(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[f,l].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,a=i[e].apply(i,n.slice(0,-1));a.onsuccess=function(){r(a.result)}})}))})),[l,f].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=v,e.deleteDb=g,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMaxDate=t.isMinDate=t.isValueType=void 0;var r,i=(r=n(7))&&r.__esModule?r:{default:r};function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s,u=[].concat(function(e){if(Array.isArray(e))return o(e)}(s=["century","decade","year","month"].slice(1))||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(s)||function(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),["day"]),l=i.default.oneOf(u);t.isValueType=l;t.isMinDate=function(e,t,n){var r=e[t];if(!r)return null;if(!(r instanceof Date))return new Error("Invalid prop `".concat(t,"` of type `").concat(a(r),"` supplied to `").concat(n,"`, expected instance of `Date`."));var i=e.maxDate;return i&&r>i?new Error("Invalid prop `".concat(t,"` of type `").concat(a(r),"` supplied to `").concat(n,"`, minDate cannot be larger than maxDate.")):null};t.isMaxDate=function(e,t,n){var r=e[t];if(!r)return null;if(!(r instanceof Date))return new Error("Invalid prop `".concat(t,"` of type `").concat(a(r),"` supplied to `").concat(n,"`, expected instance of `Date`."));var i=e.minDate;return i&&r<i?new Error("Invalid prop `".concat(t,"` of type `").concat(a(r),"` supplied to `").concat(n,"`, maxDate cannot be smaller than minDate.")):null}},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,u,"next",e)}function u(e){r(o,i,a,s,u,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(82)},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(48);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(111);var r,i=(r=n(112))&&r.__esModule?r:{default:r};n(123);var a=i.default;t.default=a},function(e,t,n){"use strict";var r=n(72);n.o(r,"animated")&&n.d(t,"animated",(function(){return r.animated})),n.o(r,"useSpring")&&n.d(t,"useSpring",(function(){return r.useSpring}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(25);function i(e,t,n){return(i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(r.a)(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){return null!==e&&!1!==e&&!Number.isNaN(Number(e))}Object.defineProperty(t,"__esModule",{value:!0}),t.between=function(e,t,n){if(t&&t>e)return t;if(n&&n<e)return n;return e},t.safeMin=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Math.min.apply(Math,r(t.filter(a)))},t.safeMax=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Math.max.apply(Math,r(t.filter(a)))}},function(e,t,n){"use strict";n.r(t),n.d(t,"getUserLocales",(function(){return a})),n.d(t,"getUserLocale",(function(){return o}));var r=n(59),i=n.n(r);var a=i()((function(){var e=[];return"undefined"!==typeof window&&(window.navigator.languages&&(e=e.concat(window.navigator.languages)),window.navigator.language&&e.push(window.navigator.language),window.navigator.userLanguage&&e.push(window.navigator.userLanguage),window.navigator.browserLanguage&&e.push(window.navigator.browserLanguage),window.navigator.systemLanguage&&e.push(window.navigator.systemLanguage)),e.push("en-US"),function(e){return e.map((function(e){if(!e||-1===e.indexOf("-")||e.toLowerCase()!==e)return e;var t=e.split("-");return"".concat(t[0],"-").concat(t[1].toUpperCase())}))}(e.filter((function(e,t,n){return n.indexOf(e)===t})))}));var o=i()((function(){return a()[0]}));t.default=o},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(87),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var l=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=c(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),g=0;g<o.length;++g){var y=o[g];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var m=h(n,y);try{l(t,y,m)}catch(b){}}}}return t}},function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var u,l=[],c=!1,f=-1;function h(){c&&u&&(c=!1,u.length?l=u.concat(l):f=-1,l.length&&d())}function d(){if(!c){var e=s(h);c=!0;for(var t=l.length;t;){for(u=l,l=[];++f<t;)u&&u[f].run();f=-1,t=l.length}u=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||c||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";n.d(t,"useSpring",(function(){return De}));var r=n(39),i=n(28),a=n(8),o=n(44),s=n(25),u=n(15),l=n(16),c=n(17),f=n(61),h=n(29),d=n.n(h),p=n(37),v=n(12),g=n(60),y=n(4);n.d(t,"Globals",(function(){return y.b}));var m=n(2),b=n(18);n(73),n(74);function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return y.s.fun(e)?e.apply(void 0,n):e}var x=function(e,t){return!0===e||!!(t&&e&&(y.s.fun(e)?e(t):Object(y.y)(e).includes(t)))},T=function(e,t){return y.s.obj(e)?t&&e[t]:e},k=function(e,t){return!0===e.default?e[t]:e.default?e.default[t]:void 0},O=function(e){return e},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O,n=A;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));var r,i={},a=Object(g.a)(n);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=t(e[o],o);y.s.und(s)||(i[o]=s)}}catch(u){a.e(u)}finally{a.f()}return i},A=["config","onProps","onStart","onChange","onPause","onResume","onRest"],E={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function C(e){var t=function(e){var t={},n=0;if(Object(y.l)(e,(function(e,r){E[r]||(t[r]=e,n++)})),n)return t}(e);if(t){var n={to:t};return Object(y.l)(e,(function(e,r){return r in t||(n[r]=e)})),n}return _({},e)}function M(e){return e=Object(y.q)(e),y.s.arr(e)?e.map(M):Object(y.t)(e)?y.b.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function I(e){for(var t in e)return!0;return!1}function D(e){return y.s.fun(e)||y.s.arr(e)&&y.s.obj(e[0])}function P(e,t){var n;null==(n=e.ref)||n.delete(e),null==t||t.delete(e)}function N(e,t){var n;t&&e.ref!==t&&(null==(n=e.ref)||n.delete(e),t.add(e),e.ref=t)}var j=_({},{tension:170,friction:26},{mass:1,damping:1,easing:function(e){return e},clamp:!1}),L=function e(){Object(v.a)(this,e),this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,j)};function R(e,t){if(y.s.und(t.decay)){var n=!y.s.und(t.tension)||!y.s.und(t.friction);!n&&y.s.und(t.frequency)&&y.s.und(t.damping)&&y.s.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var F=[],z=function e(){Object(v.a)(this,e),this.changed=!1,this.values=F,this.toValues=null,this.fromValues=F,this.to=void 0,this.from=void 0,this.config=new L,this.immediate=!1};function U(e,t){var n=t.key,r=t.props,i=t.defaultProps,a=t.state,o=t.actions;return new Promise((function(t,s){var u,l,c,f=x(null!=(u=r.cancel)?u:null==i?void 0:i.cancel,n);if(f)v();else{y.s.und(r.pause)||(a.paused=x(r.pause,n));var h=null==i?void 0:i.pause;!0!==h&&(h=a.paused||x(h,n)),l=w(r.delay||0,n),h?(a.resumeQueue.add(p),o.pause()):(o.resume(),p())}function d(){a.resumeQueue.add(p),a.timeouts.delete(c),c.cancel(),l=c.time-y.w.now()}function p(){l>0?(c=y.w.setTimeout(v,l),a.pauseQueue.add(d),a.timeouts.add(c)):v()}function v(){a.pauseQueue.delete(d),a.timeouts.delete(c),e<=(a.cancelId||0)&&(f=!0);try{o.start(_({},r,{callId:e,cancel:f}),t)}catch(n){s(n)}}}))}var q=function(e,t){return 1==t.length?t[0]:t.some((function(e){return e.cancelled}))?H(e.get()):t.every((function(e){return e.noop}))?B(e.get()):V(e.get(),t.every((function(e){return e.finished})))},B=function(e){return{value:e,noop:!0,finished:!0,cancelled:!1}},V=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{value:e,finished:t,cancelled:n}},H=function(e){return{value:e,cancelled:!0,finished:!1}};function W(e,t,n,r){var i=t.callId,a=t.parentId,o=t.onRest,s=n.asyncTo,u=n.promise;return a||e!==s||t.reset?n.promise=Object(p.a)(d.a.mark((function l(){var c,f,h,v,m,b,w,x;return d.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(n.asyncId=i,n.asyncTo=e,c=S(t,(function(e,t){return"onRest"===t?void 0:e})),v=new Promise((function(e,t){return f=e,h=t})),m=function(e){var t=i<=(n.cancelId||0)&&H(r)||i!==n.asyncId&&V(r,!1);if(t)throw e.result=t,h(e),e},b=function(e,t){var a=new G,o=new K;return Object(p.a)(d.a.mark((function s(){var u,l;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!y.b.skipAnimation){s.next=5;break}throw Y(n),o.result=V(r,!1),h(o),o;case 5:return m(a),(u=y.s.obj(e)?_({},e):_({},t,{to:e})).parentId=i,Object(y.l)(c,(function(e,t){y.s.und(u[t])&&(u[t]=e)})),s.next=11,r.start(u);case 11:if(l=s.sent,m(a),!n.paused){s.next=16;break}return s.next=16,new Promise((function(e){n.resumeQueue.add(e)}));case 16:return s.abrupt("return",l);case 17:case"end":return s.stop()}}),s)})))()},!y.b.skipAnimation){l.next=9;break}return Y(n),l.abrupt("return",V(r,!1));case 9:return l.prev=9,x=y.s.arr(e)?function(){var e=Object(p.a)(d.a.mark((function e(t){var n,r,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(g.a)(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,b(i);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()(e):Promise.resolve(e(b,r.stop.bind(r))),l.next=13,Promise.all([x.then(f),v]);case 13:w=V(r.get(),!0,!1),l.next=27;break;case 16:if(l.prev=16,l.t0=l.catch(9),!(l.t0 instanceof G)){l.next=22;break}w=l.t0.result,l.next=27;break;case 22:if(!(l.t0 instanceof K)){l.next=26;break}w=l.t0.result,l.next=27;break;case 26:throw l.t0;case 27:return l.prev=27,i==n.asyncId&&(n.asyncId=a,n.asyncTo=a?s:void 0,n.promise=a?u:void 0),l.finish(27);case 30:return y.s.fun(o)&&y.w.batchedUpdates((function(){o(w,r,r.item)})),l.abrupt("return",w);case 32:case"end":return l.stop()}}),l,null,[[9,16,27,30]])})))():u}function Y(e,t){Object(y.m)(e.timeouts,(function(e){return e.cancel()})),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var G=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(v.a)(this,n),(e=t.call(this,"An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")).result=void 0,e}return n}(Object(f.a)(Error)),K=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(v.a)(this,n),(e=t.call(this,"SkipAnimationSignal")).result=void 0,e}return n}(Object(f.a)(Error)),X=function(e){return e instanceof Q},$=1,Q=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(v.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).id=$++,e.key=void 0,e._priority=0,e}return Object(u.a)(n,[{key:"priority",get:function(){return this._priority},set:function(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}},{key:"get",value:function(){var e=Object(b.e)(this);return e&&e.getValue()}},{key:"to",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return y.b.to(this,t)}},{key:"interpolate",value:function(){Object(y.j)();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return y.b.to(this,t)}},{key:"toJSON",value:function(){return this.get()}},{key:"observerAdded",value:function(e){1==e&&this._attach()}},{key:"observerRemoved",value:function(e){0==e&&this._detach()}},{key:"_attach",value:function(){}},{key:"_detach",value:function(){}},{key:"_onChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(y.d)(this,{type:"change",parent:this,value:e,idle:t})}},{key:"_onPriorityChange",value:function(e){this.idle||y.o.sort(this),Object(y.d)(this,{type:"priority",parent:this,priority:e})}}]),n}(y.a),J=Symbol.for("SpringPhase"),Z=function(e){return(1&e[J])>0},ee=function(e){return(2&e[J])>0},te=function(e){return(4&e[J])>0},ne=function(e,t){return t?e[J]|=3:e[J]&=-3},re=function(e,t){return t?e[J]|=4:e[J]&=-5},ie=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;if(Object(v.a)(this,n),(i=t.call(this)).key=void 0,i.animation=new z,i.queue=void 0,i.defaultProps={},i._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},i._pendingCalls=new Set,i._lastCallId=0,i._lastToId=0,i._memoizedDuration=0,!y.s.und(e)||!y.s.und(r)){var a=y.s.obj(e)?_({},e):_({},r,{from:e});y.s.und(a.default)&&(a.default=!0),i.start(a)}return i}return Object(u.a)(n,[{key:"idle",get:function(){return!(ee(this)||this._state.asyncTo)||te(this)}},{key:"goal",get:function(){return Object(y.q)(this.animation.to)}},{key:"velocity",get:function(){var e=Object(b.e)(this);return e instanceof b.c?e.lastVelocity||0:e.getPayload().map((function(e){return e.lastVelocity||0}))}},{key:"hasAnimated",get:function(){return Z(this)}},{key:"isAnimating",get:function(){return ee(this)}},{key:"isPaused",get:function(){return te(this)}},{key:"advance",value:function(e){var t=this,n=!0,r=!1,i=this.animation,a=i.config,o=i.toValues,s=Object(b.g)(i.to);!s&&Object(y.r)(i.to)&&(o=Object(y.y)(Object(y.q)(i.to))),i.values.forEach((function(u,l){if(!u.done){var c=u.constructor==b.b?1:s?s[l].lastPosition:o[l],f=i.immediate,h=c;if(!f){if(h=u.lastPosition,a.tension<=0)return void(u.done=!0);var d,p=u.elapsedTime+=e,v=i.fromValues[l],g=null!=u.v0?u.v0:u.v0=y.s.arr(a.velocity)?a.velocity[l]:a.velocity;if(y.s.und(a.duration))if(a.decay){var m=!0===a.decay?.998:a.decay,_=Math.exp(-(1-m)*p);h=v+g/(1-m)*(1-_),f=Math.abs(u.lastPosition-h)<.1,d=g*_}else{d=null==u.lastVelocity?g:u.lastVelocity;for(var w=a.precision||(v==c?.005:Math.min(1,.001*Math.abs(c-v))),x=a.restVelocity||w/10,T=a.clamp?0:a.bounce,k=!y.s.und(T),O=v==c?u.v0>0:v<c,S=Math.ceil(e/1),A=0;A<S&&(Math.abs(d)>x||!(f=Math.abs(c-h)<=w));++A){k&&(h==c||h>c==O)&&(d=-d*T,h=c),h+=1*(d+=1*((1e-6*-a.tension*(h-c)+.001*-a.friction*d)/a.mass))}}else{var E=1;a.duration>0&&(t._memoizedDuration!==a.duration&&(t._memoizedDuration=a.duration,u.durationProgress>0&&(u.elapsedTime=a.duration*u.durationProgress,p=u.elapsedTime+=e)),E=(E=(a.progress||0)+p/t._memoizedDuration)>1?1:E<0?0:E,u.durationProgress=E),d=((h=v+a.easing(E)*(c-v))-u.lastPosition)/e,f=1==E}u.lastVelocity=d,Number.isNaN(h)&&(console.warn("Got NaN while animating:",t),f=!0)}s&&!s[l].done&&(f=!1),f?u.done=!0:n=!1,u.setValue(h,a.round)&&(r=!0)}}));var u=Object(b.e)(this),l=u.getValue();if(n){var c=Object(y.q)(i.to);l===c&&!r||a.decay?r&&a.decay&&this._onChange(l):(u.setValue(c),this._onChange(c)),this._stop()}else r&&this._onChange(l)}},{key:"set",value:function(e){var t=this;return y.w.batchedUpdates((function(){t._stop(),t._focus(e),t._set(e)})),this}},{key:"pause",value:function(){this._update({pause:!0})}},{key:"resume",value:function(){this._update({pause:!1})}},{key:"finish",value:function(){var e=this;if(ee(this)){var t=this.animation,n=t.to,r=t.config;y.w.batchedUpdates((function(){e._onStart(),r.decay||e._set(n,!1),e._stop()}))}return this}},{key:"update",value:function(e){return(this.queue||(this.queue=[])).push(e),this}},{key:"start",value:function(e,t){var n,r=this;return y.s.und(e)?(n=this.queue||[],this.queue=[]):n=[y.s.obj(e)?e:_({},t,{to:e})],Promise.all(n.map((function(e){return r._update(e)}))).then((function(e){return q(r,e)}))}},{key:"stop",value:function(e){var t=this,n=this.animation.to;return this._focus(this.get()),Y(this._state,e&&this._lastCallId),y.w.batchedUpdates((function(){return t._stop(n,e)})),this}},{key:"reset",value:function(){this._update({reset:!0})}},{key:"eventObserved",value:function(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}},{key:"_prepareNode",value:function(e){var t=this.key||"",n=e.to,r=e.from;(null==(n=y.s.obj(n)?n[t]:n)||D(n))&&(n=void 0),null==(r=y.s.obj(r)?r[t]:r)&&(r=void 0);var i={to:n,from:r};if(!Z(this)){if(e.reverse){var a=[r,n];n=a[0],r=a[1]}r=Object(y.q)(r),y.s.und(r)?Object(b.e)(this)||this._set(n):this._set(r)}return i}},{key:"_update",value:function(e,t){var n=this,r=_({},e),i=this.key,a=this.defaultProps;r.default&&Object.assign(a,S(r,(function(e,t){return/^on/.test(t)?T(e,i):e}))),fe(this,r,"onProps"),he(this,"onProps",r,this);var o=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");var s=this._state;return U(++this._lastCallId,{key:i,props:r,defaultProps:a,state:s,actions:{pause:function(){te(n)||(re(n,!0),Object(y.n)(s.pauseQueue),he(n,"onPause",V(n,ae(n,n.animation.to)),n))},resume:function(){te(n)&&(re(n,!1),ee(n)&&n._resume(),Object(y.n)(s.resumeQueue),he(n,"onResume",V(n,ae(n,n.animation.to)),n))},start:this._merge.bind(this,o)}}).then((function(e){if(r.loop&&e.finished&&(!t||!e.noop)){var i=oe(r);if(i)return n._update(i,!0)}return e}))}},{key:"_merge",value:function(e,t,n){var r=this;if(t.cancel)return this.stop(!0),n(H(this));var i=!y.s.und(e.to),a=!y.s.und(e.from);if(i||a){if(!(t.callId>this._lastToId))return n(H(this));this._lastToId=t.callId}var o=this.key,s=this.defaultProps,u=this.animation,l=u.to,c=u.from,f=e.to,h=void 0===f?l:f,d=e.from,p=void 0===d?c:d;if(!a||i||t.default&&!y.s.und(h)||(h=p),t.reverse){var v=[p,h];h=v[0],p=v[1]}var g=!Object(y.u)(p,c);g&&(u.from=p),p=Object(y.q)(p);var m=!Object(y.u)(h,l);m&&this._focus(h);var T=D(t.to),k=u.config,O=k.decay,S=k.velocity;(i||a)&&(k.velocity=0),t.config&&!T&&function(e,t,n){for(var r in n&&(R(n=_({},n),t),t=_({},n,t)),R(e,t),Object.assign(e,t),j)null==e[r]&&(e[r]=j[r]);var i=e.mass,a=e.frequency,o=e.damping;y.s.und(a)||(a<.01&&(a=.01),o<0&&(o=0),e.tension=Math.pow(2*Math.PI/a,2)*i,e.friction=4*Math.PI*o*i/a)}(k,w(t.config,o),t.config!==s.config?w(s.config,o):void 0);var A=Object(b.e)(this);if(!A||y.s.und(h))return n(V(this,!0));var E=y.s.und(t.reset)?a&&!t.default:!y.s.und(p)&&x(t.reset,o),C=E?p:this.get(),I=M(h),P=y.s.num(I)||y.s.arr(I)||Object(y.t)(I),N=!T&&(!P||x(s.immediate||t.immediate,o));if(m){var L=Object(b.f)(h);if(L!==A.constructor){if(!N)throw Error("Cannot animate between ".concat(A.constructor.name," and ").concat(L.name,', as the "to" prop suggests'));A=this._set(I)}}var F=A.constructor,z=Object(y.r)(h),U=!1;if(!z){var q=E||!Z(this)&&g;(m||q)&&(z=!(U=Object(y.u)(M(C),I))),(Object(y.u)(u.immediate,N)||N)&&Object(y.u)(k.decay,O)&&Object(y.u)(k.velocity,S)||(z=!0)}if(U&&ee(this)&&(u.changed&&!E?z=!0:z||this._stop(l)),!T&&((z||Object(y.r)(l))&&(u.values=A.getPayload(),u.toValues=Object(y.r)(h)?null:F==b.b?[1]:Object(y.y)(I)),u.immediate!=N&&(u.immediate=N,N||E||this._set(l)),z)){var Y=u.onRest;Object(y.k)(ce,(function(e){return fe(r,t,e)}));var G=V(this,ae(this,l));Object(y.n)(this._pendingCalls,G),this._pendingCalls.add(n),u.changed&&y.w.batchedUpdates((function(){u.changed=!E,null==Y||Y(G,r),E?w(s.onRest,G):null==u.onStart||u.onStart(G,r)}))}E&&this._set(C),T?n(W(t.to,t,this._state,this)):z?this._start():ee(this)&&!m?this._pendingCalls.add(n):n(B(C))}},{key:"_focus",value:function(e){var t=this.animation;e!==t.to&&(Object(y.p)(this)&&this._detach(),t.to=e,Object(y.p)(this)&&this._attach())}},{key:"_attach",value:function(){var e=0,t=this.animation.to;Object(y.r)(t)&&(Object(y.c)(t,this),X(t)&&(e=t.priority+1)),this.priority=e}},{key:"_detach",value:function(){var e=this.animation.to;Object(y.r)(e)&&Object(y.x)(e,this)}},{key:"_set",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=Object(y.q)(e);if(!y.s.und(r)){var i=Object(b.e)(this);if(!i||!Object(y.u)(r,i.getValue())){var a=Object(b.f)(r);i&&i.constructor==a?i.setValue(r):Object(b.h)(this,a.create(r)),i&&y.w.batchedUpdates((function(){t._onChange(r,n)}))}}return Object(b.e)(this)}},{key:"_onStart",value:function(){var e=this.animation;e.changed||(e.changed=!0,he(this,"onStart",V(this,ae(this,e.to)),this))}},{key:"_onChange",value:function(e,t){t||(this._onStart(),w(this.animation.onChange,e,this)),w(this.defaultProps.onChange,e,this),Object(o.a)(Object(s.a)(n.prototype),"_onChange",this).call(this,e,t)}},{key:"_start",value:function(){var e=this.animation;Object(b.e)(this).reset(Object(y.q)(e.to)),e.immediate||(e.fromValues=e.values.map((function(e){return e.lastPosition}))),ee(this)||(ne(this,!0),te(this)||this._resume())}},{key:"_resume",value:function(){y.b.skipAnimation?this.finish():y.o.start(this)}},{key:"_stop",value:function(e,t){if(ee(this)){ne(this,!1);var n=this.animation;Object(y.k)(n.values,(function(e){e.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Object(y.d)(this,{type:"idle",parent:this});var r=t?H(this.get()):V(this.get(),ae(this,null!=e?e:n.to));Object(y.n)(this._pendingCalls,r),n.changed&&(n.changed=!1,he(this,"onRest",r,this))}}}]),n}(Q);function ae(e,t){var n=M(t),r=M(e.get());return Object(y.u)(r,n)}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.to,r=w(t);if(r){var i=!0!==r&&C(r),a=(i||e).reverse,o=!i||i.reset;return se(_({},e,{loop:t,default:!1,pause:void 0,to:!a||D(n)?n:void 0,from:o?e.from:void 0,reset:o},i))}}function se(e){var t=e=C(e),n=t.to,r=t.from,i=new Set;return y.s.obj(n)&&le(n,i),y.s.obj(r)&&le(r,i),e.keys=i.size?Array.from(i):null,e}function ue(e){var t=se(e);return y.s.und(t.default)&&(t.default=S(t)),t}function le(e,t){Object(y.l)(e,(function(e,n){return null!=e&&t.add(n)}))}var ce=["onStart","onRest","onChange","onPause","onResume"];function fe(e,t,n){e.animation[n]=t[n]!==k(t,n)?T(t[n],e.key):void 0}function he(e,t){for(var n,r,i,a,o,s,u=arguments.length,l=new Array(u>2?u-2:0),c=2;c<u;c++)l[c-2]=arguments[c];null==(i=(a=e.animation)[t])||(n=i).call.apply(n,[a].concat(l)),null==(o=(s=e.defaultProps)[t])||(r=o).call.apply(r,[s].concat(l))}var de=["onStart","onChange","onRest"],pe=1,ve=function(){function e(t,n){Object(v.a)(this,e),this.id=pe++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),t&&this.start(_({default:!0},t))}return Object(u.a)(e,[{key:"idle",get:function(){return!this._state.asyncTo&&Object.values(this.springs).every((function(e){return e.idle}))}},{key:"item",get:function(){return this._item},set:function(e){this._item=e}},{key:"get",value:function(){var e={};return this.each((function(t,n){return e[n]=t.get()})),e}},{key:"set",value:function(e){for(var t in e){var n=e[t];y.s.und(n)||this.springs[t].set(n)}}},{key:"update",value:function(e){return e&&this.queue.push(se(e)),this}},{key:"start",value:function(e){var t=this.queue;return e?t=Object(y.y)(e).map(se):this.queue=[],this._flush?this._flush(this,t):(Te(this,t),ge(this,t))}},{key:"stop",value:function(e,t){if(e!==!!e&&(t=e),t){var n=this.springs;Object(y.k)(Object(y.y)(t),(function(t){return n[t].stop(!!e)}))}else Y(this._state,this._lastAsyncId),this.each((function(t){return t.stop(!!e)}));return this}},{key:"pause",value:function(e){if(y.s.und(e))this.start({pause:!0});else{var t=this.springs;Object(y.k)(Object(y.y)(e),(function(e){return t[e].pause()}))}return this}},{key:"resume",value:function(e){if(y.s.und(e))this.start({pause:!1});else{var t=this.springs;Object(y.k)(Object(y.y)(e),(function(e){return t[e].resume()}))}return this}},{key:"each",value:function(e){Object(y.l)(this.springs,e)}},{key:"_onFrame",value:function(){var e=this,t=this._events,n=t.onStart,r=t.onChange,i=t.onRest,o=this._active.size>0,s=this._changed.size>0;(o&&!this._started||s&&!this._started)&&(this._started=!0,Object(y.m)(n,(function(t){var n=Object(a.a)(t,2),r=n[0],i=n[1];i.value=e.get(),r(i,e,e._item)})));var u=!o&&this._started,l=s||u&&i.size?this.get():null;s&&r.size&&Object(y.m)(r,(function(t){var n=Object(a.a)(t,2),r=n[0],i=n[1];i.value=l,r(i,e,e._item)})),u&&(this._started=!1,Object(y.m)(i,(function(t){var n=Object(a.a)(t,2),r=n[0],i=n[1];i.value=l,r(i,e,e._item)})))}},{key:"eventObserved",value:function(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}y.w.onFrame(this._onFrame)}}]),e}();function ge(e,t){return Promise.all(t.map((function(t){return ye(e,t)}))).then((function(t){return q(e,t)}))}function ye(e,t,n){return me.apply(this,arguments)}function me(){return(me=Object(p.a)(d.a.mark((function e(t,n,r){var i,a,o,s,u,l,c,f,h,p,v,g,m;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.keys,a=n.to,o=n.from,s=n.loop,u=n.onRest,l=n.onResolve,c=y.s.obj(n.default)&&n.default,s&&(n.loop=!1),!1===a&&(n.to=null),!1===o&&(n.from=null),(f=y.s.arr(a)||y.s.fun(a)?a:void 0)?(n.to=void 0,n.onRest=void 0,c&&(c.onRest=void 0)):Object(y.k)(de,(function(e){var r=n[e];if(y.s.fun(r)){var i=t._events[e];n[e]=function(e){var t=e.finished,n=e.cancelled,a=i.get(r);a?(t||(a.finished=!1),n&&(a.cancelled=!0)):i.set(r,{value:null,finished:t||!1,cancelled:n||!1})},c&&(c[e]=n[e])}})),h=t._state,n.pause===!h.paused?(h.paused=n.pause,Object(y.n)(n.pause?h.pauseQueue:h.resumeQueue)):h.paused&&(n.pause=!0),p=(i||Object.keys(t.springs)).map((function(e){return t.springs[e].start(n)})),v=!0===n.cancel||!0===k(n,"cancel"),(f||v&&h.asyncId)&&p.push(U(++t._lastAsyncId,{props:n,state:h,actions:{pause:y.v,resume:y.v,start:function(e,n){v?(Y(h,t._lastAsyncId),n(H(t))):(e.onRest=u,n(W(f,e,h,t)))}}})),!h.paused){e.next=15;break}return e.next=15,new Promise((function(e){h.resumeQueue.add(e)}));case 15:return e.t0=q,e.t1=t,e.next=19,Promise.all(p);case 19:if(e.t2=e.sent,g=(0,e.t0)(e.t1,e.t2),!s||!g.finished||r&&g.noop){e.next=26;break}if(!(m=oe(n,s,a))){e.next=26;break}return Te(t,[m]),e.abrupt("return",ye(t,m,!0));case 26:return l&&y.w.batchedUpdates((function(){return l(g,t,t.item)})),e.abrupt("return",g);case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(e,t){var n=_({},e.springs);return t&&Object(y.k)(Object(y.y)(t),(function(e){y.s.und(e.keys)&&(e=se(e)),y.s.obj(e.to)||(e=_({},e,{to:void 0})),xe(n,e,(function(e){return we(e)}))})),_e(e,n),n}function _e(e,t){Object(y.l)(t,(function(t,n){e.springs[n]||(e.springs[n]=t,Object(y.c)(t,e))}))}function we(e,t){var n=new ie;return n.key=e,t&&Object(y.c)(n,t),n}function xe(e,t,n){t.keys&&Object(y.k)(t.keys,(function(r){(e[r]||(e[r]=n(r)))._prepareNode(t)}))}function Te(e,t){Object(y.k)(t,(function(t){xe(e.springs,t,(function(t){return we(t,e)}))}))}function ke(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Oe,Se,Ae=["children"],Ee=function(e){var t=e.children,n=ke(e,Ae),r=Object(m.useContext)(Ce),i=n.pause||!!r.pause,a=n.immediate||!!r.immediate;n=Object(y.B)((function(){return{pause:i,immediate:a}}),[i,a]);var o=Ce.Provider;return m.createElement(o,{value:n},t)},Ce=(Oe=Ee,Se={},Object.assign(Oe,m.createContext(Se)),Oe.Provider._context=Oe,Oe.Consumer._context=Oe,Oe);Ee.Provider=Ce.Provider,Ee.Consumer=Ce.Consumer;var Me=function(){var e=[],t=function(t){Object(y.i)();var r=[];return Object(y.k)(e,(function(e,i){if(y.s.und(t))r.push(e.start());else{var a=n(t,e,i);a&&r.push(e.start(a))}})),r};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){var n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){var t=arguments;return Object(y.k)(e,(function(e){return e.pause.apply(e,Object(i.a)(t))})),this},t.resume=function(){var t=arguments;return Object(y.k)(e,(function(e){return e.resume.apply(e,Object(i.a)(t))})),this},t.set=function(t){Object(y.k)(e,(function(e){return e.set(t)}))},t.start=function(t){var n=this,r=[];return Object(y.k)(e,(function(e,i){if(y.s.und(t))r.push(e.start());else{var a=n._getProps(t,e,i);a&&r.push(e.start(a))}})),r},t.stop=function(){var t=arguments;return Object(y.k)(e,(function(e){return e.stop.apply(e,Object(i.a)(t))})),this},t.update=function(t){var n=this;return Object(y.k)(e,(function(e,r){return e.update(n._getProps(t,e,r))})),this};var n=function(e,t,n){return y.s.fun(e)?e(n,t):e};return t._getProps=n,t};function Ie(e,t,n){var r=arguments,a=y.s.fun(t)&&t;a&&!n&&(n=[]);var o=Object(m.useMemo)((function(){return a||3==r.length?Me():void 0}),[]),s=Object(m.useRef)(0),u=Object(y.z)(),l=Object(m.useMemo)((function(){return{ctrls:[],queue:[],flush:function(e,t){var n=be(e,t);return s.current>0&&!l.queue.length&&!Object.keys(n).some((function(t){return!e.springs[t]}))?ge(e,t):new Promise((function(r){_e(e,n),l.queue.push((function(){r(ge(e,t))})),u()}))}}}),[]),c=Object(m.useRef)(Object(i.a)(l.ctrls)),f=[],h=Object(y.D)(e)||0;function d(e,n){for(var r=e;r<n;r++){var i=c.current[r]||(c.current[r]=new ve(null,l.flush)),o=a?a(r,i):t[r];o&&(f[r]=ue(o))}}Object(m.useMemo)((function(){Object(y.k)(c.current.slice(e,h),(function(e){P(e,o),e.stop(!0)})),c.current.length=e,d(h,e)}),[e]),Object(m.useMemo)((function(){d(0,Math.min(h,e))}),n);var p=c.current.map((function(e,t){return be(e,f[t])})),v=Object(m.useContext)(Ee),g=Object(y.D)(v),b=v!==g&&I(v);Object(y.A)((function(){s.current++,l.ctrls=c.current;var e=l.queue;e.length&&(l.queue=[],Object(y.k)(e,(function(e){return e()}))),Object(y.k)(c.current,(function(e,t){null==o||o.add(e),b&&e.start({default:v});var n=f[t];n&&(N(e,n.ref),e.ref?e.queue.push(n):e.start(n))}))})),Object(y.C)((function(){return function(){Object(y.k)(l.ctrls,(function(e){return e.stop(!0)}))}}));var w=p.map((function(e){return _({},e)}));return o?[w,o]:w}function De(e,t){var n=y.s.fun(e),r=Ie(1,n?e:[e],n?t||[]:t),i=Object(a.a)(r,2),o=Object(a.a)(i[0],1),s=o[0],u=i[1];return n||2==arguments.length?[s,u]:s}var Pe;!function(e){e.MOUNT="mount",e.ENTER="enter",e.UPDATE="update",e.LEAVE="leave"}(Pe||(Pe={}));var Ne=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,a){var o;Object(v.a)(this,n),(o=t.call(this)).key=void 0,o.idle=!0,o.calc=void 0,o._active=new Set,o.source=e,o.calc=y.f.apply(void 0,Object(i.a)(a));var s=o._get(),u=Object(b.f)(s);return Object(b.h)(Object(r.a)(o),u.create(s)),o}return Object(u.a)(n,[{key:"advance",value:function(e){var t=this._get(),n=this.get();Object(y.u)(t,n)||(Object(b.e)(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&Le(this._active)&&Re(this)}},{key:"_get",value:function(){var e=y.s.arr(this.source)?this.source.map(y.q):Object(y.y)(Object(y.q)(this.source));return this.calc.apply(this,Object(i.a)(e))}},{key:"_start",value:function(){var e=this;this.idle&&!Le(this._active)&&(this.idle=!1,Object(y.k)(Object(b.g)(this),(function(e){e.done=!1})),y.b.skipAnimation?(y.w.batchedUpdates((function(){return e.advance()})),Re(this)):y.o.start(this))}},{key:"_attach",value:function(){var e=this,t=1;Object(y.k)(Object(y.y)(this.source),(function(n){Object(y.r)(n)&&Object(y.c)(n,e),X(n)&&(n.idle||e._active.add(n),t=Math.max(t,n.priority+1))})),this.priority=t,this._start()}},{key:"_detach",value:function(){var e=this;Object(y.k)(Object(y.y)(this.source),(function(t){Object(y.r)(t)&&Object(y.x)(t,e)})),this._active.clear(),Re(this)}},{key:"eventObserved",value:function(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=Object(y.y)(this.source).reduce((function(e,t){return Math.max(e,(X(t)?t.priority:0)+1)}),0))}}]),n}(Q);function je(e){return!1!==e.idle}function Le(e){return!e.size||Array.from(e).every(je)}function Re(e){e.idle||(e.idle=!0,Object(y.k)(Object(b.g)(e),(function(e){e.done=!0})),Object(y.d)(e,{type:"idle",parent:e}))}y.b.assign({createStringInterpolator:y.g,to:function(e,t){return new Ne(e,t)}});y.o.advance},function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}n.d(t,"a",(function(){return r}))},,function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,u=o(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))i.call(n,c)&&(u[c]=n[c]);if(r){s=r(n);for(var f=0;f<s.length;f++)a.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var i=l(n(2)),a=l(n(7)),o=l(n(32)),s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(117));function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}var c="undefined"!==typeof window&&"navigator"in window&&navigator.userAgent.match(/ Edge\/1/);function f(e){var t=e.target;c?requestAnimationFrame((function(){return t.select()})):t.select()}function h(e){return function(t){var n=t.key,r=t.target.value,i=!isNaN(parseInt(n,10)),a="undefined"===typeof window?null:window.getSelection().toString();i&&(a||r.length<e)||t.preventDefault()}}function d(e){var t=e.ariaLabel,n=e.autoFocus,r=e.className,a=e.disabled,u=e.itemRef,l=e.max,c=e.min,d=e.name,p=e.nameForClass,v=e.onChange,g=e.onKeyDown,y=e.onKeyUp,m=e.placeholder,b=void 0===m?"--":m,_=e.required,w=e.showLeadingZeros,x=e.step,T=e.value,k=w&&T&&T<10&&("0"===T||!T.toString().startsWith("0")),O=l?l.toString().length:null;return[k&&i.default.createElement("span",{key:"leadingZero",className:"".concat(r,"__leadingZero")},"0"),i.default.createElement("input",{key:"input","aria-label":t,autoComplete:"off",autoFocus:n,className:(0,o.default)("".concat(r,"__input"),"".concat(r,"__").concat(p||d),k&&"".concat(r,"__input--hasLeadingZero")),"data-input":"true",disabled:a,inputMode:"numeric",max:l,min:c,name:d,onChange:v,onFocus:f,onKeyDown:g,onKeyPress:h(O),onKeyUp:function(e){(0,s.default)(e.target),y&&y(e)},placeholder:b,ref:function(e){e&&((0,s.default)(e),function(e){if(document.fonts){var t=(0,s.getFontShorthand)(e);t&&(document.fonts.check(t)||document.fonts.addEventListener("loadingdone",(function(){(0,s.default)(e)})))}}(e)),u&&u(e,d)},required:_,step:x,type:"number",value:null!==T?T:""})]}d.propTypes={ariaLabel:a.default.string,autoFocus:a.default.bool,className:a.default.string.isRequired,disabled:a.default.bool,itemRef:a.default.func,max:a.default.number,min:a.default.number,name:a.default.string,nameForClass:a.default.string,onChange:a.default.func,onKeyDown:a.default.func,onKeyUp:a.default.func,placeholder:a.default.string,required:a.default.bool,showLeadingZeros:a.default.bool,step:a.default.number,value:a.default.string}},function(e,t,n){"use strict";e.exports=n(86)},function(e,t,n){"use strict";(function(e){var r=n(2),i=n.n(r),a=n(27),o=n(7),s=n.n(o),u=1073741823,l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};function c(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var f=i.a.createContext||function(e,t){var n,i,o="__create-react-context-"+function(){var e="__global_unique_id__";return l[e]=(l[e]||0)+1}()+"__",f=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=c(t.props.value),t}Object(a.a)(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((a=r)===(o=i)?0!==a||1/a===1/o:a!==a&&o!==o)?n=0:(n="function"===typeof t?t(r,i):u,0!==(n|=0)&&this.emitter.set(e.value,n))}var a,o},r.render=function(){return this.props.children},n}(r.Component);f.childContextTypes=((n={})[o]=s.a.object.isRequired,n);var h=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(a.a)(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?u:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?u:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return h.contextTypes=((i={})[o]=s.a.object,i),{Provider:f,Consumer:h}};t.a=f}).call(this,n(45))},function(e,t,n){var r=n(91);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return s(a(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,s="",c=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(s+=e.slice(o,d),o=d+f.length,h)s+=h[1];else{var p=e[o],v=n[2],g=n[3],y=n[4],m=n[5],b=n[6],_=n[7];s&&(r.push(s),s="");var w=null!=v&&null!=p&&p!==v,x="+"===b||"*"===b,T="?"===b||"*"===b,k=n[2]||c,O=y||m;r.push({name:g||a++,prefix:v||"",delimiter:k,optional:T,repeat:x,partial:w,asterisk:!!_,pattern:O?l(O):_?".*":"[^"+u(k)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&r.push(s),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",s=t||{},u=(i||{}).pretty?o:encodeURIComponent,l=0;l<e.length;l++){var c=e[l];if("string"!==typeof c){var f,h=s[c.name];if(null==h){if(c.optional){c.partial&&(a+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(r(h)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=u(h[d]),!n[l].test(f))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?c.prefix:c.delimiter)+f}}else{if(f=c.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(h),!n[l].test(f))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+f+'"');a+=c.prefix+f}}else a+=c}return a}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function c(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",s=0;s<e.length;s++){var l=e[s];if("string"===typeof l)o+=u(l);else{var h=u(l.prefix),d="(?:"+l.pattern+")";t.push(l),l.repeat&&(d+="(?:"+h+d+")*"),o+=d=l.optional?l.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=u(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",c(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return c(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},function(e,t){var n=1/0,r=17976931348623157e292,i=NaN,a="[object Symbol]",o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,f=Object.prototype.toString;function h(e,t){var h;if("function"!=typeof t)throw new TypeError("Expected a function");return e=function(e){var t=function(e){if(!e)return 0===e?e:0;if((e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&f.call(e)==a}(e))return i;if(d(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=d(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=u.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):s.test(e)?i:+e}(e))===n||e===-1/0){return(e<0?-1:1)*r}return e===e?e:0}(e),h=t%1;return t===t?h?t-h:t:0}(e),function(){return--e>0&&(h=t.apply(this,arguments)),e<=1&&(t=void 0),h}}function d(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){return h(2,e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(41);function i(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(r.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(25),i=n(40);var a=n(52);function o(e,t,n){return(o=Object(a.a)()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&Object(i.a)(a,n.prototype),a}).apply(null,arguments)}function s(e){var t="function"===typeof Map?new Map:void 0;return(s=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return o(e,arguments,Object(r.a)(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Object(i.a)(a,e)})(e)}},function(e,t,n){"use strict";var r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return r.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));t.a=i},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(24);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";(function(t){var r=n(24),i=n(99),a={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s={adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(e=n(67)),e}(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){s.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){s.headers[e]=r.merge(a)})),e.exports=s}).call(this,n(50))},function(e,t,n){"use strict";var r=n(24),i=n(100),a=n(102),o=n(64),s=n(103),u=n(106),l=n(107),c=n(68);e.exports=function(e){return new Promise((function(t,n){var f=e.data,h=e.headers;r.isFormData(f)&&delete h["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",v=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";h.Authorization="Basic "+btoa(p+":"+v)}var g=s(e.baseURL,e.url);if(d.open(e.method.toUpperCase(),o(g,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?u(d.getAllResponseHeaders()):null,a={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:r,config:e,request:d};i(t,n,a),d=null}},d.onabort=function(){d&&(n(c("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){n(c("Network Error",e,null,d)),d=null},d.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(c(t,e,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var y=(e.withCredentials||l(g))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;y&&(h[e.xsrfHeaderName]=y)}if("setRequestHeader"in d&&r.forEach(h,(function(e,t){"undefined"===typeof f&&"content-type"===t.toLowerCase()?delete h[t]:d.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),e.responseType)try{d.responseType=e.responseType}catch(m){if("json"!==e.responseType)throw m}"function"===typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),n(e),d=null)})),f||(f=null),d.send(f)}))}},function(e,t,n){"use strict";var r=n(101);e.exports=function(e,t,n,i,a){var o=new Error(e);return r(o,t,n,i,a)}},function(e,t,n){"use strict";var r=n(24);e.exports=function(e,t){t=t||{};var n={},i=["url","method","data"],a=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function u(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function l(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(e[i],t[i])}r.forEach(i,(function(e){r.isUndefined(t[e])||(n[e]=u(void 0,t[e]))})),r.forEach(a,l),r.forEach(o,(function(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(void 0,t[i])})),r.forEach(s,(function(r){r in t?n[r]=u(e[r],t[r]):r in e&&(n[r]=u(void 0,e[r]))}));var c=i.concat(a).concat(o).concat(s),f=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===c.indexOf(e)}));return r.forEach(f,l),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFormatter=a,t.formatShortMonth=t.formatMonth=void 0;var r,i=(r=n(47))&&r.__esModule?r:{default:r};function a(e){return function(t,n){return n.toLocaleString(t||(0,i.default)(),e)}}function o(e){return function(t,n){return a(e)(t,function(e){var t=new Date(e);return new Date(t.setHours(12))}(n))}}var s=o({month:"long"});t.formatMonth=s;var u=o({month:"short"});t.formatShortMonth=u},function(e,t,n){"use strict";n.d(t,"animated",(function(){return E}));var r=n(15),i=n(8),a=n(12),o=n(16),s=n(17),u=n(51);n.o(u,"useSpring")&&n.d(t,"useSpring",(function(){return u.useSpring}));var l=n(38),c=n(4),f=n(18);function h(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var d=["style","children","scrollTop","scrollLeft"],p=/^--/;function v(e,t){return null==t||"boolean"===typeof t||""===t?"":"number"!==typeof t||0===t||p.test(e)||y.hasOwnProperty(e)&&y[e]?(""+t).trim():t+"px"}var g={};var y={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},m=["Webkit","Ms","Moz","O"];y=Object.keys(y).reduce((function(e,t){return m.forEach((function(n){return e[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(n,t)]=e[t]})),e}),y);var b=["x","y","z"],_=/^(matrix|translate|scale|rotate|skew)/,w=/^(translate)/,x=/^(rotate|skew)/,T=function(e,t){return c.s.num(e)&&0!==e?e+t:e},k=function e(t,n){return c.s.arr(t)?t.every((function(t){return e(t,n)})):c.s.num(t)?t===n:parseFloat(t)===n},O=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){Object(a.a)(this,n);var r=e.x,o=e.y,s=e.z,u=h(e,b),l=[],f=[];return(r||o||s)&&(l.push([r||0,o||0,s||0]),f.push((function(e){return["translate3d(".concat(e.map((function(e){return T(e,"px")})).join(","),")"),k(e,0)]}))),Object(c.l)(u,(function(e,t){if("transform"===t)l.push([e||""]),f.push((function(e){return[e,""===e]}));else if(_.test(t)){if(delete u[t],c.s.und(e))return;var n=w.test(t)?"px":x.test(t)?"deg":"";l.push(Object(c.y)(e)),f.push("rotate3d"===t?function(e){var t=Object(i.a)(e,4),r=t[0],a=t[1],o=t[2],s=t[3];return["rotate3d(".concat(r,",").concat(a,",").concat(o,",").concat(T(s,n),")"),k(s,0)]}:function(e){return["".concat(t,"(").concat(e.map((function(e){return T(e,n)})).join(","),")"),k(e,t.startsWith("scale")?1:0)]})}})),l.length&&(u.transform=new S(l,f)),t.call(this,u)}return n}(f.a),S=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r){var i;return Object(a.a)(this,n),(i=t.call(this))._value=null,i.inputs=e,i.transforms=r,i}return Object(r.a)(n,[{key:"get",value:function(){return this._value||(this._value=this._get())}},{key:"_get",value:function(){var e=this,t="",n=!0;return Object(c.k)(this.inputs,(function(r,a){var o=Object(c.q)(r[0]),s=e.transforms[a](c.s.arr(o)?o:r.map(c.q)),u=Object(i.a)(s,2),l=u[0],f=u[1];t+=" "+l,n=n&&f})),n?"none":t}},{key:"observerAdded",value:function(e){var t=this;1==e&&Object(c.k)(this.inputs,(function(e){return Object(c.k)(e,(function(e){return Object(c.r)(e)&&Object(c.c)(e,t)}))}))}},{key:"observerRemoved",value:function(e){var t=this;0==e&&Object(c.k)(this.inputs,(function(e){return Object(c.k)(e,(function(e){return Object(c.r)(e)&&Object(c.x)(e,t)}))}))}},{key:"eventObserved",value:function(e){"change"==e.type&&(this._value=null),Object(c.d)(this,e)}}]),n}(c.a),A=["scrollTop","scrollLeft"];u.Globals.assign({batchedUpdates:l.unstable_batchedUpdates,createStringInterpolator:c.g,colors:c.e});var E=Object(f.d)(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;var n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,r=t,i=r.style,a=r.children,o=r.scrollTop,s=r.scrollLeft,u=h(r,d),l=Object.values(u),c=Object.keys(u).map((function(t){return n||e.hasAttribute(t)?t:g[t]||(g[t]=t.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()})))}));for(var f in void 0!==a&&(e.textContent=a),i)if(i.hasOwnProperty(f)){var y=v(f,i[f]);p.test(f)?e.style.setProperty(f,y):e.style[f]=y}c.forEach((function(t,n){e.setAttribute(t,l[n])})),void 0!==o&&(e.scrollTop=o),void 0!==s&&(e.scrollLeft=s)},createAnimatedStyle:function(e){return new O(e)},getComponentProps:function(e){return h(e,A)}}).animated},function(e,t){},function(e,t){},function(e,t){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var l=a[u];if(!s(l))return!1;var c=e[l],f=t[l];if(!1===(i=n?n.call(r,c,f,l):void 0)||void 0===i&&c!==f)return!1}return!0}},function(e,t,n){"use strict";t.a=function(e){function t(e,r,u,l,h){for(var d,p,v,g,_,x=0,T=0,k=0,O=0,S=0,D=0,N=v=d=0,L=0,R=0,F=0,z=0,U=u.length,q=U-1,B="",V="",H="",W="";L<U;){if(p=u.charCodeAt(L),L===q&&0!==T+O+k+x&&(0!==T&&(p=47===T?10:47),O=k=x=0,U++,q++),0===T+O+k+x){if(L===q&&(0<R&&(B=B.replace(f,"")),0<B.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:B+=u.charAt(L)}p=59}switch(p){case 123:for(d=(B=B.trim()).charCodeAt(0),v=1,z=++L;L<U;){switch(p=u.charCodeAt(L)){case 123:v++;break;case 125:v--;break;case 47:switch(p=u.charCodeAt(L+1)){case 42:case 47:e:{for(N=L+1;N<q;++N)switch(u.charCodeAt(N)){case 47:if(42===p&&42===u.charCodeAt(N-1)&&L+2!==N){L=N+1;break e}break;case 10:if(47===p){L=N+1;break e}}L=N}}break;case 91:p++;case 40:p++;case 34:case 39:for(;L++<q&&u.charCodeAt(L)!==p;);}if(0===v)break;L++}switch(v=u.substring(z,L),0===d&&(d=(B=B.replace(c,"").trim()).charCodeAt(0)),d){case 64:switch(0<R&&(B=B.replace(f,"")),p=B.charCodeAt(1)){case 100:case 109:case 115:case 45:R=r;break;default:R=I}if(z=(v=t(r,R,v,p,h+1)).length,0<P&&(_=s(3,v,R=n(I,B,F),r,E,A,z,p,h,l),B=R.join(""),void 0!==_&&0===(z=(v=_.trim()).length)&&(p=0,v="")),0<z)switch(p){case 115:B=B.replace(w,o);case 100:case 109:case 45:v=B+"{"+v+"}";break;case 107:v=(B=B.replace(y,"$1 $2"))+"{"+v+"}",v=1===M||2===M&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=B+v,112===l&&(V+=v,v="")}else v="";break;default:v=t(r,n(r,B,F),v,l,h+1)}H+=v,v=F=R=N=d=0,B="",p=u.charCodeAt(++L);break;case 125:case 59:if(1<(z=(B=(0<R?B.replace(f,""):B).trim()).length))switch(0===N&&(d=B.charCodeAt(0),45===d||96<d&&123>d)&&(z=(B=B.replace(" ",":")).length),0<P&&void 0!==(_=s(1,B,r,e,E,A,V.length,l,h,l))&&0===(z=(B=_.trim()).length)&&(B="\0\0"),d=B.charCodeAt(0),p=B.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){W+=B+u.charAt(L);break}default:58!==B.charCodeAt(z-1)&&(V+=i(B,d,p,B.charCodeAt(2)))}F=R=N=d=0,B="",p=u.charCodeAt(++L)}}switch(p){case 13:case 10:47===T?T=0:0===1+d&&107!==l&&0<B.length&&(R=1,B+="\0"),0<P*j&&s(0,B,r,e,E,A,V.length,l,h,l),A=1,E++;break;case 59:case 125:if(0===T+O+k+x){A++;break}default:switch(A++,g=u.charAt(L),p){case 9:case 32:if(0===O+x+T)switch(S){case 44:case 58:case 9:case 32:g="";break;default:32!==p&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:0===O+T+x&&(R=F=1,g="\f"+g);break;case 108:if(0===O+T+x+C&&0<N)switch(L-N){case 2:112===S&&58===u.charCodeAt(L-3)&&(C=S);case 8:111===D&&(C=D)}break;case 58:0===O+T+x&&(N=L);break;case 44:0===T+k+O+x&&(R=1,g+="\r");break;case 34:case 39:0===T&&(O=O===p?0:0===O?p:O);break;case 91:0===O+T+k&&x++;break;case 93:0===O+T+k&&x--;break;case 41:0===O+T+x&&k--;break;case 40:if(0===O+T+x){if(0===d)switch(2*S+3*D){case 533:break;default:d=1}k++}break;case 64:0===T+k+O+x+N+v&&(v=1);break;case 42:case 47:if(!(0<O+x+k))switch(T){case 0:switch(2*p+3*u.charCodeAt(L+1)){case 235:T=47;break;case 220:z=L,T=42}break;case 42:47===p&&42===S&&z+2!==L&&(33===u.charCodeAt(z+2)&&(V+=u.substring(z,L+1)),g="",T=0)}}0===T&&(B+=g)}D=S,S=p,L++}if(0<(z=V.length)){if(R=r,0<P&&(void 0!==(_=s(2,V,R,e,E,A,z,l,h,l))&&0===(V=_).length))return W+V+H;if(V=R.join(",")+"{"+V+"}",0!==M*C){switch(2!==M||a(V,2)||(C=0),C){case 111:V=V.replace(b,":-moz-$1")+V;break;case 112:V=V.replace(m,"::-webkit-input-$1")+V.replace(m,"::-moz-$1")+V.replace(m,":-ms-input-$1")+V}C=0}}return W+V+H}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<a;++s)for(var l=0;l<o;++l)t[u++]=r(e[l]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var u=o.substring(e,o.length-1).trim();return u=o.substring(0,e).trim()+u+";",1===M||2===M&&a(u,1)?"-webkit-"+u+u:u}if(0===M||2===M&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(S,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(u=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+u+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(u=o.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=o.replace(_,"tb");break;case 232:u=o.replace(_,"tb-rl");break;case 220:u=o.replace(_,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+u+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(u=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:o=o.replace(u,"-webkit-"+u)+";"+o;break;case 207:case 102:o=o.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(u,"-webkit-"+u)+";"+o.replace(u,"-ms-"+u+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return u=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+u+"-ms-flex-"+u+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(T,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(T,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===O.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(u,"-webkit-"+u)+o.replace(u,"-moz-"+u.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),N(2!==t?r:r.replace(k,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,a,o,s,u,c){for(var f,h=0,d=t;h<P;++h)switch(f=D[h].call(l,e,d,n,r,i,a,o,s,u,c)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function u(e){return void 0!==(e=e.prefix)&&(N=null,e?"function"!==typeof e?M=1:(M=2,N=e):M=0),u}function l(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<P){var i=s(-1,n,r,r,E,A,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(I,r,n,0,0);return 0<P&&(void 0!==(i=s(-2,a,r,r,E,A,a.length,0,0,0))&&(a=i)),"",C=0,A=E=1,a}var c=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,m=/::(place)/g,b=/:(read-only)/g,_=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,T=/-self|flex-/g,k=/[^]*?(:[rp][el]a[\w-]+)[^]*/,O=/stretch|:\s*\w+\-(?:conte|avail)/,S=/([^-])(image-set\()/,A=1,E=1,C=0,M=1,I=[],D=[],P=0,N=null,j=0;return l.use=function e(t){switch(t){case void 0:case null:P=D.length=0;break;default:if("function"===typeof t)D[P++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else j=0|!!t}return e},l.set=u,void 0!==e&&u(e),l}},function(e,t,n){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,n){(function(t){e.exports=function(){var e;return function(){function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[o]={exports:{}};t[o][0].call(l.exports,(function(e){return i(t[o][1][e]||e)}),l,l.exports,e,t,n,r)}return n[o].exports}for(var a=!1,o=0;o<r.length;o++)i(r[o]);return i}return e}()({1:[function(e,t,n){"use strict";var r=e("../src/lib"),i={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid transparent;border-left-color:#69738a;margin-top:8px;margin-right:-30px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:#fff;","X .select-outline-2":"stroke:#000;stroke-dasharray:2px 2px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var a in i){var o=a.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");r.addStyleRule(o,i[a])}},{"../src/lib":230}],2:[function(e,t,n){"use strict";t.exports=e("../src/transforms/aggregate")},{"../src/transforms/aggregate":381}],3:[function(e,t,n){"use strict";t.exports=e("../src/traces/bar")},{"../src/traces/bar":331}],4:[function(e,t,n){"use strict";t.exports=e("../src/components/calendars")},{"../src/components/calendars":98}],5:[function(e,t,n){"use strict";t.exports=e("../src/core")},{"../src/core":212}],6:[function(e,t,n){"use strict";t.exports=e("../src/transforms/filter")},{"../src/transforms/filter":382}],7:[function(e,t,n){"use strict";t.exports=e("../src/transforms/groupby")},{"../src/transforms/groupby":383}],8:[function(e,t,n){"use strict";var r=e("./core");r.register([e("./bar"),e("./pie"),e("./aggregate"),e("./filter"),e("./groupby"),e("./sort"),e("./calendars")]),t.exports=r},{"./aggregate":2,"./bar":3,"./calendars":4,"./core":5,"./filter":6,"./groupby":7,"./pie":9,"./sort":10}],9:[function(e,t,n){"use strict";t.exports=e("../src/traces/pie")},{"../src/traces/pie":346}],10:[function(e,t,n){"use strict";t.exports=e("../src/transforms/sort")},{"../src/transforms/sort":385}],11:[function(t,n,r){(function(){var t={version:"3.6.1"},r=[].slice,i=function(e){return r.call(e)},a=this.document;function o(e){return e&&(e.ownerDocument||e.document||e).documentElement}function s(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}if(a)try{i(a.documentElement.childNodes)[0].nodeType}catch(il){i=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),a)try{a.createElement("DIV").style.setProperty("opacity",0,"")}catch(al){var u=this.Element.prototype,l=u.setAttribute,c=u.setAttributeNS,f=this.CSSStyleDeclaration.prototype,h=f.setProperty;u.setAttribute=function(e,t){l.call(this,e,t+"")},u.setAttributeNS=function(e,t,n){c.call(this,e,t,n+"")},f.setProperty=function(e,t,n){h.call(this,e,t+"",n)}}function d(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function p(e){return null===e?NaN:+e}function v(e){return!isNaN(e)}function g(e){return{left:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)<0?r=a+1:i=a}return r},right:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)>0?i=a:r=a+1}return r}}}t.ascending=d,t.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},t.min=function(e,t){var n,r,i=-1,a=e.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<a;)null!=(r=e[i])&&n>r&&(n=r)}else{for(;++i<a;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<a;)null!=(r=t.call(e,e[i],i))&&n>r&&(n=r)}return n},t.max=function(e,t){var n,r,i=-1,a=e.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<a;)null!=(r=e[i])&&r>n&&(n=r)}else{for(;++i<a;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<a;)null!=(r=t.call(e,e[i],i))&&r>n&&(n=r)}return n},t.extent=function(e,t){var n,r,i,a=-1,o=e.length;if(1===arguments.length){for(;++a<o;)if(null!=(r=e[a])&&r>=r){n=i=r;break}for(;++a<o;)null!=(r=e[a])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++a<o;)if(null!=(r=t.call(e,e[a],a))&&r>=r){n=i=r;break}for(;++a<o;)null!=(r=t.call(e,e[a],a))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},t.sum=function(e,t){var n,r=0,i=e.length,a=-1;if(1===arguments.length)for(;++a<i;)v(n=+e[a])&&(r+=n);else for(;++a<i;)v(n=+t.call(e,e[a],a))&&(r+=n);return r},t.mean=function(e,t){var n,r=0,i=e.length,a=-1,o=i;if(1===arguments.length)for(;++a<i;)v(n=p(e[a]))?r+=n:--o;else for(;++a<i;)v(n=p(t.call(e,e[a],a)))?r+=n:--o;if(o)return r/o},t.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],a=n-r;return a?i+a*(e[r]-i):i},t.median=function(e,n){var r,i=[],a=e.length,o=-1;if(1===arguments.length)for(;++o<a;)v(r=p(e[o]))&&i.push(r);else for(;++o<a;)v(r=p(n.call(e,e[o],o)))&&i.push(r);if(i.length)return t.quantile(i.sort(d),.5)},t.variance=function(e,t){var n,r,i=e.length,a=0,o=0,s=-1,u=0;if(1===arguments.length)for(;++s<i;)v(n=p(e[s]))&&(o+=(r=n-a)*(n-(a+=r/++u)));else for(;++s<i;)v(n=p(t.call(e,e[s],s)))&&(o+=(r=n-a)*(n-(a+=r/++u)));if(u>1)return o/(u-1)},t.deviation=function(){var e=t.variance.apply(this,arguments);return e?Math.sqrt(e):e};var y=g(d);function m(e){return e.length}t.bisectLeft=y.left,t.bisect=t.bisectRight=y.right,t.bisector=function(e){return g(1===e.length?function(t,n){return d(e(t),n)}:e)},t.shuffle=function(e,t,n){(a=arguments.length)<3&&(n=e.length,a<2&&(t=0));for(var r,i,a=n-t;a;)i=Math.random()*a--|0,r=e[a+t],e[a+t]=e[i+t],e[i+t]=r;return e},t.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},t.pairs=function(e){for(var t=0,n=e.length-1,r=e[0],i=new Array(n<0?0:n);t<n;)i[t]=[r,r=e[++t]];return i},t.transpose=function(e){if(!(a=e.length))return[];for(var n=-1,r=t.min(e,m),i=new Array(r);++n<r;)for(var a,o=-1,s=i[n]=new Array(a);++o<a;)s[o]=e[o][n];return i},t.zip=function(){return t.transpose(arguments)},t.keys=function(e){var t=[];for(var n in e)t.push(n);return t},t.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},t.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},t.merge=function(e){for(var t,n,r,i=e.length,a=-1,o=0;++a<i;)o+=e[a].length;for(n=new Array(o);--i>=0;)for(t=(r=e[i]).length;--t>=0;)n[--o]=r[t];return n};var b=Math.abs;function _(e){for(var t=1;e*t%1;)t*=10;return t}function w(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function x(){this._=Object.create(null)}t.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n===1/0)throw new Error("infinite range");var r,i=[],a=_(b(n)),o=-1;if(e*=a,t*=a,(n*=a)<0)for(;(r=e+n*++o)>t;)i.push(r/a);else for(;(r=e+n*++o)<t;)i.push(r/a);return i},t.map=function(e,t){var n=new x;if(e instanceof x)e.forEach((function(e,t){n.set(e,t)}));else if(Array.isArray(e)){var r,i=-1,a=e.length;if(1===arguments.length)for(;++i<a;)n.set(i,e[i]);else for(;++i<a;)n.set(t.call(e,r=e[i],i),r)}else for(var o in e)n.set(o,e[o]);return n};var T="__proto__",k="\0";function O(e){return(e+="")===T||e[0]===k?k+e:e}function S(e){return(e+="")[0]===k?e.slice(1):e}function A(e){return O(e)in this._}function E(e){return(e=O(e))in this._&&delete this._[e]}function C(){var e=[];for(var t in this._)e.push(S(t));return e}function M(){var e=0;for(var t in this._)++e;return e}function I(){for(var e in this._)return!1;return!0}function D(){this._=Object.create(null)}function P(e){return e}function N(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function j(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=L.length;n<r;++n){var i=L[n]+t;if(i in e)return i}}w(x,{has:A,get:function(e){return this._[O(e)]},set:function(e,t){return this._[O(e)]=t},remove:E,keys:C,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:S(t),value:this._[t]});return e},size:M,empty:I,forEach:function(e){for(var t in this._)e.call(this,S(t),this._[t])}}),t.nest=function(){var e,n,r={},i=[],a=[];function o(t,a,s){if(s>=i.length)return n?n.call(r,a):e?a.sort(e):a;for(var u,l,c,f,h=-1,d=a.length,p=i[s++],v=new x;++h<d;)(f=v.get(u=p(l=a[h])))?f.push(l):v.set(u,[l]);return t?(l=t(),c=function(e,n){l.set(e,o(t,n,s))}):(l={},c=function(e,n){l[e]=o(t,n,s)}),v.forEach(c),l}function s(e,t){if(t>=i.length)return e;var n=[],r=a[t++];return e.forEach((function(e,r){n.push({key:e,values:s(r,t)})})),r?n.sort((function(e,t){return r(e.key,t.key)})):n}return r.map=function(e,t){return o(t,e,0)},r.entries=function(e){return s(o(t.map,e,0),0)},r.key=function(e){return i.push(e),r},r.sortKeys=function(e){return a[i.length-1]=e,r},r.sortValues=function(t){return e=t,r},r.rollup=function(e){return n=e,r},r},t.set=function(e){var t=new D;if(e)for(var n=0,r=e.length;n<r;++n)t.add(e[n]);return t},w(D,{has:A,add:function(e){return this._[O(e+="")]=!0,e},remove:E,values:C,size:M,empty:I,forEach:function(e){for(var t in this._)e.call(this,S(t))}}),t.behavior={},t.rebind=function(e,t){for(var n,r=1,i=arguments.length;++r<i;)e[n=arguments[r]]=N(e,t,t[n]);return e};var L=["webkit","ms","moz","Moz","o","O"];function R(){}function F(){}function z(e){var t=[],n=new x;function r(){for(var n,r=t,i=-1,a=r.length;++i<a;)(n=r[i].on)&&n.apply(this,arguments);return e}return r.on=function(r,i){var a,o=n.get(r);return arguments.length<2?o&&o.on:(o&&(o.on=null,t=t.slice(0,a=t.indexOf(o)).concat(t.slice(a+1)),n.remove(r)),i&&t.push(n.set(r,{on:i})),e)},r}function U(){t.event.preventDefault()}function q(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n}function B(e){for(var n=new F,r=0,i=arguments.length;++r<i;)n[arguments[r]]=z(n);return n.of=function(r,i){return function(a){try{var o=a.sourceEvent=t.event;a.target=e,t.event=a,n[a.type].apply(r,i)}finally{t.event=o}}},n}t.dispatch=function(){for(var e=new F,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=z(e);return e},F.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},t.event=null,t.requote=function(e){return e.replace(V,"\\$&")};var V=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,H={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]};function W(e){return H(e,X),e}var Y=function(e,t){return t.querySelector(e)},G=function(e,t){return t.querySelectorAll(e)},K=function(e,t){var n=e.matches||e[j(e,"matchesSelector")];return(K=function(e,t){return n.call(e,t)})(e,t)};"function"===typeof Sizzle&&(Y=function(e,t){return Sizzle(e,t)[0]||null},G=Sizzle,K=Sizzle.matchesSelector),t.selection=function(){return t.select(a.documentElement)};var X=t.selection.prototype=[];function $(e){return"function"===typeof e?e:function(){return Y(e,this)}}function Q(e){return"function"===typeof e?e:function(){return G(e,this)}}X.select=function(e){var t,n,r,i,a=[];e=$(e);for(var o=-1,s=this.length;++o<s;){a.push(t=[]),t.parentNode=(r=this[o]).parentNode;for(var u=-1,l=r.length;++u<l;)(i=r[u])?(t.push(n=e.call(i,i.__data__,u,o)),n&&"__data__"in i&&(n.__data__=i.__data__)):t.push(null)}return W(a)},X.selectAll=function(e){var t,n,r=[];e=Q(e);for(var a=-1,o=this.length;++a<o;)for(var s=this[a],u=-1,l=s.length;++u<l;)(n=s[u])&&(r.push(t=i(e.call(n,n.__data__,u,a))),t.parentNode=n);return W(r)};var J="http://www.w3.org/1999/xhtml",Z={svg:"http://www.w3.org/2000/svg",xhtml:J,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ee(e,n){function r(){this.removeAttribute(e)}function i(){this.removeAttributeNS(e.space,e.local)}function a(){this.setAttribute(e,n)}function o(){this.setAttributeNS(e.space,e.local,n)}function s(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}function u(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}return e=t.ns.qualify(e),null==n?e.local?i:r:"function"===typeof n?e.local?u:s:e.local?o:a}function te(e){return e.trim().replace(/\s+/g," ")}function ne(e){return new RegExp("(?:^|\\s+)"+t.requote(e)+"(?:\\s+|$)","g")}function re(e){return(e+"").trim().split(/^|\s+/)}function ie(e,t){var n=(e=re(e).map(ae)).length;function r(){for(var r=-1;++r<n;)e[r](this,t)}function i(){for(var r=-1,i=t.apply(this,arguments);++r<n;)e[r](this,i)}return"function"===typeof t?i:r}function ae(e){var t=ne(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||n.setAttribute("class",te(i+" "+e))):n.setAttribute("class",te(i.replace(t," ")))}}function oe(e,t,n){function r(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function a(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return null==t?r:"function"===typeof t?a:i}function se(e,t){function n(){delete this[e]}function r(){this[e]=t}function i(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?n:"function"===typeof t?i:r}function ue(e){function n(){var t=this.ownerDocument,n=this.namespaceURI;return n===J&&t.documentElement.namespaceURI===J?t.createElement(e):t.createElementNS(n,e)}function r(){return this.ownerDocument.createElementNS(e.space,e.local)}return"function"===typeof e?e:(e=t.ns.qualify(e)).local?r:n}function le(){var e=this.parentNode;e&&e.removeChild(this)}function ce(e){return{__data__:e}}function fe(e){return function(){return K(this,e)}}function he(e){return arguments.length||(e=d),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function de(e,t){for(var n=0,r=e.length;n<r;n++)for(var i,a=e[n],o=0,s=a.length;o<s;o++)(i=a[o])&&t(i,o,n);return e}function pe(e){return H(e,ve),e}t.ns={prefix:Z,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),Z.hasOwnProperty(n)?{space:Z[n],local:e}:e}},X.attr=function(e,n){if(arguments.length<2){if("string"===typeof e){var r=this.node();return(e=t.ns.qualify(e)).local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}for(n in e)this.each(ee(n,e[n]));return this}return this.each(ee(e,n))},X.classed=function(e,t){if(arguments.length<2){if("string"===typeof e){var n=this.node(),r=(e=re(e)).length,i=-1;if(t=n.classList){for(;++i<r;)if(!t.contains(e[i]))return!1}else for(t=n.getAttribute("class");++i<r;)if(!ne(e[i]).test(t))return!1;return!0}for(t in e)this.each(ie(t,e[t]));return this}return this.each(ie(e,t))},X.style=function(e,t,n){var r=arguments.length;if(r<3){if("string"!==typeof e){for(n in r<2&&(t=""),e)this.each(oe(n,e[n],t));return this}if(r<2){var i=this.node();return s(i).getComputedStyle(i,null).getPropertyValue(e)}n=""}return this.each(oe(e,t,n))},X.property=function(e,t){if(arguments.length<2){if("string"===typeof e)return this.node()[e];for(t in e)this.each(se(t,e[t]));return this}return this.each(se(e,t))},X.text=function(e){return arguments.length?this.each("function"===typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},X.html=function(e){return arguments.length?this.each("function"===typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},X.append=function(e){return e=ue(e),this.select((function(){return this.appendChild(e.apply(this,arguments))}))},X.insert=function(e,t){return e=ue(e),t=$(t),this.select((function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)}))},X.remove=function(){return this.each(le)},X.data=function(e,t){var n,r,i=-1,a=this.length;if(!arguments.length){for(e=new Array(a=(n=this[0]).length);++i<a;)(r=n[i])&&(e[i]=r.__data__);return e}function o(e,n){var r,i,a,o=e.length,c=n.length,f=Math.min(o,c),h=new Array(c),d=new Array(c),p=new Array(o);if(t){var v,g=new x,y=new Array(o);for(r=-1;++r<o;)(i=e[r])&&(g.has(v=t.call(i,i.__data__,r))?p[r]=i:g.set(v,i),y[r]=v);for(r=-1;++r<c;)(i=g.get(v=t.call(n,a=n[r],r)))?!0!==i&&(h[r]=i,i.__data__=a):d[r]=ce(a),g.set(v,!0);for(r=-1;++r<o;)r in y&&!0!==g.get(y[r])&&(p[r]=e[r])}else{for(r=-1;++r<f;)i=e[r],a=n[r],i?(i.__data__=a,h[r]=i):d[r]=ce(a);for(;r<c;++r)d[r]=ce(n[r]);for(;r<o;++r)p[r]=e[r]}d.update=h,d.parentNode=h.parentNode=p.parentNode=e.parentNode,s.push(d),u.push(h),l.push(p)}var s=pe([]),u=W([]),l=W([]);if("function"===typeof e)for(;++i<a;)o(n=this[i],e.call(n,n.parentNode.__data__,i));else for(;++i<a;)o(n=this[i],e);return u.enter=function(){return s},u.exit=function(){return l},u},X.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},X.filter=function(e){var t,n,r,i=[];"function"!==typeof e&&(e=fe(e));for(var a=0,o=this.length;a<o;a++){i.push(t=[]),t.parentNode=(n=this[a]).parentNode;for(var s=0,u=n.length;s<u;s++)(r=n[s])&&e.call(r,r.__data__,s,a)&&t.push(r)}return W(i)},X.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],i=r.length-1,a=r[i];--i>=0;)(n=r[i])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},X.sort=function(e){e=he.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},X.each=function(e){return de(this,(function(t,n,r){e.call(t,t.__data__,n,r)}))},X.call=function(e){var t=i(arguments);return e.apply(t[0]=this,t),this},X.empty=function(){return!this.node()},X.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],r=0,i=n.length;r<i;r++){var a=n[r];if(a)return a}return null},X.size=function(){var e=0;return de(this,(function(){++e})),e};var ve=[];function ge(e){var t,n;return function(r,i,a){var o,s=e[a].update,u=s.length;for(a!=n&&(n=a,t=0),i>=t&&(t=i+1);!(o=s[t])&&++t<u;);return o}}function ye(e,n,r){var a="__on"+e,o=e.indexOf("."),s=be;o>0&&(e=e.slice(0,o));var u=me.get(e);function l(){var t=this[a];t&&(this.removeEventListener(e,t,t.$),delete this[a])}function c(){var t=s(n,i(arguments));l.call(this),this.addEventListener(e,this[a]=t,t.$=r),t._=n}function f(){var n,r=new RegExp("^__on([^.]+)"+t.requote(e)+"$");for(var i in this)if(n=i.match(r)){var a=this[i];this.removeEventListener(n[1],a,a.$),delete this[i]}}return u&&(e=u,s=_e),o?n?c:l:n?R:f}t.selection.enter=pe,t.selection.enter.prototype=ve,ve.append=X.append,ve.empty=X.empty,ve.node=X.node,ve.call=X.call,ve.size=X.size,ve.select=function(e){for(var t,n,r,i,a,o=[],s=-1,u=this.length;++s<u;){r=(i=this[s]).update,o.push(t=[]),t.parentNode=i.parentNode;for(var l=-1,c=i.length;++l<c;)(a=i[l])?(t.push(r[l]=n=e.call(i.parentNode,a.__data__,l,s)),n.__data__=a.__data__):t.push(null)}return W(o)},ve.insert=function(e,t){return arguments.length<2&&(t=ge(this)),X.insert.call(this,e,t)},t.select=function(e){var t;return"string"===typeof e?(t=[Y(e,a)]).parentNode=a.documentElement:(t=[e]).parentNode=o(e),W([t])},t.selectAll=function(e){var t;return"string"===typeof e?(t=i(G(e,a))).parentNode=a.documentElement:(t=i(e)).parentNode=null,W([t])},X.on=function(e,t,n){var r=arguments.length;if(r<3){if("string"!==typeof e){for(n in r<2&&(t=!1),e)this.each(ye(n,e[n],t));return this}if(r<2)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(ye(e,t,n))};var me=t.map({mouseenter:"mouseover",mouseleave:"mouseout"});function be(e,n){return function(r){var i=t.event;t.event=r,n[0]=this.__data__;try{e.apply(this,n)}finally{t.event=i}}}function _e(e,t){var n=be(e,t);return function(e){var t=this,r=e.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||n.call(t,e)}}a&&me.forEach((function(e){"on"+e in a&&me.remove(e)}));var we,xe=0;function Te(e){var n=".dragsuppress-"+ ++xe,r="click"+n,i=t.select(s(e)).on("touchmove"+n,U).on("dragstart"+n,U).on("selectstart"+n,U);if(null==we&&(we=!("onselectstart"in e)&&j(e.style,"userSelect")),we){var a=o(e).style,u=a[we];a[we]="none"}return function(e){if(i.on(n,null),we&&(a[we]=u),e){var t=function(){i.on(r,null)};i.on(r,(function(){U(),t()}),!0),setTimeout(t,0)}}}t.mouse=function(e){return Oe(e,q())};var ke=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Oe(e,n){n.changedTouches&&(n=n.changedTouches[0]);var r=e.ownerSVGElement||e;if(r.createSVGPoint){var i=r.createSVGPoint();if(ke<0){var a=s(e);if(a.scrollX||a.scrollY){var o=(r=t.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();ke=!(o.f||o.e),r.remove()}}return ke?(i.x=n.pageX,i.y=n.pageY):(i.x=n.clientX,i.y=n.clientY),[(i=i.matrixTransform(e.getScreenCTM().inverse())).x,i.y]}var u=e.getBoundingClientRect();return[n.clientX-u.left-e.clientLeft,n.clientY-u.top-e.clientTop]}function Se(){return t.event.changedTouches[0].identifier}t.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=q().changedTouches),t)for(var r,i=0,a=t.length;i<a;++i)if((r=t[i]).identifier===n)return Oe(e,r)},t.behavior.drag=function(){var e=B(a,"drag","dragstart","dragend"),n=null,r=o(R,t.mouse,s,"mousemove","mouseup"),i=o(Se,t.touch,P,"touchmove","touchend");function a(){this.on("mousedown.drag",r).on("touchstart.drag",i)}function o(r,i,a,o,s){return function(){var u,l=this,c=t.event.target.correspondingElement||t.event.target,f=l.parentNode,h=e.of(l,arguments),d=0,p=r(),v=".drag"+(null==p?"":"-"+p),g=t.select(a(c)).on(o+v,b).on(s+v,_),y=Te(c),m=i(f,p);function b(){var e,t,n=i(f,p);n&&(e=n[0]-m[0],t=n[1]-m[1],d|=e|t,m=n,h({type:"drag",x:n[0]+u[0],y:n[1]+u[1],dx:e,dy:t}))}function _(){i(f,p)&&(g.on(o+v,null).on(s+v,null),y(d),h({type:"dragend"}))}u=n?[(u=n.apply(l,arguments)).x-m[0],u.y-m[1]]:[0,0],h({type:"dragstart"})}}return a.origin=function(e){return arguments.length?(n=e,a):n},t.rebind(a,e,"on")},t.touches=function(e,t){return arguments.length<2&&(t=q().touches),t?i(t).map((function(t){var n=Oe(e,t);return n.identifier=t.identifier,n})):[]};var Ae=1e-6,Ee=Ae*Ae,Ce=Math.PI,Me=2*Ce,Ie=Me-Ae,De=Ce/2,Pe=Ce/180,Ne=180/Ce;function je(e){return e>0?1:e<0?-1:0}function Le(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function Re(e){return e>1?0:e<-1?Ce:Math.acos(e)}function Fe(e){return e>1?De:e<-1?-De:Math.asin(e)}function ze(e){return((e=Math.exp(e))-1/e)/2}function Ue(e){return((e=Math.exp(e))+1/e)/2}function qe(e){return((e=Math.exp(2*e))-1)/(e+1)}function Be(e){return(e=Math.sin(e/2))*e}var Ve=Math.SQRT2,He=2,We=4;t.interpolateZoom=function(e,t){var n,r,i=e[0],a=e[1],o=e[2],s=t[0],u=t[1],l=t[2],c=s-i,f=u-a,h=c*c+f*f;if(h<Ee)r=Math.log(l/o)/Ve,n=function(e){return[i+e*c,a+e*f,o*Math.exp(Ve*e*r)]};else{var d=Math.sqrt(h),p=(l*l-o*o+We*h)/(2*o*He*d),v=(l*l-o*o-We*h)/(2*l*He*d),g=Math.log(Math.sqrt(p*p+1)-p),y=Math.log(Math.sqrt(v*v+1)-v);r=(y-g)/Ve,n=function(e){var t=e*r,n=Ue(g),s=o/(He*d)*(n*qe(Ve*t+g)-ze(g));return[i+s*c,a+s*f,o*n/Ue(Ve*t+g)]}}return n.duration=1e3*r,n},t.behavior.zoom=function(){var e,n,r,i,o,u,l,c,f,h={x:0,y:0,k:1},d=[960,500],p=Ke,v=250,g=0,y="mousedown.zoom",m="mousemove.zoom",b="mouseup.zoom",_="touchstart.zoom",w=B(x,"zoomstart","zoom","zoomend");function x(e){e.on(y,D).on(Ge+".zoom",N).on("dblclick.zoom",j).on(_,P)}function T(e){return[(e[0]-h.x)/h.k,(e[1]-h.y)/h.k]}function k(e){return[e[0]*h.k+h.x,e[1]*h.k+h.y]}function O(e){h.k=Math.max(p[0],Math.min(p[1],e))}function S(e,t){t=k(t),h.x+=e[0]-t[0],h.y+=e[1]-t[1]}function A(e,r,i,a){e.__chart__={x:h.x,y:h.y,k:h.k},O(Math.pow(2,a)),S(n=r,i),e=t.select(e),v>0&&(e=e.transition().duration(v)),e.call(x.event)}function E(){l&&l.domain(u.range().map((function(e){return(e-h.x)/h.k})).map(u.invert)),f&&f.domain(c.range().map((function(e){return(e-h.y)/h.k})).map(c.invert))}function C(e){g++||e({type:"zoomstart"})}function M(e){E(),e({type:"zoom",scale:h.k,translate:[h.x,h.y]})}function I(e){--g||(e({type:"zoomend"}),n=null)}function D(){var e=this,n=w.of(e,arguments),r=0,i=t.select(s(e)).on(m,u).on(b,l),a=T(t.mouse(e)),o=Te(e);function u(){r=1,S(t.mouse(e),a),M(n)}function l(){i.on(m,null).on(b,null),o(r),I(n)}Au.call(e),C(n)}function P(){var e,n=this,r=w.of(n,arguments),i={},a=0,s=".zoom-"+t.event.changedTouches[0].identifier,u="touchmove"+s,l="touchend"+s,c=[],f=t.select(n),d=Te(n);function p(){var r=t.touches(n);return e=h.k,r.forEach((function(e){e.identifier in i&&(i[e.identifier]=T(e))})),r}function v(){var e=t.event.target;t.select(e).on(u,g).on(l,m),c.push(e);for(var r=t.event.changedTouches,s=0,f=r.length;s<f;++s)i[r[s].identifier]=null;var d=p(),v=Date.now();if(1===d.length){if(v-o<500){var y=d[0];A(n,y,i[y.identifier],Math.floor(Math.log(h.k)/Math.LN2)+1),U()}o=v}else if(d.length>1){y=d[0];var b=d[1],_=y[0]-b[0],w=y[1]-b[1];a=_*_+w*w}}function g(){var s,u,l,c,f=t.touches(n);Au.call(n);for(var h=0,d=f.length;h<d;++h,c=null)if(l=f[h],c=i[l.identifier]){if(u)break;s=l,u=c}if(c){var p=(p=l[0]-s[0])*p+(p=l[1]-s[1])*p,v=a&&Math.sqrt(p/a);s=[(s[0]+l[0])/2,(s[1]+l[1])/2],u=[(u[0]+c[0])/2,(u[1]+c[1])/2],O(v*e)}o=null,S(s,u),M(r)}function m(){if(t.event.touches.length){for(var e=t.event.changedTouches,n=0,a=e.length;n<a;++n)delete i[e[n].identifier];for(var o in i)return void p()}t.selectAll(c).on(s,null),f.on(y,D).on(_,P),d(),I(r)}v(),C(r),f.on(y,null).on(_,v)}function N(){var a=w.of(this,arguments);i?clearTimeout(i):(Au.call(this),e=T(n=r||t.mouse(this)),C(a)),i=setTimeout((function(){i=null,I(a)}),50),U(),O(Math.pow(2,.002*Ye())*h.k),S(n,e),M(a)}function j(){var e=t.mouse(this),n=Math.log(h.k)/Math.LN2;A(this,e,T(e),t.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}return Ge||(Ge="onwheel"in a?(Ye=function(){return-t.event.deltaY*(t.event.deltaMode?120:1)},"wheel"):"onmousewheel"in a?(Ye=function(){return t.event.wheelDelta},"mousewheel"):(Ye=function(){return-t.event.detail},"MozMousePixelScroll")),x.event=function(e){e.each((function(){var e=w.of(this,arguments),r=h;Mu?t.select(this).transition().each("start.zoom",(function(){h=this.__chart__||{x:0,y:0,k:1},C(e)})).tween("zoom:zoom",(function(){var i=d[0],a=d[1],o=n?n[0]:i/2,s=n?n[1]:a/2,u=t.interpolateZoom([(o-h.x)/h.k,(s-h.y)/h.k,i/h.k],[(o-r.x)/r.k,(s-r.y)/r.k,i/r.k]);return function(t){var n=u(t),r=i/n[2];this.__chart__=h={x:o-n[0]*r,y:s-n[1]*r,k:r},M(e)}})).each("interrupt.zoom",(function(){I(e)})).each("end.zoom",(function(){I(e)})):(this.__chart__=h,C(e),M(e),I(e))}))},x.translate=function(e){return arguments.length?(h={x:+e[0],y:+e[1],k:h.k},E(),x):[h.x,h.y]},x.scale=function(e){return arguments.length?(h={x:h.x,y:h.y,k:null},O(+e),E(),x):h.k},x.scaleExtent=function(e){return arguments.length?(p=null==e?Ke:[+e[0],+e[1]],x):p},x.center=function(e){return arguments.length?(r=e&&[+e[0],+e[1]],x):r},x.size=function(e){return arguments.length?(d=e&&[+e[0],+e[1]],x):d},x.duration=function(e){return arguments.length?(v=+e,x):v},x.x=function(e){return arguments.length?(l=e,u=e.copy(),h={x:0,y:0,k:1},x):l},x.y=function(e){return arguments.length?(f=e,c=e.copy(),h={x:0,y:0,k:1},x):f},t.rebind(x,w,"on")};var Ye,Ge,Ke=[0,1/0];function Xe(){}function $e(e,t,n){return this instanceof $e?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof $e?new $e(e.h,e.s,e.l):mt(""+e,bt,$e):new $e(e,t,n)}t.color=Xe,Xe.prototype.toString=function(){return this.rgb()+""},t.hsl=$e;var Qe=$e.prototype=new Xe;function Je(e,t,n){var r,i;function a(e){return e>360?e-=360:e<0&&(e+=360),e<60?r+(i-r)*e/60:e<180?i:e<240?r+(i-r)*(240-e)/60:r}function o(e){return Math.round(255*a(e))}return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)||t<0?0:t>1?1:t,r=2*(n=n<0?0:n>1?1:n)-(i=n<=.5?n*(1+t):n+t-n*t),new dt(o(e+120),o(e),o(e-120))}function Ze(e,n,r){return this instanceof Ze?(this.h=+e,this.c=+n,void(this.l=+r)):arguments.length<2?e instanceof Ze?new Ze(e.h,e.c,e.l):lt(e instanceof nt?e.l:(e=_t((e=t.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new Ze(e,n,r)}Qe.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new $e(this.h,this.s,this.l/e)},Qe.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new $e(this.h,this.s,e*this.l)},Qe.rgb=function(){return Je(this.h,this.s,this.l)},t.hcl=Ze;var et=Ze.prototype=new Xe;function tt(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new nt(n,Math.cos(e*=Pe)*t,Math.sin(e)*t)}function nt(e,t,n){return this instanceof nt?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof nt?new nt(e.l,e.a,e.b):e instanceof Ze?tt(e.h,e.c,e.l):_t((e=dt(e)).r,e.g,e.b):new nt(e,t,n)}et.brighter=function(e){return new Ze(this.h,this.c,Math.min(100,this.l+rt*(arguments.length?e:1)))},et.darker=function(e){return new Ze(this.h,this.c,Math.max(0,this.l-rt*(arguments.length?e:1)))},et.rgb=function(){return tt(this.h,this.c,this.l).rgb()},t.lab=nt;var rt=18,it=.95047,at=1,ot=1.08883,st=nt.prototype=new Xe;function ut(e,t,n){var r=(e+16)/116,i=r+t/500,a=r-n/200;return new dt(ht(3.2404542*(i=ct(i)*it)-1.5371385*(r=ct(r)*at)-.4985314*(a=ct(a)*ot)),ht(-.969266*i+1.8760108*r+.041556*a),ht(.0556434*i-.2040259*r+1.0572252*a))}function lt(e,t,n){return e>0?new Ze(Math.atan2(n,t)*Ne,Math.sqrt(t*t+n*n),e):new Ze(NaN,NaN,e)}function ct(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function ft(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function ht(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function dt(e,t,n){return this instanceof dt?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof dt?new dt(e.r,e.g,e.b):mt(""+e,dt,Je):new dt(e,t,n)}function pt(e){return new dt(e>>16,e>>8&255,255&e)}function vt(e){return pt(e)+""}st.brighter=function(e){return new nt(Math.min(100,this.l+rt*(arguments.length?e:1)),this.a,this.b)},st.darker=function(e){return new nt(Math.max(0,this.l-rt*(arguments.length?e:1)),this.a,this.b)},st.rgb=function(){return ut(this.l,this.a,this.b)},t.rgb=dt;var gt=dt.prototype=new Xe;function yt(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function mt(e,t,n){var r,i,a,o=0,s=0,u=0;if(r=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(xt(i[0]),xt(i[1]),xt(i[2]))}return(a=Tt.get(e))?t(a.r,a.g,a.b):(null==e||"#"!==e.charAt(0)||isNaN(a=parseInt(e.slice(1),16))||(4===e.length?(o=(3840&a)>>4,o|=o>>4,s=240&a,s|=s>>4,u=15&a,u|=u<<4):7===e.length&&(o=(16711680&a)>>16,s=(65280&a)>>8,u=255&a)),t(o,s,u))}function bt(e,t,n){var r,i,a=Math.min(e/=255,t/=255,n/=255),o=Math.max(e,t,n),s=o-a,u=(o+a)/2;return s?(i=u<.5?s/(o+a):s/(2-o-a),r=e==o?(t-n)/s+(t<n?6:0):t==o?(n-e)/s+2:(e-t)/s+4,r*=60):(r=NaN,i=u>0&&u<1?0:r),new $e(r,i,u)}function _t(e,t,n){var r=ft((.4124564*(e=wt(e))+.3575761*(t=wt(t))+.1804375*(n=wt(n)))/it),i=ft((.2126729*e+.7151522*t+.072175*n)/at);return nt(116*i-16,500*(r-i),200*(i-ft((.0193339*e+.119192*t+.9503041*n)/ot)))}function wt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function xt(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}gt.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return t||n||r?(t&&t<i&&(t=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new dt(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))):new dt(i,i,i)},gt.darker=function(e){return new dt((e=Math.pow(.7,arguments.length?e:1))*this.r,e*this.g,e*this.b)},gt.hsl=function(){return bt(this.r,this.g,this.b)},gt.toString=function(){return"#"+yt(this.r)+yt(this.g)+yt(this.b)};var Tt=t.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function kt(e){return"function"===typeof e?e:function(){return e}}function Ot(e){return function(t,n,r){return 2===arguments.length&&"function"===typeof n&&(r=n,n=null),St(t,n,e,r)}}function St(e,n,r,a){var o={},s=t.dispatch("beforesend","progress","load","error"),u={},l=new XMLHttpRequest,c=null;function f(){var e,t=l.status;if(!t&&Et(l)||t>=200&&t<300||304===t){try{e=r.call(o,l)}catch(il){return void s.error.call(o,il)}s.load.call(o,e)}else s.error.call(o,l)}return self.XDomainRequest&&!("withCredentials"in l)&&/^(http(s)?:)?\/\//.test(e)&&(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=f:l.onreadystatechange=function(){l.readyState>3&&f()},l.onprogress=function(e){var n=t.event;t.event=e;try{s.progress.call(o,l)}finally{t.event=n}},o.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?u[e]:(null==t?delete u[e]:u[e]=t+"",o)},o.mimeType=function(e){return arguments.length?(n=null==e?null:e+"",o):n},o.responseType=function(e){return arguments.length?(c=e,o):c},o.response=function(e){return r=e,o},["get","post"].forEach((function(e){o[e]=function(){return o.send.apply(o,[e].concat(i(arguments)))}})),o.send=function(t,r,i){if(2===arguments.length&&"function"===typeof r&&(i=r,r=null),l.open(t,e,!0),null==n||"accept"in u||(u.accept=n+",*/*"),l.setRequestHeader)for(var a in u)l.setRequestHeader(a,u[a]);return null!=n&&l.overrideMimeType&&l.overrideMimeType(n),null!=c&&(l.responseType=c),null!=i&&o.on("error",i).on("load",(function(e){i(null,e)})),s.beforesend.call(o,l),l.send(null==r?null:r),o},o.abort=function(){return l.abort(),o},t.rebind(o,s,"on"),null==a?o:o.get(At(a))}function At(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function Et(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}Tt.forEach((function(e,t){Tt.set(e,pt(t))})),t.functor=kt,t.xhr=Ot(P),t.dsv=function(e,t){var n=new RegExp('["'+e+"\n]"),r=e.charCodeAt(0);function i(e,n,r){arguments.length<3&&(r=n,n=null);var i=St(e,t,null==n?a:o(n),r);return i.row=function(e){return arguments.length?i.response(null==(n=e)?a:o(e)):n},i}function a(e){return i.parse(e.responseText)}function o(e){return function(t){return i.parse(t.responseText,e)}}function s(t){return t.map(u).join(e)}function u(e){return n.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}return i.parse=function(e,t){var n;return i.parseRows(e,(function(e,r){if(n)return n(e,r-1);var i=function(t){for(var n={},r=e.length,i=0;i<r;++i)n[e[i]]=t[i];return n};n=t?function(e,n){return t(i(e),n)}:i}))},i.parseRows=function(e,t){var n,i,a={},o={},s=[],u=e.length,l=0,c=0;function f(){if(l>=u)return o;if(i)return i=!1,a;var t=l;if(34===e.charCodeAt(t)){for(var n=t;n++<u;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}return l=n+2,13===(s=e.charCodeAt(n+1))?(i=!0,10===e.charCodeAt(n+2)&&++l):10===s&&(i=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;l<u;){var s,c=1;if(10===(s=e.charCodeAt(l++)))i=!0;else if(13===s)i=!0,10===e.charCodeAt(l)&&(++l,++c);else if(s!==r)continue;return e.slice(t,l-c)}return e.slice(t)}for(;(n=f())!==o;){for(var h=[];n!==a&&n!==o;)h.push(n),n=f();t&&null==(h=t(h,c++))||s.push(h)}return s},i.format=function(t){if(Array.isArray(t[0]))return i.formatRows(t);var n=new D,r=[];return t.forEach((function(e){for(var t in e)n.has(t)||r.push(n.add(t))})),[r.map(u).join(e)].concat(t.map((function(t){return r.map((function(e){return u(t[e])})).join(e)}))).join("\n")},i.formatRows=function(e){return e.map(s).join("\n")},i},t.csv=t.dsv(",","text/csv"),t.tsv=t.dsv("\t","text/tab-separated-values");var Ct,Mt,It,Dt,Pt=this[j(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};function Nt(e,t,n){var r=arguments.length;r<2&&(t=0),r<3&&(n=Date.now());var i={c:e,t:n+t,n:null};return Mt?Mt.n=i:Ct=i,Mt=i,It||(Dt=clearTimeout(Dt),It=1,Pt(jt)),i}function jt(){var e=Lt(),t=Rt()-e;t>24?(isFinite(t)&&(clearTimeout(Dt),Dt=setTimeout(jt,t)),It=0):(It=1,Pt(jt))}function Lt(){for(var e=Date.now(),t=Ct;t;)e>=t.t&&t.c(e-t.t)&&(t.c=null),t=t.n;return e}function Rt(){for(var e,t=Ct,n=1/0;t;)t.c?(t.t<n&&(n=t.t),t=(e=t).n):t=e?e.n=t.n:Ct=t.n;return Mt=e,n}function Ft(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}t.timer=function(){Nt.apply(this,arguments)},t.timer.flush=function(){Lt(),Rt()},t.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var zt=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(Ut);function Ut(e,t){var n=Math.pow(10,3*b(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function qt(e){var n=e.decimal,r=e.thousands,i=e.grouping,a=e.currency,o=i&&r?function(e,t){for(var n=e.length,a=[],o=0,s=i[0],u=0;n>0&&s>0&&(u+s+1>t&&(s=Math.max(1,t-u)),a.push(e.substring(n-=s,n+s)),!((u+=s+1)>t));)s=i[o=(o+1)%i.length];return a.reverse().join(r)}:P;return function(e){var r=Bt.exec(e),i=r[1]||" ",s=r[2]||">",u=r[3]||"-",l=r[4]||"",c=r[5],f=+r[6],h=r[7],d=r[8],p=r[9],v=1,g="",y="",m=!1,b=!0;switch(d&&(d=+d.substring(1)),(c||"0"===i&&"="===s)&&(c=i="0",s="="),p){case"n":h=!0,p="g";break;case"%":v=100,y="%",p="f";break;case"p":v=100,y="%",p="r";break;case"b":case"o":case"x":case"X":"#"===l&&(g="0"+p.toLowerCase());case"c":b=!1;case"d":m=!0,d=0;break;case"s":v=-1,p="r"}"$"===l&&(g=a[0],y=a[1]),"r"!=p||d||(p="g"),null!=d&&("g"==p?d=Math.max(1,Math.min(21,d)):"e"!=p&&"f"!=p||(d=Math.max(0,Math.min(20,d)))),p=Vt.get(p)||Ht;var _=c&&h;return function(e){var r=y;if(m&&e%1)return"";var a=e<0||0===e&&1/e<0?(e=-e,"-"):"-"===u?"":u;if(v<0){var l=t.formatPrefix(e,d);e=l.scale(e),r=l.symbol+y}else e*=v;var w,x,T=(e=p(e,d)).lastIndexOf(".");if(T<0){var k=b?e.lastIndexOf("e"):-1;k<0?(w=e,x=""):(w=e.substring(0,k),x=e.substring(k))}else w=e.substring(0,T),x=n+e.substring(T+1);!c&&h&&(w=o(w,1/0));var O=g.length+w.length+x.length+(_?0:a.length),S=O<f?new Array(O=f-O+1).join(i):"";return _&&(w=o(S+w,S.length?f-x.length:1/0)),a+=g,e=w+x,("<"===s?a+e+S:">"===s?S+a+e:"^"===s?S.substring(0,O>>=1)+a+e+S.substring(O):a+(_?e:S+e))+r}}}t.formatPrefix=function(e,n){var r=0;return(e=+e)&&(e<0&&(e*=-1),n&&(e=t.round(e,Ft(e,n))),r=1+Math.floor(1e-12+Math.log(e)/Math.LN10),r=Math.max(-24,Math.min(24,3*Math.floor((r-1)/3)))),zt[8+r/3]};var Bt=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Vt=t.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,n){return(e=t.round(e,Ft(e,n))).toFixed(Math.max(0,Math.min(20,Ft(e*(1+1e-15),n))))}});function Ht(e){return e+""}var Wt=t.time={},Yt=Date;function Gt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Gt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Kt.setUTCDate.apply(this._,arguments)},setDay:function(){Kt.setUTCDay.apply(this._,arguments)},setFullYear:function(){Kt.setUTCFullYear.apply(this._,arguments)},setHours:function(){Kt.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Kt.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Kt.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Kt.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Kt.setUTCSeconds.apply(this._,arguments)},setTime:function(){Kt.setTime.apply(this._,arguments)}};var Kt=Date.prototype;function Xt(e,t,n){function r(t){var n=e(t),r=a(n,1);return t-n<r-t?n:r}function i(n){return t(n=e(new Yt(n-1)),1),n}function a(e,n){return t(e=new Yt(+e),n),e}function o(e,r,a){var o=i(e),s=[];if(a>1)for(;o<r;)n(o)%a||s.push(new Date(+o)),t(o,1);else for(;o<r;)s.push(new Date(+o)),t(o,1);return s}function s(e,t,n){try{Yt=Gt;var r=new Gt;return r._=e,o(r,t,n)}finally{Yt=Date}}e.floor=e,e.round=r,e.ceil=i,e.offset=a,e.range=o;var u=e.utc=$t(e);return u.floor=u,u.round=$t(r),u.ceil=$t(i),u.offset=$t(a),u.range=s,e}function $t(e){return function(t,n){try{Yt=Gt;var r=new Gt;return r._=t,e(r,n)._}finally{Yt=Date}}}function Qt(e){var n=e.dateTime,r=e.date,i=e.time,a=e.periods,o=e.days,s=e.shortDays,u=e.months,l=e.shortMonths;function c(e){var t=e.length;function n(n){for(var r,i,a,o=[],s=-1,u=0;++s<t;)37===e.charCodeAt(s)&&(o.push(e.slice(u,s)),null!=(i=Jt[r=e.charAt(++s)])&&(r=e.charAt(++s)),(a=w[r])&&(r=a(n,null==i?"e"===r?" ":"0":i)),o.push(r),u=s+1);return o.push(e.slice(u,s)),o.join("")}return n.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(f(n,e,t,0)!=t.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var r=null!=n.Z&&Yt!==Gt,i=new(r?Gt:Yt);return"j"in n?i.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),i.setFullYear(n.y,0,1),i.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(i.getDay()+5)%7:n.w+7*n.U-(i.getDay()+6)%7)):i.setFullYear(n.y,n.m,n.d),i.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),r?i._:i},n.toString=function(){return e},n}function f(e,t,n,r){for(var i,a,o,s=0,u=t.length,l=n.length;s<u;){if(r>=l)return-1;if(37===(i=t.charCodeAt(s++))){if(o=t.charAt(s++),!(a=x[o in Jt?t.charAt(s++):o])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}c.utc=function(e){var t=c(e);function n(e){try{var n=new(Yt=Gt);return n._=e,t(n)}finally{Yt=Date}}return n.parse=function(e){try{Yt=Gt;var n=t.parse(e);return n&&n._}finally{Yt=Date}},n.toString=t.toString,n},c.multi=c.utc.multi=wn;var h=t.map(),d=nn(o),p=rn(o),v=nn(s),g=rn(s),y=nn(u),m=rn(u),b=nn(l),_=rn(l);a.forEach((function(e,t){h.set(e.toLowerCase(),t)}));var w={a:function(e){return s[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return u[e.getMonth()]},c:c(n),d:function(e,t){return tn(e.getDate(),t,2)},e:function(e,t){return tn(e.getDate(),t,2)},H:function(e,t){return tn(e.getHours(),t,2)},I:function(e,t){return tn(e.getHours()%12||12,t,2)},j:function(e,t){return tn(1+Wt.dayOfYear(e),t,3)},L:function(e,t){return tn(e.getMilliseconds(),t,3)},m:function(e,t){return tn(e.getMonth()+1,t,2)},M:function(e,t){return tn(e.getMinutes(),t,2)},p:function(e){return a[+(e.getHours()>=12)]},S:function(e,t){return tn(e.getSeconds(),t,2)},U:function(e,t){return tn(Wt.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return tn(Wt.mondayOfYear(e),t,2)},x:c(r),X:c(i),y:function(e,t){return tn(e.getFullYear()%100,t,2)},Y:function(e,t){return tn(e.getFullYear()%1e4,t,4)},Z:bn,"%":function(){return"%"}},x={a:T,A:k,b:O,B:S,c:A,d:dn,e:dn,H:vn,I:vn,j:pn,L:mn,m:hn,M:gn,p:M,S:yn,U:on,w:an,W:sn,x:E,X:C,y:ln,Y:un,Z:cn,"%":_n};function T(e,t,n){v.lastIndex=0;var r=v.exec(t.slice(n));return r?(e.w=g.get(r[0].toLowerCase()),n+r[0].length):-1}function k(e,t,n){d.lastIndex=0;var r=d.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1}function O(e,t,n){b.lastIndex=0;var r=b.exec(t.slice(n));return r?(e.m=_.get(r[0].toLowerCase()),n+r[0].length):-1}function S(e,t,n){y.lastIndex=0;var r=y.exec(t.slice(n));return r?(e.m=m.get(r[0].toLowerCase()),n+r[0].length):-1}function A(e,t,n){return f(e,w.c.toString(),t,n)}function E(e,t,n){return f(e,w.x.toString(),t,n)}function C(e,t,n){return f(e,w.X.toString(),t,n)}function M(e,t,n){var r=h.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)}return c}Wt.year=Xt((function(e){return(e=Wt.day(e)).setMonth(0,1),e}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e){return e.getFullYear()})),Wt.years=Wt.year.range,Wt.years.utc=Wt.year.utc.range,Wt.day=Xt((function(e){var t=new Yt(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e){return e.getDate()-1})),Wt.days=Wt.day.range,Wt.days.utc=Wt.day.utc.range,Wt.dayOfYear=function(e){var t=Wt.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach((function(e,t){t=7-t;var n=Wt[e]=Xt((function(e){return(e=Wt.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e}),(function(e,t){e.setDate(e.getDate()+7*Math.floor(t))}),(function(e){var n=Wt.year(e).getDay();return Math.floor((Wt.dayOfYear(e)+(n+t)%7)/7)-(n!==t)}));Wt[e+"s"]=n.range,Wt[e+"s"].utc=n.utc.range,Wt[e+"OfYear"]=function(e){var n=Wt.year(e).getDay();return Math.floor((Wt.dayOfYear(e)+(n+t)%7)/7)}})),Wt.week=Wt.sunday,Wt.weeks=Wt.sunday.range,Wt.weeks.utc=Wt.sunday.utc.range,Wt.weekOfYear=Wt.sundayOfYear;var Jt={"-":"",_:" ",0:"0"},Zt=/^\s*\d+/,en=/^%/;function tn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function nn(e){return new RegExp("^(?:"+e.map(t.requote).join("|")+")","i")}function rn(e){for(var t=new x,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function an(e,t,n){Zt.lastIndex=0;var r=Zt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function on(e,t,n){Zt.lastIndex=0;var r=Zt.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function sn(e,t,n){Zt.lastIndex=0;var r=Zt.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function un(e,t,n){Zt.lastIndex=0;var r=Zt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function ln(e,t,n){Zt.lastIndex=0;var r=Zt.exec(t.slice(n,n+2));return r?(e.y=fn(+r[0]),n+r[0].length):-1}function cn(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function fn(e){return e+(e>68?1900:2e3)}function hn(e,t,n){Zt.lastIndex=0;var r=Zt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function dn(e,t,n){Zt.lastIndex=0;var r=Zt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function pn(e,t,n){Zt.lastIndex=0;var r=Zt.exec(t.slice(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function vn(e,t,n){Zt.lastIndex=0;var r=Zt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function gn(e,t,n){Zt.lastIndex=0;var r=Zt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function yn(e,t,n){Zt.lastIndex=0;var r=Zt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function mn(e,t,n){Zt.lastIndex=0;var r=Zt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function bn(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=b(t)/60|0,i=b(t)%60;return n+tn(r,"0",2)+tn(i,"0",2)}function _n(e,t,n){en.lastIndex=0;var r=en.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function wn(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}t.locale=function(e){return{numberFormat:qt(e),timeFormat:Qt(e)}};var xn=t.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Tn(){}t.format=xn.numberFormat,t.geo={},Tn.prototype={s:0,t:0,add:function(e){On(e,this.t,kn),On(kn.s,this.s,this),this.s?this.t+=kn.t:this.s=kn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var kn=new Tn;function On(e,t,n){var r=n.s=e+t,i=r-e,a=r-i;n.t=e-a+(t-i)}function Sn(e,t){e&&En.hasOwnProperty(e.type)&&En[e.type](e,t)}t.geo.stream=function(e,t){e&&An.hasOwnProperty(e.type)?An[e.type](e,t):Sn(e,t)};var An={Feature:function(e,t){Sn(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Sn(n[r].geometry,t)}},En={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Cn(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Cn(n[r],t,0)},Polygon:function(e,t){Mn(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Mn(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Sn(n[r],t)}};function Cn(e,t,n){var r,i=-1,a=e.length-n;for(t.lineStart();++i<a;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function Mn(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Cn(e[n],t,1);t.polygonEnd()}t.geo.area=function(e){return In=0,t.geo.stream(e,Hn),In};var In,Dn,Pn,Nn,jn,Ln,Rn,Fn,zn,Un,qn,Bn,Vn=new Tn,Hn={sphere:function(){In+=4*Ce},point:R,lineStart:R,lineEnd:R,polygonStart:function(){Vn.reset(),Hn.lineStart=Wn},polygonEnd:function(){var e=2*Vn;In+=e<0?4*Ce+e:e,Hn.lineStart=Hn.lineEnd=Hn.point=R}};function Wn(){var e,t,n,r,i;function a(e,t){t=t*Pe/2+Ce/4;var a=(e*=Pe)-n,o=a>=0?1:-1,s=o*a,u=Math.cos(t),l=Math.sin(t),c=i*l,f=r*u+c*Math.cos(s),h=c*o*Math.sin(s);Vn.add(Math.atan2(h,f)),n=e,r=u,i=l}Hn.point=function(o,s){Hn.point=a,n=(e=o)*Pe,r=Math.cos(s=(t=s)*Pe/2+Ce/4),i=Math.sin(s)},Hn.lineEnd=function(){a(e,t)}}function Yn(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function Gn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Kn(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Xn(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function $n(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Qn(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Jn(e){return[Math.atan2(e[1],e[0]),Fe(e[2])]}function Zn(e,t){return b(e[0]-t[0])<Ae&&b(e[1]-t[1])<Ae}t.geo.bounds=function(){var e,n,r,i,a,o,s,u,l,c,f,h={point:d,lineStart:v,lineEnd:g,polygonStart:function(){h.point=y,h.lineStart=m,h.lineEnd=_,l=0,Hn.polygonStart()},polygonEnd:function(){Hn.polygonEnd(),h.point=d,h.lineStart=v,h.lineEnd=g,Vn<0?(e=-(r=180),n=-(i=90)):l>Ae?i=90:l<-Ae&&(n=-90),f[0]=e,f[1]=r}};function d(t,a){c.push(f=[e=t,r=t]),a<n&&(n=a),a>i&&(i=a)}function p(t,o){var s=Yn([t*Pe,o*Pe]);if(u){var l=Kn(u,s),c=Kn([l[1],-l[0],0],l);Qn(c),c=Jn(c);var f=t-a,h=f>0?1:-1,p=c[0]*Ne*h,v=b(f)>180;if(v^(h*a<p&&p<h*t))(g=c[1]*Ne)>i&&(i=g);else if(v^(h*a<(p=(p+360)%360-180)&&p<h*t)){var g;(g=-c[1]*Ne)<n&&(n=g)}else o<n&&(n=o),o>i&&(i=o);v?t<a?w(e,t)>w(e,r)&&(r=t):w(t,r)>w(e,r)&&(e=t):r>=e?(t<e&&(e=t),t>r&&(r=t)):t>a?w(e,t)>w(e,r)&&(r=t):w(t,r)>w(e,r)&&(e=t)}else d(t,o);u=s,a=t}function v(){h.point=p}function g(){f[0]=e,f[1]=r,h.point=d,u=null}function y(e,t){if(u){var n=e-a;l+=b(n)>180?n+(n>0?360:-360):n}else o=e,s=t;Hn.point(e,t),p(e,t)}function m(){Hn.lineStart()}function _(){y(o,s),Hn.lineEnd(),b(l)>Ae&&(e=-(r=180)),f[0]=e,f[1]=r,u=null}function w(e,t){return(t-=e)<0?t+360:t}function x(e,t){return e[0]-t[0]}function T(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}return function(a){if(i=r=-(e=n=1/0),c=[],t.geo.stream(a,h),l=c.length){c.sort(x);for(var o=1,s=[v=c[0]];o<l;++o)T((d=c[o])[0],v)||T(d[1],v)?(w(v[0],d[1])>w(v[0],v[1])&&(v[1]=d[1]),w(d[0],v[1])>w(v[0],v[1])&&(v[0]=d[0])):s.push(v=d);for(var u,l,d,p=-1/0,v=(o=0,s[l=s.length-1]);o<=l;v=d,++o)d=s[o],(u=w(v[1],d[0]))>p&&(p=u,e=d[0],r=v[1])}return c=f=null,e===1/0||n===1/0?[[NaN,NaN],[NaN,NaN]]:[[e,n],[r,i]]}}(),t.geo.centroid=function(e){Dn=Pn=Nn=jn=Ln=Rn=Fn=zn=Un=qn=Bn=0,t.geo.stream(e,er);var n=Un,r=qn,i=Bn,a=n*n+r*r+i*i;return a<Ee&&(n=Rn,r=Fn,i=zn,Pn<Ae&&(n=Nn,r=jn,i=Ln),(a=n*n+r*r+i*i)<Ee)?[NaN,NaN]:[Math.atan2(r,n)*Ne,Fe(i/Math.sqrt(a))*Ne]};var er={sphere:R,point:tr,lineStart:rr,lineEnd:ir,polygonStart:function(){er.lineStart=ar},polygonEnd:function(){er.lineStart=rr}};function tr(e,t){e*=Pe;var n=Math.cos(t*=Pe);nr(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function nr(e,t,n){++Dn,Nn+=(e-Nn)/Dn,jn+=(t-jn)/Dn,Ln+=(n-Ln)/Dn}function rr(){var e,t,n;function r(r,i){r*=Pe;var a=Math.cos(i*=Pe),o=a*Math.cos(r),s=a*Math.sin(r),u=Math.sin(i),l=Math.atan2(Math.sqrt((l=t*u-n*s)*l+(l=n*o-e*u)*l+(l=e*s-t*o)*l),e*o+t*s+n*u);Pn+=l,Rn+=l*(e+(e=o)),Fn+=l*(t+(t=s)),zn+=l*(n+(n=u)),nr(e,t,n)}er.point=function(i,a){i*=Pe;var o=Math.cos(a*=Pe);e=o*Math.cos(i),t=o*Math.sin(i),n=Math.sin(a),er.point=r,nr(e,t,n)}}function ir(){er.point=tr}function ar(){var e,t,n,r,i;function a(e,t){e*=Pe;var a=Math.cos(t*=Pe),o=a*Math.cos(e),s=a*Math.sin(e),u=Math.sin(t),l=r*u-i*s,c=i*o-n*u,f=n*s-r*o,h=Math.sqrt(l*l+c*c+f*f),d=n*o+r*s+i*u,p=h&&-Re(d)/h,v=Math.atan2(h,d);Un+=p*l,qn+=p*c,Bn+=p*f,Pn+=v,Rn+=v*(n+(n=o)),Fn+=v*(r+(r=s)),zn+=v*(i+(i=u)),nr(n,r,i)}er.point=function(o,s){e=o,t=s,er.point=a,o*=Pe;var u=Math.cos(s*=Pe);n=u*Math.cos(o),r=u*Math.sin(o),i=Math.sin(s),nr(n,r,i)},er.lineEnd=function(){a(e,t),er.lineEnd=ir,er.point=tr}}function or(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function sr(){return!0}function ur(e,t,n,r,i){var a=[],o=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if(Zn(n,r)){i.lineStart();for(var s=0;s<t;++s)i.point((n=e[s])[0],n[1]);i.lineEnd()}else{var u=new cr(n,e,null,!0),l=new cr(n,null,u,!1);u.o=l,a.push(u),o.push(l),u=new cr(r,e,null,!1),l=new cr(r,null,u,!0),u.o=l,a.push(u),o.push(l)}}})),o.sort(t),lr(a),lr(o),a.length){for(var s=0,u=n,l=o.length;s<l;++s)o[s].e=u=!u;for(var c,f,h=a[0];;){for(var d=h,p=!0;d.v;)if((d=d.n)===h)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(s=0,l=c.length;s<l;++s)i.point((f=c[s])[0],f[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(p)for(s=(c=d.p.z).length-1;s>=0;--s)i.point((f=c[s])[0],f[1]);else r(d.x,d.p.x,-1,i);d=d.p}c=(d=d.o).z,p=!p}while(!d.v);i.lineEnd()}}}function lr(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function cr(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function fr(e,n,r,i){return function(a,o){var s,u=n(o),l=a.invert(i[0],i[1]),c={point:f,lineStart:d,lineEnd:p,polygonStart:function(){c.point=_,c.lineStart=w,c.lineEnd=x,s=[],v=[]},polygonEnd:function(){c.point=f,c.lineStart=d,c.lineEnd=p,s=t.merge(s);var e=br(l,v);s.length?(b||(o.polygonStart(),b=!0),ur(s,pr,e,r,o)):e&&(b||(o.polygonStart(),b=!0),o.lineStart(),r(null,null,1,o),o.lineEnd()),b&&(o.polygonEnd(),b=!1),s=v=null},sphere:function(){o.polygonStart(),o.lineStart(),r(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function f(t,n){var r=a(t,n);e(t=r[0],n=r[1])&&o.point(t,n)}function h(e,t){var n=a(e,t);u.point(n[0],n[1])}function d(){c.point=h,u.lineStart()}function p(){c.point=f,u.lineEnd()}var v,g,y=dr(),m=n(y),b=!1;function _(e,t){g.push([e,t]);var n=a(e,t);m.point(n[0],n[1])}function w(){m.lineStart(),g=[]}function x(){_(g[0][0],g[0][1]),m.lineEnd();var e,t=m.clean(),n=y.buffer(),r=n.length;if(g.pop(),v.push(g),g=null,r)if(1&t){var i,a=-1;if((r=(e=n[0]).length-1)>0){for(b||(o.polygonStart(),b=!0),o.lineStart();++a<r;)o.point((i=e[a])[0],i[1]);o.lineEnd()}}else r>1&&2&t&&n.push(n.pop().concat(n.shift())),s.push(n.filter(hr))}return c}}function hr(e){return e.length>1}function dr(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:R,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function pr(e,t){return((e=e.x)[0]<0?e[1]-De-Ae:De-e[1])-((t=t.x)[0]<0?t[1]-De-Ae:De-t[1])}var vr=fr(sr,gr,mr,[-Ce,-Ce/2]);function gr(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(a,o){var s=a>0?Ce:-Ce,u=b(a-n);b(u-Ce)<Ae?(e.point(n,r=(r+o)/2>0?De:-De),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(a,r),t=0):i!==s&&u>=Ce&&(b(n-i)<Ae&&(n-=i*Ae),b(a-s)<Ae&&(a-=s*Ae),r=yr(n,r,a,o),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=a,r=o),i=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}function yr(e,t,n,r){var i,a,o=Math.sin(e-n);return b(o)>Ae?Math.atan((Math.sin(t)*(a=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(t))*Math.sin(e))/(i*a*o)):(t+r)/2}function mr(e,t,n,r){var i;if(null==e)i=n*De,r.point(-Ce,i),r.point(0,i),r.point(Ce,i),r.point(Ce,0),r.point(Ce,-i),r.point(0,-i),r.point(-Ce,-i),r.point(-Ce,0),r.point(-Ce,i);else if(b(e[0]-t[0])>Ae){var a=e[0]<t[0]?Ce:-Ce;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function br(e,t){var n=e[0],r=e[1],i=[Math.sin(n),-Math.cos(n),0],a=0,o=0;Vn.reset();for(var s=0,u=t.length;s<u;++s){var l=t[s],c=l.length;if(c)for(var f=l[0],h=f[0],d=f[1]/2+Ce/4,p=Math.sin(d),v=Math.cos(d),g=1;;){g===c&&(g=0);var y=(e=l[g])[0],m=e[1]/2+Ce/4,b=Math.sin(m),_=Math.cos(m),w=y-h,x=w>=0?1:-1,T=x*w,k=T>Ce,O=p*b;if(Vn.add(Math.atan2(O*x*Math.sin(T),v*_+O*Math.cos(T))),a+=k?w+x*Me:w,k^h>=n^y>=n){var S=Kn(Yn(f),Yn(e));Qn(S);var A=Kn(i,S);Qn(A);var E=(k^w>=0?-1:1)*Fe(A[2]);(r>E||r===E&&(S[0]||S[1]))&&(o+=k^w>=0?1:-1)}if(!g++)break;h=y,p=b,v=_,f=e}}return(a<-Ae||a<Ae&&Vn<-Ae)^1&o}function _r(e){var t=Math.cos(e),n=t>0,r=b(t)>Ae;return fr(i,a,ii(e,6*Pe),n?[0,-e]:[-Ce,e-Ce]);function i(e,n){return Math.cos(e)*Math.cos(n)>t}function a(e){var t,a,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(f,h){var d,p=[f,h],v=i(f,h),g=n?v?0:s(f,h):v?s(f+(f<0?Ce:-Ce),h):0;if(!t&&(l=u=v)&&e.lineStart(),v!==u&&(d=o(t,p),(Zn(t,d)||Zn(p,d))&&(p[0]+=Ae,p[1]+=Ae,v=i(p[0],p[1]))),v!==u)c=0,v?(e.lineStart(),d=o(p,t),e.point(d[0],d[1])):(d=o(t,p),e.point(d[0],d[1]),e.lineEnd()),t=d;else if(r&&t&&n^v){var y;g&a||!(y=o(p,t,!0))||(c=0,n?(e.lineStart(),e.point(y[0][0],y[0][1]),e.point(y[1][0],y[1][1]),e.lineEnd()):(e.point(y[1][0],y[1][1]),e.lineEnd(),e.lineStart(),e.point(y[0][0],y[0][1])))}!v||t&&Zn(t,p)||e.point(p[0],p[1]),t=p,u=v,a=g},lineEnd:function(){u&&e.lineEnd(),t=null},clean:function(){return c|(l&&u)<<1}}}function o(e,n,r){var i=[1,0,0],a=Kn(Yn(e),Yn(n)),o=Gn(a,a),s=a[0],u=o-s*s;if(!u)return!r&&e;var l=t*o/u,c=-t*s/u,f=Kn(i,a),h=$n(i,l);Xn(h,$n(a,c));var d=f,p=Gn(h,d),v=Gn(d,d),g=p*p-v*(Gn(h,h)-1);if(!(g<0)){var y=Math.sqrt(g),m=$n(d,(-p-y)/v);if(Xn(m,h),m=Jn(m),!r)return m;var _,w=e[0],x=n[0],T=e[1],k=n[1];x<w&&(_=w,w=x,x=_);var O=x-w,S=b(O-Ce)<Ae;if(!S&&k<T&&(_=T,T=k,k=_),S||O<Ae?S?T+k>0^m[1]<(b(m[0]-w)<Ae?T:k):T<=m[1]&&m[1]<=k:O>Ce^(w<=m[0]&&m[0]<=x)){var A=$n(d,(-p+y)/v);return Xn(A,h),[m,Jn(A)]}}}function s(t,r){var i=n?e:Ce-e,a=0;return t<-i?a|=1:t>i&&(a|=2),r<-i?a|=4:r>i&&(a|=8),a}}function wr(e,t,n,r){return function(i){var a,o=i.a,s=i.b,u=o.x,l=o.y,c=0,f=1,h=s.x-u,d=s.y-l;if(a=e-u,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<f&&(f=a)}else if(h>0){if(a>f)return;a>c&&(c=a)}if(a=n-u,h||!(a<0)){if(a/=h,h<0){if(a>f)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<f&&(f=a)}if(a=t-l,d||!(a>0)){if(a/=d,d<0){if(a<c)return;a<f&&(f=a)}else if(d>0){if(a>f)return;a>c&&(c=a)}if(a=r-l,d||!(a<0)){if(a/=d,d<0){if(a>f)return;a>c&&(c=a)}else if(d>0){if(a<c)return;a<f&&(f=a)}return c>0&&(i.a={x:u+c*h,y:l+c*d}),f<1&&(i.b={x:u+f*h,y:l+f*d}),i}}}}}}var xr=1e9;function Tr(e,n,r,i){return function(u){var l,c,f,h,d,p,v,g,y,m,b,_=u,w=dr(),x=wr(e,n,r,i),T={point:A,lineStart:E,lineEnd:C,polygonStart:function(){u=w,l=[],c=[],b=!0},polygonEnd:function(){u=_,l=t.merge(l);var n=k([e,i]),r=b&&n,a=l.length;(r||a)&&(u.polygonStart(),r&&(u.lineStart(),O(null,null,1,u),u.lineEnd()),a&&ur(l,o,n,O,u),u.polygonEnd()),l=c=f=null}};function k(e){for(var t=0,n=c.length,r=e[1],i=0;i<n;++i)for(var a,o=1,s=c[i],u=s.length,l=s[0];o<u;++o)a=s[o],l[1]<=r?a[1]>r&&Le(l,a,e)>0&&++t:a[1]<=r&&Le(l,a,e)<0&&--t,l=a;return 0!==t}function O(t,o,u,l){var c=0,f=0;if(null==t||(c=a(t,u))!==(f=a(o,u))||s(t,o)<0^u>0)do{l.point(0===c||3===c?e:r,c>1?i:n)}while((c=(c+u+4)%4)!==f);else l.point(o[0],o[1])}function S(t,a){return e<=t&&t<=r&&n<=a&&a<=i}function A(e,t){S(e,t)&&u.point(e,t)}function E(){T.point=M,c&&c.push(f=[]),m=!0,y=!1,v=g=NaN}function C(){l&&(M(h,d),p&&y&&w.rejoin(),l.push(w.buffer())),T.point=A,y&&u.lineEnd()}function M(e,t){var n=S(e=Math.max(-xr,Math.min(xr,e)),t=Math.max(-xr,Math.min(xr,t)));if(c&&f.push([e,t]),m)h=e,d=t,p=n,m=!1,n&&(u.lineStart(),u.point(e,t));else if(n&&y)u.point(e,t);else{var r={a:{x:v,y:g},b:{x:e,y:t}};x(r)?(y||(u.lineStart(),u.point(r.a.x,r.a.y)),u.point(r.b.x,r.b.y),n||u.lineEnd(),b=!1):n&&(u.lineStart(),u.point(e,t),b=!1)}v=e,g=t,y=n}return T};function a(t,i){return b(t[0]-e)<Ae?i>0?0:3:b(t[0]-r)<Ae?i>0?2:1:b(t[1]-n)<Ae?i>0?1:0:i>0?3:2}function o(e,t){return s(e.x,t.x)}function s(e,t){var n=a(e,1),r=a(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}}function kr(e){var t=0,n=Ce/3,r=$r(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*Ce/180,n=e[1]*Ce/180):[t/Ce*180,n/Ce*180]},i}function Or(e,t){var n=Math.sin(e),r=(n+Math.sin(t))/2,i=1+n*(2*r-n),a=Math.sqrt(i)/r;function o(e,t){var n=Math.sqrt(i-2*r*Math.sin(t))/r;return[n*Math.sin(e*=r),a-n*Math.cos(e)]}return o.invert=function(e,t){var n=a-t;return[Math.atan2(e,n)/r,Fe((i-(e*e+n*n)*r*r)/(2*r))]},o}t.geo.clipExtent=function(){var e,t,n,r,i,a,o={stream:function(e){return i&&(i.valid=!1),(i=a(e)).valid=!0,i},extent:function(s){return arguments.length?(a=Tr(e=+s[0][0],t=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),o):[[e,t],[n,r]]}};return o.extent([[0,0],[960,500]])},(t.geo.conicEqualArea=function(){return kr(Or)}).raw=Or,t.geo.albers=function(){return t.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},t.geo.albersUsa=function(){var e,n,r,i,a=t.geo.albers(),o=t.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=t.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,n){e=[t,n]}};function l(t){var a=t[0],o=t[1];return e=null,n(a,o),e||(r(a,o),e)||i(a,o),e}return l.invert=function(e){var t=a.scale(),n=a.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?o:i>=.166&&i<.234&&r>=-.214&&r<-.115?s:a).invert(e)},l.stream=function(e){var t=a.stream(e),n=o.stream(e),r=s.stream(e);return{point:function(e,i){t.point(e,i),n.point(e,i),r.point(e,i)},sphere:function(){t.sphere(),n.sphere(),r.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},l.precision=function(e){return arguments.length?(a.precision(e),o.precision(e),s.precision(e),l):a.precision()},l.scale=function(e){return arguments.length?(a.scale(e),o.scale(.35*e),s.scale(e),l.translate(a.translate())):a.scale()},l.translate=function(e){if(!arguments.length)return a.translate();var t=a.scale(),c=+e[0],f=+e[1];return n=a.translate(e).clipExtent([[c-.455*t,f-.238*t],[c+.455*t,f+.238*t]]).stream(u).point,r=o.translate([c-.307*t,f+.201*t]).clipExtent([[c-.425*t+Ae,f+.12*t+Ae],[c-.214*t-Ae,f+.234*t-Ae]]).stream(u).point,i=s.translate([c-.205*t,f+.212*t]).clipExtent([[c-.214*t+Ae,f+.166*t+Ae],[c-.115*t-Ae,f+.234*t-Ae]]).stream(u).point,l},l.scale(1070)};var Sr,Ar,Er,Cr,Mr,Ir,Dr={point:R,lineStart:R,lineEnd:R,polygonStart:function(){Ar=0,Dr.lineStart=Pr},polygonEnd:function(){Dr.lineStart=Dr.lineEnd=Dr.point=R,Sr+=b(Ar/2)}};function Pr(){var e,t,n,r;function i(e,t){Ar+=r*e-n*t,n=e,r=t}Dr.point=function(a,o){Dr.point=i,e=n=a,t=r=o},Dr.lineEnd=function(){i(e,t)}}var Nr={point:jr,lineStart:R,lineEnd:R,polygonStart:R,polygonEnd:R};function jr(e,t){e<Er&&(Er=e),e>Mr&&(Mr=e),t<Cr&&(Cr=t),t>Ir&&(Ir=t)}function Lr(){var e=Rr(4.5),t=[],n={point:r,lineStart:function(){n.point=i},lineEnd:o,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=o,n.point=r},pointRadius:function(t){return e=Rr(t),n},result:function(){if(t.length){var e=t.join("");return t=[],e}}};function r(n,r){t.push("M",n,",",r,e)}function i(e,r){t.push("M",e,",",r),n.point=a}function a(e,n){t.push("L",e,",",n)}function o(){n.point=r}function s(){t.push("Z")}return n}function Rr(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}var Fr,zr={point:Ur,lineStart:qr,lineEnd:Br,polygonStart:function(){zr.lineStart=Vr},polygonEnd:function(){zr.point=Ur,zr.lineStart=qr,zr.lineEnd=Br}};function Ur(e,t){Nn+=e,jn+=t,++Ln}function qr(){var e,t;function n(n,r){var i=n-e,a=r-t,o=Math.sqrt(i*i+a*a);Rn+=o*(e+n)/2,Fn+=o*(t+r)/2,zn+=o,Ur(e=n,t=r)}zr.point=function(r,i){zr.point=n,Ur(e=r,t=i)}}function Br(){zr.point=Ur}function Vr(){var e,t,n,r;function i(e,t){var i=e-n,a=t-r,o=Math.sqrt(i*i+a*a);Rn+=o*(n+e)/2,Fn+=o*(r+t)/2,zn+=o,Un+=(o=r*e-n*t)*(n+e),qn+=o*(r+t),Bn+=3*o,Ur(n=e,r=t)}zr.point=function(a,o){zr.point=i,Ur(e=n=a,t=r=o)},zr.lineEnd=function(){i(e,t)}}function Hr(e){var t=4.5,n={point:r,lineStart:function(){n.point=i},lineEnd:o,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=o,n.point=r},pointRadius:function(e){return t=e,n},result:R};function r(n,r){e.moveTo(n+t,r),e.arc(n,r,t,0,Me)}function i(t,r){e.moveTo(t,r),n.point=a}function a(t,n){e.lineTo(t,n)}function o(){n.point=r}function s(){e.closePath()}return n}function Wr(e){var t=.5,n=Math.cos(30*Pe),r=16;function i(e){return(r?o:a)(e)}function a(t){return Kr(t,(function(n,r){n=e(n,r),t.point(n[0],n[1])}))}function o(t){var n,i,a,o,u,l,c,f,h,d,p,v,g={point:y,lineStart:m,lineEnd:_,polygonStart:function(){t.polygonStart(),g.lineStart=w},polygonEnd:function(){t.polygonEnd(),g.lineStart=m}};function y(n,r){n=e(n,r),t.point(n[0],n[1])}function m(){f=NaN,g.point=b,t.lineStart()}function b(n,i){var a=Yn([n,i]),o=e(n,i);s(f,h,c,d,p,v,f=o[0],h=o[1],c=n,d=a[0],p=a[1],v=a[2],r,t),t.point(f,h)}function _(){g.point=y,t.lineEnd()}function w(){m(),g.point=x,g.lineEnd=T}function x(e,t){b(n=e,t),i=f,a=h,o=d,u=p,l=v,g.point=b}function T(){s(f,h,c,d,p,v,i,a,n,o,u,l,r,t),g.lineEnd=_,_()}return g}function s(r,i,a,o,u,l,c,f,h,d,p,v,g,y){var m=c-r,_=f-i,w=m*m+_*_;if(w>4*t&&g--){var x=o+d,T=u+p,k=l+v,O=Math.sqrt(x*x+T*T+k*k),S=Math.asin(k/=O),A=b(b(k)-1)<Ae||b(a-h)<Ae?(a+h)/2:Math.atan2(T,x),E=e(A,S),C=E[0],M=E[1],I=C-r,D=M-i,P=_*I-m*D;(P*P/w>t||b((m*I+_*D)/w-.5)>.3||o*d+u*p+l*v<n)&&(s(r,i,a,o,u,l,C,M,A,x/=O,T/=O,k,g,y),y.point(C,M),s(C,M,A,x,T,k,c,f,h,d,p,v,g,y))}}return i.precision=function(e){return arguments.length?(r=(t=e*e)>0&&16,i):Math.sqrt(t)},i}function Yr(e){var t=Wr((function(t,n){return e([t*Ne,n*Ne])}));return function(e){return Qr(t(e))}}function Gr(e){this.stream=e}function Kr(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function Xr(e){return $r((function(){return e}))()}function $r(e){var n,r,i,a,o,s,u=Wr((function(e,t){return[(e=n(e,t))[0]*l+a,o-e[1]*l]})),l=150,c=480,f=250,h=0,d=0,p=0,v=0,g=0,y=vr,m=P,b=null,_=null;function w(e){return[(e=i(e[0]*Pe,e[1]*Pe))[0]*l+a,o-e[1]*l]}function x(e){return(e=i.invert((e[0]-a)/l,(o-e[1])/l))&&[e[0]*Ne,e[1]*Ne]}function T(){i=or(r=ei(p,v,g),n);var e=n(h,d);return a=c-e[0]*l,o=f+e[1]*l,k()}function k(){return s&&(s.valid=!1,s=null),w}return w.stream=function(e){return s&&(s.valid=!1),(s=Qr(y(r,u(m(e))))).valid=!0,s},w.clipAngle=function(e){return arguments.length?(y=null==e?(b=e,vr):_r((b=+e)*Pe),k()):b},w.clipExtent=function(e){return arguments.length?(_=e,m=e?Tr(e[0][0],e[0][1],e[1][0],e[1][1]):P,k()):_},w.scale=function(e){return arguments.length?(l=+e,T()):l},w.translate=function(e){return arguments.length?(c=+e[0],f=+e[1],T()):[c,f]},w.center=function(e){return arguments.length?(h=e[0]%360*Pe,d=e[1]%360*Pe,T()):[h*Ne,d*Ne]},w.rotate=function(e){return arguments.length?(p=e[0]%360*Pe,v=e[1]%360*Pe,g=e.length>2?e[2]%360*Pe:0,T()):[p*Ne,v*Ne,g*Ne]},t.rebind(w,u,"precision"),function(){return n=e.apply(this,arguments),w.invert=n.invert&&x,T()}}function Qr(e){return Kr(e,(function(t,n){e.point(t*Pe,n*Pe)}))}function Jr(e,t){return[e,t]}function Zr(e,t){return[e>Ce?e-Me:e<-Ce?e+Me:e,t]}function ei(e,t,n){return e?t||n?or(ni(e),ri(t,n)):ni(e):t||n?ri(t,n):Zr}function ti(e){return function(t,n){return[(t+=e)>Ce?t-Me:t<-Ce?t+Me:t,n]}}function ni(e){var t=ti(e);return t.invert=ti(-e),t}function ri(e,t){var n=Math.cos(e),r=Math.sin(e),i=Math.cos(t),a=Math.sin(t);function o(e,t){var o=Math.cos(t),s=Math.cos(e)*o,u=Math.sin(e)*o,l=Math.sin(t),c=l*n+s*r;return[Math.atan2(u*i-c*a,s*n-l*r),Fe(c*i+u*a)]}return o.invert=function(e,t){var o=Math.cos(t),s=Math.cos(e)*o,u=Math.sin(e)*o,l=Math.sin(t),c=l*i-u*a;return[Math.atan2(u*i+l*a,s*n+c*r),Fe(c*n-s*r)]},o}function ii(e,t){var n=Math.cos(e),r=Math.sin(e);return function(i,a,o,s){var u=o*t;null!=i?(i=ai(n,i),a=ai(n,a),(o>0?i<a:i>a)&&(i+=o*Me)):(i=e+o*Me,a=e-.5*u);for(var l,c=i;o>0?c>a:c<a;c-=u)s.point((l=Jn([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],l[1])}}function ai(e,t){var n=Yn(t);n[0]-=e,Qn(n);var r=Re(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Ae)%(2*Math.PI)}function oi(e,n,r){var i=t.range(e,n-Ae,r).concat(n);return function(e){return i.map((function(t){return[e,t]}))}}function si(e,n,r){var i=t.range(e,n-Ae,r).concat(n);return function(e){return i.map((function(t){return[t,e]}))}}function ui(e){return e.source}function li(e){return e.target}function ci(e,t,n,r){var i=Math.cos(t),a=Math.sin(t),o=Math.cos(r),s=Math.sin(r),u=i*Math.cos(e),l=i*Math.sin(e),c=o*Math.cos(n),f=o*Math.sin(n),h=2*Math.asin(Math.sqrt(Be(r-t)+i*o*Be(n-e))),d=1/Math.sin(h),p=h?function(e){var t=Math.sin(e*=h)*d,n=Math.sin(h-e)*d,r=n*u+t*c,i=n*l+t*f,o=n*a+t*s;return[Math.atan2(i,r)*Ne,Math.atan2(o,Math.sqrt(r*r+i*i))*Ne]}:function(){return[e*Ne,t*Ne]};return p.distance=h,p}t.geo.path=function(){var e,n,r,i,a,o=4.5;function s(e){return e&&("function"===typeof o&&i.pointRadius(+o.apply(this,arguments)),a&&a.valid||(a=r(i)),t.geo.stream(e,a)),i.result()}function u(){return a=null,s}return s.area=function(e){return Sr=0,t.geo.stream(e,r(Dr)),Sr},s.centroid=function(e){return Nn=jn=Ln=Rn=Fn=zn=Un=qn=Bn=0,t.geo.stream(e,r(zr)),Bn?[Un/Bn,qn/Bn]:zn?[Rn/zn,Fn/zn]:Ln?[Nn/Ln,jn/Ln]:[NaN,NaN]},s.bounds=function(e){return Mr=Ir=-(Er=Cr=1/0),t.geo.stream(e,r(Nr)),[[Er,Cr],[Mr,Ir]]},s.projection=function(t){return arguments.length?(r=(e=t)?t.stream||Yr(t):P,u()):e},s.context=function(e){return arguments.length?(i=null==(n=e)?new Lr:new Hr(e),"function"!==typeof o&&i.pointRadius(o),u()):n},s.pointRadius=function(e){return arguments.length?(o="function"===typeof e?e:(i.pointRadius(+e),+e),s):o},s.projection(t.geo.albersUsa()).context(null)},t.geo.transform=function(e){return{stream:function(t){var n=new Gr(t);for(var r in e)n[r]=e[r];return n}}},Gr.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},t.geo.projection=Xr,t.geo.projectionMutator=$r,(t.geo.equirectangular=function(){return Xr(Jr)}).raw=Jr.invert=Jr,t.geo.rotation=function(e){function t(t){return(t=e(t[0]*Pe,t[1]*Pe))[0]*=Ne,t[1]*=Ne,t}return e=ei(e[0]%360*Pe,e[1]*Pe,e.length>2?e[2]*Pe:0),t.invert=function(t){return(t=e.invert(t[0]*Pe,t[1]*Pe))[0]*=Ne,t[1]*=Ne,t},t},Zr.invert=Jr,t.geo.circle=function(){var e,t,n=[0,0],r=6;function i(){var e="function"===typeof n?n.apply(this,arguments):n,r=ei(-e[0]*Pe,-e[1]*Pe,0).invert,i=[];return t(null,null,1,{point:function(e,t){i.push(e=r(e,t)),e[0]*=Ne,e[1]*=Ne}}),{type:"Polygon",coordinates:[i]}}return i.origin=function(e){return arguments.length?(n=e,i):n},i.angle=function(n){return arguments.length?(t=ii((e=+n)*Pe,r*Pe),i):e},i.precision=function(n){return arguments.length?(t=ii(e*Pe,(r=+n)*Pe),i):r},i.angle(90)},t.geo.distance=function(e,t){var n,r=(t[0]-e[0])*Pe,i=e[1]*Pe,a=t[1]*Pe,o=Math.sin(r),s=Math.cos(r),u=Math.sin(i),l=Math.cos(i),c=Math.sin(a),f=Math.cos(a);return Math.atan2(Math.sqrt((n=f*o)*n+(n=l*c-u*f*s)*n),u*c+l*f*s)},t.geo.graticule=function(){var e,n,r,i,a,o,s,u,l,c,f,h,d=10,p=d,v=90,g=360,y=2.5;function m(){return{type:"MultiLineString",coordinates:_()}}function _(){return t.range(Math.ceil(i/v)*v,r,v).map(f).concat(t.range(Math.ceil(u/g)*g,s,g).map(h)).concat(t.range(Math.ceil(n/d)*d,e,d).filter((function(e){return b(e%v)>Ae})).map(l)).concat(t.range(Math.ceil(o/p)*p,a,p).filter((function(e){return b(e%g)>Ae})).map(c))}return m.lines=function(){return _().map((function(e){return{type:"LineString",coordinates:e}}))},m.outline=function(){return{type:"Polygon",coordinates:[f(i).concat(h(s).slice(1),f(r).reverse().slice(1),h(u).reverse().slice(1))]}},m.extent=function(e){return arguments.length?m.majorExtent(e).minorExtent(e):m.minorExtent()},m.majorExtent=function(e){return arguments.length?(i=+e[0][0],r=+e[1][0],u=+e[0][1],s=+e[1][1],i>r&&(e=i,i=r,r=e),u>s&&(e=u,u=s,s=e),m.precision(y)):[[i,u],[r,s]]},m.minorExtent=function(t){return arguments.length?(n=+t[0][0],e=+t[1][0],o=+t[0][1],a=+t[1][1],n>e&&(t=n,n=e,e=t),o>a&&(t=o,o=a,a=t),m.precision(y)):[[n,o],[e,a]]},m.step=function(e){return arguments.length?m.majorStep(e).minorStep(e):m.minorStep()},m.majorStep=function(e){return arguments.length?(v=+e[0],g=+e[1],m):[v,g]},m.minorStep=function(e){return arguments.length?(d=+e[0],p=+e[1],m):[d,p]},m.precision=function(t){return arguments.length?(y=+t,l=oi(o,a,90),c=si(n,e,y),f=oi(u,s,90),h=si(i,r,y),m):y},m.majorExtent([[-180,-90+Ae],[180,90-Ae]]).minorExtent([[-180,-80-Ae],[180,80+Ae]])},t.geo.greatArc=function(){var e,n,r=ui,i=li;function a(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||i.apply(this,arguments)]}}return a.distance=function(){return t.geo.distance(e||r.apply(this,arguments),n||i.apply(this,arguments))},a.source=function(t){return arguments.length?(r=t,e="function"===typeof t?null:t,a):r},a.target=function(e){return arguments.length?(i=e,n="function"===typeof e?null:e,a):i},a.precision=function(){return arguments.length?a:0},a},t.geo.interpolate=function(e,t){return ci(e[0]*Pe,e[1]*Pe,t[0]*Pe,t[1]*Pe)},t.geo.length=function(e){return Fr=0,t.geo.stream(e,fi),Fr};var fi={sphere:R,point:R,lineStart:hi,lineEnd:R,polygonStart:R,polygonEnd:R};function hi(){var e,t,n;function r(r,i){var a=Math.sin(i*=Pe),o=Math.cos(i),s=b((r*=Pe)-e),u=Math.cos(s);Fr+=Math.atan2(Math.sqrt((s=o*Math.sin(s))*s+(s=n*a-t*o*u)*s),t*a+n*o*u),e=r,t=a,n=o}fi.point=function(i,a){e=i*Pe,t=Math.sin(a*=Pe),n=Math.cos(a),fi.point=r},fi.lineEnd=function(){fi.point=fi.lineEnd=R}}function di(e,t){function n(t,n){var r=Math.cos(t),i=Math.cos(n),a=e(r*i);return[a*i*Math.sin(t),a*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),i=t(r),a=Math.sin(i),o=Math.cos(i);return[Math.atan2(e*a,r*o),Math.asin(r&&n*a/r)]},n}var pi=di((function(e){return Math.sqrt(2/(1+e))}),(function(e){return 2*Math.asin(e/2)}));(t.geo.azimuthalEqualArea=function(){return Xr(pi)}).raw=pi;var vi=di((function(e){var t=Math.acos(e);return t&&t/Math.sin(t)}),P);function gi(e,t){var n=Math.cos(e),r=function(e){return Math.tan(Ce/4+e/2)},i=e===t?Math.sin(e):Math.log(n/Math.cos(t))/Math.log(r(t)/r(e)),a=n*Math.pow(r(e),i)/i;if(!i)return bi;function o(e,t){a>0?t<-De+Ae&&(t=-De+Ae):t>De-Ae&&(t=De-Ae);var n=a/Math.pow(r(t),i);return[n*Math.sin(i*e),a-n*Math.cos(i*e)]}return o.invert=function(e,t){var n=a-t,r=je(i)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/i,2*Math.atan(Math.pow(a/r,1/i))-De]},o}function yi(e,t){var n=Math.cos(e),r=e===t?Math.sin(e):(n-Math.cos(t))/(t-e),i=n/r+e;if(b(r)<Ae)return Jr;function a(e,t){var n=i-t;return[n*Math.sin(r*e),i-n*Math.cos(r*e)]}return a.invert=function(e,t){var n=i-t;return[Math.atan2(e,n)/r,i-je(r)*Math.sqrt(e*e+n*n)]},a}(t.geo.azimuthalEquidistant=function(){return Xr(vi)}).raw=vi,(t.geo.conicConformal=function(){return kr(gi)}).raw=gi,(t.geo.conicEquidistant=function(){return kr(yi)}).raw=yi;var mi=di((function(e){return 1/e}),Math.atan);function bi(e,t){return[e,Math.log(Math.tan(Ce/4+t/2))]}function _i(e){var t,n=Xr(e),r=n.scale,i=n.translate,a=n.clipExtent;return n.scale=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var o=a.apply(n,arguments);if(o===n){if(t=null==e){var s=Ce*r(),u=i();a([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else t&&(o=null);return o},n.clipExtent(null)}(t.geo.gnomonic=function(){return Xr(mi)}).raw=mi,bi.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-De]},(t.geo.mercator=function(){return _i(bi)}).raw=bi;var wi=di((function(){return 1}),Math.asin);(t.geo.orthographic=function(){return Xr(wi)}).raw=wi;var xi=di((function(e){return 1/(1+e)}),(function(e){return 2*Math.atan(e)}));function Ti(e,t){return[Math.log(Math.tan(Ce/4+t/2)),-e]}function ki(e){return e[0]}function Oi(e){return e[1]}function Si(e){for(var t=e.length,n=[0,1],r=2,i=2;i<t;i++){for(;r>1&&Le(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Ai(e,t){return e[0]-t[0]||e[1]-t[1]}(t.geo.stereographic=function(){return Xr(xi)}).raw=xi,Ti.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-De]},(t.geo.transverseMercator=function(){var e=_i(Ti),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90])}).raw=Ti,t.geom={},t.geom.hull=function(e){var t=ki,n=Oi;if(arguments.length)return r(e);function r(e){if(e.length<3)return[];var r,i=kt(t),a=kt(n),o=e.length,s=[],u=[];for(r=0;r<o;r++)s.push([+i.call(this,e[r],r),+a.call(this,e[r],r),r]);for(s.sort(Ai),r=0;r<o;r++)u.push([s[r][0],-s[r][1]]);var l=Si(s),c=Si(u),f=c[0]===l[0],h=c[c.length-1]===l[l.length-1],d=[];for(r=l.length-1;r>=0;--r)d.push(e[s[l[r]][2]]);for(r=+f;r<c.length-h;++r)d.push(e[s[c[r]][2]]);return d}return r.x=function(e){return arguments.length?(t=e,r):t},r.y=function(e){return arguments.length?(n=e,r):n},r},t.geom.polygon=function(e){return H(e,Ei),e};var Ei=t.geom.polygon.prototype=[];function Ci(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function Mi(e,t,n,r){var i=e[0],a=n[0],o=t[0]-i,s=r[0]-a,u=e[1],l=n[1],c=t[1]-u,f=r[1]-l,h=(s*(u-l)-f*(i-a))/(f*o-s*c);return[i+h*o,u+h*c]}function Ii(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}Ei.area=function(){for(var e,t=-1,n=this.length,r=this[n-1],i=0;++t<n;)e=r,r=this[t],i+=e[1]*r[0]-e[0]*r[1];return.5*i},Ei.centroid=function(e){var t,n,r=-1,i=this.length,a=0,o=0,s=this[i-1];for(arguments.length||(e=-1/(6*this.area()));++r<i;)t=s,s=this[r],n=t[0]*s[1]-s[0]*t[1],a+=(t[0]+s[0])*n,o+=(t[1]+s[1])*n;return[a*e,o*e]},Ei.clip=function(e){for(var t,n,r,i,a,o,s=Ii(e),u=-1,l=this.length-Ii(this),c=this[l-1];++u<l;){for(t=e.slice(),e.length=0,i=this[u],a=t[(r=t.length-s)-1],n=-1;++n<r;)Ci(o=t[n],c,i)?(Ci(a,c,i)||e.push(Mi(a,o,c,i)),e.push(o)):Ci(a,c,i)&&e.push(Mi(a,o,c,i)),a=o;s&&e.push(e[0]),c=i}return e};var Di,Pi,Ni,ji,Li,Ri=[],Fi=[];function zi(){oa(this),this.edge=this.site=this.circle=null}function Ui(e){var t=Ri.pop()||new zi;return t.site=e,t}function qi(e){Qi(e),Ni.remove(e),Ri.push(e),oa(e)}function Bi(e){var t=e.circle,n=t.x,r=t.cy,i={x:n,y:r},a=e.P,o=e.N,s=[e];qi(e);for(var u=a;u.circle&&b(n-u.circle.x)<Ae&&b(r-u.circle.cy)<Ae;)a=u.P,s.unshift(u),qi(u),u=a;s.unshift(u),Qi(u);for(var l=o;l.circle&&b(n-l.circle.x)<Ae&&b(r-l.circle.cy)<Ae;)o=l.N,s.push(l),qi(l),l=o;s.push(l),Qi(l);var c,f=s.length;for(c=1;c<f;++c)l=s[c],u=s[c-1],ra(l.edge,u.site,l.site,i);u=s[0],(l=s[f-1]).edge=ta(u.site,l.site,null,i),$i(u),$i(l)}function Vi(e){for(var t,n,r,i,a=e.x,o=e.y,s=Ni._;s;)if((r=Hi(s,o)-a)>Ae)s=s.L;else{if(!((i=a-Wi(s,o))>Ae)){r>-Ae?(t=s.P,n=s):i>-Ae?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}var u=Ui(e);if(Ni.insert(t,u),t||n){if(t===n)return Qi(t),n=Ui(t.site),Ni.insert(u,n),u.edge=n.edge=ta(t.site,u.site),$i(t),void $i(n);if(n){Qi(t),Qi(n);var l=t.site,c=l.x,f=l.y,h=e.x-c,d=e.y-f,p=n.site,v=p.x-c,g=p.y-f,y=2*(h*g-d*v),m=h*h+d*d,b=v*v+g*g,_={x:(g*m-d*b)/y+c,y:(h*b-v*m)/y+f};ra(n.edge,l,p,_),u.edge=ta(l,e,null,_),n.edge=ta(e,p,null,_),$i(t),$i(n)}else u.edge=ta(t.site,u.site)}}function Hi(e,t){var n=e.site,r=n.x,i=n.y,a=i-t;if(!a)return r;var o=e.P;if(!o)return-1/0;var s=(n=o.site).x,u=n.y,l=u-t;if(!l)return s;var c=s-r,f=1/a-1/l,h=c/l;return f?(-h+Math.sqrt(h*h-2*f*(c*c/(-2*l)-u+l/2+i-a/2)))/f+r:(r+s)/2}function Wi(e,t){var n=e.N;if(n)return Hi(n,t);var r=e.site;return r.y===t?r.x:1/0}function Yi(e){this.site=e,this.edges=[]}function Gi(e){for(var t,n,r,i,a,o,s,u,l,c,f=e[0][0],h=e[1][0],d=e[0][1],p=e[1][1],v=Pi,g=v.length;g--;)if((a=v[g])&&a.prepare())for(u=(s=a.edges).length,o=0;o<u;)r=(c=s[o].end()).x,i=c.y,t=(l=s[++o%u].start()).x,n=l.y,(b(r-t)>Ae||b(i-n)>Ae)&&(s.splice(o,0,new ia(na(a.site,c,b(r-f)<Ae&&p-i>Ae?{x:f,y:b(t-f)<Ae?n:p}:b(i-p)<Ae&&h-r>Ae?{x:b(n-p)<Ae?t:h,y:p}:b(r-h)<Ae&&i-d>Ae?{x:h,y:b(t-h)<Ae?n:d}:b(i-d)<Ae&&r-f>Ae?{x:b(n-d)<Ae?t:f,y:d}:null),a.site,null)),++u)}function Ki(e,t){return t.angle-e.angle}function Xi(){oa(this),this.x=this.y=this.arc=this.site=this.cy=null}function $i(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,a=n.site;if(r!==a){var o=i.x,s=i.y,u=r.x-o,l=r.y-s,c=a.x-o,f=2*(u*(g=a.y-s)-l*c);if(!(f>=-Ee)){var h=u*u+l*l,d=c*c+g*g,p=(g*h-l*d)/f,v=(u*d-c*h)/f,g=v+s,y=Fi.pop()||new Xi;y.arc=e,y.site=i,y.x=p+o,y.y=g+Math.sqrt(p*p+v*v),y.cy=g,e.circle=y;for(var m=null,b=Li._;b;)if(y.y<b.y||y.y===b.y&&y.x<=b.x){if(!b.L){m=b.P;break}b=b.L}else{if(!b.R){m=b;break}b=b.R}Li.insert(m,y),m||(ji=y)}}}}function Qi(e){var t=e.circle;t&&(t.P||(ji=t.N),Li.remove(t),Fi.push(t),oa(t),e.circle=null)}function Ji(e){for(var t,n=Di,r=wr(e[0][0],e[0][1],e[1][0],e[1][1]),i=n.length;i--;)(!Zi(t=n[i],e)||!r(t)||b(t.a.x-t.b.x)<Ae&&b(t.a.y-t.b.y)<Ae)&&(t.a=t.b=null,n.splice(i,1))}function Zi(e,t){var n=e.b;if(n)return!0;var r,i,a=e.a,o=t[0][0],s=t[1][0],u=t[0][1],l=t[1][1],c=e.l,f=e.r,h=c.x,d=c.y,p=f.x,v=f.y,g=(h+p)/2,y=(d+v)/2;if(v===d){if(g<o||g>=s)return;if(h>p){if(a){if(a.y>=l)return}else a={x:g,y:u};n={x:g,y:l}}else{if(a){if(a.y<u)return}else a={x:g,y:l};n={x:g,y:u}}}else if(i=y-(r=(h-p)/(v-d))*g,r<-1||r>1)if(h>p){if(a){if(a.y>=l)return}else a={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else{if(a){if(a.y<u)return}else a={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else if(d<v){if(a){if(a.x>=s)return}else a={x:o,y:r*o+i};n={x:s,y:r*s+i}}else{if(a){if(a.x<o)return}else a={x:s,y:r*s+i};n={x:o,y:r*o+i}}return e.a=a,e.b=n,!0}function ea(e,t){this.l=e,this.r=t,this.a=this.b=null}function ta(e,t,n,r){var i=new ea(e,t);return Di.push(i),n&&ra(i,e,t,n),r&&ra(i,t,e,r),Pi[e.i].edges.push(new ia(i,e,t)),Pi[t.i].edges.push(new ia(i,t,e)),i}function na(e,t,n){var r=new ea(e,null);return r.a=t,r.b=n,Di.push(r),r}function ra(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function ia(e,t,n){var r=e.a,i=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function aa(){this._=null}function oa(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function sa(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ua(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function la(e){for(;e.L;)e=e.L;return e}function ca(e,t){var n,r,i,a=e.sort(fa).pop();for(Di=[],Pi=new Array(e.length),Ni=new aa,Li=new aa;;)if(i=ji,a&&(!i||a.y<i.y||a.y===i.y&&a.x<i.x))a.x===n&&a.y===r||(Pi[a.i]=new Yi(a),Vi(a),n=a.x,r=a.y),a=e.pop();else{if(!i)break;Bi(i.arc)}t&&(Ji(t),Gi(t));var o={cells:Pi,edges:Di};return Ni=Li=Di=Pi=null,o}function fa(e,t){return t.y-e.y||t.x-e.x}Yi.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)(e=t[n].edge).b&&e.a||t.splice(n,1);return t.sort(Ki),t.length},ia.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},aa.prototype={insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=la(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(sa(this,n),n=(e=n).U),n.C=!1,r.C=!0,ua(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(ua(this,n),n=(e=n).U),n.C=!1,r.C=!0,sa(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,a=e.L,o=e.R;if(n=a?o?la(o):a:o,i?i.L===e?i.L=n:i.R=n:this._=n,a&&o?(r=n.C,n.C=e.C,n.L=a,a.U=n,n!==o?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=o,o.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===i.L){if((t=i.R).C&&(t.C=!1,i.C=!0,sa(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,ua(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,sa(this,i),e=this._;break}}else if((t=i.L).C&&(t.C=!1,i.C=!0,ua(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,sa(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,ua(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}},t.geom.voronoi=function(e){var t=ki,n=Oi,r=t,i=n,a=ha;if(e)return o(e);function o(e){var t=new Array(e.length),n=a[0][0],r=a[0][1],i=a[1][0],o=a[1][1];return ca(s(e),a).cells.forEach((function(a,s){var u=a.edges,l=a.site;(t[s]=u.length?u.map((function(e){var t=e.start();return[t.x,t.y]})):l.x>=n&&l.x<=i&&l.y>=r&&l.y<=o?[[n,o],[i,o],[i,r],[n,r]]:[]).point=e[s]})),t}function s(e){return e.map((function(e,t){return{x:Math.round(r(e,t)/Ae)*Ae,y:Math.round(i(e,t)/Ae)*Ae,i:t}}))}return o.links=function(e){return ca(s(e)).edges.filter((function(e){return e.l&&e.r})).map((function(t){return{source:e[t.l.i],target:e[t.r.i]}}))},o.triangles=function(e){var t=[];return ca(s(e)).cells.forEach((function(n,r){for(var i,a=n.site,o=n.edges.sort(Ki),s=-1,u=o.length,l=o[u-1].edge,c=l.l===a?l.r:l.l;++s<u;)i=c,c=(l=o[s].edge).l===a?l.r:l.l,r<i.i&&r<c.i&&da(a,i,c)<0&&t.push([e[r],e[i.i],e[c.i]])})),t},o.x=function(e){return arguments.length?(r=kt(t=e),o):t},o.y=function(e){return arguments.length?(i=kt(n=e),o):n},o.clipExtent=function(e){return arguments.length?(a=null==e?ha:e,o):a===ha?null:a},o.size=function(e){return arguments.length?o.clipExtent(e&&[[0,0],e]):a===ha?null:a&&a[1]},o};var ha=[[-1e6,-1e6],[1e6,1e6]];function da(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function pa(e){return e.x}function va(e){return e.y}function ga(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function ya(e,t,n,r,i,a){if(!e(t,n,r,i,a)){var o=.5*(n+i),s=.5*(r+a),u=t.nodes;u[0]&&ya(e,u[0],n,r,o,s),u[1]&&ya(e,u[1],o,r,i,s),u[2]&&ya(e,u[2],n,s,o,a),u[3]&&ya(e,u[3],o,s,i,a)}}function ma(e,t,n,r,i,a,o){var s,u=1/0;return function e(l,c,f,h,d){if(!(c>a||f>o||h<r||d<i)){if(p=l.point){var p,v=t-l.x,g=n-l.y,y=v*v+g*g;if(y<u){var m=Math.sqrt(u=y);r=t-m,i=n-m,a=t+m,o=n+m,s=p}}for(var b=l.nodes,_=.5*(c+h),w=.5*(f+d),x=(n>=w)<<1|t>=_,T=x+4;x<T;++x)if(l=b[3&x])switch(3&x){case 0:e(l,c,f,_,w);break;case 1:e(l,_,f,h,w);break;case 2:e(l,c,w,_,d);break;case 3:e(l,_,w,h,d)}}}(e,r,i,a,o),s}function ba(e,n){e=t.rgb(e),n=t.rgb(n);var r=e.r,i=e.g,a=e.b,o=n.r-r,s=n.g-i,u=n.b-a;return function(e){return"#"+yt(Math.round(r+o*e))+yt(Math.round(i+s*e))+yt(Math.round(a+u*e))}}function _a(e,t){var n,r={},i={};for(n in e)n in t?r[n]=Oa(e[n],t[n]):i[n]=e[n];for(n in t)n in e||(i[n]=t[n]);return function(e){for(n in r)i[n]=r[n](e);return i}}function wa(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function xa(e,t){var n,r,i,a=Ta.lastIndex=ka.lastIndex=0,o=-1,s=[],u=[];for(e+="",t+="";(n=Ta.exec(e))&&(r=ka.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,u.push({i:o,x:wa(n,r)})),a=ka.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?u[0]?(t=u[0].x,function(e){return t(e)+""}):function(){return t}:(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})}t.geom.delaunay=function(e){return t.geom.voronoi().triangles(e)},t.geom.quadtree=function(e,t,n,r,i){var a,o=ki,s=Oi;if(a=arguments.length)return o=pa,s=va,3===a&&(i=n,r=t,n=t=0),u(e);function u(e){var u,l,c,f,h,d,p,v,g,y=kt(o),m=kt(s);if(null!=t)d=t,p=n,v=r,g=i;else if(v=g=-(d=p=1/0),l=[],c=[],h=e.length,a)for(f=0;f<h;++f)(u=e[f]).x<d&&(d=u.x),u.y<p&&(p=u.y),u.x>v&&(v=u.x),u.y>g&&(g=u.y),l.push(u.x),c.push(u.y);else for(f=0;f<h;++f){var _=+y(u=e[f],f),w=+m(u,f);_<d&&(d=_),w<p&&(p=w),_>v&&(v=_),w>g&&(g=w),l.push(_),c.push(w)}var x=v-d,T=g-p;function k(e,t,n,r,i,a,o,s){if(!isNaN(n)&&!isNaN(r))if(e.leaf){var u=e.x,l=e.y;if(null!=u)if(b(u-n)+b(l-r)<.01)O(e,t,n,r,i,a,o,s);else{var c=e.point;e.x=e.y=e.point=null,O(e,c,u,l,i,a,o,s),O(e,t,n,r,i,a,o,s)}else e.x=n,e.y=r,e.point=t}else O(e,t,n,r,i,a,o,s)}function O(e,t,n,r,i,a,o,s){var u=.5*(i+o),l=.5*(a+s),c=n>=u,f=r>=l,h=f<<1|c;e.leaf=!1,c?i=u:o=u,f?a=l:s=l,k(e=e.nodes[h]||(e.nodes[h]=ga()),t,n,r,i,a,o,s)}x>T?g=p+x:v=d+T;var S=ga();if(S.add=function(e){k(S,e,+y(e,++f),+m(e,f),d,p,v,g)},S.visit=function(e){ya(e,S,d,p,v,g)},S.find=function(e){return ma(S,e[0],e[1],d,p,v,g)},f=-1,null==t){for(;++f<h;)k(S,e[f],l[f],c[f],d,p,v,g);--f}else e.forEach(S.add);return l=c=e=u=null,S}return u.x=function(e){return arguments.length?(o=e,u):o},u.y=function(e){return arguments.length?(s=e,u):s},u.extent=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),u):null==t?null:[[t,n],[r,i]]},u.size=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=n=0,r=+e[0],i=+e[1]),u):null==t?null:[r-t,i-n]},u},t.interpolateRgb=ba,t.interpolateObject=_a,t.interpolateNumber=wa,t.interpolateString=xa;var Ta=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ka=new RegExp(Ta.source,"g");function Oa(e,n){for(var r,i=t.interpolators.length;--i>=0&&!(r=t.interpolators[i](e,n)););return r}function Sa(e,t){var n,r=[],i=[],a=e.length,o=t.length,s=Math.min(e.length,t.length);for(n=0;n<s;++n)r.push(Oa(e[n],t[n]));for(;n<a;++n)i[n]=e[n];for(;n<o;++n)i[n]=t[n];return function(e){for(n=0;n<s;++n)i[n]=r[n](e);return i}}t.interpolate=Oa,t.interpolators=[function(e,t){var n=typeof t;return("string"===n?Tt.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?ba:xa:t instanceof Xe?ba:Array.isArray(t)?Sa:"object"===n&&isNaN(t)?_a:wa)(e,t)}],t.interpolateArray=Sa;var Aa=function(){return P},Ea=t.map({linear:Aa,poly:La,quad:function(){return Pa},cubic:function(){return Na},sin:function(){return Ra},exp:function(){return Fa},circle:function(){return za},elastic:Ua,back:qa,bounce:function(){return Ba}}),Ca=t.map({in:P,out:Ia,"in-out":Da,"out-in":function(e){return Da(Ia(e))}});function Ma(e){return function(t){return t<=0?0:t>=1?1:e(t)}}function Ia(e){return function(t){return 1-e(1-t)}}function Da(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function Pa(e){return e*e}function Na(e){return e*e*e}function ja(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function La(e){return function(t){return Math.pow(t,e)}}function Ra(e){return 1-Math.cos(e*De)}function Fa(e){return Math.pow(2,10*(e-1))}function za(e){return 1-Math.sqrt(1-e*e)}function Ua(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/Me*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*Me/t)}}function qa(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Ba(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Va(e,n){e=t.hcl(e),n=t.hcl(n);var r=e.h,i=e.c,a=e.l,o=n.h-r,s=n.c-i,u=n.l-a;return isNaN(s)&&(s=0,i=isNaN(i)?n.c:i),isNaN(o)?(o=0,r=isNaN(r)?n.h:r):o>180?o-=360:o<-180&&(o+=360),function(e){return tt(r+o*e,i+s*e,a+u*e)+""}}function Ha(e,n){e=t.hsl(e),n=t.hsl(n);var r=e.h,i=e.s,a=e.l,o=n.h-r,s=n.s-i,u=n.l-a;return isNaN(s)&&(s=0,i=isNaN(i)?n.s:i),isNaN(o)?(o=0,r=isNaN(r)?n.h:r):o>180?o-=360:o<-180&&(o+=360),function(e){return Je(r+o*e,i+s*e,a+u*e)+""}}function Wa(e,n){e=t.lab(e),n=t.lab(n);var r=e.l,i=e.a,a=e.b,o=n.l-r,s=n.a-i,u=n.b-a;return function(e){return ut(r+o*e,i+s*e,a+u*e)+""}}function Ya(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function Ga(e){var t=[e.a,e.b],n=[e.c,e.d],r=Xa(t),i=Ka(t,n),a=Xa($a(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*Ne,this.translate=[e.e,e.f],this.scale=[r,a],this.skew=a?Math.atan2(i,a)*Ne:0}function Ka(e,t){return e[0]*t[0]+e[1]*t[1]}function Xa(e){var t=Math.sqrt(Ka(e,e));return t&&(e[0]/=t,e[1]/=t),t}function $a(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}t.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.slice(0,t):e,i=t>=0?e.slice(t+1):"in";return n=Ea.get(n)||Aa,Ma((i=Ca.get(i)||P)(n.apply(null,r.call(arguments,1))))},t.interpolateHcl=Va,t.interpolateHsl=Ha,t.interpolateLab=Wa,t.interpolateRound=Ya,t.transform=function(e){var n=a.createElementNS(t.ns.prefix.svg,"g");return(t.transform=function(e){if(null!=e){n.setAttribute("transform",e);var t=n.transform.baseVal.consolidate()}return new Ga(t?t.matrix:Qa)})(e)},Ga.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Qa={a:1,b:0,c:0,d:1,e:0,f:0};function Ja(e){return e.length?e.pop()+",":""}function Za(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:wa(e[0],t[0])},{i:i-2,x:wa(e[1],t[1])})}else(t[0]||t[1])&&n.push("translate("+t+")")}function eo(e,t,n,r){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),r.push({i:n.push(Ja(n)+"rotate(",null,")")-2,x:wa(e,t)})):t&&n.push(Ja(n)+"rotate("+t+")")}function to(e,t,n,r){e!==t?r.push({i:n.push(Ja(n)+"skewX(",null,")")-2,x:wa(e,t)}):t&&n.push(Ja(n)+"skewX("+t+")")}function no(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push(Ja(n)+"scale(",null,",",null,")");r.push({i:i-4,x:wa(e[0],t[0])},{i:i-2,x:wa(e[1],t[1])})}else 1===t[0]&&1===t[1]||n.push(Ja(n)+"scale("+t+")")}function ro(e,n){var r=[],i=[];return e=t.transform(e),n=t.transform(n),Za(e.translate,n.translate,r,i),eo(e.rotate,n.rotate,r,i),to(e.skew,n.skew,r,i),no(e.scale,n.scale,r,i),e=n=null,function(e){for(var t,n=-1,a=i.length;++n<a;)r[(t=i[n]).i]=t.x(e);return r.join("")}}function io(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function ao(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function oo(e){for(var t=e.source,n=e.target,r=uo(t,n),i=[t];t!==r;)t=t.parent,i.push(t);for(var a=i.length;n!==r;)i.splice(a,0,n),n=n.parent;return i}function so(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function uo(e,t){if(e===t)return e;for(var n=so(e),r=so(t),i=n.pop(),a=r.pop(),o=null;i===a;)o=i,i=n.pop(),a=r.pop();return o}function lo(e){e.fixed|=2}function co(e){e.fixed&=-7}function fo(e){e.fixed|=4,e.px=e.x,e.py=e.y}function ho(e){e.fixed&=-5}function po(e,t,n){var r=0,i=0;if(e.charge=0,!e.leaf)for(var a,o=e.nodes,s=o.length,u=-1;++u<s;)null!=(a=o[u])&&(po(a,t,n),e.charge+=a.charge,r+=a.charge*a.cx,i+=a.charge*a.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var l=t*n[e.point.index];e.charge+=e.pointCharge=l,r+=l*e.point.x,i+=l*e.point.y}e.cx=r/e.charge,e.cy=i/e.charge}t.interpolateTransform=ro,t.layout={},t.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(oo(e[n]));return t}},t.layout.chord=function(){var e,n,r,i,a,o,s,u={},l=0;function c(){var u,c,h,d,p,v={},g=[],y=t.range(i),m=[];for(e=[],n=[],u=0,d=-1;++d<i;){for(c=0,p=-1;++p<i;)c+=r[d][p];g.push(c),m.push(t.range(i)),u+=c}for(a&&y.sort((function(e,t){return a(g[e],g[t])})),o&&m.forEach((function(e,t){e.sort((function(e,n){return o(r[t][e],r[t][n])}))})),u=(Me-l*i)/u,c=0,d=-1;++d<i;){for(h=c,p=-1;++p<i;){var b=y[d],_=m[b][p],w=r[b][_],x=c,T=c+=w*u;v[b+"-"+_]={index:b,subindex:_,startAngle:x,endAngle:T,value:w}}n[b]={index:b,startAngle:h,endAngle:c,value:g[b]},c+=l}for(d=-1;++d<i;)for(p=d-1;++p<i;){var k=v[d+"-"+p],O=v[p+"-"+d];(k.value||O.value)&&e.push(k.value<O.value?{source:O,target:k}:{source:k,target:O})}s&&f()}function f(){e.sort((function(e,t){return s((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)}))}return u.matrix=function(t){return arguments.length?(i=(r=t)&&r.length,e=n=null,u):r},u.padding=function(t){return arguments.length?(l=t,e=n=null,u):l},u.sortGroups=function(t){return arguments.length?(a=t,e=n=null,u):a},u.sortSubgroups=function(t){return arguments.length?(o=t,e=null,u):o},u.sortChords=function(t){return arguments.length?(s=t,e&&f(),u):s},u.chords=function(){return e||c(),e},u.groups=function(){return n||c(),n},u},t.layout.force=function(){var e,n,r,i,a,o,s={},u=t.dispatch("start","tick","end"),l=[1,1],c=.9,f=vo,h=go,d=-30,p=yo,v=.1,g=.64,y=[],m=[];function b(e){return function(t,n,r,i){if(t.point!==e){var a=t.cx-e.x,o=t.cy-e.y,s=i-n,u=a*a+o*o;if(s*s/g<u){if(u<p){var l=t.charge/u;e.px-=a*l,e.py-=o*l}return!0}t.point&&u&&u<p&&(l=t.pointCharge/u,e.px-=a*l,e.py-=o*l)}return!t.charge}}function _(e){e.px=t.event.x,e.py=t.event.y,s.resume()}return s.tick=function(){if((r*=.99)<.005)return e=null,u.end({type:"end",alpha:r=0}),!0;var n,s,f,h,p,g,_,w,x,T=y.length,k=m.length;for(s=0;s<k;++s)h=(f=m[s]).source,(g=(w=(p=f.target).x-h.x)*w+(x=p.y-h.y)*x)&&(w*=g=r*a[s]*((g=Math.sqrt(g))-i[s])/g,x*=g,p.x-=w*(_=h.weight+p.weight?h.weight/(h.weight+p.weight):.5),p.y-=x*_,h.x+=w*(_=1-_),h.y+=x*_);if((_=r*v)&&(w=l[0]/2,x=l[1]/2,s=-1,_))for(;++s<T;)(f=y[s]).x+=(w-f.x)*_,f.y+=(x-f.y)*_;if(d)for(po(n=t.geom.quadtree(y),r,o),s=-1;++s<T;)(f=y[s]).fixed||n.visit(b(f));for(s=-1;++s<T;)(f=y[s]).fixed?(f.x=f.px,f.y=f.py):(f.x-=(f.px-(f.px=f.x))*c,f.y-=(f.py-(f.py=f.y))*c);u.tick({type:"tick",alpha:r})},s.nodes=function(e){return arguments.length?(y=e,s):y},s.links=function(e){return arguments.length?(m=e,s):m},s.size=function(e){return arguments.length?(l=e,s):l},s.linkDistance=function(e){return arguments.length?(f="function"===typeof e?e:+e,s):f},s.distance=s.linkDistance,s.linkStrength=function(e){return arguments.length?(h="function"===typeof e?e:+e,s):h},s.friction=function(e){return arguments.length?(c=+e,s):c},s.charge=function(e){return arguments.length?(d="function"===typeof e?e:+e,s):d},s.chargeDistance=function(e){return arguments.length?(p=e*e,s):Math.sqrt(p)},s.gravity=function(e){return arguments.length?(v=+e,s):v},s.theta=function(e){return arguments.length?(g=e*e,s):Math.sqrt(g)},s.alpha=function(t){return arguments.length?(t=+t,r?t>0?r=t:(e.c=null,e.t=NaN,e=null,u.end({type:"end",alpha:r=0})):t>0&&(u.start({type:"start",alpha:r=t}),e=Nt(s.tick)),s):r},s.start=function(){var e,t,n,r=y.length,u=m.length,c=l[0],p=l[1];for(e=0;e<r;++e)(n=y[e]).index=e,n.weight=0;for(e=0;e<u;++e)"number"==typeof(n=m[e]).source&&(n.source=y[n.source]),"number"==typeof n.target&&(n.target=y[n.target]),++n.source.weight,++n.target.weight;for(e=0;e<r;++e)n=y[e],isNaN(n.x)&&(n.x=v("x",c)),isNaN(n.y)&&(n.y=v("y",p)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(i=[],"function"===typeof f)for(e=0;e<u;++e)i[e]=+f.call(this,m[e],e);else for(e=0;e<u;++e)i[e]=f;if(a=[],"function"===typeof h)for(e=0;e<u;++e)a[e]=+h.call(this,m[e],e);else for(e=0;e<u;++e)a[e]=h;if(o=[],"function"===typeof d)for(e=0;e<r;++e)o[e]=+d.call(this,y[e],e);else for(e=0;e<r;++e)o[e]=d;function v(n,i){if(!t){for(t=new Array(r),l=0;l<r;++l)t[l]=[];for(l=0;l<u;++l){var a=m[l];t[a.source.index].push(a.target),t[a.target.index].push(a.source)}}for(var o,s=t[e],l=-1,c=s.length;++l<c;)if(!isNaN(o=s[l][n]))return o;return Math.random()*i}return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){if(n||(n=t.behavior.drag().origin(P).on("dragstart.force",lo).on("drag.force",_).on("dragend.force",co)),!arguments.length)return n;this.on("mouseover.force",fo).on("mouseout.force",ho).call(n)},t.rebind(s,u,"on")};var vo=20,go=1,yo=1/0;function mo(e,n){return t.rebind(e,n,"sort","children","value"),e.nodes=e,e.links=ko,e}function bo(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(i=e.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function _o(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(a=e.children)&&(i=a.length))for(var i,a,o=-1;++o<i;)n.push(a[o]);for(;null!=(e=r.pop());)t(e)}function wo(e){return e.children}function xo(e){return e.value}function To(e,t){return t.value-e.value}function ko(e){return t.merge(e.map((function(e){return(e.children||[]).map((function(t){return{source:e,target:t}}))})))}t.layout.hierarchy=function(){var e=To,t=wo,n=xo;function r(i){var a,o=[i],s=[];for(i.depth=0;null!=(a=o.pop());)if(s.push(a),(l=t.call(r,a,a.depth))&&(u=l.length)){for(var u,l,c;--u>=0;)o.push(c=l[u]),c.parent=a,c.depth=a.depth+1;n&&(a.value=0),a.children=l}else n&&(a.value=+n.call(r,a,a.depth)||0),delete a.children;return _o(i,(function(t){var r,i;e&&(r=t.children)&&r.sort(e),n&&(i=t.parent)&&(i.value+=t.value)})),s}return r.sort=function(t){return arguments.length?(e=t,r):e},r.children=function(e){return arguments.length?(t=e,r):t},r.value=function(e){return arguments.length?(n=e,r):n},r.revalue=function(e){return n&&(bo(e,(function(e){e.children&&(e.value=0)})),_o(e,(function(e){var t;e.children||(e.value=+n.call(r,e,e.depth)||0),(t=e.parent)&&(t.value+=e.value)}))),e},r},t.layout.partition=function(){var e=t.layout.hierarchy(),n=[1,1];function r(e,t,n,i){var a=e.children;if(e.x=t,e.y=e.depth*i,e.dx=n,e.dy=i,a&&(o=a.length)){var o,s,u,l=-1;for(n=e.value?n/e.value:0;++l<o;)r(s=a[l],t,u=s.value*n,i),t+=u}}function i(e){var t=e.children,n=0;if(t&&(r=t.length))for(var r,a=-1;++a<r;)n=Math.max(n,i(t[a]));return 1+n}function a(t,a){var o=e.call(this,t,a);return r(o[0],0,n[0],n[1]/i(o[0])),o}return a.size=function(e){return arguments.length?(n=e,a):n},mo(a,e)},t.layout.pie=function(){var e=Number,n=Oo,r=0,i=Me,a=0;function o(s){var u,l=s.length,c=s.map((function(t,n){return+e.call(o,t,n)})),f=+("function"===typeof r?r.apply(this,arguments):r),h=("function"===typeof i?i.apply(this,arguments):i)-f,d=Math.min(Math.abs(h)/l,+("function"===typeof a?a.apply(this,arguments):a)),p=d*(h<0?-1:1),v=t.sum(c),g=v?(h-l*p)/v:0,y=t.range(l),m=[];return null!=n&&y.sort(n===Oo?function(e,t){return c[t]-c[e]}:function(e,t){return n(s[e],s[t])}),y.forEach((function(e){m[e]={data:s[e],value:u=c[e],startAngle:f,endAngle:f+=u*g+p,padAngle:d}})),m}return o.value=function(t){return arguments.length?(e=t,o):e},o.sort=function(e){return arguments.length?(n=e,o):n},o.startAngle=function(e){return arguments.length?(r=e,o):r},o.endAngle=function(e){return arguments.length?(i=e,o):i},o.padAngle=function(e){return arguments.length?(a=e,o):a},o};var Oo={};function So(e){return e.x}function Ao(e){return e.y}function Eo(e,t,n){e.y0=t,e.y=n}t.layout.stack=function(){var e=P,n=Io,r=Do,i=Eo,a=So,o=Ao;function s(u,l){if(!(d=u.length))return u;var c=u.map((function(t,n){return e.call(s,t,n)})),f=c.map((function(e){return e.map((function(e,t){return[a.call(s,e,t),o.call(s,e,t)]}))})),h=n.call(s,f,l);c=t.permute(c,h),f=t.permute(f,h);var d,p,v,g,y=r.call(s,f,l),m=c[0].length;for(v=0;v<m;++v)for(i.call(s,c[0][v],g=y[v],f[0][v][1]),p=1;p<d;++p)i.call(s,c[p][v],g+=f[p-1][v][1],f[p][v][1]);return u}return s.values=function(t){return arguments.length?(e=t,s):e},s.order=function(e){return arguments.length?(n="function"===typeof e?e:Co.get(e)||Io,s):n},s.offset=function(e){return arguments.length?(r="function"===typeof e?e:Mo.get(e)||Do,s):r},s.x=function(e){return arguments.length?(a=e,s):a},s.y=function(e){return arguments.length?(o=e,s):o},s.out=function(e){return arguments.length?(i=e,s):i},s};var Co=t.map({"inside-out":function(e){var n,r,i=e.length,a=e.map(Po),o=e.map(No),s=t.range(i).sort((function(e,t){return a[e]-a[t]})),u=0,l=0,c=[],f=[];for(n=0;n<i;++n)r=s[n],u<l?(u+=o[r],c.push(r)):(l+=o[r],f.push(r));return f.reverse().concat(c)},reverse:function(e){return t.range(e.length).reverse()},default:Io}),Mo=t.map({silhouette:function(e){var t,n,r,i=e.length,a=e[0].length,o=[],s=0,u=[];for(n=0;n<a;++n){for(t=0,r=0;t<i;t++)r+=e[t][n][1];r>s&&(s=r),o.push(r)}for(n=0;n<a;++n)u[n]=(s-o[n])/2;return u},wiggle:function(e){var t,n,r,i,a,o,s,u,l,c=e.length,f=e[0],h=f.length,d=[];for(d[0]=u=l=0,n=1;n<h;++n){for(t=0,i=0;t<c;++t)i+=e[t][n][1];for(t=0,a=0,s=f[n][0]-f[n-1][0];t<c;++t){for(r=0,o=(e[t][n][1]-e[t][n-1][1])/(2*s);r<t;++r)o+=(e[r][n][1]-e[r][n-1][1])/s;a+=o*e[t][n][1]}d[n]=u-=i?a/i*s:0,u<l&&(l=u)}for(n=0;n<h;++n)d[n]-=l;return d},expand:function(e){var t,n,r,i=e.length,a=e[0].length,o=1/i,s=[];for(n=0;n<a;++n){for(t=0,r=0;t<i;t++)r+=e[t][n][1];if(r)for(t=0;t<i;t++)e[t][n][1]/=r;else for(t=0;t<i;t++)e[t][n][1]=o}for(n=0;n<a;++n)s[n]=0;return s},zero:Do});function Io(e){return t.range(e.length)}function Do(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function Po(e){for(var t,n=1,r=0,i=e[0][1],a=e.length;n<a;++n)(t=e[n][1])>i&&(r=n,i=t);return r}function No(e){return e.reduce(jo,0)}function jo(e,t){return e+t[1]}function Lo(e,t){return Ro(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function Ro(e,t){for(var n=-1,r=+e[0],i=(e[1]-r)/t,a=[];++n<=t;)a[n]=i*n+r;return a}function Fo(e){return[t.min(e),t.max(e)]}function zo(e,t){return e.value-t.value}function Uo(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function qo(e,t){e._pack_next=t,t._pack_prev=e}function Bo(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return.999*i*i>n*n+r*r}function Vo(e){if((t=e.children)&&(u=t.length)){var t,n,r,i,a,o,s,u,l=1/0,c=-1/0,f=1/0,h=-1/0;if(t.forEach(Ho),(n=t[0]).x=-n.r,n.y=0,b(n),u>1&&((r=t[1]).x=r.r,r.y=0,b(r),u>2))for(Go(n,r,i=t[2]),b(i),Uo(n,i),n._pack_prev=i,Uo(i,r),r=n._pack_next,a=3;a<u;a++){Go(n,r,i=t[a]);var d=0,p=1,v=1;for(o=r._pack_next;o!==r;o=o._pack_next,p++)if(Bo(o,i)){d=1;break}if(1==d)for(s=n._pack_prev;s!==o._pack_prev&&!Bo(s,i);s=s._pack_prev,v++);d?(p<v||p==v&&r.r<n.r?qo(n,r=o):qo(n=s,r),a--):(Uo(n,i),r=i,b(i))}var g=(l+c)/2,y=(f+h)/2,m=0;for(a=0;a<u;a++)(i=t[a]).x-=g,i.y-=y,m=Math.max(m,i.r+Math.sqrt(i.x*i.x+i.y*i.y));e.r=m,t.forEach(Wo)}function b(e){l=Math.min(e.x-e.r,l),c=Math.max(e.x+e.r,c),f=Math.min(e.y-e.r,f),h=Math.max(e.y+e.r,h)}}function Ho(e){e._pack_next=e._pack_prev=e}function Wo(e){delete e._pack_next,delete e._pack_prev}function Yo(e,t,n,r){var i=e.children;if(e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r,i)for(var a=-1,o=i.length;++a<o;)Yo(i[a],t,n,r)}function Go(e,t,n){var r=e.r+n.r,i=t.x-e.x,a=t.y-e.y;if(r&&(i||a)){var o=t.r+n.r,s=i*i+a*a,u=.5+((r*=r)-(o*=o))/(2*s),l=Math.sqrt(Math.max(0,2*o*(r+s)-(r-=s)*r-o*o))/(2*s);n.x=e.x+u*i+l*a,n.y=e.y+u*a-l*i}else n.x=e.x+r,n.y=e.y}function Ko(e,t){return e.parent==t.parent?1:2}function Xo(e){var t=e.children;return t.length?t[0]:e.t}function $o(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function Qo(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function Jo(e){for(var t,n=0,r=0,i=e.children,a=i.length;--a>=0;)(t=i[a]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}function Zo(e,t,n){return e.a.parent===t.parent?e.a:n}function es(e){return 1+t.max(e,(function(e){return e.y}))}function ts(e){return e.reduce((function(e,t){return e+t.x}),0)/e.length}function ns(e){var t=e.children;return t&&t.length?ns(t[0]):e}function rs(e){var t,n=e.children;return n&&(t=n.length)?rs(n[t-1]):e}function is(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function as(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],a=e.dy-t[0]-t[2];return i<0&&(n+=i/2,i=0),a<0&&(r+=a/2,a=0),{x:n,y:r,dx:i,dy:a}}function os(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function ss(e){return e.rangeExtent?e.rangeExtent():os(e.range())}function us(e,t,n,r){var i=n(e[0],e[1]),a=r(t[0],t[1]);return function(e){return a(i(e))}}function ls(e,t){var n,r=0,i=e.length-1,a=e[r],o=e[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e}function cs(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:fs}t.layout.histogram=function(){var e=!0,n=Number,r=Fo,i=Lo;function a(a,o){for(var s,u,l=[],c=a.map(n,this),f=r.call(this,c,o),h=i.call(this,f,c,o),d=(o=-1,c.length),p=h.length-1,v=e?1:1/d;++o<p;)(s=l[o]=[]).dx=h[o+1]-(s.x=h[o]),s.y=0;if(p>0)for(o=-1;++o<d;)(u=c[o])>=f[0]&&u<=f[1]&&((s=l[t.bisect(h,u,1,p)-1]).y+=v,s.push(a[o]));return l}return a.value=function(e){return arguments.length?(n=e,a):n},a.range=function(e){return arguments.length?(r=kt(e),a):r},a.bins=function(e){return arguments.length?(i="number"===typeof e?function(t){return Ro(t,e)}:kt(e),a):i},a.frequency=function(t){return arguments.length?(e=!!t,a):e},a},t.layout.pack=function(){var e,n=t.layout.hierarchy().sort(zo),r=0,i=[1,1];function a(t,a){var o=n.call(this,t,a),s=o[0],u=i[0],l=i[1],c=null==e?Math.sqrt:"function"===typeof e?e:function(){return e};if(s.x=s.y=0,_o(s,(function(e){e.r=+c(e.value)})),_o(s,Vo),r){var f=r*(e?1:Math.max(2*s.r/u,2*s.r/l))/2;_o(s,(function(e){e.r+=f})),_o(s,Vo),_o(s,(function(e){e.r-=f}))}return Yo(s,u/2,l/2,e?1:1/Math.max(2*s.r/u,2*s.r/l)),o}return a.size=function(e){return arguments.length?(i=e,a):i},a.radius=function(t){return arguments.length?(e=null==t||"function"===typeof t?t:+t,a):e},a.padding=function(e){return arguments.length?(r=+e,a):r},mo(a,n)},t.layout.tree=function(){var e=t.layout.hierarchy().sort(null).value(null),n=Ko,r=[1,1],i=null;function a(t,a){var l=e.call(this,t,a),f=l[0],h=o(f);if(_o(h,s),h.parent.m=-h.z,bo(h,u),i)bo(f,c);else{var d=f,p=f,v=f;bo(f,(function(e){e.x<d.x&&(d=e),e.x>p.x&&(p=e),e.depth>v.depth&&(v=e)}));var g=n(d,p)/2-d.x,y=r[0]/(p.x+n(p,d)/2+g),m=r[1]/(v.depth||1);bo(f,(function(e){e.x=(e.x+g)*y,e.y=e.depth*m}))}return l}function o(e){for(var t,n={A:null,children:[e]},r=[n];null!=(t=r.pop());)for(var i,a=t.children,o=0,s=a.length;o<s;++o)r.push((a[o]=i={_:a[o],parent:t,children:(i=a[o].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=i);return n.children[0]}function s(e){var t=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(t.length){Jo(e);var a=(t[0].z+t[t.length-1].z)/2;i?(e.z=i.z+n(e._,i._),e.m=e.z-a):e.z=a}else i&&(e.z=i.z+n(e._,i._));e.parent.A=l(e,i,e.parent.A||r[0])}function u(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function l(e,t,r){if(t){for(var i,a=e,o=e,s=t,u=a.parent.children[0],l=a.m,c=o.m,f=s.m,h=u.m;s=$o(s),a=Xo(a),s&&a;)u=Xo(u),(o=$o(o)).a=e,(i=s.z+f-a.z-l+n(s._,a._))>0&&(Qo(Zo(s,e,r),e,i),l+=i,c+=i),f+=s.m,l+=a.m,h+=u.m,c+=o.m;s&&!$o(o)&&(o.t=s,o.m+=f-c),a&&!Xo(u)&&(u.t=a,u.m+=l-h,r=e)}return r}function c(e){e.x*=r[0],e.y=e.depth*r[1]}return a.separation=function(e){return arguments.length?(n=e,a):n},a.size=function(e){return arguments.length?(i=null==(r=e)?c:null,a):i?null:r},a.nodeSize=function(e){return arguments.length?(i=null==(r=e)?null:c,a):i?r:null},mo(a,e)},t.layout.cluster=function(){var e=t.layout.hierarchy().sort(null).value(null),n=Ko,r=[1,1],i=!1;function a(t,a){var o,s=e.call(this,t,a),u=s[0],l=0;_o(u,(function(e){var t=e.children;t&&t.length?(e.x=ts(t),e.y=es(t)):(e.x=o?l+=n(e,o):0,e.y=0,o=e)}));var c=ns(u),f=rs(u),h=c.x-n(c,f)/2,d=f.x+n(f,c)/2;return _o(u,i?function(e){e.x=(e.x-u.x)*r[0],e.y=(u.y-e.y)*r[1]}:function(e){e.x=(e.x-h)/(d-h)*r[0],e.y=(1-(u.y?e.y/u.y:1))*r[1]}),s}return a.separation=function(e){return arguments.length?(n=e,a):n},a.size=function(e){return arguments.length?(i=null==(r=e),a):i?null:r},a.nodeSize=function(e){return arguments.length?(i=null!=(r=e),a):i?r:null},mo(a,e)},t.layout.treemap=function(){var e,n=t.layout.hierarchy(),r=Math.round,i=[1,1],a=null,o=is,s=!1,u="squarify",l=.5*(1+Math.sqrt(5));function c(e,t){for(var n,r,i=-1,a=e.length;++i<a;)r=(n=e[i]).value*(t<0?0:t),n.area=isNaN(r)||r<=0?0:r}function f(e){var t=e.children;if(t&&t.length){var n,r,i,a=o(e),s=[],l=t.slice(),h=1/0,v="slice"===u?a.dx:"dice"===u?a.dy:"slice-dice"===u?1&e.depth?a.dy:a.dx:Math.min(a.dx,a.dy);for(c(l,a.dx*a.dy/e.value),s.area=0;(i=l.length)>0;)s.push(n=l[i-1]),s.area+=n.area,"squarify"!==u||(r=d(s,v))<=h?(l.pop(),h=r):(s.area-=s.pop().area,p(s,v,a,!1),v=Math.min(a.dx,a.dy),s.length=s.area=0,h=1/0);s.length&&(p(s,v,a,!0),s.length=s.area=0),t.forEach(f)}}function h(e){var t=e.children;if(t&&t.length){var n,r=o(e),i=t.slice(),a=[];for(c(i,r.dx*r.dy/e.value),a.area=0;n=i.pop();)a.push(n),a.area+=n.area,null!=n.z&&(p(a,n.z?r.dx:r.dy,r,!i.length),a.length=a.area=0);t.forEach(h)}}function d(e,t){for(var n,r=e.area,i=0,a=1/0,o=-1,s=e.length;++o<s;)(n=e[o].area)&&(n<a&&(a=n),n>i&&(i=n));return t*=t,(r*=r)?Math.max(t*i*l/r,r/(t*a*l)):1/0}function p(e,t,n,i){var a,o=-1,s=e.length,u=n.x,l=n.y,c=t?r(e.area/t):0;if(t==n.dx){for((i||c>n.dy)&&(c=n.dy);++o<s;)(a=e[o]).x=u,a.y=l,a.dy=c,u+=a.dx=Math.min(n.x+n.dx-u,c?r(a.area/c):0);a.z=!0,a.dx+=n.x+n.dx-u,n.y+=c,n.dy-=c}else{for((i||c>n.dx)&&(c=n.dx);++o<s;)(a=e[o]).x=u,a.y=l,a.dx=c,l+=a.dy=Math.min(n.y+n.dy-l,c?r(a.area/c):0);a.z=!1,a.dy+=n.y+n.dy-l,n.x+=c,n.dx-=c}}function v(t){var r=e||n(t),a=r[0];return a.x=a.y=0,a.value?(a.dx=i[0],a.dy=i[1]):a.dx=a.dy=0,e&&n.revalue(a),c([a],a.dx*a.dy/a.value),(e?h:f)(a),s&&(e=r),r}return v.size=function(e){return arguments.length?(i=e,v):i},v.padding=function(e){if(!arguments.length)return a;function t(t){var n=e.call(v,t,t.depth);return null==n?is(t):as(t,"number"===typeof n?[n,n,n,n]:n)}function n(t){return as(t,e)}var r;return o=null==(a=e)?is:"function"===(r=typeof e)?t:"number"===r?(e=[e,e,e,e],n):n,v},v.round=function(e){return arguments.length?(r=e?Math.round:Number,v):r!=Number},v.sticky=function(t){return arguments.length?(s=t,e=null,v):s},v.ratio=function(e){return arguments.length?(l=e,v):l},v.mode=function(e){return arguments.length?(u=e+"",v):u},mo(v,n)},t.random={normal:function(e,t){var n=arguments.length;return n<2&&(t=1),n<1&&(e=0),function(){var n,r,i;do{i=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var e=t.random.normal.apply(t,arguments);return function(){return Math.exp(e())}},bates:function(e){var n=t.random.irwinHall(e);return function(){return n()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t}}},t.scale={};var fs={floor:P,ceil:P};function hs(e,n,r,i){var a=[],o=[],s=0,u=Math.min(e.length,n.length)-1;for(e[u]<e[0]&&(e=e.slice().reverse(),n=n.slice().reverse());++s<=u;)a.push(r(e[s-1],e[s])),o.push(i(n[s-1],n[s]));return function(n){var r=t.bisect(e,n,1,u)-1;return o[r](a[r](n))}}function ds(e,t,n,r){var i,a;function o(){var o=Math.min(e.length,t.length)>2?hs:us,u=r?ao:io;return i=o(e,t,u,n),a=o(t,e,u,Oa),s}function s(e){return i(e)}return s.invert=function(e){return a(e)},s.domain=function(t){return arguments.length?(e=t.map(Number),o()):e},s.range=function(e){return arguments.length?(t=e,o()):t},s.rangeRound=function(e){return s.range(e).interpolate(Ya)},s.clamp=function(e){return arguments.length?(r=e,o()):r},s.interpolate=function(e){return arguments.length?(n=e,o()):n},s.ticks=function(t){return ys(e,t)},s.tickFormat=function(t,n){return ms(e,t,n)},s.nice=function(t){return vs(e,t),o()},s.copy=function(){return ds(e,t,n,r)},o()}function ps(e,n){return t.rebind(e,n,"range","rangeRound","interpolate","clamp")}function vs(e,t){return ls(e,cs(gs(e,t)[2])),ls(e,cs(gs(e,t)[2])),e}function gs(e,t){null==t&&(t=10);var n=os(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),a=t/r*i;return a<=.15?i*=10:a<=.35?i*=5:a<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function ys(e,n){return t.range.apply(t,gs(e,n))}function ms(e,n,r){var i=gs(e,n);if(r){var a=Bt.exec(r);if(a.shift(),"s"===a[8]){var o=t.formatPrefix(Math.max(b(i[0]),b(i[1])));return a[7]||(a[7]="."+_s(o.scale(i[2]))),a[8]="f",r=t.format(a.join("")),function(e){return r(o.scale(e))+o.symbol}}a[7]||(a[7]="."+ws(a[8],i)),r=a.join("")}else r=",."+_s(i[2])+"f";return t.format(r)}t.scale.linear=function(){return ds([0,1],[0,1],Oa,!1)};var bs={s:1,g:1,p:1,r:1,e:1};function _s(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function ws(e,t){var n=_s(t[2]);return e in bs?Math.abs(n-_s(Math.max(b(t[0]),b(t[1]))))+ +("e"!==e):n-2*("%"===e)}function xs(e,n,r,i){function a(e){return(r?Math.log(e<0?0:e):-Math.log(e>0?0:-e))/Math.log(n)}function o(e){return r?Math.pow(n,e):-Math.pow(n,-e)}function s(t){return e(a(t))}return s.invert=function(t){return o(e.invert(t))},s.domain=function(t){return arguments.length?(r=t[0]>=0,e.domain((i=t.map(Number)).map(a)),s):i},s.base=function(t){return arguments.length?(n=+t,e.domain(i.map(a)),s):n},s.nice=function(){var t=ls(i.map(a),r?Math:ks);return e.domain(t),i=t.map(o),s},s.ticks=function(){var e=os(i),t=[],s=e[0],u=e[1],l=Math.floor(a(s)),c=Math.ceil(a(u)),f=n%1?2:n;if(isFinite(c-l)){if(r){for(;l<c;l++)for(var h=1;h<f;h++)t.push(o(l)*h);t.push(o(l))}else for(t.push(o(l));l++<c;)for(h=f-1;h>0;h--)t.push(o(l)*h);for(l=0;t[l]<s;l++);for(c=t.length;t[c-1]>u;c--);t=t.slice(l,c)}return t},s.tickFormat=function(e,r){if(!arguments.length)return Ts;arguments.length<2?r=Ts:"function"!==typeof r&&(r=t.format(r));var i=Math.max(1,n*e/s.ticks().length);return function(e){var t=e/o(Math.round(a(e)));return t*n<n-.5&&(t*=n),t<=i?r(e):""}},s.copy=function(){return xs(e.copy(),n,r,i)},ps(s,e)}t.scale.log=function(){return xs(t.scale.linear().domain([0,1]),10,!0,[1,10])};var Ts=t.format(".0e"),ks={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};function Os(e,t,n){var r=Ss(t),i=Ss(1/t);function a(t){return e(r(t))}return a.invert=function(t){return i(e.invert(t))},a.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(r)),a):n},a.ticks=function(e){return ys(n,e)},a.tickFormat=function(e,t){return ms(n,e,t)},a.nice=function(e){return a.domain(vs(n,e))},a.exponent=function(o){return arguments.length?(r=Ss(t=o),i=Ss(1/t),e.domain(n.map(r)),a):t},a.copy=function(){return Os(e.copy(),t,n)},ps(a,e)}function Ss(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function As(e,n){var r,i,a;function o(t){return i[((r.get(t)||("range"===n.t?r.set(t,e.push(t)):NaN))-1)%i.length]}function s(n,r){return t.range(e.length).map((function(e){return n+r*e}))}return o.domain=function(t){if(!arguments.length)return e;e=[],r=new x;for(var i,a=-1,s=t.length;++a<s;)r.has(i=t[a])||r.set(i,e.push(i));return o[n.t].apply(o,n.a)},o.range=function(e){return arguments.length?(i=e,a=0,n={t:"range",a:arguments},o):i},o.rangePoints=function(t,r){arguments.length<2&&(r=0);var u=t[0],l=t[1],c=e.length<2?(u=(u+l)/2,0):(l-u)/(e.length-1+r);return i=s(u+c*r/2,c),a=0,n={t:"rangePoints",a:arguments},o},o.rangeRoundPoints=function(t,r){arguments.length<2&&(r=0);var u=t[0],l=t[1],c=e.length<2?(u=l=Math.round((u+l)/2),0):(l-u)/(e.length-1+r)|0;return i=s(u+Math.round(c*r/2+(l-u-(e.length-1+r)*c)/2),c),a=0,n={t:"rangeRoundPoints",a:arguments},o},o.rangeBands=function(t,r,u){arguments.length<2&&(r=0),arguments.length<3&&(u=r);var l=t[1]<t[0],c=t[l-0],f=(t[1-l]-c)/(e.length-r+2*u);return i=s(c+f*u,f),l&&i.reverse(),a=f*(1-r),n={t:"rangeBands",a:arguments},o},o.rangeRoundBands=function(t,r,u){arguments.length<2&&(r=0),arguments.length<3&&(u=r);var l=t[1]<t[0],c=t[l-0],f=t[1-l],h=Math.floor((f-c)/(e.length-r+2*u));return i=s(c+Math.round((f-c-(e.length-r)*h)/2),h),l&&i.reverse(),a=Math.round(h*(1-r)),n={t:"rangeRoundBands",a:arguments},o},o.rangeBand=function(){return a},o.rangeExtent=function(){return os(n.a[0])},o.copy=function(){return As(e,n)},o.domain(e)}t.scale.pow=function(){return Os(t.scale.linear(),1,[0,1])},t.scale.sqrt=function(){return t.scale.pow().exponent(.5)},t.scale.ordinal=function(){return As([],{t:"range",a:[[]]})},t.scale.category10=function(){return t.scale.ordinal().range(Es)},t.scale.category20=function(){return t.scale.ordinal().range(Cs)},t.scale.category20b=function(){return t.scale.ordinal().range(Ms)},t.scale.category20c=function(){return t.scale.ordinal().range(Is)};var Es=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(vt),Cs=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(vt),Ms=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(vt),Is=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(vt);function Ds(e,n){var r;function i(){var i=0,o=n.length;for(r=[];++i<o;)r[i-1]=t.quantile(e,i/o);return a}function a(e){if(!isNaN(e=+e))return n[t.bisect(r,e)]}return a.domain=function(t){return arguments.length?(e=t.map(p).filter(v).sort(d),i()):e},a.range=function(e){return arguments.length?(n=e,i()):n},a.quantiles=function(){return r},a.invertExtent=function(t){return(t=n.indexOf(t))<0?[NaN,NaN]:[t>0?r[t-1]:e[0],t<r.length?r[t]:e[e.length-1]]},a.copy=function(){return Ds(e,n)},i()}function Ps(e,t,n){var r,i;function a(t){return n[Math.max(0,Math.min(i,Math.floor(r*(t-e))))]}function o(){return r=n.length/(t-e),i=n.length-1,a}return a.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],o()):[e,t]},a.range=function(e){return arguments.length?(n=e,o()):n},a.invertExtent=function(t){return[t=(t=n.indexOf(t))<0?NaN:t/r+e,t+1/r]},a.copy=function(){return Ps(e,t,n)},o()}function Ns(e,n){function r(r){if(r<=r)return n[t.bisect(e,r)]}return r.domain=function(t){return arguments.length?(e=t,r):e},r.range=function(e){return arguments.length?(n=e,r):n},r.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]},r.copy=function(){return Ns(e,n)},r}function js(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return ys(e,t)},t.tickFormat=function(t,n){return ms(e,t,n)},t.copy=function(){return js(e)},t}function Ls(){return 0}t.scale.quantile=function(){return Ds([],[])},t.scale.quantize=function(){return Ps(0,1,[0,1])},t.scale.threshold=function(){return Ns([.5],[0,1])},t.scale.identity=function(){return js([0,1])},t.svg={},t.svg.arc=function(){var e=Fs,t=zs,n=Ls,r=Rs,i=Us,a=qs,o=Bs;function s(){var s=Math.max(0,+e.apply(this,arguments)),l=Math.max(0,+t.apply(this,arguments)),c=i.apply(this,arguments)-De,f=a.apply(this,arguments)-De,h=Math.abs(f-c),d=c>f?0:1;if(l<s&&(p=l,l=s,s=p),h>=Ie)return u(l,d)+(s?u(s,1-d):"")+"Z";var p,v,g,y,m,b,_,w,x,T,k,O,S=0,A=0,E=[];if((y=(+o.apply(this,arguments)||0)/2)&&(g=r===Rs?Math.sqrt(s*s+l*l):+r.apply(this,arguments),d||(A*=-1),l&&(A=Fe(g/l*Math.sin(y))),s&&(S=Fe(g/s*Math.sin(y)))),l){m=l*Math.cos(c+A),b=l*Math.sin(c+A),_=l*Math.cos(f-A),w=l*Math.sin(f-A);var C=Math.abs(f-c-2*A)<=Ce?0:1;if(A&&Vs(m,b,_,w)===d^C){var M=(c+f)/2;m=l*Math.cos(M),b=l*Math.sin(M),_=w=null}}else m=b=0;if(s){x=s*Math.cos(f-S),T=s*Math.sin(f-S),k=s*Math.cos(c+S),O=s*Math.sin(c+S);var I=Math.abs(c-f+2*S)<=Ce?0:1;if(S&&Vs(x,T,k,O)===1-d^I){var D=(c+f)/2;x=s*Math.cos(D),T=s*Math.sin(D),k=O=null}}else x=T=0;if(h>Ae&&(p=Math.min(Math.abs(l-s)/2,+n.apply(this,arguments)))>.001){v=s<l^d?0:1;var P=p,N=p;if(h<Ce){var j=null==k?[x,T]:null==_?[m,b]:Mi([m,b],[k,O],[_,w],[x,T]),L=m-j[0],R=b-j[1],F=_-j[0],z=w-j[1],U=1/Math.sin(Math.acos((L*F+R*z)/(Math.sqrt(L*L+R*R)*Math.sqrt(F*F+z*z)))/2),q=Math.sqrt(j[0]*j[0]+j[1]*j[1]);N=Math.min(p,(s-q)/(U-1)),P=Math.min(p,(l-q)/(U+1))}if(null!=_){var B=Hs(null==k?[x,T]:[k,O],[m,b],l,P,d),V=Hs([_,w],[x,T],l,P,d);p===P?E.push("M",B[0],"A",P,",",P," 0 0,",v," ",B[1],"A",l,",",l," 0 ",1-d^Vs(B[1][0],B[1][1],V[1][0],V[1][1]),",",d," ",V[1],"A",P,",",P," 0 0,",v," ",V[0]):E.push("M",B[0],"A",P,",",P," 0 1,",v," ",V[0])}else E.push("M",m,",",b);if(null!=k){var H=Hs([m,b],[k,O],s,-N,d),W=Hs([x,T],null==_?[m,b]:[_,w],s,-N,d);p===N?E.push("L",W[0],"A",N,",",N," 0 0,",v," ",W[1],"A",s,",",s," 0 ",d^Vs(W[1][0],W[1][1],H[1][0],H[1][1]),",",1-d," ",H[1],"A",N,",",N," 0 0,",v," ",H[0]):E.push("L",W[0],"A",N,",",N," 0 0,",v," ",H[0])}else E.push("L",x,",",T)}else E.push("M",m,",",b),null!=_&&E.push("A",l,",",l," 0 ",C,",",d," ",_,",",w),E.push("L",x,",",T),null!=k&&E.push("A",s,",",s," 0 ",I,",",1-d," ",k,",",O);return E.push("Z"),E.join("")}function u(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}return s.innerRadius=function(t){return arguments.length?(e=kt(t),s):e},s.outerRadius=function(e){return arguments.length?(t=kt(e),s):t},s.cornerRadius=function(e){return arguments.length?(n=kt(e),s):n},s.padRadius=function(e){return arguments.length?(r=e==Rs?Rs:kt(e),s):r},s.startAngle=function(e){return arguments.length?(i=kt(e),s):i},s.endAngle=function(e){return arguments.length?(a=kt(e),s):a},s.padAngle=function(e){return arguments.length?(o=kt(e),s):o},s.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-De;return[Math.cos(r)*n,Math.sin(r)*n]},s};var Rs="auto";function Fs(e){return e.innerRadius}function zs(e){return e.outerRadius}function Us(e){return e.startAngle}function qs(e){return e.endAngle}function Bs(e){return e&&e.padAngle}function Vs(e,t,n,r){return(e-n)*t-(t-r)*e>0?0:1}function Hs(e,t,n,r,i){var a=e[0]-t[0],o=e[1]-t[1],s=(i?r:-r)/Math.sqrt(a*a+o*o),u=s*o,l=-s*a,c=e[0]+u,f=e[1]+l,h=t[0]+u,d=t[1]+l,p=(c+h)/2,v=(f+d)/2,g=h-c,y=d-f,m=g*g+y*y,b=n-r,_=c*d-h*f,w=(y<0?-1:1)*Math.sqrt(Math.max(0,b*b*m-_*_)),x=(_*y-g*w)/m,T=(-_*g-y*w)/m,k=(_*y+g*w)/m,O=(-_*g+y*w)/m,S=x-p,A=T-v,E=k-p,C=O-v;return S*S+A*A>E*E+C*C&&(x=k,T=O),[[x-u,T-l],[x*n/b,T*n/b]]}function Ws(e){var t=ki,n=Oi,r=sr,i=Gs,a=i.key,o=.7;function s(a){var s,u=[],l=[],c=-1,f=a.length,h=kt(t),d=kt(n);function p(){u.push("M",i(e(l),o))}for(;++c<f;)r.call(this,s=a[c],c)?l.push([+h.call(this,s,c),+d.call(this,s,c)]):l.length&&(p(),l=[]);return l.length&&p(),u.length?u.join(""):null}return s.x=function(e){return arguments.length?(t=e,s):t},s.y=function(e){return arguments.length?(n=e,s):n},s.defined=function(e){return arguments.length?(r=e,s):r},s.interpolate=function(e){return arguments.length?(a="function"===typeof e?i=e:(i=Ys.get(e)||Gs).key,s):a},s.tension=function(e){return arguments.length?(o=e,s):o},s}t.svg.line=function(){return Ws(P)};var Ys=t.map({linear:Gs,"linear-closed":Ks,step:Xs,"step-before":$s,"step-after":Qs,basis:ru,"basis-open":iu,"basis-closed":au,bundle:ou,cardinal:eu,"cardinal-open":Js,"cardinal-closed":Zs,monotone:vu});function Gs(e){return e.length>1?e.join("L"):e+"Z"}function Ks(e){return e.join("L")+"Z"}function Xs(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function $s(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function Qs(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function Js(e,t){return e.length<4?Gs(e):e[1]+tu(e.slice(1,-1),nu(e,t))}function Zs(e,t){return e.length<3?Ks(e):e[0]+tu((e.push(e[0]),e),nu([e[e.length-2]].concat(e,[e[1]]),t))}function eu(e,t){return e.length<3?Gs(e):e[0]+tu(e,nu(e,t))}function tu(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return Gs(e);var n=e.length!=t.length,r="",i=e[0],a=e[1],o=t[0],s=o,u=1;if(n&&(r+="Q"+(a[0]-2*o[0]/3)+","+(a[1]-2*o[1]/3)+","+a[0]+","+a[1],i=e[1],u=2),t.length>1){s=t[1],a=e[u],u++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var l=2;l<t.length;l++,u++)a=e[u],s=t[l],r+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}if(n){var c=e[u];r+="Q"+(a[0]+2*s[0]/3)+","+(a[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function nu(e,t){for(var n,r=[],i=(1-t)/2,a=e[0],o=e[1],s=1,u=e.length;++s<u;)n=a,a=o,o=e[s],r.push([i*(o[0]-n[0]),i*(o[1]-n[1])]);return r}function ru(e){if(e.length<3)return Gs(e);var t=1,n=e.length,r=e[0],i=r[0],a=r[1],o=[i,i,i,(r=e[1])[0]],s=[a,a,a,r[1]],u=[i,",",a,"L",su(cu,o),",",su(cu,s)];for(e.push(e[n-1]);++t<=n;)r=e[t],o.shift(),o.push(r[0]),s.shift(),s.push(r[1]),fu(u,o,s);return e.pop(),u.push("L",r),u.join("")}function iu(e){if(e.length<4)return Gs(e);for(var t,n=[],r=-1,i=e.length,a=[0],o=[0];++r<3;)t=e[r],a.push(t[0]),o.push(t[1]);for(n.push(su(cu,a)+","+su(cu,o)),--r;++r<i;)t=e[r],a.shift(),a.push(t[0]),o.shift(),o.push(t[1]),fu(n,a,o);return n.join("")}function au(e){for(var t,n,r=-1,i=e.length,a=i+4,o=[],s=[];++r<4;)n=e[r%i],o.push(n[0]),s.push(n[1]);for(t=[su(cu,o),",",su(cu,s)],--r;++r<a;)n=e[r%i],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),fu(t,o,s);return t.join("")}function ou(e,t){var n=e.length-1;if(n)for(var r,i,a=e[0][0],o=e[0][1],s=e[n][0]-a,u=e[n][1]-o,l=-1;++l<=n;)i=l/n,(r=e[l])[0]=t*r[0]+(1-t)*(a+i*s),r[1]=t*r[1]+(1-t)*(o+i*u);return ru(e)}function su(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}Ys.forEach((function(e,t){t.key=e,t.closed=/-closed$/.test(e)}));var uu=[0,2/3,1/3,0],lu=[0,1/3,2/3,0],cu=[0,1/6,2/3,1/6];function fu(e,t,n){e.push("C",su(uu,t),",",su(uu,n),",",su(lu,t),",",su(lu,n),",",su(cu,t),",",su(cu,n))}function hu(e,t){return(t[1]-e[1])/(t[0]-e[0])}function du(e){for(var t=0,n=e.length-1,r=[],i=e[0],a=e[1],o=r[0]=hu(i,a);++t<n;)r[t]=(o+(o=hu(i=a,a=e[t+1])))/2;return r[t]=o,r}function pu(e){for(var t,n,r,i,a=[],o=du(e),s=-1,u=e.length-1;++s<u;)t=hu(e[s],e[s+1]),b(t)<Ae?o[s]=o[s+1]=0:(i=(n=o[s]/t)*n+(r=o[s+1]/t)*r)>9&&(i=3*t/Math.sqrt(i),o[s]=i*n,o[s+1]=i*r);for(s=-1;++s<=u;)i=(e[Math.min(u,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),a.push([i||0,o[s]*i||0]);return a}function vu(e){return e.length<3?Gs(e):e[0]+tu(e,pu(e))}function gu(e){for(var t,n,r,i=-1,a=e.length;++i<a;)n=(t=e[i])[0],r=t[1]-De,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function yu(e){var t=ki,n=ki,r=0,i=Oi,a=sr,o=Gs,s=o.key,u=o,l="L",c=.7;function f(s){var f,h,d,p=[],v=[],g=[],y=-1,m=s.length,b=kt(t),_=kt(r),w=t===n?function(){return h}:kt(n),x=r===i?function(){return d}:kt(i);function T(){p.push("M",o(e(g),c),l,u(e(v.reverse()),c),"Z")}for(;++y<m;)a.call(this,f=s[y],y)?(v.push([h=+b.call(this,f,y),d=+_.call(this,f,y)]),g.push([+w.call(this,f,y),+x.call(this,f,y)])):v.length&&(T(),v=[],g=[]);return v.length&&T(),p.length?p.join(""):null}return f.x=function(e){return arguments.length?(t=n=e,f):n},f.x0=function(e){return arguments.length?(t=e,f):t},f.x1=function(e){return arguments.length?(n=e,f):n},f.y=function(e){return arguments.length?(r=i=e,f):i},f.y0=function(e){return arguments.length?(r=e,f):r},f.y1=function(e){return arguments.length?(i=e,f):i},f.defined=function(e){return arguments.length?(a=e,f):a},f.interpolate=function(e){return arguments.length?(s="function"===typeof e?o=e:(o=Ys.get(e)||Gs).key,u=o.reverse||o,l=o.closed?"M":"L",f):s},f.tension=function(e){return arguments.length?(c=e,f):c},f}function mu(e){return e.radius}function bu(e){return[e.x,e.y]}function _u(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]-De;return[n*Math.cos(r),n*Math.sin(r)]}}function wu(){return 64}function xu(){return"circle"}function Tu(e){var t=Math.sqrt(e/Ce);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}t.svg.line.radial=function(){var e=Ws(gu);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},$s.reverse=Qs,Qs.reverse=$s,t.svg.area=function(){return yu(P)},t.svg.area.radial=function(){var e=yu(gu);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},t.svg.chord=function(){var e=ui,t=li,n=mu,r=Us,i=qs;function a(n,r){var i=o(this,e,n,r),a=o(this,t,n,r);return"M"+i.p0+u(i.r,i.p1,i.a1-i.a0)+(s(i,a)?l(i.r,i.p1,i.r,i.p0):l(i.r,i.p1,a.r,a.p0)+u(a.r,a.p1,a.a1-a.a0)+l(a.r,a.p1,i.r,i.p0))+"Z"}function o(e,t,a,o){var s=t.call(e,a,o),u=n.call(e,s,o),l=r.call(e,s,o)-De,c=i.call(e,s,o)-De;return{r:u,a0:l,a1:c,p0:[u*Math.cos(l),u*Math.sin(l)],p1:[u*Math.cos(c),u*Math.sin(c)]}}function s(e,t){return e.a0==t.a0&&e.a1==t.a1}function u(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Ce)+",1 "+t}function l(e,t,n,r){return"Q 0,0 "+r}return a.radius=function(e){return arguments.length?(n=kt(e),a):n},a.source=function(t){return arguments.length?(e=kt(t),a):e},a.target=function(e){return arguments.length?(t=kt(e),a):t},a.startAngle=function(e){return arguments.length?(r=kt(e),a):r},a.endAngle=function(e){return arguments.length?(i=kt(e),a):i},a},t.svg.diagonal=function(){var e=ui,t=li,n=bu;function r(r,i){var a=e.call(this,r,i),o=t.call(this,r,i),s=(a.y+o.y)/2,u=[a,{x:a.x,y:s},{x:o.x,y:s},o];return"M"+(u=u.map(n))[0]+"C"+u[1]+" "+u[2]+" "+u[3]}return r.source=function(t){return arguments.length?(e=kt(t),r):e},r.target=function(e){return arguments.length?(t=kt(e),r):t},r.projection=function(e){return arguments.length?(n=e,r):n},r},t.svg.diagonal.radial=function(){var e=t.svg.diagonal(),n=bu,r=e.projection;return e.projection=function(e){return arguments.length?r(_u(n=e)):n},e},t.svg.symbol=function(){var e=xu,t=wu;function n(n,r){return(ku.get(e.call(this,n,r))||Tu)(t.call(this,n,r))}return n.type=function(t){return arguments.length?(e=kt(t),n):e},n.size=function(e){return arguments.length?(t=kt(e),n):t},n};var ku=t.map({circle:Tu,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Su)),n=t*Su;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Ou),n=t*Ou/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Ou),n=t*Ou/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});t.svg.symbolTypes=ku.keys();var Ou=Math.sqrt(3),Su=Math.tan(30*Pe);X.transition=function(e){for(var t,n,r=Mu||++Pu,i=Lu(e),a=[],o=Iu||{time:Date.now(),ease:ja,delay:0,duration:250},s=-1,u=this.length;++s<u;){a.push(t=[]);for(var l=this[s],c=-1,f=l.length;++c<f;)(n=l[c])&&Ru(n,c,i,r,o),t.push(n)}return Cu(a,i,r)},X.interrupt=function(e){return this.each(null==e?Au:Eu(Lu(e)))};var Au=Eu(Lu());function Eu(e){return function(){var t,n,r;(t=this[e])&&(r=t[n=t.active])&&(r.timer.c=null,r.timer.t=NaN,--t.count?delete t[n]:delete this[e],t.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function Cu(e,t,n){return H(e,Du),e.namespace=t,e.id=n,e}var Mu,Iu,Du=[],Pu=0;function Nu(e,t,n,r){var i=e.id,a=e.namespace;return de(e,"function"===typeof n?function(e,o,s){e[a][i].tween.set(t,r(n.call(e,e.__data__,o,s)))}:(n=r(n),function(e){e[a][i].tween.set(t,n)}))}function ju(e){return null==e&&(e=""),function(){this.textContent=e}}function Lu(e){return null==e?"__transition__":"__transition_"+e+"__"}function Ru(e,t,n,r,i){var a,o,s,u,l,c=e[n]||(e[n]={active:0,count:0}),f=c[r];function h(e){var t=f.delay;if(o.t=t+a,t<=e)return d(e-t);o.c=d}function d(n){var i=c.active,h=c[i];for(var d in h&&(h.timer.c=null,h.timer.t=NaN,--c.count,delete c[i],h.event&&h.event.interrupt.call(e,e.__data__,h.index)),c)if(+d<r){var v=c[d];v.timer.c=null,v.timer.t=NaN,--c.count,delete c[d]}o.c=p,Nt((function(){return o.c&&p(n||1)&&(o.c=null,o.t=NaN),1}),0,a),c.active=r,f.event&&f.event.start.call(e,e.__data__,t),l=[],f.tween.forEach((function(n,r){(r=r.call(e,e.__data__,t))&&l.push(r)})),u=f.ease,s=f.duration}function p(i){for(var a=i/s,o=u(a),h=l.length;h>0;)l[--h].call(e,o);if(a>=1)return f.event&&f.event.end.call(e,e.__data__,t),--c.count?delete c[r]:delete e[n],1}f||(a=i.time,o=Nt(h,0,a),f=c[r]={tween:new x,time:a,timer:o,delay:i.delay,duration:i.duration,ease:i.ease,index:t},i=null,++c.count)}Du.call=X.call,Du.empty=X.empty,Du.node=X.node,Du.size=X.size,t.transition=function(e,n){return e&&e.transition?Mu?e.transition(n):e:t.selection().transition(e)},t.transition.prototype=Du,Du.select=function(e){var t,n,r,i=this.id,a=this.namespace,o=[];e=$(e);for(var s=-1,u=this.length;++s<u;){o.push(t=[]);for(var l=this[s],c=-1,f=l.length;++c<f;)(r=l[c])&&(n=e.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),Ru(n,c,a,i,r[a][i]),t.push(n)):t.push(null)}return Cu(o,a,i)},Du.selectAll=function(e){var t,n,r,i,a,o=this.id,s=this.namespace,u=[];e=Q(e);for(var l=-1,c=this.length;++l<c;)for(var f=this[l],h=-1,d=f.length;++h<d;)if(r=f[h]){a=r[s][o],n=e.call(r,r.__data__,h,l),u.push(t=[]);for(var p=-1,v=n.length;++p<v;)(i=n[p])&&Ru(i,p,s,o,a),t.push(i)}return Cu(u,s,o)},Du.filter=function(e){var t,n,r=[];"function"!==typeof e&&(e=fe(e));for(var i=0,a=this.length;i<a;i++){r.push(t=[]);for(var o,s=0,u=(o=this[i]).length;s<u;s++)(n=o[s])&&e.call(n,n.__data__,s,i)&&t.push(n)}return Cu(r,this.namespace,this.id)},Du.tween=function(e,t){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(e):de(this,null==t?function(t){t[r][n].tween.remove(e)}:function(i){i[r][n].tween.set(e,t)})},Du.attr=function(e,n){if(arguments.length<2){for(n in e)this.attr(n,e[n]);return this}var r="transform"==e?ro:Oa,i=t.ns.qualify(e);function a(){this.removeAttribute(i)}function o(){this.removeAttributeNS(i.space,i.local)}function s(e){return null==e?a:(e+="",function(){var t,n=this.getAttribute(i);return n!==e&&(t=r(n,e),function(e){this.setAttribute(i,t(e))})})}function u(e){return null==e?o:(e+="",function(){var t,n=this.getAttributeNS(i.space,i.local);return n!==e&&(t=r(n,e),function(e){this.setAttributeNS(i.space,i.local,t(e))})})}return Nu(this,"attr."+e,n,i.local?u:s)},Du.attrTween=function(e,n){var r=t.ns.qualify(e);function i(e,t){var i=n.call(this,e,t,this.getAttribute(r));return i&&function(e){this.setAttribute(r,i(e))}}function a(e,t){var i=n.call(this,e,t,this.getAttributeNS(r.space,r.local));return i&&function(e){this.setAttributeNS(r.space,r.local,i(e))}}return this.tween("attr."+e,r.local?a:i)},Du.style=function(e,t,n){var r=arguments.length;if(r<3){if("string"!==typeof e){for(n in r<2&&(t=""),e)this.style(n,e[n],t);return this}n=""}function i(){this.style.removeProperty(e)}function a(t){return null==t?i:(t+="",function(){var r,i=s(this).getComputedStyle(this,null).getPropertyValue(e);return i!==t&&(r=Oa(i,t),function(t){this.style.setProperty(e,r(t),n)})})}return Nu(this,"style."+e,t,a)},Du.styleTween=function(e,t,n){function r(r,i){var a=t.call(this,r,i,s(this).getComputedStyle(this,null).getPropertyValue(e));return a&&function(t){this.style.setProperty(e,a(t),n)}}return arguments.length<3&&(n=""),this.tween("style."+e,r)},Du.text=function(e){return Nu(this,"text",e,ju)},Du.remove=function(){var e=this.namespace;return this.each("end.transition",(function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)}))},Du.ease=function(e){var n=this.id,r=this.namespace;return arguments.length<1?this.node()[r][n].ease:("function"!==typeof e&&(e=t.ease.apply(t,arguments)),de(this,(function(t){t[r][n].ease=e})))},Du.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:de(this,"function"===typeof e?function(r,i,a){r[n][t].delay=+e.call(r,r.__data__,i,a)}:(e=+e,function(r){r[n][t].delay=e}))},Du.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:de(this,"function"===typeof e?function(r,i,a){r[n][t].duration=Math.max(1,e.call(r,r.__data__,i,a))}:(e=Math.max(1,e),function(r){r[n][t].duration=e}))},Du.each=function(e,n){var r=this.id,i=this.namespace;if(arguments.length<2){var a=Iu,o=Mu;try{Mu=r,de(this,(function(t,n,a){Iu=t[i][r],e.call(t,t.__data__,n,a)}))}finally{Iu=a,Mu=o}}else de(this,(function(a){var o=a[i][r];(o.event||(o.event=t.dispatch("start","end","interrupt"))).on(e,n)}));return this},Du.transition=function(){for(var e,t,n,r=this.id,i=++Pu,a=this.namespace,o=[],s=0,u=this.length;s<u;s++){o.push(e=[]);for(var l,c=0,f=(l=this[s]).length;c<f;c++)(t=l[c])&&Ru(t,c,a,i,{time:(n=t[a][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),e.push(t)}return Cu(o,a,i)},t.svg.axis=function(){var e,n=t.scale.linear(),r=Fu,a=6,o=6,s=3,u=[10],l=null;function c(i){i.each((function(){var i,c=t.select(this),f=this.__chart__||n,h=this.__chart__=n.copy(),d=null==l?h.ticks?h.ticks.apply(h,u):h.domain():l,p=null==e?h.tickFormat?h.tickFormat.apply(h,u):P:e,v=c.selectAll(".tick").data(d,h),g=v.enter().insert("g",".domain").attr("class","tick").style("opacity",Ae),y=t.transition(v.exit()).style("opacity",Ae).remove(),m=t.transition(v.order()).style("opacity",1),b=Math.max(a,0)+s,_=ss(h),w=c.selectAll(".domain").data([0]),x=(w.enter().append("path").attr("class","domain"),t.transition(w));g.append("line"),g.append("text");var T,k,O,S,A=g.select("line"),E=m.select("line"),C=v.select("text").text(p),M=g.select("text"),I=m.select("text"),D="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(i=Uu,T="x",O="y",k="x2",S="y2",C.attr("dy",D<0?"0em":".71em").style("text-anchor","middle"),x.attr("d","M"+_[0]+","+D*o+"V0H"+_[1]+"V"+D*o)):(i=qu,T="y",O="x",k="y2",S="x2",C.attr("dy",".32em").style("text-anchor",D<0?"end":"start"),x.attr("d","M"+D*o+","+_[0]+"H0V"+_[1]+"H"+D*o)),A.attr(S,D*a),M.attr(O,D*b),E.attr(k,0).attr(S,D*a),I.attr(T,0).attr(O,D*b),h.rangeBand){var N=h,j=N.rangeBand()/2;f=h=function(e){return N(e)+j}}else f.rangeBand?f=h:y.call(i,h,f);g.call(i,f,h),m.call(i,h,h)}))}return c.scale=function(e){return arguments.length?(n=e,c):n},c.orient=function(e){return arguments.length?(r=e in zu?e+"":Fu,c):r},c.ticks=function(){return arguments.length?(u=i(arguments),c):u},c.tickValues=function(e){return arguments.length?(l=e,c):l},c.tickFormat=function(t){return arguments.length?(e=t,c):e},c.tickSize=function(e){var t=arguments.length;return t?(a=+e,o=+arguments[t-1],c):a},c.innerTickSize=function(e){return arguments.length?(a=+e,c):a},c.outerTickSize=function(e){return arguments.length?(o=+e,c):o},c.tickPadding=function(e){return arguments.length?(s=+e,c):s},c.tickSubdivide=function(){return arguments.length&&c},c};var Fu="bottom",zu={top:1,right:1,bottom:1,left:1};function Uu(e,t,n){e.attr("transform",(function(e){var r=t(e);return"translate("+(isFinite(r)?r:n(e))+",0)"}))}function qu(e,t,n){e.attr("transform",(function(e){var r=t(e);return"translate(0,"+(isFinite(r)?r:n(e))+")"}))}t.svg.brush=function(){var e,n,r=B(h,"brushstart","brush","brushend"),i=null,a=null,o=[0,0],u=[0,0],l=!0,c=!0,f=Vu[0];function h(e){e.each((function(){var e=t.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",g).on("touchstart.brush",g),n=e.selectAll(".background").data([0]);n.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var r=e.selectAll(".resize").data(f,P);r.exit().remove(),r.enter().append("g").attr("class",(function(e){return"resize "+e})).style("cursor",(function(e){return Bu[e]})).append("rect").attr("x",(function(e){return/[ew]$/.test(e)?-3:null})).attr("y",(function(e){return/^[ns]/.test(e)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden"),r.style("display",h.empty()?"none":null);var o,s=t.transition(e),u=t.transition(n);i&&(o=ss(i),u.attr("x",o[0]).attr("width",o[1]-o[0]),p(s)),a&&(o=ss(a),u.attr("y",o[0]).attr("height",o[1]-o[0]),v(s)),d(s)}))}function d(e){e.selectAll(".resize").attr("transform",(function(e){return"translate("+o[+/e$/.test(e)]+","+u[+/^s/.test(e)]+")"}))}function p(e){e.select(".extent").attr("x",o[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",o[1]-o[0])}function v(e){e.select(".extent").attr("y",u[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",u[1]-u[0])}function g(){var f,g,y=this,m=t.select(t.event.target),b=r.of(y,arguments),_=t.select(y),w=m.datum(),x=!/^(n|s)$/.test(w)&&i,T=!/^(e|w)$/.test(w)&&a,k=m.classed("extent"),O=Te(y),S=t.mouse(y),A=t.select(s(y)).on("keydown.brush",M).on("keyup.brush",I);if(t.event.changedTouches?A.on("touchmove.brush",D).on("touchend.brush",N):A.on("mousemove.brush",D).on("mouseup.brush",N),_.interrupt().selectAll("*").interrupt(),k)S[0]=o[0]-S[0],S[1]=u[0]-S[1];else if(w){var E=+/w$/.test(w),C=+/^n/.test(w);g=[o[1-E]-S[0],u[1-C]-S[1]],S[0]=o[E],S[1]=u[C]}else t.event.altKey&&(f=S.slice());function M(){32==t.event.keyCode&&(k||(f=null,S[0]-=o[1],S[1]-=u[1],k=2),U())}function I(){32==t.event.keyCode&&2==k&&(S[0]+=o[1],S[1]+=u[1],k=0,U())}function D(){var e=t.mouse(y),n=!1;g&&(e[0]+=g[0],e[1]+=g[1]),k||(t.event.altKey?(f||(f=[(o[0]+o[1])/2,(u[0]+u[1])/2]),S[0]=o[+(e[0]<f[0])],S[1]=u[+(e[1]<f[1])]):f=null),x&&P(e,i,0)&&(p(_),n=!0),T&&P(e,a,1)&&(v(_),n=!0),n&&(d(_),b({type:"brush",mode:k?"move":"resize"}))}function P(t,r,i){var a,s,h=ss(r),d=h[0],p=h[1],v=S[i],g=i?u:o,y=g[1]-g[0];if(k&&(d-=v,p-=y+v),a=(i?c:l)?Math.max(d,Math.min(p,t[i])):t[i],k?s=(a+=v)+y:(f&&(v=Math.max(d,Math.min(p,2*f[i]-a))),v<a?(s=a,a=v):s=v),g[0]!=a||g[1]!=s)return i?n=null:e=null,g[0]=a,g[1]=s,!0}function N(){D(),_.style("pointer-events","all").selectAll(".resize").style("display",h.empty()?"none":null),t.select("body").style("cursor",null),A.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),O(),b({type:"brushend"})}_.style("pointer-events","none").selectAll(".resize").style("display",null),t.select("body").style("cursor",m.style("cursor")),b({type:"brushstart"}),D()}return h.event=function(i){i.each((function(){var i=r.of(this,arguments),a={x:o,y:u,i:e,j:n},s=this.__chart__||a;this.__chart__=a,Mu?t.select(this).transition().each("start.brush",(function(){e=s.i,n=s.j,o=s.x,u=s.y,i({type:"brushstart"})})).tween("brush:brush",(function(){var t=Sa(o,a.x),r=Sa(u,a.y);return e=n=null,function(e){o=a.x=t(e),u=a.y=r(e),i({type:"brush",mode:"resize"})}})).each("end.brush",(function(){e=a.i,n=a.j,i({type:"brush",mode:"resize"}),i({type:"brushend"})})):(i({type:"brushstart"}),i({type:"brush",mode:"resize"}),i({type:"brushend"}))}))},h.x=function(e){return arguments.length?(f=Vu[!(i=e)<<1|!a],h):i},h.y=function(e){return arguments.length?(f=Vu[!i<<1|!(a=e)],h):a},h.clamp=function(e){return arguments.length?(i&&a?(l=!!e[0],c=!!e[1]):i?l=!!e:a&&(c=!!e),h):i&&a?[l,c]:i?l:a?c:null},h.extent=function(t){var r,s,l,c,f;return arguments.length?(i&&(r=t[0],s=t[1],a&&(r=r[0],s=s[0]),e=[r,s],i.invert&&(r=i(r),s=i(s)),s<r&&(f=r,r=s,s=f),r==o[0]&&s==o[1]||(o=[r,s])),a&&(l=t[0],c=t[1],i&&(l=l[1],c=c[1]),n=[l,c],a.invert&&(l=a(l),c=a(c)),c<l&&(f=l,l=c,c=f),l==u[0]&&c==u[1]||(u=[l,c])),h):(i&&(e?(r=e[0],s=e[1]):(r=o[0],s=o[1],i.invert&&(r=i.invert(r),s=i.invert(s)),s<r&&(f=r,r=s,s=f))),a&&(n?(l=n[0],c=n[1]):(l=u[0],c=u[1],a.invert&&(l=a.invert(l),c=a.invert(c)),c<l&&(f=l,l=c,c=f))),i&&a?[[r,l],[s,c]]:i?[r,s]:a&&[l,c])},h.clear=function(){return h.empty()||(o=[0,0],u=[0,0],e=n=null),h},h.empty=function(){return!!i&&o[0]==o[1]||!!a&&u[0]==u[1]},t.rebind(h,r,"on")};var Bu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Vu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Hu=Wt.format=xn.timeFormat,Wu=Hu.utc,Yu=Wu("%Y-%m-%dT%H:%M:%S.%LZ");function Gu(e){return e.toISOString()}function Ku(e,n,r){function i(t){return e(t)}function a(e,r){var i=(e[1]-e[0])/r,a=t.bisect($u,i);return a==$u.length?[n.year,gs(e.map((function(e){return e/31536e6})),r)[2]]:a?n[i/$u[a-1]<$u[a]/i?a-1:a]:[Zu,gs(e,r)[2]]}return i.invert=function(t){return Xu(e.invert(t))},i.domain=function(t){return arguments.length?(e.domain(t),i):e.domain().map(Xu)},i.nice=function(e,t){var n=i.domain(),r=os(n),o=null==e?a(r,10):"number"===typeof e&&a(r,e);function s(n){return!isNaN(n)&&!e.range(n,Xu(+n+1),t).length}return o&&(e=o[0],t=o[1]),i.domain(ls(n,t>1?{floor:function(t){for(;s(t=e.floor(t));)t=Xu(t-1);return t},ceil:function(t){for(;s(t=e.ceil(t));)t=Xu(+t+1);return t}}:e))},i.ticks=function(e,t){var n=os(i.domain()),r=null==e?a(n,10):"number"===typeof e?a(n,e):!e.range&&[{range:e},t];return r&&(e=r[0],t=r[1]),e.range(n[0],Xu(+n[1]+1),t<1?1:t)},i.tickFormat=function(){return r},i.copy=function(){return Ku(e.copy(),n,r)},ps(i,e)}function Xu(e){return new Date(e)}Hu.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Gu:Yu,Gu.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},Gu.toString=Yu.toString,Wt.second=Xt((function(e){return new Yt(1e3*Math.floor(e/1e3))}),(function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))}),(function(e){return e.getSeconds()})),Wt.seconds=Wt.second.range,Wt.seconds.utc=Wt.second.utc.range,Wt.minute=Xt((function(e){return new Yt(6e4*Math.floor(e/6e4))}),(function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))}),(function(e){return e.getMinutes()})),Wt.minutes=Wt.minute.range,Wt.minutes.utc=Wt.minute.utc.range,Wt.hour=Xt((function(e){var t=e.getTimezoneOffset()/60;return new Yt(36e5*(Math.floor(e/36e5-t)+t))}),(function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))}),(function(e){return e.getHours()})),Wt.hours=Wt.hour.range,Wt.hours.utc=Wt.hour.utc.range,Wt.month=Xt((function(e){return(e=Wt.day(e)).setDate(1),e}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e){return e.getMonth()})),Wt.months=Wt.month.range,Wt.months.utc=Wt.month.utc.range;var $u=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Qu=[[Wt.second,1],[Wt.second,5],[Wt.second,15],[Wt.second,30],[Wt.minute,1],[Wt.minute,5],[Wt.minute,15],[Wt.minute,30],[Wt.hour,1],[Wt.hour,3],[Wt.hour,6],[Wt.hour,12],[Wt.day,1],[Wt.day,2],[Wt.week,1],[Wt.month,1],[Wt.month,3],[Wt.year,1]],Ju=Hu.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",sr]]),Zu={range:function(e,n,r){return t.range(Math.ceil(e/r)*r,+n,r).map(Xu)},floor:P,ceil:P};Qu.year=Wt.year,Wt.scale=function(){return Ku(t.scale.linear(),Qu,Ju)};var el=Qu.map((function(e){return[e[0].utc,e[1]]})),tl=Wu.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",sr]]);function nl(e){return JSON.parse(e.responseText)}function rl(e){var t=a.createRange();return t.selectNode(a.body),t.createContextualFragment(e.responseText)}el.year=Wt.year.utc,Wt.scale.utc=function(){return Ku(t.scale.linear(),el,tl)},t.text=Ot((function(e){return e.responseText})),t.json=function(e,t){return St(e,"application/json",nl,t)},t.html=function(e,t){return St(e,"text/html",rl,t)},t.xml=Ot((function(e){return e.responseXML})),"function"===typeof e&&e.amd?(this.d3=t,e(t)):"object"===typeof n&&n.exports?n.exports=t:this.d3=t}).apply(self)},{}],12:[function(e,t,n){"use strict";var r,i="object"===typeof Reflect?Reflect:null,a=i&&"function"===typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};function o(e){console&&console.warn&&console.warn(e)}r=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!==e};function u(){u.init.call(this)}t.exports=u,t.exports.once=_,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var l=10;function c(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function f(e){return void 0===e._maxListeners?u.defaultMaxListeners:e._maxListeners}function h(e,t,n,r){var i,a,s;if(c(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),s=a[t]),void 0===s)s=a[t]=n,++e._eventsCount;else if("function"===typeof s?s=a[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=f(e))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,o(u)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=d.bind(r);return i.listener=n,r.wrapFn=i,i}function v(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?b(i):y(i,i.length)}function g(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function y(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function b(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function _(e,t){return new Promise((function(n,r){function i(){void 0!==a&&e.removeListener("error",a),n([].slice.call(arguments))}var a;"error"!==t&&(a=function(n){e.removeListener(t,i),r(n)},e.once("error",a)),e.once(t,i)}))}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!==typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),u.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},u.prototype.getMaxListeners=function(){return f(this)},u.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var u=i[e];if(void 0===u)return!1;if("function"===typeof u)a(u,this,t);else{var l=u.length,c=y(u,l);for(n=0;n<l;++n)a(c[n],this,t)}return!0},u.prototype.addListener=function(e,t){return h(this,e,t,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(e,t){return h(this,e,t,!0)},u.prototype.once=function(e,t){return c(t),this.on(e,p(this,e,t)),this},u.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,p(this,e,t)),this},u.prototype.removeListener=function(e,t){var n,r,i,a,o;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():m(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},u.prototype.listeners=function(e){return v(this,e,!0)},u.prototype.rawListeners=function(e){return v(this,e,!1)},u.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},u.prototype.listenerCount=g,u.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},{}],13:[function(t,n,r){!function(i,a){"object"===typeof r&&"undefined"!==typeof n?a(r,t("d3-time")):"function"===typeof e&&e.amd?e(["exports","d3-time"],a):a((i=i||self).d3=i.d3||{},i.d3)}(this,(function(e,t){"use strict";function n(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function r(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function i(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function a(e){var a=e.dateTime,o=e.date,u=e.time,l=e.periods,c=e.days,f=e.shortDays,h=e.months,me=e.shortMonths,be=d(l),_e=p(l),we=d(c),xe=p(c),Te=d(f),ke=p(f),Oe=d(h),Se=p(h),Ae=d(me),Ee=p(me),Ce={a:Ve,A:He,b:We,B:Ye,c:null,d:j,e:j,f:U,H:L,I:R,j:F,L:z,m:q,M:B,p:Ge,q:Ke,Q:ge,s:ye,S:V,u:H,U:W,V:Y,w:G,W:K,x:null,X:null,y:X,Y:$,Z:Q,"%":ve},Me={a:Xe,A:$e,b:Qe,B:Je,c:null,d:J,e:J,f:re,H:Z,I:ee,j:te,L:ne,m:ie,M:ae,p:Ze,q:et,Q:ge,s:ye,S:oe,u:se,U:ue,V:le,w:ce,W:fe,x:null,X:null,y:he,Y:de,Z:pe,"%":ve},Ie={a:Le,A:Re,b:Fe,B:ze,c:Ue,d:O,e:O,f:I,H:A,I:A,j:S,L:M,m:k,M:E,p:je,q:T,Q:P,s:N,S:C,u:g,U:y,V:m,w:v,W:b,x:qe,X:Be,y:w,Y:_,Z:x,"%":D};function De(e,t){return function(n){var r,i,a,o=[],u=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++u<c;)37===e.charCodeAt(u)&&(o.push(e.slice(l,u)),null!=(i=s[r=e.charAt(++u)])?r=e.charAt(++u):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),o.push(r),l=u+1);return o.push(e.slice(l,u)),o.join("")}}function Pe(e,a){return function(o){var s,u,l=i(1900,void 0,1);if(Ne(l,e,o+="",0)!=o.length)return null;if("Q"in l)return new Date(l.Q);if("s"in l)return new Date(1e3*l.s+("L"in l?l.L:0));if(a&&!("Z"in l)&&(l.Z=0),"p"in l&&(l.H=l.H%12+12*l.p),void 0===l.m&&(l.m="q"in l?l.q:0),"V"in l){if(l.V<1||l.V>53)return null;"w"in l||(l.w=1),"Z"in l?(u=(s=r(i(l.y,0,1))).getUTCDay(),s=u>4||0===u?t.utcMonday.ceil(s):t.utcMonday(s),s=t.utcDay.offset(s,7*(l.V-1)),l.y=s.getUTCFullYear(),l.m=s.getUTCMonth(),l.d=s.getUTCDate()+(l.w+6)%7):(u=(s=n(i(l.y,0,1))).getDay(),s=u>4||0===u?t.timeMonday.ceil(s):t.timeMonday(s),s=t.timeDay.offset(s,7*(l.V-1)),l.y=s.getFullYear(),l.m=s.getMonth(),l.d=s.getDate()+(l.w+6)%7)}else("W"in l||"U"in l)&&("w"in l||(l.w="u"in l?l.u%7:"W"in l?1:0),u="Z"in l?r(i(l.y,0,1)).getUTCDay():n(i(l.y,0,1)).getDay(),l.m=0,l.d="W"in l?(l.w+6)%7+7*l.W-(u+5)%7:l.w+7*l.U-(u+6)%7);return"Z"in l?(l.H+=l.Z/100|0,l.M+=l.Z%100,r(l)):n(l)}}function Ne(e,t,n,r){for(var i,a,o=0,u=t.length,l=n.length;o<u;){if(r>=l)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(a=Ie[i in s?t.charAt(o++):i])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function je(e,t,n){var r=be.exec(t.slice(n));return r?(e.p=_e[r[0].toLowerCase()],n+r[0].length):-1}function Le(e,t,n){var r=Te.exec(t.slice(n));return r?(e.w=ke[r[0].toLowerCase()],n+r[0].length):-1}function Re(e,t,n){var r=we.exec(t.slice(n));return r?(e.w=xe[r[0].toLowerCase()],n+r[0].length):-1}function Fe(e,t,n){var r=Ae.exec(t.slice(n));return r?(e.m=Ee[r[0].toLowerCase()],n+r[0].length):-1}function ze(e,t,n){var r=Oe.exec(t.slice(n));return r?(e.m=Se[r[0].toLowerCase()],n+r[0].length):-1}function Ue(e,t,n){return Ne(e,a,t,n)}function qe(e,t,n){return Ne(e,o,t,n)}function Be(e,t,n){return Ne(e,u,t,n)}function Ve(e){return f[e.getDay()]}function He(e){return c[e.getDay()]}function We(e){return me[e.getMonth()]}function Ye(e){return h[e.getMonth()]}function Ge(e){return l[+(e.getHours()>=12)]}function Ke(e){return 1+~~(e.getMonth()/3)}function Xe(e){return f[e.getUTCDay()]}function $e(e){return c[e.getUTCDay()]}function Qe(e){return me[e.getUTCMonth()]}function Je(e){return h[e.getUTCMonth()]}function Ze(e){return l[+(e.getUTCHours()>=12)]}function et(e){return 1+~~(e.getUTCMonth()/3)}return Ce.x=De(o,Ce),Ce.X=De(u,Ce),Ce.c=De(a,Ce),Me.x=De(o,Me),Me.X=De(u,Me),Me.c=De(a,Me),{format:function(e){var t=De(e+="",Ce);return t.toString=function(){return e},t},parse:function(e){var t=Pe(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=De(e+="",Me);return t.toString=function(){return e},t},utcParse:function(e){var t=Pe(e+="",!0);return t.toString=function(){return e},t}}}var o,s={"-":"",_:" ",0:"0"},u=/^\s*\d+/,l=/^%/,c=/[\\^$*+?|[\]().{}]/g;function f(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function h(e){return e.replace(c,"\\$&")}function d(e){return new RegExp("^(?:"+e.map(h).join("|")+")","i")}function p(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function v(e,t,n){var r=u.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function g(e,t,n){var r=u.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function y(e,t,n){var r=u.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function m(e,t,n){var r=u.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function b(e,t,n){var r=u.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function _(e,t,n){var r=u.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function w(e,t,n){var r=u.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function x(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function T(e,t,n){var r=u.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function k(e,t,n){var r=u.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function O(e,t,n){var r=u.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function S(e,t,n){var r=u.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function A(e,t,n){var r=u.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function E(e,t,n){var r=u.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function C(e,t,n){var r=u.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function M(e,t,n){var r=u.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function I(e,t,n){var r=u.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function D(e,t,n){var r=l.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function P(e,t,n){var r=u.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function N(e,t,n){var r=u.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function j(e,t){return f(e.getDate(),t,2)}function L(e,t){return f(e.getHours(),t,2)}function R(e,t){return f(e.getHours()%12||12,t,2)}function F(e,n){return f(1+t.timeDay.count(t.timeYear(e),e),n,3)}function z(e,t){return f(e.getMilliseconds(),t,3)}function U(e,t){return z(e,t)+"000"}function q(e,t){return f(e.getMonth()+1,t,2)}function B(e,t){return f(e.getMinutes(),t,2)}function V(e,t){return f(e.getSeconds(),t,2)}function H(e){var t=e.getDay();return 0===t?7:t}function W(e,n){return f(t.timeSunday.count(t.timeYear(e)-1,e),n,2)}function Y(e,n){var r=e.getDay();return e=r>=4||0===r?t.timeThursday(e):t.timeThursday.ceil(e),f(t.timeThursday.count(t.timeYear(e),e)+(4===t.timeYear(e).getDay()),n,2)}function G(e){return e.getDay()}function K(e,n){return f(t.timeMonday.count(t.timeYear(e)-1,e),n,2)}function X(e,t){return f(e.getFullYear()%100,t,2)}function $(e,t){return f(e.getFullYear()%1e4,t,4)}function Q(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+f(t/60|0,"0",2)+f(t%60,"0",2)}function J(e,t){return f(e.getUTCDate(),t,2)}function Z(e,t){return f(e.getUTCHours(),t,2)}function ee(e,t){return f(e.getUTCHours()%12||12,t,2)}function te(e,n){return f(1+t.utcDay.count(t.utcYear(e),e),n,3)}function ne(e,t){return f(e.getUTCMilliseconds(),t,3)}function re(e,t){return ne(e,t)+"000"}function ie(e,t){return f(e.getUTCMonth()+1,t,2)}function ae(e,t){return f(e.getUTCMinutes(),t,2)}function oe(e,t){return f(e.getUTCSeconds(),t,2)}function se(e){var t=e.getUTCDay();return 0===t?7:t}function ue(e,n){return f(t.utcSunday.count(t.utcYear(e)-1,e),n,2)}function le(e,n){var r=e.getUTCDay();return e=r>=4||0===r?t.utcThursday(e):t.utcThursday.ceil(e),f(t.utcThursday.count(t.utcYear(e),e)+(4===t.utcYear(e).getUTCDay()),n,2)}function ce(e){return e.getUTCDay()}function fe(e,n){return f(t.utcMonday.count(t.utcYear(e)-1,e),n,2)}function he(e,t){return f(e.getUTCFullYear()%100,t,2)}function de(e,t){return f(e.getUTCFullYear()%1e4,t,4)}function pe(){return"+0000"}function ve(){return"%"}function ge(e){return+e}function ye(e){return Math.floor(+e/1e3)}function me(t){return o=a(t),e.timeFormat=o.format,e.timeParse=o.parse,e.utcFormat=o.utcFormat,e.utcParse=o.utcParse,o}me({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var be="%Y-%m-%dT%H:%M:%S.%LZ";function _e(e){return e.toISOString()}var we=Date.prototype.toISOString?_e:e.utcFormat(be);function xe(e){var t=new Date(e);return isNaN(t)?null:t}var Te=+new Date("2000-01-01T00:00:00.000Z")?xe:e.utcParse(be);e.isoFormat=we,e.isoParse=Te,e.timeFormatDefaultLocale=me,e.timeFormatLocale=a,Object.defineProperty(e,"__esModule",{value:!0})}))},{"d3-time":14}],14:[function(t,n,r){!function(t,i){"object"===typeof r&&"undefined"!==typeof n?i(r):"function"===typeof e&&e.amd?e(["exports"],i):i((t=t||self).d3=t.d3||{})}(this,(function(e){"use strict";var t=new Date,n=new Date;function r(e,i,a,o){function s(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return s.floor=function(t){return e(t=new Date(+t)),t},s.ceil=function(t){return e(t=new Date(t-1)),i(t,1),e(t),t},s.round=function(e){var t=s(e),n=s.ceil(e);return e-t<n-e?t:n},s.offset=function(e,t){return i(e=new Date(+e),null==t?1:Math.floor(t)),e},s.range=function(t,n,r){var a,o=[];if(t=s.ceil(t),r=null==r?1:Math.floor(r),!(t<n)||!(r>0))return o;do{o.push(a=new Date(+t)),i(t,r),e(t)}while(a<t&&t<n);return o},s.filter=function(t){return r((function(n){if(n>=n)for(;e(n),!t(n);)n.setTime(n-1)}),(function(e,n){if(e>=e)if(n<0)for(;++n<=0;)for(;i(e,-1),!t(e););else for(;--n>=0;)for(;i(e,1),!t(e););}))},a&&(s.count=function(r,i){return t.setTime(+r),n.setTime(+i),e(t),e(n),Math.floor(a(t,n))},s.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?s.filter(o?function(t){return o(t)%e===0}:function(t){return s.count(0,t)%e===0}):s:null}),s}var i=r((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?r((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):i:null};var a=i.range,o=1e3,s=6e4,u=36e5,l=864e5,c=6048e5,f=r((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*o)}),(function(e,t){return(t-e)/o}),(function(e){return e.getUTCSeconds()})),h=f.range,d=r((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*o)}),(function(e,t){e.setTime(+e+t*s)}),(function(e,t){return(t-e)/s}),(function(e){return e.getMinutes()})),p=d.range,v=r((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*o-e.getMinutes()*s)}),(function(e,t){e.setTime(+e+t*u)}),(function(e,t){return(t-e)/u}),(function(e){return e.getHours()})),g=v.range,y=r((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*s)/l}),(function(e){return e.getDate()-1})),m=y.range;function b(e){return r((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*s)/c}))}var _=b(0),w=b(1),x=b(2),T=b(3),k=b(4),O=b(5),S=b(6),A=_.range,E=w.range,C=x.range,M=T.range,I=k.range,D=O.range,P=S.range,N=r((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()})),j=N.range,L=r((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));L.every=function(e){return isFinite(e=Math.floor(e))&&e>0?r((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var R=L.range,F=r((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*s)}),(function(e,t){return(t-e)/s}),(function(e){return e.getUTCMinutes()})),z=F.range,U=r((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*u)}),(function(e,t){return(t-e)/u}),(function(e){return e.getUTCHours()})),q=U.range,B=r((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/l}),(function(e){return e.getUTCDate()-1})),V=B.range;function H(e){return r((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/c}))}var W=H(0),Y=H(1),G=H(2),K=H(3),X=H(4),$=H(5),Q=H(6),J=W.range,Z=Y.range,ee=G.range,te=K.range,ne=X.range,re=$.range,ie=Q.range,ae=r((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()})),oe=ae.range,se=r((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));se.every=function(e){return isFinite(e=Math.floor(e))&&e>0?r((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var ue=se.range;e.timeDay=y,e.timeDays=m,e.timeFriday=O,e.timeFridays=D,e.timeHour=v,e.timeHours=g,e.timeInterval=r,e.timeMillisecond=i,e.timeMilliseconds=a,e.timeMinute=d,e.timeMinutes=p,e.timeMonday=w,e.timeMondays=E,e.timeMonth=N,e.timeMonths=j,e.timeSaturday=S,e.timeSaturdays=P,e.timeSecond=f,e.timeSeconds=h,e.timeSunday=_,e.timeSundays=A,e.timeThursday=k,e.timeThursdays=I,e.timeTuesday=x,e.timeTuesdays=C,e.timeWednesday=T,e.timeWednesdays=M,e.timeWeek=_,e.timeWeeks=A,e.timeYear=L,e.timeYears=R,e.utcDay=B,e.utcDays=V,e.utcFriday=$,e.utcFridays=re,e.utcHour=U,e.utcHours=q,e.utcMillisecond=i,e.utcMilliseconds=a,e.utcMinute=F,e.utcMinutes=z,e.utcMonday=Y,e.utcMondays=Z,e.utcMonth=ae,e.utcMonths=oe,e.utcSaturday=Q,e.utcSaturdays=ie,e.utcSecond=f,e.utcSeconds=h,e.utcSunday=W,e.utcSundays=J,e.utcThursday=X,e.utcThursdays=ne,e.utcTuesday=G,e.utcTuesdays=ee,e.utcWednesday=K,e.utcWednesdays=te,e.utcWeek=W,e.utcWeeks=J,e.utcYear=se,e.utcYears=ue,Object.defineProperty(e,"__esModule",{value:!0})}))},{}],15:[function(e,t,n){"use strict";var r=e("is-string-blank");t.exports=function(e){var t=typeof e;if("string"===t){var n=e;if(0===(e=+e)&&r(n))return!1}else if("number"!==t)return!1;return e-e<1}},{"is-string-blank":50}],16:[function(e,t,n){function r(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=t[9],h=t[10],d=t[11],p=t[12],v=t[13],g=t[14],y=t[15];return e[0]=s*(h*y-d*g)-f*(u*y-l*g)+v*(u*d-l*h),e[1]=-(r*(h*y-d*g)-f*(i*y-a*g)+v*(i*d-a*h)),e[2]=r*(u*y-l*g)-s*(i*y-a*g)+v*(i*l-a*u),e[3]=-(r*(u*d-l*h)-s*(i*d-a*h)+f*(i*l-a*u)),e[4]=-(o*(h*y-d*g)-c*(u*y-l*g)+p*(u*d-l*h)),e[5]=n*(h*y-d*g)-c*(i*y-a*g)+p*(i*d-a*h),e[6]=-(n*(u*y-l*g)-o*(i*y-a*g)+p*(i*l-a*u)),e[7]=n*(u*d-l*h)-o*(i*d-a*h)+c*(i*l-a*u),e[8]=o*(f*y-d*v)-c*(s*y-l*v)+p*(s*d-l*f),e[9]=-(n*(f*y-d*v)-c*(r*y-a*v)+p*(r*d-a*f)),e[10]=n*(s*y-l*v)-o*(r*y-a*v)+p*(r*l-a*s),e[11]=-(n*(s*d-l*f)-o*(r*d-a*f)+c*(r*l-a*s)),e[12]=-(o*(f*g-h*v)-c*(s*g-u*v)+p*(s*h-u*f)),e[13]=n*(f*g-h*v)-c*(r*g-i*v)+p*(r*h-i*f),e[14]=-(n*(s*g-u*v)-o*(r*g-i*v)+p*(r*u-i*s)),e[15]=n*(s*h-u*f)-o*(r*h-i*f)+c*(r*u-i*s),e}t.exports=r},{}],17:[function(e,t,n){function r(e){var t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}t.exports=r},{}],18:[function(e,t,n){function r(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}t.exports=r},{}],19:[function(e,t,n){function r(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}t.exports=r},{}],20:[function(e,t,n){function r(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=e[9],f=e[10],h=e[11],d=e[12],p=e[13],v=e[14],g=e[15];return(t*o-n*a)*(f*g-h*v)-(t*s-r*a)*(c*g-h*p)+(t*u-i*a)*(c*v-f*p)+(n*s-r*o)*(l*g-h*d)-(n*u-i*o)*(l*v-f*d)+(r*u-i*s)*(l*p-c*d)}t.exports=r},{}],21:[function(e,t,n){function r(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n+n,s=r+r,u=i+i,l=n*o,c=r*o,f=r*s,h=i*o,d=i*s,p=i*u,v=a*o,g=a*s,y=a*u;return e[0]=1-f-p,e[1]=c+y,e[2]=h-g,e[3]=0,e[4]=c-y,e[5]=1-l-p,e[6]=d+v,e[7]=0,e[8]=h+g,e[9]=d-v,e[10]=1-l-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}t.exports=r},{}],22:[function(e,t,n){function r(e,t,n){var r,i,a,o=n[0],s=n[1],u=n[2],l=Math.sqrt(o*o+s*s+u*u);return Math.abs(l)<1e-6?null:(o*=l=1/l,s*=l,u*=l,r=Math.sin(t),a=1-(i=Math.cos(t)),e[0]=o*o*a+i,e[1]=s*o*a+u*r,e[2]=u*o*a-s*r,e[3]=0,e[4]=o*s*a-u*r,e[5]=s*s*a+i,e[6]=u*s*a+o*r,e[7]=0,e[8]=o*u*a+s*r,e[9]=s*u*a-o*r,e[10]=u*u*a+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}t.exports=r},{}],23:[function(e,t,n){function r(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=r+r,u=i+i,l=a+a,c=r*s,f=r*u,h=r*l,d=i*u,p=i*l,v=a*l,g=o*s,y=o*u,m=o*l;return e[0]=1-(d+v),e[1]=f+m,e[2]=h-y,e[3]=0,e[4]=f-m,e[5]=1-(c+v),e[6]=p+g,e[7]=0,e[8]=h+y,e[9]=p-g,e[10]=1-(c+d),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}t.exports=r},{}],24:[function(e,t,n){function r(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}t.exports=r},{}],25:[function(e,t,n){function r(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}t.exports=r},{}],26:[function(e,t,n){function r(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}t.exports=r},{}],27:[function(e,t,n){function r(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}t.exports=r},{}],28:[function(e,t,n){function r(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}t.exports=r},{}],29:[function(e,t,n){function r(e,t,n,r,i,a,o){var s=1/(n-t),u=1/(i-r),l=1/(a-o);return e[0]=2*a*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*a*u,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(i+r)*u,e[10]=(o+a)*l,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*a*2*l,e[15]=0,e}t.exports=r},{}],30:[function(e,t,n){function r(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}t.exports=r},{}],31:[function(e,t,n){t.exports={create:e("./create"),clone:e("./clone"),copy:e("./copy"),identity:e("./identity"),transpose:e("./transpose"),invert:e("./invert"),adjoint:e("./adjoint"),determinant:e("./determinant"),multiply:e("./multiply"),translate:e("./translate"),scale:e("./scale"),rotate:e("./rotate"),rotateX:e("./rotateX"),rotateY:e("./rotateY"),rotateZ:e("./rotateZ"),fromRotation:e("./fromRotation"),fromRotationTranslation:e("./fromRotationTranslation"),fromScaling:e("./fromScaling"),fromTranslation:e("./fromTranslation"),fromXRotation:e("./fromXRotation"),fromYRotation:e("./fromYRotation"),fromZRotation:e("./fromZRotation"),fromQuat:e("./fromQuat"),frustum:e("./frustum"),perspective:e("./perspective"),perspectiveFromFieldOfView:e("./perspectiveFromFieldOfView"),ortho:e("./ortho"),lookAt:e("./lookAt"),str:e("./str")}},{"./adjoint":16,"./clone":17,"./copy":18,"./create":19,"./determinant":20,"./fromQuat":21,"./fromRotation":22,"./fromRotationTranslation":23,"./fromScaling":24,"./fromTranslation":25,"./fromXRotation":26,"./fromYRotation":27,"./fromZRotation":28,"./frustum":29,"./identity":30,"./invert":32,"./lookAt":33,"./multiply":34,"./ortho":35,"./perspective":36,"./perspectiveFromFieldOfView":37,"./rotate":38,"./rotateX":39,"./rotateY":40,"./rotateZ":41,"./scale":42,"./str":43,"./translate":44,"./transpose":45}],32:[function(e,t,n){function r(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=t[9],h=t[10],d=t[11],p=t[12],v=t[13],g=t[14],y=t[15],m=n*s-r*o,b=n*u-i*o,_=n*l-a*o,w=r*u-i*s,x=r*l-a*s,T=i*l-a*u,k=c*v-f*p,O=c*g-h*p,S=c*y-d*p,A=f*g-h*v,E=f*y-d*v,C=h*y-d*g,M=m*C-b*E+_*A+w*S-x*O+T*k;return M?(M=1/M,e[0]=(s*C-u*E+l*A)*M,e[1]=(i*E-r*C-a*A)*M,e[2]=(v*T-g*x+y*w)*M,e[3]=(h*x-f*T-d*w)*M,e[4]=(u*S-o*C-l*O)*M,e[5]=(n*C-i*S+a*O)*M,e[6]=(g*_-p*T-y*b)*M,e[7]=(c*T-h*_+d*b)*M,e[8]=(o*E-s*S+l*k)*M,e[9]=(r*S-n*E-a*k)*M,e[10]=(p*x-v*_+y*m)*M,e[11]=(f*_-c*x-d*m)*M,e[12]=(s*O-o*A-u*k)*M,e[13]=(n*A-r*O+i*k)*M,e[14]=(v*b-p*w-g*m)*M,e[15]=(c*w-f*b+h*m)*M,e):null}t.exports=r},{}],33:[function(e,t,n){var r=e("./identity");function i(e,t,n,i){var a,o,s,u,l,c,f,h,d,p,v=t[0],g=t[1],y=t[2],m=i[0],b=i[1],_=i[2],w=n[0],x=n[1],T=n[2];return Math.abs(v-w)<1e-6&&Math.abs(g-x)<1e-6&&Math.abs(y-T)<1e-6?r(e):(f=v-w,h=g-x,d=y-T,a=b*(d*=p=1/Math.sqrt(f*f+h*h+d*d))-_*(h*=p),o=_*(f*=p)-m*d,s=m*h-b*f,(p=Math.sqrt(a*a+o*o+s*s))?(a*=p=1/p,o*=p,s*=p):(a=0,o=0,s=0),u=h*s-d*o,l=d*a-f*s,c=f*o-h*a,(p=Math.sqrt(u*u+l*l+c*c))?(u*=p=1/p,l*=p,c*=p):(u=0,l=0,c=0),e[0]=a,e[1]=u,e[2]=f,e[3]=0,e[4]=o,e[5]=l,e[6]=h,e[7]=0,e[8]=s,e[9]=c,e[10]=d,e[11]=0,e[12]=-(a*v+o*g+s*y),e[13]=-(u*v+l*g+c*y),e[14]=-(f*v+h*g+d*y),e[15]=1,e)}t.exports=i},{"./identity":30}],34:[function(e,t,n){function r(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],h=t[9],d=t[10],p=t[11],v=t[12],g=t[13],y=t[14],m=t[15],b=n[0],_=n[1],w=n[2],x=n[3];return e[0]=b*r+_*s+w*f+x*v,e[1]=b*i+_*u+w*h+x*g,e[2]=b*a+_*l+w*d+x*y,e[3]=b*o+_*c+w*p+x*m,b=n[4],_=n[5],w=n[6],x=n[7],e[4]=b*r+_*s+w*f+x*v,e[5]=b*i+_*u+w*h+x*g,e[6]=b*a+_*l+w*d+x*y,e[7]=b*o+_*c+w*p+x*m,b=n[8],_=n[9],w=n[10],x=n[11],e[8]=b*r+_*s+w*f+x*v,e[9]=b*i+_*u+w*h+x*g,e[10]=b*a+_*l+w*d+x*y,e[11]=b*o+_*c+w*p+x*m,b=n[12],_=n[13],w=n[14],x=n[15],e[12]=b*r+_*s+w*f+x*v,e[13]=b*i+_*u+w*h+x*g,e[14]=b*a+_*l+w*d+x*y,e[15]=b*o+_*c+w*p+x*m,e}t.exports=r},{}],35:[function(e,t,n){function r(e,t,n,r,i,a,o){var s=1/(t-n),u=1/(r-i),l=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*u,e[14]=(o+a)*l,e[15]=1,e}t.exports=r},{}],36:[function(e,t,n){function r(e,t,n,r,i){var a=1/Math.tan(t/2),o=1/(r-i);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(i+r)*o,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*i*r*o,e[15]=0,e}t.exports=r},{}],37:[function(e,t,n){function r(e,t,n,r){var i=Math.tan(t.upDegrees*Math.PI/180),a=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),u=2/(o+s),l=2/(i+a);return e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=l,e[6]=0,e[7]=0,e[8]=-(o-s)*u*.5,e[9]=(i-a)*l*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}t.exports=r},{}],38:[function(e,t,n){function r(e,t,n,r){var i,a,o,s,u,l,c,f,h,d,p,v,g,y,m,b,_,w,x,T,k,O,S,A,E=r[0],C=r[1],M=r[2],I=Math.sqrt(E*E+C*C+M*M);return Math.abs(I)<1e-6?null:(E*=I=1/I,C*=I,M*=I,i=Math.sin(n),o=1-(a=Math.cos(n)),s=t[0],u=t[1],l=t[2],c=t[3],f=t[4],h=t[5],d=t[6],p=t[7],v=t[8],g=t[9],y=t[10],m=t[11],b=E*E*o+a,_=C*E*o+M*i,w=M*E*o-C*i,x=E*C*o-M*i,T=C*C*o+a,k=M*C*o+E*i,O=E*M*o+C*i,S=C*M*o-E*i,A=M*M*o+a,e[0]=s*b+f*_+v*w,e[1]=u*b+h*_+g*w,e[2]=l*b+d*_+y*w,e[3]=c*b+p*_+m*w,e[4]=s*x+f*T+v*k,e[5]=u*x+h*T+g*k,e[6]=l*x+d*T+y*k,e[7]=c*x+p*T+m*k,e[8]=s*O+f*S+v*A,e[9]=u*O+h*S+g*A,e[10]=l*O+d*S+y*A,e[11]=c*O+p*S+m*A,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}t.exports=r},{}],39:[function(e,t,n){function r(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[4],o=t[5],s=t[6],u=t[7],l=t[8],c=t[9],f=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+l*r,e[5]=o*i+c*r,e[6]=s*i+f*r,e[7]=u*i+h*r,e[8]=l*i-a*r,e[9]=c*i-o*r,e[10]=f*i-s*r,e[11]=h*i-u*r,e}t.exports=r},{}],40:[function(e,t,n){function r(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],u=t[3],l=t[8],c=t[9],f=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i-l*r,e[1]=o*i-c*r,e[2]=s*i-f*r,e[3]=u*i-h*r,e[8]=a*r+l*i,e[9]=o*r+c*i,e[10]=s*r+f*i,e[11]=u*r+h*i,e}t.exports=r},{}],41:[function(e,t,n){function r(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],u=t[3],l=t[4],c=t[5],f=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+l*r,e[1]=o*i+c*r,e[2]=s*i+f*r,e[3]=u*i+h*r,e[4]=l*i-a*r,e[5]=c*i-o*r,e[6]=f*i-s*r,e[7]=h*i-u*r,e}t.exports=r},{}],42:[function(e,t,n){function r(e,t,n){var r=n[0],i=n[1],a=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}t.exports=r},{}],43:[function(e,t,n){function r(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}t.exports=r},{}],44:[function(e,t,n){function r(e,t,n){var r,i,a,o,s,u,l,c,f,h,d,p,v=n[0],g=n[1],y=n[2];return t===e?(e[12]=t[0]*v+t[4]*g+t[8]*y+t[12],e[13]=t[1]*v+t[5]*g+t[9]*y+t[13],e[14]=t[2]*v+t[6]*g+t[10]*y+t[14],e[15]=t[3]*v+t[7]*g+t[11]*y+t[15]):(r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],h=t[9],d=t[10],p=t[11],e[0]=r,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=u,e[6]=l,e[7]=c,e[8]=f,e[9]=h,e[10]=d,e[11]=p,e[12]=r*v+s*g+f*y+t[12],e[13]=i*v+u*g+h*y+t[13],e[14]=a*v+l*g+d*y+t[14],e[15]=o*v+c*g+p*y+t[15]),e}t.exports=r},{}],45:[function(e,t,n){function r(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],a=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=a,e[11]=t[14],e[12]=i,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}t.exports=r},{}],46:[function(e,n,r){(function(t){(function(){"use strict";var r,i=e("is-browser");r="function"===typeof t.matchMedia?!t.matchMedia("(hover: none)").matches:i,n.exports=r}).call(this)}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"is-browser":48}],47:[function(e,t,n){"use strict";var r=e("is-browser");function i(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(n){e=!1}return e}t.exports=r&&i()},{"is-browser":48}],48:[function(e,t,n){t.exports=!0},{}],49:[function(e,t,n){"use strict";t.exports=a,t.exports.isMobile=a,t.exports.default=a;var r=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,i=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;function a(e){e||(e={});var t=e.ua;if(t||"undefined"===typeof navigator||(t=navigator.userAgent),t&&t.headers&&"string"===typeof t.headers["user-agent"]&&(t=t.headers["user-agent"]),"string"!==typeof t)return!1;var n=e.tablet?i.test(t):r.test(t);return!n&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==t.indexOf("Macintosh")&&-1!==t.indexOf("Safari")&&(n=!0),n}},{}],50:[function(e,t,n){"use strict";t.exports=function(e){for(var t,n=e.length,r=0;r<n;r++)if(((t=e.charCodeAt(r))<9||t>13)&&32!==t&&133!==t&&160!==t&&5760!==t&&6158!==t&&(t<8192||t>8205)&&8232!==t&&8233!==t&&8239!==t&&8287!==t&&8288!==t&&12288!==t&&65279!==t)return!1;return!0}},{}],51:[function(e,t,n){var r={left:0,top:0};function i(e,t,n){t=t||e.currentTarget||e.srcElement,Array.isArray(n)||(n=[0,0]);var r=e.clientX||0,i=e.clientY||0,o=a(t);return n[0]=r-o.left,n[1]=i-o.top,n}function a(e){return e===window||e===document||e===document.body?r:e.getBoundingClientRect()}t.exports=i},{}],52:[function(n,r,i){(function(t,n){(function(){var i,a,o;o=function(){"use strict";var e,t,r,i=Object.prototype.toString,a="undefined"!=typeof n?function(e){return n(e)}:setTimeout;try{Object.defineProperty({},"x",{}),e=function(e,t,n,r){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!1!==r})}}catch(y){e=function(e,t,n){return e[t]=n,e}}function o(e,n){r.add(e,n),t||(t=a(r.drain))}function s(e){var t,n=typeof e;return null==e||"object"!=n&&"function"!=n||(t=e.then),"function"==typeof t&&t}function u(){for(var e=0;e<this.chain.length;e++)l(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function l(e,t,n){var r,i;try{!1===t?n.reject(e.msg):(r=!0===t?e.msg:t.call(void 0,e.msg))===n.promise?n.reject(TypeError("Promise-chain cycle")):(i=s(r))?i.call(r,n.resolve,n.reject):n.resolve(r)}catch(y){n.reject(y)}}function c(e){var t,n=this;if(!n.triggered){n.triggered=!0,n.def&&(n=n.def);try{(t=s(e))?o((function(){var r=new d(n);try{t.call(e,(function(){c.apply(r,arguments)}),(function(){f.apply(r,arguments)}))}catch(y){f.call(r,y)}})):(n.msg=e,n.state=1,n.chain.length>0&&o(u,n))}catch(y){f.call(new d(n),y)}}}function f(e){var t=this;t.triggered||(t.triggered=!0,t.def&&(t=t.def),t.msg=e,t.state=2,t.chain.length>0&&o(u,t))}function h(e,t,n,r){for(var i=0;i<t.length;i++)!function(i){e.resolve(t[i]).then((function(e){n(i,e)}),r)}(i)}function d(e){this.def=e,this.triggered=!1}function p(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function v(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var t=new p(this);this.then=function(e,n){var r={success:"function"!=typeof e||e,failure:"function"==typeof n&&n};return r.promise=new this.constructor((function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");r.resolve=e,r.reject=t})),t.chain.push(r),0!==t.state&&o(u,t),r.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,(function(e){c.call(t,e)}),(function(e){f.call(t,e)}))}catch(y){f.call(t,y)}}r=function(){var e,n,r;function i(e,t){this.fn=e,this.self=t,this.next=void 0}return{add:function(t,a){r=new i(t,a),n?n.next=r:e=r,n=r,r=void 0},drain:function(){var r=e;for(e=n=t=void 0;r;)r.fn.call(r.self),r=r.next}}}();var g=e({},"constructor",v,!1);return v.prototype=g,e(g,"__NPO__",0,!1),e(v,"resolve",(function(e){var t=this;return e&&"object"==typeof e&&1===e.__NPO__?e:new t((function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");t(e)}))})),e(v,"reject",(function(e){return new this((function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");n(e)}))})),e(v,"all",(function(e){var t=this;return"[object Array]"!=i.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t((function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");var i=e.length,a=Array(i),o=0;h(t,e,(function(e,t){a[e]=t,++o===i&&n(a)}),r)}))})),e(v,"race",(function(e){var t=this;return"[object Array]"!=i.call(e)?t.reject(TypeError("Not an array")):new t((function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");h(t,e,(function(e,t){n(t)}),r)}))})),v},(a="undefined"!=typeof t?t:this)[i="Promise"]=a[i]||o(),"undefined"!=typeof r&&r.exports?r.exports=a[i]:"function"==typeof e&&e.amd&&e((function(){return a[i]}))}).call(this)}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{},n("timers").setImmediate)},{timers:64}],53:[function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function s(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}t.exports=s()?Object.assign:function(e,t){for(var n,s,u=o(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))i.call(n,c)&&(u[c]=n[c]);if(r){s=r(n);for(var f=0;f<s.length;f++)a.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},{}],54:[function(e,t,n){t.exports=a;var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},i=/([astvzqmhlc])([^astvzqmhlc]*)/gi;function a(e){var t=[];return e.replace(i,(function(e,n,i){var a=n.toLowerCase();for(i=s(i),"m"==a&&i.length>2&&(t.push([n].concat(i.splice(0,2))),a="l",n="m"==n?"l":"L");;){if(i.length==r[a])return i.unshift(n),t.push(i);if(i.length<r[a])throw new Error("malformed path data");t.push([n].concat(i.splice(0,r[a])))}})),t}var o=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;function s(e){var t=e.match(o);return t?t.map(Number):[]}},{}],55:[function(e,t,n){var r,i=e("./lib/build-log"),a=e("./lib/epsilon"),o=e("./lib/intersecter"),s=e("./lib/segment-chainer"),u=e("./lib/segment-selector"),l=e("./lib/geojson"),c=!1,f=a();function h(e,t,n){var i=r.segments(e),a=r.segments(t),o=n(r.combine(i,a));return r.polygon(o)}r={buildLog:function(e){return!0===e?c=i():!1===e&&(c=!1),!1!==c&&c.list},epsilon:function(e){return f.epsilon(e)},segments:function(e){var t=o(!0,f,c);return e.regions.forEach(t.addRegion),{segments:t.calculate(e.inverted),inverted:e.inverted}},combine:function(e,t){return{combined:o(!1,f,c).calculate(e.segments,e.inverted,t.segments,t.inverted),inverted1:e.inverted,inverted2:t.inverted}},selectUnion:function(e){return{segments:u.union(e.combined,c),inverted:e.inverted1||e.inverted2}},selectIntersect:function(e){return{segments:u.intersect(e.combined,c),inverted:e.inverted1&&e.inverted2}},selectDifference:function(e){return{segments:u.difference(e.combined,c),inverted:e.inverted1&&!e.inverted2}},selectDifferenceRev:function(e){return{segments:u.differenceRev(e.combined,c),inverted:!e.inverted1&&e.inverted2}},selectXor:function(e){return{segments:u.xor(e.combined,c),inverted:e.inverted1!==e.inverted2}},polygon:function(e){return{regions:s(e.segments,f,c),inverted:e.inverted}},polygonFromGeoJSON:function(e){return l.toPolygon(r,e)},polygonToGeoJSON:function(e){return l.fromPolygon(r,f,e)},union:function(e,t){return h(e,t,r.selectUnion)},intersect:function(e,t){return h(e,t,r.selectIntersect)},difference:function(e,t){return h(e,t,r.selectDifference)},differenceRev:function(e,t){return h(e,t,r.selectDifferenceRev)},xor:function(e,t){return h(e,t,r.selectXor)}},"object"===typeof window&&(window.PolyBool=r),t.exports=r},{"./lib/build-log":56,"./lib/epsilon":57,"./lib/geojson":58,"./lib/intersecter":59,"./lib/segment-chainer":61,"./lib/segment-selector":62}],56:[function(e,t,n){function r(){var e,t=0,n=!1;function r(t,n){return e.list.push({type:t,data:n?JSON.parse(JSON.stringify(n)):void 0}),e}return e={list:[],segmentId:function(){return t++},checkIntersection:function(e,t){return r("check",{seg1:e,seg2:t})},segmentChop:function(e,t){return r("div_seg",{seg:e,pt:t}),r("chop",{seg:e,pt:t})},statusRemove:function(e){return r("pop_seg",{seg:e})},segmentUpdate:function(e){return r("seg_update",{seg:e})},segmentNew:function(e,t){return r("new_seg",{seg:e,primary:t})},segmentRemove:function(e){return r("rem_seg",{seg:e})},tempStatus:function(e,t,n){return r("temp_status",{seg:e,above:t,below:n})},rewind:function(e){return r("rewind",{seg:e})},status:function(e,t,n){return r("status",{seg:e,above:t,below:n})},vert:function(t){return t===n?e:(n=t,r("vert",{x:t}))},log:function(e){return"string"!==typeof e&&(e=JSON.stringify(e,!1,"  ")),r("log",{txt:e})},reset:function(){return r("reset")},selected:function(e){return r("selected",{segs:e})},chainStart:function(e){return r("chain_start",{seg:e})},chainRemoveHead:function(e,t){return r("chain_rem_head",{index:e,pt:t})},chainRemoveTail:function(e,t){return r("chain_rem_tail",{index:e,pt:t})},chainNew:function(e,t){return r("chain_new",{pt1:e,pt2:t})},chainMatch:function(e){return r("chain_match",{index:e})},chainClose:function(e){return r("chain_close",{index:e})},chainAddHead:function(e,t){return r("chain_add_head",{index:e,pt:t})},chainAddTail:function(e,t){return r("chain_add_tail",{index:e,pt:t})},chainConnect:function(e,t){return r("chain_con",{index1:e,index2:t})},chainReverse:function(e){return r("chain_rev",{index:e})},chainJoin:function(e,t){return r("chain_join",{index1:e,index2:t})},done:function(){return r("done")}}}t.exports=r},{}],57:[function(e,t,n){function r(e){"number"!==typeof e&&(e=1e-10);var t={epsilon:function(t){return"number"===typeof t&&(e=t),e},pointAboveOrOnLine:function(t,n,r){var i=n[0],a=n[1],o=r[0],s=r[1],u=t[0];return(o-i)*(t[1]-a)-(s-a)*(u-i)>=-e},pointBetween:function(t,n,r){var i=t[1]-n[1],a=r[0]-n[0],o=t[0]-n[0],s=r[1]-n[1],u=o*a+i*s;return!(u<e)&&!(u-(a*a+s*s)>-e)},pointsSameX:function(t,n){return Math.abs(t[0]-n[0])<e},pointsSameY:function(t,n){return Math.abs(t[1]-n[1])<e},pointsSame:function(e,n){return t.pointsSameX(e,n)&&t.pointsSameY(e,n)},pointsCompare:function(e,n){return t.pointsSameX(e,n)?t.pointsSameY(e,n)?0:e[1]<n[1]?-1:1:e[0]<n[0]?-1:1},pointsCollinear:function(t,n,r){var i=t[0]-n[0],a=t[1]-n[1],o=n[0]-r[0],s=n[1]-r[1];return Math.abs(i*s-o*a)<e},linesIntersect:function(t,n,r,i){var a=n[0]-t[0],o=n[1]-t[1],s=i[0]-r[0],u=i[1]-r[1],l=a*u-o*s;if(Math.abs(l)<e)return!1;var c=t[0]-r[0],f=t[1]-r[1],h=(s*f-u*c)/l,d=(a*f-o*c)/l,p={alongA:0,alongB:0,pt:[t[0]+h*a,t[1]+h*o]};return p.alongA=h<=-e?-2:h<e?-1:h-1<=-e?0:h-1<e?1:2,p.alongB=d<=-e?-2:d<e?-1:d-1<=-e?0:d-1<e?1:2,p},pointInsideRegion:function(t,n){for(var r=t[0],i=t[1],a=n[n.length-1][0],o=n[n.length-1][1],s=!1,u=0;u<n.length;u++){var l=n[u][0],c=n[u][1];c-i>e!=o-i>e&&(a-l)*(i-c)/(o-c)+l-r>e&&(s=!s),a=l,o=c}return s}};return t}t.exports=r},{}],58:[function(e,t,n){var r={toPolygon:function(e,t){function n(t){if(t.length<=0)return e.segments({inverted:!1,regions:[]});function n(t){var n=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[n]})}for(var r=n(t[0]),i=1;i<t.length;i++)r=e.selectDifference(e.combine(r,n(t[i])));return r}if("Polygon"===t.type)return e.polygon(n(t.coordinates));if("MultiPolygon"===t.type){for(var r=e.segments({inverted:!1,regions:[]}),i=0;i<t.coordinates.length;i++)r=e.selectUnion(e.combine(r,n(t.coordinates[i])));return e.polygon(r)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,t,n){function r(e,n){return t.pointInsideRegion([.5*(e[0][0]+e[1][0]),.5*(e[0][1]+e[1][1])],n)}function i(e){return{region:e,children:[]}}n=e.polygon(e.segments(n));var a=i(null);function o(e,t){for(var n=0;n<e.children.length;n++)if(r(t,(s=e.children[n]).region))return void o(s,t);var a=i(t);for(n=0;n<e.children.length;n++){var s;r((s=e.children[n]).region,t)&&(a.children.push(s),e.children.splice(n,1),n--)}e.children.push(a)}for(var s=0;s<n.regions.length;s++){var u=n.regions[s];u.length<3||o(a,u)}function l(e,t){for(var n=0,r=e[e.length-1][0],i=e[e.length-1][1],a=[],o=0;o<e.length;o++){var s=e[o][0],u=e[o][1];a.push([s,u]),n+=u*r-s*i,r=s,i=u}return n<0!==t&&a.reverse(),a.push([a[0][0],a[0][1]]),a}var c=[];function f(e){var t=[l(e.region,!1)];c.push(t);for(var n=0;n<e.children.length;n++)t.push(h(e.children[n]))}function h(e){for(var t=0;t<e.children.length;t++)f(e.children[t]);return l(e.region,!0)}for(s=0;s<a.children.length;s++)f(a.children[s]);return c.length<=0?{type:"Polygon",coordinates:[]}:1==c.length?{type:"Polygon",coordinates:c[0]}:{type:"MultiPolygon",coordinates:c}}};t.exports=r},{}],59:[function(e,t,n){var r=e("./linked-list");function i(e,t,n){function i(e,t){return{id:n?n.segmentId():-1,start:e,end:t,myFill:{above:null,below:null},otherFill:null}}function a(e,t,r){return{id:n?n.segmentId():-1,start:e,end:t,myFill:{above:r.myFill.above,below:r.myFill.below},otherFill:null}}var o=r.create();function s(e,n,r,i,a,o){var s=t.pointsCompare(n,a);return 0!==s?s:t.pointsSame(r,o)?0:e!==i?e?1:-1:t.pointAboveOrOnLine(r,i?a:o,i?o:a)?1:-1}function u(e,t){o.insertBefore(e,(function(n){return s(e.isStart,e.pt,t,n.isStart,n.pt,n.other.pt)<0}))}function l(e,t){var n=r.node({isStart:!0,pt:e.start,seg:e,primary:t,other:null,status:null});return u(n,e.end),n}function c(e,t,n){var i=r.node({isStart:!1,pt:t.end,seg:t,primary:n,other:e,status:null});e.other=i,u(i,e.pt)}function f(e,t){var n=l(e,t);return c(n,e,t),n}function h(e,t){n&&n.segmentChop(e.seg,t),e.other.remove(),e.seg.end=t,e.other.pt=t,u(e.other,e.pt)}function d(e,t){var n=a(t,e.seg.end,e.seg);return h(e,t),f(n,e.primary)}function p(i,a){var s=r.create();function u(e,n){var r=e.seg.start,i=e.seg.end,a=n.seg.start,o=n.seg.end;return t.pointsCollinear(r,a,o)?t.pointsCollinear(i,a,o)||t.pointAboveOrOnLine(i,a,o)?1:-1:t.pointAboveOrOnLine(r,a,o)?1:-1}function l(e){return s.findTransition((function(t){return u(e,t.ev)>0}))}function c(e,r){var i=e.seg,a=r.seg,o=i.start,s=i.end,u=a.start,l=a.end;n&&n.checkIntersection(i,a);var c=t.linesIntersect(o,s,u,l);if(!1===c){if(!t.pointsCollinear(o,s,u))return!1;if(t.pointsSame(o,l)||t.pointsSame(s,u))return!1;var f=t.pointsSame(o,u),h=t.pointsSame(s,l);if(f&&h)return r;var p=!f&&t.pointBetween(o,u,l),v=!h&&t.pointBetween(s,u,l);if(f)return v?d(r,s):d(e,l),r;p&&(h||(v?d(r,s):d(e,l)),d(r,o))}else 0===c.alongA&&(-1===c.alongB?d(e,u):0===c.alongB?d(e,c.pt):1===c.alongB&&d(e,l)),0===c.alongB&&(-1===c.alongA?d(r,o):0===c.alongA?d(r,c.pt):1===c.alongA&&d(r,s));return!1}for(var f=[];!o.isEmpty();){var h=o.getHead();if(n&&n.vert(h.pt[0]),h.isStart){var p=function(){if(g){var e=c(h,g);if(e)return e}return!!y&&c(h,y)};n&&n.segmentNew(h.seg,h.primary);var v=l(h),g=v.before?v.before.ev:null,y=v.after?v.after.ev:null;n&&n.tempStatus(h.seg,!!g&&g.seg,!!y&&y.seg);var m,b,_=p();if(_)e?(b=null===h.seg.myFill.below||h.seg.myFill.above!==h.seg.myFill.below)&&(_.seg.myFill.above=!_.seg.myFill.above):_.seg.otherFill=h.seg.myFill,n&&n.segmentUpdate(_.seg),h.other.remove(),h.remove();if(o.getHead()!==h){n&&n.rewind(h.seg);continue}e?(b=null===h.seg.myFill.below||h.seg.myFill.above!==h.seg.myFill.below,h.seg.myFill.below=y?y.seg.myFill.above:i,h.seg.myFill.above=b?!h.seg.myFill.below:h.seg.myFill.below):null===h.seg.otherFill&&(m=y?h.primary===y.primary?y.seg.otherFill.above:y.seg.myFill.above:h.primary?a:i,h.seg.otherFill={above:m,below:m}),n&&n.status(h.seg,!!g&&g.seg,!!y&&y.seg),h.other.status=v.insert(r.node({ev:h}))}else{var w=h.status;if(null===w)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(s.exists(w.prev)&&s.exists(w.next)&&c(w.prev.ev,w.next.ev),n&&n.statusRemove(w.ev.seg),w.remove(),!h.primary){var x=h.seg.myFill;h.seg.myFill=h.seg.otherFill,h.seg.otherFill=x}f.push(h.seg)}o.getHead().remove()}return n&&n.done(),f}return e?{addRegion:function(e){for(var n,r=e[e.length-1],a=0;a<e.length;a++){n=r,r=e[a];var o=t.pointsCompare(n,r);0!==o&&f(i(o<0?n:r,o<0?r:n),!0)}},calculate:function(e){return p(e,!1)}}:{calculate:function(e,t,n,r){return e.forEach((function(e){f(a(e.start,e.end,e),!0)})),n.forEach((function(e){f(a(e.start,e.end,e),!1)})),p(t,r)}}}t.exports=i},{"./linked-list":60}],60:[function(e,t,n){var r={create:function(){var e={root:{root:!0,next:null},exists:function(t){return null!==t&&t!==e.root},isEmpty:function(){return null===e.root.next},getHead:function(){return e.root.next},insertBefore:function(t,n){for(var r=e.root,i=e.root.next;null!==i;){if(n(i))return t.prev=i.prev,t.next=i,i.prev.next=t,void(i.prev=t);r=i,i=i.next}r.next=t,t.prev=r,t.next=null},findTransition:function(t){for(var n=e.root,r=e.root.next;null!==r&&!t(r);)n=r,r=r.next;return{before:n===e.root?null:n,after:r,insert:function(e){return e.prev=n,e.next=r,n.next=e,null!==r&&(r.prev=e),e}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};t.exports=r},{}],61:[function(e,t,n){function r(e,t,n){var r=[],i=[];return e.forEach((function(e){var a=e.start,o=e.end;if(t.pointsSame(a,o))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{n&&n.chainStart(e);for(var s={index:0,matches_head:!1,matches_pt1:!1},u={index:0,matches_head:!1,matches_pt1:!1},l=s,c=0;c<r.length;c++){var f=(g=r[c])[0],h=(g[1],g[g.length-1]);if(g[g.length-2],t.pointsSame(f,a)){if(k(c,!0,!0))break}else if(t.pointsSame(f,o)){if(k(c,!0,!1))break}else if(t.pointsSame(h,a)){if(k(c,!1,!0))break}else if(t.pointsSame(h,o)&&k(c,!1,!1))break}if(l===s)return r.push([a,o]),void(n&&n.chainNew(a,o));if(l===u){n&&n.chainMatch(s.index);var d=s.index,p=s.matches_pt1?o:a,v=s.matches_head,g=r[d],y=v?g[0]:g[g.length-1],m=v?g[1]:g[g.length-2],b=v?g[g.length-1]:g[0],_=v?g[g.length-2]:g[1];return t.pointsCollinear(m,y,p)&&(v?(n&&n.chainRemoveHead(s.index,p),g.shift()):(n&&n.chainRemoveTail(s.index,p),g.pop()),y=m),t.pointsSame(b,p)?(r.splice(d,1),t.pointsCollinear(_,b,y)&&(v?(n&&n.chainRemoveTail(s.index,y),g.pop()):(n&&n.chainRemoveHead(s.index,y),g.shift())),n&&n.chainClose(s.index),void i.push(g)):void(v?(n&&n.chainAddHead(s.index,p),g.unshift(p)):(n&&n.chainAddTail(s.index,p),g.push(p)))}var w=s.index,x=u.index;n&&n.chainConnect(w,x);var T=r[w].length<r[x].length;s.matches_head?u.matches_head?T?(O(w),S(w,x)):(O(x),S(x,w)):S(x,w):u.matches_head?S(w,x):T?(O(w),S(x,w)):(O(x),S(w,x))}function k(e,t,n){return l.index=e,l.matches_head=t,l.matches_pt1=n,l===s?(l=u,!1):(l=null,!0)}function O(e){n&&n.chainReverse(e),r[e].reverse()}function S(e,i){var a=r[e],o=r[i],s=a[a.length-1],u=a[a.length-2],l=o[0],c=o[1];t.pointsCollinear(u,s,l)&&(n&&n.chainRemoveTail(e,s),a.pop(),s=u),t.pointsCollinear(s,l,c)&&(n&&n.chainRemoveHead(i,l),o.shift()),n&&n.chainJoin(e,i),r[e]=a.concat(o),r.splice(i,1)}})),i}t.exports=r},{}],62:[function(e,t,n){function r(e,t,n){var r=[];return e.forEach((function(e){var i=(e.myFill.above?8:0)+(e.myFill.below?4:0)+(e.otherFill&&e.otherFill.above?2:0)+(e.otherFill&&e.otherFill.below?1:0);0!==t[i]&&r.push({id:n?n.segmentId():-1,start:e.start,end:e.end,myFill:{above:1===t[i],below:2===t[i]},otherFill:null})})),n&&n.selected(r),r}var i={union:function(e,t){return r(e,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],t)},intersect:function(e,t){return r(e,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],t)},difference:function(e,t){return r(e,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],t)},differenceRev:function(e,t){return r(e,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],t)},xor:function(e,t){return r(e,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],t)}};t.exports=i},{}],63:[function(e,t,n){var r,i,a=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function l(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}!function(){try{r="function"===typeof setTimeout?setTimeout:o}catch(e){r=o}try{i="function"===typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var c,f=[],h=!1,d=-1;function p(){h&&c&&(h=!1,c.length?f=c.concat(f):d=-1,f.length&&v())}function v(){if(!h){var e=u(p);h=!0;for(var t=f.length;t;){for(c=f,f=[];++d<t;)c&&c[d].run();d=-1,t=f.length}c=null,h=!1,l(e)}}function g(e,t){this.fun=e,this.array=t}function y(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new g(e,t)),1!==f.length||h||u(v)},g.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=y,a.addListener=y,a.once=y,a.off=y,a.removeListener=y,a.removeAllListeners=y,a.emit=y,a.prependListener=y,a.prependOnceListener=y,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],64:[function(e,t,n){(function(t,r){(function(){var i=e("process/browser.js").nextTick,a=Function.prototype.apply,o=Array.prototype.slice,s={},u=0;function l(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new l(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new l(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n.setImmediate="function"===typeof t?t:function(e){var t=u++,r=!(arguments.length<2)&&o.call(arguments,1);return s[t]=!0,i((function(){s[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))})),t},n.clearImmediate="function"===typeof r?r:function(e){delete s[e]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":63,timers:64}],65:[function(t,n,r){!function(t){var r=/^\s+/,i=/\s+$/,a=0,o=t.round,s=t.min,u=t.max,l=t.random;function c(e,t){if(t=t||{},(e=e||"")instanceof c)return e;if(!(this instanceof c))return new c(e,t);var n=f(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=o(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=o(this._r)),this._g<1&&(this._g=o(this._g)),this._b<1&&(this._b=o(this._b)),this._ok=n.ok,this._tc_id=a++}function f(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,a=null,o=!1,l=!1;return"string"==typeof e&&(e=K(e)),"object"==typeof e&&(G(e.r)&&G(e.g)&&G(e.b)?(t=h(e.r,e.g,e.b),o=!0,l="%"===String(e.r).substr(-1)?"prgb":"rgb"):G(e.h)&&G(e.s)&&G(e.v)?(r=V(e.s),i=V(e.v),t=g(e.h,r,i),o=!0,l="hsv"):G(e.h)&&G(e.s)&&G(e.l)&&(r=V(e.s),a=V(e.l),t=p(e.h,r,a),o=!0,l="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=L(n),{ok:o,format:e.format||l,r:s(255,u(t.r,0)),g:s(255,u(t.g,0)),b:s(255,u(t.b,0)),a:n}}function h(e,t,n){return{r:255*R(e,255),g:255*R(t,255),b:255*R(n,255)}}function d(e,t,n){e=R(e,255),t=R(t,255),n=R(n,255);var r,i,a=u(e,t,n),o=s(e,t,n),l=(a+o)/2;if(a==o)r=i=0;else{var c=a-o;switch(i=l>.5?c/(2-a-o):c/(a+o),a){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{h:r,s:i,l:l}}function p(e,t,n){var r,i,a;function o(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=R(e,360),t=R(t,100),n=R(n,100),0===t)r=i=a=n;else{var s=n<.5?n*(1+t):n+t-n*t,u=2*n-s;r=o(u,s,e+1/3),i=o(u,s,e),a=o(u,s,e-1/3)}return{r:255*r,g:255*i,b:255*a}}function v(e,t,n){e=R(e,255),t=R(t,255),n=R(n,255);var r,i,a=u(e,t,n),o=s(e,t,n),l=a,c=a-o;if(i=0===a?0:c/a,a==o)r=0;else{switch(a){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{h:r,s:i,v:l}}function g(e,n,r){e=6*R(e,360),n=R(n,100),r=R(r,100);var i=t.floor(e),a=e-i,o=r*(1-n),s=r*(1-a*n),u=r*(1-(1-a)*n),l=i%6;return{r:255*[r,s,o,o,u,r][l],g:255*[u,r,r,s,o,o][l],b:255*[o,o,u,r,r,s][l]}}function y(e,t,n,r){var i=[B(o(e).toString(16)),B(o(t).toString(16)),B(o(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function m(e,t,n,r,i){var a=[B(o(e).toString(16)),B(o(t).toString(16)),B(o(n).toString(16)),B(H(r))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function b(e,t,n,r){return[B(H(r)),B(o(e).toString(16)),B(o(t).toString(16)),B(o(n).toString(16))].join("")}function _(e,t){t=0===t?0:t||10;var n=c(e).toHsl();return n.s-=t/100,n.s=F(n.s),c(n)}function w(e,t){t=0===t?0:t||10;var n=c(e).toHsl();return n.s+=t/100,n.s=F(n.s),c(n)}function x(e){return c(e).desaturate(100)}function T(e,t){t=0===t?0:t||10;var n=c(e).toHsl();return n.l+=t/100,n.l=F(n.l),c(n)}function k(e,t){t=0===t?0:t||10;var n=c(e).toRgb();return n.r=u(0,s(255,n.r-o(-t/100*255))),n.g=u(0,s(255,n.g-o(-t/100*255))),n.b=u(0,s(255,n.b-o(-t/100*255))),c(n)}function O(e,t){t=0===t?0:t||10;var n=c(e).toHsl();return n.l-=t/100,n.l=F(n.l),c(n)}function S(e,t){var n=c(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,c(n)}function A(e){var t=c(e).toHsl();return t.h=(t.h+180)%360,c(t)}function E(e){var t=c(e).toHsl(),n=t.h;return[c(e),c({h:(n+120)%360,s:t.s,l:t.l}),c({h:(n+240)%360,s:t.s,l:t.l})]}function C(e){var t=c(e).toHsl(),n=t.h;return[c(e),c({h:(n+90)%360,s:t.s,l:t.l}),c({h:(n+180)%360,s:t.s,l:t.l}),c({h:(n+270)%360,s:t.s,l:t.l})]}function M(e){var t=c(e).toHsl(),n=t.h;return[c(e),c({h:(n+72)%360,s:t.s,l:t.l}),c({h:(n+216)%360,s:t.s,l:t.l})]}function I(e,t,n){t=t||6,n=n||30;var r=c(e).toHsl(),i=360/n,a=[c(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,a.push(c(r));return a}function D(e,t){t=t||6;for(var n=c(e).toHsv(),r=n.h,i=n.s,a=n.v,o=[],s=1/t;t--;)o.push(c({h:r,s:i,v:a})),a=(a+s)%1;return o}c.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,n,r,i=this.toRgb();return e=i.r/255,n=i.g/255,r=i.b/255,.2126*(e<=.03928?e/12.92:t.pow((e+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:t.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:t.pow((r+.055)/1.055,2.4))},setAlpha:function(e){return this._a=L(e),this._roundA=o(100*this._a)/100,this},toHsv:function(){var e=v(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=v(this._r,this._g,this._b),t=o(360*e.h),n=o(100*e.s),r=o(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=d(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=d(this._r,this._g,this._b),t=o(360*e.h),n=o(100*e.s),r=o(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return y(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return m(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:o(this._r),g:o(this._g),b:o(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+o(this._r)+", "+o(this._g)+", "+o(this._b)+")":"rgba("+o(this._r)+", "+o(this._g)+", "+o(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:o(100*R(this._r,255))+"%",g:o(100*R(this._g,255))+"%",b:o(100*R(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+o(100*R(this._r,255))+"%, "+o(100*R(this._g,255))+"%, "+o(100*R(this._b,255))+"%)":"rgba("+o(100*R(this._r,255))+"%, "+o(100*R(this._g,255))+"%, "+o(100*R(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(N[y(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+b(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=c(e);n="#"+b(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return c(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(T,arguments)},brighten:function(){return this._applyModification(k,arguments)},darken:function(){return this._applyModification(O,arguments)},desaturate:function(){return this._applyModification(_,arguments)},saturate:function(){return this._applyModification(w,arguments)},greyscale:function(){return this._applyModification(x,arguments)},spin:function(){return this._applyModification(S,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(I,arguments)},complement:function(){return this._applyCombination(A,arguments)},monochromatic:function(){return this._applyCombination(D,arguments)},splitcomplement:function(){return this._applyCombination(M,arguments)},triad:function(){return this._applyCombination(E,arguments)},tetrad:function(){return this._applyCombination(C,arguments)}},c.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:V(e[r]));e=n}return c(e,t)},c.equals=function(e,t){return!(!e||!t)&&c(e).toRgbString()==c(t).toRgbString()},c.random=function(){return c.fromRatio({r:l(),g:l(),b:l()})},c.mix=function(e,t,n){n=0===n?0:n||50;var r=c(e).toRgb(),i=c(t).toRgb(),a=n/100;return c({r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a})},c.readability=function(e,n){var r=c(e),i=c(n);return(t.max(r.getLuminance(),i.getLuminance())+.05)/(t.min(r.getLuminance(),i.getLuminance())+.05)},c.isReadable=function(e,t,n){var r,i,a=c.readability(e,t);switch(i=!1,(r=X(n)).level+r.size){case"AAsmall":case"AAAlarge":i=a>=4.5;break;case"AAlarge":i=a>=3;break;case"AAAsmall":i=a>=7}return i},c.mostReadable=function(e,t,n){var r,i,a,o,s=null,u=0;i=(n=n||{}).includeFallbackColors,a=n.level,o=n.size;for(var l=0;l<t.length;l++)(r=c.readability(e,t[l]))>u&&(u=r,s=c(t[l]));return c.isReadable(e,s,{level:a,size:o})||!i?s:(n.includeFallbackColors=!1,c.mostReadable(e,["#fff","#000"],n))};var P=c.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},N=c.hexNames=j(P);function j(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function L(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function R(e,n){U(e)&&(e="100%");var r=q(e);return e=s(n,u(0,parseFloat(e))),r&&(e=parseInt(e*n,10)/100),t.abs(e-n)<1e-6?1:e%n/parseFloat(n)}function F(e){return s(1,u(0,e))}function z(e){return parseInt(e,16)}function U(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function q(e){return"string"===typeof e&&-1!=e.indexOf("%")}function B(e){return 1==e.length?"0"+e:""+e}function V(e){return e<=1&&(e=100*e+"%"),e}function H(e){return t.round(255*parseFloat(e)).toString(16)}function W(e){return z(e)/255}var Y=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function G(e){return!!Y.CSS_UNIT.exec(e)}function K(e){e=e.replace(r,"").replace(i,"").toLowerCase();var t,n=!1;if(P[e])e=P[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=Y.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=Y.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=Y.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=Y.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=Y.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=Y.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=Y.hex8.exec(e))?{r:z(t[1]),g:z(t[2]),b:z(t[3]),a:W(t[4]),format:n?"name":"hex8"}:(t=Y.hex6.exec(e))?{r:z(t[1]),g:z(t[2]),b:z(t[3]),format:n?"name":"hex"}:(t=Y.hex4.exec(e))?{r:z(t[1]+""+t[1]),g:z(t[2]+""+t[2]),b:z(t[3]+""+t[3]),a:W(t[4]+""+t[4]),format:n?"name":"hex8"}:!!(t=Y.hex3.exec(e))&&{r:z(t[1]+""+t[1]),g:z(t[2]+""+t[2]),b:z(t[3]+""+t[3]),format:n?"name":"hex"}}function X(e){var t,n;return"AA"!==(t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==t&&(t="AA"),"small"!==(n=(e.size||"small").toLowerCase())&&"large"!==n&&(n="small"),{level:t,size:n}}"undefined"!==typeof n&&n.exports?n.exports=c:"function"===typeof e&&e.amd?e((function(){return c})):window.tinycolor=c}(Math)},{}],66:[function(e,t,n){var r=e("../main"),i=e("object-assign"),a=r.instance();function o(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}o.prototype=new r.baseCalendar,i(o.prototype,{name:"Chinese",jdEpoch:1721425.5,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(e,t){if("string"===typeof e){var n=e.match(u);return n?n[0]:""}var r=this._validateYear(e),i=e.month(),a=""+this.toChineseMonth(r,i);return t&&a.length<2&&(a="0"+a),this.isIntercalaryMonth(r,i)&&(a+="i"),a},monthNames:function(e){if("string"===typeof e){var t=e.match(l);return t?t[0]:""}var n=this._validateYear(e),r=e.month(),i=["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"][this.toChineseMonth(n,r)-1];return this.isIntercalaryMonth(n,r)&&(i="\u95f0"+i),i},monthNamesShort:function(e){if("string"===typeof e){var t=e.match(c);return t?t[0]:""}var n=this._validateYear(e),r=e.month(),i=["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"][this.toChineseMonth(n,r)-1];return this.isIntercalaryMonth(n,r)&&(i="\u95f0"+i),i},parseMonth:function(e,t){e=this._validateYear(e);var n,r=parseInt(t);if(isNaN(r))"\u95f0"===t[0]&&(n=!0,t=t.substring(1)),"\u6708"===t[t.length-1]&&(t=t.substring(0,t.length-1)),r=1+["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"].indexOf(t);else{var i=t[t.length-1];n="i"===i||"I"===i}return this.toMonthIndex(e,r,n)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(e,t){if(e.year&&(e=e.year()),"number"!==typeof e||e<1888||e>2111)throw t.replace(/\{0\}/,this.local.name);return e},toMonthIndex:function(e,t,n){var i=this.intercalaryMonth(e);if(n&&t!==i||t<1||t>12)throw r.local.invalidMonth.replace(/\{0\}/,this.local.name);return i?!n&&t<=i?t-1:t:t-1},toChineseMonth:function(e,t){e.year&&(t=(e=e.year()).month());var n=this.intercalaryMonth(e);if(t<0||t>(n?12:11))throw r.local.invalidMonth.replace(/\{0\}/,this.local.name);return n?t<n?t+1:t:t+1},intercalaryMonth:function(e){e=this._validateYear(e);var t=f[e-f[0]]>>13;return t},isIntercalaryMonth:function(e,t){e.year&&(t=(e=e.year()).month());var n=this.intercalaryMonth(e);return!!n&&n===t},leapYear:function(e){return 0!==this.intercalaryMonth(e)},weekOfYear:function(e,t,n){var i,o=this._validateYear(e,r.local.invalidyear),s=h[o-h[0]],u=s>>9&4095,l=s>>5&15,c=31&s;(i=a.newDate(u,l,c)).add(4-(i.dayOfWeek()||7),"d");var f=this.toJD(e,t,n)-i.toJD();return 1+Math.floor(f/7)},monthsInYear:function(e){return this.leapYear(e)?13:12},daysInMonth:function(e,t){e.year&&(t=e.month(),e=e.year()),e=this._validateYear(e);var n=f[e-f[0]];if(t>(n>>13?12:11))throw r.local.invalidMonth.replace(/\{0\}/,this.local.name);var i=n&1<<12-t?30:29;return i},weekDay:function(e,t,n){return(this.dayOfWeek(e,t,n)||7)<6},toJD:function(e,t,n){var i=this._validate(e,s,n,r.local.invalidDate);e=this._validateYear(i.year()),t=i.month(),n=i.day();var o=this.isIntercalaryMonth(e,t),s=this.toChineseMonth(e,t),u=p(e,s,n,o);return a.toJD(u.year,u.month,u.day)},fromJD:function(e){var t=a.fromJD(e),n=d(t.year(),t.month(),t.day()),r=this.toMonthIndex(n.year,n.month,n.isIntercalary);return this.newDate(n.year,r,n.day)},fromString:function(e){var t=e.match(s),n=this._validateYear(+t[1]),r=+t[2],i=!!t[3],a=this.toMonthIndex(n,r,i),o=+t[4];return this.newDate(n,a,o)},add:function(e,t,n){var r=e.year(),i=e.month(),a=this.isIntercalaryMonth(r,i),s=this.toChineseMonth(r,i),u=Object.getPrototypeOf(o.prototype).add.call(this,e,t,n);if("y"===n){var l=u.year(),c=u.month(),f=this.isIntercalaryMonth(l,s),h=a&&f?this.toMonthIndex(l,s,!0):this.toMonthIndex(l,s,!1);h!==c&&u.month(h)}return u}});var s=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,u=/^\d?\d[iI]?/m,l=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?\u6708/m,c=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?/m;r.calendars.chinese=o;var f=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],h=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function d(e,t,n,r){var i,a;if("object"===typeof e)i=e,a=t||{};else{if(!("number"===typeof e&&e>=1888&&e<=2111))throw new Error("Solar year outside range 1888-2111");if(!("number"===typeof t&&t>=1&&t<=12))throw new Error("Solar month outside range 1 - 12");if(!("number"===typeof n&&n>=1&&n<=31))throw new Error("Solar day outside range 1 - 31");i={year:e,month:t,day:n},a=r||{}}var o=h[i.year-h[0]],s=i.year<<9|i.month<<5|i.day;a.year=s>=o?i.year:i.year-1,o=h[a.year-h[0]];var u,l=new Date(o>>9&4095,(o>>5&15)-1,31&o),c=new Date(i.year,i.month-1,i.day);u=Math.round((c-l)/864e5);var d,p=f[a.year-f[0]];for(d=0;d<13;d++){var v=p&1<<12-d?30:29;if(u<v)break;u-=v}var g=p>>13;return!g||d<g?(a.isIntercalary=!1,a.month=1+d):d===g?(a.isIntercalary=!0,a.month=d):(a.isIntercalary=!1,a.month=d),a.day=1+u,a}function p(e,t,n,r,i){var a,o,s;if("object"===typeof e)o=e,a=t||{};else{var u;if(!("number"===typeof e&&e>=1888&&e<=2111))throw new Error("Lunar year outside range 1888-2111");if(!("number"===typeof t&&t>=1&&t<=12))throw new Error("Lunar month outside range 1 - 12");if(!("number"===typeof n&&n>=1&&n<=30))throw new Error("Lunar day outside range 1 - 30");"object"===typeof r?(u=!1,a=r):(u=!!r,a=i||{}),o={year:e,month:t,day:n,isIntercalary:u}}s=o.day-1;var l,c=f[o.year-f[0]],d=c>>13;l=d&&(o.month>d||o.isIntercalary)?o.month:o.month-1;for(var p=0;p<l;p++)s+=c&1<<12-p?30:29;var v=h[o.year-h[0]],g=new Date(v>>9&4095,(v>>5&15)-1,(31&v)+s);return a.year=g.getFullYear(),a.month=1+g.getMonth(),a.day=g.getDate(),a}},{"../main":80,"object-assign":53}],67:[function(e,t,n){var r=e("../main"),i=e("object-assign");function a(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}a.prototype=new r.baseCalendar,i(a.prototype,{name:"Coptic",jdEpoch:1825029.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear);return(e=t.year()+(t.year()<0?1:0))%4===3||e%4===-1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,r.local.invalidYear||r.regionalOptions[""].invalidYear),13},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,r.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(13===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(e,t,n){return(this.dayOfWeek(e,t,n)||7)<6},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);return(e=i.year())<0&&e++,i.day()+30*(i.month()-1)+365*(e-1)+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(e){var t=Math.floor(e)+.5-this.jdEpoch,n=Math.floor((t-Math.floor((t+366)/1461))/365)+1;n<=0&&n--,t=Math.floor(e)+.5-this.newDate(n,1,1).toJD();var r=Math.floor(t/30)+1,i=t-30*(r-1)+1;return this.newDate(n,r,i)}}),r.calendars.coptic=a},{"../main":80,"object-assign":53}],68:[function(e,t,n){var r=e("../main"),i=e("object-assign");function a(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}a.prototype=new r.baseCalendar,i(a.prototype,{name:"Discworld",jdEpoch:1721425.5,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(e){return this._validate(e,this.minMonth,this.minDay,r.local.invalidYear),!1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,r.local.invalidYear),13},daysInYear:function(e){return this._validate(e,this.minMonth,this.minDay,r.local.invalidYear),400},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/8)+1},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,r.local.invalidMonth);return this.daysPerMonth[n.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(e,t,n){return(this._validate(e,t,n,r.local.invalidDate).day()+1)%8},weekDay:function(e,t,n){var r=this.dayOfWeek(e,t,n);return r>=2&&r<=6},extraInfo:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);return{century:o[Math.floor((i.year()-1)/100)+1]||""}},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);return e=i.year()+(i.year()<0?1:0),t=i.month(),(n=i.day())+(t>1?16:0)+(t>2?32*(t-2):0)+400*(e-1)+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e+.5)-Math.floor(this.jdEpoch)-1;var t=Math.floor(e/400)+1;e-=400*(t-1),e+=e>15?16:0;var n=Math.floor(e/32)+1,r=e-32*(n-1)+1;return this.newDate(t<=0?t-1:t,n,r)}});var o={20:"Fruitbat",21:"Anchovy"};r.calendars.discworld=a},{"../main":80,"object-assign":53}],69:[function(e,t,n){var r=e("../main"),i=e("object-assign");function a(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}a.prototype=new r.baseCalendar,i(a.prototype,{name:"Ethiopian",jdEpoch:1724220.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear);return(e=t.year()+(t.year()<0?1:0))%4===3||e%4===-1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,r.local.invalidYear||r.regionalOptions[""].invalidYear),13},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,r.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(13===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(e,t,n){return(this.dayOfWeek(e,t,n)||7)<6},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);return(e=i.year())<0&&e++,i.day()+30*(i.month()-1)+365*(e-1)+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(e){var t=Math.floor(e)+.5-this.jdEpoch,n=Math.floor((t-Math.floor((t+366)/1461))/365)+1;n<=0&&n--,t=Math.floor(e)+.5-this.newDate(n,1,1).toJD();var r=Math.floor(t/30)+1,i=t-30*(r-1)+1;return this.newDate(n,r,i)}}),r.calendars.ethiopian=a},{"../main":80,"object-assign":53}],70:[function(e,t,n){var r=e("../main"),i=e("object-assign");function a(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}function o(e,t){return e-t*Math.floor(e/t)}a.prototype=new r.baseCalendar,i(a.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear);return this._leapYear(t.year())},_leapYear:function(e){return o(7*(e=e<0?e+1:e)+1,19)<7},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,r.local.invalidYear),this._leapYear(e.year?e.year():e)?13:12},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(e){return e=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear).year(),this.toJD(-1===e?1:e+1,7,1)-this.toJD(e,7,1)},daysInMonth:function(e,t){return e.year&&(t=e.month(),e=e.year()),this._validate(e,t,this.minDay,r.local.invalidMonth),12===t&&this.leapYear(e)||8===t&&5===o(this.daysInYear(e),10)?30:9===t&&3===o(this.daysInYear(e),10)?29:this.daysPerMonth[t-1]},weekDay:function(e,t,n){return 6!==this.dayOfWeek(e,t,n)},extraInfo:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);return{yearType:(this.leapYear(i)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(i)%10-3]}},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);e=i.year(),t=i.month(),n=i.day();var a=e<=0?e+1:e,o=this.jdEpoch+this._delay1(a)+this._delay2(a)+n+1;if(t<7){for(var s=7;s<=this.monthsInYear(e);s++)o+=this.daysInMonth(e,s);for(s=1;s<t;s++)o+=this.daysInMonth(e,s)}else for(s=7;s<t;s++)o+=this.daysInMonth(e,s);return o},_delay1:function(e){var t=Math.floor((235*e-234)/19),n=12084+13753*t,r=29*t+Math.floor(n/25920);return o(3*(r+1),7)<3&&r++,r},_delay2:function(e){var t=this._delay1(e-1),n=this._delay1(e);return this._delay1(e+1)-n===356?2:n-t===382?1:0},fromJD:function(e){e=Math.floor(e)+.5;for(var t=Math.floor(98496*(e-this.jdEpoch)/35975351)-1;e>=this.toJD(-1===t?1:t+1,7,1);)t++;for(var n=e<this.toJD(t,1,1)?7:1;e>this.toJD(t,n,this.daysInMonth(t,n));)n++;var r=e-this.toJD(t,n,1)+1;return this.newDate(t,n,r)}}),r.calendars.hebrew=a},{"../main":80,"object-assign":53}],71:[function(e,t,n){var r=e("../main"),i=e("object-assign");function a(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}a.prototype=new r.baseCalendar,i(a.prototype,{name:"Islamic",jdEpoch:1948439.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(e){return(11*this._validate(e,this.minMonth,this.minDay,r.local.invalidYear).year()+14)%30<11},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(e){return this.leapYear(e)?355:354},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,r.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(12===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(e,t,n){return 5!==this.dayOfWeek(e,t,n)},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);return e=i.year(),t=i.month(),e=e<=0?e+1:e,(n=i.day())+Math.ceil(29.5*(t-1))+354*(e-1)+Math.floor((3+11*e)/30)+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e)+.5;var t=Math.floor((30*(e-this.jdEpoch)+10646)/10631);t=t<=0?t-1:t;var n=Math.min(12,Math.ceil((e-29-this.toJD(t,1,1))/29.5)+1),r=e-this.toJD(t,n,1)+1;return this.newDate(t,n,r)}}),r.calendars.islamic=a},{"../main":80,"object-assign":53}],72:[function(e,t,n){var r=e("../main"),i=e("object-assign");function a(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}a.prototype=new r.baseCalendar,i(a.prototype,{name:"Julian",jdEpoch:1721423.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear);return(e=t.year()<0?t.year()+1:t.year())%4===0},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(4-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,r.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(2===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(e,t,n){return(this.dayOfWeek(e,t,n)||7)<6},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);return e=i.year(),t=i.month(),n=i.day(),e<0&&e++,t<=2&&(e--,t+=12),Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+n-1524.5},fromJD:function(e){var t=Math.floor(e+.5)+1524,n=Math.floor((t-122.1)/365.25),r=Math.floor(365.25*n),i=Math.floor((t-r)/30.6001),a=i-Math.floor(i<14?1:13),o=n-Math.floor(a>2?4716:4715),s=t-r-Math.floor(30.6001*i);return o<=0&&o--,this.newDate(o,a,s)}}),r.calendars.julian=a},{"../main":80,"object-assign":53}],73:[function(e,t,n){var r=e("../main"),i=e("object-assign");function a(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}function o(e,t){return e-t*Math.floor(e/t)}function s(e,t){return o(e-1,t)+1}a.prototype=new r.baseCalendar,i(a.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(e){return this._validate(e,this.minMonth,this.minDay,r.local.invalidYear),!1},formatYear:function(e){e=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear).year();var t=Math.floor(e/400);return e%=400,e+=e<0?400:0,t+"."+Math.floor(e/20)+"."+e%20},forYear:function(e){if((e=e.split(".")).length<3)throw"Invalid Mayan year";for(var t=0,n=0;n<e.length;n++){var r=parseInt(e[n],10);if(Math.abs(r)>19||n>0&&r<0)throw"Invalid Mayan year";t=20*t+r}return t},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,r.local.invalidYear),18},weekOfYear:function(e,t,n){return this._validate(e,t,n,r.local.invalidDate),0},daysInYear:function(e){return this._validate(e,this.minMonth,this.minDay,r.local.invalidYear),360},daysInMonth:function(e,t){return this._validate(e,t,this.minDay,r.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(e,t,n){return this._validate(e,t,n,r.local.invalidDate).day()},weekDay:function(e,t,n){return this._validate(e,t,n,r.local.invalidDate),!0},extraInfo:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate).toJD(),a=this._toHaab(i),o=this._toTzolkin(i);return{haabMonthName:this.local.haabMonths[a[0]-1],haabMonth:a[0],haabDay:a[1],tzolkinDayName:this.local.tzolkinMonths[o[0]-1],tzolkinDay:o[0],tzolkinTrecena:o[1]}},_toHaab:function(e){var t=o(8+(e-=this.jdEpoch)+340,365);return[Math.floor(t/20)+1,o(t,20)]},_toTzolkin:function(e){return[s(20+(e-=this.jdEpoch),20),s(e+4,13)]},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);return i.day()+20*i.month()+360*i.year()+this.jdEpoch},fromJD:function(e){e=Math.floor(e)+.5-this.jdEpoch;var t=Math.floor(e/360);e%=360,e+=e<0?360:0;var n=Math.floor(e/20),r=e%20;return this.newDate(t,n,r)}}),r.calendars.mayan=a},{"../main":80,"object-assign":53}],74:[function(e,t,n){var r=e("../main"),i=e("object-assign");function a(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}a.prototype=new r.baseCalendar;var o=r.instance("gregorian");i(a.prototype,{name:"Nanakshahi",jdEpoch:2257673.5,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear||r.regionalOptions[""].invalidYear);return o.leapYear(t.year()+(t.year()<1?1:0)+1469)},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(1-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,r.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(12===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(e,t,n){return(this.dayOfWeek(e,t,n)||7)<6},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidMonth);(e=i.year())<0&&e++;for(var a=i.day(),s=1;s<i.month();s++)a+=this.daysPerMonth[s-1];return a+o.toJD(e+1468,3,13)},fromJD:function(e){e=Math.floor(e+.5);for(var t=Math.floor((e-(this.jdEpoch-1))/366);e>=this.toJD(t+1,1,1);)t++;for(var n=e-Math.floor(this.toJD(t,1,1)+.5)+1,r=1;n>this.daysInMonth(t,r);)n-=this.daysInMonth(t,r),r++;return this.newDate(t,r,n)}}),r.calendars.nanakshahi=a},{"../main":80,"object-assign":53}],75:[function(e,t,n){var r=e("../main"),i=e("object-assign");function a(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}a.prototype=new r.baseCalendar,i(a.prototype,{name:"Nepali",jdEpoch:1700709.5,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(e){return this.daysInYear(e)!==this.daysPerYear},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(e){if(e=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear).year(),"undefined"===typeof this.NEPALI_CALENDAR_DATA[e])return this.daysPerYear;for(var t=0,n=this.minMonth;n<=12;n++)t+=this.NEPALI_CALENDAR_DATA[e][n];return t},daysInMonth:function(e,t){return e.year&&(t=e.month(),e=e.year()),this._validate(e,t,this.minDay,r.local.invalidMonth),"undefined"===typeof this.NEPALI_CALENDAR_DATA[e]?this.daysPerMonth[t-1]:this.NEPALI_CALENDAR_DATA[e][t]},weekDay:function(e,t,n){return 6!==this.dayOfWeek(e,t,n)},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);e=i.year(),t=i.month(),n=i.day();var a=r.instance(),o=0,s=t,u=e;this._createMissingCalendarData(e);var l=e-(s>9||9===s&&n>=this.NEPALI_CALENDAR_DATA[u][0]?56:57);for(9!==t&&(o=n,s--);9!==s;)s<=0&&(s=12,u--),o+=this.NEPALI_CALENDAR_DATA[u][s],s--;return 9===t?(o+=n-this.NEPALI_CALENDAR_DATA[u][0])<0&&(o+=a.daysInYear(l)):o+=this.NEPALI_CALENDAR_DATA[u][9]-this.NEPALI_CALENDAR_DATA[u][0],a.newDate(l,1,1).add(o,"d").toJD()},fromJD:function(e){var t=r.instance().fromJD(e),n=t.year(),i=t.dayOfYear(),a=n+56;this._createMissingCalendarData(a);for(var o=9,s=this.NEPALI_CALENDAR_DATA[a][0],u=this.NEPALI_CALENDAR_DATA[a][o]-s+1;i>u;)++o>12&&(o=1,a++),u+=this.NEPALI_CALENDAR_DATA[a][o];var l=this.NEPALI_CALENDAR_DATA[a][o]-(u-i);return this.newDate(a,o,l)},_createMissingCalendarData:function(e){var t=this.daysPerMonth.slice(0);t.unshift(17);for(var n=e-1;n<e+2;n++)"undefined"===typeof this.NEPALI_CALENDAR_DATA[n]&&(this.NEPALI_CALENDAR_DATA[n]=t)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),r.calendars.nepali=a},{"../main":80,"object-assign":53}],76:[function(e,t,n){var r=e("../main"),i=e("object-assign");function a(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}function o(e,t){return e-t*Math.floor(e/t)}a.prototype=new r.baseCalendar,i(a.prototype,{name:"Persian",jdEpoch:1948320.5,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xe6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xe6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear);return 682*((t.year()-(t.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(-(r.dayOfWeek()+1)%7,"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,r.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(12===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(e,t,n){return 5!==this.dayOfWeek(e,t,n)},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);e=i.year(),t=i.month(),n=i.day();var a=e-(e>=0?474:473),s=474+o(a,2820);return n+(t<=7?31*(t-1):30*(t-1)+6)+Math.floor((682*s-110)/2816)+365*(s-1)+1029983*Math.floor(a/2820)+this.jdEpoch-1},fromJD:function(e){var t=(e=Math.floor(e)+.5)-this.toJD(475,1,1),n=Math.floor(t/1029983),r=o(t,1029983),i=2820;if(1029982!==r){var a=Math.floor(r/366),s=o(r,366);i=Math.floor((2134*a+2816*s+2815)/1028522)+a+1}var u=i+2820*n+474;u=u<=0?u-1:u;var l=e-this.toJD(u,1,1)+1,c=l<=186?Math.ceil(l/31):Math.ceil((l-6)/30),f=e-this.toJD(u,c,1)+1;return this.newDate(u,c,f)}}),r.calendars.persian=a,r.calendars.jalali=a},{"../main":80,"object-assign":53}],77:[function(e,t,n){var r=e("../main"),i=e("object-assign"),a=r.instance();function o(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}o.prototype=new r.baseCalendar,i(o.prototype,{name:"Taiwan",jdEpoch:2419402.5,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear);return e=this._t2gYear(t.year()),a.leapYear(e)},weekOfYear:function(e,t,n){var i=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear);return e=this._t2gYear(i.year()),a.weekOfYear(e,i.month(),i.day())},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,r.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(2===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(e,t,n){return(this.dayOfWeek(e,t,n)||7)<6},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);return e=this._t2gYear(i.year()),a.toJD(e,i.month(),i.day())},fromJD:function(e){var t=a.fromJD(e),n=this._g2tYear(t.year());return this.newDate(n,t.month(),t.day())},_t2gYear:function(e){return e+this.yearsOffset+(e>=-this.yearsOffset&&e<=-1?1:0)},_g2tYear:function(e){return e-this.yearsOffset-(e>=1&&e<=this.yearsOffset?1:0)}}),r.calendars.taiwan=o},{"../main":80,"object-assign":53}],78:[function(e,t,n){var r=e("../main"),i=e("object-assign"),a=r.instance();function o(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}o.prototype=new r.baseCalendar,i(o.prototype,{name:"Thai",jdEpoch:1523098.5,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear);return e=this._t2gYear(t.year()),a.leapYear(e)},weekOfYear:function(e,t,n){var i=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear);return e=this._t2gYear(i.year()),a.weekOfYear(e,i.month(),i.day())},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,r.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(2===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(e,t,n){return(this.dayOfWeek(e,t,n)||7)<6},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);return e=this._t2gYear(i.year()),a.toJD(e,i.month(),i.day())},fromJD:function(e){var t=a.fromJD(e),n=this._g2tYear(t.year());return this.newDate(n,t.month(),t.day())},_t2gYear:function(e){return e-this.yearsOffset-(e>=1&&e<=this.yearsOffset?1:0)},_g2tYear:function(e){return e+this.yearsOffset+(e>=-this.yearsOffset&&e<=-1?1:0)}}),r.calendars.thai=o},{"../main":80,"object-assign":53}],79:[function(e,t,n){var r=e("../main"),i=e("object-assign");function a(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}a.prototype=new r.baseCalendar,i(a.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear);return 355===this.daysInYear(t.year())},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(e){for(var t=0,n=1;n<=12;n++)t+=this.daysInMonth(e,n);return t},daysInMonth:function(e,t){for(var n=this._validate(e,t,this.minDay,r.local.invalidMonth).toJD()-24e5+.5,i=0,a=0;a<o.length;a++){if(o[a]>n)return o[i]-o[i-1];i++}return 30},weekDay:function(e,t,n){return 5!==this.dayOfWeek(e,t,n)},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate),a=12*(i.year()-1)+i.month()-15292;return i.day()+o[a-1]-1+24e5-.5},fromJD:function(e){for(var t=e-24e5+.5,n=0,r=0;r<o.length&&!(o[r]>t);r++)n++;var i=n+15292,a=Math.floor((i-1)/12),s=a+1,u=i-12*a,l=t-o[n-1]+1;return this.newDate(s,u,l)},isValid:function(e,t,n){var i=r.baseCalendar.prototype.isValid.apply(this,arguments);return i&&(i=(e=null!=e.year?e.year:e)>=1276&&e<=1500),i},_validate:function(e,t,n,i){var a=r.baseCalendar.prototype._validate.apply(this,arguments);if(a.year<1276||a.year>1500)throw i.replace(/\{0\}/,this.local.name);return a}}),r.calendars.ummalqura=a;var o=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},{"../main":80,"object-assign":53}],80:[function(e,t,n){var r=e("object-assign");function i(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function a(e,t,n,r){if(this._calendar=e,this._year=t,this._month=n,this._day=r,0===this._calendar._validateLevel&&!this._calendar.isValid(this._year,this._month,this._day))throw(l.local.invalidDate||l.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function o(e,t){return"000000".substring(0,t-(e=""+e).length)+e}function s(){this.shortYearCutoff="+10"}function u(e){this.local=this.regionalOptions[e]||this.regionalOptions[""]}r(i.prototype,{instance:function(e,t){e=(e||"gregorian").toLowerCase(),t=t||"";var n=this._localCals[e+"-"+t];if(!n&&this.calendars[e]&&(n=new this.calendars[e](t),this._localCals[e+"-"+t]=n),!n)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,e);return n},newDate:function(e,t,n,r,i){return(r=(null!=e&&e.year?e.calendar():"string"===typeof r?this.instance(r,i):r)||this.instance()).newDate(e,t,n)},substituteDigits:function(e){return function(t){return(t+"").replace(/[0-9]/g,(function(t){return e[t]}))}},substituteChineseDigits:function(e,t){return function(n){for(var r="",i=0;n>0;){var a=n%10;r=(0===a?"":e[a]+t[i])+r,i++,n=Math.floor(n/10)}return 0===r.indexOf(e[1]+t[1])&&(r=r.substr(1)),r||e[0]}}}),r(a.prototype,{newDate:function(e,t,n){return this._calendar.newDate(null==e?this:e,t,n)},year:function(e){return 0===arguments.length?this._year:this.set(e,"y")},month:function(e){return 0===arguments.length?this._month:this.set(e,"m")},day:function(e){return 0===arguments.length?this._day:this.set(e,"d")},date:function(e,t,n){if(!this._calendar.isValid(e,t,n))throw(l.local.invalidDate||l.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=e,this._month=t,this._day=n,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(e,t){return this._calendar.add(this,e,t)},set:function(e,t){return this._calendar.set(this,e,t)},compareTo:function(e){if(this._calendar.name!==e._calendar.name)throw(l.local.differentCalendars||l.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,e._calendar.local.name);var t=this._year!==e._year?this._year-e._year:this._month!==e._month?this.monthOfYear()-e.monthOfYear():this._day-e._day;return 0===t?0:t<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(e){return this._calendar.fromJD(e)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(e){return this._calendar.fromJSDate(e)},toString:function(){return(this.year()<0?"-":"")+o(Math.abs(this.year()),4)+"-"+o(this.month(),2)+"-"+o(this.day(),2)}}),r(s.prototype,{_validateLevel:0,newDate:function(e,t,n){return null==e?this.today():(e.year&&(this._validate(e,t,n,l.local.invalidDate||l.regionalOptions[""].invalidDate),n=e.day(),t=e.month(),e=e.year()),new a(this,e,t,n))},today:function(){return this.fromJSDate(new Date)},epoch:function(e){return this._validate(e,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear);return(t.year()<0?"-":"")+o(Math.abs(t.year()),4)},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear),12},monthOfYear:function(e,t){var n=this._validate(e,t,this.minDay,l.local.invalidMonth||l.regionalOptions[""].invalidMonth);return(n.month()+this.monthsInYear(n)-this.firstMonth)%this.monthsInYear(n)+this.minMonth},fromMonthOfYear:function(e,t){var n=(t+this.firstMonth-2*this.minMonth)%this.monthsInYear(e)+this.minMonth;return this._validate(e,n,this.minDay,l.local.invalidMonth||l.regionalOptions[""].invalidMonth),n},daysInYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear);return this.leapYear(t)?366:365},dayOfYear:function(e,t,n){var r=this._validate(e,t,n,l.local.invalidDate||l.regionalOptions[""].invalidDate);return r.toJD()-this.newDate(r.year(),this.fromMonthOfYear(r.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(e,t,n){var r=this._validate(e,t,n,l.local.invalidDate||l.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(r))+2)%this.daysInWeek()},extraInfo:function(e,t,n){return this._validate(e,t,n,l.local.invalidDate||l.regionalOptions[""].invalidDate),{}},add:function(e,t,n){return this._validate(e,this.minMonth,this.minDay,l.local.invalidDate||l.regionalOptions[""].invalidDate),this._correctAdd(e,this._add(e,t,n),t,n)},_add:function(e,t,n){if(this._validateLevel++,"d"===n||"w"===n){var r=e.toJD()+t*("w"===n?this.daysInWeek():1),i=e.calendar().fromJD(r);return this._validateLevel--,[i.year(),i.month(),i.day()]}try{var a=e.year()+("y"===n?t:0),o=e.monthOfYear()+("m"===n?t:0),s=(i=e.day(),function(e){for(;o<e.minMonth;)a--,o+=e.monthsInYear(a);for(var t=e.monthsInYear(a);o>t-1+e.minMonth;)a++,o-=t,t=e.monthsInYear(a)});"y"===n?(e.month()!==this.fromMonthOfYear(a,o)&&(o=this.newDate(a,e.month(),this.minDay).monthOfYear()),o=Math.min(o,this.monthsInYear(a)),i=Math.min(i,this.daysInMonth(a,this.fromMonthOfYear(a,o)))):"m"===n&&(s(this),i=Math.min(i,this.daysInMonth(a,this.fromMonthOfYear(a,o))));var u=[a,this.fromMonthOfYear(a,o),i];return this._validateLevel--,u}catch(l){throw this._validateLevel--,l}},_correctAdd:function(e,t,n,r){if(!this.hasYearZero&&("y"===r||"m"===r)&&(0===t[0]||e.year()>0!==t[0]>0)){var i={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[r],a=n<0?-1:1;t=this._add(e,n*i[0]+a*i[1],i[2])}return e.date(t[0],t[1],t[2])},set:function(e,t,n){this._validate(e,this.minMonth,this.minDay,l.local.invalidDate||l.regionalOptions[""].invalidDate);var r="y"===n?t:e.year(),i="m"===n?t:e.month(),a="d"===n?t:e.day();return"y"!==n&&"m"!==n||(a=Math.min(a,this.daysInMonth(r,i))),e.date(r,i,a)},isValid:function(e,t,n){this._validateLevel++;var r=this.hasYearZero||0!==e;if(r){var i=this.newDate(e,t,this.minDay);r=t>=this.minMonth&&t-this.minMonth<this.monthsInYear(i)&&n>=this.minDay&&n-this.minDay<this.daysInMonth(i)}return this._validateLevel--,r},toJSDate:function(e,t,n){var r=this._validate(e,t,n,l.local.invalidDate||l.regionalOptions[""].invalidDate);return l.instance().fromJD(this.toJD(r)).toJSDate()},fromJSDate:function(e){return this.fromJD(l.instance().fromJSDate(e).toJD())},_validate:function(e,t,n,r){if(e.year){if(0===this._validateLevel&&this.name!==e.calendar().name)throw(l.local.differentCalendars||l.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,e.calendar().local.name);return e}try{if(this._validateLevel++,1===this._validateLevel&&!this.isValid(e,t,n))throw r.replace(/\{0\}/,this.local.name);var i=this.newDate(e,t,n);return this._validateLevel--,i}catch(a){throw this._validateLevel--,a}}}),u.prototype=new s,r(u.prototype,{name:"Gregorian",jdEpoch:1721425.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear);return(e=t.year()+(t.year()<0?1:0))%4===0&&(e%100!==0||e%400===0)},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(4-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,l.local.invalidMonth||l.regionalOptions[""].invalidMonth);return this.daysPerMonth[n.month()-1]+(2===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(e,t,n){return(this.dayOfWeek(e,t,n)||7)<6},toJD:function(e,t,n){var r=this._validate(e,t,n,l.local.invalidDate||l.regionalOptions[""].invalidDate);e=r.year(),t=r.month(),n=r.day(),e<0&&e++,t<3&&(t+=12,e--);var i=Math.floor(e/100),a=2-i+Math.floor(i/4);return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+n+a-1524.5},fromJD:function(e){var t=Math.floor(e+.5),n=Math.floor((t-1867216.25)/36524.25),r=1524+(n=t+1+n-Math.floor(n/4)),i=Math.floor((r-122.1)/365.25),a=Math.floor(365.25*i),o=Math.floor((r-a)/30.6001),s=r-a-Math.floor(30.6001*o),u=o-(o>13.5?13:1),l=i-(u>2.5?4716:4715);return l<=0&&l--,this.newDate(l,u,s)},toJSDate:function(e,t,n){var r=this._validate(e,t,n,l.local.invalidDate||l.regionalOptions[""].invalidDate),i=new Date(r.year(),r.month()-1,r.day());return i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0),i.setHours(i.getHours()>12?i.getHours()+2:0),i},fromJSDate:function(e){return this.newDate(e.getFullYear(),e.getMonth()+1,e.getDate())}});var l=t.exports=new i;l.cdate=a,l.baseCalendar=s,l.calendars.gregorian=u},{"object-assign":53}],81:[function(e,t,n){var r=e("object-assign"),i=e("./main");r(i.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),i.local=i.regionalOptions[""],r(i.cdate.prototype,{formatDate:function(e,t){return"string"!==typeof e&&(t=e,e=""),this._calendar.formatDate(e||"",this,t)}}),r(i.baseCalendar.prototype,{UNIX_EPOCH:i.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:i.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(e,t,n){if("string"!==typeof e&&(n=t,t=e,e=""),!t)return"";if(t.calendar()!==this)throw i.local.invalidFormat||i.regionalOptions[""].invalidFormat;e=e||this.local.dateFormat;for(var r=(n=n||{}).dayNamesShort||this.local.dayNamesShort,a=n.dayNames||this.local.dayNames,o=n.monthNumbers||this.local.monthNumbers,s=n.monthNamesShort||this.local.monthNamesShort,u=n.monthNames||this.local.monthNames,l=(n.calculateWeek||this.local.calculateWeek,function(t,n){for(var r=1;b+r<e.length&&e.charAt(b+r)===t;)r++;return b+=r-1,Math.floor(r/(n||1))>1}),c=function(e,t,n,r){var i=""+t;if(l(e,r))for(;i.length<n;)i="0"+i;return i},f=function(e,t,n,r){return l(e)?r[t]:n[t]},h=this,d=function(e){return"function"===typeof o?o.call(h,e,l("m")):g(c("m",e.month(),2))},p=function(e,t){return t?"function"===typeof u?u.call(h,e):u[e.month()-h.minMonth]:"function"===typeof s?s.call(h,e):s[e.month()-h.minMonth]},v=this.local.digits,g=function(e){return n.localNumbers&&v?v(e):e},y="",m=!1,b=0;b<e.length;b++)if(m)"'"!==e.charAt(b)||l("'")?y+=e.charAt(b):m=!1;else switch(e.charAt(b)){case"d":y+=g(c("d",t.day(),2));break;case"D":y+=f("D",t.dayOfWeek(),r,a);break;case"o":y+=c("o",t.dayOfYear(),3);break;case"w":y+=c("w",t.weekOfYear(),2);break;case"m":y+=d(t);break;case"M":y+=p(t,l("M"));break;case"y":y+=l("y",2)?t.year():(t.year()%100<10?"0":"")+t.year()%100;break;case"Y":l("Y",2),y+=t.formatYear();break;case"J":y+=t.toJD();break;case"@":y+=(t.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":y+=(t.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":l("'")?y+="'":m=!0;break;default:y+=e.charAt(b)}return y},parseDate:function(e,t,n){if(null==t)throw i.local.invalidArguments||i.regionalOptions[""].invalidArguments;if(""===(t="object"===typeof t?t.toString():t+""))return null;e=e||this.local.dateFormat;var r=(n=n||{}).shortYearCutoff||this.shortYearCutoff;r="string"!==typeof r?r:this.today().year()%100+parseInt(r,10);for(var a=n.dayNamesShort||this.local.dayNamesShort,o=n.dayNames||this.local.dayNames,s=n.parseMonth||this.local.parseMonth,u=n.monthNumbers||this.local.monthNumbers,l=n.monthNamesShort||this.local.monthNamesShort,c=n.monthNames||this.local.monthNames,f=-1,h=-1,d=-1,p=-1,v=-1,g=!1,y=!1,m=function(t,n){for(var r=1;S+r<e.length&&e.charAt(S+r)===t;)r++;return S+=r-1,Math.floor(r/(n||1))>1},b=function(e,n){var r=m(e,n),a=[2,3,r?4:2,r?4:2,10,11,20]["oyYJ@!".indexOf(e)+1],o=new RegExp("^-?\\d{1,"+a+"}"),s=t.substring(O).match(o);if(!s)throw(i.local.missingNumberAt||i.regionalOptions[""].missingNumberAt).replace(/\{0\}/,O);return O+=s[0].length,parseInt(s[0],10)},_=this,w=function(){if("function"===typeof u){m("m");var e=u.call(_,t.substring(O));return O+=e.length,e}return b("m")},x=function(e,n,r,a){for(var o=m(e,a)?r:n,s=0;s<o.length;s++)if(t.substr(O,o[s].length).toLowerCase()===o[s].toLowerCase())return O+=o[s].length,s+_.minMonth;throw(i.local.unknownNameAt||i.regionalOptions[""].unknownNameAt).replace(/\{0\}/,O)},T=function(){if("function"===typeof c){var e=m("M")?c.call(_,t.substring(O)):l.call(_,t.substring(O));return O+=e.length,e}return x("M",l,c)},k=function(){if(t.charAt(O)!==e.charAt(S))throw(i.local.unexpectedLiteralAt||i.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,O);O++},O=0,S=0;S<e.length;S++)if(y)"'"!==e.charAt(S)||m("'")?k():y=!1;else switch(e.charAt(S)){case"d":p=b("d");break;case"D":x("D",a,o);break;case"o":v=b("o");break;case"w":b("w");break;case"m":d=w();break;case"M":d=T();break;case"y":var A=S;g=!m("y",2),S=A,h=b("y",2);break;case"Y":h=b("Y",2);break;case"J":f=b("J")+.5,"."===t.charAt(O)&&(O++,b("J"));break;case"@":f=b("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":f=b("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":O=t.length;break;case"'":m("'")?k():y=!0;break;default:k()}if(O<t.length)throw i.local.unexpectedText||i.regionalOptions[""].unexpectedText;if(-1===h?h=this.today().year():h<100&&g&&(h+=-1===r?1900:this.today().year()-this.today().year()%100-(h<=r?0:100)),"string"===typeof d&&(d=s.call(this,h,d)),v>-1){d=1,p=v;for(var E=this.daysInMonth(h,d);p>E;E=this.daysInMonth(h,d))d++,p-=E}return f>-1?this.fromJD(f):this.newDate(h,d,p)},determineDate:function(e,t,n,r,i){n&&"object"!==typeof n&&(i=r,r=n,n=null),"string"!==typeof r&&(i=r,r="");var a=this,o=function(e){try{return a.parseDate(r,e,i)}catch(u){}for(var t=((e=e.toLowerCase()).match(/^c/)&&n?n.newDate():null)||a.today(),o=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,s=o.exec(e);s;)t.add(parseInt(s[1],10),s[2]||"d"),s=o.exec(e);return t};return t=t?t.newDate():null,e=null==e?t:"string"===typeof e?o(e):"number"===typeof e?isNaN(e)||e===1/0||e===-1/0?t:a.today().add(e,"d"):a.newDate(e)}})},{"./main":80,"object-assign":53}],82:[function(e,t,n){"use strict";t.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},{}],83:[function(e,t,n){"use strict";var r=e("./arrow_paths"),i=e("../../plots/font_attributes"),a=e("../../plots/cartesian/constants"),o=e("../../plot_api/plot_template").templatedArray;e("../../constants/axis_placeable_objects"),t.exports=o("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:i({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:r.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:r.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",a.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",a.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:i({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},{"../../constants/axis_placeable_objects":206,"../../plot_api/plot_template":265,"../../plots/cartesian/constants":283,"../../plots/font_attributes":305,"./arrow_paths":82}],84:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes"),a=e("./draw").draw;function o(e){var t=e._fullLayout;r.filterVisible(t.annotations).forEach((function(t){var n=i.getFromId(e,t.xref),r=i.getFromId(e,t.yref),a=i.getRefType(t.xref),o=i.getRefType(t.yref);t._extremes={},"range"===a&&s(t,n),"range"===o&&s(t,r)}))}function s(e,t){var n,r=t._id,a=r.charAt(0),o=e[a],s=e["a"+a],u=e[a+"ref"],l=e["a"+a+"ref"],c=e["_"+a+"padplus"],f=e["_"+a+"padminus"],h={x:1,y:-1}[a]*e[a+"shift"],d=3*e.arrowsize*e.arrowwidth||0,p=d+h,v=d-h,g=3*e.startarrowsize*e.arrowwidth||0,y=g+h,m=g-h;if(l===u){var b=i.findExtremes(t,[t.r2c(o)],{ppadplus:p,ppadminus:v}),_=i.findExtremes(t,[t.r2c(s)],{ppadplus:Math.max(c,y),ppadminus:Math.max(f,m)});n={min:[b.min[0],_.min[0]],max:[b.max[0],_.max[0]]}}else y=s?y+s:y,m=s?m-s:m,n=i.findExtremes(t,[t.r2c(o)],{ppadplus:Math.max(c,p,y),ppadminus:Math.max(f,v,m)});e._extremes[r]=n}t.exports=function(e){var t=e._fullLayout;if(r.filterVisible(t.annotations).length&&e._fullData.length)return r.syncOrAsync([a,o],e)}},{"../../lib":230,"../../plots/cartesian/axes":276,"./draw":89}],85:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../registry"),a=e("../../plot_api/plot_template").arrayEditor;function o(e,t){var n=u(e,t);return n.on.length>0||n.explicitOff.length>0}function s(e,t){var n,o,s=u(e,t),l=s.on,c=s.off.concat(s.explicitOff),f={},h=e._fullLayout.annotations;if(l.length||c.length){for(n=0;n<l.length;n++)(o=a(e.layout,"annotations",h[l[n]])).modifyItem("visible",!0),r.extendFlat(f,o.getUpdateObj());for(n=0;n<c.length;n++)(o=a(e.layout,"annotations",h[c[n]])).modifyItem("visible",!1),r.extendFlat(f,o.getUpdateObj());return i.call("update",e,{},f)}}function u(e,t){var n,r,i,a,o,s,u,c=e._fullLayout.annotations,f=[],h=[],d=[],p=(t||[]).length;for(n=0;n<c.length;n++)if(a=(i=c[n]).clicktoshow){for(r=0;r<p;r++)if(s=(o=t[r]).xaxis,u=o.yaxis,s._id===i.xref&&u._id===i.yref&&s.d2r(o.x)===l(i._xclick,s)&&u.d2r(o.y)===l(i._yclick,u)){(i.visible?"onout"===a?h:d:f).push(n);break}r===p&&i.visible&&"onout"===a&&h.push(n)}return{on:f,off:h,explicitOff:d}}function l(e,t){return"log"===t.type?t.l2r(e):t.d2r(e)}t.exports={hasClickToShow:o,onClick:s}},{"../../lib":230,"../../plot_api/plot_template":265,"../../registry":313}],86:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../color");t.exports=function(e,t,n,a){a("opacity");var o=a("bgcolor"),s=a("bordercolor"),u=i.opacity(s);a("borderpad");var l=a("borderwidth"),c=a("showarrow");if(a("text",c?" ":n._dfltTitle.annotation),a("textangle"),r.coerceFont(a,"font",n.font),a("width"),a("align"),a("height")&&a("valign"),c){var f,h,d=a("arrowside");-1!==d.indexOf("end")&&(f=a("arrowhead"),h=a("arrowsize")),-1!==d.indexOf("start")&&(a("startarrowhead",f),a("startarrowsize",h)),a("arrowcolor",u?t.bordercolor:i.defaultLine),a("arrowwidth",2*(u&&l||1)),a("standoff"),a("startstandoff")}var p=a("hovertext"),v=n.hoverlabel||{};if(p){var g=a("hoverlabel.bgcolor",v.bgcolor||(i.opacity(o)?i.rgb(o):i.defaultLine)),y=a("hoverlabel.bordercolor",v.bordercolor||i.contrast(g));r.coerceFont(a,"hoverlabel.font",{family:v.font.family,size:v.font.size,color:v.font.color||y})}a("captureevents",!!p)}},{"../../lib":230,"../color":100}],87:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib/to_log_range");t.exports=function(e,t,n,a){t=t||{};var o="log"===n&&"linear"===t.type,s="linear"===n&&"log"===t.type;if(o||s)for(var u,l,c=e._fullLayout.annotations,f=t._id.charAt(0),h=0;h<c.length;h++)u=c[h],l="annotations["+h+"].",u[f+"ref"]===t._id&&d(f),u["a"+f+"ref"]===t._id&&d("a"+f);function d(e){var n=u[e],s=null;s=o?i(n,t.range):Math.pow(10,n),r(s)||(s=null),a(l+e,s)}}},{"../../lib/to_log_range":254,"fast-isnumeric":15}],88:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes"),a=e("../../plots/array_container_defaults"),o=e("./common_defaults"),s=e("./attributes");function u(e,t,n){function a(n,i){return r.coerce(e,t,s,n,i)}var u=a("visible"),l=a("clicktoshow");if(u||l){o(e,t,n,a);for(var c=t.showarrow,f=["x","y"],h=[-10,-30],d={_fullLayout:n},p=0;p<2;p++){var v=f[p],g=i.coerceRef(e,t,d,v,"","paper");if("paper"!==g&&i.getFromId(d,g)._annIndices.push(t._index),i.coercePosition(t,d,a,g,v,.5),c){var y="a"+v,m=i.coerceRef(e,t,d,y,"pixel",["pixel","paper"]);"pixel"!==m&&m!==g&&(m=t[y]="pixel");var b="pixel"===m?h[p]:.4;i.coercePosition(t,d,a,m,y,b)}a(v+"anchor"),a(v+"shift")}if(r.noneOrAll(e,t,["x","y"]),c&&r.noneOrAll(e,t,["ax","ay"]),l){var _=a("xclick"),w=a("yclick");t._xclick=void 0===_?t.x:i.cleanPosition(_,d,t.xref),t._yclick=void 0===w?t.y:i.cleanPosition(w,d,t.yref)}}}t.exports=function(e,t){a(e,t,{name:"annotations",handleItemDefaults:u})}},{"../../lib":230,"../../plots/array_container_defaults":271,"../../plots/cartesian/axes":276,"./attributes":83,"./common_defaults":86}],89:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../../registry"),a=e("../../plots/plots"),o=e("../../lib"),s=o.strTranslate,u=e("../../plots/cartesian/axes"),l=e("../color"),c=e("../drawing"),f=e("../fx"),h=e("../../lib/svg_text_utils"),d=e("../../lib/setcursor"),p=e("../dragelement"),v=e("../../plot_api/plot_template").arrayEditor,g=e("./draw_arrow_head");function y(e){var t=e._fullLayout;t._infolayer.selectAll(".annotation").remove();for(var n=0;n<t.annotations.length;n++)t.annotations[n].visible&&m(e,n);return a.previousPromises(e)}function m(e,t){var n=e._fullLayout.annotations[t]||{},r=u.getFromId(e,n.xref),i=u.getFromId(e,n.yref);r&&r.setScale(),i&&i.setScale(),_(e,n,t,!1,r,i)}function b(e,t,n,r,i){var a=i[n],o=i[n+"ref"],s=-1!==n.indexOf("y"),l="domain"===u.getRefType(o),c=s?r.h:r.w;return e?l?a+(s?-t:t)/e._length:e.p2r(e.r2p(a)+t):a+(s?-t:t)/c}function _(e,t,n,a,y,m){var _,w,x=e._fullLayout,T=e._fullLayout._size,k=e._context.edits;a?(_="annotation-"+a,w=a+".annotations"):(_="annotation",w="annotations");var O=v(e.layout,w,t),S=O.modifyBase,A=O.modifyItem,E=O.getUpdateObj;x._infolayer.selectAll("."+_+'[data-index="'+n+'"]').remove();var C="clip"+x._uid+"_ann"+n;if(t._input&&!1!==t.visible){var M={x:{},y:{}},I=+t.textangle||0,D=x._infolayer.append("g").classed(_,!0).attr("data-index",String(n)).style("opacity",t.opacity),P=D.append("g").classed("annotation-text-g",!0),N=k[t.showarrow?"annotationTail":"annotationPosition"],j=t.captureevents||k.annotationText||N,L=P.append("g").style("pointer-events",j?"all":null).call(d,"pointer").on("click",(function(){e._dragging=!1,e.emit("plotly_clickannotation",Y(r.event))}));t.hovertext&&L.on("mouseover",(function(){var n=t.hoverlabel,r=n.font,i=this.getBoundingClientRect(),a=e.getBoundingClientRect();f.loneHover({x0:i.left-a.left,x1:i.right-a.left,y:(i.top+i.bottom)/2-a.top,text:t.hovertext,color:n.bgcolor,borderColor:n.bordercolor,fontFamily:r.family,fontSize:r.size,fontColor:r.color},{container:x._hoverlayer.node(),outerContainer:x._paper.node(),gd:e})})).on("mouseout",(function(){f.loneUnhover(x._hoverlayer.node())}));var R=t.borderwidth,F=t.borderpad,z=R+F,U=L.append("rect").attr("class","bg").style("stroke-width",R+"px").call(l.stroke,t.bordercolor).call(l.fill,t.bgcolor),q=t.width||t.height,B=x._topclips.selectAll("#"+C).data(q?[0]:[]);B.enter().append("clipPath").classed("annclip",!0).attr("id",C).append("rect"),B.exit().remove();var V=t.font,H=x._meta?o.templateString(t.text,x._meta):t.text,W=L.append("text").classed("annotation-text",!0).text(H);k.annotationText?W.call(h.makeEditable,{delegate:L,gd:e}).call(G).on("edit",(function(n){t.text=n,this.call(G),A("text",n),y&&y.autorange&&S(y._name+".autorange",!0),m&&m.autorange&&S(m._name+".autorange",!0),i.call("_guiRelayout",e,E())})):W.call(G)}else r.selectAll("#"+C).remove();function Y(e){var r={index:n,annotation:t._input,fullAnnotation:t,event:e};return a&&(r.subplotId=a),r}function G(n){return n.call(c.font,V).attr({"text-anchor":{left:"start",right:"end"}[t.align]||"middle"}),h.convertToTspans(n,e,K),n}function K(){var n=W.selectAll("a");1===n.size()&&n.text()===W.text()&&L.insert("a",":first-child").attr({"xlink:xlink:href":n.attr("xlink:href"),"xlink:xlink:show":n.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(U.node());var r=L.select(".annotation-text-math-group"),f=!r.empty(),v=c.bBox((f?r:W).node()),_=v.width,w=v.height,O=t.width||_,j=t.height||w,F=Math.round(O+2*z),V=Math.round(j+2*z);function H(e,t){return"auto"===t&&(t=e<1/3?"left":e>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[t]}for(var G=!1,K=["x","y"],X=0;X<K.length;X++){var $,Q,J,Z,ee,te=K[X],ne=t[te+"ref"]||te,re=t["a"+te+"ref"],ie={x:y,y:m}[te],ae=(I+("x"===te?0:-90))*Math.PI/180,oe=F*Math.cos(ae),se=V*Math.sin(ae),ue=Math.abs(oe)+Math.abs(se),le=t[te+"anchor"],ce=t[te+"shift"]*("x"===te?1:-1),fe=M[te],he=u.getRefType(ne);if(ie&&"domain"!==he){var de=ie.r2fraction(t[te]);(de<0||de>1)&&(re===ne?((de=ie.r2fraction(t["a"+te]))<0||de>1)&&(G=!0):G=!0),$=ie._offset+ie.r2p(t[te]),Z=.5}else{var pe="domain"===he;"x"===te?(J=t[te],$=pe?ie._offset+ie._length*J:$=T.l+T.w*J):(J=1-t[te],$=pe?ie._offset+ie._length*J:$=T.t+T.h*J),Z=t.showarrow?.5:J}if(t.showarrow){fe.head=$;var ve=t["a"+te];if(ee=oe*H(.5,t.xanchor)-se*H(.5,t.yanchor),re===ne){var ge=u.getRefType(re);"domain"===ge?("y"===te&&(ve=1-ve),fe.tail=ie._offset+ie._length*ve):"paper"===ge?"y"===te?(ve=1-ve,fe.tail=T.t+T.h*ve):fe.tail=T.l+T.w*ve:fe.tail=ie._offset+ie.r2p(ve),Q=ee}else fe.tail=$+ve,Q=ee+ve;fe.text=fe.tail+ee;var ye=x["x"===te?"width":"height"];if("paper"===ne&&(fe.head=o.constrain(fe.head,1,ye-1)),"pixel"===re){var me=-Math.max(fe.tail-3,fe.text),be=Math.min(fe.tail+3,fe.text)-ye;me>0?(fe.tail+=me,fe.text+=me):be>0&&(fe.tail-=be,fe.text-=be)}fe.tail+=ce,fe.head+=ce}else Q=ee=ue*H(Z,le),fe.text=$+ee;fe.text+=ce,ee+=ce,Q+=ce,t["_"+te+"padplus"]=ue/2+Q,t["_"+te+"padminus"]=ue/2-Q,t["_"+te+"size"]=ue,t["_"+te+"shift"]=ee}if(G)L.remove();else{var _e=0,we=0;if("left"!==t.align&&(_e=(O-_)*("center"===t.align?.5:1)),"top"!==t.valign&&(we=(j-w)*("middle"===t.valign?.5:1)),f)r.select("svg").attr({x:z+_e-1,y:z+we}).call(c.setClipUrl,q?C:null,e);else{var xe=z+we-v.top,Te=z+_e-v.left;W.call(h.positionText,Te,xe).call(c.setClipUrl,q?C:null,e)}B.select("rect").call(c.setRect,z,z,O,j),U.call(c.setRect,R/2,R/2,F-R,V-R),L.call(c.setTranslate,Math.round(M.x.text-F/2),Math.round(M.y.text-V/2)),P.attr({transform:"rotate("+I+","+M.x.text+","+M.y.text+")"});var ke,Oe=function(n,r){D.selectAll(".annotation-arrow-g").remove();var u=M.x.head,f=M.y.head,h=M.x.tail+n,d=M.y.tail+r,v=M.x.text+n,_=M.y.text+r,w=o.rotationXYMatrix(I,v,_),x=o.apply2DTransform(w),O=o.apply2DTransform2(w),C=+U.attr("width"),N=+U.attr("height"),j=v-.5*C,R=j+C,F=_-.5*N,z=F+N,q=[[j,F,j,z],[j,z,R,z],[R,z,R,F],[R,F,j,F]].map(O);if(!q.reduce((function(e,t){return e^!!o.segmentsIntersect(u,f,u+1e6,f+1e6,t[0],t[1],t[2],t[3])}),!1)){q.forEach((function(e){var t=o.segmentsIntersect(h,d,u,f,e[0],e[1],e[2],e[3]);t&&(h=t.x,d=t.y)}));var B=t.arrowwidth,V=t.arrowcolor,H=t.arrowside,W=D.append("g").style({opacity:l.opacity(V)}).classed("annotation-arrow-g",!0),Y=W.append("path").attr("d","M"+h+","+d+"L"+u+","+f).style("stroke-width",B+"px").call(l.stroke,l.rgb(V));if(g(Y,H,t),k.annotationPosition&&Y.node().parentNode&&!a){var G=u,K=f;if(t.standoff){var X=Math.sqrt(Math.pow(u-h,2)+Math.pow(f-d,2));G+=t.standoff*(h-u)/X,K+=t.standoff*(d-f)/X}var $,Q,J=W.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(h-G)+","+(d-K),transform:s(G,K)}).style("stroke-width",B+6+"px").call(l.stroke,"rgba(0,0,0,0)").call(l.fill,"rgba(0,0,0,0)");p.init({element:J.node(),gd:e,prepFn:function(){var e=c.getTranslate(L);$=e.x,Q=e.y,y&&y.autorange&&S(y._name+".autorange",!0),m&&m.autorange&&S(m._name+".autorange",!0)},moveFn:function(e,n){var r=x($,Q),i=r[0]+e,a=r[1]+n;L.call(c.setTranslate,i,a),A("x",b(y,e,"x",T,t)),A("y",b(m,n,"y",T,t)),t.axref===t.xref&&A("ax",b(y,e,"ax",T,t)),t.ayref===t.yref&&A("ay",b(m,n,"ay",T,t)),W.attr("transform",s(e,n)),P.attr({transform:"rotate("+I+","+i+","+a+")"})},doneFn:function(){i.call("_guiRelayout",e,E());var t=document.querySelector(".js-notes-box-panel");t&&t.redraw(t.selectedObj)}})}}};t.showarrow&&Oe(0,0),N&&p.init({element:L.node(),gd:e,prepFn:function(){ke=P.attr("transform")},moveFn:function(e,n){var r="pointer";if(t.showarrow)t.axref===t.xref?A("ax",b(y,e,"ax",T,t)):A("ax",t.ax+e),t.ayref===t.yref?A("ay",b(m,n,"ay",T.w,t)):A("ay",t.ay+n),Oe(e,n);else{if(a)return;var i,o;if(y)i=b(y,e,"x",T,t);else{var u=t._xsize/T.w,l=t.x+(t._xshift-t.xshift)/T.w-u/2;i=p.align(l+e/T.w,u,0,1,t.xanchor)}if(m)o=b(m,n,"y",T,t);else{var c=t._ysize/T.h,f=t.y-(t._yshift+t.yshift)/T.h-c/2;o=p.align(f-n/T.h,c,0,1,t.yanchor)}A("x",i),A("y",o),y&&m||(r=p.getCursor(y?.5:i,m?.5:o,t.xanchor,t.yanchor))}P.attr({transform:s(e,n)+ke}),d(L,r)},clickFn:function(n,r){t.captureevents&&e.emit("plotly_clickannotation",Y(r))},doneFn:function(){d(L),i.call("_guiRelayout",e,E());var t=document.querySelector(".js-notes-box-panel");t&&t.redraw(t.selectedObj)}})}}}t.exports={draw:y,drawOne:m,drawRaw:_}},{"../../lib":230,"../../lib/setcursor":250,"../../lib/svg_text_utils":252,"../../plot_api/plot_template":265,"../../plots/cartesian/axes":276,"../../plots/plots":311,"../../registry":313,"../color":100,"../dragelement":119,"../drawing":122,"../fx":140,"./draw_arrow_head":90,"@plotly/d3":11}],90:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../color"),a=e("./arrow_paths"),o=e("../../lib"),s=o.strScale,u=o.strRotate,l=o.strTranslate;t.exports=function(e,t,n){var o,c,f,h,d=e.node(),p=a[n.arrowhead||0],v=a[n.startarrowhead||0],g=(n.arrowwidth||1)*(n.arrowsize||1),y=(n.arrowwidth||1)*(n.startarrowsize||1),m=t.indexOf("start")>=0,b=t.indexOf("end")>=0,_=p.backoff*g+n.standoff,w=v.backoff*y+n.startstandoff;if("line"===d.nodeName){o={x:+e.attr("x1"),y:+e.attr("y1")},c={x:+e.attr("x2"),y:+e.attr("y2")};var x=o.x-c.x,T=o.y-c.y;if(h=(f=Math.atan2(T,x))+Math.PI,_&&w&&_+w>Math.sqrt(x*x+T*T))return void N();if(_){if(_*_>x*x+T*T)return void N();var k=_*Math.cos(f),O=_*Math.sin(f);c.x+=k,c.y+=O,e.attr({x2:c.x,y2:c.y})}if(w){if(w*w>x*x+T*T)return void N();var S=w*Math.cos(f),A=w*Math.sin(f);o.x-=S,o.y-=A,e.attr({x1:o.x,y1:o.y})}}else if("path"===d.nodeName){var E=d.getTotalLength(),C="";if(E<_+w)return void N();var M=d.getPointAtLength(0),I=d.getPointAtLength(.1);f=Math.atan2(M.y-I.y,M.x-I.x),o=d.getPointAtLength(Math.min(w,E)),C="0px,"+w+"px,";var D=d.getPointAtLength(E),P=d.getPointAtLength(E-.1);h=Math.atan2(D.y-P.y,D.x-P.x),c=d.getPointAtLength(Math.max(0,E-_)),C+=E-(C?w+_:_)+"px,"+E+"px",e.style("stroke-dasharray",C)}function N(){e.style("stroke-dasharray","0px,100px")}function j(t,a,o,c){t.path&&(t.noRotate&&(o=0),r.select(d.parentNode).append("path").attr({class:e.attr("class"),d:t.path,transform:l(a.x,a.y)+u(180*o/Math.PI)+s(c)}).style({fill:i.rgb(n.arrowcolor),"stroke-width":0}))}m&&j(v,o,f,y),b&&j(p,c,h,g)}},{"../../lib":230,"../color":100,"./arrow_paths":82,"@plotly/d3":11}],91:[function(e,t,n){"use strict";var r=e("./draw"),i=e("./click");t.exports={moduleType:"component",name:"annotations",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),includeBasePlot:e("../../plots/cartesian/include_components")("annotations"),calcAutorange:e("./calc_autorange"),draw:r.draw,drawOne:r.drawOne,drawRaw:r.drawRaw,hasClickToShow:i.hasClickToShow,onClick:i.onClick,convertCoords:e("./convert_coords")}},{"../../plots/cartesian/include_components":289,"./attributes":83,"./calc_autorange":84,"./click":85,"./convert_coords":87,"./defaults":88,"./draw":89}],92:[function(e,t,n){"use strict";var r=e("../annotations/attributes"),i=e("../../plot_api/edit_types").overrideAll,a=e("../../plot_api/plot_template").templatedArray;t.exports=i(a("annotation",{visible:r.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:r.xanchor,xshift:r.xshift,yanchor:r.yanchor,yshift:r.yshift,text:r.text,textangle:r.textangle,font:r.font,width:r.width,height:r.height,opacity:r.opacity,align:r.align,valign:r.valign,bgcolor:r.bgcolor,bordercolor:r.bordercolor,borderpad:r.borderpad,borderwidth:r.borderwidth,showarrow:r.showarrow,arrowcolor:r.arrowcolor,arrowhead:r.arrowhead,startarrowhead:r.startarrowhead,arrowside:r.arrowside,arrowsize:r.arrowsize,startarrowsize:r.startarrowsize,arrowwidth:r.arrowwidth,standoff:r.standoff,startstandoff:r.startstandoff,hovertext:r.hovertext,hoverlabel:r.hoverlabel,captureevents:r.captureevents}),"calc","from-root")},{"../../plot_api/edit_types":258,"../../plot_api/plot_template":265,"../annotations/attributes":83}],93:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes");function a(e,t){var n=t.fullSceneLayout.domain,a=t.fullLayout._size,o={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};e._xa={},r.extendFlat(e._xa,o),i.setConvert(e._xa),e._xa._offset=a.l+n.x[0]*a.w,e._xa.l2p=function(){return.5*(1+e._pdata[0]/e._pdata[3])*a.w*(n.x[1]-n.x[0])},e._ya={},r.extendFlat(e._ya,o),i.setConvert(e._ya),e._ya._offset=a.t+(1-n.y[1])*a.h,e._ya.l2p=function(){return.5*(1-e._pdata[1]/e._pdata[3])*a.h*(n.y[1]-n.y[0])}}t.exports=function(e){for(var t=e.fullSceneLayout.annotations,n=0;n<t.length;n++)a(t[n],e);e.fullLayout._infolayer.selectAll(".annotation-"+e.id).remove()}},{"../../lib":230,"../../plots/cartesian/axes":276}],94:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes"),a=e("../../plots/array_container_defaults"),o=e("../annotations/common_defaults"),s=e("./attributes");function u(e,t,n,a){function u(n,i){return r.coerce(e,t,s,n,i)}function l(e){var r=e+"axis",a={_fullLayout:{}};return a._fullLayout[r]=n[r],i.coercePosition(t,a,u,e,e,.5)}u("visible")&&(o(e,t,a.fullLayout,u),l("x"),l("y"),l("z"),r.noneOrAll(e,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",u("xanchor"),u("yanchor"),u("xshift"),u("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",u("ax",-10),u("ay",-30),r.noneOrAll(e,t,["ax","ay"])))}t.exports=function(e,t,n){a(e,t,{name:"annotations",handleItemDefaults:u,fullLayout:n.fullLayout})}},{"../../lib":230,"../../plots/array_container_defaults":271,"../../plots/cartesian/axes":276,"../annotations/common_defaults":86,"./attributes":92}],95:[function(e,t,n){"use strict";var r=e("../annotations/draw").drawRaw,i=e("../../plots/gl3d/project"),a=["x","y","z"];t.exports=function(e){for(var t=e.fullSceneLayout,n=e.dataScale,o=t.annotations,s=0;s<o.length;s++){for(var u=o[s],l=!1,c=0;c<3;c++){var f=a[c],h=u[f],d=t[f+"axis"].r2fraction(h);if(d<0||d>1){l=!0;break}}l?e.fullLayout._infolayer.select(".annotation-"+e.id+'[data-index="'+s+'"]').remove():(u._pdata=i(e.glplot.cameraParams,[t.xaxis.r2l(u.x)*n[0],t.yaxis.r2l(u.y)*n[1],t.zaxis.r2l(u.z)*n[2]]),r(e.graphDiv,u,s,e.id,u._xa,u._ya))}}},{"../../plots/gl3d/project":308,"../annotations/draw":89}],96:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../lib");function a(e,t){var n=r.subplotsRegistry.gl3d;if(n)for(var a=n.attrRegex,o=Object.keys(e),s=0;s<o.length;s++){var u=o[s];a.test(u)&&(e[u].annotations||[]).length&&(i.pushUnique(t._basePlotModules,n),i.pushUnique(t._subplots.gl3d,u))}}t.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e("./attributes")}}},layoutAttributes:e("./attributes"),handleDefaults:e("./defaults"),includeBasePlot:a,convert:e("./convert"),draw:e("./draw")}},{"../../lib":230,"../../registry":313,"./attributes":92,"./convert":93,"./defaults":94,"./draw":95}],97:[function(e,t,n){"use strict";t.exports=e("world-calendars/dist/main"),e("world-calendars/dist/plus"),e("world-calendars/dist/calendars/chinese"),e("world-calendars/dist/calendars/coptic"),e("world-calendars/dist/calendars/discworld"),e("world-calendars/dist/calendars/ethiopian"),e("world-calendars/dist/calendars/hebrew"),e("world-calendars/dist/calendars/islamic"),e("world-calendars/dist/calendars/julian"),e("world-calendars/dist/calendars/mayan"),e("world-calendars/dist/calendars/nanakshahi"),e("world-calendars/dist/calendars/nepali"),e("world-calendars/dist/calendars/persian"),e("world-calendars/dist/calendars/taiwan"),e("world-calendars/dist/calendars/thai"),e("world-calendars/dist/calendars/ummalqura")},{"world-calendars/dist/calendars/chinese":66,"world-calendars/dist/calendars/coptic":67,"world-calendars/dist/calendars/discworld":68,"world-calendars/dist/calendars/ethiopian":69,"world-calendars/dist/calendars/hebrew":70,"world-calendars/dist/calendars/islamic":71,"world-calendars/dist/calendars/julian":72,"world-calendars/dist/calendars/mayan":73,"world-calendars/dist/calendars/nanakshahi":74,"world-calendars/dist/calendars/nepali":75,"world-calendars/dist/calendars/persian":76,"world-calendars/dist/calendars/taiwan":77,"world-calendars/dist/calendars/thai":78,"world-calendars/dist/calendars/ummalqura":79,"world-calendars/dist/main":80,"world-calendars/dist/plus":81}],98:[function(e,t,n){"use strict";var r=e("./calendars"),i=e("../../lib"),a=e("../../constants/numerical"),o=a.EPOCHJD,s=a.ONEDAY,u={valType:"enumerated",values:Object.keys(r.calendars),editType:"calc",dflt:"gregorian"},l=function(e,t,n,r){var a={};return a[n]=u,i.coerce(e,t,a,n,r)},c=function(e,t,n,r){for(var i=0;i<n.length;i++)l(e,t,n[i]+"calendar",r.calendar)},f={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},h={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},d={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},p="##",v={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:p,w:p,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function g(e,t,n){for(var r,i,a,u,l,c=Math.floor((t+.05)/s)+o,f=m(n).fromJD(c),h=0;-1!==(h=e.indexOf("%",h));)"0"===(r=e.charAt(h+1))||"-"===r||"_"===r?(a=3,i=e.charAt(h+2),"_"===r&&(r="-")):(i=r,r="0",a=2),(u=v[i])?(l=u===p?p:f.formatDate(u[r]),e=e.substr(0,h)+l+e.substr(h+a),h+=l.length):h+=a;return e}var y={};function m(e){var t=y[e];return t||(t=y[e]=r.instance(e))}function b(e){return i.extendFlat({},u,{description:e})}function _(e){return"Sets the calendar system to use with `"+e+"` date data."}var w={xcalendar:b(_("x"))},x=i.extendFlat({},w,{ycalendar:b(_("y"))}),T=i.extendFlat({},x,{zcalendar:b(_("z"))}),k=b(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));t.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:x,bar:x,box:x,heatmap:x,contour:x,histogram:x,histogram2d:x,histogram2dcontour:x,scatter3d:T,surface:T,mesh3d:T,scattergl:x,ohlc:w,candlestick:w},layout:{calendar:b(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:k},yaxis:{calendar:k},scene:{xaxis:{calendar:k},yaxis:{calendar:k},zaxis:{calendar:k}},polar:{radialaxis:{calendar:k}}},transforms:{filter:{valuecalendar:b(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:b(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:u,handleDefaults:l,handleTraceDefaults:c,CANONICAL_SUNDAY:h,CANONICAL_TICK:f,DFLTRANGE:d,getCal:m,worldCalFmt:g}},{"../../constants/numerical":210,"../../lib":230,"./calendars":97}],99:[function(e,t,n){"use strict";n.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],n.defaultLine="#444",n.lightLine="#eee",n.background="#fff",n.borderLine="#BEC8D9",n.lightFraction=1e3/11},{}],100:[function(e,t,n){"use strict";var r=e("tinycolor2"),i=e("fast-isnumeric"),a=e("../../lib/array").isTypedArray,o=t.exports={},s=e("./attributes");o.defaults=s.defaults;var u=o.defaultLine=s.defaultLine;o.lightLine=s.lightLine;var l=o.background=s.background;function c(e){if(i(e)||"string"!==typeof e)return e;var t=e.trim();if("rgb"!==t.substr(0,3))return e;var n=t.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return e;var r=n[1].trim().split(/\s*[\s,]\s*/),a="a"===t.charAt(3)&&4===r.length;if(!a&&3!==r.length)return e;for(var o=0;o<r.length;o++){if(!r[o].length)return e;if(r[o]=Number(r[o]),!(r[o]>=0))return e;if(3===o)r[o]>1&&(r[o]=1);else if(r[o]>=1)return e}var s=Math.round(255*r[0])+", "+Math.round(255*r[1])+", "+Math.round(255*r[2]);return a?"rgba("+s+", "+r[3]+")":"rgb("+s+")"}o.tinyRGB=function(e){var t=e.toRgb();return"rgb("+Math.round(t.r)+", "+Math.round(t.g)+", "+Math.round(t.b)+")"},o.rgb=function(e){return o.tinyRGB(r(e))},o.opacity=function(e){return e?r(e).getAlpha():0},o.addOpacity=function(e,t){var n=r(e).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+t+")"},o.combine=function(e,t){var n=r(e).toRgb();if(1===n.a)return r(e).toRgbString();var i=r(t||l).toRgb(),a=1===i.a?i:{r:255*(1-i.a)+i.r*i.a,g:255*(1-i.a)+i.g*i.a,b:255*(1-i.a)+i.b*i.a},o={r:a.r*(1-n.a)+n.r*n.a,g:a.g*(1-n.a)+n.g*n.a,b:a.b*(1-n.a)+n.b*n.a};return r(o).toRgbString()},o.contrast=function(e,t,n){var i=r(e);return 1!==i.getAlpha()&&(i=r(o.combine(e,l))),(i.isDark()?t?i.lighten(t):l:n?i.darken(n):u).toString()},o.stroke=function(e,t){var n=r(t);e.style({stroke:o.tinyRGB(n),"stroke-opacity":n.getAlpha()})},o.fill=function(e,t){var n=r(t);e.style({fill:o.tinyRGB(n),"fill-opacity":n.getAlpha()})},o.clean=function(e){if(e&&"object"===typeof e){var t,n,r,i,s=Object.keys(e);for(t=0;t<s.length;t++)if(i=e[r=s[t]],"color"===r.substr(r.length-5))if(Array.isArray(i))for(n=0;n<i.length;n++)i[n]=c(i[n]);else e[r]=c(i);else if("colorscale"===r.substr(r.length-10)&&Array.isArray(i))for(n=0;n<i.length;n++)Array.isArray(i[n])&&(i[n][1]=c(i[n][1]));else if(Array.isArray(i)){var u=i[0];if(!Array.isArray(u)&&u&&"object"===typeof u)for(n=0;n<i.length;n++)o.clean(i[n])}else i&&"object"===typeof i&&!a(i)&&o.clean(i)}}},{"../../lib/array":216,"./attributes":99,"fast-isnumeric":15,tinycolor2:65}],101:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/layout_attributes"),i=e("../../plots/font_attributes"),a=e("../../lib/extend").extendFlat,o=e("../../plot_api/edit_types").overrideAll;t.exports=o({thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",dflt:1.02,min:-2,max:3},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",dflt:.5,min:-2,max:3},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle"},ypad:{valType:"number",min:0,dflt:10},outlinecolor:r.linecolor,outlinewidth:r.linewidth,bordercolor:r.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:r.tickmode,nticks:r.nticks,tick0:r.tick0,dtick:r.dtick,tickvals:r.tickvals,ticktext:r.ticktext,ticks:a({},r.ticks,{dflt:""}),ticklabeloverflow:a({},r.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside bottom","inside bottom"],dflt:"outside"},ticklen:r.ticklen,tickwidth:r.tickwidth,tickcolor:r.tickcolor,showticklabels:r.showticklabels,tickfont:i({}),tickangle:r.tickangle,tickformat:r.tickformat,tickformatstops:r.tickformatstops,tickprefix:r.tickprefix,showtickprefix:r.showtickprefix,ticksuffix:r.ticksuffix,showticksuffix:r.showticksuffix,separatethousands:r.separatethousands,exponentformat:r.exponentformat,minexponent:r.minexponent,showexponent:r.showexponent,title:{text:{valType:"string"},font:i({}),side:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}},_deprecated:{title:{valType:"string"},titlefont:i({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},{"../../lib/extend":224,"../../plot_api/edit_types":258,"../../plots/cartesian/layout_attributes":291,"../../plots/font_attributes":305}],102:[function(e,t,n){"use strict";t.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},{}],103:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plot_api/plot_template"),a=e("../../plots/cartesian/tick_value_defaults"),o=e("../../plots/cartesian/tick_mark_defaults"),s=e("../../plots/cartesian/tick_label_defaults"),u=e("./attributes");t.exports=function(e,t,n){var l=i.newContainer(t,"colorbar"),c=e.colorbar||{};function f(e,t){return r.coerce(c,l,u,e,t)}var h=f("thicknessmode");f("thickness","fraction"===h?30/(n.width-n.margin.l-n.margin.r):30);var d=f("lenmode");f("len","fraction"===d?1:n.height-n.margin.t-n.margin.b),f("x"),f("xanchor"),f("xpad"),f("y"),f("yanchor"),f("ypad"),r.noneOrAll(c,l,["x","y"]),f("outlinecolor"),f("outlinewidth"),f("bordercolor"),f("borderwidth"),f("bgcolor");var p=f("ticklabelposition");f("ticklabeloverflow",-1!==p.indexOf("inside")?"hide past domain":"hide past div"),a(c,l,f,"linear");var v=n.font,g={outerTicks:!1,font:v};-1!==p.indexOf("inside")&&(g.bgColor="black"),s(c,l,f,"linear",g),o(c,l,f,"linear",g),f("title.text",n._dfltTitle.colorbar);var y=l.tickfont,m=r.extendFlat({},y,{color:v.color,size:r.bigFont(y.size)});r.coerceFont(f,"title.font",m),f("title.side")}},{"../../lib":230,"../../plot_api/plot_template":265,"../../plots/cartesian/tick_label_defaults":298,"../../plots/cartesian/tick_mark_defaults":299,"../../plots/cartesian/tick_value_defaults":300,"./attributes":101}],104:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("tinycolor2"),a=e("../../plots/plots"),o=e("../../registry"),s=e("../../plots/cartesian/axes"),u=e("../dragelement"),l=e("../../lib"),c=l.strTranslate,f=e("../../lib/extend").extendFlat,h=e("../../lib/setcursor"),d=e("../drawing"),p=e("../color"),v=e("../titles"),g=e("../../lib/svg_text_utils"),y=e("../colorscale/helpers").flipScale,m=e("../../plots/cartesian/axis_defaults"),b=e("../../plots/cartesian/position_defaults"),_=e("../../plots/cartesian/layout_attributes"),w=e("../../constants/alignment"),x=w.LINE_SPACING,T=w.FROM_TL,k=w.FROM_BR,O=e("./constants").cn;function S(e){var t=e._fullLayout._infolayer.selectAll("g."+O.colorbar).data(A(e),(function(e){return e._id}));t.enter().append("g").attr("class",(function(e){return e._id})).classed(O.colorbar,!0),t.each((function(t){var n=r.select(this);l.ensureSingle(n,"rect",O.cbbg),l.ensureSingle(n,"g",O.cbfills),l.ensureSingle(n,"g",O.cblines),l.ensureSingle(n,"g",O.cbaxis,(function(e){e.classed(O.crisp,!0)})),l.ensureSingle(n,"g",O.cbtitleunshift,(function(e){e.append("g").classed(O.cbtitle,!0)})),l.ensureSingle(n,"rect",O.cboutline);var i=E(n,t,e);i&&i.then&&(e._promises||[]).push(i),e._context.edits.colorbarPosition&&C(n,t,e)})),t.exit().each((function(t){a.autoMargin(e,t._id)})).remove(),t.order()}function A(e){var t,n,r,i,a=e._fullLayout,o=e.calcdata,s=[];function u(e){return f(e,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function l(){"function"===typeof i.calc?i.calc(e,r,t):(t._fillgradient=n.reversescale?y(n.colorscale):n.colorscale,t._zrange=[n[i.min],n[i.max]])}for(var c=0;c<o.length;c++){var h=o[c],d=(r=h[0].trace)._module.colorbar;if(!0===r.visible&&d)for(var p=Array.isArray(d),v=p?d:[d],g=0;g<v.length;g++){var m=(i=v[g]).container;(n=m?r[m]:r)&&n.showscale&&((t=u(n.colorbar))._id="cb"+r.uid+(p&&m?"-"+m:""),t._traceIndex=r.index,t._propPrefix=(m?m+".":"")+"colorbar.",t._meta=r._meta,l(),s.push(t))}}for(var b in a._colorAxes)if((n=a[b]).showscale){var _=a._colorAxes[b];(t=u(n.colorbar))._id="cb"+b,t._propPrefix=b+".colorbar.",t._meta=a._meta,i={min:"cmin",max:"cmax"},"heatmap"!==_[0]&&(r=_[1],i.calc=r._module.colorbar.calc),l(),s.push(t)}return s}function E(e,t,n){var o=n._fullLayout,u=o._size,h=t._fillcolor,y=t._line,m=t.title,b=m.side,_=t._zrange||r.extent(("function"===typeof h?h:y.color).domain()),w="function"===typeof y.color?y.color:function(){return y.color},S="function"===typeof h?h:function(){return h},A=t._levels,E=M(n,t,_),C=E.fill,D=E.line,P=Math.round(t.thickness*("fraction"===t.thicknessmode?u.w:1)),N=P/u.w,j=Math.round(t.len*("fraction"===t.lenmode?u.h:1)),L=j/u.h,R=t.xpad/u.w,F=(t.borderwidth+t.outlinewidth)/2,z=t.ypad/u.h,U=Math.round(t.x*u.w+t.xpad),q=t.x-N*({middle:.5,right:1}[t.xanchor]||0),B=t.y+L*(({top:-.5,bottom:.5}[t.yanchor]||0)-.5),V=Math.round(u.h*(1-B)),H=V-j;t._lenFrac=L,t._thickFrac=N,t._xLeftFrac=q,t._yBottomFrac=B;var W=t._axis=I(n,t,_);if(W.position=t.x+R+N,-1!==["top","bottom"].indexOf(b)&&(W.title.side=b,W.titlex=t.x+R,W.titley=B+("top"===m.side?L-z:z)),y.color&&"auto"===t.tickmode){W.tickmode="linear",W.tick0=A.start;var Y=A.size,G=l.constrain((V-H)/50,4,15)+1,K=(_[1]-_[0])/((t.nticks||G)*Y);if(K>1){var X=Math.pow(10,Math.floor(Math.log(K)/Math.LN10));Y*=X*l.roundUp(K/X,[2,5,10]),(Math.abs(A.start)/A.size+1e-6)%1<2e-6&&(W.tick0=0)}W.dtick=Y}W.domain=[B+z,B+L-z],W.setScale(),e.attr("transform",c(Math.round(u.l),Math.round(u.t)));var $,Q=e.select("."+O.cbtitleunshift).attr("transform",c(-Math.round(u.l),-Math.round(u.t))),J=e.select("."+O.cbaxis),Z=0;function ee(r,i){var a={propContainer:W,propName:t._propPrefix+"title",traceIndex:t._traceIndex,_meta:t._meta,placeholder:o._dfltTitle.colorbar,containerGroup:e.select("."+O.cbtitle)},s="h"===r.charAt(0)?r.substr(1):"h"+r;e.selectAll("."+s+",."+s+"-math-group").remove(),v.draw(n,r,f(a,i||{}))}function te(){if(-1!==["top","bottom"].indexOf(b)){var e,n=u.l+(t.x+R)*u.w,r=W.title.font.size;e="top"===b?(1-(B+L-z))*u.h+u.t+3+.75*r:(1-(B+z))*u.h+u.t-3-.25*r,ee(W._id+"title",{attributes:{x:n,y:e,"text-anchor":"start"}})}}function ne(){if(-1===["top","bottom"].indexOf(b)){var e=W.title.font.size,t=W._offset+W._length/2,i=u.l+(W.position||0)*u.w+("right"===W.side?10+e*(W.showticklabels?1:.5):-10-e*(W.showticklabels?.5:0));ee("h"+W._id+"title",{avoid:{selection:r.select(n).selectAll("g."+W._id+"tick"),side:b,offsetLeft:u.l,offsetTop:0,maxShift:o.width},attributes:{x:i,y:t,"text-anchor":"middle"},transform:{rotate:"-90",offset:0}})}}function re(){if(-1!==["top","bottom"].indexOf(b)){var a=e.select("."+O.cbtitle),o=a.select("text"),f=[-t.outlinewidth/2,t.outlinewidth/2],h=a.select(".h"+W._id+"title-math-group").node(),p=15.6;if(o.node()&&(p=parseInt(o.node().style.fontSize,10)*x),h?(Z=d.bBox(h).height)>p&&(f[1]-=(Z-p)/2):o.node()&&!o.classed(O.jsPlaceholder)&&(Z=d.bBox(o.node()).height),Z){if(Z+=5,"top"===b)W.domain[1]-=Z/u.h,f[1]*=-1;else{W.domain[0]+=Z/u.h;var v=g.lineCount(o);f[1]+=(1-v)*p}a.attr("transform",c(f[0],f[1])),W.setScale()}}e.selectAll("."+O.cbfills+",."+O.cblines).attr("transform",c(0,Math.round(u.h*(1-W.domain[1])))),J.attr("transform",c(0,Math.round(-u.t)));var m=e.select("."+O.cbfills).selectAll("rect."+O.cbfill).attr("style","").data(C);m.enter().append("rect").classed(O.cbfill,!0).style("stroke","none"),m.exit().remove();var T=_.map(W.c2p).map(Math.round).sort((function(e,t){return e-t}));m.each((function(e,a){var o=[0===a?_[0]:(C[a]+C[a-1])/2,a===C.length-1?_[1]:(C[a]+C[a+1])/2].map(W.c2p).map(Math.round);o[1]=l.constrain(o[1]+(o[1]>o[0])?1:-1,T[0],T[1]);var s=r.select(this).attr({x:U,width:Math.max(P,2),y:r.min(o),height:Math.max(r.max(o)-r.min(o),2)});if(t._fillgradient)d.gradient(s,n,t._id,"vertical",t._fillgradient,"fill");else{var u=S(e).replace("e-","");s.attr("fill",i(u).toHexString())}}));var k=e.select("."+O.cblines).selectAll("path."+O.cbline).data(y.color&&y.width?D:[]);k.enter().append("path").classed(O.cbline,!0),k.exit().remove(),k.each((function(e){r.select(this).attr("d","M"+U+","+(Math.round(W.c2p(e))+y.width/2%1)+"h"+P).call(d.lineGroupStyle,y.width,w(e),y.dash)})),J.selectAll("g."+W._id+"tick,path").remove();var A=U+P+(t.outlinewidth||0)/2-("outside"===t.ticks?1:0),E=s.calcTicks(W),M=s.getTickSigns(W)[2];return s.drawTicks(n,W,{vals:"inside"===W.ticks?s.clipEnds(W,E):E,layer:J,path:s.makeTickPath(W,A,M),transFn:s.makeTransTickFn(W)}),s.drawLabels(n,W,{vals:E,layer:J,transFn:s.makeTransTickLabelFn(W),labelFns:s.makeLabelFns(W,A)})}function ie(){var r=P+t.outlinewidth/2;if(-1===W.ticklabelposition.indexOf("inside")&&(r+=d.bBox(J.node()).width),($=Q.select("text")).node()&&!$.classed(O.jsPlaceholder)){var i,o=Q.select(".h"+W._id+"title-math-group").node();i=o&&-1!==["top","bottom"].indexOf(b)?d.bBox(o).width:d.bBox(Q.node()).right-U-u.l,r=Math.max(r,i)}var s=2*t.xpad+r+t.borderwidth+t.outlinewidth/2,l=V-H;e.select("."+O.cbbg).attr({x:U-t.xpad-(t.borderwidth+t.outlinewidth)/2,y:H-F,width:Math.max(s,2),height:Math.max(l+2*F,2)}).call(p.fill,t.bgcolor).call(p.stroke,t.bordercolor).style("stroke-width",t.borderwidth),e.selectAll("."+O.cboutline).attr({x:U,y:H+t.ypad+("top"===b?Z:0),width:Math.max(P,2),height:Math.max(l-2*t.ypad-Z,2)}).call(p.stroke,t.outlinecolor).style({fill:"none","stroke-width":t.outlinewidth});var f=({center:.5,right:1}[t.xanchor]||0)*s;e.attr("transform",c(u.l-f,u.t));var h={},v=T[t.yanchor],g=k[t.yanchor];"pixels"===t.lenmode?(h.y=t.y,h.t=l*v,h.b=l*g):(h.t=h.b=0,h.yt=t.y+t.len*v,h.yb=t.y-t.len*g);var y=T[t.xanchor],m=k[t.xanchor];if("pixels"===t.thicknessmode)h.x=t.x,h.l=s*y,h.r=s*m;else{var _=s-P;h.l=_*y,h.r=_*m,h.xl=t.x-t.thickness*y,h.xr=t.x+t.thickness*m}a.autoMargin(n,t._id,h)}return l.syncOrAsync([a.previousPromises,te,re,ne,a.previousPromises,ie],n)}function C(e,t,n){var r,i,a,s=n._fullLayout._size;u.init({element:e.node(),gd:n,prepFn:function(){r=e.attr("transform"),h(e)},moveFn:function(n,o){e.attr("transform",r+c(n,o)),i=u.align(t._xLeftFrac+n/s.w,t._thickFrac,0,1,t.xanchor),a=u.align(t._yBottomFrac-o/s.h,t._lenFrac,0,1,t.yanchor);var l=u.getCursor(i,a,t.xanchor,t.yanchor);h(e,l)},doneFn:function(){if(h(e),void 0!==i&&void 0!==a){var r={};r[t._propPrefix+"x"]=i,r[t._propPrefix+"y"]=a,void 0!==t._traceIndex?o.call("_guiRestyle",n,r,t._traceIndex):o.call("_guiRelayout",n,r)}}})}function M(e,t,n){var r,i,a=t._levels,o=[],s=[],u=a.end+a.size/100,l=a.size,c=1.001*n[0]-.001*n[1],f=1.001*n[1]-.001*n[0];for(i=0;i<1e5&&(r=a.start+i*l,!(l>0?r>=u:r<=u));i++)r>c&&r<f&&o.push(r);if(t._fillgradient)s=[0];else if("function"===typeof t._fillcolor){var h=t._filllevels;if(h)for(u=h.end+h.size/100,l=h.size,i=0;i<1e5&&(r=h.start+i*l,!(l>0?r>=u:r<=u));i++)r>n[0]&&r<n[1]&&s.push(r);else(s=o.map((function(e){return e-a.size/2}))).push(s[s.length-1]+a.size)}else t._fillcolor&&"string"===typeof t._fillcolor&&(s=[0]);return a.size<0&&(o.reverse(),s.reverse()),{line:o,fill:s}}function I(e,t,n){var r=e._fullLayout,i={type:"linear",range:n,tickmode:t.tickmode,nticks:t.nticks,tick0:t.tick0,dtick:t.dtick,tickvals:t.tickvals,ticktext:t.ticktext,ticks:t.ticks,ticklen:t.ticklen,tickwidth:t.tickwidth,tickcolor:t.tickcolor,showticklabels:t.showticklabels,ticklabelposition:t.ticklabelposition,ticklabeloverflow:t.ticklabeloverflow,tickfont:t.tickfont,tickangle:t.tickangle,tickformat:t.tickformat,exponentformat:t.exponentformat,minexponent:t.minexponent,separatethousands:t.separatethousands,showexponent:t.showexponent,showtickprefix:t.showtickprefix,tickprefix:t.tickprefix,showticksuffix:t.showticksuffix,ticksuffix:t.ticksuffix,title:t.title,showline:!0,anchor:"free",side:"right",position:1},a={type:"linear",_id:"y"+t._id},o={letter:"y",font:r.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:r.calendar};function s(e,t){return l.coerce(i,a,_,e,t)}return m(i,a,s,o,r),b(i,a,s,o),a}t.exports={draw:S}},{"../../constants/alignment":205,"../../lib":230,"../../lib/extend":224,"../../lib/setcursor":250,"../../lib/svg_text_utils":252,"../../plots/cartesian/axes":276,"../../plots/cartesian/axis_defaults":278,"../../plots/cartesian/layout_attributes":291,"../../plots/cartesian/position_defaults":294,"../../plots/plots":311,"../../registry":313,"../color":100,"../colorscale/helpers":111,"../dragelement":119,"../drawing":122,"../titles":198,"./constants":102,"@plotly/d3":11,tinycolor2:65}],105:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e){return r.isPlainObject(e.colorbar)}},{"../../lib":230}],106:[function(e,t,n){"use strict";t.exports={moduleType:"component",name:"colorbar",attributes:e("./attributes"),supplyDefaults:e("./defaults"),draw:e("./draw").draw,hasColorbar:e("./has_colorbar")}},{"./attributes":101,"./defaults":103,"./draw":104,"./has_colorbar":105}],107:[function(e,t,n){"use strict";var r=e("../colorbar/attributes"),i=e("../../lib/regex").counter,a=e("./scales.js").scales;function o(e){return"`"+e+"`"}Object.keys(a),t.exports=function(e,t){e=e||"";var n,s=(t=t||{}).cLetter||"c",u=("onlyIfNumerical"in t?t.onlyIfNumerical:Boolean(e),"noScale"in t?t.noScale:"marker.line"===e),l="showScaleDflt"in t?t.showScaleDflt:"z"===s,c="string"===typeof t.colorscaleDflt?a[t.colorscaleDflt]:null,f=t.editTypeOverride||"",h=e?e+".":"";"colorAttr"in t?(n=t.colorAttr,t.colorAttr):o(h+(n={z:"z",c:"color"}[s]));var d=s+"auto",p=s+"min",v=s+"max",g=s+"mid",y=(o(h+d),o(h+p),o(h+v),{});y[p]=y[v]=void 0;var m={};m[d]=!1;var b={};return"color"===n&&(b.color={valType:"color",arrayOk:!0,editType:f||"style"},t.anim&&(b.color.anim=!0)),b[d]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:y},b[p]={valType:"number",dflt:null,editType:f||"plot",impliedEdits:m},b[v]={valType:"number",dflt:null,editType:f||"plot",impliedEdits:m},b[g]={valType:"number",dflt:null,editType:"calc",impliedEdits:y},b.colorscale={valType:"colorscale",editType:"calc",dflt:c,impliedEdits:{autocolorscale:!1}},b.autocolorscale={valType:"boolean",dflt:!1!==t.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0}},b.reversescale={valType:"boolean",dflt:!1,editType:"plot"},u||(b.showscale={valType:"boolean",dflt:l,editType:"calc"},b.colorbar=r),t.noColorAxis||(b.coloraxis={valType:"subplotid",regex:i("coloraxis"),dflt:null,editType:"calc"}),b}},{"../../lib/regex":246,"../colorbar/attributes":101,"./scales.js":115}],108:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),a=e("./helpers").extractOpts;t.exports=function(e,t,n){var o,s=e._fullLayout,u=n.vals,l=n.containerStr,c=l?i.nestedProperty(t,l).get():t,f=a(c),h=!1!==f.auto,d=f.min,p=f.max,v=f.mid,g=function(){return i.aggNums(Math.min,null,u)},y=function(){return i.aggNums(Math.max,null,u)};void 0===d?d=g():h&&(d=c._colorAx&&r(d)?Math.min(d,g()):g()),void 0===p?p=y():h&&(p=c._colorAx&&r(p)?Math.max(p,y()):y()),h&&void 0!==v&&(p-v>v-d?d=v-(p-v):p-v<v-d&&(p=v+(v-d))),d===p&&(d-=.5,p+=.5),f._sync("min",d),f._sync("max",p),f.autocolorscale&&(o=d*p<0?s.colorscale.diverging:d>=0?s.colorscale.sequential:s.colorscale.sequentialminus,f._sync("colorscale",o))}},{"../../lib":230,"./helpers":111,"fast-isnumeric":15}],109:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./helpers").hasColorscale,a=e("./helpers").extractOpts;t.exports=function(e,t){function n(e,t){var n=e["_"+t];void 0!==n&&(e[t]=n)}function o(e,i){var o=i.container?r.nestedProperty(e,i.container).get():e;if(o)if(o.coloraxis)o._colorAx=t[o.coloraxis];else{var s=a(o),u=s.auto;(u||void 0===s.min)&&n(o,i.min),(u||void 0===s.max)&&n(o,i.max),s.autocolorscale&&n(o,"colorscale")}}for(var s=0;s<e.length;s++){var u=e[s],l=u._module.colorbar;if(l)if(Array.isArray(l))for(var c=0;c<l.length;c++)o(u,l[c]);else o(u,l);i(u,"marker.line")&&o(u,{container:"marker.line",min:"cmin",max:"cmax"})}for(var f in t._colorAxes)o(t[f],{min:"cmin",max:"cmax"})}},{"../../lib":230,"./helpers":111}],110:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),a=e("../colorbar/has_colorbar"),o=e("../colorbar/defaults"),s=e("./scales").isValid,u=e("../../registry").traceIs;function l(e,t){var n=t.slice(0,t.length-1);return t?i.nestedProperty(e,n).get()||{}:e}t.exports=function e(t,n,c,f,h){var d=h.prefix,p=h.cLetter,v="_module"in n,g=l(t,d),y=l(n,d),m=l(n._template||{},d)||{},b=function(){return delete t.coloraxis,delete n.coloraxis,e(t,n,c,f,h)};if(v){var _=c._colorAxes||{},w=f(d+"coloraxis");if(w){var x=u(n,"contour")&&i.nestedProperty(n,"contours.coloring").get()||"heatmap",T=_[w];return void(T?(T[2].push(b),T[0]!==x&&(T[0]=!1,i.warn(["Ignoring coloraxis:",w,"setting","as it is linked to incompatible colorscales."].join(" ")))):_[w]=[x,n,[b]])}}var k=g[p+"min"],O=g[p+"max"],S=r(k)&&r(O)&&k<O;f(d+p+"auto",!S)?f(d+p+"mid"):(f(d+p+"min"),f(d+p+"max"));var A,E,C=g.colorscale,M=m.colorscale;void 0!==C&&(A=!s(C)),void 0!==M&&(A=!s(M)),f(d+"autocolorscale",A),f(d+"colorscale"),f(d+"reversescale"),"marker.line."!==d&&(d&&v&&(E=a(g)),f(d+"showscale",E)&&(d&&m&&(y._template=m),o(g,y,c)))}},{"../../lib":230,"../../registry":313,"../colorbar/defaults":103,"../colorbar/has_colorbar":105,"./scales":115,"fast-isnumeric":15}],111:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("tinycolor2"),a=e("fast-isnumeric"),o=e("../../lib"),s=e("../color"),u=e("./scales").isValid;function l(e,t,n){var r=t?o.nestedProperty(e,t).get()||{}:e,i=r[n||"color"],s=!1;if(o.isArrayOrTypedArray(i))for(var l=0;l<i.length;l++)if(a(i[l])){s=!0;break}return o.isPlainObject(r)&&(s||!0===r.showscale||a(r.cmin)&&a(r.cmax)||u(r.colorscale)||o.isPlainObject(r.colorbar))}var c=["showscale","autocolorscale","colorscale","reversescale","colorbar"],f=["min","max","mid","auto"];function h(e){var t,n,r,i=e._colorAx,a=i||e,o={};for(n=0;n<c.length;n++)o[r=c[n]]=a[r];if(i)for(t="c",n=0;n<f.length;n++)o[r=f[n]]=a["c"+r];else{var s;for(n=0;n<f.length;n++)((s="c"+(r=f[n]))in a||(s="z"+r)in a)&&(o[r]=a[s]);t=s.charAt(0)}return o._sync=function(e,n){var r=-1!==f.indexOf(e)?t+e:e;a[r]=a["_"+r]=n},o}function d(e){for(var t=h(e),n=t.min,r=t.max,i=t.reversescale?p(t.colorscale):t.colorscale,a=i.length,o=new Array(a),s=new Array(a),u=0;u<a;u++){var l=i[u];o[u]=n+l[0]*(r-n),s[u]=l[1]}return{domain:o,range:s}}function p(e){for(var t=e.length,n=new Array(t),r=t-1,i=0;r>=0;r--,i++){var a=e[r];n[i]=[1-a[0],a[1]]}return n}function v(e,t){t=t||{};for(var n=e.domain,o=e.range,u=o.length,l=new Array(u),c=0;c<u;c++){var f=i(o[c]).toRgb();l[c]=[f.r,f.g,f.b,f.a]}var h,d=r.scale.linear().domain(n).range(l).clamp(!0),p=t.noNumericCheck,v=t.returnArray;return(h=p&&v?d:p?function(e){return y(d(e))}:v?function(e){return a(e)?d(e):i(e).isValid()?e:s.defaultLine}:function(e){return a(e)?y(d(e)):i(e).isValid()?e:s.defaultLine}).domain=d.domain,h.range=function(){return o},h}function g(e,t){return v(d(e),t)}function y(e){var t={r:e[0],g:e[1],b:e[2],a:e[3]};return i(t).toRgbString()}t.exports={hasColorscale:l,extractOpts:h,extractScale:d,flipScale:p,makeColorScaleFunc:v,makeColorScaleFuncFromTrace:g}},{"../../lib":230,"../color":100,"./scales":115,"@plotly/d3":11,"fast-isnumeric":15,tinycolor2:65}],112:[function(e,t,n){"use strict";var r=e("./scales"),i=e("./helpers");t.exports={moduleType:"component",name:"colorscale",attributes:e("./attributes"),layoutAttributes:e("./layout_attributes"),supplyLayoutDefaults:e("./layout_defaults"),handleDefaults:e("./defaults"),crossTraceDefaults:e("./cross_trace_defaults"),calc:e("./calc"),scales:r.scales,defaultScale:r.defaultScale,getScale:r.get,isValidScale:r.isValid,hasColorscale:i.hasColorscale,extractOpts:i.extractOpts,extractScale:i.extractScale,flipScale:i.flipScale,makeColorScaleFunc:i.makeColorScaleFunc,makeColorScaleFuncFromTrace:i.makeColorScaleFuncFromTrace}},{"./attributes":107,"./calc":108,"./cross_trace_defaults":109,"./defaults":110,"./helpers":111,"./layout_attributes":113,"./layout_defaults":114,"./scales":115}],113:[function(e,t,n){"use strict";var r=e("../../lib/extend").extendFlat,i=e("./attributes"),a=e("./scales").scales;t.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:a.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:a.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:a.RdBu,editType:"calc"}},coloraxis:r({_isSubplotObj:!0,editType:"calc"},i("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},{"../../lib/extend":224,"./attributes":107,"./scales":115}],114:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plot_api/plot_template"),a=e("./layout_attributes"),o=e("./defaults");t.exports=function(e,t){function n(n,i){return r.coerce(e,t,a,n,i)}n("colorscale.sequential"),n("colorscale.sequentialminus"),n("colorscale.diverging");var s,u,l=t._colorAxes;function c(e,t){return r.coerce(s,u,a.coloraxis,e,t)}for(var f in l){var h=l[f];if(h[0])s=e[f]||{},(u=i.newContainer(t,f,"coloraxis"))._name=f,o(s,u,t,c,{prefix:"",cLetter:"c"});else{for(var d=0;d<h[2].length;d++)h[2][d]();delete t._colorAxes[f]}}}},{"../../lib":230,"../../plot_api/plot_template":265,"./defaults":110,"./layout_attributes":113}],115:[function(e,t,n){"use strict";var r=e("tinycolor2"),i={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},a=i.RdBu;function o(e,t){if(t||(t=a),!e)return t;function n(){try{e=i[e]||JSON.parse(e)}catch(n){e=t}}return"string"===typeof e&&(n(),"string"===typeof e&&n()),s(e)?e:t}function s(e){var t=0;if(!Array.isArray(e)||e.length<2)return!1;if(!e[0]||!e[e.length-1])return!1;if(0!==+e[0][0]||1!==+e[e.length-1][0])return!1;for(var n=0;n<e.length;n++){var i=e[n];if(2!==i.length||+i[0]<t||!r(i[1]).isValid())return!1;t=+i[0]}return!0}function u(e){return void 0!==i[e]||s(e)}t.exports={scales:i,defaultScale:a,get:o,isValid:u}},{tinycolor2:65}],116:[function(e,t,n){"use strict";t.exports=function(e,t,n,r,i){var a=(e-n)/(r-n),o=a+t/(r-n),s=(a+o)/2;return"left"===i||"bottom"===i?a:"center"===i||"middle"===i?s:"right"===i||"top"===i?o:a<2/3-s?a:o>4/3-s?o:s}},{}],117:[function(e,t,n){"use strict";var r=e("../../lib"),i=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];t.exports=function(e,t,n,a){return e="left"===n?0:"center"===n?1:"right"===n?2:r.constrain(Math.floor(3*e),0,2),t="bottom"===a?0:"middle"===a?1:"top"===a?2:r.constrain(Math.floor(3*t),0,2),i[t][e]}},{"../../lib":230}],118:[function(e,t,n){"use strict";n.selectMode=function(e){return"lasso"===e||"select"===e},n.drawMode=function(e){return"drawclosedpath"===e||"drawopenpath"===e||"drawline"===e||"drawrect"===e||"drawcircle"===e},n.openMode=function(e){return"drawline"===e||"drawopenpath"===e},n.rectMode=function(e){return"select"===e||"drawline"===e||"drawrect"===e||"drawcircle"===e},n.freeMode=function(e){return"lasso"===e||"drawclosedpath"===e||"drawopenpath"===e},n.selectingOrDrawing=function(e){return n.freeMode(e)||n.rectMode(e)}},{}],119:[function(e,t,n){"use strict";var r=e("mouse-event-offset"),i=e("has-hover"),a=e("has-passive-events"),o=e("../../lib").removeElement,s=e("../../plots/cartesian/constants"),u=t.exports={};u.align=e("./align"),u.getCursor=e("./cursor");var l=e("./unhover");function c(){var e=document.createElement("div");e.className="dragcover";var t=e.style;return t.position="fixed",t.left=0,t.right=0,t.top=0,t.bottom=0,t.zIndex=999999999,t.background="none",document.body.appendChild(e),e}function f(e){return r(e.changedTouches?e.changedTouches[0]:e,document.body)}u.unhover=l.wrapped,u.unhoverRaw=l.raw,u.init=function(e){var t,n,r,l,h,d,p,v,g=e.gd,y=1,m=g._context.doubleClickDelay,b=e.element;function _(e,t,n){return Math.abs(e)<n&&(e=0),Math.abs(t)<n&&(t=0),[e,t]}g._mouseDownTime||(g._mouseDownTime=0),b.style.pointerEvents="all",b.onmousedown=x,a?(b._ontouchstart&&b.removeEventListener("touchstart",b._ontouchstart),b._ontouchstart=x,b.addEventListener("touchstart",x,{passive:!1})):b.ontouchstart=x;var w=e.clampFn||_;function x(a){g._dragged=!1,g._dragging=!0;var o=f(a);t=o[0],n=o[1],p=a.target,d=a,v=2===a.buttons||a.ctrlKey,"undefined"===typeof a.clientX&&"undefined"===typeof a.clientY&&(a.clientX=t,a.clientY=n),(r=(new Date).getTime())-g._mouseDownTime<m?y+=1:(y=1,g._mouseDownTime=r),e.prepFn&&e.prepFn(a,t,n),i&&!v?(h=c()).style.cursor=window.getComputedStyle(b).cursor:i||(h=document,l=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(b).cursor),document.addEventListener("mouseup",k),document.addEventListener("touchend",k),!1!==e.dragmode&&(a.preventDefault(),document.addEventListener("mousemove",T),document.addEventListener("touchmove",T,{passive:!1}))}function T(r){r.preventDefault();var i=f(r),a=e.minDrag||s.MINDRAG,o=w(i[0]-t,i[1]-n,a),l=o[0],c=o[1];(l||c)&&(g._dragged=!0,u.unhover(g,r)),g._dragged&&e.moveFn&&!v&&(g._dragdata={element:b,dx:l,dy:c},e.moveFn(l,c))}function k(t){if(delete g._dragdata,!1!==e.dragmode&&(t.preventDefault(),document.removeEventListener("mousemove",T),document.removeEventListener("touchmove",T)),document.removeEventListener("mouseup",k),document.removeEventListener("touchend",k),i?o(h):l&&(h.documentElement.style.cursor=l,l=null),g._dragging){if(g._dragging=!1,(new Date).getTime()-g._mouseDownTime>m&&(y=Math.max(y-1,1)),g._dragged)e.doneFn&&e.doneFn();else if(e.clickFn&&e.clickFn(y,d),!v){var n;try{n=new MouseEvent("click",t)}catch(a){var r=f(t);(n=document.createEvent("MouseEvents")).initMouseEvent("click",t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,r[0],r[1],t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget)}p.dispatchEvent(n)}g._dragging=!1,g._dragged=!1}else g._dragged=!1}},u.coverSlip=c},{"../../lib":230,"../../plots/cartesian/constants":283,"./align":116,"./cursor":117,"./unhover":120,"has-hover":46,"has-passive-events":47,"mouse-event-offset":51}],120:[function(e,t,n){"use strict";var r=e("../../lib/events"),i=e("../../lib/throttle"),a=e("../../lib/dom").getGraphDiv,o=e("../fx/constants"),s=t.exports={};s.wrapped=function(e,t,n){(e=a(e))._fullLayout&&i.clear(e._fullLayout._uid+o.HOVERID),s.raw(e,t,n)},s.raw=function(e,t){var n=e._fullLayout,i=e._hoverdata;t||(t={}),t.target&&!e._dragged&&!1===r.triggerHandler(e,"plotly_beforehover",t)||(n._hoverlayer.selectAll("g").remove(),n._hoverlayer.selectAll("line").remove(),n._hoverlayer.selectAll("circle").remove(),e._hoverdata=void 0,t.target&&i&&e.emit("plotly_unhover",{event:t,points:i}))}},{"../../lib/dom":222,"../../lib/events":223,"../../lib/throttle":253,"../fx/constants":134}],121:[function(e,t,n){"use strict";n.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},n.pattern={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},{}],122:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("fast-isnumeric"),a=e("tinycolor2"),o=e("../../registry"),s=e("../color"),u=e("../colorscale"),l=e("../../lib"),c=l.strTranslate,f=e("../../lib/svg_text_utils"),h=e("../../constants/xmlns_namespaces"),d=e("../../constants/alignment").LINE_SPACING,p=e("../../constants/interactions").DESELECTDIM,v=e("../../traces/scatter/subtypes"),g=e("../../traces/scatter/make_bubble_size_func"),y=e("../../components/fx/helpers").appendArrayPointValue,m=t.exports={};m.font=function(e,t,n,r){l.isPlainObject(t)&&(r=t.color,n=t.size,t=t.family),t&&e.style("font-family",t),n+1&&e.style("font-size",n+"px"),r&&e.call(s.fill,r)},m.setPosition=function(e,t,n){e.attr("x",t).attr("y",n)},m.setSize=function(e,t,n){e.attr("width",t).attr("height",n)},m.setRect=function(e,t,n,r,i){e.call(m.setPosition,t,n).call(m.setSize,r,i)},m.translatePoint=function(e,t,n,r){var a=n.c2p(e.x),o=r.c2p(e.y);return!!(i(a)&&i(o)&&t.node())&&("text"===t.node().nodeName?t.attr("x",a).attr("y",o):t.attr("transform",c(a,o)),!0)},m.translatePoints=function(e,t,n){e.each((function(e){var i=r.select(this);m.translatePoint(e,i,t,n)}))},m.hideOutsideRangePoint=function(e,t,n,r,i,a){t.attr("display",n.isPtWithinRange(e,i)&&r.isPtWithinRange(e,a)?null:"none")},m.hideOutsideRangePoints=function(e,t){if(t._hasClipOnAxisFalse){var n=t.xaxis,i=t.yaxis;e.each((function(t){var a=t[0].trace,s=a.xcalendar,u=a.ycalendar,l=o.traceIs(a,"bar-like")?".bartext":".point,.textpoint";e.selectAll(l).each((function(e){m.hideOutsideRangePoint(e,r.select(this),n,i,s,u)}))}))}},m.crispRound=function(e,t,n){return t&&i(t)?e._context.staticPlot?t:t<1?1:Math.round(t):n||0},m.singleLineStyle=function(e,t,n,r,i){t.style("fill","none");var a=(((e||[])[0]||{}).trace||{}).line||{},o=n||a.width||0,u=i||a.dash||"";s.stroke(t,r||a.color),m.dashLine(t,u,o)},m.lineGroupStyle=function(e,t,n,i){e.style("fill","none").each((function(e){var a=(((e||[])[0]||{}).trace||{}).line||{},o=t||a.width||0,u=i||a.dash||"";r.select(this).call(s.stroke,n||a.color).call(m.dashLine,u,o)}))},m.dashLine=function(e,t,n){n=+n||0,t=m.dashStyle(t,n),e.style({"stroke-dasharray":t,"stroke-width":n+"px"})},m.dashStyle=function(e,t){t=+t||1;var n=Math.max(t,3);return"solid"===e?e="":"dot"===e?e=n+"px,"+n+"px":"dash"===e?e=3*n+"px,"+3*n+"px":"longdash"===e?e=5*n+"px,"+5*n+"px":"dashdot"===e?e=3*n+"px,"+n+"px,"+n+"px,"+n+"px":"longdashdot"===e&&(e=5*n+"px,"+2*n+"px,"+n+"px,"+2*n+"px"),e},m.singleFillStyle=function(e){var t=(((r.select(e.node()).data()[0]||[])[0]||{}).trace||{}).fillcolor;t&&e.call(s.fill,t)},m.fillGroupStyle=function(e){e.style("stroke-width",0).each((function(e){var t=r.select(this);e[0].trace&&t.call(s.fill,e[0].trace.fillcolor)}))};var b=e("./symbol_defs");m.symbolNames=[],m.symbolFuncs=[],m.symbolNeedLines={},m.symbolNoDot={},m.symbolNoFill={},m.symbolList=[],Object.keys(b).forEach((function(e){var t=b[e],n=t.n;m.symbolList.push(n,String(n),e,n+100,String(n+100),e+"-open"),m.symbolNames[n]=e,m.symbolFuncs[n]=t.f,t.needLine&&(m.symbolNeedLines[n]=!0),t.noDot?m.symbolNoDot[n]=!0:m.symbolList.push(n+200,String(n+200),e+"-dot",n+300,String(n+300),e+"-open-dot"),t.noFill&&(m.symbolNoFill[n]=!0)}));var _=m.symbolNames.length,w="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";function x(e,t){var n=e%100;return m.symbolFuncs[n](t)+(e>=200?w:"")}m.symbolNumber=function(e){if(i(e))e=+e;else if("string"===typeof e){var t=0;e.indexOf("-open")>0&&(t=100,e=e.replace("-open","")),e.indexOf("-dot")>0&&(t+=200,e=e.replace("-dot","")),(e=m.symbolNames.indexOf(e))>=0&&(e+=t)}return e%100>=_||e>=400?0:Math.floor(Math.max(e,0))};var T={x1:1,x2:0,y1:0,y2:0},k={x1:0,x2:0,y1:1,y2:0},O=r.format("~.1f"),S={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:T},horizontalreversed:{node:"linearGradient",attrs:T,reversed:!0},vertical:{node:"linearGradient",attrs:k},verticalreversed:{node:"linearGradient",attrs:k,reversed:!0}};m.gradient=function(e,t,n,i,o,u){for(var c=o.length,f=S[i],h=new Array(c),d=0;d<c;d++)f.reversed?h[c-1-d]=[O(100*(1-o[d][0])),o[d][1]]:h[d]=[O(100*o[d][0]),o[d][1]];var p=t._fullLayout,v="g"+p._uid+"-"+n,g=p._defs.select(".gradients").selectAll("#"+v).data([i+h.join(";")],l.identity);g.exit().remove(),g.enter().append(f.node).each((function(){var e=r.select(this);f.attrs&&e.attr(f.attrs),e.attr("id",v);var t=e.selectAll("stop").data(h);t.exit().remove(),t.enter().append("stop"),t.each((function(e){var t=a(e[1]);r.select(this).attr({offset:e[0]+"%","stop-color":s.tinyRGB(t),"stop-opacity":t.getAlpha()})}))})),e.style(u,R(v,t)).style(u+"-opacity",null);var y=function(e){return"."+e.attr("class").replace(/\s/g,".")},m=y(r.select(e.node().parentNode))+">"+y(e);p._gradientUrlQueryParts[m]=1},m.pattern=function(e,t,n,i,a,o,u,c,f,h,d,p){var v="legend"===t;c&&("overlay"===f?(h=c,d=s.contrast(h)):(h=void 0,d=c));var g,y,m,b,_,w,x=n._fullLayout,T="p"+x._uid+"-"+i,k=function(e,t,n,r,i){return r+(i-r)*(e-t)/(n-t)},O={};switch(a){case"/":g=o*Math.sqrt(2),y=o*Math.sqrt(2),w="path",O={d:m="M-"+g/4+","+y/4+"l"+g/2+",-"+y/2+"M0,"+y+"L"+g+",0M"+g/4*3+","+y/4*5+"l"+g/2+",-"+y/2,opacity:p,stroke:d,"stroke-width":(b=u*o)+"px"};break;case"\\":g=o*Math.sqrt(2),y=o*Math.sqrt(2),w="path",O={d:m="M"+g/4*3+",-"+y/4+"l"+g/2+","+y/2+"M0,0L"+g+","+y+"M-"+g/4+","+y/4*3+"l"+g/2+","+y/2,opacity:p,stroke:d,"stroke-width":(b=u*o)+"px"};break;case"x":g=o*Math.sqrt(2),y=o*Math.sqrt(2),m="M-"+g/4+","+y/4+"l"+g/2+",-"+y/2+"M0,"+y+"L"+g+",0M"+g/4*3+","+y/4*5+"l"+g/2+",-"+y/2+"M"+g/4*3+",-"+y/4+"l"+g/2+","+y/2+"M0,0L"+g+","+y+"M-"+g/4+","+y/4*3+"l"+g/2+","+y/2,b=o-o*Math.sqrt(1-u),w="path",O={d:m,opacity:p,stroke:d,"stroke-width":b+"px"};break;case"|":w="path",w="path",O={d:m="M"+(g=o)/2+",0L"+g/2+","+(y=o),opacity:p,stroke:d,"stroke-width":(b=u*o)+"px"};break;case"-":w="path",w="path",O={d:m="M0,"+(y=o)/2+"L"+(g=o)+","+y/2,opacity:p,stroke:d,"stroke-width":(b=u*o)+"px"};break;case"+":w="path",m="M"+(g=o)/2+",0L"+g/2+","+(y=o)+"M0,"+y/2+"L"+g+","+y/2,b=o-o*Math.sqrt(1-u),w="path",O={d:m,opacity:p,stroke:d,"stroke-width":b+"px"};break;case".":g=o,y=o,_=u<Math.PI/4?Math.sqrt(u*o*o/Math.PI):k(u,Math.PI/4,1,o/2,o/Math.sqrt(2)),w="circle",O={cx:g/2,cy:y/2,r:_,opacity:p,fill:d}}var S=[a||"noSh",h||"noBg",d||"noFg",o,u].join(";"),A=x._defs.select(".patterns").selectAll("#"+T).data([S],l.identity);A.exit().remove(),A.enter().append("pattern").each((function(){var e=r.select(this);if(e.attr({id:T,width:g+"px",height:y+"px",patternUnits:"userSpaceOnUse",patternTransform:v?"scale(0.8)":""}),h){var t=e.selectAll("rect").data([0]);t.exit().remove(),t.enter().append("rect").attr({width:g+"px",height:y+"px",fill:h})}var n=e.selectAll(w).data([0]);n.exit().remove(),n.enter().append(w).attr(O)})),e.style("fill",R(T,n)).style("fill-opacity",null),e.classed("pattern_filled",!0);var E="."+r.select(e.node().parentNode).attr("class").replace(/\s/g,".")+">.pattern_filled";x._patternUrlQueryParts[E]=1},m.initGradients=function(e){var t=e._fullLayout;l.ensureSingle(t._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),t._gradientUrlQueryParts={}},m.initPatterns=function(e){var t=e._fullLayout;l.ensureSingle(t._defs,"g","patterns").selectAll("pattern").remove(),t._patternUrlQueryParts={}},m.getPatternAttr=function(e,t,n){return e&&l.isArrayOrTypedArray(e)?t<e.length?e[t]:n:e},m.pointStyle=function(e,t,n){if(e.size()){var i=m.makePointStyleFns(t);e.each((function(e){m.singlePointStyle(e,r.select(this),t,i,n)}))}},m.singlePointStyle=function(e,t,n,r,i){var a=n.marker,o=a.line;if(t.style("opacity",r.selectedOpacityFn?r.selectedOpacityFn(e):void 0===e.mo?a.opacity:e.mo),r.ms2mrc){var u;u="various"===e.ms||"various"===a.size?3:r.ms2mrc(e.ms),e.mrc=u,r.selectedSizeFn&&(u=e.mrc=r.selectedSizeFn(e));var c=m.symbolNumber(e.mx||a.symbol)||0;e.om=c%200>=100,t.attr("d",x(c,u))}var f,h,d,p=!1;if(e.so)d=o.outlierwidth,h=o.outliercolor,f=a.outliercolor;else{var v=(o||{}).width;d=(e.mlw+1||v+1||(e.trace?(e.trace.marker.line||{}).width:0)+1)-1||0,h="mlc"in e?e.mlcc=r.lineScale(e.mlc):l.isArrayOrTypedArray(o.color)?s.defaultLine:o.color,l.isArrayOrTypedArray(a.color)&&(f=s.defaultLine,p=!0),f="mc"in e?e.mcc=r.markerScale(e.mc):a.color||"rgba(0,0,0,0)",r.selectedColorFn&&(f=r.selectedColorFn(e))}if(e.om)t.call(s.stroke,f).style({"stroke-width":(d||1)+"px",fill:"none"});else{t.style("stroke-width",(e.isBlank?0:d)+"px");var g=a.gradient,y=e.mgt;y?p=!0:y=g&&g.type,l.isArrayOrTypedArray(y)&&(y=y[0],S[y]||(y=0));var b=a.pattern,_=b&&m.getPatternAttr(b.shape,e.i,"");if(y&&"none"!==y){var w=e.mgc;w?p=!0:w=g.color;var T=n.uid;p&&(T+="-"+e.i),m.gradient(t,i,T,y,[[0,w],[1,f]],"fill")}else if(_){var k=m.getPatternAttr(b.bgcolor,e.i,null),O=m.getPatternAttr(b.fgcolor,e.i,null),A=b.fgopacity,E=m.getPatternAttr(b.size,e.i,8),C=m.getPatternAttr(b.solidity,e.i,.3),M=e.mcc||l.isArrayOrTypedArray(b.shape)||l.isArrayOrTypedArray(b.bgcolor)||l.isArrayOrTypedArray(b.size)||l.isArrayOrTypedArray(b.solidity),I=n.uid;M&&(I+="-"+e.i),m.pattern(t,"point",i,I,_,E,C,e.mcc,b.fillmode,k,O,A)}else s.fill(t,f);d&&s.stroke(t,h)}},m.makePointStyleFns=function(e){var t={},n=e.marker;return t.markerScale=m.tryColorscale(n,""),t.lineScale=m.tryColorscale(n,"line"),o.traceIs(e,"symbols")&&(t.ms2mrc=v.isBubble(e)?g(e):function(){return(n.size||6)/2}),e.selectedpoints&&l.extendFlat(t,m.makeSelectedPointStyleFns(e)),t},m.makeSelectedPointStyleFns=function(e){var t={},n=e.selected||{},r=e.unselected||{},i=e.marker||{},a=n.marker||{},s=r.marker||{},u=i.opacity,c=a.opacity,f=s.opacity,h=void 0!==c,d=void 0!==f;(l.isArrayOrTypedArray(u)||h||d)&&(t.selectedOpacityFn=function(e){var t=void 0===e.mo?i.opacity:e.mo;return e.selected?h?c:t:d?f:p*t});var v=i.color,g=a.color,y=s.color;(g||y)&&(t.selectedColorFn=function(e){var t=e.mcc||v;return e.selected?g||t:y||t});var m=i.size,b=a.size,_=s.size,w=void 0!==b,x=void 0!==_;return o.traceIs(e,"symbols")&&(w||x)&&(t.selectedSizeFn=function(e){var t=e.mrc||m/2;return e.selected?w?b/2:t:x?_/2:t}),t},m.makeSelectedTextStyleFns=function(e){var t={},n=e.selected||{},r=e.unselected||{},i=e.textfont||{},a=n.textfont||{},o=r.textfont||{},u=i.color,l=a.color,c=o.color;return t.selectedTextColorFn=function(e){var t=e.tc||u;return e.selected?l||t:c||(l?t:s.addOpacity(t,p))},t},m.selectedPointStyle=function(e,t){if(e.size()&&t.selectedpoints){var n=m.makeSelectedPointStyleFns(t),i=t.marker||{},a=[];n.selectedOpacityFn&&a.push((function(e,t){e.style("opacity",n.selectedOpacityFn(t))})),n.selectedColorFn&&a.push((function(e,t){s.fill(e,n.selectedColorFn(t))})),n.selectedSizeFn&&a.push((function(e,t){var r=t.mx||i.symbol||0,a=n.selectedSizeFn(t);e.attr("d",x(m.symbolNumber(r),a)),t.mrc2=a})),a.length&&e.each((function(e){for(var t=r.select(this),n=0;n<a.length;n++)a[n](t,e)}))}},m.tryColorscale=function(e,t){var n=t?l.nestedProperty(e,t).get():e;if(n){var r=n.color;if((n.colorscale||n._colorAx)&&l.isArrayOrTypedArray(r))return u.makeColorScaleFuncFromTrace(n)}return l.identity};var A={start:1,end:-1,middle:0,bottom:1,top:-1};function E(e,t,n,i){var a=r.select(e.node().parentNode),o=-1!==t.indexOf("top")?"top":-1!==t.indexOf("bottom")?"bottom":"middle",s=-1!==t.indexOf("left")?"end":-1!==t.indexOf("right")?"start":"middle",u=i?i/.8+1:0,l=(f.lineCount(e)-1)*d+1,h=A[s]*u,p=.75*n+A[o]*u+(A[o]-1)*l*n/2;e.attr("text-anchor",s),a.attr("transform",c(h,p))}function C(e,t){var n=e.ts||t.textfont.size;return i(n)&&n>0?n:0}m.textPointStyle=function(e,t,n){if(e.size()){var i;if(t.selectedpoints){var a=m.makeSelectedTextStyleFns(t);i=a.selectedTextColorFn}var o=t.texttemplate,s=n._fullLayout;e.each((function(e){var a=r.select(this),u=o?l.extractOption(e,t,"txt","texttemplate"):l.extractOption(e,t,"tx","text");if(u||0===u){if(o){var c=t._module.formatLabels,h=c?c(e,t,s):{},d={};y(d,t,e.i);var p=t._meta||{};u=l.texttemplateString(u,h,s._d3locale,d,e,p)}var v=e.tp||t.textposition,g=C(e,t),b=i?i(e):e.tc||t.textfont.color;a.call(m.font,e.tf||t.textfont.family,g,b).text(u).call(f.convertToTspans,n).call(E,v,g,e.mrc)}else a.remove()}))}},m.selectedTextStyle=function(e,t){if(e.size()&&t.selectedpoints){var n=m.makeSelectedTextStyleFns(t);e.each((function(e){var i=r.select(this),a=n.selectedTextColorFn(e),o=e.tp||t.textposition,u=C(e,t);s.fill(i,a),E(i,o,u,e.mrc2||e.mrc)}))}};var M=.5;function I(e,t,n,i){var a=e[0]-t[0],o=e[1]-t[1],s=n[0]-t[0],u=n[1]-t[1],l=Math.pow(a*a+o*o,M/2),c=Math.pow(s*s+u*u,M/2),f=(c*c*a-l*l*s)*i,h=(c*c*o-l*l*u)*i,d=3*c*(l+c),p=3*l*(l+c);return[[r.round(t[0]+(d&&f/d),2),r.round(t[1]+(d&&h/d),2)],[r.round(t[0]-(p&&f/p),2),r.round(t[1]-(p&&h/p),2)]]}m.smoothopen=function(e,t){if(e.length<3)return"M"+e.join("L");var n,r="M"+e[0],i=[];for(n=1;n<e.length-1;n++)i.push(I(e[n-1],e[n],e[n+1],t));for(r+="Q"+i[0][0]+" "+e[1],n=2;n<e.length-1;n++)r+="C"+i[n-2][1]+" "+i[n-1][0]+" "+e[n];return r+="Q"+i[e.length-3][1]+" "+e[e.length-1]},m.smoothclosed=function(e,t){if(e.length<3)return"M"+e.join("L")+"Z";var n,r="M"+e[0],i=e.length-1,a=[I(e[i],e[0],e[1],t)];for(n=1;n<i;n++)a.push(I(e[n-1],e[n],e[n+1],t));for(a.push(I(e[i-1],e[i],e[0],t)),n=1;n<=i;n++)r+="C"+a[n-1][1]+" "+a[n][0]+" "+e[n];return r+="C"+a[i][1]+" "+a[0][0]+" "+e[0]+"Z"};var D={hv:function(e,t){return"H"+r.round(t[0],2)+"V"+r.round(t[1],2)},vh:function(e,t){return"V"+r.round(t[1],2)+"H"+r.round(t[0],2)},hvh:function(e,t){return"H"+r.round((e[0]+t[0])/2,2)+"V"+r.round(t[1],2)+"H"+r.round(t[0],2)},vhv:function(e,t){return"V"+r.round((e[1]+t[1])/2,2)+"H"+r.round(t[0],2)+"V"+r.round(t[1],2)}},P=function(e,t){return"L"+r.round(t[0],2)+","+r.round(t[1],2)};m.steps=function(e){var t=D[e]||P;return function(e){for(var n="M"+r.round(e[0][0],2)+","+r.round(e[0][1],2),i=1;i<e.length;i++)n+=t(e[i-1],e[i]);return n}},m.makeTester=function(){var e=l.ensureSingleById(r.select("body"),"svg","js-plotly-tester",(function(e){e.attr(h.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})})),t=l.ensureSingle(e,"path","js-reference-point",(function(e){e.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})}));m.tester=e,m.testref=t},m.savedBBoxes={};var N=0,j=1e4;function L(e){var t=e.getAttribute("data-unformatted");if(null!==t)return t+e.getAttribute("data-math")+e.getAttribute("text-anchor")+e.getAttribute("style")}function R(e,t){if(!e)return null;var n=t._context,r=n._exportedPlot?"":n._baseUrl||"";return r?"url('"+r+"#"+e+"')":"url(#"+e+")"}m.bBox=function(e,t,n){var i,a,o;if(n||(n=L(e)),n){if(i=m.savedBBoxes[n])return l.extendFlat({},i)}else if(1===e.childNodes.length){var s=e.childNodes[0];if(n=L(s)){var u=+s.getAttribute("x")||0,c=+s.getAttribute("y")||0,h=s.getAttribute("transform");if(!h){var d=m.bBox(s,!1,n);return u&&(d.left+=u,d.right+=u),c&&(d.top+=c,d.bottom+=c),d}if(n+="~"+u+"~"+c+"~"+h,i=m.savedBBoxes[n])return l.extendFlat({},i)}}t?a=e:(o=m.tester.node(),a=e.cloneNode(!0),o.appendChild(a)),r.select(a).attr("transform",null).call(f.positionText,0,0);var p=a.getBoundingClientRect(),v=m.testref.node().getBoundingClientRect();t||o.removeChild(a);var g={height:p.height,width:p.width,left:p.left-v.left,top:p.top-v.top,right:p.right-v.left,bottom:p.bottom-v.top};return N>=j&&(m.savedBBoxes={},N=0),n&&(m.savedBBoxes[n]=g),N++,l.extendFlat({},g)},m.setClipUrl=function(e,t,n){e.attr("clip-path",R(t,n))},m.getTranslate=function(e){var t=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,n=(e[e.attr?"attr":"getAttribute"]("transform")||"").replace(t,(function(e,t,n){return[t,n].join(" ")})).split(" ");return{x:+n[0]||0,y:+n[1]||0}},m.setTranslate=function(e,t,n){var r=/(\btranslate\(.*?\);?)/,i=e.attr?"attr":"getAttribute",a=e.attr?"attr":"setAttribute",o=e[i]("transform")||"";return t=t||0,n=n||0,o=o.replace(r,"").trim(),o=(o+=c(t,n)).trim(),e[a]("transform",o),o},m.getScale=function(e){var t=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,n=(e[e.attr?"attr":"getAttribute"]("transform")||"").replace(t,(function(e,t,n){return[t,n].join(" ")})).split(" ");return{x:+n[0]||1,y:+n[1]||1}},m.setScale=function(e,t,n){var r=/(\bscale\(.*?\);?)/,i=e.attr?"attr":"getAttribute",a=e.attr?"attr":"setAttribute",o=e[i]("transform")||"";return t=t||1,n=n||1,o=o.replace(r,"").trim(),o=(o+="scale("+t+","+n+")").trim(),e[a]("transform",o),o};var F=/\s*sc.*/;m.setPointGroupScale=function(e,t,n){if(t=t||1,n=n||1,e){var r=1===t&&1===n?"":"scale("+t+","+n+")";e.each((function(){var e=(this.getAttribute("transform")||"").replace(F,"");e=(e+=r).trim(),this.setAttribute("transform",e)}))}};var z=/translate\([^)]*\)\s*$/;m.setTextPointsScale=function(e,t,n){e&&e.each((function(){var e,i=r.select(this),a=i.select("text");if(a.node()){var o=parseFloat(a.attr("x")||0),s=parseFloat(a.attr("y")||0),u=(i.attr("transform")||"").match(z);e=1===t&&1===n?[]:[c(o,s),"scale("+t+","+n+")",c(-o,-s)],u&&e.push(u),i.attr("transform",e.join(""))}}))}},{"../../components/fx/helpers":136,"../../constants/alignment":205,"../../constants/interactions":209,"../../constants/xmlns_namespaces":211,"../../lib":230,"../../lib/svg_text_utils":252,"../../registry":313,"../../traces/scatter/make_bubble_size_func":370,"../../traces/scatter/subtypes":378,"../color":100,"../colorscale":112,"./symbol_defs":123,"@plotly/d3":11,"fast-isnumeric":15,tinycolor2:65}],123:[function(e,t,n){"use strict";var r=e("@plotly/d3");t.exports={circle:{n:0,f:function(e){var t=r.round(e,2);return"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"}},square:{n:1,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"}},diamond:{n:2,f:function(e){var t=r.round(1.3*e,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"Z"}},cross:{n:3,f:function(e){var t=r.round(.4*e,2),n=r.round(1.2*e,2);return"M"+n+","+t+"H"+t+"V"+n+"H-"+t+"V"+t+"H-"+n+"V-"+t+"H-"+t+"V-"+n+"H"+t+"V-"+t+"H"+n+"Z"}},x:{n:4,f:function(e){var t=r.round(.8*e/Math.sqrt(2),2),n="l"+t+","+t,i="l"+t+",-"+t,a="l-"+t+",-"+t,o="l-"+t+","+t;return"M0,"+t+n+i+a+i+a+o+a+o+n+o+n+"Z"}},"triangle-up":{n:5,f:function(e){var t=r.round(2*e/Math.sqrt(3),2);return"M-"+t+","+r.round(e/2,2)+"H"+t+"L0,-"+r.round(e,2)+"Z"}},"triangle-down":{n:6,f:function(e){var t=r.round(2*e/Math.sqrt(3),2);return"M-"+t+",-"+r.round(e/2,2)+"H"+t+"L0,"+r.round(e,2)+"Z"}},"triangle-left":{n:7,f:function(e){var t=r.round(2*e/Math.sqrt(3),2);return"M"+r.round(e/2,2)+",-"+t+"V"+t+"L-"+r.round(e,2)+",0Z"}},"triangle-right":{n:8,f:function(e){var t=r.round(2*e/Math.sqrt(3),2);return"M-"+r.round(e/2,2)+",-"+t+"V"+t+"L"+r.round(e,2)+",0Z"}},"triangle-ne":{n:9,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M-"+n+",-"+t+"H"+t+"V"+n+"Z"}},"triangle-se":{n:10,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M"+t+",-"+n+"V"+t+"H-"+n+"Z"}},"triangle-sw":{n:11,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M"+n+","+t+"H-"+t+"V-"+n+"Z"}},"triangle-nw":{n:12,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M-"+t+","+n+"V-"+t+"H"+n+"Z"}},pentagon:{n:13,f:function(e){var t=r.round(.951*e,2),n=r.round(.588*e,2),i=r.round(-e,2),a=r.round(-.309*e,2);return"M"+t+","+a+"L"+n+","+r.round(.809*e,2)+"H-"+n+"L-"+t+","+a+"L0,"+i+"Z"}},hexagon:{n:14,f:function(e){var t=r.round(e,2),n=r.round(e/2,2),i=r.round(e*Math.sqrt(3)/2,2);return"M"+i+",-"+n+"V"+n+"L0,"+t+"L-"+i+","+n+"V-"+n+"L0,-"+t+"Z"}},hexagon2:{n:15,f:function(e){var t=r.round(e,2),n=r.round(e/2,2),i=r.round(e*Math.sqrt(3)/2,2);return"M-"+n+","+i+"H"+n+"L"+t+",0L"+n+",-"+i+"H-"+n+"L-"+t+",0Z"}},octagon:{n:16,f:function(e){var t=r.round(.924*e,2),n=r.round(.383*e,2);return"M-"+n+",-"+t+"H"+n+"L"+t+",-"+n+"V"+n+"L"+n+","+t+"H-"+n+"L-"+t+","+n+"V-"+n+"Z"}},star:{n:17,f:function(e){var t=1.4*e,n=r.round(.225*t,2),i=r.round(.951*t,2),a=r.round(.363*t,2),o=r.round(.588*t,2),s=r.round(-t,2),u=r.round(-.309*t,2),l=r.round(.118*t,2),c=r.round(.809*t,2);return"M"+n+","+u+"H"+i+"L"+a+","+l+"L"+o+","+c+"L0,"+r.round(.382*t,2)+"L-"+o+","+c+"L-"+a+","+l+"L-"+i+","+u+"H-"+n+"L0,"+s+"Z"}},hexagram:{n:18,f:function(e){var t=r.round(.66*e,2),n=r.round(.38*e,2),i=r.round(.76*e,2);return"M-"+i+",0l-"+n+",-"+t+"h"+i+"l"+n+",-"+t+"l"+n+","+t+"h"+i+"l-"+n+","+t+"l"+n+","+t+"h-"+i+"l-"+n+","+t+"l-"+n+",-"+t+"h-"+i+"Z"}},"star-triangle-up":{n:19,f:function(e){var t=r.round(e*Math.sqrt(3)*.8,2),n=r.round(.8*e,2),i=r.round(1.6*e,2),a=r.round(4*e,2),o="A "+a+","+a+" 0 0 1 ";return"M-"+t+","+n+o+t+","+n+o+"0,-"+i+o+"-"+t+","+n+"Z"}},"star-triangle-down":{n:20,f:function(e){var t=r.round(e*Math.sqrt(3)*.8,2),n=r.round(.8*e,2),i=r.round(1.6*e,2),a=r.round(4*e,2),o="A "+a+","+a+" 0 0 1 ";return"M"+t+",-"+n+o+"-"+t+",-"+n+o+"0,"+i+o+t+",-"+n+"Z"}},"star-square":{n:21,f:function(e){var t=r.round(1.1*e,2),n=r.round(2*e,2),i="A "+n+","+n+" 0 0 1 ";return"M-"+t+",-"+t+i+"-"+t+","+t+i+t+","+t+i+t+",-"+t+i+"-"+t+",-"+t+"Z"}},"star-diamond":{n:22,f:function(e){var t=r.round(1.4*e,2),n=r.round(1.9*e,2),i="A "+n+","+n+" 0 0 1 ";return"M-"+t+",0"+i+"0,"+t+i+t+",0"+i+"0,-"+t+i+"-"+t+",0Z"}},"diamond-tall":{n:23,f:function(e){var t=r.round(.7*e,2),n=r.round(1.4*e,2);return"M0,"+n+"L"+t+",0L0,-"+n+"L-"+t+",0Z"}},"diamond-wide":{n:24,f:function(e){var t=r.round(1.4*e,2),n=r.round(.7*e,2);return"M0,"+n+"L"+t+",0L0,-"+n+"L-"+t+",0Z"}},hourglass:{n:25,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"H-"+t+"L"+t+",-"+t+"H-"+t+"Z"},noDot:!0},bowtie:{n:26,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"V-"+t+"L-"+t+","+t+"V-"+t+"Z"},noDot:!0},"circle-cross":{n:27,f:function(e){var t=r.round(e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(e){var t=r.round(e,2),n=r.round(e/Math.sqrt(2),2);return"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n+"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(e){var t=r.round(e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t+"M"+t+",-"+t+"L-"+t+","+t+"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(e){var t=r.round(1.3*e,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"ZM0,-"+t+"V"+t+"M-"+t+",0H"+t},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(e){var t=r.round(1.3*e,2),n=r.round(.65*e,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"ZM-"+n+",-"+n+"L"+n+","+n+"M-"+n+","+n+"L"+n+",-"+n},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(e){var t=r.round(1.4*e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t+"M"+t+",-"+t+"L-"+t+","+t},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(e){var t=r.round(1.2*e,2),n=r.round(.85*e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(e){var t=r.round(e/2,2),n=r.round(e,2);return"M"+t+","+n+"V-"+n+"m-"+n+",0V"+n+"M"+n+","+t+"H-"+n+"m0,-"+n+"H"+n},needLine:!0,noFill:!0},"y-up":{n:37,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),i=r.round(.8*e,2);return"M-"+t+","+i+"L0,0M"+t+","+i+"L0,0M0,-"+n+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),i=r.round(.8*e,2);return"M-"+t+",-"+i+"L0,0M"+t+",-"+i+"L0,0M0,"+n+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),i=r.round(.8*e,2);return"M"+i+","+t+"L0,0M"+i+",-"+t+"L0,0M-"+n+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),i=r.round(.8*e,2);return"M-"+i+","+t+"L0,0M-"+i+",-"+t+"L0,0M"+n+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(e){var t=r.round(1.4*e,2);return"M"+t+",0H-"+t},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(e){var t=r.round(1.4*e,2);return"M0,"+t+"V-"+t},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(e){var t=r.round(e,2);return"M"+t+",-"+t+"L-"+t+","+t},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(e){var t=r.round(e,2);return"M0,0L-"+t+","+r.round(2*e,2)+"H"+t+"Z"},noDot:!0},"arrow-down":{n:46,f:function(e){var t=r.round(e,2);return"M0,0L-"+t+",-"+r.round(2*e,2)+"H"+t+"Z"},noDot:!0},"arrow-left":{n:47,f:function(e){var t=r.round(2*e,2),n=r.round(e,2);return"M0,0L"+t+",-"+n+"V"+n+"Z"},noDot:!0},"arrow-right":{n:48,f:function(e){var t=r.round(2*e,2),n=r.round(e,2);return"M0,0L-"+t+",-"+n+"V"+n+"Z"},noDot:!0},"arrow-bar-up":{n:49,f:function(e){var t=r.round(e,2);return"M-"+t+",0H"+t+"M0,0L-"+t+","+r.round(2*e,2)+"H"+t+"Z"},needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(e){var t=r.round(e,2);return"M-"+t+",0H"+t+"M0,0L-"+t+",-"+r.round(2*e,2)+"H"+t+"Z"},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(e){var t=r.round(2*e,2),n=r.round(e,2);return"M0,-"+n+"V"+n+"M0,0L"+t+",-"+n+"V"+n+"Z"},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(e){var t=r.round(2*e,2),n=r.round(e,2);return"M0,-"+n+"V"+n+"M0,0L-"+t+",-"+n+"V"+n+"Z"},needLine:!0,noDot:!0}}},{"@plotly/d3":11}],124:[function(e,t,n){"use strict";t.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},{}],125:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../registry"),a=e("../../plots/cartesian/axes"),o=e("../../lib"),s=e("./compute_error");function u(e,t,n,i){var u=t["error_"+i]||{},l=[];if(u.visible&&-1!==["linear","log"].indexOf(n.type)){for(var c=s(u),f=0;f<e.length;f++){var h=e[f],d=h.i;if(void 0===d)d=f;else if(null===d)continue;var p=h[i];if(r(n.c2l(p))){var v=c(p,d);if(r(v[0])&&r(v[1])){var g=h[i+"s"]=p-v[0],y=h[i+"h"]=p+v[1];l.push(g,y)}}}var m=n._id,b=t._extremes[m],_=a.findExtremes(n,l,o.extendFlat({tozero:b.opts.tozero},{padded:!0}));b.min=b.min.concat(_.min),b.max=b.max.concat(_.max)}}t.exports=function(e){for(var t=e.calcdata,n=0;n<t.length;n++){var r=t[n],o=r[0].trace;if(!0===o.visible&&i.traceIs(o,"errorBarsOK")){var s=a.getFromId(e,o.xaxis),l=a.getFromId(e,o.yaxis);u(r,o,s,"x"),u(r,o,l,"y")}}}},{"../../lib":230,"../../plots/cartesian/axes":276,"../../registry":313,"./compute_error":126,"fast-isnumeric":15}],126:[function(e,t,n){"use strict";function r(e,t){return"percent"===e?function(e){return Math.abs(e*t/100)}:"constant"===e?function(){return Math.abs(t)}:"sqrt"===e?function(e){return Math.sqrt(Math.abs(e))}:void 0}t.exports=function(e){var t=e.type,n=e.symmetric;if("data"===t){var i=e.array||[];if(n)return function(e,t){var n=+i[t];return[n,n]};var a=e.arrayminus||[];return function(e,t){var n=+i[t],r=+a[t];return isNaN(n)&&isNaN(r)?[NaN,NaN]:[r||0,n||0]}}var o=r(t,e.value),s=r(t,e.valueminus);return n||void 0===e.valueminus?function(e){var t=o(e);return[t,t]}:function(e){return[s(e),o(e)]}}},{}],127:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../registry"),a=e("../../lib"),o=e("../../plot_api/plot_template"),s=e("./attributes");t.exports=function(e,t,n,u){var l="error_"+u.axis,c=o.newContainer(t,l),f=e[l]||{};function h(e,t){return a.coerce(f,c,s,e,t)}if(!1!==h("visible",void 0!==f.array||void 0!==f.value||"sqrt"===f.type)){var d=h("type","array"in f?"data":"percent"),p=!0;"sqrt"!==d&&(p=h("symmetric",!(("data"===d?"arrayminus":"valueminus")in f))),"data"===d?(h("array"),h("traceref"),p||(h("arrayminus"),h("tracerefminus"))):"percent"!==d&&"constant"!==d||(h("value"),p||h("valueminus"));var v="copy_"+u.inherit+"style";u.inherit&&(t["error_"+u.inherit]||{}).visible&&h(v,!(f.color||r(f.thickness)||r(f.width))),u.inherit&&c[v]||(h("color",n),h("thickness"),h("width",i.traceIs(t,"gl3d")?0:4))}}},{"../../lib":230,"../../plot_api/plot_template":265,"../../registry":313,"./attributes":124,"fast-isnumeric":15}],128:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plot_api/edit_types").overrideAll,a=e("./attributes"),o={error_x:r.extendFlat({},a),error_y:r.extendFlat({},a)};delete o.error_x.copy_zstyle,delete o.error_y.copy_zstyle,delete o.error_y.copy_ystyle;var s={error_x:r.extendFlat({},a),error_y:r.extendFlat({},a),error_z:r.extendFlat({},a)};function u(e,t,n){(t.error_y||{}).visible&&(n.yerr=e.yh-e.y,t.error_y.symmetric||(n.yerrneg=e.y-e.ys)),(t.error_x||{}).visible&&(n.xerr=e.xh-e.x,t.error_x.symmetric||(n.xerrneg=e.x-e.xs))}delete s.error_x.copy_ystyle,delete s.error_y.copy_ystyle,delete s.error_z.copy_ystyle,delete s.error_z.copy_zstyle,t.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:o,bar:o,histogram:o,scatter3d:i(s,"calc","nested"),scattergl:i(o,"calc","nested")}},supplyDefaults:e("./defaults"),calc:e("./calc"),makeComputeError:e("./compute_error"),plot:e("./plot"),style:e("./style"),hoverInfo:u}},{"../../lib":230,"../../plot_api/edit_types":258,"./attributes":124,"./calc":125,"./compute_error":126,"./defaults":127,"./plot":129,"./style":130}],129:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("fast-isnumeric"),a=e("../drawing"),o=e("../../traces/scatter/subtypes");function s(e,t,n){var r={x:t.c2p(e.x),y:n.c2p(e.y)};return void 0!==e.yh&&(r.yh=n.c2p(e.yh),r.ys=n.c2p(e.ys),i(r.ys)||(r.noYS=!0,r.ys=n.c2p(e.ys,!0))),void 0!==e.xh&&(r.xh=t.c2p(e.xh),r.xs=t.c2p(e.xs),i(r.xs)||(r.noXS=!0,r.xs=t.c2p(e.xs,!0))),r}t.exports=function(e,t,n,u){var l=n.xaxis,c=n.yaxis,f=u&&u.duration>0;t.each((function(t){var h,d=t[0].trace,p=d.error_x||{},v=d.error_y||{};d.ids&&(h=function(e){return e.id});var g=o.hasMarkers(d)&&d.marker.maxdisplayed>0;v.visible||p.visible||(t=[]);var y=r.select(this).selectAll("g.errorbar").data(t,h);if(y.exit().remove(),t.length){p.visible||y.selectAll("path.xerror").remove(),v.visible||y.selectAll("path.yerror").remove(),y.style("opacity",1);var m=y.enter().append("g").classed("errorbar",!0);f&&m.style("opacity",0).transition().duration(u.duration).style("opacity",1),a.setClipUrl(y,n.layerClipId,e),y.each((function(e){var t=r.select(this),n=s(e,l,c);if(!g||e.vis){var a,o=t.select("path.yerror");if(v.visible&&i(n.x)&&i(n.yh)&&i(n.ys)){var h=v.width;a="M"+(n.x-h)+","+n.yh+"h"+2*h+"m-"+h+",0V"+n.ys,n.noYS||(a+="m-"+h+",0h"+2*h),o.size()?f&&(o=o.transition().duration(u.duration).ease(u.easing)):o=t.append("path").style("vector-effect","non-scaling-stroke").classed("yerror",!0),o.attr("d",a)}else o.remove();var d=t.select("path.xerror");if(p.visible&&i(n.y)&&i(n.xh)&&i(n.xs)){var y=(p.copy_ystyle?v:p).width;a="M"+n.xh+","+(n.y-y)+"v"+2*y+"m0,-"+y+"H"+n.xs,n.noXS||(a+="m0,-"+y+"v"+2*y),d.size()?f&&(d=d.transition().duration(u.duration).ease(u.easing)):d=t.append("path").style("vector-effect","non-scaling-stroke").classed("xerror",!0),d.attr("d",a)}else d.remove()}}))}}))}},{"../../traces/scatter/subtypes":378,"../drawing":122,"@plotly/d3":11,"fast-isnumeric":15}],130:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../color");t.exports=function(e){e.each((function(e){var t=e[0].trace,n=t.error_y||{},a=t.error_x||{},o=r.select(this);o.selectAll("path.yerror").style("stroke-width",n.thickness+"px").call(i.stroke,n.color),a.copy_ystyle&&(a=n),o.selectAll("path.xerror").style("stroke-width",a.thickness+"px").call(i.stroke,a.color)}))}},{"../color":100,"@plotly/d3":11}],131:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),i=e("./layout_attributes").hoverlabel,a=e("../../lib/extend").extendFlat;t.exports={hoverlabel:{bgcolor:a({},i.bgcolor,{arrayOk:!0}),bordercolor:a({},i.bordercolor,{arrayOk:!0}),font:r({arrayOk:!0,editType:"none"}),align:a({},i.align,{arrayOk:!0}),namelength:a({},i.namelength,{arrayOk:!0}),editType:"none"}}},{"../../lib/extend":224,"../../plots/font_attributes":305,"./layout_attributes":141}],132:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../registry");function a(e,t,n,i){i=i||r.identity,Array.isArray(e)&&(t[0][n]=i(e))}t.exports=function(e){var t=e.calcdata,n=e._fullLayout;function o(e){return function(t){return r.coerceHoverinfo({hoverinfo:t},{_module:e._module},n)}}for(var s=0;s<t.length;s++){var u=t[s],l=u[0].trace;if(!i.traceIs(l,"pie-like")){var c=i.traceIs(l,"2dMap")?a:r.fillArray;c(l.hoverinfo,u,"hi",o(l)),l.hovertemplate&&c(l.hovertemplate,u,"ht"),l.hoverlabel&&(c(l.hoverlabel.bgcolor,u,"hbg"),c(l.hoverlabel.bordercolor,u,"hbc"),c(l.hoverlabel.font.size,u,"hts"),c(l.hoverlabel.font.color,u,"htc"),c(l.hoverlabel.font.family,u,"htf"),c(l.hoverlabel.namelength,u,"hnl"),c(l.hoverlabel.align,u,"hta"))}}}},{"../../lib":230,"../../registry":313}],133:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("./hover").hover;t.exports=function(e,t,n){var a=r.getComponentMethod("annotations","onClick")(e,e._hoverdata);function o(){e.emit("plotly_click",{points:e._hoverdata,event:t})}void 0!==n&&i(e,t,n,!0),e._hoverdata&&t&&t.target&&(a&&a.then?a.then(o):o(),t.stopImmediatePropagation&&t.stopImmediatePropagation())}},{"../../registry":313,"./hover":137}],134:[function(e,t,n){"use strict";t.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},{}],135:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./attributes"),a=e("./hoverlabel_defaults");t.exports=function(e,t,n,o){function s(n,a){return r.coerce(e,t,i,n,a)}var u=r.extendFlat({},o.hoverlabel);t.hovertemplate&&(u.namelength=-1),a(e,t,s,u)}},{"../../lib":230,"./attributes":131,"./hoverlabel_defaults":138}],136:[function(e,t,n){"use strict";var r=e("../../lib");n.getSubplot=function(e){return e.subplot||e.xaxis+e.yaxis||e.geo},n.isTraceInSubplots=function(e,t){if("splom"===e.type){for(var r=e.xaxes||[],i=e.yaxes||[],a=0;a<r.length;a++)for(var o=0;o<i.length;o++)if(-1!==t.indexOf(r[a]+i[o]))return!0;return!1}return-1!==t.indexOf(n.getSubplot(e))},n.flat=function(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=t;return n},n.p2c=function(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r].p2c(t);return n},n.getDistanceFunction=function(e,t,r,i){return"closest"===e?i||n.quadrature(t,r):"x"===e.charAt(0)?t:r},n.getClosest=function(e,t,n){if(!1!==n.index)n.index>=0&&n.index<e.length?n.distance=0:n.index=!1;else for(var r=0;r<e.length;r++){var i=t(e[r]);i<=n.distance&&(n.index=r,n.distance=i)}return n},n.inbox=function(e,t,n){return e*t<0||0===e?n:1/0},n.quadrature=function(e,t){return function(n){var r=e(n),i=t(n);return Math.sqrt(r*r+i*i)}},n.makeEventData=function(e,t,r){var i="index"in e?e.index:e.pointNumber,a={data:t._input,fullData:t,curveNumber:t.index,pointNumber:i};if(t._indexToPoints){var o=t._indexToPoints[i];1===o.length?a.pointIndex=o[0]:a.pointIndices=o}else a.pointIndex=i;return t._module.eventData?a=t._module.eventData(a,e,t,r,i):("xVal"in e?a.x=e.xVal:"x"in e&&(a.x=e.x),"yVal"in e?a.y=e.yVal:"y"in e&&(a.y=e.y),e.xa&&(a.xaxis=e.xa),e.ya&&(a.yaxis=e.ya),void 0!==e.zLabelVal&&(a.z=e.zLabelVal)),n.appendArrayPointValue(a,t,i),a},n.appendArrayPointValue=function(e,t,n){var i=t._arrayAttrs;if(i)for(var s=0;s<i.length;s++){var u=i[s],l=a(u);if(void 0===e[l]){var c=o(r.nestedProperty(t,u).get(),n);void 0!==c&&(e[l]=c)}}},n.appendArrayMultiPointValues=function(e,t,n){var i=t._arrayAttrs;if(i)for(var s=0;s<i.length;s++){var u=i[s],l=a(u);if(void 0===e[l]){for(var c=r.nestedProperty(t,u).get(),f=new Array(n.length),h=0;h<n.length;h++)f[h]=o(c,n[h]);e[l]=f}}};var i={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function a(e){return i[e]||e}function o(e,t){return Array.isArray(t)?Array.isArray(e)&&Array.isArray(e[t[0]])?e[t[0]][t[1]]:void 0:e[t]}var s={x:!0,y:!0},u={"x unified":!0,"y unified":!0};n.isUnifiedHover=function(e){return"string"===typeof e&&!!u[e]},n.isXYhover=function(e){return"string"===typeof e&&!!s[e]}},{"../../lib":230}],137:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("fast-isnumeric"),a=e("tinycolor2"),o=e("../../lib"),s=o.strTranslate,u=o.strRotate,l=e("../../lib/events"),c=e("../../lib/svg_text_utils"),f=e("../../lib/override_cursor"),h=e("../drawing"),d=e("../color"),p=e("../dragelement"),v=e("../../plots/cartesian/axes"),g=e("../../registry"),y=e("./helpers"),m=e("./constants"),b=e("../legend/defaults"),_=e("../legend/draw"),w=m.YANGLE,x=Math.PI*w/180,T=1/Math.sin(x),k=Math.cos(x),O=Math.sin(x),S=m.HOVERARROWSIZE,A=m.HOVERTEXTPAD,E={box:!0,ohlc:!0,violin:!0,candlestick:!0};function C(e,t,n,a){n||(n="xy");var s=Array.isArray(n)?n:[n],u=e._fullLayout,c=u._plots||[],h=c[n],v=u._has("cartesian");if(h){var m=h.overlays.map((function(e){return e.id}));s=s.concat(m)}for(var b=s.length,_=new Array(b),w=new Array(b),x=!1,T=0;T<b;T++){var k=s[T];if(c[k])x=!0,_[T]=c[k].xaxis,w[T]=c[k].yaxis;else{if(!u[k]||!u[k]._subplot)return void o.warn("Unrecognized subplot: "+k);var O=u[k]._subplot;_[T]=O.xaxis,w[T]=O.yaxis}}var S=t.hovermode||u.hovermode;if(S&&!x&&(S="closest"),-1===["x","y","closest","x unified","y unified"].indexOf(S)||!e.calcdata||e.querySelector(".zoombox")||e._dragging)return p.unhoverRaw(e,t);var A=u.hoverdistance;-1===A&&(A=1/0);var C=u.spikedistance;-1===C&&(C=1/0);var I,P,U,V,H,W,Y,G,K,X,$,Q,J,Z=[],ee=[],te={hLinePoint:null,vLinePoint:null},ne=!1;if(Array.isArray(t))for(S="array",U=0;U<t.length;U++)(H=e.calcdata[t[U].curveNumber||0])&&(W=H[0].trace,"skip"!==H[0].trace.hoverinfo&&(ee.push(H),"h"===W.orientation&&(ne=!0)));else{for(V=0;V<e.calcdata.length;V++)H=e.calcdata[V],"skip"!==(W=H[0].trace).hoverinfo&&y.isTraceInSubplots(W,s)&&(ee.push(H),"h"===W.orientation&&(ne=!0));var re,ie;if(t.target){if(!1===l.triggerHandler(e,"plotly_beforehover",t))return;var ae=t.composedPath&&t.composedPath()[0];ae||(ae=t.target);var oe=ae.getBoundingClientRect();re=t.clientX-oe.left,ie=t.clientY-oe.top,u._calcInverseTransform(e);var se=o.apply3DTransform(u._invTransform)(re,ie);if(re=se[0],ie=se[1],re<0||re>_[0]._length||ie<0||ie>w[0]._length)return p.unhoverRaw(e,t)}else re="xpx"in t?t.xpx:_[0]._length/2,ie="ypx"in t?t.ypx:w[0]._length/2;if(t.pointerX=re+_[0]._offset,t.pointerY=ie+w[0]._offset,I="xval"in t?y.flat(s,t.xval):y.p2c(_,re),P="yval"in t?y.flat(s,t.yval):y.p2c(w,ie),!i(I[0])||!i(P[0]))return o.warn("Fx.hover failed",t,e),p.unhoverRaw(e,t)}var ue=1/0;function le(e,n){for(V=0;V<ee.length;V++)if((H=ee[V])&&H[0]&&H[0].trace&&!0===(W=H[0].trace).visible&&0!==W._length&&-1===["carpet","contourcarpet"].indexOf(W._module.name)){if("splom"===W.type?Y=s[G=0]:(Y=y.getSubplot(W),G=s.indexOf(Y)),K=S,y.isUnifiedHover(K)&&(K=K.charAt(0)),Q={cd:H,trace:W,xa:_[G],ya:w[G],maxHoverDistance:A,maxSpikeDistance:C,index:!1,distance:Math.min(ue,A),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:d.defaultLine,name:W.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},u[Y]&&(Q.subplot=u[Y]._subplot),u._splomScenes&&u._splomScenes[W.uid]&&(Q.scene=u._splomScenes[W.uid]),J=Z.length,"array"===K){var r=t[V];"pointNumber"in r?(Q.index=r.pointNumber,K="closest"):(K="","xval"in r&&(X=r.xval,K="x"),"yval"in r&&($=r.yval,K=K?"closest":"y"))}else void 0!==e&&void 0!==n?(X=e,$=n):(X=I[G],$=P[G]);if(0!==A)if(W._module&&W._module.hoverPoints){var a=W._module.hoverPoints(Q,X,$,K,{finiteRange:!0,hoverLayer:u._hoverlayer});if(a)for(var l,c=0;c<a.length;c++)l=a[c],i(l.x0)&&i(l.y0)&&Z.push(L(l,S))}else o.log("Unrecognized trace type in hover:",W);if("closest"===S&&Z.length>J&&(Z.splice(0,J),ue=Z[0].distance),v&&0!==C&&0===Z.length){Q.distance=C,Q.index=!1;var f=W._module.hoverPoints(Q,X,$,"closest",{hoverLayer:u._hoverlayer});if(f&&(f=f.filter((function(e){return e.spikeDistance<=C}))),f&&f.length){var h,p=f.filter((function(e){return e.xa.showspikes&&"hovered data"!==e.xa.spikesnap}));if(p.length){var g=p[0];i(g.x0)&&i(g.y0)&&(h=fe(g),(!te.vLinePoint||te.vLinePoint.spikeDistance>h.spikeDistance)&&(te.vLinePoint=h))}var m=f.filter((function(e){return e.ya.showspikes&&"hovered data"!==e.ya.spikesnap}));if(m.length){var b=m[0];i(b.x0)&&i(b.y0)&&(h=fe(b),(!te.hLinePoint||te.hLinePoint.spikeDistance>h.spikeDistance)&&(te.hLinePoint=h))}}}}}function ce(e,t){for(var n,r=null,i=1/0,a=0;a<e.length;a++)(n=e[a].spikeDistance)<=i&&n<=t&&(r=e[a],i=n);return r}function fe(e){return e?{xa:e.xa,ya:e.ya,x:void 0!==e.xSpike?e.xSpike:(e.x0+e.x1)/2,y:void 0!==e.ySpike?e.ySpike:(e.y0+e.y1)/2,distance:e.distance,spikeDistance:e.spikeDistance,curveNumber:e.trace.index,color:e.color,pointNumber:e.index}:null}le();var he={fullLayout:u,container:u._hoverlayer,outerContainer:u._paperdiv,event:t},de=e._spikepoints,pe={vLinePoint:te.vLinePoint,hLinePoint:te.hLinePoint};if(e._spikepoints=pe,v&&0!==C&&0!==Z.length){var ve=ce(Z.filter((function(e){return e.ya.showspikes})),C);te.hLinePoint=fe(ve);var ge=ce(Z.filter((function(e){return e.xa.showspikes})),C);te.vLinePoint=fe(ge)}if(0===Z.length){var ye=p.unhoverRaw(e,t);return!v||null===te.hLinePoint&&null===te.vLinePoint||z(de)&&R(e,te,he),ye}v&&z(de)&&R(e,te,he);var me=function(){Z.sort((function(e,t){return e.distance-t.distance})),Z=q(Z,S)};if(me(),y.isXYhover(K)&&0!==Z[0].length&&"splom"!==Z[0].trace.type){var be=Z[0],_e=(Z=E[be.trace.type]?Z.filter((function(e){return e.trace.index===be.trace.index})):[be]).length;le(B("x",be,u),B("y",be,u));var we,xe=[],Te={},ke=0,Oe=function(e){var t=E[e.trace.type]?M(e):e.trace.index;if(Te[t]){var n=Te[t]-1,r=xe[n];n>0&&Math.abs(e.distance)<Math.abs(r.distance)&&(xe[n]=e)}else ke++,Te[t]=ke,xe.push(e)};for(we=0;we<_e;we++)Oe(Z[we]);for(we=Z.length-1;we>_e-1;we--)Oe(Z[we]);Z=xe,me()}var Se=e._hoverdata,Ae=[];for(U=0;U<Z.length;U++){var Ee=Z[U],Ce=y.makeEventData(Ee,Ee.trace,Ee.cd);if(!1!==Ee.hovertemplate){var Me=!1;Ee.cd[Ee.index]&&Ee.cd[Ee.index].ht&&(Me=Ee.cd[Ee.index].ht),Ee.hovertemplate=Me||Ee.trace.hovertemplate||!1}Ee.eventData=[Ce],Ae.push(Ce)}e._hoverdata=Ae;var Ie="y"===S&&(ee.length>1||Z.length>1)||"closest"===S&&ne&&Z.length>1,De=d.combine(u.plot_bgcolor||d.background,u.paper_bgcolor),Pe={hovermode:S,rotateLabels:Ie,bgColor:De,container:u._hoverlayer,outerContainer:u._paperdiv,commonLabelOpts:u.hoverlabel,hoverdistance:u.hoverdistance},Ne=D(Z,Pe,e);if(y.isUnifiedHover(S)||(N(Ne,Ie?"xa":"ya",u),j(Ne,Ie,u._invScaleX,u._invScaleY)),t.target&&t.target.tagName){var je=g.getComponentMethod("annotations","hasClickToShow")(e,Ae);f(r.select(t.target),je?"pointer":"")}t.target&&!a&&F(e,t,Se)&&(Se&&e.emit("plotly_unhover",{event:t,points:Se}),e.emit("plotly_hover",{event:t,points:e._hoverdata,xaxes:_,yaxes:w,xvals:I,yvals:P}))}function M(e){return[e.trace.index,e.index,e.x0,e.y0,e.name,e.attr,e.xa,e.ya||""].join(",")}n.hover=function(e,t,n,r){e=o.getGraphDiv(e),o.throttle(e._fullLayout._uid+m.HOVERID,m.HOVERMINTIME,(function(){C(e,t,n,r)}))},n.loneHover=function(e,t){var n=!0;Array.isArray(e)||(n=!1,e=[e]);var i=e.map((function(e){return{color:e.color||d.defaultLine,x0:e.x0||e.x||0,x1:e.x1||e.x||0,y0:e.y0||e.y||0,y1:e.y1||e.y||0,xLabel:e.xLabel,yLabel:e.yLabel,zLabel:e.zLabel,text:e.text,name:e.name,idealAlign:e.idealAlign,borderColor:e.borderColor,fontFamily:e.fontFamily,fontSize:e.fontSize,fontColor:e.fontColor,nameLength:e.nameLength,textAlign:e.textAlign,trace:e.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:e.hovertemplate||!1,eventData:e.eventData||!1,hovertemplateLabels:e.hovertemplateLabels||!1}})),a=r.select(t.container),o=t.outerContainer?r.select(t.outerContainer):a,s={hovermode:"closest",rotateLabels:!1,bgColor:t.bgColor||d.background,container:a,outerContainer:o},u=D(i,s,t.gd),l=5,c=0,f=0;u.sort((function(e,t){return e.y0-t.y0})).each((function(e,n){var r=e.y0-e.by/2;e.offset=r-l<c?c-r+l:0,c=r+e.by+e.offset,n===t.anchorIndex&&(f=e.offset)})).each((function(e){e.offset-=f}));var h=t.gd._fullLayout._invScaleX,p=t.gd._fullLayout._invScaleY;return j(u,s.rotateLabels,h,p),n?u:u.node()};var I=/<extra>([\s\S]*)<\/extra>/;function D(e,t,n){var i=n._fullLayout,a=t.hovermode,l=t.rotateLabels,f=t.bgColor,p=t.container,v=t.outerContainer,g=t.commonLabelOpts||{},x=t.fontFamily||m.HOVERFONT,T=t.fontSize||m.HOVERFONTSIZE,k=e[0],O=k.xa,E=k.ya,C=a.charAt(0),I=k[C+"Label"],D=v.node().getBoundingClientRect(),N=D.top,j=D.width,L=D.height,R=void 0!==I&&k.distance<=t.hoverdistance&&("x"===a||"y"===a);if(R){var F,z,U=!0;for(F=0;F<e.length;F++)if(U&&void 0===e[F].zLabel&&(U=!1),z=e[F].hoverinfo||e[F].trace.hoverinfo){var q=Array.isArray(z)?z:z.split("+");if(-1===q.indexOf("all")&&-1===q.indexOf(a)){R=!1;break}}U&&(R=!1)}var B=p.selectAll("g.axistext").data(R?[0]:[]);if(B.enter().append("g").classed("axistext",!0),B.exit().remove(),B.each((function(){var e=r.select(this),t=o.ensureSingle(e,"path","",(function(e){e.style({"stroke-width":"1px"})})),u=o.ensureSingle(e,"text","",(function(e){e.attr("data-notex",1)})),l=g.bgcolor||d.defaultLine,f=g.bordercolor||d.contrast(l),p=d.contrast(l),v={family:g.font.family||x,size:g.font.size||T,color:g.font.color||p};t.style({fill:l,stroke:f}),u.text(I).call(h.font,v).call(c.positionText,0,0).call(c.convertToTspans,n),e.attr("transform","");var y,m,b=u.node().getBoundingClientRect();if("x"===a){var _="top"===O.side?"-":"";u.attr("text-anchor","middle").call(c.positionText,0,"top"===O.side?N-b.bottom-S-A:N-b.top+S+A),y=O._offset+(k.x0+k.x1)/2,m=E._offset+("top"===O.side?0:E._length);var w=b.width/2+A;y<w?(y=w,t.attr("d","M-"+(w-S)+",0L-"+(w-2*S)+","+_+S+"H"+(A+b.width/2)+"v"+_+(2*A+b.height)+"H-"+w+"V"+_+S+"Z")):y>i.width-w?(y=i.width-w,t.attr("d","M"+(w-S)+",0L"+w+","+_+S+"v"+_+(2*A+b.height)+"H-"+w+"V"+_+S+"H"+(w-2*S)+"Z")):t.attr("d","M0,0L"+S+","+_+S+"H"+(A+b.width/2)+"v"+_+(2*A+b.height)+"H-"+(A+b.width/2)+"V"+_+S+"H-"+S+"Z")}else{var C,M,D;"right"===E.side?(C="start",M=1,D="",y=O._offset+O._length):(C="end",M=-1,D="-",y=O._offset),m=E._offset+(k.y0+k.y1)/2,u.attr("text-anchor",C),t.attr("d","M0,0L"+D+S+","+S+"V"+(A+b.height/2)+"h"+D+(2*A+b.width)+"V-"+(A+b.height/2)+"H"+D+S+"V-"+S+"Z");var P,j=b.height/2,L=N-b.top-j,R="clip"+i._uid+"commonlabel"+E._id;if(y<b.width+2*A+S){P="M-"+(S+A)+"-"+j+"h-"+(b.width-A)+"V"+j+"h"+(b.width-A)+"Z";var F=b.width-y+A;c.positionText(u,F,L),"end"===C&&u.selectAll("tspan").each((function(){var e=r.select(this),t=h.tester.append("text").text(e.text()).call(h.font,v),n=t.node().getBoundingClientRect();Math.round(n.width)<Math.round(b.width)&&e.attr("x",F-n.width),t.remove()}))}else c.positionText(u,M*(A+S),L),P=null;var z=i._topclips.selectAll("#"+R).data(P?[0]:[]);z.enter().append("clipPath").attr("id",R).append("path"),z.exit().remove(),z.select("path").attr("d",P),h.setClipUrl(u,P?R:null,n)}e.attr("transform",s(y,m))})),y.isUnifiedHover(a)){if(p.selectAll("g.hovertext").remove(),0===e.length)return;var V={showlegend:!0,legend:{title:{text:I,font:i.hoverlabel.font},font:i.hoverlabel.font,bgcolor:i.hoverlabel.bgcolor,bordercolor:i.hoverlabel.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:i.legend?i.legend.traceorder:void 0,orientation:"v"}},H={};b(V,H,n._fullData);var W=H.legend;W.entries=[];for(var Y=0;Y<e.length;Y++){var G=P(e[Y],!0,a,i,I),K=G[0],X=G[1],$=e[Y];$.name=X,$.text=""!==X?X+" : "+K:K;var Q=$.cd[$.index];Q&&(Q.mc&&($.mc=Q.mc),Q.mcc&&($.mc=Q.mcc),Q.mlc&&($.mlc=Q.mlc),Q.mlcc&&($.mlc=Q.mlcc),Q.mlw&&($.mlw=Q.mlw),Q.mrc&&($.mrc=Q.mrc),Q.dir&&($.dir=Q.dir)),$._distinct=!0,W.entries.push([$])}W.entries.sort((function(e,t){return e[0].trace.index-t[0].trace.index})),W.layer=p,W._inHover=!0,_(n,W);var J=e[0],Z=(J.y0+J.y1)/2,ee=(J.x0+J.x1)/2,te=p.select("g.legend"),ne=te.node().getBoundingClientRect();ee+=O._offset,Z+=E._offset-ne.height/2;var re=ne.width+2*A;!(ee+re<=j)&&ee-re>=0?ee-=re:ee+=2*A;var ie=ne.height+2*A,ae=Z+ie>=L;return ie<=L&&(Z<=N?Z=E._offset+2*A:ae&&(Z=L-ie)),te.attr("transform",s(ee,Z)),te}var oe=p.selectAll("g.hovertext").data(e,(function(e){return M(e)}));return oe.enter().append("g").classed("hovertext",!0).each((function(){var e=r.select(this);e.append("rect").call(d.fill,d.addOpacity(f,.8)),e.append("text").classed("name",!0),e.append("path").style("stroke-width","1px"),e.append("text").classed("nums",!0).call(h.font,x,T)})),oe.exit().remove(),oe.each((function(e){var t=r.select(this).attr("transform",""),o=e.color;Array.isArray(o)&&(o=o[e.eventData[0].pointNumber]);var p=e.bgcolor||o,v=d.combine(d.opacity(p)?p:d.defaultLine,f),g=d.combine(d.opacity(o)?o:d.defaultLine,f),y=e.borderColor||d.contrast(v),m=P(e,R,a,i,I,t),b=m[0],_=m[1],k=t.select("text.nums").call(h.font,e.fontFamily||x,e.fontSize||T,e.fontColor||y).text(b).attr("data-notex",1).call(c.positionText,0,0).call(c.convertToTspans,n),O=t.select("text.name"),E=0,C=0;if(_&&_!==b){O.call(h.font,e.fontFamily||x,e.fontSize||T,g).text(_).attr("data-notex",1).call(c.positionText,0,0).call(c.convertToTspans,n);var M=O.node().getBoundingClientRect();E=M.width+2*A,C=M.height+2*A}else O.remove(),t.select("rect").remove();t.select("path").style({fill:v,stroke:y});var D,F,z=k.node().getBoundingClientRect(),U=e.xa._offset+(e.x0+e.x1)/2,q=e.ya._offset+(e.y0+e.y1)/2,B=Math.abs(e.x1-e.x0),V=Math.abs(e.y1-e.y0),H=z.width+S+A+E;if(e.ty0=N-z.top,e.bx=z.width+2*A,e.by=Math.max(z.height+2*A,C),e.anchor="start",e.txwidth=z.width,e.tx2width=E,e.offset=0,l)e.pos=U,D=q+V/2+H<=L,F=q-V/2-H>=0,"top"!==e.idealAlign&&D||!F?D?(q+=V/2,e.anchor="start"):e.anchor="middle":(q-=V/2,e.anchor="end");else if(e.pos=q,D=U+B/2+H<=j,F=U-B/2-H>=0,"left"!==e.idealAlign&&D||!F)if(D)U+=B/2,e.anchor="start";else{e.anchor="middle";var W=H/2,Y=U+W-j,G=U-W;Y>0&&(U-=Y),G<0&&(U+=-G)}else U-=B/2,e.anchor="end";k.attr("text-anchor",e.anchor),E&&O.attr("text-anchor",e.anchor),t.attr("transform",s(U,q)+(l?u(w):""))})),oe}function P(e,t,n,r,i,a){var s="",u="";void 0!==e.nameOverride&&(e.name=e.nameOverride),e.name&&(e.trace._meta&&(e.name=o.templateString(e.name,e.trace._meta)),s=U(e.name,e.nameLength));var l=n.charAt(0),c="x"===l?"y":"x";void 0!==e.zLabel?(void 0!==e.xLabel&&(u+="x: "+e.xLabel+"<br>"),void 0!==e.yLabel&&(u+="y: "+e.yLabel+"<br>"),"choropleth"!==e.trace.type&&"choroplethmapbox"!==e.trace.type&&(u+=(u?"z: ":"")+e.zLabel)):t&&e[l+"Label"]===i?u=e[c+"Label"]||"":void 0===e.xLabel?void 0!==e.yLabel&&"scattercarpet"!==e.trace.type&&(u=e.yLabel):u=void 0===e.yLabel?e.xLabel:"("+e.xLabel+", "+e.yLabel+")",!e.text&&0!==e.text||Array.isArray(e.text)||(u+=(u?"<br>":"")+e.text),void 0!==e.extraText&&(u+=(u?"<br>":"")+e.extraText),a&&""===u&&!e.hovertemplate&&(""===s&&a.remove(),u=s);var f=e.hovertemplate||!1;if(f){var h=e.hovertemplateLabels||e;e[l+"Label"]!==i&&(h[l+"other"]=h[l+"Val"],h[l+"otherLabel"]=h[l+"Label"]),u=(u=o.hovertemplateString(f,h,r._d3locale,e.eventData[0]||{},e.trace._meta)).replace(I,(function(t,n){return s=U(n,e.nameLength),""}))}return[u,s]}function N(e,t,n){var r,i,a,o,s,u,l,c=0,f=1,h=e.size(),d=new Array(h),p=0;function v(e){var t=e[0],n=e[e.length-1];if(i=t.pmin-t.pos-t.dp+t.size,a=n.pos+n.dp+n.size-t.pmax,i>.01){for(s=e.length-1;s>=0;s--)e[s].dp+=i;r=!1}if(!(a<.01)){if(i<-.01){for(s=e.length-1;s>=0;s--)e[s].dp-=a;r=!1}if(r){var l=0;for(o=0;o<e.length;o++)(u=e[o]).pos+u.dp+u.size>t.pmax&&l++;for(o=e.length-1;o>=0&&!(l<=0);o--)(u=e[o]).pos>t.pmax-1&&(u.del=!0,l--);for(o=0;o<e.length&&!(l<=0);o++)if((u=e[o]).pos<t.pmin+1)for(u.del=!0,l--,a=2*u.size,s=e.length-1;s>=0;s--)e[s].dp-=a;for(o=e.length-1;o>=0&&!(l<=0);o--)(u=e[o]).pos+u.dp+u.size>t.pmax&&(u.del=!0,l--)}}}for(e.each((function(e){var r=e[t],i="x"===r._id.charAt(0),a=r.range;0===p&&a&&a[0]>a[1]!==i&&(f=-1),d[p++]=[{datum:e,traceIndex:e.trace.index,dp:0,pos:e.pos,posref:e.posref,size:e.by*(i?T:1)/2,pmin:0,pmax:i?n.width:n.height}]})),d.sort((function(e,t){return e[0].posref-t[0].posref||f*(t[0].traceIndex-e[0].traceIndex)}));!r&&c<=h;){for(c++,r=!0,o=0;o<d.length-1;){var g=d[o],y=d[o+1],m=g[g.length-1],b=y[0];if((i=m.pos+m.dp+m.size-b.pos-b.dp+b.size)>.01&&m.pmin===b.pmin&&m.pmax===b.pmax){for(s=y.length-1;s>=0;s--)y[s].dp+=i;for(g.push.apply(g,y),d.splice(o+1,1),l=0,s=g.length-1;s>=0;s--)l+=g[s].dp;for(a=l/g.length,s=g.length-1;s>=0;s--)g[s].dp-=a;r=!1}else o++}d.forEach(v)}for(o=d.length-1;o>=0;o--){var _=d[o];for(s=_.length-1;s>=0;s--){var w=_[s],x=w.datum;x.offset=w.dp,x.del=w.del}}}function j(e,t,n,i){var a=function(e){return e*n},o=function(e){return e*i};e.each((function(e){var n=r.select(this);if(e.del)return n.remove();var i=n.select("text.nums"),s=e.anchor,u="end"===s?-1:1,l={start:1,end:-1,middle:0}[s],f=l*(S+A),d=f+l*(e.txwidth+A),p=0,v=e.offset,g="middle"===s;g&&(f-=e.tx2width/2,d+=e.txwidth/2+A),t&&(v*=-O,p=e.offset*k),n.select("path").attr("d",g?"M-"+a(e.bx/2+e.tx2width/2)+","+o(v-e.by/2)+"h"+a(e.bx)+"v"+o(e.by)+"h-"+a(e.bx)+"Z":"M0,0L"+a(u*S+p)+","+o(S+v)+"v"+o(e.by/2-S)+"h"+a(u*e.bx)+"v-"+o(e.by)+"H"+a(u*S+p)+"V"+o(v-S)+"Z");var y=p+f,m=v+e.ty0-e.by/2+A,b=e.textAlign||"auto";"auto"!==b&&("left"===b&&"start"!==s?(i.attr("text-anchor","start"),y=g?-e.bx/2-e.tx2width/2+A:-e.bx-A):"right"===b&&"end"!==s&&(i.attr("text-anchor","end"),y=g?e.bx/2-e.tx2width/2-A:e.bx+A)),i.call(c.positionText,a(y),o(m)),e.tx2width&&(n.select("text.name").call(c.positionText,a(d+l*A+p),o(v+e.ty0-e.by/2+A)),n.select("rect").call(h.setRect,a(d+(l-1)*e.tx2width/2+p),o(v-e.by/2-1),a(e.tx2width),o(e.by+2)))}))}function L(e,t){var n=e.index,r=e.trace||{},a=e.cd[0],s=e.cd[n]||{};function u(e){return e||i(e)&&0===e}var l=Array.isArray(n)?function(e,t){var i=o.castOption(a,n,e);return u(i)?i:o.extractOption({},r,"",t)}:function(e,t){return o.extractOption(s,r,e,t)};function c(t,n,r){var i=l(n,r);u(i)&&(e[t]=i)}if(c("hoverinfo","hi","hoverinfo"),c("bgcolor","hbg","hoverlabel.bgcolor"),c("borderColor","hbc","hoverlabel.bordercolor"),c("fontFamily","htf","hoverlabel.font.family"),c("fontSize","hts","hoverlabel.font.size"),c("fontColor","htc","hoverlabel.font.color"),c("nameLength","hnl","hoverlabel.namelength"),c("textAlign","hta","hoverlabel.align"),e.posref="y"===t||"closest"===t&&"h"===r.orientation?e.xa._offset+(e.x0+e.x1)/2:e.ya._offset+(e.y0+e.y1)/2,e.x0=o.constrain(e.x0,0,e.xa._length),e.x1=o.constrain(e.x1,0,e.xa._length),e.y0=o.constrain(e.y0,0,e.ya._length),e.y1=o.constrain(e.y1,0,e.ya._length),void 0!==e.xLabelVal&&(e.xLabel="xLabel"in e?e.xLabel:v.hoverLabelText(e.xa,e.xLabelVal,r.xhoverformat),e.xVal=e.xa.c2d(e.xLabelVal)),void 0!==e.yLabelVal&&(e.yLabel="yLabel"in e?e.yLabel:v.hoverLabelText(e.ya,e.yLabelVal,r.yhoverformat),e.yVal=e.ya.c2d(e.yLabelVal)),void 0!==e.zLabelVal&&void 0===e.zLabel&&(e.zLabel=String(e.zLabelVal)),!isNaN(e.xerr)&&!("log"===e.xa.type&&e.xerr<=0)){var f=v.tickText(e.xa,e.xa.c2l(e.xerr),"hover").text;void 0!==e.xerrneg?e.xLabel+=" +"+f+" / -"+v.tickText(e.xa,e.xa.c2l(e.xerrneg),"hover").text:e.xLabel+=" \xb1 "+f,"x"===t&&(e.distance+=1)}if(!isNaN(e.yerr)&&!("log"===e.ya.type&&e.yerr<=0)){var h=v.tickText(e.ya,e.ya.c2l(e.yerr),"hover").text;void 0!==e.yerrneg?e.yLabel+=" +"+h+" / -"+v.tickText(e.ya,e.ya.c2l(e.yerrneg),"hover").text:e.yLabel+=" \xb1 "+h,"y"===t&&(e.distance+=1)}var d=e.hoverinfo||e.trace.hoverinfo;return d&&"all"!==d&&(-1===(d=Array.isArray(d)?d:d.split("+")).indexOf("x")&&(e.xLabel=void 0),-1===d.indexOf("y")&&(e.yLabel=void 0),-1===d.indexOf("z")&&(e.zLabel=void 0),-1===d.indexOf("text")&&(e.text=void 0),-1===d.indexOf("name")&&(e.name=void 0)),e}function R(e,t,n){var r,i,o=n.container,s=n.fullLayout,u=s._size,l=n.event,c=!!t.hLinePoint,f=!!t.vLinePoint;if(o.selectAll(".spikeline").remove(),f||c){var p=d.combine(s.plot_bgcolor,s.paper_bgcolor);if(c){var g,y,m=t.hLinePoint;r=m&&m.xa,"cursor"===(i=m&&m.ya).spikesnap?(g=l.pointerX,y=l.pointerY):(g=r._offset+m.x,y=i._offset+m.y);var b,_,w=a.readability(m.color,p)<1.5?d.contrast(p):m.color,x=i.spikemode,T=i.spikethickness,k=i.spikecolor||w,O=v.getPxPosition(e,i);if(-1!==x.indexOf("toaxis")||-1!==x.indexOf("across")){if(-1!==x.indexOf("toaxis")&&(b=O,_=g),-1!==x.indexOf("across")){var S=i._counterDomainMin,A=i._counterDomainMax;"free"===i.anchor&&(S=Math.min(S,i.position),A=Math.max(A,i.position)),b=u.l+S*u.w,_=u.l+A*u.w}o.insert("line",":first-child").attr({x1:b,x2:_,y1:y,y2:y,"stroke-width":T,stroke:k,"stroke-dasharray":h.dashStyle(i.spikedash,T)}).classed("spikeline",!0).classed("crisp",!0),o.insert("line",":first-child").attr({x1:b,x2:_,y1:y,y2:y,"stroke-width":T+2,stroke:p}).classed("spikeline",!0).classed("crisp",!0)}-1!==x.indexOf("marker")&&o.insert("circle",":first-child").attr({cx:O+("right"!==i.side?T:-T),cy:y,r:T,fill:k}).classed("spikeline",!0)}if(f){var E,C,M=t.vLinePoint;r=M&&M.xa,i=M&&M.ya,"cursor"===r.spikesnap?(E=l.pointerX,C=l.pointerY):(E=r._offset+M.x,C=i._offset+M.y);var I,D,P=a.readability(M.color,p)<1.5?d.contrast(p):M.color,N=r.spikemode,j=r.spikethickness,L=r.spikecolor||P,R=v.getPxPosition(e,r);if(-1!==N.indexOf("toaxis")||-1!==N.indexOf("across")){if(-1!==N.indexOf("toaxis")&&(I=R,D=C),-1!==N.indexOf("across")){var F=r._counterDomainMin,z=r._counterDomainMax;"free"===r.anchor&&(F=Math.min(F,r.position),z=Math.max(z,r.position)),I=u.t+(1-z)*u.h,D=u.t+(1-F)*u.h}o.insert("line",":first-child").attr({x1:E,x2:E,y1:I,y2:D,"stroke-width":j,stroke:L,"stroke-dasharray":h.dashStyle(r.spikedash,j)}).classed("spikeline",!0).classed("crisp",!0),o.insert("line",":first-child").attr({x1:E,x2:E,y1:I,y2:D,"stroke-width":j+2,stroke:p}).classed("spikeline",!0).classed("crisp",!0)}-1!==N.indexOf("marker")&&o.insert("circle",":first-child").attr({cx:E,cy:R-("top"!==r.side?j:-j),r:j,fill:L}).classed("spikeline",!0)}}}function F(e,t,n){if(!n||n.length!==e._hoverdata.length)return!0;for(var r=n.length-1;r>=0;r--){var i=n[r],a=e._hoverdata[r];if(i.curveNumber!==a.curveNumber||String(i.pointNumber)!==String(a.pointNumber)||String(i.pointNumbers)!==String(a.pointNumbers))return!0}return!1}function z(e,t){return!t||t.vLinePoint!==e._spikepoints.vLinePoint||t.hLinePoint!==e._spikepoints.hLinePoint}function U(e,t){return c.plainText(e||"",{len:t,allowedTags:["br","sub","sup","b","i","em"]})}function q(e,t){for(var n=t.charAt(0),r=[],i=[],a=[],o=0;o<e.length;o++){var s=e[o];g.traceIs(s.trace,"bar-like")||g.traceIs(s.trace,"box-violin")?a.push(s):s.trace[n+"period"]?i.push(s):r.push(s)}return r.concat(i).concat(a)}function B(e,t,n){var r=t[e+"a"],i=t[e+"Val"];"category"===r.type?i=r._categoriesMap[i]:"date"===r.type&&(i=r.d2c(i));var a=t.cd[t.index];return a&&a.t&&a.t.posLetter===r._id&&("group"!==n.boxmode&&"group"!==n.violinmode||(i+=a.t.dPos)),i}},{"../../lib":230,"../../lib/events":223,"../../lib/override_cursor":241,"../../lib/svg_text_utils":252,"../../plots/cartesian/axes":276,"../../registry":313,"../color":100,"../dragelement":119,"../drawing":122,"../legend/defaults":152,"../legend/draw":153,"./constants":134,"./helpers":136,"@plotly/d3":11,"fast-isnumeric":15,tinycolor2:65}],138:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../color"),a=e("./helpers").isUnifiedHover;t.exports=function(e,t,n,o){function s(e){o.font[e]||(o.font[e]=t.legend?t.legend.font[e]:t.font[e])}o=o||{},t&&a(t.hovermode)&&(o.font||(o.font={}),s("size"),s("family"),s("color"),t.legend?(o.bgcolor||(o.bgcolor=i.combine(t.legend.bgcolor,t.paper_bgcolor)),o.bordercolor||(o.bordercolor=t.legend.bordercolor)):o.bgcolor||(o.bgcolor=t.paper_bgcolor)),n("hoverlabel.bgcolor",o.bgcolor),n("hoverlabel.bordercolor",o.bordercolor),n("hoverlabel.namelength",o.namelength),r.coerceFont(n,"hoverlabel.font",o.font),n("hoverlabel.align",o.align)}},{"../../lib":230,"../color":100,"./helpers":136}],139:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./layout_attributes");t.exports=function(e,t){function n(n,a){return void 0!==t[n]?t[n]:r.coerce(e,t,i,n,a)}return n("clickmode"),n("hovermode")}},{"../../lib":230,"./layout_attributes":141}],140:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../../lib"),a=e("../dragelement"),o=e("./helpers"),s=e("./layout_attributes"),u=e("./hover");function l(e){var t=i.isD3Selection(e)?e:r.select(e);t.selectAll("g.hovertext").remove(),t.selectAll(".spikeline").remove()}function c(e,t,n){return i.castOption(e,t,"hoverlabel."+n)}function f(e,t,n){function r(n){return i.coerceHoverinfo({hoverinfo:n},{_module:e._module},t)}return i.castOption(e,n,"hoverinfo",r)}t.exports={moduleType:"component",name:"fx",constants:e("./constants"),schema:{layout:s},attributes:e("./attributes"),layoutAttributes:s,supplyLayoutGlobalDefaults:e("./layout_global_defaults"),supplyDefaults:e("./defaults"),supplyLayoutDefaults:e("./layout_defaults"),calc:e("./calc"),getDistanceFunction:o.getDistanceFunction,getClosest:o.getClosest,inbox:o.inbox,quadrature:o.quadrature,appendArrayPointValue:o.appendArrayPointValue,castHoverOption:c,castHoverinfo:f,hover:u.hover,unhover:a.unhover,loneHover:u.loneHover,loneUnhover:l,click:e("./click")}},{"../../lib":230,"../dragelement":119,"./attributes":131,"./calc":132,"./click":133,"./constants":134,"./defaults":135,"./helpers":136,"./hover":137,"./layout_attributes":141,"./layout_defaults":142,"./layout_global_defaults":143,"@plotly/d3":11}],141:[function(e,t,n){"use strict";var r=e("./constants"),i=e("../../plots/font_attributes")({editType:"none"});i.family.dflt=r.HOVERFONT,i.size.dflt=r.HOVERFONTSIZE,t.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:i,align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},{"../../plots/font_attributes":305,"./constants":134}],142:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./layout_attributes"),a=e("./hovermode_defaults"),o=e("./hoverlabel_defaults");t.exports=function(e,t){function n(n,a){return r.coerce(e,t,i,n,a)}a(e,t)&&(n("hoverdistance"),n("spikedistance")),"select"===n("dragmode")&&n("selectdirection");var s=t._has("mapbox"),u=t._has("geo"),l=t._basePlotModules.length;"zoom"===t.dragmode&&((s||u)&&1===l||s&&u&&2===l)&&(t.dragmode="pan"),o(e,t,n)}},{"../../lib":230,"./hoverlabel_defaults":138,"./hovermode_defaults":139,"./layout_attributes":141}],143:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./hoverlabel_defaults"),a=e("./layout_attributes");t.exports=function(e,t){function n(n,i){return r.coerce(e,t,a,n,i)}i(e,t,n)}},{"../../lib":230,"./hoverlabel_defaults":138,"./layout_attributes":141}],144:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../lib/regex").counter,a=e("../../plots/domain").attributes,o=e("../../plots/cartesian/constants").idRegex,s=e("../../plot_api/plot_template"),u={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[i("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[o.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[o.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:a({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function l(e,t,n){var r=t[n+"axes"],i=Object.keys((e._splomAxes||{})[n]||{});return Array.isArray(r)?r:i.length?i:void 0}function c(e,t){var n=e.grid||{},i=l(t,n,"x"),a=l(t,n,"y");if(e.grid||i||a){var o,c,h=Array.isArray(n.subplots)&&Array.isArray(n.subplots[0]),d=Array.isArray(i),p=Array.isArray(a),v=d&&i!==n.xaxes&&p&&a!==n.yaxes;h?(o=n.subplots.length,c=n.subplots[0].length):(p&&(o=a.length),d&&(c=i.length));var g=s.newContainer(t,"grid"),y=k("rows",o),m=k("columns",c);if(y*m>1){h||d||p||"independent"===k("pattern")&&(h=!0),g._hasSubplotGrid=h;var b,_,w="top to bottom"===k("roworder"),x=h?.2:.1,T=h?.3:.1;v&&t._splomGridDflt&&(b=t._splomGridDflt.xside,_=t._splomGridDflt.yside),g._domains={x:f("x",k,x,b,m),y:f("y",k,T,_,y,w)}}else delete t.grid}function k(e,t){return r.coerce(n,g,u,e,t)}}function f(e,t,n,r,i,a){var o=t(e+"gap",n),s=t("domain."+e);t(e+"side",r);for(var u=new Array(i),l=s[0],c=(s[1]-l)/(i-o),f=c*(1-o),h=0;h<i;h++){var d=l+c*h;u[a?i-1-h:h]=[d,d+f]}return u}function h(e,t){var n=t.grid;if(n&&n._domains){var r,i,a,o,s,u,c,f=e.grid||{},h=t._subplots,p=n._hasSubplotGrid,v=n.rows,g=n.columns,y="independent"===n.pattern,m=n._axisMap={};if(p){var b=f.subplots||[];u=n.subplots=new Array(v);var _=1;for(r=0;r<v;r++){var w=u[r]=new Array(g),x=b[r]||[];for(i=0;i<g;i++)if(y?(s=1===_?"xy":"x"+_+"y"+_,_++):s=x[i],w[i]="",-1!==h.cartesian.indexOf(s)){if(c=s.indexOf("y"),a=s.slice(0,c),o=s.slice(c),void 0!==m[a]&&m[a]!==i||void 0!==m[o]&&m[o]!==r)continue;w[i]=s,m[a]=i,m[o]=r}}}else{var T=l(t,f,"x"),k=l(t,f,"y");n.xaxes=d(T,h.xaxis,g,m,"x"),n.yaxes=d(k,h.yaxis,v,m,"y")}var O=n._anchors={},S="top to bottom"===n.roworder;for(var A in m){var E,C,M,I=A.charAt(0),D=n[I+"side"];if(D.length<8)O[A]="free";else if("x"===I){if("t"===D.charAt(0)===S?(E=0,C=1,M=v):(E=v-1,C=-1,M=-1),p){var P=m[A];for(r=E;r!==M;r+=C)if((s=u[r][P])&&(c=s.indexOf("y"),s.slice(0,c)===A)){O[A]=s.slice(c);break}}else for(r=E;r!==M;r+=C)if(o=n.yaxes[r],-1!==h.cartesian.indexOf(A+o)){O[A]=o;break}}else if("l"===D.charAt(0)?(E=0,C=1,M=g):(E=g-1,C=-1,M=-1),p){var N=m[A];for(r=E;r!==M;r+=C)if((s=u[N][r])&&(c=s.indexOf("y"),s.slice(c)===A)){O[A]=s.slice(0,c);break}}else for(r=E;r!==M;r+=C)if(a=n.xaxes[r],-1!==h.cartesian.indexOf(a+A)){O[A]=a;break}}}}function d(e,t,n,r,i){var a,o=new Array(n);function s(e,n){-1!==t.indexOf(n)&&void 0===r[n]?(o[e]=n,r[n]=e):o[e]=""}if(Array.isArray(e))for(a=0;a<n;a++)s(a,e[a]);else for(s(0,i),a=1;a<n;a++)s(a,i+(a+1));return o}t.exports={moduleType:"component",name:"grid",schema:{layout:{grid:u}},layoutAttributes:u,sizeDefaults:c,contentDefaults:h}},{"../../lib":230,"../../lib/regex":246,"../../plot_api/plot_template":265,"../../plots/cartesian/constants":283,"../../plots/domain":304}],145:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/constants"),i=e("../../plot_api/plot_template").templatedArray;e("../../constants/axis_placeable_objects"),t.exports=i("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",r.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",r.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":206,"../../plot_api/plot_template":265,"../../plots/cartesian/constants":283}],146:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib/to_log_range");t.exports=function(e,t,n,a){t=t||{};var o="log"===n&&"linear"===t.type,s="linear"===n&&"log"===t.type;if(o||s)for(var u,l,c=e._fullLayout.images,f=t._id.charAt(0),h=0;h<c.length;h++)if(l="images["+h+"].",(u=c[h])[f+"ref"]===t._id){var d=u[f],p=u["size"+f],v=null,g=null;if(o){v=i(d,t.range);var y=p/Math.pow(10,v)/2;g=2*Math.log(y+Math.sqrt(1+y*y))/Math.LN10}else g=(v=Math.pow(10,d))*(Math.pow(10,p/2)-Math.pow(10,-p/2));r(v)?r(g)||(g=null):(v=null,g=null),a(l+f,v),a(l+"size"+f,g)}}},{"../../lib/to_log_range":254,"fast-isnumeric":15}],147:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes"),a=e("../../plots/array_container_defaults"),o=e("./attributes"),s="images";function u(e,t,n){function a(n,i){return r.coerce(e,t,o,n,i)}var s=a("source");if(!a("visible",!!s))return t;a("layer"),a("xanchor"),a("yanchor"),a("sizex"),a("sizey"),a("sizing"),a("opacity");for(var u={_fullLayout:n},l=["x","y"],c=0;c<2;c++){var f=l[c],h=i.coerceRef(e,t,u,f,"paper",void 0);"paper"!==h&&i.getFromId(u,h)._imgIndices.push(t._index),i.coercePosition(t,u,a,h,f,0)}return t}t.exports=function(e,t){a(e,t,{name:s,handleItemDefaults:u})}},{"../../lib":230,"../../plots/array_container_defaults":271,"../../plots/cartesian/axes":276,"./attributes":145}],148:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../drawing"),a=e("../../plots/cartesian/axes"),o=e("../../plots/cartesian/axis_ids"),s=e("../../constants/xmlns_namespaces");t.exports=function(e){var t,n,u=e._fullLayout,l=[],c={},f=[];for(n=0;n<u.images.length;n++){var h=u.images[n];if(h.visible)if("below"===h.layer&&"paper"!==h.xref&&"paper"!==h.yref){t=o.ref2id(h.xref)+o.ref2id(h.yref);var d=u._plots[t];if(!d){f.push(h);continue}d.mainplot&&(t=d.mainplot.id),c[t]||(c[t]=[]),c[t].push(h)}else"above"===h.layer?l.push(h):f.push(h)}var p={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}}};function v(t){var n=r.select(this);if(this._imgSrc!==t.source)if(n.attr("xmlns",s.svg),t.source&&"data:"===t.source.slice(0,5))n.attr("xlink:href",t.source),this._imgSrc=t.source;else{var i=new Promise(function(e){var r=new Image;function i(){n.remove(),e()}this.img=r,r.setAttribute("crossOrigin","anonymous"),r.onerror=i,r.onload=function(){var t=document.createElement("canvas");t.width=this.width,t.height=this.height,t.getContext("2d").drawImage(this,0,0);var r=t.toDataURL("image/png");n.attr("xlink:href",r),e()},n.on("error",i),r.src=t.source,this._imgSrc=t.source}.bind(this));e._promises.push(i)}}function g(t){var n,o,s=r.select(this),l=a.getFromId(e,t.xref),c=a.getFromId(e,t.yref),f="domain"===a.getRefType(t.xref),h="domain"===a.getRefType(t.yref),d=u._size;n=void 0!==l?"string"===typeof t.xref&&f?l._length*t.sizex:Math.abs(l.l2p(t.sizex)-l.l2p(0)):t.sizex*d.w,o=void 0!==c?"string"===typeof t.yref&&h?c._length*t.sizey:Math.abs(c.l2p(t.sizey)-c.l2p(0)):t.sizey*d.h;var v,g,y=n*p.x[t.xanchor].offset,m=o*p.y[t.yanchor].offset,b=p.x[t.xanchor].sizing+p.y[t.yanchor].sizing;switch(v=void 0!==l?"string"===typeof t.xref&&f?l._length*t.x+l._offset:l.r2p(t.x)+l._offset:t.x*d.w+d.l,v+=y,g=void 0!==c?"string"===typeof t.yref&&h?c._length*(1-t.y)+c._offset:c.r2p(t.y)+c._offset:d.h-t.y*d.h+d.t,g+=m,t.sizing){case"fill":b+=" slice";break;case"stretch":b="none"}s.attr({x:v,y:g,width:n,height:o,preserveAspectRatio:b,opacity:t.opacity});var _=(l&&"domain"!==a.getRefType(t.xref)?l._id:"")+(c&&"domain"!==a.getRefType(t.yref)?c._id:"");i.setClipUrl(s,_?"clip"+u._uid+_:null,e)}var y=u._imageLowerLayer.selectAll("image").data(f),m=u._imageUpperLayer.selectAll("image").data(l);y.enter().append("image"),m.enter().append("image"),y.exit().remove(),m.exit().remove(),y.each((function(e){v.bind(this)(e),g.bind(this)(e)})),m.each((function(e){v.bind(this)(e),g.bind(this)(e)}));var b=Object.keys(u._plots);for(n=0;n<b.length;n++){t=b[n];var _=u._plots[t];if(_.imagelayer){var w=_.imagelayer.selectAll("image").data(c[t]||[]);w.enter().append("image"),w.exit().remove(),w.each((function(e){v.bind(this)(e),g.bind(this)(e)}))}}}},{"../../constants/xmlns_namespaces":211,"../../plots/cartesian/axes":276,"../../plots/cartesian/axis_ids":280,"../drawing":122,"@plotly/d3":11}],149:[function(e,t,n){"use strict";t.exports={moduleType:"component",name:"images",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),includeBasePlot:e("../../plots/cartesian/include_components")("images"),draw:e("./draw"),convertCoords:e("./convert_coords")}},{"../../plots/cartesian/include_components":289,"./attributes":145,"./convert_coords":146,"./defaults":147,"./draw":148}],150:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),i=e("../color/attributes");t.exports={bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:i.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:r({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},x:{valType:"number",min:-2,max:3,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:r({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},{"../../plots/font_attributes":305,"../color/attributes":99}],151:[function(e,t,n){"use strict";t.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},{}],152:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../lib"),a=e("../../plot_api/plot_template"),o=e("./attributes"),s=e("../../plots/layout_attributes"),u=e("./helpers");t.exports=function(e,t,n){for(var l=e.legend||{},c=0,f=!1,h="normal",d=0;d<n.length;d++){var p=n[d];p.visible&&((p.showlegend||p._dfltShowLegend&&!(p._module&&p._module.attributes&&p._module.attributes.showlegend&&!1===p._module.attributes.showlegend.dflt))&&(c++,p.showlegend&&(f=!0,(r.traceIs(p,"pie-like")||!0===p._input.showlegend)&&c++)),(r.traceIs(p,"bar")&&"stack"===t.barmode||-1!==["tonextx","tonexty"].indexOf(p.fill))&&(h=u.isGrouped({traceorder:h})?"grouped+reversed":"reversed"),void 0!==p.legendgroup&&""!==p.legendgroup&&(h=u.isReversed({traceorder:h})?"reversed+grouped":"grouped"))}var v=i.coerce(e,t,s,"showlegend",f&&c>1);if(!1!==v||l.uirevision){var g=a.newContainer(t,"legend");if(T("uirevision",t.uirevision),!1!==v){T("bgcolor",t.paper_bgcolor),T("bordercolor"),T("borderwidth");var y,m,b,_=i.coerceFont(T,"font",t.font),w="h"===T("orientation");if(w?(y=0,r.getComponentMethod("rangeslider","isVisible")(e.xaxis)?(m=1.1,b="bottom"):(m=-.1,b="top")):(y=1.02,m=1,b="auto"),T("traceorder",h),u.isGrouped(t.legend)&&T("tracegroupgap"),T("itemsizing"),T("itemwidth"),T("itemclick"),T("itemdoubleclick"),T("x",y),T("xanchor"),T("y",m),T("yanchor",b),T("valign"),i.noneOrAll(l,g,["x","y"]),T("title.text")){T("title.side",w?"left":"top");var x=i.extendFlat({},_,{size:i.bigFont(_.size)});i.coerceFont(T,"title.font",x)}}}function T(e,t){return i.coerce(l,g,o,e,t)}}},{"../../lib":230,"../../plot_api/plot_template":265,"../../plots/layout_attributes":309,"../../registry":313,"./attributes":150,"./helpers":156}],153:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../../lib"),a=e("../../plots/plots"),o=e("../../registry"),s=e("../../lib/events"),u=e("../dragelement"),l=e("../drawing"),c=e("../color"),f=e("../../lib/svg_text_utils"),h=e("./handle_click"),d=e("./constants"),p=e("../../constants/alignment"),v=p.LINE_SPACING,g=p.FROM_TL,y=p.FROM_BR,m=e("./get_legend_data"),b=e("./style"),_=e("./helpers"),w=1;function x(e,t){var n,s=e._fullLayout,f="legend"+s._uid,h=t._inHover;if(h?(n=t.layer,f+="-hover"):n=s._infolayer,n){var p;if(e._legendMouseDownTime||(e._legendMouseDownTime=0),h){if(!t.entries)return;p=m(t.entries,t)}else{if(!e.calcdata)return;p=s.showlegend&&m(e.calcdata,t)}var v=s.hiddenlabels||[];if(!h&&(!s.showlegend||!p.length))return n.selectAll(".legend").remove(),s._topdefs.select("#"+f).remove(),a.autoMargin(e,"legend");var y=i.ensureSingle(n,"g","legend",(function(e){h||e.attr("pointer-events","all")})),_=i.ensureSingleById(s._topdefs,"clipPath",f,(function(e){e.append("rect")})),x=i.ensureSingle(y,"rect","bg",(function(e){e.attr("shape-rendering","crispEdges")}));x.call(c.stroke,t.bordercolor).call(c.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px");var O=i.ensureSingle(y,"g","scrollbox"),E=t.title;if(t._titleWidth=0,t._titleHeight=0,E.text){var C=i.ensureSingle(O,"text","legendtitletext");C.attr("text-anchor","start").call(l.font,E.font).text(E.text),A(C,O,e,t,w)}else O.selectAll(".legendtitletext").remove();var N=i.ensureSingle(y,"rect","scrollbar",(function(e){e.attr(d.scrollBarEnterAttrs).call(c.fill,d.scrollBarColor)})),j=O.selectAll("g.groups").data(p);j.enter().append("g").attr("class","groups"),j.exit().remove();var L=j.selectAll("g.traces").data(i.identity);L.enter().append("g").attr("class","traces"),L.exit().remove(),L.style("opacity",(function(e){var t=e[0].trace;return o.traceIs(t,"pie-like")?-1!==v.indexOf(e[0].label)?.5:1:"legendonly"===t.visible?.5:1})).each((function(){r.select(this).call(k,e,t)})).call(b,e,t).each((function(){h||r.select(this).call(S,e)})),i.syncOrAsync([a.previousPromises,function(){return M(e,j,L,t)},function(){if(h||!I(e)){var a,c,p,v,m=s._size,b=t.borderwidth,w=m.l+m.w*t.x-g[D(t)]*t._width,k=m.t+m.h*(1-t.y)-g[P(t)]*t._effHeight;if(!h&&s.margin.autoexpand){var S=w,A=k;w=i.constrain(w,0,s.width-t._width),k=i.constrain(k,0,s.height-t._effHeight),w!==S&&i.log("Constrain legend.x to make legend fit inside graph"),k!==A&&i.log("Constrain legend.y to make legend fit inside graph")}if(h||l.setTranslate(y,w,k),N.on(".drag",null),y.on("wheel",null),h||t._height<=t._maxHeight||e._context.staticPlot){var E=t._effHeight;h&&(E=t._height),x.attr({width:t._width-b,height:E-b,x:b/2,y:b/2}),l.setTranslate(O,0,0),_.select("rect").attr({width:t._width-2*b,height:E-2*b,x:b,y:b}),l.setClipUrl(O,f,e),l.setRect(N,0,0,0,0),delete t._scrollY}else{var C,M,j,L=Math.max(d.scrollBarMinHeight,t._effHeight*t._effHeight/t._height),R=t._effHeight-L-2*d.scrollBarMargin,F=t._height-t._effHeight,z=R/F,U=Math.min(t._scrollY||0,F);x.attr({width:t._width-2*b+d.scrollBarWidth+d.scrollBarMargin,height:t._effHeight-b,x:b/2,y:b/2}),_.select("rect").attr({width:t._width-2*b+d.scrollBarWidth+d.scrollBarMargin,height:t._effHeight-2*b,x:b,y:b+U}),l.setClipUrl(O,f,e),W(U,L,z),y.on("wheel",(function(){W(U=i.constrain(t._scrollY+r.event.deltaY/R*F,0,F),L,z),0!==U&&U!==F&&r.event.preventDefault()}));var q=function(e,t,n){var r=(n-t)/z+e;return i.constrain(r,0,F)},B=function(e,t,n){var r=(t-n)/z+e;return i.constrain(r,0,F)},V=r.behavior.drag().on("dragstart",(function(){var e=r.event.sourceEvent;C="touchstart"===e.type?e.changedTouches[0].clientY:e.clientY,j=U})).on("drag",(function(){var e=r.event.sourceEvent;2===e.buttons||e.ctrlKey||(M="touchmove"===e.type?e.changedTouches[0].clientY:e.clientY,W(U=q(j,C,M),L,z))}));N.call(V);var H=r.behavior.drag().on("dragstart",(function(){var e=r.event.sourceEvent;"touchstart"===e.type&&(C=e.changedTouches[0].clientY,j=U)})).on("drag",(function(){var e=r.event.sourceEvent;"touchmove"===e.type&&(M=e.changedTouches[0].clientY,W(U=B(j,C,M),L,z))}));O.call(H)}e._context.edits.legendPosition&&(y.classed("cursor-move",!0),u.init({element:y.node(),gd:e,prepFn:function(){var e=l.getTranslate(y);p=e.x,v=e.y},moveFn:function(e,n){var r=p+e,i=v+n;l.setTranslate(y,r,i),a=u.align(r,0,m.l,m.l+m.w,t.xanchor),c=u.align(i,0,m.t+m.h,m.t,t.yanchor)},doneFn:function(){void 0!==a&&void 0!==c&&o.call("_guiRelayout",e,{"legend.x":a,"legend.y":c})},clickFn:function(t,r){var i=n.selectAll("g.traces").filter((function(){var e=this.getBoundingClientRect();return r.clientX>=e.left&&r.clientX<=e.right&&r.clientY>=e.top&&r.clientY<=e.bottom}));i.size()>0&&T(e,y,i,t,r)}}))}function W(n,r,i){t._scrollY=e._fullLayout.legend._scrollY=n,l.setTranslate(O,0,-n),l.setRect(N,t._width,d.scrollBarMargin+n*i,d.scrollBarWidth,r),_.select("rect").attr("y",b+n)}}],e)}}function T(e,t,n,r,i){var a=n.data()[0][0].trace,u={event:i,node:n.node(),curveNumber:a.index,expandedIndex:a._expandedIndex,data:e.data,layout:e.layout,frames:e._transitionData._frames,config:e._context,fullData:e._fullData,fullLayout:e._fullLayout};a._group&&(u.group=a._group),o.traceIs(a,"pie-like")&&(u.label=n.datum()[0].label),!1!==s.triggerHandler(e,"plotly_legendclick",u)&&(1===r?t._clickTimeout=setTimeout((function(){e._fullLayout&&h(n,e,r)}),e._context.doubleClickDelay):2===r&&(t._clickTimeout&&clearTimeout(t._clickTimeout),e._legendMouseDownTime=0,!1!==s.triggerHandler(e,"plotly_legenddoubleclick",u)&&h(n,e,r)))}function k(e,t,n){var r,a,s=e.data()[0][0],u=s.trace,c=o.traceIs(u,"pie-like"),h=!n._inHover&&t._context.edits.legendText&&!c,p=n._maxNameLength;s.groupTitle?(r=s.groupTitle.text,a=s.groupTitle.font):(a=n.font,n.entries?r=s.text:(r=c?s.label:u.name,u._meta&&(r=i.templateString(r,u._meta))));var v=i.ensureSingle(e,"text","legendtext");v.attr("text-anchor","start").call(l.font,a).text(h?O(r,p):r);var g=n.itemwidth+2*d.itemGap;f.positionText(v,g,0),h?v.call(f.makeEditable,{gd:t,text:r}).call(A,e,t,n).on("edit",(function(r){this.text(O(r,p)).call(A,e,t,n);var a=s.trace._fullInput||{},l={};if(o.hasTransform(a,"groupby")){var c=o.getTransformIndices(a,"groupby"),f=c[c.length-1],h=i.keyedContainer(a,"transforms["+f+"].styles","target","value.name");h.set(s.trace._group,r),l=h.constructUpdate()}else l.name=r;return o.call("_guiRestyle",t,l,u.index)})):A(v,e,t,n)}function O(e,t){var n=Math.max(4,t);if(e&&e.trim().length>=n/2)return e;for(var r=n-(e=e||"").length;r>0;r--)e+=" ";return e}function S(e,t){var n,a=t._context.doubleClickDelay,o=1,s=i.ensureSingle(e,"rect","legendtoggle",(function(e){t._context.staticPlot||e.style("cursor","pointer").attr("pointer-events","all"),e.call(c.fill,"rgba(0,0,0,0)")}));t._context.staticPlot||(s.on("mousedown",(function(){(n=(new Date).getTime())-t._legendMouseDownTime<a?o+=1:(o=1,t._legendMouseDownTime=n)})),s.on("mouseup",(function(){if(!t._dragged&&!t._editing){var n=t._fullLayout.legend;(new Date).getTime()-t._legendMouseDownTime>a&&(o=Math.max(o-1,1)),T(t,n,e,o,r.event)}})))}function A(e,t,n,r,i){r._inHover&&e.attr("data-notex",!0),f.convertToTspans(e,n,(function(){E(t,n,r,i)}))}function E(e,t,n,r){var i=e.data()[0][0];if(n._inHover||!i||i.trace.showlegend){var a=e.select("g[class*=math-group]"),o=a.node();n||(n=t._fullLayout.legend);var s,u,c=n.borderwidth,h=(r===w?n.title.font:i.groupTitle?i.groupTitle.font:n.font).size*v;if(o){var p=l.bBox(o);s=p.height,u=p.width,r===w?l.setTranslate(a,c,c+.75*s):l.setTranslate(a,0,.25*s)}else{var g=e.select(r===w?".legendtitletext":".legendtext"),y=f.lineCount(g),m=g.node();if(s=h*y,u=m?l.bBox(m).width:0,r===w)"left"===n.title.side&&(u+=2*d.itemGap),f.positionText(g,c+d.titlePad,c+h);else{var b=2*d.itemGap+n.itemwidth;i.groupTitle&&(b=d.itemGap,u-=n.itemwidth),f.positionText(g,b,-h*((y-1)/2-.3))}}r===w?(n._titleWidth=u,n._titleHeight=s):(i.lineHeight=h,i.height=Math.max(s,16)+3,i.width=u)}else e.remove()}function C(e){var t=0,n=0,r=e.title.side;return r&&(-1!==r.indexOf("left")&&(t=e._titleWidth),-1!==r.indexOf("top")&&(n=e._titleHeight)),[t,n]}function M(e,t,n,i){var a=e._fullLayout;i||(i=a.legend);var o=a._size,s=_.isVertical(i),u=_.isGrouped(i),c=i.borderwidth,f=2*c,h=d.itemGap,p=i.itemwidth+2*h,v=2*(c+h),g=P(i),y=i.y<0||0===i.y&&"top"===g,m=i.y>1||1===i.y&&"bottom"===g,b=i.tracegroupgap;i._maxHeight=Math.max(y||m?a.height/2:o.h,30);var w=0;i._width=0,i._height=0;var x=C(i);if(s)n.each((function(e){var t=e[0].height;l.setTranslate(this,c+x[0],c+x[1]+i._height+t/2+h),i._height+=t,i._width=Math.max(i._width,e[0].width)})),w=p+i._width,i._width+=h+p+f,i._height+=v,u&&(t.each((function(e,t){l.setTranslate(this,0,t*i.tracegroupgap)})),i._height+=(i._lgroupsLength-1)*i.tracegroupgap);else{var T=D(i),k=i.x<0||0===i.x&&"right"===T,O=i.x>1||1===i.x&&"left"===T,S=m||y,A=a.width/2;i._maxWidth=Math.max(k?S&&"left"===T?o.l+o.w:A:O?S&&"right"===T?o.r+o.w:A:o.w,2*p);var E=0,M=0;n.each((function(e){var t=e[0].width+p;E=Math.max(E,t),M+=t})),w=null;var I=0;if(u){var N=0,j=0,L=0;t.each((function(){var e=0,t=0;r.select(this).selectAll("g.traces").each((function(n){var r=n[0].height;l.setTranslate(this,x[0],x[1]+c+h+r/2+t),t+=r,e=Math.max(e,p+n[0].width)})),N=Math.max(N,t);var n=e+h;n+c+j>i._maxWidth&&(I=Math.max(I,j),j=0,L+=N+b,N=t),l.setTranslate(this,j,L),j+=n})),i._width=Math.max(I,j)+c,i._height=L+N+v}else{var R=n.size(),F=M+f+(R-1)*h<i._maxWidth,z=0,U=0,q=0,B=0;n.each((function(e){var t=e[0].height,n=p+e[0].width,r=(F?n:E)+h;r+c+U-h>=i._maxWidth&&(I=Math.max(I,B),U=0,q+=z,i._height+=z,z=0),l.setTranslate(this,x[0]+c+U,x[1]+c+q+t/2+h),B=U+n+h,U+=r,z=Math.max(z,t)})),F?(i._width=U+f,i._height=z+v):(i._width=Math.max(I,B)+f,i._height+=z+v)}}i._width=Math.ceil(Math.max(i._width+x[0],i._titleWidth+2*(c+d.titlePad))),i._height=Math.ceil(Math.max(i._height+x[1],i._titleHeight+2*(c+d.itemGap))),i._effHeight=Math.min(i._height,i._maxHeight);var V=e._context.edits,H=V.legendText||V.legendPosition;n.each((function(e){var t=r.select(this).select(".legendtoggle"),n=e[0].height,i=H?p:w||p+e[0].width;s||(i+=h/2),l.setRect(t,0,-n/2,i,n)}))}function I(e){var t=e._fullLayout.legend,n=D(t),r=P(t);return a.autoMargin(e,"legend",{x:t.x,y:t.y,l:t._width*g[n],r:t._width*y[n],b:t._effHeight*y[r],t:t._effHeight*g[r]})}function D(e){return i.isRightAnchor(e)?"right":i.isCenterAnchor(e)?"center":"left"}function P(e){return i.isBottomAnchor(e)?"bottom":i.isMiddleAnchor(e)?"middle":"top"}t.exports=function(e,t){return t||(t=e._fullLayout.legend||{}),x(e,t)}},{"../../constants/alignment":205,"../../lib":230,"../../lib/events":223,"../../lib/svg_text_utils":252,"../../plots/plots":311,"../../registry":313,"../color":100,"../dragelement":119,"../drawing":122,"./constants":151,"./get_legend_data":154,"./handle_click":155,"./helpers":156,"./style":158,"@plotly/d3":11}],154:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("./helpers");t.exports=function(e,t){var n,a,o=i.isGrouped(t),s=i.isReversed(t),u={},l=[],c=!1,f={},h=0,d=0;function p(e,n){if(""!==e&&i.isGrouped(t))-1===l.indexOf(e)?(l.push(e),c=!0,u[e]=[n]):u[e].push(n);else{var r="~~i"+h;l.push(r),u[r]=[n],h++}}for(n=0;n<e.length;n++){var v=e[n],g=v[0],y=g.trace,m=y.legendgroup;if(t._inHover||y.visible&&y.showlegend)if(r.traceIs(y,"pie-like"))for(f[m]||(f[m]={}),a=0;a<v.length;a++){var b=v[a].label;f[m][b]||(p(m,{label:b,color:v[a].color,i:v[a].i,trace:y,pts:v[a].pts}),f[m][b]=!0,d=Math.max(d,(b||"").length))}else p(m,g),d=Math.max(d,(y.name||"").length)}if(!l.length)return[];var _=!c||!o,w=[];for(n=0;n<l.length;n++){var x=u[l[n]];_?w.push(x[0]):w.push(x)}for(_&&(w=[w]),n=0;n<w.length;n++){var T=1/0;for(a=0;a<w[n].length;a++){var k=w[n][a].trace.legendrank;T>k&&(T=k)}w[n][0]._groupMinRank=T,w[n][0]._preGroupSort=n}var O=function(e,t){return e[0]._groupMinRank-t[0]._groupMinRank||e[0]._preGroupSort-t[0]._preGroupSort},S=function(e,t){return e.trace.legendrank-t.trace.legendrank||e._preSort-t._preSort};for(w.forEach((function(e,t){e[0]._preGroupSort=t})),w.sort(O),n=0;n<w.length;n++){w[n].forEach((function(e,t){e._preSort=t})),w[n].sort(S);var A=w[n][0],E=null;for(a=0;a<w[n].length;a++){var C=w[n][a].trace.legendgrouptitle;if(C&&C.text){E=C;break}}for(s&&w[n].reverse(),E&&w[n].unshift({i:-1,groupTitle:E,trace:{showlegend:A.trace.showlegend}}),a=0;a<w[n].length;a++)w[n][a]=[w[n][a]]}return t._lgroupsLength=w.length,t._maxNameLength=d,w}},{"../../registry":313,"./helpers":156}],155:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../registry"),a=!0;t.exports=function(e,t,n){var o=t._fullLayout;if(!t._dragged&&!t._editing){var s,u=o.legend.itemclick,l=o.legend.itemdoubleclick;if(1===n&&"toggle"===u&&"toggleothers"===l&&a&&t.data&&t._context.showTips?(r.notifier(r._(t,"Double-click on legend to isolate one trace"),"long"),a=!1):a=!1,1===n?s=u:2===n&&(s=l),s){var c=o.hiddenlabels?o.hiddenlabels.slice():[],f=e.data()[0][0];if(!f.groupTitle){var h,d,p,v,g,y=t._fullData,m=f.trace,b=m.legendgroup,_={},w=[],x=[],T=[];if(i.traceIs(m,"pie-like")){var k=f.label,O=c.indexOf(k);"toggle"===s?-1===O?c.push(k):c.splice(O,1):"toggleothers"===s&&(c=[],t.calcdata[0].forEach((function(e){k!==e.label&&c.push(e.label)})),t._fullLayout.hiddenlabels&&t._fullLayout.hiddenlabels.length===c.length&&-1===O&&(c=[])),i.call("_guiRelayout",t,"hiddenlabels",c)}else{var S,A=b&&b.length,E=[];if(A)for(h=0;h<y.length;h++)(S=y[h]).visible&&S.legendgroup===b&&E.push(h);if("toggle"===s){var C;switch(m.visible){case!0:C="legendonly";break;case!1:C=!1;break;case"legendonly":C=!0}if(A)for(h=0;h<y.length;h++)!1!==y[h].visible&&y[h].legendgroup===b&&F(y[h],C);else F(m,C)}else if("toggleothers"===s){var M,I,D,P,N=!0;for(h=0;h<y.length;h++)if(M=y[h]===m,D=!0!==y[h].showlegend,!M&&!D&&!(I=A&&y[h].legendgroup===b)&&!0===y[h].visible&&!i.traceIs(y[h],"notLegendIsolatable")){N=!1;break}for(h=0;h<y.length;h++)if(!1!==y[h].visible&&!i.traceIs(y[h],"notLegendIsolatable"))switch(m.visible){case"legendonly":F(y[h],!0);break;case!0:P=!!N||"legendonly",M=y[h]===m,D=!0!==y[h].showlegend&&!y[h].legendgroup,I=M||A&&y[h].legendgroup===b,F(y[h],!(!I&&!D)||P)}}for(h=0;h<x.length;h++)if(p=x[h]){var j=p.constructUpdate(),L=Object.keys(j);for(d=0;d<L.length;d++)v=L[d],(_[v]=_[v]||[])[T[h]]=j[v]}for(g=Object.keys(_),h=0;h<g.length;h++)for(v=g[h],d=0;d<w.length;d++)_[v].hasOwnProperty(d)||(_[v][d]=void 0);i.call("_guiRestyle",t,_,w)}}}}function R(e,t,n){var r=w.indexOf(e),i=_[t];return i||(i=_[t]=[]),-1===w.indexOf(e)&&(w.push(e),r=w.length-1),i[r]=n,r}function F(e,t){var n=e._fullInput;if(i.hasTransform(n,"groupby")){var a=x[n.index];if(!a){var o=i.getTransformIndices(n,"groupby"),s=o[o.length-1];a=r.keyedContainer(n,"transforms["+s+"].styles","target","value.visible"),x[n.index]=a}var u=a.get(e._group);void 0===u&&(u=!0),!1!==u&&a.set(e._group,t),T[n.index]=R(n.index,"visible",!1!==n.visible)}else{var l=!1!==n.visible&&t;R(n.index,"visible",l)}}}},{"../../lib":230,"../../registry":313}],156:[function(e,t,n){"use strict";n.isGrouped=function(e){return-1!==(e.traceorder||"").indexOf("grouped")},n.isVertical=function(e){return"h"!==e.orientation},n.isReversed=function(e){return-1!==(e.traceorder||"").indexOf("reversed")}},{}],157:[function(e,t,n){"use strict";t.exports={moduleType:"component",name:"legend",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),draw:e("./draw"),style:e("./style")}},{"./attributes":150,"./defaults":152,"./draw":153,"./style":158}],158:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../../registry"),a=e("../../lib"),o=a.strTranslate,s=e("../drawing"),u=e("../color"),l=e("../colorscale/helpers").extractOpts,c=e("../../traces/scatter/subtypes"),f=e("../../traces/pie/style_one"),h=e("../../traces/pie/helpers").castOption,d=e("./constants"),p=12,v=5,g=2,y=10,m=5;function b(e,t){return(t?"radial":"horizontal")+(e?"":"reversed")}function _(e){var t=e[0].trace,n=t.contours,r=c.hasLines(t),i=c.hasMarkers(t),a=t.visible&&t.fill&&"none"!==t.fill,o=!1,s=!1;if(n){var u=n.coloring;"lines"===u?o=!0:r="none"===u||"heatmap"===u||n.showlines,"constraint"===n.type?a="="!==n._operation:"fill"!==u&&"heatmap"!==u||(s=!0)}return{showMarker:i,showLine:r,showFill:a,showGradientLine:o,showGradientFill:s,anyLine:r||o,anyFill:a||s}}function w(e,t,n){return e&&a.isArrayOrTypedArray(e)?t:e>n?n:e}t.exports=function(e,t,n){var x=t._fullLayout;n||(n=x.legend);var T="constant"===n.itemsizing,k=n.itemwidth,O=(k+2*d.itemGap)/2,S=o(O,0),A=function(e,t,n,r){var i;if(e+1)i=e;else{if(!(t&&t.width>0))return 0;i=t.width}return T?r:Math.min(i,n)};function E(e){var n,i,o=_(e),u=o.showFill,f=o.showLine,h=o.showGradientLine,d=o.showGradientFill,p=o.anyFill,g=o.anyLine,m=e[0],w=m.trace,x=l(w),T=x.colorscale,O=x.reversescale,S=function(e){if(e.size()){var n="legendfill-"+w.uid;s.gradient(e,t,n,b(O),T,"fill")}},E=function(e){if(e.size()){var n="legendline-"+w.uid;s.lineGroupStyle(e),s.gradient(e,t,n,b(O),T,"stroke")}},C=c.hasMarkers(w)||!p?"M5,0":g?"M5,-2":"M5,-3",M=r.select(this),I=M.select(".legendfill").selectAll("path").data(u||d?[e]:[]);if(I.enter().append("path").classed("js-fill",!0),I.exit().remove(),I.attr("d",C+"h"+k+"v6h-"+k+"z").call(u?s.fillGroupStyle:S),f||h){var D=A(void 0,w.line,y,v);i=a.minExtend(w,{line:{width:D}}),n=[a.minExtend(m,{trace:i})]}var P=M.select(".legendlines").selectAll("path").data(f||h?[n]:[]);P.enter().append("path").classed("js-line",!0),P.exit().remove(),P.attr("d",C+(h?"l"+k+",0.0001":"h"+k)).call(f?s.lineGroupStyle:E)}function C(e){var n,i,o=_(e),u=o.anyFill,l=o.anyLine,f=o.showLine,h=o.showMarker,d=e[0],y=d.trace,m=!h&&!l&&!u&&c.hasText(y);function b(e,t,n,r){var i=a.nestedProperty(y,e).get(),o=a.isArrayOrTypedArray(i)&&t?t(i):i;if(T&&o&&void 0!==r&&(o=r),n){if(o<n[0])return n[0];if(o>n[1])return n[1]}return o}function w(e){return d._distinct&&d.index&&e[d.index]?e[d.index]:e[0]}if(h||m||f){var x={},k={};if(h){x.mc=b("marker.color",w),x.mx=b("marker.symbol",w),x.mo=b("marker.opacity",a.mean,[.2,1]),x.mlc=b("marker.line.color",w),x.mlw=b("marker.line.width",a.mean,[0,5],g),k.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var O=b("marker.size",a.mean,[2,16],p);x.ms=O,k.marker.size=O}f&&(k.line={width:b("line.width",w,[0,10],v)}),m&&(x.tx="Aa",x.tp=b("textposition",w),x.ts=10,x.tc=b("textfont.color",w),x.tf=b("textfont.family",w)),n=[a.minExtend(d,x)],(i=a.minExtend(y,k)).selectedpoints=null,i.texttemplate=null}var A=r.select(this).select("g.legendpoints"),E=A.selectAll("path.scatterpts").data(h?n:[]);E.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",S),E.exit().remove(),E.call(s.pointStyle,i,t),h&&(n[0].mrc=3);var C=A.selectAll("g.pointtext").data(m?n:[]);C.enter().append("g").classed("pointtext",!0).append("text").attr("transform",S),C.exit().remove(),C.selectAll("text").call(s.textPointStyle,i,t)}function M(e){var t=e[0].trace,n="waterfall"===t.type;if(e[0]._distinct&&n){var i=e[0].trace[e[0].dir].marker;return e[0].mc=i.color,e[0].mlw=i.line.width,e[0].mlc=i.line.color,P(e,this,"waterfall")}var a=[];t.visible&&n&&(a=e[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var o=r.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(a);o.enter().append("path").classed("legendwaterfall",!0).attr("transform",S).style("stroke-miterlimit",1),o.exit().remove(),o.each((function(e){var n=r.select(this),i=t[e[0]].marker,a=A(void 0,i.line,m,g);n.attr("d",e[1]).style("stroke-width",a+"px").call(u.fill,i.color),a&&n.call(u.stroke,i.line.color)}))}function I(e){P(e,this)}function D(e){P(e,this,"funnel")}function P(e,a,o){var c=e[0].trace,f=c.marker||{},h=f.line||{},d=o?c.visible&&c.type===o:i.traceIs(c,"bar"),p=r.select(a).select("g.legendpoints").selectAll("path.legend"+o).data(d?[e]:[]);p.enter().append("path").classed("legend"+o,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",S),p.exit().remove(),p.each((function(e){var i=r.select(this),a=e[0],o=A(a.mlw,f.line,m,g);i.style("stroke-width",o+"px");var d=a.mcc;if(!n._inHover&&"mc"in a){var p=l(f),v=p.mid;void 0===v&&(v=(p.max+p.min)/2),d=s.tryColorscale(f,"")(v)}var y=d||a.mc||f.color,b=f.pattern,_=b&&s.getPatternAttr(b.shape,0,"");if(_){var x=s.getPatternAttr(b.bgcolor,0,null),T=s.getPatternAttr(b.fgcolor,0,null),k=b.fgopacity,O=w(b.size,8,10),S=w(b.solidity,.5,1),E="legend-"+c.uid;i.call(s.pattern,"legend",t,E,_,O,S,d,b.fillmode,x,T,k)}else i.call(u.fill,y);o&&u.stroke(i,a.mlc||h.color)}))}function N(e){var n=e[0].trace,o=r.select(this).select("g.legendpoints").selectAll("path.legendbox").data(n.visible&&i.traceIs(n,"box-violin")?[e]:[]);o.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",S),o.exit().remove(),o.each((function(){var e=r.select(this);if("all"!==n.boxpoints&&"all"!==n.points||0!==u.opacity(n.fillcolor)||0!==u.opacity((n.line||{}).color)){var i=A(void 0,n.line,m,g);e.style("stroke-width",i+"px").call(u.fill,n.fillcolor),i&&u.stroke(e,n.line.color)}else{var l=a.minExtend(n,{marker:{size:T?p:a.constrain(n.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});o.call(s.pointStyle,l,t)}}))}function j(e){var t=e[0].trace,n=r.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(t.visible&&"candlestick"===t.type?[e,e]:[]);n.enter().append("path").classed("legendcandle",!0).attr("d",(function(e,t){return t?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"})).attr("transform",S).style("stroke-miterlimit",1),n.exit().remove(),n.each((function(e,n){var i=r.select(this),a=t[n?"increasing":"decreasing"],o=A(void 0,a.line,m,g);i.style("stroke-width",o+"px").call(u.fill,a.fillcolor),o&&u.stroke(i,a.line.color)}))}function L(e){var t=e[0].trace,n=r.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(t.visible&&"ohlc"===t.type?[e,e]:[]);n.enter().append("path").classed("legendohlc",!0).attr("d",(function(e,t){return t?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"})).attr("transform",S).style("stroke-miterlimit",1),n.exit().remove(),n.each((function(e,n){var i=r.select(this),a=t[n?"increasing":"decreasing"],o=A(void 0,a.line,m,g);i.style("fill","none").call(s.dashLine,a.line.dash,o),o&&u.stroke(i,a.line.color)}))}function R(e){z(e,this,"pie")}function F(e){z(e,this,"funnelarea")}function z(e,t,n){var o=e[0],s=o.trace,u=n?s.visible&&s.type===n:i.traceIs(s,n),l=r.select(t).select("g.legendpoints").selectAll("path.legend"+n).data(u?[e]:[]);if(l.enter().append("path").classed("legend"+n,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",S),l.exit().remove(),l.size()){var c=(s.marker||{}).line,d=A(h(c.width,o.pts),c,m,g),p=a.minExtend(s,{marker:{line:{width:d}}});p.marker.line.color=c.color;var v=a.minExtend(o,{trace:p});f(l,v,p)}}function U(e){var n,i=e[0].trace,o=[];if(i.visible)switch(i.type){case"histogram2d":case"heatmap":o=[["M-15,-2V4H15V-2Z"]],n=!0;break;case"choropleth":case"choroplethmapbox":o=[["M-6,-6V6H6V-6Z"]],n=!0;break;case"densitymapbox":o=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],n="radial";break;case"cone":o=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],n=!1;break;case"streamtube":o=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],n=!1;break;case"surface":o=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],n=!0;break;case"mesh3d":o=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],n=!1;break;case"volume":o=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],n=!0;break;case"isosurface":o=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],n=!1}var c=r.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(o);c.enter().append("path").classed("legend3dandfriends",!0).attr("transform",S).style("stroke-miterlimit",1),c.exit().remove(),c.each((function(e,o){var c,f=r.select(this),h=l(i),d=h.colorscale,p=h.reversescale,v=function(e){if(e.size()){var r="legendfill-"+i.uid;s.gradient(e,t,r,b(p,"radial"===n),d,"fill")}};if(d){if(!n){var g=d.length;c=0===o?d[p?g-1:0][1]:1===o?d[p?0:g-1][1]:d[Math.floor((g-1)/2)][1]}}else{var y=i.vertexcolor||i.facecolor||i.color;c=a.isArrayOrTypedArray(y)?y[o]||y[0]:y}f.attr("d",e[0]),c?f.call(u.fill,c):f.call(v)}))}e.each((function(e){var t=r.select(this),i=a.ensureSingle(t,"g","layers");i.style("opacity",e[0].trace.opacity);var s=n.valign,u=e[0].lineHeight,l=e[0].height;if("middle"!==s&&u&&l){var c={top:1,bottom:-1}[s]*(.5*(u-l+3));i.attr("transform",o(0,c))}else i.attr("transform",null);i.selectAll("g.legendfill").data([e]).enter().append("g").classed("legendfill",!0),i.selectAll("g.legendlines").data([e]).enter().append("g").classed("legendlines",!0);var f=i.selectAll("g.legendsymbols").data([e]);f.enter().append("g").classed("legendsymbols",!0),f.selectAll("g.legendpoints").data([e]).enter().append("g").classed("legendpoints",!0)})).each(U).each(M).each(D).each(I).each(N).each(F).each(R).each(E).each(C).each(j).each(L)}},{"../../lib":230,"../../registry":313,"../../traces/pie/helpers":345,"../../traces/pie/style_one":351,"../../traces/scatter/subtypes":378,"../color":100,"../colorscale/helpers":111,"../drawing":122,"./constants":151,"@plotly/d3":11}],159:[function(e,t,n){"use strict";e("./constants"),t.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},{"./constants":161}],160:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../plots/plots"),a=e("../../plots/cartesian/axis_ids"),o=e("../../fonts/ploticon"),s=e("../shapes/draw").eraseActiveShape,u=e("../../lib"),l=u._,c=t.exports={};function f(e,t){var n,i,o=t.currentTarget,s=o.getAttribute("data-attr"),u=o.getAttribute("data-val")||!0,l=e._fullLayout,c={},f=a.list(e,null,!0),h=l._cartesianSpikesEnabled;if("zoom"===s){var d,p="in"===u?.5:2,v=(1+p)/2,g=(1-p)/2;for(i=0;i<f.length;i++)if(!(n=f[i]).fixedrange)if(d=n._name,"auto"===u)c[d+".autorange"]=!0;else if("reset"===u){if(void 0===n._rangeInitial)c[d+".autorange"]=!0;else{var y=n._rangeInitial.slice();c[d+".range[0]"]=y[0],c[d+".range[1]"]=y[1]}void 0!==n._showSpikeInitial&&(c[d+".showspikes"]=n._showSpikeInitial,"on"!==h||n._showSpikeInitial||(h="off"))}else{var m=[n.r2l(n.range[0]),n.r2l(n.range[1])],b=[v*m[0]+g*m[1],v*m[1]+g*m[0]];c[d+".range[0]"]=n.l2r(b[0]),c[d+".range[1]"]=n.l2r(b[1])}}else"hovermode"!==s||"x"!==u&&"y"!==u||(u=l._isHoriz?"y":"x",o.setAttribute("data-val",u)),c[s]=u;l._cartesianSpikesEnabled=h,r.call("_guiRelayout",e,c)}function h(e,t){for(var n=t.currentTarget,i=n.getAttribute("data-attr"),a=n.getAttribute("data-val")||!0,o=e._fullLayout._subplots.gl3d||[],s={},u=i.split("."),l=0;l<o.length;l++)s[o[l]+"."+u[1]]=a;var c="pan"===a?a:"zoom";s.dragmode=c,r.call("_guiRelayout",e,s)}function d(e,t){for(var n=t.currentTarget.getAttribute("data-attr"),i="resetLastSave"===n,a="resetDefault"===n,o=e._fullLayout,s=o._subplots.gl3d||[],u={},l=0;l<s.length;l++){var c,f=s[l],h=f+".camera",d=f+".aspectratio",p=f+".aspectmode",v=o[f]._scene;i?(u[h+".up"]=v.viewInitial.up,u[h+".eye"]=v.viewInitial.eye,u[h+".center"]=v.viewInitial.center,c=!0):a&&(u[h+".up"]=null,u[h+".eye"]=null,u[h+".center"]=null,c=!0),c&&(u[d+".x"]=v.viewInitial.aspectratio.x,u[d+".y"]=v.viewInitial.aspectratio.y,u[d+".z"]=v.viewInitial.aspectratio.z,u[p]=v.viewInitial.aspectmode)}r.call("_guiRelayout",e,u)}function p(e,t){var n=t.currentTarget,r=n._previousVal,i=e._fullLayout,a=i._subplots.gl3d||[],o=["xaxis","yaxis","zaxis"],s={},u={};if(r)u=r,n._previousVal=null;else{for(var l=0;l<a.length;l++){var c=a[l],f=i[c],h=c+".hovermode";s[h]=f.hovermode,u[h]=!1;for(var d=0;d<3;d++){var p=o[d],v=c+"."+p+".showspikes";u[v]=!1,s[v]=f[p].showspikes}}n._previousVal=s}return u}function v(e,t){var n=p(e,t);r.call("_guiRelayout",e,n)}function g(e,t){for(var n=t.currentTarget,i=n.getAttribute("data-attr"),a=n.getAttribute("data-val")||!0,o=e._fullLayout,s=o._subplots.geo||[],u=0;u<s.length;u++){var l=s[u],c=o[l];if("zoom"===i){var f=c.projection.scale,h="in"===a?2*f:.5*f;r.call("_guiRelayout",e,l+".projection.scale",h)}}"reset"===i&&w(e,"geo")}function y(e){var t=e._fullLayout;return!t.hovermode&&(t._has("cartesian")?t._isHoriz?"y":"x":"closest")}function m(e){var t=y(e);r.call("_guiRelayout",e,"hovermode",t)}function b(e){for(var t="on"===e._fullLayout._cartesianSpikesEnabled,n=a.list(e,null,!0),r={},i=0;i<n.length;i++){var o=n[i];r[o._name+".showspikes"]=!!t||o._showSpikeInitial}return r}function _(e,t){for(var n=t.currentTarget.getAttribute("data-val"),i=e._fullLayout,a=i._subplots.mapbox||[],o=1.05,s={},u=0;u<a.length;u++){var l=a[u],c=i[l].zoom,f="in"===n?o*c:c/o;s[l+".zoom"]=f}r.call("_guiRelayout",e,s)}function w(e,t){for(var n=e._fullLayout,i=n._subplots[t]||[],a={},o=0;o<i.length;o++)for(var s=i[o],u=n[s]._subplot.viewInitial,l=Object.keys(u),c=0;c<l.length;c++){var f=l[c];a[s+"."+f]=u[f]}r.call("_guiRelayout",e,a)}c.toImage={name:"toImage",title:function(e){var t=(e._context.toImageButtonOptions||{}).format||"png";return l(e,"png"===t?"Download plot as a png":"Download plot")},icon:o.camera,click:function(e){var t=e._context.toImageButtonOptions,n={format:t.format||"png"};u.notifier(l(e,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==n.format&&u.isIE()&&(u.notifier(l(e,"IE only supports svg.  Changing format to svg."),"long"),n.format="svg"),["filename","width","height","scale"].forEach((function(e){e in t&&(n[e]=t[e])})),r.call("downloadImage",e,n).then((function(t){u.notifier(l(e,"Snapshot succeeded")+" - "+t,"long")})).catch((function(){u.notifier(l(e,"Sorry, there was a problem downloading your snapshot!"),"long")}))}},c.sendDataToCloud={name:"sendDataToCloud",title:function(e){return l(e,"Edit in Chart Studio")},icon:o.disk,click:function(e){i.sendDataToCloud(e)}},c.editInChartStudio={name:"editInChartStudio",title:function(e){return l(e,"Edit in Chart Studio")},icon:o.pencil,click:function(e){i.sendDataToCloud(e)}},c.zoom2d={name:"zoom2d",_cat:"zoom",title:function(e){return l(e,"Zoom")},attr:"dragmode",val:"zoom",icon:o.zoombox,click:f},c.pan2d={name:"pan2d",_cat:"pan",title:function(e){return l(e,"Pan")},attr:"dragmode",val:"pan",icon:o.pan,click:f},c.select2d={name:"select2d",_cat:"select",title:function(e){return l(e,"Box Select")},attr:"dragmode",val:"select",icon:o.selectbox,click:f},c.lasso2d={name:"lasso2d",_cat:"lasso",title:function(e){return l(e,"Lasso Select")},attr:"dragmode",val:"lasso",icon:o.lasso,click:f},c.drawclosedpath={name:"drawclosedpath",title:function(e){return l(e,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:o.drawclosedpath,click:f},c.drawopenpath={name:"drawopenpath",title:function(e){return l(e,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:o.drawopenpath,click:f},c.drawline={name:"drawline",title:function(e){return l(e,"Draw line")},attr:"dragmode",val:"drawline",icon:o.drawline,click:f},c.drawrect={name:"drawrect",title:function(e){return l(e,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:o.drawrect,click:f},c.drawcircle={name:"drawcircle",title:function(e){return l(e,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:o.drawcircle,click:f},c.eraseshape={name:"eraseshape",title:function(e){return l(e,"Erase active shape")},icon:o.eraseshape,click:s},c.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(e){return l(e,"Zoom in")},attr:"zoom",val:"in",icon:o.zoom_plus,click:f},c.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(e){return l(e,"Zoom out")},attr:"zoom",val:"out",icon:o.zoom_minus,click:f},c.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(e){return l(e,"Autoscale")},attr:"zoom",val:"auto",icon:o.autoscale,click:f},c.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(e){return l(e,"Reset axes")},attr:"zoom",val:"reset",icon:o.home,click:f},c.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(e){return l(e,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:o.tooltip_basic,gravity:"ne",click:f},c.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(e){return l(e,"Compare data on hover")},attr:"hovermode",val:function(e){return e._fullLayout._isHoriz?"y":"x"},icon:o.tooltip_compare,gravity:"ne",click:f},c.zoom3d={name:"zoom3d",_cat:"zoom",title:function(e){return l(e,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:o.zoombox,click:h},c.pan3d={name:"pan3d",_cat:"pan",title:function(e){return l(e,"Pan")},attr:"scene.dragmode",val:"pan",icon:o.pan,click:h},c.orbitRotation={name:"orbitRotation",title:function(e){return l(e,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:o["3d_rotate"],click:h},c.tableRotation={name:"tableRotation",title:function(e){return l(e,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:o["z-axis"],click:h},c.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(e){return l(e,"Reset camera to default")},attr:"resetDefault",icon:o.home,click:d},c.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(e){return l(e,"Reset camera to last save")},attr:"resetLastSave",icon:o.movie,click:d},c.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(e){return l(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:o.tooltip_basic,gravity:"ne",click:v},c.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(e){return l(e,"Zoom in")},attr:"zoom",val:"in",icon:o.zoom_plus,click:g},c.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(e){return l(e,"Zoom out")},attr:"zoom",val:"out",icon:o.zoom_minus,click:g},c.resetGeo={name:"resetGeo",_cat:"reset",title:function(e){return l(e,"Reset")},attr:"reset",val:null,icon:o.autoscale,click:g},c.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(e){return l(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:o.tooltip_basic,gravity:"ne",click:m},c.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(e){return l(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:o.tooltip_basic,gravity:"ne",click:m},c.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(e){return l(e,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:o.tooltip_basic,gravity:"ne",click:m},c.resetViewSankey={name:"resetSankeyGroup",title:function(e){return l(e,"Reset view")},icon:o.home,click:function(e){for(var t={"node.groups":[],"node.x":[],"node.y":[]},n=0;n<e._fullData.length;n++){var i=e._fullData[n]._viewInitial;t["node.groups"].push(i.node.groups.slice()),t["node.x"].push(i.node.x.slice()),t["node.y"].push(i.node.y.slice())}r.call("restyle",e,t)}},c.toggleHover={name:"toggleHover",title:function(e){return l(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:o.tooltip_basic,gravity:"ne",click:function(e,t){var n=p(e,t);n.hovermode=y(e),r.call("_guiRelayout",e,n)}},c.resetViews={name:"resetViews",title:function(e){return l(e,"Reset views")},icon:o.home,click:function(e,t){var n=t.currentTarget;n.setAttribute("data-attr","zoom"),n.setAttribute("data-val","reset"),f(e,t),n.setAttribute("data-attr","resetLastSave"),d(e,t),w(e,"geo"),w(e,"mapbox")}},c.toggleSpikelines={name:"toggleSpikelines",title:function(e){return l(e,"Toggle Spike Lines")},icon:o.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(e){var t=e._fullLayout,n=t._cartesianSpikesEnabled;t._cartesianSpikesEnabled="on"===n?"off":"on",r.call("_guiRelayout",e,b(e))}},c.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(e){return l(e,"Reset view")},attr:"reset",icon:o.home,click:function(e){w(e,"mapbox")}},c.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(e){return l(e,"Zoom in")},attr:"zoom",val:"in",icon:o.zoom_plus,click:_},c.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(e){return l(e,"Zoom out")},attr:"zoom",val:"out",icon:o.zoom_minus,click:_}},{"../../fonts/ploticon":213,"../../lib":230,"../../plots/cartesian/axis_ids":280,"../../plots/plots":311,"../../registry":313,"../shapes/draw":184}],161:[function(e,t,n){"use strict";var r=e("./buttons"),i=Object.keys(r),a=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],o=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(a),s=[],u=function(e){if(-1===o.indexOf(e._cat||e.name)){var t=e.name,n=(e._cat||e.name).toLowerCase();-1===s.indexOf(t)&&s.push(t),-1===s.indexOf(n)&&s.push(n)}};i.forEach((function(e){u(r[e])})),s.sort(),t.exports={DRAW_MODES:a,backButtons:o,foreButtons:s}},{"./buttons":160}],162:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../color"),a=e("../../plot_api/plot_template"),o=e("./attributes");t.exports=function(e,t){var n=e.modebar||{},s=a.newContainer(t,"modebar");function u(e,t){return r.coerce(n,s,o,e,t)}u("orientation"),u("bgcolor",i.addOpacity(t.paper_bgcolor,.5));var l=i.contrast(i.rgb(t.modebar.bgcolor));u("color",i.addOpacity(l,.3)),u("activecolor",i.addOpacity(l,.7)),u("uirevision",t.uirevision),u("add"),u("remove")}},{"../../lib":230,"../../plot_api/plot_template":265,"../color":100,"./attributes":159}],163:[function(e,t,n){"use strict";t.exports={moduleType:"component",name:"modebar",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),manage:e("./manage")}},{"./attributes":159,"./defaults":162,"./manage":164}],164:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axis_ids"),i=e("../../traces/scatter/subtypes"),a=e("../../registry"),o=e("../fx/helpers").isUnifiedHover,s=e("./modebar"),u=e("./buttons"),l=e("./constants").DRAW_MODES;function c(e){var t=e._fullLayout,n=e._fullData,r=e._context;function i(e,t){if("string"===typeof t){if(t.toLowerCase()===e.toLowerCase())return!0}else{var n=t.name,r=t._cat||t.name;if(n===e||r===e.toLowerCase())return!0}return!1}var a=t.modebar.add;"string"===typeof a&&(a=[a]);var s=t.modebar.remove;"string"===typeof s&&(s=[s]);var c=r.modeBarButtonsToAdd.concat(a.filter((function(e){for(var t=0;t<r.modeBarButtonsToRemove.length;t++)if(i(e,r.modeBarButtonsToRemove[t]))return!1;return!0}))),v=r.modeBarButtonsToRemove.concat(s.filter((function(e){for(var t=0;t<r.modeBarButtonsToAdd.length;t++)if(i(e,r.modeBarButtonsToAdd[t]))return!1;return!0}))),g=t._has("cartesian"),y=t._has("gl3d"),m=t._has("geo"),b=t._has("pie"),_=t._has("funnelarea"),w=t._has("gl2d"),x=t._has("ternary"),T=t._has("mapbox"),k=t._has("polar"),O=t._has("sankey"),S=f(t),A=o(t.hovermode),E=[];function C(e){if(e.length){for(var t=[],n=0;n<e.length;n++){for(var r=e[n],i=u[r],a=i.name.toLowerCase(),o=(i._cat||i.name).toLowerCase(),s=!1,l=0;l<v.length;l++){var c=v[l].toLowerCase();if(c===a||c===o){s=!0;break}}s||t.push(u[r])}E.push(t)}}var M=["toImage"];r.showEditInChartStudio?M.push("editInChartStudio"):r.showSendToCloud&&M.push("sendDataToCloud"),C(M);var I=[],D=[],P=[],N=[];(g||w||b||_||x)+m+y+T+k>1?(D=["toggleHover"],P=["resetViews"]):m?(I=["zoomInGeo","zoomOutGeo"],D=["hoverClosestGeo"],P=["resetGeo"]):y?(D=["hoverClosest3d"],P=["resetCameraDefault3d","resetCameraLastSave3d"]):T?(I=["zoomInMapbox","zoomOutMapbox"],D=["toggleHover"],P=["resetViewMapbox"]):w?D=["hoverClosestGl2d"]:b?D=["hoverClosestPie"]:O?(D=["hoverClosestCartesian","hoverCompareCartesian"],P=["resetViewSankey"]):D=["toggleHover"],g&&(D=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(d(n)||A)&&(D=[]),!g&&!w||S||(I=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==P[0]&&(P=["resetScale2d"])),y?N=["zoom3d","pan3d","orbitRotation","tableRotation"]:(g||w)&&!S||x?N=["zoom2d","pan2d"]:T||m?N=["pan2d"]:k&&(N=["zoom2d"]),h(n)&&N.push("select2d","lasso2d");var j=[],L=function(e){-1===j.indexOf(e)&&-1!==D.indexOf(e)&&j.push(e)};if(Array.isArray(c)){for(var R=[],F=0;F<c.length;F++){var z=c[F];"string"===typeof z?(z=z.toLowerCase(),-1!==l.indexOf(z)?(t._has("mapbox")||t._has("cartesian"))&&N.push(z):"togglespikelines"===z?L("toggleSpikelines"):"togglehover"===z?L("toggleHover"):"hovercompare"===z?L("hoverCompareCartesian"):"hoverclosest"===z?(L("hoverClosestCartesian"),L("hoverClosestGeo"),L("hoverClosest3d"),L("hoverClosestGl2d"),L("hoverClosestPie")):"v1hovermode"===z&&(L("toggleHover"),L("hoverClosestCartesian"),L("hoverCompareCartesian"),L("hoverClosestGeo"),L("hoverClosest3d"),L("hoverClosestGl2d"),L("hoverClosestPie"))):R.push(z)}c=R}return C(N),C(I.concat(P)),C(j),p(E,c)}function f(e){for(var t=r.list({_fullLayout:e},null,!0),n=0;n<t.length;n++)if(!t[n].fixedrange)return!1;return!0}function h(e){for(var t=!1,n=0;n<e.length&&!t;n++){var r=e[n];r._module&&r._module.selectPoints&&(a.traceIs(r,"scatter-like")?(i.hasMarkers(r)||i.hasText(r))&&(t=!0):a.traceIs(r,"box-violin")&&"all"!==r.boxpoints&&"all"!==r.points||(t=!0))}return t}function d(e){for(var t=0;t<e.length;t++)if(!a.traceIs(e[t],"noHover"))return!1;return!0}function p(e,t){if(t.length)if(Array.isArray(t[0]))for(var n=0;n<t.length;n++)e.push(t[n]);else e.push(t);return e}function v(e){for(var t=0;t<e.length;t++)for(var n=e[t],r=0;r<n.length;r++){var i=n[r];if("string"===typeof i){if(void 0===u[i])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));e[t][r]=u[i]}}return e}t.exports=function(e){var t=e._fullLayout,n=e._context,r=t._modeBar;if(n.displayModeBar||n.watermark){if(!Array.isArray(n.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(n.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var i,a=n.modeBarButtons;i=Array.isArray(a)&&a.length?v(a):!n.displayModeBar&&n.watermark?[]:c(e),r?r.update(e,i):t._modeBar=s(e,i)}else r&&(r.destroy(),delete t._modeBar)}},{"../../plots/cartesian/axis_ids":280,"../../registry":313,"../../traces/scatter/subtypes":378,"../fx/helpers":136,"./buttons":160,"./constants":161,"./modebar":165}],165:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("fast-isnumeric"),a=e("../../lib"),o=e("../../fonts/ploticon"),s=new DOMParser;function u(e){this.container=e.container,this.element=document.createElement("div"),this.update(e.graphInfo,e.buttons),this.container.appendChild(this.element)}var l=u.prototype;function c(e,t){var n=e._fullLayout,i=new u({graphInfo:e,container:n._modebardiv.node(),buttons:t});return n._privateplot&&r.select(i.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),i}l.update=function(e,t){this.graphInfo=e;var n=this.graphInfo._context,r=this.graphInfo._fullLayout,i="modebar-"+r._uid;this.element.setAttribute("id",i),this._uid=i,this.element.className="modebar","hover"===n.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===r.modebar.orientation&&(this.element.className+=" vertical",t=t.reverse());var o=r.modebar,s="hover"===n.displayModeBar?".js-plotly-plot .plotly:hover ":"";a.deleteRelatedStyleRule(i),a.addRelatedStyleRule(i,s+"#"+i+" .modebar-group","background-color: "+o.bgcolor),a.addRelatedStyleRule(i,"#"+i+" .modebar-btn .icon path","fill: "+o.color),a.addRelatedStyleRule(i,"#"+i+" .modebar-btn:hover .icon path","fill: "+o.activecolor),a.addRelatedStyleRule(i,"#"+i+" .modebar-btn.active .icon path","fill: "+o.activecolor);var u=!this.hasButtons(t),l=this.hasLogo!==n.displaylogo,c=this.locale!==n.locale;if(this.locale=n.locale,(u||l||c)&&(this.removeAllButtons(),this.updateButtons(t),n.watermark||n.displaylogo)){var f=this.getLogo();n.watermark&&(f.className=f.className+" watermark"),"v"===r.modebar.orientation?this.element.insertBefore(f,this.element.childNodes[0]):this.element.appendChild(f),this.hasLogo=!0}this.updateActiveButton()},l.updateButtons=function(e){var t=this;this.buttons=e,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach((function(e){var n=t.createGroup();e.forEach((function(e){var r=e.name;if(!r)throw new Error("must provide button 'name' in button config");if(-1!==t.buttonsNames.indexOf(r))throw new Error("button name '"+r+"' is taken");t.buttonsNames.push(r);var i=t.createButton(e);t.buttonElements.push(i),n.appendChild(i)})),t.element.appendChild(n)}))},l.createGroup=function(){var e=document.createElement("div");return e.className="modebar-group",e},l.createButton=function(e){var t=this,n=document.createElement("a");n.setAttribute("rel","tooltip"),n.className="modebar-btn";var i=e.title;void 0===i?i=e.name:"function"===typeof i&&(i=i(this.graphInfo)),(i||0===i)&&n.setAttribute("data-title",i),void 0!==e.attr&&n.setAttribute("data-attr",e.attr);var a=e.val;if(void 0!==a&&("function"===typeof a&&(a=a(this.graphInfo)),n.setAttribute("data-val",a)),"function"!==typeof e.click)throw new Error("must provide button 'click' function in button config");n.addEventListener("click",(function(n){e.click(t.graphInfo,n),t.updateActiveButton(n.currentTarget)})),n.setAttribute("data-toggle",e.toggle||!1),e.toggle&&r.select(n).classed("active",!0);var s=e.icon;return"function"===typeof s?n.appendChild(s()):n.appendChild(this.createIcon(s||o.question)),n.setAttribute("data-gravity",e.gravity||"n"),n},l.createIcon=function(e){var t,n=i(e.height)?Number(e.height):e.ascent-e.descent,r="http://www.w3.org/2000/svg";if(e.path){(t=document.createElementNS(r,"svg")).setAttribute("viewBox",[0,0,e.width,n].join(" ")),t.setAttribute("class","icon");var a=document.createElementNS(r,"path");a.setAttribute("d",e.path),e.transform?a.setAttribute("transform",e.transform):void 0!==e.ascent&&a.setAttribute("transform","matrix(1 0 0 -1 0 "+e.ascent+")"),t.appendChild(a)}return e.svg&&(t=s.parseFromString(e.svg,"application/xml").childNodes[0]),t.setAttribute("height","1em"),t.setAttribute("width","1em"),t},l.updateActiveButton=function(e){var t=this.graphInfo._fullLayout,n=void 0!==e?e.getAttribute("data-attr"):null;this.buttonElements.forEach((function(e){var i=e.getAttribute("data-val")||!0,o=e.getAttribute("data-attr"),s="true"===e.getAttribute("data-toggle"),u=r.select(e);if(s)o===n&&u.classed("active",!u.classed("active"));else{var l=null===o?o:a.nestedProperty(t,o).get();u.classed("active",l===i)}}))},l.hasButtons=function(e){var t=this.buttons;if(!t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n){if(e[n].length!==t[n].length)return!1;for(var r=0;r<e[n].length;r++)if(e[n][r].name!==t[n][r].name)return!1}return!0},l.getLogo=function(){var e=this.createGroup(),t=document.createElement("a");return t.href="https://plotly.com/",t.target="_blank",t.setAttribute("data-title",a._(this.graphInfo,"Produced with Plotly")),t.className="modebar-btn plotlyjsicon modebar-btn--logo",t.appendChild(this.createIcon(o.newplotlylogo)),e.appendChild(t),e},l.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},l.destroy=function(){a.removeElement(this.container.querySelector(".modebar")),a.deleteRelatedStyleRule(this._uid)},t.exports=c},{"../../fonts/ploticon":213,"../../lib":230,"@plotly/d3":11,"fast-isnumeric":15}],166:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),i=e("../color/attributes"),a=(0,e("../../plot_api/plot_template").templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});t.exports={visible:{valType:"boolean",editType:"plot"},buttons:a,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:r({editType:"plot"}),bgcolor:{valType:"color",dflt:i.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:i.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},{"../../plot_api/plot_template":265,"../../plots/font_attributes":305,"../color/attributes":99}],167:[function(e,t,n){"use strict";t.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},{}],168:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../color"),a=e("../../plot_api/plot_template"),o=e("../../plots/array_container_defaults"),s=e("./attributes"),u=e("./constants");function l(e,t,n,i){var a=i.calendar;function o(n,i){return r.coerce(e,t,s.buttons,n,i)}if(o("visible")){var u=o("step");"all"!==u&&(!a||"gregorian"===a||"month"!==u&&"year"!==u?o("stepmode"):t.stepmode="backward",o("count")),o("label")}}function c(e,t,n){for(var r=n.filter((function(n){return t[n].anchor===e._id})),i=0,a=0;a<r.length;a++){var o=t[r[a]].domain;o&&(i=Math.max(o[1],i))}return[e.domain[0],i+u.yPad]}t.exports=function(e,t,n,f,h){var d=e.rangeselector||{},p=a.newContainer(t,"rangeselector");function v(e,t){return r.coerce(d,p,s,e,t)}if(v("visible",o(d,p,{name:"buttons",handleItemDefaults:l,calendar:h}).length>0)){var g=c(t,n,f);v("x",g[0]),v("y",g[1]),r.noneOrAll(e,t,["x","y"]),v("xanchor"),v("yanchor"),r.coerceFont(v,"font",n.font);var y=v("bgcolor");v("activecolor",i.contrast(y,u.lightAmount,u.darkAmount)),v("bordercolor"),v("borderwidth")}}},{"../../lib":230,"../../plot_api/plot_template":265,"../../plots/array_container_defaults":271,"../color":100,"./attributes":166,"./constants":167}],169:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../../registry"),a=e("../../plots/plots"),o=e("../color"),s=e("../drawing"),u=e("../../lib"),l=u.strTranslate,c=e("../../lib/svg_text_utils"),f=e("../../plots/cartesian/axis_ids"),h=e("../../constants/alignment"),d=h.LINE_SPACING,p=h.FROM_TL,v=h.FROM_BR,g=e("./constants"),y=e("./get_update_object");function m(e){for(var t=f.list(e,"x",!0),n=[],r=0;r<t.length;r++){var i=t[r];i.rangeselector&&i.rangeselector.visible&&n.push(i)}return n}function b(e){return e._id}function _(e,t,n){if("all"===t.step)return!0===e.autorange;var r=Object.keys(n);return e.range[0]===n[r[0]]&&e.range[1]===n[r[1]]}function w(e,t,n){var r=u.ensureSingle(e,"rect","selector-rect",(function(e){e.attr("shape-rendering","crispEdges")}));r.attr({rx:g.rx,ry:g.ry}),r.call(o.stroke,t.bordercolor).call(o.fill,x(t,n)).style("stroke-width",t.borderwidth+"px")}function x(e,t){return t._isActive||t._isHovered?e.activecolor:e.bgcolor}function T(e,t,n,r){function i(e){c.convertToTspans(e,r)}u.ensureSingle(e,"text","selector-text",(function(e){e.attr("text-anchor","middle")})).call(s.font,t.font).text(k(n,r._fullLayout._meta)).call(i)}function k(e,t){return e.label?t?u.templateString(e.label,t):e.label:"all"===e.step?"all":e.count+e.step.charAt(0)}function O(e,t,n,i,o){var f=0,h=0,y=n.borderwidth;t.each((function(){var e=r.select(this).select(".selector-text"),t=n.font.size*d,i=Math.max(t*c.lineCount(e),16)+3;h=Math.max(h,i)})),t.each((function(){var e=r.select(this),t=e.select(".selector-rect"),i=e.select(".selector-text"),a=i.node()&&s.bBox(i.node()).width,o=n.font.size*d,u=c.lineCount(i),p=Math.max(a+10,g.minButtonWidth);e.attr("transform",l(y+f,y)),t.attr({x:0,y:0,width:p,height:h}),c.positionText(i,p/2,h/2-(u-1)*o/2+3),f+=p+5}));var m=e._fullLayout._size,b=m.l+m.w*n.x,_=m.t+m.h*(1-n.y),w="left";u.isRightAnchor(n)&&(b-=f,w="right"),u.isCenterAnchor(n)&&(b-=f/2,w="center");var x="top";u.isBottomAnchor(n)&&(_-=h,x="bottom"),u.isMiddleAnchor(n)&&(_-=h/2,x="middle"),f=Math.ceil(f),h=Math.ceil(h),b=Math.round(b),_=Math.round(_),a.autoMargin(e,i+"-range-selector",{x:n.x,y:n.y,l:f*p[w],r:f*v[w],b:h*v[x],t:h*p[x]}),o.attr("transform",l(b,_))}t.exports=function(e){var t=e._fullLayout._infolayer.selectAll(".rangeselector").data(m(e),b);t.enter().append("g").classed("rangeselector",!0),t.exit().remove(),t.style({cursor:"pointer","pointer-events":"all"}),t.each((function(t){var n=r.select(this),a=t,o=a.rangeselector,s=n.selectAll("g.button").data(u.filterVisible(o.buttons));s.enter().append("g").classed("button",!0),s.exit().remove(),s.each((function(t){var n=r.select(this),s=y(a,t);t._isActive=_(a,t,s),n.call(w,o,t),n.call(T,o,t,e),n.on("click",(function(){e._dragged||i.call("_guiRelayout",e,s)})),n.on("mouseover",(function(){t._isHovered=!0,n.call(w,o,t)})),n.on("mouseout",(function(){t._isHovered=!1,n.call(w,o,t)}))})),O(e,s,o,a._name,n)}))}},{"../../constants/alignment":205,"../../lib":230,"../../lib/svg_text_utils":252,"../../plots/cartesian/axis_ids":280,"../../plots/plots":311,"../../registry":313,"../color":100,"../drawing":122,"./constants":167,"./get_update_object":170,"@plotly/d3":11}],170:[function(e,t,n){"use strict";var r=e("@plotly/d3");function i(e,t){var n,i=e.range,a=new Date(e.r2l(i[1])),o=t.step,s=t.count;switch(t.stepmode){case"backward":n=e.l2r(+r.time[o].utc.offset(a,-s));break;case"todate":var u=r.time[o].utc.offset(a,-s);n=e.l2r(+r.time[o].utc.ceil(u))}return[n,i[1]]}t.exports=function(e,t){var n=e._name,r={};if("all"===t.step)r[n+".autorange"]=!0;else{var a=i(e,t);r[n+".range[0]"]=a[0],r[n+".range[1]"]=a[1]}return r}},{"@plotly/d3":11}],171:[function(e,t,n){"use strict";t.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e("./attributes")}}},layoutAttributes:e("./attributes"),handleDefaults:e("./defaults"),draw:e("./draw")}},{"./attributes":166,"./defaults":168,"./draw":169}],172:[function(e,t,n){"use strict";var r=e("../color/attributes");t.exports={bgcolor:{valType:"color",dflt:r.background,editType:"plot"},bordercolor:{valType:"color",dflt:r.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},{"../color/attributes":99}],173:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axis_ids").list,i=e("../../plots/cartesian/autorange").getAutoRange,a=e("./constants");t.exports=function(e){for(var t=r(e,"x",!0),n=0;n<t.length;n++){var o=t[n],s=o[a.name];s&&s.visible&&s.autorange&&(s._input.autorange=!0,s._input.range=s.range=i(e,o))}}},{"../../plots/cartesian/autorange":275,"../../plots/cartesian/axis_ids":280,"./constants":174}],174:[function(e,t,n){"use strict";t.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},{}],175:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plot_api/plot_template"),a=e("../../plots/cartesian/axis_ids"),o=e("./attributes"),s=e("./oppaxis_attributes");t.exports=function(e,t,n){var u=e[n],l=t[n];if(u.rangeslider||t._requestRangeslider[l._id]){r.isPlainObject(u.rangeslider)||(u.rangeslider={});var c,f,h=u.rangeslider,d=i.newContainer(l,"rangeslider");if(w("visible")){w("bgcolor",t.plot_bgcolor),w("bordercolor"),w("borderwidth"),w("thickness"),w("autorange",!l.isValidRange(h.range)),w("range");var p=t._subplots;if(p)for(var v=p.cartesian.filter((function(e){return e.substr(0,e.indexOf("y"))===a.name2id(n)})).map((function(e){return e.substr(e.indexOf("y"),e.length)})),g=r.simpleMap(v,a.id2name),y=0;y<g.length;y++){var m=g[y];c=h[m]||{},f=i.newContainer(d,m,"yaxis");var b,_=t[m];c.range&&_.isValidRange(c.range)&&(b="fixed"),"match"!==x("rangemode",b)&&x("range",_.range.slice())}d._input=h}}function w(e,t){return r.coerce(h,d,o,e,t)}function x(e,t){return r.coerce(c,f,s,e,t)}}},{"../../lib":230,"../../plot_api/plot_template":265,"../../plots/cartesian/axis_ids":280,"./attributes":172,"./oppaxis_attributes":179}],176:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../../registry"),a=e("../../plots/plots"),o=e("../../lib"),s=o.strTranslate,u=e("../drawing"),l=e("../color"),c=e("../titles"),f=e("../../plots/cartesian"),h=e("../../plots/cartesian/axis_ids"),d=e("../dragelement"),p=e("../../lib/setcursor"),v=e("./constants");function g(e,t,n,i){if(!t._context.staticPlot){var a=e.select("rect."+v.slideBoxClassName).node(),s=e.select("rect."+v.grabAreaMinClassName).node(),u=e.select("rect."+v.grabAreaMaxClassName).node();e.on("mousedown",l),e.on("touchstart",l)}function l(){var l=r.event,c=l.target,f=l.clientX||l.touches[0].clientX,h=f-e.node().getBoundingClientRect().left,v=i.d2p(n._rl[0]),g=i.d2p(n._rl[1]),m=d.coverSlip();function b(o){var l,d,b,_=+(o.clientX||o.touches[0].clientX)-f;switch(c){case a:b="ew-resize",l=v+_,d=g+_;break;case s:b="col-resize",l=v+_,d=g;break;case u:b="col-resize",l=v,d=g+_;break;default:b="ew-resize",l=h,d=h+_}if(d<l){var w=d;d=l,l=w}i._pixelMin=l,i._pixelMax=d,p(r.select(m),b),y(e,t,n,i)}function _(){m.removeEventListener("mousemove",b),m.removeEventListener("mouseup",_),this.removeEventListener("touchmove",b),this.removeEventListener("touchend",_),o.removeElement(m)}this.addEventListener("touchmove",b),this.addEventListener("touchend",_),m.addEventListener("mousemove",b),m.addEventListener("mouseup",_)}}function y(e,t,n,r){function a(e){return n.l2r(o.constrain(e,r._rl[0],r._rl[1]))}var s=a(r.p2d(r._pixelMin)),u=a(r.p2d(r._pixelMax));window.requestAnimationFrame((function(){i.call("_guiRelayout",t,n._name+".range",[s,u])}))}function m(e,t,n,r,i,a){var u=v.handleWidth/2;function l(e){return o.constrain(e,0,r._width)}function c(e){return o.constrain(e,0,r._height)}function f(e){return o.constrain(e,-u,r._width+u)}var h=l(r.d2p(n._rl[0])),d=l(r.d2p(n._rl[1]));if(e.select("rect."+v.slideBoxClassName).attr("x",h).attr("width",d-h),e.select("rect."+v.maskMinClassName).attr("width",h),e.select("rect."+v.maskMaxClassName).attr("x",d).attr("width",r._width-d),"match"!==a.rangemode){var p=r._height-c(r.d2pOppAxis(i._rl[1])),g=r._height-c(r.d2pOppAxis(i._rl[0]));e.select("rect."+v.maskMinOppAxisClassName).attr("x",h).attr("height",p).attr("width",d-h),e.select("rect."+v.maskMaxOppAxisClassName).attr("x",h).attr("y",g).attr("height",r._height-g).attr("width",d-h),e.select("rect."+v.slideBoxClassName).attr("y",p).attr("height",g-p)}var y=.5,m=Math.round(f(h-u))-y,b=Math.round(f(d-u))+y;e.select("g."+v.grabberMinClassName).attr("transform",s(m,y)),e.select("g."+v.grabberMaxClassName).attr("transform",s(b,y))}function b(e,t,n,r){var i=o.ensureSingle(e,"rect",v.bgClassName,(function(e){e.attr({x:0,y:0,"shape-rendering":"crispEdges"})})),a=r.borderwidth%2===0?r.borderwidth:r.borderwidth-1,l=-r._offsetShift,c=u.crispRound(t,r.borderwidth);i.attr({width:r._width+a,height:r._height+a,transform:s(l,l),fill:r.bgcolor,stroke:r.bordercolor,"stroke-width":c})}function _(e,t,n,r){var i=t._fullLayout;o.ensureSingleById(i._topdefs,"clipPath",r._clipId,(function(e){e.append("rect").attr({x:0,y:0})})).select("rect").attr({width:r._width,height:r._height})}function w(e,t,n,i){var s,l=t.calcdata,c=e.selectAll("g."+v.rangePlotClassName).data(n._subplotsWith,o.identity);c.enter().append("g").attr("class",(function(e){return v.rangePlotClassName+" "+e})).call(u.setClipUrl,i._clipId,t),c.order(),c.exit().remove(),c.each((function(e,o){var u=r.select(this),c=0===o,d=h.getFromId(t,e,"y"),p=d._name,v=i[p],g={data:[],layout:{xaxis:{type:n.type,domain:[0,1],range:i.range.slice(),calendar:n.calendar},width:i._width,height:i._height,margin:{t:0,b:0,l:0,r:0}},_context:t._context};n.rangebreaks&&(g.layout.xaxis.rangebreaks=n.rangebreaks),g.layout[p]={type:d.type,domain:[0,1],range:"match"!==v.rangemode?v.range.slice():d.range.slice(),calendar:d.calendar},d.rangebreaks&&(g.layout[p].rangebreaks=d.rangebreaks),a.supplyDefaults(g);var y=g._fullLayout.xaxis,m=g._fullLayout[p];y.clearCalc(),y.setScale(),m.clearCalc(),m.setScale();var b={id:e,plotgroup:u,xaxis:y,yaxis:m,isRangePlot:!0};c?s=b:(b.mainplot="xy",b.mainplotinfo=s),f.rangePlot(t,b,x(l,e))}))}function x(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r],a=i[0].trace;a.xaxis+a.yaxis===t&&n.push(i)}return n}function T(e,t,n,r,i){o.ensureSingle(e,"rect",v.maskMinClassName,(function(e){e.attr({x:0,y:0,"shape-rendering":"crispEdges"})})).attr("height",r._height).call(l.fill,v.maskColor),o.ensureSingle(e,"rect",v.maskMaxClassName,(function(e){e.attr({y:0,"shape-rendering":"crispEdges"})})).attr("height",r._height).call(l.fill,v.maskColor),"match"!==i.rangemode&&(o.ensureSingle(e,"rect",v.maskMinOppAxisClassName,(function(e){e.attr({y:0,"shape-rendering":"crispEdges"})})).attr("width",r._width).call(l.fill,v.maskOppAxisColor),o.ensureSingle(e,"rect",v.maskMaxOppAxisClassName,(function(e){e.attr({y:0,"shape-rendering":"crispEdges"})})).attr("width",r._width).style("border-top",v.maskOppBorder).call(l.fill,v.maskOppAxisColor))}function k(e,t,n,r){t._context.staticPlot||o.ensureSingle(e,"rect",v.slideBoxClassName,(function(e){e.attr({y:0,cursor:v.slideBoxCursor,"shape-rendering":"crispEdges"})})).attr({height:r._height,fill:v.slideBoxFill})}function O(e,t,n,r){var i=o.ensureSingle(e,"g",v.grabberMinClassName),a=o.ensureSingle(e,"g",v.grabberMaxClassName),s={x:0,width:v.handleWidth,rx:v.handleRadius,fill:l.background,stroke:l.defaultLine,"stroke-width":v.handleStrokeWidth,"shape-rendering":"crispEdges"},u={y:Math.round(r._height/4),height:Math.round(r._height/2)};o.ensureSingle(i,"rect",v.handleMinClassName,(function(e){e.attr(s)})).attr(u),o.ensureSingle(a,"rect",v.handleMaxClassName,(function(e){e.attr(s)})).attr(u);var c={width:v.grabAreaWidth,x:0,y:0,fill:v.grabAreaFill,cursor:t._context.staticPlot?void 0:v.grabAreaCursor};o.ensureSingle(i,"rect",v.grabAreaMinClassName,(function(e){e.attr(c)})).attr("height",r._height),o.ensureSingle(a,"rect",v.grabAreaMaxClassName,(function(e){e.attr(c)})).attr("height",r._height)}t.exports=function(e){for(var t=e._fullLayout,n=t._rangeSliderData,i=0;i<n.length;i++){var a=n[i][v.name];a._clipId=a._id+"-"+t._uid}function u(e){return e._name}var l=t._infolayer.selectAll("g."+v.containerClassName).data(n,u);l.exit().each((function(e){var n=e[v.name];t._topdefs.select("#"+n._clipId).remove()})).remove(),0!==n.length&&(l.enter().append("g").classed(v.containerClassName,!0).attr("pointer-events","all"),l.each((function(n){var i=r.select(this),a=n[v.name],u=t[h.id2name(n.anchor)],l=a[h.id2name(n.anchor)];if(a.range){var f,d=o.simpleMap(a.range,n.r2l),p=o.simpleMap(n.range,n.r2l);f=p[0]<p[1]?[Math.min(d[0],p[0]),Math.max(d[1],p[1])]:[Math.max(d[0],p[0]),Math.min(d[1],p[1])],a.range=a._input.range=o.simpleMap(f,n.l2r)}n.cleanRange("rangeslider.range");var y=t._size,x=n.domain;a._width=y.w*(x[1]-x[0]);var S=Math.round(y.l+y.w*x[0]),A=Math.round(y.t+y.h*(1-n._counterDomainMin)+("bottom"===n.side?n._depth:0)+a._offsetShift+v.extraPad);i.attr("transform",s(S,A)),a._rl=o.simpleMap(a.range,n.r2l);var E=a._rl[0],C=a._rl[1],M=C-E;if(a.p2d=function(e){return e/a._width*M+E},a.d2p=function(e){return(e-E)/M*a._width},n.rangebreaks){var I=n.locateBreaks(E,C);if(I.length){var D,P,N=0;for(D=0;D<I.length;D++)N+=(P=I[D]).max-P.min;var j=a._width/(C-E-N),L=[-j*E];for(D=0;D<I.length;D++)P=I[D],L.push(L[L.length-1]-j*(P.max-P.min));for(a.d2p=function(e){for(var t=L[0],n=0;n<I.length;n++){var r=I[n];if(e>=r.max)t=L[n+1];else if(e<r.min)break}return t+j*e},D=0;D<I.length;D++)(P=I[D]).pmin=a.d2p(P.min),P.pmax=a.d2p(P.max);a.p2d=function(e){for(var t=L[0],n=0;n<I.length;n++){var r=I[n];if(e>=r.pmax)t=L[n+1];else if(e<r.pmin)break}return(e-t)/j}}}if("match"!==l.rangemode){var R=u.r2l(l.range[0]),F=u.r2l(l.range[1])-R;a.d2pOppAxis=function(e){return(e-R)/F*a._height}}i.call(b,e,n,a).call(_,e,n,a).call(w,e,n,a).call(T,e,n,a,l).call(k,e,n,a).call(O,e,n,a),g(i,e,n,a),m(i,e,n,a,u,l),"bottom"===n.side&&c.draw(e,n._id+"title",{propContainer:n,propName:n._name+".title",placeholder:t._dfltTitle.x,attributes:{x:n._offset+n._length/2,y:A+a._height+a._offsetShift+10+1.5*n.title.font.size,"text-anchor":"middle"}})})))}},{"../../lib":230,"../../lib/setcursor":250,"../../plots/cartesian":290,"../../plots/cartesian/axis_ids":280,"../../plots/plots":311,"../../registry":313,"../color":100,"../dragelement":119,"../drawing":122,"../titles":198,"./constants":174,"@plotly/d3":11}],177:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axis_ids"),i=e("../../lib/svg_text_utils"),a=e("./constants"),o=e("../../constants/alignment").LINE_SPACING,s=a.name;function u(e){var t=e&&e[s];return t&&t.visible}n.isVisible=u,n.makeData=function(e){var t=r.list({_fullLayout:e},"x",!0),n=e.margin,i=[];if(!e._has("gl2d"))for(var a=0;a<t.length;a++){var o=t[a];if(u(o)){i.push(o);var l=o[s];l._id=s+o._id,l._height=(e.height-n.b-n.t)*l.thickness,l._offsetShift=Math.floor(l.borderwidth/2)}}e._rangeSliderData=i},n.autoMarginOpts=function(e,t){var n=e._fullLayout,r=t[s],u=t._id.charAt(0),l=0,c=0;return"bottom"===t.side&&(l=t._depth,t.title.text!==n._dfltTitle[u]&&(c=1.5*t.title.font.size+10+r._offsetShift,c+=(t.title.text.match(i.BR_TAG_ALL)||[]).length*t.title.font.size*o)),{x:0,y:t._counterDomainMin,l:0,r:0,t:0,b:r._height+l+Math.max(n.margin.b,c),pad:a.extraPad+2*r._offsetShift}}},{"../../constants/alignment":205,"../../lib/svg_text_utils":252,"../../plots/cartesian/axis_ids":280,"./constants":174}],178:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./attributes"),a=e("./oppaxis_attributes"),o=e("./helpers");t.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:r.extendFlat({},i,{yaxis:a})}}},layoutAttributes:e("./attributes"),handleDefaults:e("./defaults"),calcAutorange:e("./calc_autorange"),draw:e("./draw"),isVisible:o.isVisible,makeData:o.makeData,autoMarginOpts:o.autoMarginOpts}},{"../../lib":230,"./attributes":172,"./calc_autorange":173,"./defaults":175,"./draw":176,"./helpers":177,"./oppaxis_attributes":179}],179:[function(e,t,n){"use strict";t.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},{}],180:[function(e,t,n){"use strict";var r=e("../annotations/attributes"),i=e("../../traces/scatter/attributes").line,a=e("../drawing/attributes").dash,o=e("../../lib/extend").extendFlat,s=e("../../plot_api/plot_template").templatedArray;e("../../constants/axis_placeable_objects"),t.exports=s("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:o({},r.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:o({},r.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:o({},i.color,{editType:"arraydraw"}),width:o({},i.width,{editType:"calc+arraydraw"}),dash:o({},a,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":206,"../../lib/extend":224,"../../plot_api/plot_template":265,"../../traces/scatter/attributes":353,"../annotations/attributes":83,"../drawing/attributes":121}],181:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes"),a=e("./constants"),o=e("./helpers");function s(e){return l(e.line.width,e.xsizemode,e.x0,e.x1,e.path,!1)}function u(e){return l(e.line.width,e.ysizemode,e.y0,e.y1,e.path,!0)}function l(e,t,n,i,s,u){var l=e/2,c=u;if("pixel"===t){var f=s?o.extractPathCoords(s,u?a.paramIsY:a.paramIsX):[n,i],h=r.aggNums(Math.max,null,f),d=r.aggNums(Math.min,null,f),p=d<0?Math.abs(d)+l:l,v=h>0?h+l:l;return{ppad:l,ppadplus:c?p:v,ppadminus:c?v:p}}return{ppad:l}}function c(e,t,n,r,i){var s="category"===e.type||"multicategory"===e.type?e.r2c:e.d2c;if(void 0!==t)return[s(t),s(n)];if(r){var u,l,c,f,h=1/0,d=-1/0,p=r.match(a.segmentRE);for("date"===e.type&&(s=o.decodeDate(s)),u=0;u<p.length;u++)void 0!==(l=i[p[u].charAt(0)].drawn)&&(!(c=p[u].substr(1).match(a.paramRE))||c.length<l||((f=s(c[l]))<h&&(h=f),f>d&&(d=f)));return d>=h?[h,d]:void 0}}t.exports=function(e){var t=e._fullLayout,n=r.filterVisible(t.shapes);if(n.length&&e._fullData.length)for(var o=0;o<n.length;o++){var l,f,h=n[o];h._extremes={};var d=i.getRefType(h.xref),p=i.getRefType(h.yref);if("paper"!==h.xref&&"domain"!==d){var v="pixel"===h.xsizemode?h.xanchor:h.x0,g="pixel"===h.xsizemode?h.xanchor:h.x1;(f=c(l=i.getFromId(e,h.xref),v,g,h.path,a.paramIsX))&&(h._extremes[l._id]=i.findExtremes(l,f,s(h)))}if("paper"!==h.yref&&"domain"!==p){var y="pixel"===h.ysizemode?h.yanchor:h.y0,m="pixel"===h.ysizemode?h.yanchor:h.y1;(f=c(l=i.getFromId(e,h.yref),y,m,h.path,a.paramIsY))&&(h._extremes[l._id]=i.findExtremes(l,f,u(h)))}}}},{"../../lib":230,"../../plots/cartesian/axes":276,"./constants":182,"./helpers":191}],182:[function(e,t,n){"use strict";t.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},{}],183:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes"),a=e("../../plots/array_container_defaults"),o=e("./attributes"),s=e("./helpers");function u(e,t,n){function a(n,i){return r.coerce(e,t,o,n,i)}if(a("visible")){var u=a("path"),l=a("type",u?"path":"rect");"path"!==t.type&&delete t.path,a("editable"),a("layer"),a("opacity"),a("fillcolor"),a("fillrule"),a("line.width")&&(a("line.color"),a("line.dash"));for(var c=a("xsizemode"),f=a("ysizemode"),h=["x","y"],d=0;d<2;d++){var p,v,g,y=h[d],m=y+"anchor",b="x"===y?c:f,_={_fullLayout:n},w=i.coerceRef(e,t,_,y,void 0,"paper");if("range"===i.getRefType(w)?((p=i.getFromId(_,w))._shapeIndices.push(t._index),g=s.rangeToShapePosition(p),v=s.shapePositionToRange(p)):v=g=r.identity,"path"!==l){var x=.25,T=.75,k=y+"0",O=y+"1",S=e[k],A=e[O];e[k]=v(e[k],!0),e[O]=v(e[O],!0),"pixel"===b?(a(k,0),a(O,10)):(i.coercePosition(t,_,a,w,k,x),i.coercePosition(t,_,a,w,O,T)),t[k]=g(t[k]),t[O]=g(t[O]),e[k]=S,e[O]=A}if("pixel"===b){var E=e[m];e[m]=v(e[m],!0),i.coercePosition(t,_,a,w,m,.25),t[m]=g(t[m]),e[m]=E}}"path"===l?a("path"):r.noneOrAll(e,t,["x0","x1","y0","y1"])}}t.exports=function(e,t){a(e,t,{name:"shapes",handleItemDefaults:u})}},{"../../lib":230,"../../plots/array_container_defaults":271,"../../plots/cartesian/axes":276,"./attributes":180,"./helpers":191}],184:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../lib"),a=e("../../plots/cartesian/axes"),o=e("./draw_newshape/helpers").readPaths,s=e("./draw_newshape/display_outlines"),u=e("../../plots/cartesian/handle_outline").clearOutlineControllers,l=e("../color"),c=e("../drawing"),f=e("../../plot_api/plot_template").arrayEditor,h=e("../dragelement"),d=e("../../lib/setcursor"),p=e("./constants"),v=e("./helpers");function g(e){var t=e._fullLayout;for(var n in t._shapeUpperLayer.selectAll("path").remove(),t._shapeLowerLayer.selectAll("path").remove(),t._plots){var r=t._plots[n].shapelayer;r&&r.selectAll("path").remove()}for(var i=0;i<t.shapes.length;i++)t.shapes[i].visible&&b(e,i)}function y(e){return!!e._fullLayout._drawing}function m(e){return!e._context.edits.shapePosition}function b(e,t){e._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+t+'"]').remove();var n=v.makeOptionsAndPlotinfo(e,t),r=n.options,i=n.plotinfo;function a(n){var a=x(e,r),u={"data-index":t,"fill-rule":r.fillrule,d:a},h=r.opacity,d=r.fillcolor,p=r.line.width?r.line.color:"rgba(0,0,0,0)",v=r.line.width,g=r.line.dash;v||!0!==r.editable||(v=5,g="solid");var y="Z"!==a[a.length-1],b=m(e)&&r.editable&&e._fullLayout._activeShapeIndex===t;b&&(d=y?"rgba(0,0,0,0)":e._fullLayout.activeshape.fillcolor,h=e._fullLayout.activeshape.opacity);var T,k=n.append("path").attr(u).style("opacity",h).call(l.stroke,p).call(l.fill,d).call(c.dashLine,g,v);if(_(k,e,r),(b||e._context.edits.shapePosition)&&(T=f(e.layout,"shapes",r)),b){k.style({cursor:"move"});var S={element:k.node(),plotinfo:i,gd:e,editHelpers:T,isActiveShape:!0},A=o(a,e);s(A,k,S)}else e._context.edits.shapePosition?w(e,k,r,t,n,T):!0===r.editable&&k.style("pointer-events",y||l.opacity(d)*h<=.5?"stroke":"all");k.node().addEventListener("click",(function(){return O(e,k)}))}r._input&&!1!==r.visible&&("below"!==r.layer?a(e._fullLayout._shapeUpperLayer):"paper"===r.xref||"paper"===r.yref?a(e._fullLayout._shapeLowerLayer):i._hadPlotinfo?a((i.mainplotinfo||i).shapelayer):a(e._fullLayout._shapeLowerLayer))}function _(e,t,n){var r=(n.xref+n.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");c.setClipUrl(e,r?"clip"+t._fullLayout._uid+r:null,t)}function w(e,t,n,o,s,u){var l,f,g,m,b,w,T,O,S,A,E,C,M,I,D,P,N=10,j=10,L="pixel"===n.xsizemode,R="pixel"===n.ysizemode,F="line"===n.type,z="path"===n.type,U=u.modifyItem,q=a.getFromId(e,n.xref),B=a.getRefType(n.xref),V=a.getFromId(e,n.yref),H=a.getRefType(n.yref),W=v.getDataToPixel(e,q,!1,B),Y=v.getDataToPixel(e,V,!0,H),G=v.getPixelToData(e,q,!1,B),K=v.getPixelToData(e,V,!0,H),X=Q(),$={element:X.node(),gd:e,prepFn:ee,doneFn:te,clickFn:ne};function Q(){return F?J():t}function J(){var e=10,r=Math.max(n.line.width,e),i=s.append("g").attr("data-index",o);i.append("path").attr("d",t.attr("d")).style({cursor:"move","stroke-width":r,"stroke-opacity":"0"});var a={"fill-opacity":"0"},u=Math.max(r/2,e);return i.append("circle").attr({"data-line-point":"start-point",cx:L?W(n.xanchor)+n.x0:W(n.x0),cy:R?Y(n.yanchor)-n.y0:Y(n.y0),r:u}).style(a).classed("cursor-grab",!0),i.append("circle").attr({"data-line-point":"end-point",cx:L?W(n.xanchor)+n.x1:W(n.x1),cy:R?Y(n.yanchor)-n.y1:Y(n.y1),r:u}).style(a).classed("cursor-grab",!0),i}function Z(n){if(y(e))P=null;else if(F)P="path"===n.target.tagName?"move":"start-point"===n.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var r=$.element.getBoundingClientRect(),i=r.right-r.left,a=r.bottom-r.top,o=n.clientX-r.left,s=n.clientY-r.top,u=!z&&i>N&&a>j&&!n.shiftKey?h.getCursor(o/i,1-s/a):"move";d(t,u),P=u.split("-")[0]}}function ee(r){y(e)||(L&&(b=W(n.xanchor)),R&&(w=Y(n.yanchor)),"path"===n.type?D=n.path:(l=L?n.x0:W(n.x0),f=R?n.y0:Y(n.y0),g=L?n.x1:W(n.x1),m=R?n.y1:Y(n.y1)),l<g?(S=l,M="x0",A=g,I="x1"):(S=g,M="x1",A=l,I="x0"),!R&&f<m||R&&f>m?(T=f,E="y0",O=m,C="y1"):(T=m,E="y1",O=f,C="y0"),Z(r),ae(s,n),se(t,n,e),$.moveFn="move"===P?re:ie,$.altKey=r.altKey)}function te(){y(e)||(d(t),oe(s),_(t,e,n),r.call("_guiRelayout",e,u.getUpdateObj()))}function ne(){y(e)||oe(s)}function re(r,i){if("path"===n.type){var a=function(e){return e},o=a,u=a;L?U("xanchor",n.xanchor=G(b+r)):(o=function(e){return G(W(e)+r)},q&&"date"===q.type&&(o=v.encodeDate(o))),R?U("yanchor",n.yanchor=K(w+i)):(u=function(e){return K(Y(e)+i)},V&&"date"===V.type&&(u=v.encodeDate(u))),U("path",n.path=k(D,o,u))}else L?U("xanchor",n.xanchor=G(b+r)):(U("x0",n.x0=G(l+r)),U("x1",n.x1=G(g+r))),R?U("yanchor",n.yanchor=K(w+i)):(U("y0",n.y0=K(f+i)),U("y1",n.y1=K(m+i)));t.attr("d",x(e,n)),ae(s,n)}function ie(r,i){if(z){var a=function(e){return e},o=a,u=a;L?U("xanchor",n.xanchor=G(b+r)):(o=function(e){return G(W(e)+r)},q&&"date"===q.type&&(o=v.encodeDate(o))),R?U("yanchor",n.yanchor=K(w+i)):(u=function(e){return K(Y(e)+i)},V&&"date"===V.type&&(u=v.encodeDate(u))),U("path",n.path=k(D,o,u))}else if(F){if("resize-over-start-point"===P){var c=l+r,h=R?f-i:f+i;U("x0",n.x0=L?c:G(c)),U("y0",n.y0=R?h:K(h))}else if("resize-over-end-point"===P){var d=g+r,p=R?m-i:m+i;U("x1",n.x1=L?d:G(d)),U("y1",n.y1=R?p:K(p))}}else{var y=function(e){return-1!==P.indexOf(e)},_=y("n"),B=y("s"),H=y("w"),X=y("e"),$=_?T+i:T,Q=B?O+i:O,J=H?S+r:S,Z=X?A+r:A;R&&(_&&($=T-i),B&&(Q=O-i)),(!R&&Q-$>j||R&&$-Q>j)&&(U(E,n[E]=R?$:K($)),U(C,n[C]=R?Q:K(Q))),Z-J>N&&(U(M,n[M]=L?J:G(J)),U(I,n[I]=L?Z:G(Z)))}t.attr("d",x(e,n)),ae(s,n)}function ae(e,t){function n(){var n="path"!==t.type,r=e.selectAll(".visual-cue").data([0]),a=1;r.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":a}).classed("visual-cue",!0);var o=W(L?t.xanchor:i.midRange(n?[t.x0,t.x1]:v.extractPathCoords(t.path,p.paramIsX))),s=Y(R?t.yanchor:i.midRange(n?[t.y0,t.y1]:v.extractPathCoords(t.path,p.paramIsY)));if(o=v.roundPositionForSharpStrokeRendering(o,a),s=v.roundPositionForSharpStrokeRendering(s,a),L&&R){var u="M"+(o-1-a)+","+(s-1-a)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";r.attr("d",u)}else if(L){var l="M"+(o-1-a)+","+(s-9-a)+"v18 h2 v-18 Z";r.attr("d",l)}else{var c="M"+(o-9-a)+","+(s-1-a)+"h18 v2 h-18 Z";r.attr("d",c)}}(L||R)&&n()}function oe(e){e.selectAll(".visual-cue").remove()}function se(e,t,n){var r=t.xref,i=t.yref,o=a.getFromId(n,r),s=a.getFromId(n,i),u="";"paper"===r||o.autorange||(u+=r),"paper"===i||s.autorange||(u+=i),c.setClipUrl(e,u?"clip"+n._fullLayout._uid+u:null,n)}h.init($),X.node().onmousemove=Z}function x(e,t){var n,r,i,o,s,u,l,c,f=t.type,h=a.getRefType(t.xref),d=a.getRefType(t.yref),p=a.getFromId(e,t.xref),g=a.getFromId(e,t.yref),y=e._fullLayout._size;if(p?"domain"===h?r=function(e){return p._offset+p._length*e}:(n=v.shapePositionToRange(p),r=function(e){return p._offset+p.r2p(n(e,!0))}):r=function(e){return y.l+y.w*e},g?"domain"===d?o=function(e){return g._offset+g._length*(1-e)}:(i=v.shapePositionToRange(g),o=function(e){return g._offset+g.r2p(i(e,!0))}):o=function(e){return y.t+y.h*(1-e)},"path"===f)return p&&"date"===p.type&&(r=v.decodeDate(r)),g&&"date"===g.type&&(o=v.decodeDate(o)),T(t,r,o);if("pixel"===t.xsizemode){var m=r(t.xanchor);s=m+t.x0,u=m+t.x1}else s=r(t.x0),u=r(t.x1);if("pixel"===t.ysizemode){var b=o(t.yanchor);l=b-t.y0,c=b-t.y1}else l=o(t.y0),c=o(t.y1);if("line"===f)return"M"+s+","+l+"L"+u+","+c;if("rect"===f)return"M"+s+","+l+"H"+u+"V"+c+"H"+s+"Z";var _=(s+u)/2,w=(l+c)/2,x=Math.abs(_-s),k=Math.abs(w-l),O="A"+x+","+k,S=_+x+","+w;return"M"+S+O+" 0 1,1 "+_+","+(w-k)+O+" 0 0,1 "+S+"Z"}function T(e,t,n){var r=e.path,a=e.xsizemode,o=e.ysizemode,s=e.xanchor,u=e.yanchor;return r.replace(p.segmentRE,(function(e){var r=0,l=e.charAt(0),c=p.paramIsX[l],f=p.paramIsY[l],h=p.numParams[l],d=e.substr(1).replace(p.paramRE,(function(e){return c[r]?e="pixel"===a?t(s)+Number(e):t(e):f[r]&&(e="pixel"===o?n(u)-Number(e):n(e)),++r>h&&(e="X"),e}));return r>h&&(d=d.replace(/[\s,]*X.*/,""),i.log("Ignoring extra params in segment "+e)),l+d}))}function k(e,t,n){return e.replace(p.segmentRE,(function(e){var r=0,i=e.charAt(0),a=p.paramIsX[i],o=p.paramIsY[i],s=p.numParams[i];return i+e.substr(1).replace(p.paramRE,(function(e){return r>=s||(a[r]?e=t(e):o[r]&&(e=n(e)),r++),e}))}))}function O(e,t){if(m(e)){var n=+t.node().getAttribute("data-index");if(n>=0){if(n===e._fullLayout._activeShapeIndex)return void S(e);e._fullLayout._activeShapeIndex=n,e._fullLayout._deactivateShape=S,g(e)}}}function S(e){m(e)&&e._fullLayout._activeShapeIndex>=0&&(u(e),delete e._fullLayout._activeShapeIndex,g(e))}function A(e){if(m(e)){u(e);var t=e._fullLayout._activeShapeIndex,n=(e.layout||{}).shapes||[];if(t<n.length){for(var i=[],a=0;a<n.length;a++)a!==t&&i.push(n[a]);delete e._fullLayout._activeShapeIndex,r.call("_guiRelayout",e,{shapes:i})}}}t.exports={draw:g,drawOne:b,eraseActiveShape:A}},{"../../lib":230,"../../lib/setcursor":250,"../../plot_api/plot_template":265,"../../plots/cartesian/axes":276,"../../plots/cartesian/handle_outline":287,"../../registry":313,"../color":100,"../dragelement":119,"../drawing":122,"./constants":182,"./draw_newshape/display_outlines":188,"./draw_newshape/helpers":189,"./helpers":191}],185:[function(e,t,n){"use strict";var r=e("../../drawing/attributes").dash,i=e("../../../lib/extend").extendFlat;t.exports={newshape:{line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:0,dflt:4,editType:"none"},dash:i({},r,{dflt:"solid",editType:"none"}),editType:"none"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"none"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"none"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",editType:"none"},editType:"none"},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},{"../../../lib/extend":224,"../../drawing/attributes":121}],186:[function(e,t,n){"use strict";var r=32;t.exports={CIRCLE_SIDES:r,i000:0,i090:r/4,i180:r/2,i270:r/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},{}],187:[function(e,t,n){"use strict";var r=e("../../color");t.exports=function(e,t,n){if(n("newshape.drawdirection"),n("newshape.layer"),n("newshape.fillcolor"),n("newshape.fillrule"),n("newshape.opacity"),n("newshape.line.width")){var i=(e||{}).plot_bgcolor||"#FFF";n("newshape.line.color",r.contrast(i)),n("newshape.line.dash")}n("activeshape.fillcolor"),n("activeshape.opacity")}},{"../../color":100}],188:[function(e,t,n){"use strict";var r=e("../../dragelement"),i=e("../../dragelement/helpers").drawMode,a=e("../../../registry"),o=e("./constants"),s=o.i000,u=o.i090,l=o.i180,c=o.i270,f=e("../../../plots/cartesian/handle_outline").clearOutlineControllers,h=e("./helpers"),d=h.pointsShapeRectangle,p=h.pointsShapeEllipse,v=h.writePaths,g=e("./newshapes");function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];e[n]=[];for(var i=0;i<r.length;i++){e[n][i]=[];for(var a=0;a<r[i].length;a++)e[n][i][a]=r[i][a]}}return e}t.exports=function e(t,n,o,h){h||(h=0);var m=o.gd;function b(){e(t,n,o,h++),p(t[0])&&_({redrawing:!0})}function _(e){o.isActiveShape=!1;var t=g(n,o);Object.keys(t).length&&a.call((e||{}).redrawing?"relayout":"_guiRelayout",m,t)}var w,x,T,k,O,S=o.isActiveShape,A=m._fullLayout._zoomlayer,E=o.dragmode;function C(e){T=+e.srcElement.getAttribute("data-i"),k=+e.srcElement.getAttribute("data-j"),w[T][k].moveFn=M}function M(e,n){if(t.length){var r=O[T][k][1],i=O[T][k][2],a=t[T],o=a.length;if(d(a)){for(var s=0;s<o;s++)if(s!==k){var u=a[s];u[1]===a[k][1]&&(u[1]=r+e),u[2]===a[k][2]&&(u[2]=i+n)}if(a[k][1]=r+e,a[k][2]=i+n,!d(a))for(var l=0;l<o;l++)for(var c=0;c<a[l].length;c++)a[l][c]=O[T][l][c]}else a[k][1]=r+e,a[k][2]=i+n;b()}}function I(){_()}function D(){if(t.length&&t[T]&&t[T].length){for(var e=[],n=0;n<t[T].length;n++)n!==k&&e.push(t[T][n]);e.length>1&&(2!==e.length||"Z"!==e[1][0])&&(0===k&&(e[0][0]="M"),t[T]=e,b(),_())}}function P(e,n){if(2===e){T=+n.srcElement.getAttribute("data-i"),k=+n.srcElement.getAttribute("data-j");var r=t[T];d(r)||p(r)||D()}}function N(e){w=[];for(var n=0;n<t.length;n++){var i=t[n],a=!d(i)&&p(i);w[n]=[];for(var o=0;o<i.length;o++)if("Z"!==i[o][0]&&(!a||o===s||o===u||o===l||o===c)){var f=i[o][1],h=i[o][2],v=e.append("circle").classed("cursor-grab",!0).attr("data-i",n).attr("data-j",o).attr("cx",f).attr("cy",h).attr("r",4).style({"mix-blend-mode":"luminosity",fill:"black",stroke:"white","stroke-width":1});w[n][o]={element:v.node(),gd:m,prepFn:C,doneFn:I,clickFn:P},r.init(w[n][o])}}}function j(e,n){if(t.length)for(var r=0;r<t.length;r++)for(var i=0;i<t[r].length;i++)for(var a=0;a+2<t[r][i].length;a+=2)t[r][i][a+1]=O[r][i][a+1]+e,t[r][i][a+2]=O[r][i][a+2]+n}function L(e,t){j(e,t),b()}function R(e){(T=+e.srcElement.getAttribute("data-i"))||(T=0),x[T].moveFn=L}function F(){_()}function z(){if(x=[],t.length){var e=0;x[e]={element:n[0][0],gd:m,prepFn:R,doneFn:F},r.init(x[e])}}i(E)?m._fullLayout._drawing=!0:m._fullLayout._activeShapeIndex>=0&&f(m),n.attr("d",v(t)),S&&!h&&(O=y([],t),N(A.append("g").attr("class","outline-controllers")),z())}},{"../../../plots/cartesian/handle_outline":287,"../../../registry":313,"../../dragelement":119,"../../dragelement/helpers":118,"./constants":186,"./helpers":189,"./newshapes":190}],189:[function(e,t,n){"use strict";var r=e("parse-svg-path"),i=e("./constants"),a=i.CIRCLE_SIDES,o=i.SQRT2,s=e("../../../plots/cartesian/helpers"),u=s.p2r,l=s.r2p,c=[0,3,4,5,6,1,2],f=[0,3,4,1,2];function h(e,t){return Math.abs(e-t)<=1e-6}function d(e,t){var n=t[1]-e[1],r=t[2]-e[2];return Math.sqrt(n*n+r*r)}n.writePaths=function(e){var t=e.length;if(!t)return"M0,0Z";for(var n="",r=0;r<t;r++)for(var i=e[r].length,a=0;a<i;a++){var o=e[r][a][0];if("Z"===o)n+="Z";else for(var s=e[r][a].length,u=0;u<s;u++){var l=u;"Q"===o||"S"===o?l=f[u]:"C"===o&&(l=c[u]),n+=e[r][a][l],u>0&&u<s-1&&(n+=",")}}return n},n.readPaths=function(e,t,n,i){var o,s,c,f=r(e),h=[],d=-1,p=function(){d++,h[d]=[]},v=0,g=0,y=function(){s=v,c=g};y();for(var m=0;m<f.length;m++){var b,_,w,x,T=[],k=f[m][0],O=k;switch(k){case"M":p(),v=+f[m][1],g=+f[m][2],T.push([O,v,g]),y();break;case"Q":case"S":b=+f[m][1],w=+f[m][2],v=+f[m][3],g=+f[m][4],T.push([O,v,g,b,w]);break;case"C":b=+f[m][1],w=+f[m][2],_=+f[m][3],x=+f[m][4],v=+f[m][5],g=+f[m][6],T.push([O,v,g,b,w,_,x]);break;case"T":case"L":v=+f[m][1],g=+f[m][2],T.push([O,v,g]);break;case"H":O="L",v=+f[m][1],T.push([O,v,g]);break;case"V":O="L",g=+f[m][1],T.push([O,v,g]);break;case"A":O="L";var S=+f[m][1],A=+f[m][2];+f[m][4]||(S=-S,A=-A);var E=v-S,C=g;for(o=1;o<=a/2;o++){var M=2*Math.PI*o/a;T.push([O,E+S*Math.cos(M),C+A*Math.sin(M)])}break;case"Z":v===s&&g===c||(v=s,g=c,T.push([O,v,g]))}for(var I=(n||{}).domain,D=t._fullLayout._size,P=n&&"pixel"===n.xsizemode,N=n&&"pixel"===n.ysizemode,j=!1===i,L=0;L<T.length;L++){for(o=0;o+2<7;o+=2){var R=T[L][o+1],F=T[L][o+2];void 0!==R&&void 0!==F&&(v=R,g=F,n&&(n.xaxis&&n.xaxis.p2r?(j&&(R-=n.xaxis._offset),R=P?l(n.xaxis,n.xanchor)+R:u(n.xaxis,R)):(j&&(R-=D.l),I?R=I.x[0]+R/D.w:R/=D.w),n.yaxis&&n.yaxis.p2r?(j&&(F-=n.yaxis._offset),F=N?l(n.yaxis,n.yanchor)-F:u(n.yaxis,F)):(j&&(F-=D.t),F=I?I.y[1]-F/D.h:1-F/D.h)),T[L][o+1]=R,T[L][o+2]=F)}h[d].push(T[L].slice())}}return h},n.pointsShapeRectangle=function(e){if(5!==e.length)return!1;for(var t=1;t<3;t++){if(!h(e[0][t]-e[1][t],e[3][t]-e[2][t]))return!1;if(!h(e[0][t]-e[3][t],e[1][t]-e[2][t]))return!1}return!(!h(e[0][1],e[1][1])&&!h(e[0][1],e[3][1]))&&!!(d(e[0],e[1])*d(e[0],e[3]))},n.pointsShapeEllipse=function(e){var t=e.length;if(t!==a+1)return!1;t=a;for(var n=0;n<t;n++){var r=(2*t-n)%t,i=(t/2+r)%t,o=(t/2+n)%t;if(!h(d(e[n],e[o]),d(e[r],e[i])))return!1}return!0},n.handleEllipse=function(e,t,r){if(!e)return[t,r];var i=n.ellipseOver({x0:t[0],y0:t[1],x1:r[0],y1:r[1]}),s=(i.x1+i.x0)/2,u=(i.y1+i.y0)/2,l=(i.x1-i.x0)/2,c=(i.y1-i.y0)/2;l||(l=c/=o),c||(c=l/=o);for(var f=[],h=0;h<a;h++){var d=2*h*Math.PI/a;f.push([s+l*Math.cos(d),u+c*Math.sin(d)])}return f},n.ellipseOver=function(e){var t=e.x0,n=e.y0,r=e.x1,i=e.y1,a=r-t,s=i-n,u=((t-=a)+r)/2,l=((n-=s)+i)/2;return{x0:u-(a*=o),y0:l-(s*=o),x1:u+a,y1:l+s}}},{"../../../plots/cartesian/helpers":288,"./constants":186,"parse-svg-path":54}],190:[function(e,t,n){"use strict";var r=e("../../dragelement/helpers"),i=r.drawMode,a=r.openMode,o=e("./constants"),s=o.i000,u=o.i090,l=o.i180,c=o.i270,f=o.cos45,h=o.sin45,d=e("../../../plots/cartesian/helpers"),p=d.p2r,v=d.r2p,g=e("../../../plots/cartesian/handle_outline").clearSelect,y=e("./helpers"),m=y.readPaths,b=y.writePaths,_=y.ellipseOver;function w(e,t,n){var r="date"===t.type,i="date"===n.type;if(!r&&!i)return e;for(var a=0;a<e.length;a++)for(var o=0;o<e[a].length;o++)for(var s=0;s+2<e[a][o].length;s+=2)r&&(e[a][o][s+1]=e[a][o][s+1].replace(" ","_")),i&&(e[a][o][s+2]=e[a][o][s+2].replace(" ","_"));return e}t.exports=function(e,t){if(e.length){var n=e[0][0];if(n){var r=n.getAttribute("d"),o=t.gd,d=o._fullLayout.newshape,y=t.plotinfo,x=y.xaxis,T=y.yaxis,k=!!y.domain||!y.xaxis,O=!!y.domain||!y.yaxis,S=t.isActiveShape,A=t.dragmode,E=(o.layout||{}).shapes||[];if(!i(A)&&void 0!==S){var C=o._fullLayout._activeShapeIndex;if(C<E.length)switch(o._fullLayout.shapes[C].type){case"rect":A="drawrect";break;case"circle":A="drawcircle";break;case"line":A="drawline";break;case"path":var M=E[C].path||"";A="Z"===M[M.length-1]?"drawclosedpath":"drawopenpath"}}var I,D=a(A),P=m(r,o,y,S),N={editable:!0,xref:k?"paper":x._id,yref:O?"paper":T._id,layer:d.layer,opacity:d.opacity,line:{color:d.line.color,width:d.line.width,dash:d.line.dash}};if(D||(N.fillcolor=d.fillcolor,N.fillrule=d.fillrule),1===P.length&&(I=P[0]),I&&"drawrect"===A)N.type="rect",N.x0=I[0][1],N.y0=I[0][2],N.x1=I[2][1],N.y1=I[2][2];else if(I&&"drawline"===A)N.type="line",N.x0=I[0][1],N.y0=I[0][2],N.x1=I[1][1],N.y1=I[1][2];else if(I&&"drawcircle"===A){N.type="circle";var j=I[s][1],L=I[u][1],R=I[l][1],F=I[c][1],z=I[s][2],U=I[u][2],q=I[l][2],B=I[c][2],V=y.xaxis&&("date"===y.xaxis.type||"log"===y.xaxis.type),H=y.yaxis&&("date"===y.yaxis.type||"log"===y.yaxis.type);V&&(j=v(y.xaxis,j),L=v(y.xaxis,L),R=v(y.xaxis,R),F=v(y.xaxis,F)),H&&(z=v(y.yaxis,z),U=v(y.yaxis,U),q=v(y.yaxis,q),B=v(y.yaxis,B));var W=(L+F)/2,Y=(z+q)/2,G=_({x0:W,y0:Y,x1:W+(F-L+R-j)/2*f,y1:Y+(B-U+q-z)/2*h});V&&(G.x0=p(y.xaxis,G.x0),G.x1=p(y.xaxis,G.x1)),H&&(G.y0=p(y.yaxis,G.y0),G.y1=p(y.yaxis,G.y1)),N.x0=G.x0,N.y0=G.y0,N.x1=G.x1,N.y1=G.y1}else N.type="path",x&&T&&w(P,x,T),N.path=b(P),I=null;g(o);for(var K=t.editHelpers,X=(K||{}).modifyItem,$=[],Q=0;Q<E.length;Q++){var J=o._fullLayout.shapes[Q];if($[Q]=J._input,void 0!==S&&Q===o._fullLayout._activeShapeIndex){var Z=N;switch(J.type){case"line":case"rect":case"circle":X("x0",Z.x0),X("x1",Z.x1),X("y0",Z.y0),X("y1",Z.y1);break;case"path":X("path",Z.path)}}}return void 0===S?($.push(N),$):K?K.getUpdateObj():{}}}}},{"../../../plots/cartesian/handle_outline":287,"../../../plots/cartesian/helpers":288,"../../dragelement/helpers":118,"./constants":186,"./helpers":189}],191:[function(e,t,n){"use strict";var r=e("./constants"),i=e("../../lib");n.rangeToShapePosition=function(e){return"log"===e.type?e.r2d:function(e){return e}},n.shapePositionToRange=function(e){return"log"===e.type?e.d2r:function(e){return e}},n.decodeDate=function(e){return function(t){return t.replace&&(t=t.replace("_"," ")),e(t)}},n.encodeDate=function(e){return function(t){return e(t).replace(" ","_")}},n.extractPathCoords=function(e,t){var n=[];return e.match(r.segmentRE).forEach((function(e){var a=t[e.charAt(0)].drawn;if(void 0!==a){var o=e.substr(1).match(r.paramRE);!o||o.length<a||n.push(i.cleanNumber(o[a]))}})),n},n.getDataToPixel=function(e,t,r,i){var a,o=e._fullLayout._size;if(t)if("domain"===i)a=function(e){return t._length*(r?1-e:e)+t._offset};else{var s=n.shapePositionToRange(t);a=function(e){return t._offset+t.r2p(s(e,!0))},"date"===t.type&&(a=n.decodeDate(a))}else a=r?function(e){return o.t+o.h*(1-e)}:function(e){return o.l+o.w*e};return a},n.getPixelToData=function(e,t,r,i){var a,o=e._fullLayout._size;if(t)if("domain"===i)a=function(e){var n=(e-t._offset)/t._length;return r?1-n:n};else{var s=n.rangeToShapePosition(t);a=function(e){return s(t.p2r(e-t._offset))}}else a=r?function(e){return 1-(e-o.t)/o.h}:function(e){return(e-o.l)/o.w};return a},n.roundPositionForSharpStrokeRendering=function(e,t){var n=1===Math.round(t%2),r=Math.round(e);return n?r+.5:r},n.makeOptionsAndPlotinfo=function(e,t){var n=e._fullLayout.shapes[t]||{},r=e._fullLayout._plots[n.xref+n.yref];return r?r._hadPlotinfo=!0:(r={},n.xref&&"paper"!==n.xref&&(r.xaxis=e._fullLayout[n.xref+"axis"]),n.yref&&"paper"!==n.yref&&(r.yaxis=e._fullLayout[n.yref+"axis"])),r.xsizemode=n.xsizemode,r.ysizemode=n.ysizemode,r.xanchor=n.xanchor,r.yanchor=n.yanchor,{options:n,plotinfo:r}}},{"../../lib":230,"./constants":182}],192:[function(e,t,n){"use strict";var r=e("./draw");t.exports={moduleType:"component",name:"shapes",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),supplyDrawNewShapeDefaults:e("./draw_newshape/defaults"),includeBasePlot:e("../../plots/cartesian/include_components")("shapes"),calcAutorange:e("./calc_autorange"),draw:r.draw,drawOne:r.drawOne}},{"../../plots/cartesian/include_components":289,"./attributes":180,"./calc_autorange":181,"./defaults":183,"./draw":184,"./draw_newshape/defaults":187}],193:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),i=e("../../plots/pad_attributes"),a=e("../../lib/extend").extendDeepAll,o=e("../../plot_api/edit_types").overrideAll,s=e("../../plots/animation_attributes"),u=e("../../plot_api/plot_template").templatedArray,l=e("./constants"),c=u("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});t.exports=o(u("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:c,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:a(i({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:s.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:r({})},font:r({}),activebgcolor:{valType:"color",dflt:l.gripBgActiveColor},bgcolor:{valType:"color",dflt:l.railBgColor},bordercolor:{valType:"color",dflt:l.railBorderColor},borderwidth:{valType:"number",min:0,dflt:l.railBorderWidth},ticklen:{valType:"number",min:0,dflt:l.tickLength},tickcolor:{valType:"color",dflt:l.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:l.minorTickLength}}),"arraydraw","from-root")},{"../../lib/extend":224,"../../plot_api/edit_types":258,"../../plot_api/plot_template":265,"../../plots/animation_attributes":270,"../../plots/font_attributes":305,"../../plots/pad_attributes":310,"./constants":194}],194:[function(e,t,n){"use strict";t.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},{}],195:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/array_container_defaults"),a=e("./attributes"),o=e("./constants").name,s=a.steps;function u(e,t,n){function o(n,i){return r.coerce(e,t,a,n,i)}for(var s=i(e,t,{name:"steps",handleItemDefaults:l}),u=0,c=0;c<s.length;c++)s[c].visible&&u++;if(u<2?t.visible=!1:o("visible")){t._stepCount=u;var f=t._visibleSteps=r.filterVisible(s);(s[o("active")]||{}).visible||(t.active=f[0]._index),o("x"),o("y"),r.noneOrAll(e,t,["x","y"]),o("xanchor"),o("yanchor"),o("len"),o("lenmode"),o("pad.t"),o("pad.r"),o("pad.b"),o("pad.l"),r.coerceFont(o,"font",n.font),o("currentvalue.visible")&&(o("currentvalue.xanchor"),o("currentvalue.prefix"),o("currentvalue.suffix"),o("currentvalue.offset"),r.coerceFont(o,"currentvalue.font",t.font)),o("transition.duration"),o("transition.easing"),o("bgcolor"),o("activebgcolor"),o("bordercolor"),o("borderwidth"),o("ticklen"),o("tickwidth"),o("tickcolor"),o("minorticklen")}}function l(e,t){function n(n,i){return r.coerce(e,t,s,n,i)}if("skip"===e.method||Array.isArray(e.args)?n("visible"):t.visible=!1){n("method"),n("args");var i=n("label","step-"+t._index);n("value",i),n("execute")}}t.exports=function(e,t){i(e,t,{name:o,handleItemDefaults:u})}},{"../../lib":230,"../../plots/array_container_defaults":271,"./attributes":193,"./constants":194}],196:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../../plots/plots"),a=e("../color"),o=e("../drawing"),s=e("../../lib"),u=s.strTranslate,l=e("../../lib/svg_text_utils"),c=e("../../plot_api/plot_template").arrayEditor,f=e("./constants"),h=e("../../constants/alignment"),d=h.LINE_SPACING,p=h.FROM_TL,v=h.FROM_BR;function g(e){return f.autoMarginIdRoot+e._index}function y(e,t){for(var n=e[f.name],r=[],i=0;i<n.length;i++){var a=n[i];a.visible&&(a._gd=t,r.push(a))}return r}function m(e){return e._index}function b(e,t){var n=o.tester.selectAll("g."+f.labelGroupClass).data(t._visibleSteps);n.enter().append("g").classed(f.labelGroupClass,!0);var a=0,u=0;n.each((function(e){var n=T(r.select(this),{step:e},t).node();if(n){var i=o.bBox(n);u=Math.max(u,i.height),a=Math.max(a,i.width)}})),n.remove();var c=t._dims={};c.inputAreaWidth=Math.max(f.railWidth,f.gripHeight);var h=e._fullLayout._size;c.lx=h.l+h.w*t.x,c.ly=h.t+h.h*(1-t.y),"fraction"===t.lenmode?c.outerLength=Math.round(h.w*t.len):c.outerLength=t.len,c.inputAreaStart=0,c.inputAreaLength=Math.round(c.outerLength-t.pad.l-t.pad.r);var d=(c.inputAreaLength-2*f.stepInset)/(t._stepCount-1),y=a+f.labelPadding;if(c.labelStride=Math.max(1,Math.ceil(y/d)),c.labelHeight=u,c.currentValueMaxWidth=0,c.currentValueHeight=0,c.currentValueTotalHeight=0,c.currentValueMaxLines=1,t.currentvalue.visible){var m=o.tester.append("g");n.each((function(e){var n=w(m,t,e.label),r=n.node()&&o.bBox(n.node())||{width:0,height:0},i=l.lineCount(n);c.currentValueMaxWidth=Math.max(c.currentValueMaxWidth,Math.ceil(r.width)),c.currentValueHeight=Math.max(c.currentValueHeight,Math.ceil(r.height)),c.currentValueMaxLines=Math.max(c.currentValueMaxLines,i)})),c.currentValueTotalHeight=c.currentValueHeight+t.currentvalue.offset,m.remove()}c.height=c.currentValueTotalHeight+f.tickOffset+t.ticklen+f.labelOffset+c.labelHeight+t.pad.t+t.pad.b;var b="left";s.isRightAnchor(t)&&(c.lx-=c.outerLength,b="right"),s.isCenterAnchor(t)&&(c.lx-=c.outerLength/2,b="center");var _="top";s.isBottomAnchor(t)&&(c.ly-=c.height,_="bottom"),s.isMiddleAnchor(t)&&(c.ly-=c.height/2,_="middle"),c.outerLength=Math.ceil(c.outerLength),c.height=Math.ceil(c.height),c.lx=Math.round(c.lx),c.ly=Math.round(c.ly);var x={y:t.y,b:c.height*v[_],t:c.height*p[_]};"fraction"===t.lenmode?(x.l=0,x.xl=t.x-t.len*p[b],x.r=0,x.xr=t.x+t.len*v[b]):(x.x=t.x,x.l=c.outerLength*p[b],x.r=c.outerLength*v[b]),i.autoMargin(e,g(t),x)}function _(e,t,n){(n.steps[n.active]||{}).visible||(n.active=n._visibleSteps[0]._index),t.call(w,n).call(N,n).call(k,n).call(E,n).call(P,e,n).call(x,e,n);var r=n._dims;o.setTranslate(t,r.lx+n.pad.l,r.ly+n.pad.t),t.call(M,n,!1),t.call(w,n)}function w(e,t,n){if(t.currentvalue.visible){var r,i,a=t._dims;switch(t.currentvalue.xanchor){case"right":r=a.inputAreaLength-f.currentValueInset-a.currentValueMaxWidth,i="left";break;case"center":r=.5*a.inputAreaLength,i="middle";break;default:r=f.currentValueInset,i="left"}var u=s.ensureSingle(e,"text",f.labelClass,(function(e){e.attr({"text-anchor":i,"data-notex":1})})),c=t.currentvalue.prefix?t.currentvalue.prefix:"";if("string"===typeof n)c+=n;else{var h=t.steps[t.active].label,p=t._gd._fullLayout._meta;p&&(h=s.templateString(h,p)),c+=h}t.currentvalue.suffix&&(c+=t.currentvalue.suffix),u.call(o.font,t.currentvalue.font).text(c).call(l.convertToTspans,t._gd);var v=l.lineCount(u),g=(a.currentValueMaxLines+1-v)*t.currentvalue.font.size*d;return l.positionText(u,r,g),u}}function x(e,t,n){s.ensureSingle(e,"rect",f.gripRectClass,(function(r){r.call(A,t,e,n).style("pointer-events","all")})).attr({width:f.gripWidth,height:f.gripHeight,rx:f.gripRadius,ry:f.gripRadius}).call(a.stroke,n.bordercolor).call(a.fill,n.bgcolor).style("stroke-width",n.borderwidth+"px")}function T(e,t,n){var r=s.ensureSingle(e,"text",f.labelClass,(function(e){e.attr({"text-anchor":"middle","data-notex":1})})),i=t.step.label,a=n._gd._fullLayout._meta;return a&&(i=s.templateString(i,a)),r.call(o.font,n.font).text(i).call(l.convertToTspans,n._gd),r}function k(e,t){var n=s.ensureSingle(e,"g",f.labelsClass),i=t._dims,a=n.selectAll("g."+f.labelGroupClass).data(i.labelSteps);a.enter().append("g").classed(f.labelGroupClass,!0),a.exit().remove(),a.each((function(e){var n=r.select(this);n.call(T,e,t),o.setTranslate(n,I(t,e.fraction),f.tickOffset+t.ticklen+t.font.size*d+f.labelOffset+i.currentValueTotalHeight)}))}function O(e,t,n,r,i){var a=Math.round(r*(n._stepCount-1)),o=n._visibleSteps[a]._index;o!==n.active&&S(e,t,n,o,!0,i)}function S(e,t,n,r,a,o){var s=n.active;n.active=r,c(e.layout,f.name,n).applyUpdate("active",r);var u=n.steps[n.active];t.call(M,n,o),t.call(w,n),e.emit("plotly_sliderchange",{slider:n,step:n.steps[n.active],interaction:a,previousActive:s}),u&&u.method&&a&&(t._nextMethod?(t._nextMethod.step=u,t._nextMethod.doCallback=a,t._nextMethod.doTransition=o):(t._nextMethod={step:u,doCallback:a,doTransition:o},t._nextMethodRaf=window.requestAnimationFrame((function(){var n=t._nextMethod.step;n.method&&(n.execute&&i.executeAPICommand(e,n.method,n.args),t._nextMethod=null,t._nextMethodRaf=null)}))))}function A(e,t,n){var i=n.node(),o=r.select(t);function s(){return n.data()[0]}e.on("mousedown",(function(){var e=s();t.emit("plotly_sliderstart",{slider:e});var u=n.select("."+f.gripRectClass);r.event.stopPropagation(),r.event.preventDefault(),u.call(a.fill,e.activebgcolor);var l=D(e,r.mouse(i)[0]);O(t,n,e,l,!0),e._dragging=!0,o.on("mousemove",(function(){var e=s(),a=D(e,r.mouse(i)[0]);O(t,n,e,a,!1)})),o.on("mouseup",(function(){var e=s();e._dragging=!1,u.call(a.fill,e.bgcolor),o.on("mouseup",null),o.on("mousemove",null),t.emit("plotly_sliderend",{slider:e,step:e.steps[e.active]})}))}))}function E(e,t){var n=e.selectAll("rect."+f.tickRectClass).data(t._visibleSteps),i=t._dims;n.enter().append("rect").classed(f.tickRectClass,!0),n.exit().remove(),n.attr({width:t.tickwidth+"px","shape-rendering":"crispEdges"}),n.each((function(e,n){var s=n%i.labelStride===0,u=r.select(this);u.attr({height:s?t.ticklen:t.minorticklen}).call(a.fill,t.tickcolor),o.setTranslate(u,I(t,n/(t._stepCount-1))-.5*t.tickwidth,(s?f.tickOffset:f.minorTickOffset)+i.currentValueTotalHeight)}))}function C(e){var t=e._dims;t.labelSteps=[];for(var n=e._stepCount,r=0;r<n;r+=t.labelStride)t.labelSteps.push({fraction:r/(n-1),step:e._visibleSteps[r]})}function M(e,t,n){for(var r=e.select("rect."+f.gripRectClass),i=0,a=0;a<t._stepCount;a++)if(t._visibleSteps[a]._index===t.active){i=a;break}var o=I(t,i/(t._stepCount-1));if(!t._invokingCommand){var s=r;n&&t.transition.duration>0&&(s=s.transition().duration(t.transition.duration).ease(t.transition.easing)),s.attr("transform",u(o-.5*f.gripWidth,t._dims.currentValueTotalHeight))}}function I(e,t){var n=e._dims;return n.inputAreaStart+f.stepInset+(n.inputAreaLength-2*f.stepInset)*Math.min(1,Math.max(0,t))}function D(e,t){var n=e._dims;return Math.min(1,Math.max(0,(t-f.stepInset-n.inputAreaStart)/(n.inputAreaLength-2*f.stepInset-2*n.inputAreaStart)))}function P(e,t,n){var r=n._dims,i=s.ensureSingle(e,"rect",f.railTouchRectClass,(function(r){r.call(A,t,e,n).style("pointer-events","all")}));i.attr({width:r.inputAreaLength,height:Math.max(r.inputAreaWidth,f.tickOffset+n.ticklen+r.labelHeight)}).call(a.fill,n.bgcolor).attr("opacity",0),o.setTranslate(i,0,r.currentValueTotalHeight)}function N(e,t){var n=t._dims,r=n.inputAreaLength-2*f.railInset,i=s.ensureSingle(e,"rect",f.railRectClass);i.attr({width:r,height:f.railWidth,rx:f.railRadius,ry:f.railRadius,"shape-rendering":"crispEdges"}).call(a.stroke,t.bordercolor).call(a.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px"),o.setTranslate(i,f.railInset,.5*(n.inputAreaWidth-f.railWidth)+n.currentValueTotalHeight)}t.exports=function(e){var t=e._fullLayout,n=y(t,e),a=t._infolayer.selectAll("g."+f.containerClassName).data(n.length>0?[0]:[]);function o(t){t._commandObserver&&(t._commandObserver.remove(),delete t._commandObserver),i.autoMargin(e,g(t))}if(a.enter().append("g").classed(f.containerClassName,!0).style("cursor","ew-resize"),a.exit().each((function(){r.select(this).selectAll("g."+f.groupClassName).each(o)})).remove(),0!==n.length){var s=a.selectAll("g."+f.groupClassName).data(n,m);s.enter().append("g").classed(f.groupClassName,!0),s.exit().each(o).remove();for(var u=0;u<n.length;u++){var l=n[u];b(e,l)}s.each((function(t){var n=r.select(this);C(t),i.manageCommandObserver(e,t,t._visibleSteps,(function(t){var r=n.data()[0];r.active!==t.index&&(r._dragging||S(e,n,r,t.index,!1,!0))})),_(e,r.select(this),t)}))}}},{"../../constants/alignment":205,"../../lib":230,"../../lib/svg_text_utils":252,"../../plot_api/plot_template":265,"../../plots/plots":311,"../color":100,"../drawing":122,"./constants":194,"@plotly/d3":11}],197:[function(e,t,n){"use strict";var r=e("./constants");t.exports={moduleType:"component",name:r.name,layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),draw:e("./draw")}},{"./attributes":193,"./constants":194,"./defaults":195,"./draw":196}],198:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("fast-isnumeric"),a=e("../../plots/plots"),o=e("../../registry"),s=e("../../lib"),u=s.strTranslate,l=e("../drawing"),c=e("../color"),f=e("../../lib/svg_text_utils"),h=e("../../constants/interactions"),d=e("../../constants/alignment").OPPOSITE_SIDE,p=/ [XY][0-9]* /;function v(e,t,n){var v,g=n.propContainer,y=n.propName,m=n.placeholder,b=n.traceIndex,_=n.avoid||{},w=n.attributes,x=n.transform,T=n.containerGroup,k=e._fullLayout,O=1,S=!1,A=g.title,E=(A&&A.text?A.text:"").trim(),C=A&&A.font?A.font:{},M=C.family,I=C.size,D=C.color;"title.text"===y?v="titleText":-1!==y.indexOf("axis")?v="axisTitleText":y.indexOf(!0)&&(v="colorbarTitleText");var P=e._context.edits[v];""===E?O=0:E.replace(p," % ")===m.replace(p," % ")&&(O=.2,S=!0,P||(E="")),n._meta?E=s.templateString(E,n._meta):k._meta&&(E=s.templateString(E,k._meta));var N=E||P;T||(T=s.ensureSingle(k._infolayer,"g","g-"+t));var j=T.selectAll("text").data(N?[0]:[]);if(j.enter().append("text"),j.text(E).attr("class",t),j.exit().remove(),!N)return T;function L(e){s.syncOrAsync([R,F],e)}function R(t){var n;return x?(n="",x.rotate&&(n+="rotate("+[x.rotate,w.x,w.y]+")"),x.offset&&(n+=u(0,x.offset))):n=null,t.attr("transform",n),t.style({"font-family":M,"font-size":r.round(I,2)+"px",fill:c.rgb(D),opacity:O*c.opacity(D),"font-weight":a.fontWeight}).attr(w).call(f.convertToTspans,e),a.previousPromises(e)}function F(e){var t=r.select(e.node().parentNode);if(_&&_.selection&&_.side&&E){t.attr("transform",null);var n=d[_.side],a="left"===_.side||"top"===_.side?-1:1,o=i(_.pad)?_.pad:2,c=l.bBox(t.node()),f={left:0,top:0,right:k.width,bottom:k.height},h=_.maxShift||a*(f[_.side]-c[_.side]),p=0;if(h<0)p=h;else{var v=_.offsetLeft||0,g=_.offsetTop||0;c.left-=v,c.right-=v,c.top-=g,c.bottom-=g,_.selection.each((function(){var e=l.bBox(this);s.bBoxIntersect(c,e,o)&&(p=Math.max(p,a*(e[_.side]-c[n])+o))})),p=Math.min(h,p)}if(p>0||h<0){var y={left:[-p,0],right:[p,0],top:[0,-p],bottom:[0,p]}[_.side];t.attr("transform",u(y[0],y[1]))}}}function z(){O=0,S=!0,j.text(m).on("mouseover.opacity",(function(){r.select(this).transition().duration(h.SHOW_PLACEHOLDER).style("opacity",1)})).on("mouseout.opacity",(function(){r.select(this).transition().duration(h.HIDE_PLACEHOLDER).style("opacity",0)}))}return j.call(L),P&&(E?j.on(".opacity",null):z(),j.call(f.makeEditable,{gd:e}).on("edit",(function(t){void 0!==b?o.call("_guiRestyle",e,y,t,b):o.call("_guiRelayout",e,y,t)})).on("cancel",(function(){this.text(this.attr("data-unformatted")).call(L)})).on("input",(function(e){this.text(e||" ").call(f.positionText,w.x,w.y)}))),j.classed("js-placeholder",S),T}t.exports={draw:v}},{"../../constants/alignment":205,"../../constants/interactions":209,"../../lib":230,"../../lib/svg_text_utils":252,"../../plots/plots":311,"../../registry":313,"../color":100,"../drawing":122,"@plotly/d3":11,"fast-isnumeric":15}],199:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),i=e("../color/attributes"),a=e("../../lib/extend").extendFlat,o=e("../../plot_api/edit_types").overrideAll,s=e("../../plots/pad_attributes"),u=e("../../plot_api/plot_template").templatedArray,l=u("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});t.exports=o(u("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:l,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:a(s({editType:"arraydraw"}),{}),font:r({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:i.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},{"../../lib/extend":224,"../../plot_api/edit_types":258,"../../plot_api/plot_template":265,"../../plots/font_attributes":305,"../../plots/pad_attributes":310,"../color/attributes":99}],200:[function(e,t,n){"use strict";t.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25c4",right:"\u25ba",up:"\u25b2",down:"\u25bc"}}},{}],201:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/array_container_defaults"),a=e("./attributes"),o=e("./constants").name,s=a.buttons;function u(e,t,n){function o(n,i){return r.coerce(e,t,a,n,i)}o("visible",i(e,t,{name:"buttons",handleItemDefaults:l}).length>0)&&(o("active"),o("direction"),o("type"),o("showactive"),o("x"),o("y"),r.noneOrAll(e,t,["x","y"]),o("xanchor"),o("yanchor"),o("pad.t"),o("pad.r"),o("pad.b"),o("pad.l"),r.coerceFont(o,"font",n.font),o("bgcolor",n.paper_bgcolor),o("bordercolor"),o("borderwidth"))}function l(e,t){function n(n,i){return r.coerce(e,t,s,n,i)}n("visible","skip"===e.method||Array.isArray(e.args))&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}t.exports=function(e,t){i(e,t,{name:o,handleItemDefaults:u})}},{"../../lib":230,"../../plots/array_container_defaults":271,"./attributes":199,"./constants":200}],202:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../../plots/plots"),a=e("../color"),o=e("../drawing"),s=e("../../lib"),u=e("../../lib/svg_text_utils"),l=e("../../plot_api/plot_template").arrayEditor,c=e("../../constants/alignment").LINE_SPACING,f=e("./constants"),h=e("./scrollbox");function d(e){return e._index}function p(e){return-1===+e.attr(f.menuIndexAttrName)}function v(e,t){return+e.attr(f.menuIndexAttrName)===t._index}function g(e,t,n,r,i,a,o,s){t.active=o,l(e.layout,f.name,t).applyUpdate("active",o),"buttons"===t.type?m(e,r,null,null,t):"dropdown"===t.type&&(i.attr(f.menuIndexAttrName,"-1"),y(e,r,i,a,t),s||m(e,r,i,a,t))}function y(e,t,n,r,i){var a=s.ensureSingle(t,"g",f.headerClassName,(function(e){e.style("pointer-events","all")})),u=i._dims,l=i.active,c=i.buttons[l]||f.blankHeaderOpts,h={y:i.pad.t,yPad:0,x:i.pad.l,xPad:0,index:0},d={width:u.headerWidth,height:u.headerHeight};a.call(w,i,c,e).call(C,i,h,d),s.ensureSingle(t,"text",f.headerArrowClassName,(function(e){e.attr("text-anchor","end").call(o.font,i.font).text(f.arrowSymbol[i.direction])})).attr({x:u.headerWidth-f.arrowOffsetX+i.pad.l,y:u.headerHeight/2+f.textOffsetY+i.pad.t}),a.on("click",(function(){n.call(M,String(v(n,i)?-1:i._index)),m(e,t,n,r,i)})),a.on("mouseover",(function(){a.call(O)})),a.on("mouseout",(function(){a.call(S,i)})),o.setTranslate(t,u.lx,u.ly)}function m(e,t,n,a,o){n||(n=t).attr("pointer-events","all");var u=p(n)&&"buttons"!==o.type?[]:o.buttons,l="dropdown"===o.type?f.dropdownButtonClassName:f.buttonClassName,c=n.selectAll("g."+l).data(s.filterVisible(u)),h=c.enter().append("g").classed(l,!0),d=c.exit();"dropdown"===o.type?(h.attr("opacity","0").transition().attr("opacity","1"),d.transition().attr("opacity","0").remove()):d.remove();var v=0,y=0,m=o._dims,x=-1!==["up","down"].indexOf(o.direction);"dropdown"===o.type&&(x?y=m.headerHeight+f.gapButtonHeader:v=m.headerWidth+f.gapButtonHeader),"dropdown"===o.type&&"up"===o.direction&&(y=-f.gapButtonHeader+f.gapButton-m.openHeight),"dropdown"===o.type&&"left"===o.direction&&(v=-f.gapButtonHeader+f.gapButton-m.openWidth);var T={x:m.lx+v+o.pad.l,y:m.ly+y+o.pad.t,yPad:f.gapButton,xPad:f.gapButton,index:0},A={l:T.x+o.borderwidth,t:T.y+o.borderwidth};c.each((function(s,u){var l=r.select(this);l.call(w,o,s,e).call(C,o,T),l.on("click",(function(){r.event.defaultPrevented||(s.execute&&(s.args2&&o.active===u?(g(e,o,s,t,n,a,-1),i.executeAPICommand(e,s.method,s.args2)):(g(e,o,s,t,n,a,u),i.executeAPICommand(e,s.method,s.args))),e.emit("plotly_buttonclicked",{menu:o,button:s,active:o.active}))})),l.on("mouseover",(function(){l.call(O)})),l.on("mouseout",(function(){l.call(S,o),c.call(k,o)}))})),c.call(k,o),x?(A.w=Math.max(m.openWidth,m.headerWidth),A.h=T.y-A.t):(A.w=T.x-A.l,A.h=Math.max(m.openHeight,m.headerHeight)),A.direction=o.direction,a&&(c.size()?b(e,t,n,a,o,A):_(a))}function b(e,t,n,r,i,a){var o,s,u,l=i.direction,c="up"===l||"down"===l,h=i._dims,d=i.active;if(c)for(s=0,u=0;u<d;u++)s+=h.heights[u]+f.gapButton;else for(o=0,u=0;u<d;u++)o+=h.widths[u]+f.gapButton;r.enable(a,o,s),r.hbar&&r.hbar.attr("opacity","0").transition().attr("opacity","1"),r.vbar&&r.vbar.attr("opacity","0").transition().attr("opacity","1")}function _(e){var t=!!e.hbar,n=!!e.vbar;t&&e.hbar.transition().attr("opacity","0").each("end",(function(){t=!1,n||e.disable()})),n&&e.vbar.transition().attr("opacity","0").each("end",(function(){n=!1,t||e.disable()}))}function w(e,t,n,r){e.call(x,t).call(T,t,n,r)}function x(e,t){s.ensureSingle(e,"rect",f.itemRectClassName,(function(e){e.attr({rx:f.rx,ry:f.ry,"shape-rendering":"crispEdges"})})).call(a.stroke,t.bordercolor).call(a.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px")}function T(e,t,n,r){var i=s.ensureSingle(e,"text",f.itemTextClassName,(function(e){e.attr({"text-anchor":"start","data-notex":1})})),a=n.label,l=r._fullLayout._meta;l&&(a=s.templateString(a,l)),i.call(o.font,t.font).text(a).call(u.convertToTspans,r)}function k(e,t){var n=t.active;e.each((function(e,i){var o=r.select(this);i===n&&t.showactive&&o.select("rect."+f.itemRectClassName).call(a.fill,f.activeColor)}))}function O(e){e.select("rect."+f.itemRectClassName).call(a.fill,f.hoverColor)}function S(e,t){e.select("rect."+f.itemRectClassName).call(a.fill,t.bgcolor)}function A(e,t){var n=t._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},a=o.tester.selectAll("g."+f.dropdownButtonClassName).data(s.filterVisible(t.buttons));a.enter().append("g").classed(f.dropdownButtonClassName,!0);var l=-1!==["up","down"].indexOf(t.direction);a.each((function(i,a){var s=r.select(this);s.call(w,t,i,e);var h=s.select("."+f.itemTextClassName),d=h.node()&&o.bBox(h.node()).width,p=Math.max(d+f.textPadX,f.minWidth),v=t.font.size*c,g=u.lineCount(h),y=Math.max(v*g,f.minHeight)+f.textOffsetY;y=Math.ceil(y),p=Math.ceil(p),n.widths[a]=p,n.heights[a]=y,n.height1=Math.max(n.height1,y),n.width1=Math.max(n.width1,p),l?(n.totalWidth=Math.max(n.totalWidth,p),n.openWidth=n.totalWidth,n.totalHeight+=y+f.gapButton,n.openHeight+=y+f.gapButton):(n.totalWidth+=p+f.gapButton,n.openWidth+=p+f.gapButton,n.totalHeight=Math.max(n.totalHeight,y),n.openHeight=n.totalHeight)})),l?n.totalHeight-=f.gapButton:n.totalWidth-=f.gapButton,n.headerWidth=n.width1+f.arrowPadX,n.headerHeight=n.height1,"dropdown"===t.type&&(l?(n.width1+=f.arrowPadX,n.totalHeight=n.height1):n.totalWidth=n.width1,n.totalWidth+=f.arrowPadX),a.remove();var h=n.totalWidth+t.pad.l+t.pad.r,d=n.totalHeight+t.pad.t+t.pad.b,p=e._fullLayout._size;n.lx=p.l+p.w*t.x,n.ly=p.t+p.h*(1-t.y);var v="left";s.isRightAnchor(t)&&(n.lx-=h,v="right"),s.isCenterAnchor(t)&&(n.lx-=h/2,v="center");var g="top";s.isBottomAnchor(t)&&(n.ly-=d,g="bottom"),s.isMiddleAnchor(t)&&(n.ly-=d/2,g="middle"),n.totalWidth=Math.ceil(n.totalWidth),n.totalHeight=Math.ceil(n.totalHeight),n.lx=Math.round(n.lx),n.ly=Math.round(n.ly),i.autoMargin(e,E(t),{x:t.x,y:t.y,l:h*({right:1,center:.5}[v]||0),r:h*({left:1,center:.5}[v]||0),b:d*({top:1,middle:.5}[g]||0),t:d*({bottom:1,middle:.5}[g]||0)})}function E(e){return f.autoMarginIdRoot+e._index}function C(e,t,n,r){r=r||{};var i=e.select("."+f.itemRectClassName),a=e.select("."+f.itemTextClassName),s=t.borderwidth,l=n.index,h=t._dims;o.setTranslate(e,s+n.x,s+n.y);var d=-1!==["up","down"].indexOf(t.direction),p=r.height||(d?h.heights[l]:h.height1);i.attr({x:0,y:0,width:r.width||(d?h.width1:h.widths[l]),height:p});var v=t.font.size*c,g=(u.lineCount(a)-1)*v/2;u.positionText(a,f.textOffsetX,p/2-g+f.textOffsetY),d?n.y+=h.heights[l]+n.yPad:n.x+=h.widths[l]+n.xPad,n.index++}function M(e,t){e.attr(f.menuIndexAttrName,t||"-1").selectAll("g."+f.dropdownButtonClassName).remove()}t.exports=function(e){var t=e._fullLayout,n=s.filterVisible(t[f.name]);function a(t){i.autoMargin(e,E(t))}var o=t._menulayer.selectAll("g."+f.containerClassName).data(n.length>0?[0]:[]);if(o.enter().append("g").classed(f.containerClassName,!0).style("cursor","pointer"),o.exit().each((function(){r.select(this).selectAll("g."+f.headerGroupClassName).each(a)})).remove(),0!==n.length){var u=o.selectAll("g."+f.headerGroupClassName).data(n,d);u.enter().append("g").classed(f.headerGroupClassName,!0);for(var l=s.ensureSingle(o,"g",f.dropdownButtonGroupClassName,(function(e){e.style("pointer-events","all")})),c=0;c<n.length;c++){var p=n[c];A(e,p)}var b="updatemenus"+t._uid,_=new h(e,l,b);u.enter().size()&&(l.node().parentNode.appendChild(l.node()),l.call(M)),u.exit().each((function(e){l.call(M),a(e)})).remove(),u.each((function(t){var n=r.select(this),a="dropdown"===t.type?l:null;i.manageCommandObserver(e,t,t.buttons,(function(r){g(e,t,t.buttons[r.index],n,a,_,r.index,!0)})),"dropdown"===t.type?(y(e,n,l,_,t),v(l,t)&&m(e,n,l,_,t)):m(e,n,null,null,t)}))}}},{"../../constants/alignment":205,"../../lib":230,"../../lib/svg_text_utils":252,"../../plot_api/plot_template":265,"../../plots/plots":311,"../color":100,"../drawing":122,"./constants":200,"./scrollbox":204,"@plotly/d3":11}],203:[function(e,t,n){arguments[4][197][0].apply(n,arguments)},{"./attributes":199,"./constants":200,"./defaults":201,"./draw":202,dup:197}],204:[function(e,t,n){"use strict";t.exports=s;var r=e("@plotly/d3"),i=e("../color"),a=e("../drawing"),o=e("../../lib");function s(e,t,n){this.gd=e,this.container=t,this.id=n,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}s.barWidth=2,s.barLength=20,s.barRadius=2,s.barPad=1,s.barColor="#808BA4",s.prototype.enable=function(e,t,n){var o=this.gd._fullLayout,u=o.width,l=o.height;this.position=e;var c,f,h,d,p=this.position.l,v=this.position.w,g=this.position.t,y=this.position.h,m=this.position.direction,b="down"===m,_="left"===m,w="up"===m,x=v,T=y;b||_||"right"===m||w||(this.position.direction="down",b=!0),b||w?(f=(c=p)+x,b?(h=g,T=(d=Math.min(h+T,l))-h):T=(d=g+T)-(h=Math.max(d-T,0))):(d=(h=g)+T,_?x=(f=p+x)-(c=Math.max(f-x,0)):(c=p,x=(f=Math.min(c+x,u))-c)),this._box={l:c,t:h,w:x,h:T};var k=v>x,O=s.barLength+2*s.barPad,S=s.barWidth+2*s.barPad,A=p,E=g+y;E+S>l&&(E=l-S);var C=this.container.selectAll("rect.scrollbar-horizontal").data(k?[0]:[]);C.exit().on(".drag",null).remove(),C.enter().append("rect").classed("scrollbar-horizontal",!0).call(i.fill,s.barColor),k?(this.hbar=C.attr({rx:s.barRadius,ry:s.barRadius,x:A,y:E,width:O,height:S}),this._hbarXMin=A+O/2,this._hbarTranslateMax=x-O):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var M=y>T,I=s.barWidth+2*s.barPad,D=s.barLength+2*s.barPad,P=p+v,N=g;P+I>u&&(P=u-I);var j=this.container.selectAll("rect.scrollbar-vertical").data(M?[0]:[]);j.exit().on(".drag",null).remove(),j.enter().append("rect").classed("scrollbar-vertical",!0).call(i.fill,s.barColor),M?(this.vbar=j.attr({rx:s.barRadius,ry:s.barRadius,x:P,y:N,width:I,height:D}),this._vbarYMin=N+D/2,this._vbarTranslateMax=T-D):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var L=this.id,R=c-.5,F=M?f+I+.5:f+.5,z=h-.5,U=k?d+S+.5:d+.5,q=o._topdefs.selectAll("#"+L).data(k||M?[0]:[]);if(q.exit().remove(),q.enter().append("clipPath").attr("id",L).append("rect"),k||M?(this._clipRect=q.select("rect").attr({x:Math.floor(R),y:Math.floor(z),width:Math.ceil(F)-Math.floor(R),height:Math.ceil(U)-Math.floor(z)}),this.container.call(a.setClipUrl,L,this.gd),this.bg.attr({x:p,y:g,width:v,height:y})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),k||M){var B=r.behavior.drag().on("dragstart",(function(){r.event.sourceEvent.preventDefault()})).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(B);var V=r.behavior.drag().on("dragstart",(function(){r.event.sourceEvent.preventDefault(),r.event.sourceEvent.stopPropagation()})).on("drag",this._onBarDrag.bind(this));k&&this.hbar.on(".drag",null).call(V),M&&this.vbar.on(".drag",null).call(V)}this.setTranslate(t,n)},s.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},s.prototype._onBoxDrag=function(){var e=this.translateX,t=this.translateY;this.hbar&&(e-=r.event.dx),this.vbar&&(t-=r.event.dy),this.setTranslate(e,t)},s.prototype._onBoxWheel=function(){var e=this.translateX,t=this.translateY;this.hbar&&(e+=r.event.deltaY),this.vbar&&(t+=r.event.deltaY),this.setTranslate(e,t)},s.prototype._onBarDrag=function(){var e=this.translateX,t=this.translateY;if(this.hbar){var n=e+this._hbarXMin,i=n+this._hbarTranslateMax;e=(o.constrain(r.event.x,n,i)-n)/(i-n)*(this.position.w-this._box.w)}if(this.vbar){var a=t+this._vbarYMin,s=a+this._vbarTranslateMax;t=(o.constrain(r.event.y,a,s)-a)/(s-a)*(this.position.h-this._box.h)}this.setTranslate(e,t)},s.prototype.setTranslate=function(e,t){var n=this.position.w-this._box.w,r=this.position.h-this._box.h;if(e=o.constrain(e||0,0,n),t=o.constrain(t||0,0,r),this.translateX=e,this.translateY=t,this.container.call(a.setTranslate,this._box.l-this.position.l-e,this._box.t-this.position.t-t),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+e-.5),y:Math.floor(this.position.t+t-.5)}),this.hbar){var i=e/n;this.hbar.call(a.setTranslate,e+i*this._hbarTranslateMax,t)}if(this.vbar){var s=t/r;this.vbar.call(a.setTranslate,e,t+s*this._vbarTranslateMax)}}},{"../../lib":230,"../color":100,"../drawing":122,"@plotly/d3":11}],205:[function(e,t,n){"use strict";t.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},{}],206:[function(e,t,n){"use strict";t.exports={axisRefDescription:function(e,t,n){return["If set to a",e,"axis id (e.g. *"+e+"* or","*"+e+"2*), the `"+e+"` position refers to a",e,"coordinate. If set to *paper*, the `"+e+"`","position refers to the distance from the",t,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",t,"("+n+"). If set to a",e,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",t,"of the domain of that axis: e.g.,","*"+e+"2 domain* refers to the domain of the second",e," axis and a",e,"position of 0.5 refers to the","point between the",t,"and the",n,"of the domain of the","second",e,"axis."].join(" ")}}},{}],207:[function(e,t,n){"use strict";t.exports={FORMAT_LINK:"https://github.com/d3/d3-3.x-api-reference/blob/master/Formatting.md#d3_format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format#locale_format"}},{}],208:[function(e,t,n){"use strict";t.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},{}],209:[function(e,t,n){"use strict";t.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},{}],210:[function(e,t,n){"use strict";t.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},{}],211:[function(e,t,n){"use strict";n.xmlns="http://www.w3.org/2000/xmlns/",n.svg="http://www.w3.org/2000/svg",n.xlink="http://www.w3.org/1999/xlink",n.svgAttrs={xmlns:n.svg,"xmlns:xlink":n.xlink}},{}],212:[function(e,t,n){"use strict";n.version=e("./version").version,e("native-promise-only"),e("../build/plotcss");for(var r=e("./registry"),i=n.register=r.register,a=e("./plot_api"),o=Object.keys(a),s=0;s<o.length;s++){var u=o[s];"_"!==u.charAt(0)&&(n[u]=a[u]),i({moduleType:"apiMethod",name:u,fn:a[u]})}i(e("./traces/scatter")),i([e("./components/legend"),e("./components/fx"),e("./components/annotations"),e("./components/annotations3d"),e("./components/shapes"),e("./components/images"),e("./components/updatemenus"),e("./components/sliders"),e("./components/rangeslider"),e("./components/rangeselector"),e("./components/grid"),e("./components/errorbars"),e("./components/colorscale"),e("./components/colorbar"),e("./components/modebar")]),i([e("./locale-en"),e("./locale-en-us")]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(i(window.PlotlyLocales),delete window.PlotlyLocales),n.Icons=e("./fonts/ploticon");var l=e("./components/fx"),c=e("./plots/plots");n.Plots={resize:c.resize,graphJson:c.graphJson,sendDataToCloud:c.sendDataToCloud},n.Fx={hover:l.hover,unhover:l.unhover,loneHover:l.loneHover,loneUnhover:l.loneUnhover},n.Snapshot=e("./snapshot"),n.PlotSchema=e("./plot_api/plot_schema")},{"../build/plotcss":1,"./components/annotations":91,"./components/annotations3d":96,"./components/colorbar":106,"./components/colorscale":112,"./components/errorbars":128,"./components/fx":140,"./components/grid":144,"./components/images":149,"./components/legend":157,"./components/modebar":163,"./components/rangeselector":171,"./components/rangeslider":178,"./components/shapes":192,"./components/sliders":197,"./components/updatemenus":203,"./fonts/ploticon":213,"./locale-en":256,"./locale-en-us":255,"./plot_api":260,"./plot_api/plot_schema":264,"./plots/plots":311,"./registry":313,"./snapshot":318,"./traces/scatter":365,"./version":386,"native-promise-only":52}],213:[function(e,t,n){"use strict";t.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'><defs><style>.cls-1 {fill: #3f4f75;} .cls-2 {fill: #80cfbe;} .cls-3 {fill: #fff;}</style></defs><title>plotly-logomark</title><g id='symbol'><rect class='cls-1' width='132' height='132' rx='6' ry='6'/><circle class='cls-2' cx='78' cy='54' r='6'/><circle class='cls-2' cx='102' cy='30' r='6'/><circle class='cls-2' cx='78' cy='30' r='6'/><circle class='cls-2' cx='54' cy='30' r='6'/><circle class='cls-2' cx='30' cy='30' r='6'/><circle class='cls-2' cx='30' cy='54' r='6'/><path class='cls-3' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/><path class='cls-3' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/><path class='cls-3' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/><path class='cls-3' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/></g></svg>"}}},{}],214:[function(e,t,n){"use strict";n.isLeftAnchor=function(e){return"left"===e.xanchor||"auto"===e.xanchor&&e.x<=1/3},n.isCenterAnchor=function(e){return"center"===e.xanchor||"auto"===e.xanchor&&e.x>1/3&&e.x<2/3},n.isRightAnchor=function(e){return"right"===e.xanchor||"auto"===e.xanchor&&e.x>=2/3},n.isTopAnchor=function(e){return"top"===e.yanchor||"auto"===e.yanchor&&e.y>=2/3},n.isMiddleAnchor=function(e){return"middle"===e.yanchor||"auto"===e.yanchor&&e.y>1/3&&e.y<2/3},n.isBottomAnchor=function(e){return"bottom"===e.yanchor||"auto"===e.yanchor&&e.y<=1/3}},{}],215:[function(e,t,n){"use strict";var r=e("./mod"),i=r.mod,a=r.modHalf,o=Math.PI,s=2*o;function u(e){return e/180*o}function l(e){return e/o*180}function c(e){return Math.abs(e[1]-e[0])>s-1e-14}function f(e,t){return a(t-e,s)}function h(e,t){return Math.abs(f(e,t))}function d(e,t){if(c(t))return!0;var n,r;t[0]<t[1]?(n=t[0],r=t[1]):(n=t[1],r=t[0]),(n=i(n,s))>(r=i(r,s))&&(r+=s);var a=i(e,s),o=a+s;return a>=n&&a<=r||o>=n&&o<=r}function p(e,t,n,r){return!!d(t,r)&&(n[0]<n[1]?(i=n[0],a=n[1]):(i=n[1],a=n[0]),e>=i&&e<=a);var i,a}function v(e,t,n,r,i,a,u){i=i||0,a=a||0;var l,f,h,d,p,v=c([n,r]);function g(e,t){return[e*Math.cos(t)+i,a-e*Math.sin(t)]}v?(l=0,f=o,h=s):n<r?(l=n,h=r):(l=r,h=n),e<t?(d=e,p=t):(d=t,p=e);var y,m=Math.abs(h-l)<=o?0:1;function b(e,t,n){return"A"+[e,e]+" "+[0,m,n]+" "+g(e,t)}return v?y=null===d?"M"+g(p,l)+b(p,f,0)+b(p,h,0)+"Z":"M"+g(d,l)+b(d,f,0)+b(d,h,0)+"ZM"+g(p,l)+b(p,f,1)+b(p,h,1)+"Z":null===d?(y="M"+g(p,l)+b(p,h,0),u&&(y+="L0,0Z")):y="M"+g(d,l)+"L"+g(p,l)+b(p,h,0)+"L"+g(d,h)+b(d,l,1)+"Z",y}function g(e,t,n,r,i){return v(null,e,t,n,r,i,0)}function y(e,t,n,r,i){return v(null,e,t,n,r,i,1)}function m(e,t,n,r,i,a){return v(e,t,n,r,i,a,1)}t.exports={deg2rad:u,rad2deg:l,angleDelta:f,angleDist:h,isFullCircle:c,isAngleInsideSector:d,isPtInsideSector:p,pathArc:g,pathSector:y,pathAnnulus:m}},{"./mod":237}],216:[function(e,t,n){"use strict";var r=Array.isArray,i=ArrayBuffer,a=DataView;function o(e){return i.isView(e)&&!(e instanceof a)}function s(e){return r(e)||o(e)}function u(e){return!s(e[0])}function l(e,t,n){if(s(e)){if(s(e[0])){for(var r=n,i=0;i<e.length;i++)r=t(r,e[i].length);return r}return e.length}return 0}n.isTypedArray=o,n.isArrayOrTypedArray=s,n.isArray1D=u,n.ensureArray=function(e,t){return r(e)||(e=[]),e.length=t,e},n.concat=function(){var e,t,n,i,a,o,s,u,l=[],c=!0,f=0;for(n=0;n<arguments.length;n++)(o=(i=arguments[n]).length)&&(t?l.push(i):(t=i,a=o),r(i)?e=!1:(c=!1,f?e!==i.constructor&&(e=!1):e=i.constructor),f+=o);if(!f)return[];if(!l.length)return t;if(c)return t.concat.apply(t,l);if(e){for((s=new e(f)).set(t),n=0;n<l.length;n++)i=l[n],s.set(i,a),a+=i.length;return s}for(s=new Array(f),u=0;u<t.length;u++)s[u]=t[u];for(n=0;n<l.length;n++){for(i=l[n],u=0;u<i.length;u++)s[a+u]=i[u];a+=u}return s},n.maxRowLength=function(e){return l(e,Math.max,0)},n.minRowLength=function(e){return l(e,Math.min,1/0)}},{}],217:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../constants/numerical").BADNUM,a=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;t.exports=function(e){return"string"===typeof e&&(e=e.replace(a,"")),r(e)?Number(e):i}},{"../constants/numerical":210,"fast-isnumeric":15}],218:[function(e,t,n){"use strict";t.exports=function(e){var t=e._fullLayout;t._glcanvas&&t._glcanvas.size()&&t._glcanvas.each((function(e){e.regl&&e.regl.clear({color:!0,depth:!0})}))}},{}],219:[function(e,t,n){"use strict";t.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},{}],220:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("tinycolor2"),a=e("../plots/attributes"),o=e("../components/colorscale/scales"),s=e("../components/color"),u=e("../constants/interactions").DESELECTDIM,l=e("./nested_property"),c=e("./regex").counter,f=e("./mod").modHalf,h=e("./array").isArrayOrTypedArray;function d(e,t){var r=n.valObjectMeta[t.valType];if(t.arrayOk&&h(e))return!0;if(r.validateFunction)return r.validateFunction(e,t);var i={},a=i,o={set:function(e){a=e}};return r.coerceFunction(e,o,i,t),a!==i}n.valObjectMeta={data_array:{coerceFunction:function(e,t,n){h(e)?t.set(e):void 0!==n&&t.set(n)}},enumerated:{coerceFunction:function(e,t,n,r){r.coerceNumber&&(e=+e),-1===r.values.indexOf(e)?t.set(n):t.set(e)},validateFunction:function(e,t){t.coerceNumber&&(e=+e);for(var n=t.values,r=0;r<n.length;r++){var i=String(n[r]);if("/"===i.charAt(0)&&"/"===i.charAt(i.length-1)){if(new RegExp(i.substr(1,i.length-2)).test(e))return!0}else if(e===n[r])return!0}return!1}},boolean:{coerceFunction:function(e,t,n){!0===e||!1===e?t.set(e):t.set(n)}},number:{coerceFunction:function(e,t,n,i){!r(e)||void 0!==i.min&&e<i.min||void 0!==i.max&&e>i.max?t.set(n):t.set(+e)}},integer:{coerceFunction:function(e,t,n,i){e%1||!r(e)||void 0!==i.min&&e<i.min||void 0!==i.max&&e>i.max?t.set(n):t.set(+e)}},string:{coerceFunction:function(e,t,n,r){if("string"!==typeof e){var i="number"===typeof e;!0!==r.strict&&i?t.set(String(e)):t.set(n)}else r.noBlank&&!e?t.set(n):t.set(e)}},color:{coerceFunction:function(e,t,n){i(e).isValid()?t.set(e):t.set(n)}},colorlist:{coerceFunction:function(e,t,n){function r(e){return i(e).isValid()}Array.isArray(e)&&e.length&&e.every(r)?t.set(e):t.set(n)}},colorscale:{coerceFunction:function(e,t,n){t.set(o.get(e,n))}},angle:{coerceFunction:function(e,t,n){"auto"===e?t.set("auto"):r(e)?t.set(f(+e,360)):t.set(n)}},subplotid:{coerceFunction:function(e,t,n,r){var i=r.regex||c(n);"string"===typeof e&&i.test(e)?t.set(e):t.set(n)},validateFunction:function(e,t){var n=t.dflt;return e===n||"string"===typeof e&&!!c(n).test(e)}},flaglist:{coerceFunction:function(e,t,n,r){if("string"===typeof e)if(-1===(r.extras||[]).indexOf(e)){for(var i=e.split("+"),a=0;a<i.length;){var o=i[a];-1===r.flags.indexOf(o)||i.indexOf(o)<a?i.splice(a,1):a++}i.length?t.set(i.join("+")):t.set(n)}else t.set(e);else t.set(n)}},any:{coerceFunction:function(e,t,n){void 0===e?t.set(n):t.set(e)}},info_array:{coerceFunction:function(e,t,r,i){function a(e,t,r){var i,a={set:function(e){i=e}};return void 0===r&&(r=t.dflt),n.valObjectMeta[t.valType].coerceFunction(e,a,r,t),i}var o=2===i.dimensions||"1-2"===i.dimensions&&Array.isArray(e)&&Array.isArray(e[0]);if(Array.isArray(e)){var s,u,l,c,f,h,d=i.items,p=[],v=Array.isArray(d),g=v&&o&&Array.isArray(d[0]),y=o&&v&&!g,m=v&&!y?d.length:e.length;if(r=Array.isArray(r)?r:[],o)for(s=0;s<m;s++)for(p[s]=[],l=Array.isArray(e[s])?e[s]:[],f=y?d.length:v?d[s].length:l.length,u=0;u<f;u++)c=y?d[u]:v?d[s][u]:d,void 0!==(h=a(l[u],c,(r[s]||[])[u]))&&(p[s][u]=h);else for(s=0;s<m;s++)void 0!==(h=a(e[s],v?d[s]:d,r[s]))&&(p[s]=h);t.set(p)}else t.set(r)},validateFunction:function(e,t){if(!Array.isArray(e))return!1;var n=t.items,r=Array.isArray(n),i=2===t.dimensions;if(!t.freeLength&&e.length!==n.length)return!1;for(var a=0;a<e.length;a++)if(i){if(!Array.isArray(e[a])||!t.freeLength&&e[a].length!==n[a].length)return!1;for(var o=0;o<e[a].length;o++)if(!d(e[a][o],r?n[a][o]:n))return!1}else if(!d(e[a],r?n[a]:n))return!1;return!0}}},n.coerce=function(e,t,r,i,a){var o=l(r,i).get(),s=l(e,i),u=l(t,i),c=s.get(),f=t._template;if(void 0===c&&f&&(c=l(f,i).get(),f=0),void 0===a&&(a=o.dflt),o.arrayOk&&h(c))return u.set(c),c;var p=n.valObjectMeta[o.valType].coerceFunction;p(c,u,a,o);var v=u.get();return f&&v===a&&!d(c,o)&&(p(c=l(f,i).get(),u,a,o),v=u.get()),v},n.coerce2=function(e,t,r,i,a){var o=l(e,i),s=n.coerce(e,t,r,i,a),u=o.get();return void 0!==u&&null!==u&&s},n.coerceFont=function(e,t,n){var r={};return n=n||{},r.family=e(t+".family",n.family),r.size=e(t+".size",n.size),r.color=e(t+".color",n.color),r},n.coercePattern=function(e,t,n,r){if(e(t+".shape")){e(t+".solidity"),e(t+".size");var i="overlay"===e(t+".fillmode");if(!r){var a=e(t+".bgcolor",i?n:void 0);e(t+".fgcolor",i?s.contrast(a):n)}e(t+".fgopacity",i?.5:1)}},n.coerceHoverinfo=function(e,t,r){var i,o=t._module.attributes,s=o.hoverinfo?o:a,u=s.hoverinfo;if(1===r._dataLength){var l="all"===u.dflt?u.flags.slice():u.dflt.split("+");l.splice(l.indexOf("name"),1),i=l.join("+")}return n.coerce(e,t,s,"hoverinfo",i)},n.coerceSelectionMarkerOpacity=function(e,t){if(e.marker){var n,r,i=e.marker.opacity;void 0!==i&&(h(i)||e.selected||e.unselected||(n=i,r=u*i),t("selected.marker.opacity",n),t("unselected.marker.opacity",r))}},n.validate=d},{"../components/color":100,"../components/colorscale/scales":115,"../constants/interactions":209,"../plots/attributes":272,"./array":216,"./mod":237,"./nested_property":238,"./regex":246,"fast-isnumeric":15,tinycolor2:65}],221:[function(e,t,n){"use strict";var r,i,a=e("d3-time-format").timeFormat,o=e("fast-isnumeric"),s=e("./loggers"),u=e("./mod").mod,l=e("../constants/numerical"),c=l.BADNUM,f=l.ONEDAY,h=l.ONEHOUR,d=l.ONEMIN,p=l.ONESEC,v=l.EPOCHJD,g=e("../registry"),y=e("d3-time-format").utcFormat,m=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,b=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,_=(new Date).getFullYear()-70;function w(e){return e&&g.componentsRegistry.calendars&&"string"===typeof e&&"gregorian"!==e}function x(e,t){return w(e)?t?g.getComponentMethod("calendars","CANONICAL_SUNDAY")[e]:g.getComponentMethod("calendars","CANONICAL_TICK")[e]:t?"2000-01-02":"2000-01-01"}function T(e,t){return String(e+Math.pow(10,t)).substr(1)}n.dateTick0=function(e,t){var r=x(e,!!t);if(t<2)return r;var i=n.dateTime2ms(r,e);return i+=f*(t-1),n.ms2DateTime(i,0,e)},n.dfltRange=function(e){return w(e)?g.getComponentMethod("calendars","DFLTRANGE")[e]:["2000-01-01","2001-01-01"]},n.isJSDate=function(e){return"object"===typeof e&&null!==e&&"function"===typeof e.getTime},n.dateTime2ms=function(e,t){if(n.isJSDate(e)){var a=e.getTimezoneOffset()*d,o=(e.getUTCMinutes()-e.getMinutes())*d+(e.getUTCSeconds()-e.getSeconds())*p+(e.getUTCMilliseconds()-e.getMilliseconds());if(o){var s=3*d;a=a-s/2+u(o-a+s/2,s)}return(e=Number(e)-a)>=r&&e<=i?e:c}if("string"!==typeof e&&"number"!==typeof e)return c;e=String(e);var l=w(t),y=e.charAt(0);!l||"G"!==y&&"g"!==y||(e=e.substr(1),t="");var x=l&&"chinese"===t.substr(0,7),T=e.match(x?b:m);if(!T)return c;var k=T[1],O=T[3]||"1",S=Number(T[5]||1),A=Number(T[7]||0),E=Number(T[9]||0),C=Number(T[11]||0);if(l){if(2===k.length)return c;var M;k=Number(k);try{var I=g.getComponentMethod("calendars","getCal")(t);if(x){var D="i"===O.charAt(O.length-1);O=parseInt(O,10),M=I.newDate(k,I.toMonthIndex(k,O,D),S)}else M=I.newDate(k,Number(O),S)}catch(N){return c}return M?(M.toJD()-v)*f+A*h+E*d+C*p:c}k=2===k.length?(Number(k)+2e3-_)%100+_:Number(k),O-=1;var P=new Date(Date.UTC(2e3,O,S,A,E));return P.setUTCFullYear(k),P.getUTCMonth()!==O||P.getUTCDate()!==S?c:P.getTime()+C*p},r=n.MIN_MS=n.dateTime2ms("-9999"),i=n.MAX_MS=n.dateTime2ms("9999-12-31 23:59:59.9999"),n.isDateTime=function(e,t){return n.dateTime2ms(e,t)!==c};var k=90*f,O=3*h,S=5*d;function A(e,t,n,r,i){if((t||n||r||i)&&(e+=" "+T(t,2)+":"+T(n,2),(r||i)&&(e+=":"+T(r,2),i))){for(var a=4;i%10===0;)a-=1,i/=10;e+="."+T(i,a)}return e}n.ms2DateTime=function(e,t,n){if("number"!==typeof e||!(e>=r&&e<=i))return c;t||(t=0);var a,o,s,l,m,b,_=Math.floor(10*u(e+.05,1)),x=Math.round(e-_/10);if(w(n)){var T=Math.floor(x/f)+v,E=Math.floor(u(e,f));try{a=g.getComponentMethod("calendars","getCal")(n).fromJD(T).formatDate("yyyy-mm-dd")}catch(C){a=y("G%Y-%m-%d")(new Date(x))}if("-"===a.charAt(0))for(;a.length<11;)a="-0"+a.substr(1);else for(;a.length<10;)a="0"+a;o=t<k?Math.floor(E/h):0,s=t<k?Math.floor(E%h/d):0,l=t<O?Math.floor(E%d/p):0,m=t<S?E%p*10+_:0}else b=new Date(x),a=y("%Y-%m-%d")(b),o=t<k?b.getUTCHours():0,s=t<k?b.getUTCMinutes():0,l=t<O?b.getUTCSeconds():0,m=t<S?10*b.getUTCMilliseconds()+_:0;return A(a,o,s,l,m)},n.ms2DateTimeLocal=function(e){if(!(e>=r+f&&e<=i-f))return c;var t=Math.floor(10*u(e+.05,1)),n=new Date(Math.round(e-t/10));return A(a("%Y-%m-%d")(n),n.getHours(),n.getMinutes(),n.getSeconds(),10*n.getUTCMilliseconds()+t)},n.cleanDate=function(e,t,r){if(e===c)return t;if(n.isJSDate(e)||"number"===typeof e&&isFinite(e)){if(w(r))return s.error("JS Dates and milliseconds are incompatible with world calendars",e),t;if(!(e=n.ms2DateTimeLocal(+e))&&void 0!==t)return t}else if(!n.isDateTime(e,r))return s.error("unrecognized date",e),t;return e};var E=/%\d?f/g,C=/%h/g,M={1:"1",2:"1",3:"2",4:"2"};function I(e,t,n,r){e=e.replace(E,(function(e){var n=Math.min(+e.charAt(1)||6,6);return(t/1e3%1+2).toFixed(n).substr(2).replace(/0+$/,"")||"0"}));var i=new Date(Math.floor(t+.05));if(e=e.replace(C,(function(){return M[n("%q")(i)]})),w(r))try{e=g.getComponentMethod("calendars","worldCalFmt")(e,t,r)}catch(a){return"Invalid"}return n(e)(i)}var D=[59,59.9,59.99,59.999,59.9999];function P(e,t){var n=u(e+.05,f),r=T(Math.floor(n/h),2)+":"+T(u(Math.floor(n/d),60),2);if("M"!==t){o(t)||(t=0);var i=(100+Math.min(u(e/p,60),D[t])).toFixed(t).substr(1);t>0&&(i=i.replace(/0+$/,"").replace(/[\.]$/,"")),r+=":"+i}return r}n.formatDate=function(e,t,n,r,i,a){if(i=w(i)&&i,!t)if("y"===n)t=a.year;else if("m"===n)t=a.month;else{if("d"!==n)return P(e,n)+"\n"+I(a.dayMonthYear,e,r,i);t=a.dayMonth+"\n"+a.year}return I(t,e,r,i)};var N=3*f;n.incrementMonth=function(e,t,n){n=w(n)&&n;var r=u(e,f);if(e=Math.round(e-r),n)try{var i=Math.round(e/f)+v,a=g.getComponentMethod("calendars","getCal")(n),o=a.fromJD(i);return t%12?a.add(o,t,"m"):a.add(o,t/12,"y"),(o.toJD()-v)*f+r}catch(c){s.error("invalid ms "+e+" in calendar "+n)}var l=new Date(e+N);return l.setUTCMonth(l.getUTCMonth()+t)+r-N},n.findExactDates=function(e,t){for(var n,r,i=0,a=0,s=0,u=0,l=w(t)&&g.getComponentMethod("calendars","getCal")(t),c=0;c<e.length;c++)if(r=e[c],o(r)){if(!(r%f))if(l)try{1===(n=l.fromJD(r/f+v)).day()?1===n.month()?i++:a++:s++}catch(d){}else 1===(n=new Date(r)).getUTCDate()?0===n.getUTCMonth()?i++:a++:s++}else u++;s+=a+=i;var h=e.length-u;return{exactYears:i/h,exactMonths:a/h,exactDays:s/h}}},{"../constants/numerical":210,"../registry":313,"./loggers":234,"./mod":237,"d3-time-format":13,"fast-isnumeric":15}],222:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("./loggers"),a=e("./matrix"),o=e("gl-mat4");function s(e){var t;if("string"===typeof e){if(null===(t=document.getElementById(e)))throw new Error("No DOM element with id '"+e+"' exists on the page.");return t}if(null===e||void 0===e)throw new Error("DOM element provided is null or undefined");return e}function u(e){var t=r.select(e);return t.node()instanceof HTMLElement&&t.size()&&t.classed("js-plotly-plot")}function l(e){var t=e&&e.parentNode;t&&t.removeChild(e)}function c(e,t){f("global",e,t)}function f(e,t,n){var r="plotly.js-style-"+e,a=document.getElementById(r);a||((a=document.createElement("style")).setAttribute("id",r),a.appendChild(document.createTextNode("")),document.head.appendChild(a));var o=a.sheet;o.insertRule?o.insertRule(t+"{"+n+"}",0):o.addRule?o.addRule(t,n,0):i.warn("addStyleRule failed")}function h(e){var t="plotly.js-style-"+e,n=document.getElementById(t);n&&l(n)}function d(e){var t=v(e),n=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return t.forEach((function(e){var t=p(e);if(t){var r=a.convertCssMatrix(t);n=o.multiply(n,n,r)}})),n}function p(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("-webkit-transform")||t.getPropertyValue("-moz-transform")||t.getPropertyValue("-ms-transform")||t.getPropertyValue("-o-transform")||t.getPropertyValue("transform");return"none"===n?null:n.replace("matrix","").replace("3d","").slice(1,-1).split(",").map((function(e){return+e}))}function v(e){for(var t=[];g(e);)t.push(e),e=e.parentNode;return t}function g(e){return e&&(e instanceof Element||e instanceof HTMLElement)}function y(e,t){return e&&t&&e.x===t.x&&e.y===t.y&&e.top===t.top&&e.left===t.left&&e.right===t.right&&e.bottom===t.bottom}t.exports={getGraphDiv:s,isPlotDiv:u,removeElement:l,addStyleRule:c,addRelatedStyleRule:f,deleteRelatedStyleRule:h,getFullTransformMatrix:d,getElementTransformMatrix:p,getElementAndAncestors:v,equalDomRects:y}},{"./loggers":234,"./matrix":236,"@plotly/d3":11,"gl-mat4":31}],223:[function(e,t,n){"use strict";var r=e("events").EventEmitter,i={init:function(e){if(e._ev instanceof r)return e;var t=new r,n=new r;return e._ev=t,e._internalEv=n,e.on=t.on.bind(t),e.once=t.once.bind(t),e.removeListener=t.removeListener.bind(t),e.removeAllListeners=t.removeAllListeners.bind(t),e._internalOn=n.on.bind(n),e._internalOnce=n.once.bind(n),e._removeInternalListener=n.removeListener.bind(n),e._removeAllInternalListeners=n.removeAllListeners.bind(n),e.emit=function(r,i){"undefined"!==typeof jQuery&&jQuery(e).trigger(r,i),t.emit(r,i),n.emit(r,i)},e},triggerHandler:function(e,t,n){var r,i;"undefined"!==typeof jQuery&&(r=jQuery(e).triggerHandler(t,n));var a=e._ev;if(!a)return r;var o,s=a._events[t];if(!s)return r;function u(e){return e.listener?(a.removeListener(t,e.listener),e.fired?void 0:(e.fired=!0,e.listener.apply(a,[n]))):e.apply(a,[n])}for(s=Array.isArray(s)?s:[s],o=0;o<s.length-1;o++)u(s[o]);return i=u(s[o]),void 0!==r?r:i},purge:function(e){return delete e._ev,delete e.on,delete e.once,delete e.removeListener,delete e.removeAllListeners,delete e.emit,delete e._ev,delete e._internalEv,delete e._internalOn,delete e._internalOnce,delete e._removeInternalListener,delete e._removeAllInternalListeners,e}};t.exports=i},{events:12}],224:[function(e,t,n){"use strict";var r=e("./is_plain_object.js"),i=Array.isArray;function a(e,t){var n,r;for(n=0;n<e.length;n++){if(null!==(r=e[n])&&"object"===typeof r)return!1;void 0!==r&&(t[n]=r)}return!0}function o(e,t,n,s){var u,l,c,f,h,d,p=e[0],v=e.length;if(2===v&&i(p)&&i(e[1])&&0===p.length){if(a(e[1],p))return p;p.splice(0,p.length)}for(var g=1;g<v;g++)for(l in u=e[g])c=p[l],f=u[l],s&&i(f)?p[l]=f:t&&f&&(r(f)||(h=i(f)))?(h?(h=!1,d=c&&i(c)?c:[]):d=c&&r(c)?c:{},p[l]=o([d,f],t,n,s)):("undefined"!==typeof f||n)&&(p[l]=f);return p}n.extendFlat=function(){return o(arguments,!1,!1,!1)},n.extendDeep=function(){return o(arguments,!0,!1,!1)},n.extendDeepAll=function(){return o(arguments,!0,!0,!1)},n.extendDeepNoArrays=function(){return o(arguments,!0,!1,!0)}},{"./is_plain_object.js":231}],225:[function(e,t,n){"use strict";t.exports=function(e){for(var t={},n=[],r=0,i=0;i<e.length;i++){var a=e[i];1!==t[a]&&(t[a]=1,n[r++]=a)}return n}},{}],226:[function(e,t,n){"use strict";function r(e){return!0===e.visible}function i(e){var t=e[0].trace;return!0===t.visible&&0!==t._length}function a(e){return Array.isArray(e)&&Array.isArray(e[0])&&e[0][0]&&e[0][0].trace}t.exports=function(e){for(var t=a(e)?i:r,n=[],o=0;o<e.length;o++){var s=e[o];t(s)&&n.push(s)}return n}},{}],227:[function(e,t,n){"use strict";var r,i,a,o=e("./mod").mod;function s(e,t,n,r,i,a,o,s){var u=n-e,l=i-e,c=o-i,f=r-t,h=a-t,d=s-a,p=u*d-c*f;if(0===p)return null;var v=(l*d-c*h)/p,g=(l*f-u*h)/p;return g<0||g>1||v<0||v>1?null:{x:e+u*v,y:t+f*v}}function u(e,t,n,r,i){var a=r*e+i*t;if(a<0)return r*r+i*i;if(a>n){var o=r-e,s=i-t;return o*o+s*s}var u=r*t-i*e;return u*u/n}n.segmentsIntersect=s,n.segmentDistance=function(e,t,n,r,i,a,o,l){if(s(e,t,n,r,i,a,o,l))return 0;var c=n-e,f=r-t,h=o-i,d=l-a,p=c*c+f*f,v=h*h+d*d,g=Math.min(u(c,f,p,i-e,a-t),u(c,f,p,o-e,l-t),u(h,d,v,e-i,t-a),u(h,d,v,n-i,r-a));return Math.sqrt(g)},n.getTextLocation=function(e,t,n,s){if(e===i&&s===a||(r={},i=e,a=s),r[n])return r[n];var u=e.getPointAtLength(o(n-s/2,t)),l=e.getPointAtLength(o(n+s/2,t)),c=Math.atan((l.y-u.y)/(l.x-u.x)),f=e.getPointAtLength(o(n,t)),h={x:(4*f.x+u.x+l.x)/6,y:(4*f.y+u.y+l.y)/6,theta:c};return r[n]=h,h},n.clearLocationCache=function(){i=null},n.getVisibleSegment=function(e,t,n){var r,i,a=t.left,o=t.right,s=t.top,u=t.bottom,l=0,c=e.getTotalLength(),f=c;function h(t){var n=e.getPointAtLength(t);0===t?r=n:t===c&&(i=n);var l=n.x<a?a-n.x:n.x>o?n.x-o:0,f=n.y<s?s-n.y:n.y>u?n.y-u:0;return Math.sqrt(l*l+f*f)}for(var d=h(l);d;){if((l+=d+n)>f)return;d=h(l)}for(d=h(f);d;){if(l>(f-=d+n))return;d=h(f)}return{min:l,max:f,len:f-l,total:c,isClosed:0===l&&f===c&&Math.abs(r.x-i.x)<.1&&Math.abs(r.y-i.y)<.1}},n.findPointOnPath=function(e,t,n,r){for(var i,a,o,s=(r=r||{}).pathLength||e.getTotalLength(),u=r.tolerance||.001,l=r.iterationLimit||30,c=e.getPointAtLength(0)[n]>e.getPointAtLength(s)[n]?-1:1,f=0,h=0,d=s;f<l;){if(i=(h+d)/2,o=(a=e.getPointAtLength(i))[n]-t,Math.abs(o)<u)return a;c*o>0?d=i:h=i,f++}return a}},{"./mod":237}],228:[function(e,t,n){"use strict";t.exports=function(e){return e}},{}],229:[function(e,t,n){"use strict";t.exports=function(e,t){if(!t)return e;var n=1/Math.abs(t),r=n>1?(n*e+n*t)/n:e+t,i=String(r).length;if(i>16){var a=String(t).length;if(i>=String(e).length+a){var o=parseFloat(r).toPrecision(12);-1===o.indexOf("e+")&&(r=+o)}}return r}},{}],230:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("d3-time-format").utcFormat,a=e("fast-isnumeric"),o=e("../constants/numerical"),s=o.FP_SAFE,u=-s,l=o.BADNUM,c=t.exports={};c.nestedProperty=e("./nested_property"),c.keyedContainer=e("./keyed_container"),c.relativeAttr=e("./relative_attr"),c.isPlainObject=e("./is_plain_object"),c.toLogRange=e("./to_log_range"),c.relinkPrivateKeys=e("./relink_private");var f=e("./array");c.isTypedArray=f.isTypedArray,c.isArrayOrTypedArray=f.isArrayOrTypedArray,c.isArray1D=f.isArray1D,c.ensureArray=f.ensureArray,c.concat=f.concat,c.maxRowLength=f.maxRowLength,c.minRowLength=f.minRowLength;var h=e("./mod");c.mod=h.mod,c.modHalf=h.modHalf;var d=e("./coerce");c.valObjectMeta=d.valObjectMeta,c.coerce=d.coerce,c.coerce2=d.coerce2,c.coerceFont=d.coerceFont,c.coercePattern=d.coercePattern,c.coerceHoverinfo=d.coerceHoverinfo,c.coerceSelectionMarkerOpacity=d.coerceSelectionMarkerOpacity,c.validate=d.validate;var p=e("./dates");c.dateTime2ms=p.dateTime2ms,c.isDateTime=p.isDateTime,c.ms2DateTime=p.ms2DateTime,c.ms2DateTimeLocal=p.ms2DateTimeLocal,c.cleanDate=p.cleanDate,c.isJSDate=p.isJSDate,c.formatDate=p.formatDate,c.incrementMonth=p.incrementMonth,c.dateTick0=p.dateTick0,c.dfltRange=p.dfltRange,c.findExactDates=p.findExactDates,c.MIN_MS=p.MIN_MS,c.MAX_MS=p.MAX_MS;var v=e("./search");c.findBin=v.findBin,c.sorterAsc=v.sorterAsc,c.sorterDes=v.sorterDes,c.distinctVals=v.distinctVals,c.roundUp=v.roundUp,c.sort=v.sort,c.findIndexOfMin=v.findIndexOfMin;var g=e("./stats");c.aggNums=g.aggNums,c.len=g.len,c.mean=g.mean,c.median=g.median,c.midRange=g.midRange,c.variance=g.variance,c.stdev=g.stdev,c.interp=g.interp;var y=e("./matrix");c.init2dArray=y.init2dArray,c.transposeRagged=y.transposeRagged,c.dot=y.dot,c.translationMatrix=y.translationMatrix,c.rotationMatrix=y.rotationMatrix,c.rotationXYMatrix=y.rotationXYMatrix,c.apply3DTransform=y.apply3DTransform,c.apply2DTransform=y.apply2DTransform,c.apply2DTransform2=y.apply2DTransform2,c.convertCssMatrix=y.convertCssMatrix,c.inverseTransformMatrix=y.inverseTransformMatrix;var m=e("./angles");c.deg2rad=m.deg2rad,c.rad2deg=m.rad2deg,c.angleDelta=m.angleDelta,c.angleDist=m.angleDist,c.isFullCircle=m.isFullCircle,c.isAngleInsideSector=m.isAngleInsideSector,c.isPtInsideSector=m.isPtInsideSector,c.pathArc=m.pathArc,c.pathSector=m.pathSector,c.pathAnnulus=m.pathAnnulus;var b=e("./anchor_utils");c.isLeftAnchor=b.isLeftAnchor,c.isCenterAnchor=b.isCenterAnchor,c.isRightAnchor=b.isRightAnchor,c.isTopAnchor=b.isTopAnchor,c.isMiddleAnchor=b.isMiddleAnchor,c.isBottomAnchor=b.isBottomAnchor;var _=e("./geometry2d");c.segmentsIntersect=_.segmentsIntersect,c.segmentDistance=_.segmentDistance,c.getTextLocation=_.getTextLocation,c.clearLocationCache=_.clearLocationCache,c.getVisibleSegment=_.getVisibleSegment,c.findPointOnPath=_.findPointOnPath;var w=e("./extend");c.extendFlat=w.extendFlat,c.extendDeep=w.extendDeep,c.extendDeepAll=w.extendDeepAll,c.extendDeepNoArrays=w.extendDeepNoArrays;var x=e("./loggers");c.log=x.log,c.warn=x.warn,c.error=x.error;var T=e("./regex");c.counterRegex=T.counter;var k=e("./throttle");c.throttle=k.throttle,c.throttleDone=k.done,c.clearThrottle=k.clear;var O=e("./dom");function S(e){var t={};for(var n in e)for(var r=e[n],i=0;i<r.length;i++)t[r[i]]=+n;return t}c.getGraphDiv=O.getGraphDiv,c.isPlotDiv=O.isPlotDiv,c.removeElement=O.removeElement,c.addStyleRule=O.addStyleRule,c.addRelatedStyleRule=O.addRelatedStyleRule,c.deleteRelatedStyleRule=O.deleteRelatedStyleRule,c.getFullTransformMatrix=O.getFullTransformMatrix,c.getElementTransformMatrix=O.getElementTransformMatrix,c.getElementAndAncestors=O.getElementAndAncestors,c.equalDomRects=O.equalDomRects,c.clearResponsive=e("./clear_responsive"),c.preserveDrawingBuffer=e("./preserve_drawing_buffer"),c.makeTraceGroups=e("./make_trace_groups"),c._=e("./localize"),c.notifier=e("./notifier"),c.filterUnique=e("./filter_unique"),c.filterVisible=e("./filter_visible"),c.pushUnique=e("./push_unique"),c.increment=e("./increment"),c.cleanNumber=e("./clean_number"),c.ensureNumber=function(e){return a(e)?(e=Number(e))>s||e<u?l:e:l},c.isIndex=function(e,t){return!(void 0!==t&&e>=t)&&a(e)&&e>=0&&e%1===0},c.noop=e("./noop"),c.identity=e("./identity"),c.repeat=function(e,t){for(var n=new Array(t),r=0;r<t;r++)n[r]=e;return n},c.swapAttrs=function(e,t,n,r){n||(n="x"),r||(r="y");for(var i=0;i<t.length;i++){var a=t[i],o=c.nestedProperty(e,a.replace("?",n)),s=c.nestedProperty(e,a.replace("?",r)),u=o.get();o.set(s.get()),s.set(u)}},c.raiseToTop=function(e){e.parentNode.appendChild(e)},c.cancelTransition=function(e){return e.transition().duration(0)},c.constrain=function(e,t,n){return t>n?Math.max(n,Math.min(t,e)):Math.max(t,Math.min(n,e))},c.bBoxIntersect=function(e,t,n){return n=n||0,e.left<=t.right+n&&t.left<=e.right+n&&e.top<=t.bottom+n&&t.top<=e.bottom+n},c.simpleMap=function(e,t,n,r,i){for(var a=e.length,o=new Array(a),s=0;s<a;s++)o[s]=t(e[s],n,r,i);return o},c.randstr=function e(t,n,r,i){if(r||(r=16),void 0===n&&(n=24),n<=0)return"0";var a,o,s=Math.log(Math.pow(2,n))/Math.log(r),u="";for(a=2;s===1/0;a*=2)s=Math.log(Math.pow(2,n/a))/Math.log(r)*a;var l=s-Math.floor(s);for(a=0;a<Math.floor(s);a++)u=Math.floor(Math.random()*r).toString(r)+u;l&&(o=Math.pow(r,l),u=Math.floor(Math.random()*o).toString(r)+u);var f=parseInt(u,r);return t&&t[u]||f!==1/0&&f>=Math.pow(2,n)?i>10?(c.warn("randstr failed uniqueness"),u):e(t,n,r,(i||0)+1):u},c.OptionControl=function(e,t){e||(e={}),t||(t="opt");var n={optionList:[],_newoption:function(r){r[t]=e,n[r.name]=r,n.optionList.push(r)}};return n["_"+t]=e,n},c.smooth=function(e,t){if((t=Math.round(t)||0)<2)return e;var n,r,i,a,o=e.length,s=2*o,u=2*t-1,l=new Array(u),c=new Array(o);for(n=0;n<u;n++)l[n]=(1-Math.cos(Math.PI*(n+1)/t))/(2*t);for(n=0;n<o;n++){for(a=0,r=0;r<u;r++)(i=n+r+1-t)<-o?i-=s*Math.round(i/s):i>=s&&(i-=s*Math.floor(i/s)),i<0?i=-1-i:i>=o&&(i=s-1-i),a+=e[i]*l[r];c[n]=a}return c},c.syncOrAsync=function(e,t,n){var r;function i(){return c.syncOrAsync(e,t,n)}for(;e.length;)if((r=(0,e.splice(0,1)[0])(t))&&r.then)return r.then(i).then(void 0,c.promiseError);return n&&n(t)},c.stripTrailingSlash=function(e){return"/"===e.substr(-1)?e.substr(0,e.length-1):e},c.noneOrAll=function(e,t,n){if(e){var r,i,a=!1,o=!0;for(r=0;r<n.length;r++)void 0!==(i=e[n[r]])&&null!==i?a=!0:o=!1;if(a&&!o)for(r=0;r<n.length;r++)e[n[r]]=t[n[r]]}},c.mergeArray=function(e,t,n,r){var i="function"===typeof r;if(c.isArrayOrTypedArray(e))for(var a=Math.min(e.length,t.length),o=0;o<a;o++){var s=e[o];t[o][n]=i?r(s):s}},c.mergeArrayCastPositive=function(e,t,n){return c.mergeArray(e,t,n,(function(e){var t=+e;return isFinite(t)&&t>0?t:0}))},c.fillArray=function(e,t,n,r){if(r=r||c.identity,c.isArrayOrTypedArray(e))for(var i=0;i<t.length;i++)t[i][n]=r(e[i])},c.castOption=function(e,t,n,r){r=r||c.identity;var i=c.nestedProperty(e,n).get();return c.isArrayOrTypedArray(i)?Array.isArray(t)&&c.isArrayOrTypedArray(i[t[0]])?r(i[t[0]][t[1]]):r(i[t]):i},c.extractOption=function(e,t,n,r){if(n in e)return e[n];var i=c.nestedProperty(t,r).get();return Array.isArray(i)?void 0:i},c.tagSelected=function(e,t,n){var r,i=t.selectedpoints,a=t._indexToPoints;function o(t){return void 0!==t&&t<e.length}a&&(r=S(a));for(var s=0;s<i.length;s++){var u=i[s];if(c.isIndex(u)||c.isArrayOrTypedArray(u)&&c.isIndex(u[0])&&c.isIndex(u[1])){var l=r?r[u]:u,f=n?n[l]:l;o(f)&&(e[f].selected=1)}}},c.selIndices2selPoints=function(e){var t=e.selectedpoints,n=e._indexToPoints;if(n){for(var r=S(n),i=[],a=0;a<t.length;a++){var o=t[a];if(c.isIndex(o)){var s=r[o];c.isIndex(s)&&i.push(s)}}return i}return t},c.getTargetArray=function(e,t){var n=t.target;if("string"===typeof n&&n){var r=c.nestedProperty(e,n).get();return!!Array.isArray(r)&&r}return!!Array.isArray(n)&&n},c.minExtend=function(e,t){var n={};"object"!==typeof t&&(t={});var r,i,a,o=3,s=Object.keys(e);for(r=0;r<s.length;r++)a=e[i=s[r]],"_"!==i.charAt(0)&&"function"!==typeof a&&("module"===i?n[i]=a:Array.isArray(a)?n[i]="colorscale"===i?a.slice():a.slice(0,o):c.isTypedArray(a)?n[i]=a.subarray(0,o):n[i]=a&&"object"===typeof a?c.minExtend(e[i],t[i]):a);for(s=Object.keys(t),r=0;r<s.length;r++)"object"===typeof(a=t[i=s[r]])&&i in n&&"object"===typeof n[i]||(n[i]=a);return n},c.titleCase=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},c.containsAny=function(e,t){for(var n=0;n<t.length;n++)if(-1!==e.indexOf(t[n]))return!0;return!1},c.isIE=function(){return"undefined"!==typeof window.navigator.msSaveBlob};var A=/Version\/[\d\.]+.*Safari/;c.isSafari=function(){return A.test(window.navigator.userAgent)};var E=/iPad|iPhone|iPod/;c.isIOS=function(){return E.test(window.navigator.userAgent)};var C=/Firefox\/(\d+)\.\d+/;c.getFirefoxVersion=function(){var e=C.exec(window.navigator.userAgent);if(e&&2===e.length){var t=parseInt(e[1]);if(!isNaN(t))return t}return null},c.isD3Selection=function(e){return e instanceof r.selection},c.ensureSingle=function(e,t,n,r){var i=e.select(t+(n?"."+n:""));if(i.size())return i;var a=e.append(t);return n&&a.classed(n,!0),r&&a.call(r),a},c.ensureSingleById=function(e,t,n,r){var i=e.select(t+"#"+n);if(i.size())return i;var a=e.append(t).attr("id",n);return r&&a.call(r),a},c.objectFromPath=function(e,t){for(var n,r=e.split("."),i=n={},a=0;a<r.length;a++){var o=r[a],s=null,u=r[a].match(/(.*)\[([0-9]+)\]/);u?(o=u[1],s=u[2],n=n[o]=[],a===r.length-1?n[s]=t:n[s]={},n=n[s]):(a===r.length-1?n[o]=t:n[o]={},n=n[o])}return i};var M=/^([^\[\.]+)\.(.+)?/,I=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;c.expandObjectPaths=function(e){var t,n,r,i,a,o,s;if("object"===typeof e&&!Array.isArray(e))for(n in e)e.hasOwnProperty(n)&&((t=n.match(M))?(i=e[n],r=t[1],delete e[n],e[r]=c.extendDeepNoArrays(e[r]||{},c.objectFromPath(n,c.expandObjectPaths(i))[r])):(t=n.match(I))?(i=e[n],r=t[1],a=parseInt(t[2]),delete e[n],e[r]=e[r]||[],"."===t[3]?(s=t[4],o=e[r][a]=e[r][a]||{},c.extendDeepNoArrays(o,c.objectFromPath(s,c.expandObjectPaths(i)))):e[r][a]=c.expandObjectPaths(i)):e[n]=c.expandObjectPaths(e[n]));return e},c.numSeparate=function(e,t,n){if(n||(n=!1),"string"!==typeof t||0===t.length)throw new Error("Separator string required for formatting!");"number"===typeof e&&(e=String(e));var r=/(\d+)(\d{3})/,i=t.charAt(0),a=t.charAt(1),o=e.split("."),s=o[0],u=o.length>1?i+o[1]:"";if(a&&(o.length>1||s.length>4||n))for(;r.test(s);)s=s.replace(r,"$1"+a+"$2");return s+u},c.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var D=/^\w*$/;c.templateString=function(e,t){var n={};return e.replace(c.TEMPLATE_STRING_REGEX,(function(e,r){var i;return D.test(r)?i=t[r]:(n[r]=n[r]||c.nestedProperty(t,r).get,i=n[r]()),c.isValidTextValue(i)?i:""}))};var P={max:10,count:0,name:"hovertemplate"};c.hovertemplateString=function(){return L.apply(P,arguments)};var N={max:10,count:0,name:"texttemplate"};c.texttemplateString=function(){return L.apply(N,arguments)};var j=/^[:|\|]/;function L(e,t,n){var a=this,o=arguments;t||(t={});var s={};return e.replace(c.TEMPLATE_STRING_REGEX,(function(e,u,l){var f,h,d,p="_xother"===u||"_yother"===u,v="_xother_"===u||"_yother_"===u,g="xother_"===u||"yother_"===u,y="xother"===u||"yother"===u||p||g||v,m=u;if((p||v)&&(m=m.substring(1)),(g||v)&&(m=m.substring(0,m.length-1)),y){if(void 0===(f=t[m]))return""}else for(d=3;d<o.length;d++)if(h=o[d]){if(h.hasOwnProperty(m)){f=h[m];break}if(D.test(m)||(f=c.nestedProperty(h,m).get(),(f=s[m]||c.nestedProperty(h,m).get())&&(s[m]=f)),void 0!==f)break}if(void 0===f&&a)return a.count<a.max&&(c.warn("Variable '"+m+"' in "+a.name+" could not be found!"),f=e),a.count===a.max&&c.warn("Too many "+a.name+" warnings - additional warnings will be suppressed"),a.count++,e;if(l){var b;if(":"===l[0]&&(f=(b=n?n.numberFormat:r.format)(l.replace(j,""))(f)),"|"===l[0]){b=n?n.timeFormat:i;var _=c.dateTime2ms(f);f=c.formatDate(_,l.replace(j,""),!1,b)}}else{var w=m+"Label";t.hasOwnProperty(w)&&(f=t[w])}return y&&(f="("+f+")",(p||v)&&(f=" "+f),(g||v)&&(f+=" ")),f}))}var R=48,F=57;c.subplotSort=function(e,t){for(var n=Math.min(e.length,t.length)+1,r=0,i=0,a=0;a<n;a++){var o=e.charCodeAt(a)||0,s=t.charCodeAt(a)||0,u=o>=R&&o<=F,l=s>=R&&s<=F;if(u&&(r=10*r+o-R),l&&(i=10*i+s-R),!u||!l){if(r!==i)return r-i;if(o!==s)return o-s}}return i-r};var z=2e9;c.seedPseudoRandom=function(){z=2e9},c.pseudoRandom=function(){var e=z;return z=(69069*z+1)%4294967296,Math.abs(z-e)<429496729?c.pseudoRandom():z/4294967296},c.fillText=function(e,t,n){var r=Array.isArray(n)?function(e){n.push(e)}:function(e){n.text=e},i=c.extractOption(e,t,"htx","hovertext");if(c.isValidTextValue(i))return r(i);var a=c.extractOption(e,t,"tx","text");return c.isValidTextValue(a)?r(a):void 0},c.isValidTextValue=function(e){return e||0===e},c.formatPercent=function(e,t){t=t||0;for(var n=(Math.round(100*e*Math.pow(10,t))*Math.pow(.1,t)).toFixed(t)+"%",r=0;r<t;r++)-1!==n.indexOf(".")&&(n=(n=n.replace("0%","%")).replace(".%","%"));return n},c.isHidden=function(e){var t=window.getComputedStyle(e).display;return!t||"none"===t},c.strTranslate=function(e,t){return e||t?"translate("+e+","+t+")":""},c.strRotate=function(e){return e?"rotate("+e+")":""},c.strScale=function(e){return 1!==e?"scale("+e+")":""},c.getTextTransform=function(e){var t=e.noCenter,n=e.textX,r=e.textY,i=e.targetX,a=e.targetY,o=e.anchorX||0,s=e.anchorY||0,u=e.rotate,l=e.scale;return l?l>1&&(l=1):l=0,c.strTranslate(i-l*(n+o),a-l*(r+s))+c.strScale(l)+(u?"rotate("+u+(t?"":" "+n+" "+r)+")":"")},c.ensureUniformFontSize=function(e,t){var n=c.extendFlat({},t);return n.size=Math.max(t.size,e._fullLayout.uniformtext.minsize||0),n},c.join2=function(e,t,n){var r=e.length;return r>1?e.slice(0,-1).join(t)+n+e[r-1]:e.join(t)},c.bigFont=function(e){return Math.round(1.2*e)};var U=c.getFirefoxVersion(),q=null!==U&&U<86;c.getPositionFromD3Event=function(){return q?[r.event.layerX,r.event.layerY]:[r.event.offsetX,r.event.offsetY]}},{"../constants/numerical":210,"./anchor_utils":214,"./angles":215,"./array":216,"./clean_number":217,"./clear_responsive":219,"./coerce":220,"./dates":221,"./dom":222,"./extend":224,"./filter_unique":225,"./filter_visible":226,"./geometry2d":227,"./identity":228,"./increment":229,"./is_plain_object":231,"./keyed_container":232,"./localize":233,"./loggers":234,"./make_trace_groups":235,"./matrix":236,"./mod":237,"./nested_property":238,"./noop":239,"./notifier":240,"./preserve_drawing_buffer":243,"./push_unique":244,"./regex":246,"./relative_attr":247,"./relink_private":248,"./search":249,"./stats":251,"./throttle":253,"./to_log_range":254,"@plotly/d3":11,"d3-time-format":13,"fast-isnumeric":15}],231:[function(e,t,n){"use strict";t.exports=function(e){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(e):"[object Object]"===Object.prototype.toString.call(e)&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},{}],232:[function(e,t,n){"use strict";var r=e("./nested_property"),i=/^\w*$/,a=0,o=1,s=2,u=3,l=4;t.exports=function(e,t,n,c){var f,h,d;n=n||"name",c=c||"value";var p={};t&&t.length?(d=r(e,t),h=d.get()):h=e,t=t||"";var v={};if(h)for(f=0;f<h.length;f++)v[h[f][n]]=f;var g=i.test(c),y={set:function(e,t){var i=null===t?l:a;if(!h){if(!d||i===l)return;h=[],d.set(h)}var o=v[e];if(void 0===o){if(i===l)return;i|=u,o=h.length,v[e]=o}else t!==(g?h[o][c]:r(h[o],c).get())&&(i|=s);var f=h[o]=h[o]||{};return f[n]=e,g?f[c]=t:r(f,c).set(t),null!==t&&(i&=~l),p[o]=p[o]|i,y},get:function(e){if(h){var t=v[e];return void 0===t?void 0:g?h[t][c]:r(h[t],c).get()}},rename:function(e,t){var r=v[e];return void 0===r||(p[r]=p[r]|o,v[t]=r,delete v[e],h[r][n]=t),y},remove:function(e){var t=v[e];if(void 0===t)return y;var i=h[t];if(Object.keys(i).length>2)return p[t]=p[t]|s,y.set(e,null);if(g){for(f=t;f<h.length;f++)p[f]=p[f]|u;for(f=t;f<h.length;f++)v[h[f][n]]--;h.splice(t,1),delete v[e]}else r(i,c).set(null),p[t]=p[t]|s|l;return y},constructUpdate:function(){for(var e,i,a={},u=Object.keys(p),f=0;f<u.length;f++)i=u[f],e=t+"["+i+"]",h[i]?(p[i]&o&&(a[e+"."+n]=h[i][n]),p[i]&s&&(a[e+"."+c]=g?p[i]&l?null:h[i][c]:p[i]&l?null:r(h[i],c).get())):a[e]=null;return a}};return y}},{"./nested_property":238}],233:[function(e,t,n){"use strict";var r=e("../registry");t.exports=function(e,t){for(var n=e._context.locale,i=0;i<2;i++){for(var a=e._context.locales,o=0;o<2;o++){var s=(a[n]||{}).dictionary;if(s){var u=s[t];if(u)return u}a=r.localeRegistry}var l=n.split("-")[0];if(l===n)break;n=l}return t}},{"../registry":313}],234:[function(e,t,n){"use strict";var r=e("../plot_api/plot_config").dfltConfig,i=e("./notifier"),a=t.exports={};a.log=function(){var e;if(r.logging>1){var t=["LOG:"];for(e=0;e<arguments.length;e++)t.push(arguments[e]);console.trace.apply(console,t)}if(r.notifyOnLogging>1){var n=[];for(e=0;e<arguments.length;e++)n.push(arguments[e]);i(n.join("<br>"),"long")}},a.warn=function(){var e;if(r.logging>0){var t=["WARN:"];for(e=0;e<arguments.length;e++)t.push(arguments[e]);console.trace.apply(console,t)}if(r.notifyOnLogging>0){var n=[];for(e=0;e<arguments.length;e++)n.push(arguments[e]);i(n.join("<br>"),"stick")}},a.error=function(){var e;if(r.logging>0){var t=["ERROR:"];for(e=0;e<arguments.length;e++)t.push(arguments[e]);console.error.apply(console,t)}if(r.notifyOnLogging>0){var n=[];for(e=0;e<arguments.length;e++)n.push(arguments[e]);i(n.join("<br>"),"stick")}}},{"../plot_api/plot_config":263,"./notifier":240}],235:[function(e,t,n){"use strict";var r=e("@plotly/d3");t.exports=function(e,t,n){var i=e.selectAll("g."+n.replace(/\s/g,".")).data(t,(function(e){return e[0].trace.uid}));i.exit().remove(),i.enter().append("g").attr("class",n),i.order();var a=e.classed("rangeplot")?"nodeRangePlot3":"node3";return i.each((function(e){e[0][a]=r.select(this)})),i}},{"@plotly/d3":11}],236:[function(e,t,n){"use strict";var r=e("gl-mat4");n.init2dArray=function(e,t){for(var n=new Array(e),r=0;r<e;r++)n[r]=new Array(t);return n},n.transposeRagged=function(e){var t,n,r=0,i=e.length;for(t=0;t<i;t++)r=Math.max(r,e[t].length);var a=new Array(r);for(t=0;t<r;t++)for(a[t]=new Array(i),n=0;n<i;n++)a[t][n]=e[n][t];return a},n.dot=function(e,t){if(!e.length||!t.length||e.length!==t.length)return null;var r,i,a=e.length;if(e[0].length)for(r=new Array(a),i=0;i<a;i++)r[i]=n.dot(e[i],t);else if(t[0].length){var o=n.transposeRagged(t);for(r=new Array(o.length),i=0;i<o.length;i++)r[i]=n.dot(e,o[i])}else for(r=0,i=0;i<a;i++)r+=e[i]*t[i];return r},n.translationMatrix=function(e,t){return[[1,0,e],[0,1,t],[0,0,1]]},n.rotationMatrix=function(e){var t=e*Math.PI/180;return[[Math.cos(t),-Math.sin(t),0],[Math.sin(t),Math.cos(t),0],[0,0,1]]},n.rotationXYMatrix=function(e,t,r){return n.dot(n.dot(n.translationMatrix(t,r),n.rotationMatrix(e)),n.translationMatrix(-t,-r))},n.apply3DTransform=function(e){return function(){var t=arguments,r=1===arguments.length?t[0]:[t[0],t[1],t[2]||0];return n.dot(e,[r[0],r[1],r[2],1]).slice(0,3)}},n.apply2DTransform=function(e){return function(){var t=arguments;3===t.length&&(t=t[0]);var r=1===arguments.length?t[0]:[t[0],t[1]];return n.dot(e,[r[0],r[1],1]).slice(0,2)}},n.apply2DTransform2=function(e){var t=n.apply2DTransform(e);return function(e){return t(e.slice(0,2)).concat(t(e.slice(2,4)))}},n.convertCssMatrix=function(e){if(e){var t=e.length;if(16===t)return e;if(6===t)return[e[0],e[1],0,0,e[2],e[3],0,0,0,0,1,0,e[4],e[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},n.inverseTransformMatrix=function(e){var t=[];return r.invert(t,e),[[t[0],t[1],t[2],t[3]],[t[4],t[5],t[6],t[7]],[t[8],t[9],t[10],t[11]],[t[12],t[13],t[14],t[15]]]}},{"gl-mat4":31}],237:[function(e,t,n){"use strict";function r(e,t){var n=e%t;return n<0?n+t:n}function i(e,t){return Math.abs(e)>t/2?e-Math.round(e/t)*t:e}t.exports={mod:r,modHalf:i}},{}],238:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("./array").isArrayOrTypedArray;function a(e,t){return function(){var n,r,o,s,u,l=e;for(s=0;s<t.length-1;s++){if(-1===(n=t[s])){for(r=!0,o=[],u=0;u<l.length;u++)o[u]=a(l[u],t.slice(s+1))(),o[u]!==o[0]&&(r=!1);return r?o[0]:o}if("number"===typeof n&&!i(l))return;if("object"!==typeof(l=l[n])||null===l)return}if("object"===typeof l&&null!==l&&null!==(o=l[t[s]]))return o}}t.exports=function(e,t){if(r(t))t=String(t);else if("string"!==typeof t||"[-1]"===t.substr(t.length-4))throw"bad property string";for(var n,i,o,s=0,l=t.split(".");s<l.length;){if(n=String(l[s]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(n[1])l[s]=n[1];else{if(0!==s)throw"bad property string";l.splice(0,1)}for(i=n[2].substr(1,n[2].length-2).split("]["),o=0;o<i.length;o++)s++,l.splice(s,0,Number(i[o]))}s++}return"object"!==typeof e?h(e,t,l):{set:u(e,l,t),get:a(e,l),astr:t,parts:l,obj:e}};var o=/(^|\.)args\[/;function s(e,t){return void 0===e||null===e&&!t.match(o)}function u(e,t,n){return function(r){var a,o,u=e,h="",d=[[e,h]],p=s(r,n);for(o=0;o<t.length-1;o++){if("number"===typeof(a=t[o])&&!i(u))throw"array index but container is not an array";if(-1===a){if(p=!c(u,t.slice(o+1),r,n))break;return}if(!f(u,a,t[o+1],p))break;if("object"!==typeof(u=u[a])||null===u)throw"container is not an object";h=l(h,a),d.push([u,h])}if(p){if(o===t.length-1&&(delete u[t[o]],Array.isArray(u)&&+t[o]===u.length-1))for(;u.length&&void 0===u[u.length-1];)u.pop()}else u[t[o]]=r}}function l(e,t){var n=t;return r(t)?n="["+t+"]":e&&(n="."+t),e+n}function c(e,t,n,r){var a,o=i(n),l=!0,c=n,h=r.replace("-1",0),d=!o&&s(n,h),p=t[0];for(a=0;a<e.length;a++)h=r.replace("-1",a),o&&(d=s(c=n[a%n.length],h)),d&&(l=!1),f(e,a,p,d)&&u(e[a],t,r.replace("-1",a))(c);return l}function f(e,t,n,r){if(void 0===e[t]){if(r)return!1;e[t]="number"===typeof n?[]:{}}return!0}function h(e,t,n){return{set:function(){throw"bad container"},get:function(){},astr:t,parts:n,obj:e}}},{"./array":216,"fast-isnumeric":15}],239:[function(e,t,n){"use strict";t.exports=function(){}},{}],240:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("fast-isnumeric"),a=[];t.exports=function(e,t){if(-1===a.indexOf(e)){a.push(e);var n=1e3;i(t)?n=t:"long"===t&&(n=3e3);var o=r.select("body").selectAll(".plotly-notifier").data([0]);o.enter().append("div").classed("plotly-notifier",!0),o.selectAll(".notifier-note").data(a).enter().append("div").classed("notifier-note",!0).style("opacity",0).each((function(e){var i=r.select(this);i.append("button").classed("notifier-close",!0).html("&times;").on("click",(function(){i.transition().call(s)}));for(var a=i.append("p"),o=e.split(/<br\s*\/?>/g),u=0;u<o.length;u++)u&&a.append("br"),a.append("span").text(o[u]);"stick"===t?i.transition().duration(350).style("opacity",1):i.transition().duration(700).style("opacity",1).transition().delay(n).call(s)}))}function s(e){e.duration(700).style("opacity",0).each("end",(function(e){var t=a.indexOf(e);-1!==t&&a.splice(t,1),r.select(this).remove()}))}}},{"@plotly/d3":11,"fast-isnumeric":15}],241:[function(e,t,n){"use strict";var r=e("./setcursor"),i="data-savedcursor",a="!!";t.exports=function(e,t){var n=e.attr(i);if(t){if(!n){for(var o=(e.attr("class")||"").split(" "),s=0;s<o.length;s++){var u=o[s];0===u.indexOf("cursor-")&&e.attr(i,u.substr(7)).classed(u,!1)}e.attr(i)||e.attr(i,a)}r(e,t)}else n&&(e.attr(i,null),n===a?r(e):r(e,n))}},{"./setcursor":250}],242:[function(e,t,n){"use strict";var r=e("./matrix").dot,i=e("../constants/numerical").BADNUM,a=t.exports={};a.tester=function(e){var t,n=e.slice(),r=n[0][0],a=r,o=n[0][1],s=o;for(n.push(n[0]),t=1;t<n.length;t++)r=Math.min(r,n[t][0]),a=Math.max(a,n[t][0]),o=Math.min(o,n[t][1]),s=Math.max(s,n[t][1]);var u,l=!1;function c(e,t){var n=e[0],l=e[1];return!(n===i||n<r||n>a||l===i||l<o||l>s)&&(!t||!u(e))}function f(e,t){var u=e[0],l=e[1];if(u===i||u<r||u>a||l===i||l<o||l>s)return!1;var c,f,h,d,p,v=n.length,g=n[0][0],y=n[0][1],m=0;for(c=1;c<v;c++)if(f=g,h=y,g=n[c][0],y=n[c][1],!(u<(d=Math.min(f,g))||u>Math.max(f,g)||l>Math.max(h,y)))if(l<Math.min(h,y))u!==d&&m++;else{if(l===(p=g===f?l:h+(u-f)*(y-h)/(g-f)))return 1!==c||!t;l<=p&&u!==d&&m++}return m%2===1}5===n.length&&(n[0][0]===n[1][0]?n[2][0]===n[3][0]&&n[0][1]===n[3][1]&&n[1][1]===n[2][1]&&(l=!0,u=function(e){return e[0]===n[0][0]}):n[0][1]===n[1][1]&&n[2][1]===n[3][1]&&n[0][0]===n[3][0]&&n[1][0]===n[2][0]&&(l=!0,u=function(e){return e[1]===n[0][1]}));var h=!0,d=n[0];for(t=1;t<n.length;t++)if(d[0]!==n[t][0]||d[1]!==n[t][1]){h=!1;break}return{xmin:r,xmax:a,ymin:o,ymax:s,pts:n,contains:l?c:f,isRect:l,degenerate:h}},a.isSegmentBent=function(e,t,n,i){var a,o,s,u=e[t],l=[e[n][0]-u[0],e[n][1]-u[1]],c=r(l,l),f=Math.sqrt(c),h=[-l[1]/f,l[0]/f];for(a=t+1;a<n;a++)if(o=[e[a][0]-u[0],e[a][1]-u[1]],(s=r(o,l))<0||s>c||Math.abs(r(o,h))>i)return!0;return!1},a.filter=function(e,t){var n=[e[0]],r=0,i=0;function o(o){e.push(o);var s=n.length,u=r;n.splice(i+1);for(var l=u+1;l<e.length;l++)(l===e.length-1||a.isSegmentBent(e,u,l+1,t))&&(n.push(e[l]),n.length<s-2&&(r=l,i=n.length-1),u=l)}return e.length>1&&o(e.pop()),{addPt:o,raw:e,filtered:n}}},{"../constants/numerical":210,"./matrix":236}],243:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("is-mobile");function a(){var e;return"undefined"!==typeof navigator&&(e=navigator.userAgent),e&&e.headers&&"string"===typeof e.headers["user-agent"]&&(e=e.headers["user-agent"]),e}t.exports=function(e){var t;if("string"!==typeof(t=e&&e.hasOwnProperty("userAgent")?e.userAgent:a()))return!0;var n=i({ua:{headers:{"user-agent":t}},tablet:!0,featureDetect:!1});if(!n)for(var o=t.split(" "),s=1;s<o.length;s++)if(-1!==o[s].indexOf("Safari"))for(var u=s-1;u>-1;u--){var l=o[u];if("Version/"===l.substr(0,8)){var c=l.substr(8).split(".")[0];if(r(c)&&(c=+c),c>=13)return!0}}return n}},{"fast-isnumeric":15,"is-mobile":49}],244:[function(e,t,n){"use strict";t.exports=function(e,t){if(t instanceof RegExp){for(var n=t.toString(),r=0;r<e.length;r++)if(e[r]instanceof RegExp&&e[r].toString()===n)return e;e.push(t)}else!t&&0!==t||-1!==e.indexOf(t)||e.push(t);return e}},{}],245:[function(e,t,n){"use strict";var r=e("../lib"),i=e("../plot_api/plot_config").dfltConfig;function a(e,t){for(var n,i=[],a=0;a<t.length;a++)n=t[a],i[a]=n===e?n:"object"===typeof n?Array.isArray(n)?r.extendDeep([],n):r.extendDeepAll({},n):n;return i}var o={add:function(e,t,n,r,a){var o,s;e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},s=e.undoQueue.index,e.autoplay?e.undoQueue.inSequence||(e.autoplay=!1):(!e.undoQueue.sequence||e.undoQueue.beginSequence?(o={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},e.undoQueue.queue.splice(s,e.undoQueue.queue.length-s,o),e.undoQueue.index+=1):o=e.undoQueue.queue[s-1],e.undoQueue.beginSequence=!1,o&&(o.undo.calls.unshift(t),o.undo.args.unshift(n),o.redo.calls.push(r),o.redo.args.push(a)),e.undoQueue.queue.length>i.queueLength&&(e.undoQueue.queue.shift(),e.undoQueue.index--))},startSequence:function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!0,e.undoQueue.beginSequence=!0},stopSequence:function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!1,e.undoQueue.beginSequence=!1},undo:function(e){var t,n;if(!(void 0===e.undoQueue||isNaN(e.undoQueue.index)||e.undoQueue.index<=0)){for(e.undoQueue.index--,t=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,n=0;n<t.undo.calls.length;n++)o.plotDo(e,t.undo.calls[n],t.undo.args[n]);e.undoQueue.inSequence=!1,e.autoplay=!1}},redo:function(e){var t,n;if(!(void 0===e.undoQueue||isNaN(e.undoQueue.index)||e.undoQueue.index>=e.undoQueue.queue.length)){for(t=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,n=0;n<t.redo.calls.length;n++)o.plotDo(e,t.redo.calls[n],t.redo.args[n]);e.undoQueue.inSequence=!1,e.autoplay=!1,e.undoQueue.index++}},plotDo:function(e,t,n){e.autoplay=!0,n=a(e,n),t.apply(null,n)}};t.exports=o},{"../lib":230,"../plot_api/plot_config":263}],246:[function(e,t,n){"use strict";n.counter=function(e,t,n,r){var i=(t||"")+(n?"":"$"),a=!1===r?"":"^";return"xy"===e?new RegExp(a+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+i):new RegExp(a+e+"([2-9]|[1-9][0-9]+)?"+i)}},{}],247:[function(e,t,n){"use strict";var r=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,i=/^[^\.\[\]]+$/;t.exports=function(e,t){for(;t;){var n=e.match(r);if(n)e=n[1];else{if(!e.match(i))throw new Error("bad relativeAttr call:"+[e,t]);e=""}if("^"!==t.charAt(0))break;t=t.slice(1)}return e&&"["!==t.charAt(0)?e+"."+t:e+t}},{}],248:[function(e,t,n){"use strict";var r=e("./array").isArrayOrTypedArray,i=e("./is_plain_object");t.exports=function e(t,n){for(var a in n){var o=n[a],s=t[a];if(s!==o)if("_"===a.charAt(0)||"function"===typeof o){if(a in t)continue;t[a]=o}else if(r(o)&&r(s)&&i(o[0])){if("customdata"===a||"ids"===a)continue;for(var u=Math.min(o.length,s.length),l=0;l<u;l++)s[l]!==o[l]&&i(o[l])&&i(s[l])&&e(s[l],o[l])}else i(o)&&i(s)&&(e(s,o),Object.keys(s).length||delete t[a])}}},{"./array":216,"./is_plain_object":231}],249:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("./loggers"),a=e("./identity"),o=e("../constants/numerical").BADNUM,s=1e-9;function u(e,t){return e<t}function l(e,t){return e<=t}function c(e,t){return e>t}function f(e,t){return e>=t}n.findBin=function(e,t,n){if(r(t.start))return n?Math.ceil((e-t.start)/t.size-s)-1:Math.floor((e-t.start)/t.size+s);var a,o,h=0,d=t.length,p=0,v=d>1?(t[d-1]-t[0])/(d-1):1;for(o=v>=0?n?u:l:n?f:c,e+=v*s*(n?-1:1)*(v>=0?1:-1);h<d&&p++<100;)o(t[a=Math.floor((h+d)/2)],e)?h=a+1:d=a;return p>90&&i.log("Long binary search..."),h-1},n.sorterAsc=function(e,t){return e-t},n.sorterDes=function(e,t){return t-e},n.distinctVals=function(e){var t,r=e.slice();for(r.sort(n.sorterAsc),t=r.length-1;t>-1&&r[t]===o;t--);for(var i,a=r[t]-r[0]||1,s=a/(t||1)/1e4,u=[],l=0;l<=t;l++){var c=r[l],f=c-i;void 0===i?(u.push(c),i=c):f>s&&(a=Math.min(a,f),u.push(c),i=c)}return{vals:u,minDiff:a}},n.roundUp=function(e,t,n){for(var r,i=0,a=t.length-1,o=0,s=n?0:1,u=n?1:0,l=n?Math.ceil:Math.floor;i<a&&o++<100;)t[r=l((i+a)/2)]<=e?i=r+s:a=r-u;return t[i]},n.sort=function(e,t){for(var n=0,r=0,i=1;i<e.length;i++){var a=t(e[i],e[i-1]);if(a<0?n=1:a>0&&(r=1),n&&r)return e.sort(t)}return r?e:e.reverse()},n.findIndexOfMin=function(e,t){t=t||a;for(var n,r=1/0,i=0;i<e.length;i++){var o=t(e[i]);o<r&&(r=o,n=i)}return n}},{"../constants/numerical":210,"./identity":228,"./loggers":234,"fast-isnumeric":15}],250:[function(e,t,n){"use strict";t.exports=function(e,t){(e.attr("class")||"").split(" ").forEach((function(t){0===t.indexOf("cursor-")&&e.classed(t,!1)})),t&&e.classed("cursor-"+t,!0)}},{}],251:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("./array").isArrayOrTypedArray;n.aggNums=function(e,t,a,o){var s,u;if((!o||o>a.length)&&(o=a.length),r(t)||(t=!1),i(a[0])){for(u=new Array(o),s=0;s<o;s++)u[s]=n.aggNums(e,t,a[s]);a=u}for(s=0;s<o;s++)r(t)?r(a[s])&&(t=e(+t,+a[s])):t=a[s];return t},n.len=function(e){return n.aggNums((function(e){return e+1}),0,e)},n.mean=function(e,t){return t||(t=n.len(e)),n.aggNums((function(e,t){return e+t}),0,e)/t},n.midRange=function(e){if(void 0!==e&&0!==e.length)return(n.aggNums(Math.max,null,e)+n.aggNums(Math.min,null,e))/2},n.variance=function(e,t,i){return t||(t=n.len(e)),r(i)||(i=n.mean(e,t)),n.aggNums((function(e,t){return e+Math.pow(t-i,2)}),0,e)/t},n.stdev=function(e,t,r){return Math.sqrt(n.variance(e,t,r))},n.median=function(e){var t=e.slice().sort();return n.interp(t,.5)},n.interp=function(e,t){if(!r(t))throw"n should be a finite number";if((t=t*e.length-.5)<0)return e[0];if(t>e.length-1)return e[e.length-1];var n=t%1;return n*e[Math.ceil(t)]+(1-n)*e[Math.floor(t)]}},{"./array":216,"fast-isnumeric":15}],252:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../lib"),a=i.strTranslate,o=e("../constants/xmlns_namespaces"),s=e("../constants/alignment").LINE_SPACING;function u(e,t){return e.node().getBoundingClientRect()[t]}var l=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;n.convertToTspans=function(e,t,i){var o=e.text(),s=!e.attr("data-notex")&&"undefined"!==typeof MathJax&&o.match(l),c=r.select(e.node().parentNode);if(!c.empty()){var f=e.attr("class")?e.attr("class").split(" ")[0]:"text";return f+="-math",c.selectAll("svg."+f).remove(),c.selectAll("g."+f+"-group").remove(),e.style("display",null).attr({"data-unformatted":o,"data-math":"N"}),s?(t&&t._promises||[]).push(new Promise((function(t){e.style("display","none");var n=parseInt(e.node().style.fontSize,10),r={fontSize:n};d(s[2],r,(function(r,s,l){c.selectAll("svg."+f).remove(),c.selectAll("g."+f+"-group").remove();var d=r&&r.select("svg");if(!d||!d.node())return h(),void t();var p=c.append("g").classed(f+"-group",!0).attr({"pointer-events":"none","data-unformatted":o,"data-math":"Y"});p.node().appendChild(d.node()),s&&s.node()&&d.node().insertBefore(s.node().cloneNode(!0),d.node().firstChild),d.attr({class:f,height:l.height,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var v=e.node().style.fill||"black",g=d.select("g");g.attr({fill:v,stroke:v});var y=u(g,"width"),m=u(g,"height"),b=+e.attr("x")-y*{start:0,middle:.5,end:1}[e.attr("text-anchor")||"start"],_=-(n||u(e,"height"))/4;"y"===f[0]?(p.attr({transform:"rotate("+[-90,+e.attr("x"),+e.attr("y")]+")"+a(-y/2,_-m/2)}),d.attr({x:+e.attr("x"),y:+e.attr("y")})):"l"===f[0]?d.attr({x:e.attr("x"),y:_-m/2}):"a"===f[0]&&0!==f.indexOf("atitle")?d.attr({x:0,y:_}):d.attr({x:b,y:+e.attr("y")+_-m/2}),i&&i.call(e,p),t(p)}))}))):h(),e}function h(){c.empty()||(f=e.attr("class")+"-math",c.select("svg."+f).remove()),e.text("").style("white-space","pre"),P(e.node(),o)&&e.style("pointer-events","all"),n.positionText(e),i&&i.call(e)}};var c=/(<|&lt;|&#60;)/g,f=/(>|&gt;|&#62;)/g;function h(e){return e.replace(c,"\\lt ").replace(f,"\\gt ")}function d(e,t,n){var a,o,s,u;MathJax.Hub.Queue((function(){return o=i.extendDeepAll({},MathJax.Hub.config),s=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]},displayAlign:"left"})}),(function(){if("SVG"!==(a=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")}),(function(){var n="math-output-"+i.randstr({},64);return u=r.select("body").append("div").attr({id:n}).style({visibility:"hidden",position:"absolute"}).style({"font-size":t.fontSize+"px"}).text(h(e)),MathJax.Hub.Typeset(u.node())}),(function(){var t=r.select("body").select("#MathJax_SVG_glyphs");if(u.select(".MathJax_SVG").empty()||!u.select("svg").node())i.log("There was an error in the tex syntax.",e),n();else{var o=u.select("svg").node().getBoundingClientRect();n(u.select(".MathJax_SVG"),t,o)}if(u.remove(),"SVG"!==a)return MathJax.Hub.setRenderer(a)}),(function(){return void 0!==s&&(MathJax.Hub.processSectionDelay=s),MathJax.Hub.Config(o)}))}var p={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},v={sub:"0.3em",sup:"-0.6em"},g={sub:"-0.21em",sup:"0.42em"},y="\u200b",m=["http:","https:","mailto:","",void 0,":"],b=n.NEWLINES=/(\r\n?|\n)/g,_=/(<[^<>]*>)/,w=/<(\/?)([^ >]*)(\s+(.*))?>/i,x=/<br(\s+.*)?>/i;n.BR_TAG_ALL=/<br(\s+.*)?>/gi;var T=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,k=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,O=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,S=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function A(e,t){if(!e)return null;var n=e.match(t),r=n&&(n[3]||n[4]);return r&&I(r)}var E=/(^|;)\s*color:/;n.plainText=function(e,t){for(var n=void 0!==(t=t||{}).len&&-1!==t.len?t.len:1/0,r=void 0!==t.allowedTags?t.allowedTags:["br"],i="...",a=i.length,o=e.split(_),s=[],u="",l=0,c=0;c<o.length;c++){var f=o[c],h=f.match(w),d=h&&h[2].toLowerCase();if(d)-1!==r.indexOf(d)&&(s.push(f),u=d);else{var p=f.length;if(l+p<n)s.push(f),l+=p;else if(l<n){var v=n-l;u&&("br"!==u||v<=a||p<=a)&&s.pop(),n>a?s.push(f.substr(0,v-a)+i):s.push(f.substr(0,v));break}u=""}}return s.join("")};var C={mu:"\u03bc",amp:"&",lt:"<",gt:">",nbsp:"\xa0",times:"\xd7",plusmn:"\xb1",deg:"\xb0"},M=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function I(e){return e.replace(M,(function(e,t){return("#"===t.charAt(0)?D("x"===t.charAt(1)?parseInt(t.substr(2),16):parseInt(t.substr(1),10)):C[t])||e}))}function D(e){if(!(e>1114111)){var t=String.fromCodePoint;if(t)return t(e);var n=String.fromCharCode;return e<=65535?n(e):n(55232+(e>>10),e%1024+56320)}}function P(e,t){t=t.replace(b," ");var n,a=!1,u=[],l=-1;function c(){l++;var t=document.createElementNS(o.svg,"tspan");r.select(t).attr({class:"line",dy:l*s+"em"}),e.appendChild(t),n=t;var i=u;if(u=[{node:t}],i.length>1)for(var a=1;a<i.length;a++)f(i[a])}function f(e){var t,i=e.type,a={};if("a"===i){t="a";var s=e.target,l=e.href,c=e.popup;l&&(a={"xlink:xlink:show":"_blank"===s||"_"!==s.charAt(0)?"new":"replace",target:s,"xlink:xlink:href":l},c&&(a.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+c+'");return false;'))}else t="tspan";e.style&&(a.style=e.style);var f=document.createElementNS(o.svg,t);if("sup"===i||"sub"===i){h(n,y),n.appendChild(f);var d=document.createElementNS(o.svg,"tspan");h(d,y),r.select(d).attr("dy",g[i]),a.dy=v[i],n.appendChild(f),n.appendChild(d)}else n.appendChild(f);r.select(f).attr(a),n=e.node=f,u.push(e)}function h(e,t){e.appendChild(document.createTextNode(t))}function d(e){if(1!==u.length){var r=u.pop();e!==r.type&&i.log("Start tag <"+r.type+"> doesnt match end tag <"+e+">. Pretending it did match.",t),n=u[u.length-1].node}else i.log("Ignoring unexpected end tag </"+e+">.",t)}x.test(t)?c():(n=e,u=[{node:e}]);for(var m=t.split(_),C=0;C<m.length;C++){var M=m[C],D=M.match(w),P=D&&D[2].toLowerCase(),j=p[P];if("br"===P)c();else if(void 0===j)h(n,I(M));else if(D[1])d(P);else{var L=D[4],R={type:P},F=A(L,T);if(F?(F=F.replace(E,"$1 fill:"),j&&(F+=";"+j)):j&&(F=j),F&&(R.style=F),"a"===P){a=!0;var z=A(L,k);if(z){var U=N(z);U&&(R.href=U,R.target=A(L,O)||"_blank",R.popup=A(L,S))}}f(R)}}return a}function N(e){var t=encodeURI(decodeURI(e)),n=document.createElement("a"),r=document.createElement("a");n.href=e,r.href=t;var i=n.protocol,a=r.protocol;return-1!==m.indexOf(i)&&-1!==m.indexOf(a)?t:""}function j(e,t,n){var r,a,o,s=n.horizontalAlign,u=n.verticalAlign||"top",l=e.node().getBoundingClientRect(),c=t.node().getBoundingClientRect();return a="bottom"===u?function(){return l.bottom-r.height}:"middle"===u?function(){return l.top+(l.height-r.height)/2}:function(){return l.top},o="right"===s?function(){return l.right-r.width}:"center"===s?function(){return l.left+(l.width-r.width)/2}:function(){return l.left},function(){r=this.node().getBoundingClientRect();var e=o()-c.left,t=a()-c.top,s=n.gd||{};if(n.gd){s._fullLayout._calcInverseTransform(s);var u=i.apply3DTransform(s._fullLayout._invTransform)(e,t);e=u[0],t=u[1]}return this.style({top:t+"px",left:e+"px","z-index":1e3}),this}}n.convertEntities=I,n.sanitizeHTML=function(e){e=e.replace(b," ");for(var t=document.createElement("p"),n=t,i=[],a=e.split(_),o=0;o<a.length;o++){var s=a[o],u=s.match(w),l=u&&u[2].toLowerCase();if(l in p)if(u[1])i.length&&(n=i.pop());else{var c=u[4],f=A(c,T),h=f?{style:f}:{};if("a"===l){var d=A(c,k);if(d){var v=N(d);if(v){h.href=v;var g=A(c,O);g&&(h.target=g)}}}var y=document.createElement(l);n.appendChild(y),r.select(y).attr(h),n=y,i.push(y)}else n.appendChild(document.createTextNode(I(s)))}return t.innerHTML},n.lineCount=function(e){return e.selectAll("tspan.line").size()||1},n.positionText=function(e,t,n){return e.each((function(){var e=r.select(this);function i(t,n){return void 0===n?null===(n=e.attr(t))&&(e.attr(t,0),n=0):e.attr(t,n),n}var a=i("x",t),o=i("y",n);"text"===this.nodeName&&e.selectAll("tspan.line").attr({x:a,y:o})}))};var L="1px ";n.makeTextShadow=function(e){return L+L+L+e+", -"+L+"-"+L+L+e+", "+L+"-"+L+L+e+", -"+L+L+L+e},n.makeEditable=function(e,t){var n=t.gd,i=t.delegate,a=r.dispatch("edit","input","cancel"),o=i||e;if(e.style({"pointer-events":i?"none":"all"}),1!==e.size())throw new Error("boo");function s(){l(),e.style({opacity:0});var t,n=o.attr("class");(t=n?"."+n.split(" ")[0]+"-math-group":"[class*=-math-group]")&&r.select(e.node().parentNode).select(t).style({opacity:0})}function u(e){var t=e.node(),n=document.createRange();n.selectNodeContents(t);var r=window.getSelection();r.removeAllRanges(),r.addRange(n),t.focus()}function l(){var i=r.select(n).select(".svg-container"),o=i.append("div"),s=e.node().style,l=parseFloat(s.fontSize||12),c=t.text;void 0===c&&(c=e.attr("data-unformatted")),o.classed("plugin-editable editable",!0).style({position:"absolute","font-family":s.fontFamily||"Arial","font-size":l,color:t.fill||s.fill||"black",opacity:1,"background-color":t.background||"transparent",outline:"#ffffff33 1px solid",margin:[-l/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(c).call(j(e,i,t)).on("blur",(function(){n._editing=!1,e.text(this.textContent).style({opacity:1});var t,i=r.select(this).attr("class");(t=i?"."+i.split(" ")[0]+"-math-group":"[class*=-math-group]")&&r.select(e.node().parentNode).select(t).style({opacity:0});var o=this.textContent;r.select(this).transition().duration(0).remove(),r.select(document).on("mouseup",null),a.edit.call(e,o)})).on("focus",(function(){var e=this;n._editing=!0,r.select(document).on("mouseup",(function(){if(r.event.target===e)return!1;document.activeElement===o.node()&&o.node().blur()}))})).on("keyup",(function(){27===r.event.which?(n._editing=!1,e.style({opacity:1}),r.select(this).style({opacity:0}).on("blur",(function(){return!1})).transition().remove(),a.cancel.call(e,this.textContent)):(a.input.call(e,this.textContent),r.select(this).call(j(e,i,t)))})).on("keydown",(function(){13===r.event.which&&this.blur()})).call(u)}return t.immediate?s():o.on("click",s),r.rebind(e,a,"on")}},{"../constants/alignment":205,"../constants/xmlns_namespaces":211,"../lib":230,"@plotly/d3":11}],253:[function(e,t,n){"use strict";var r={};function i(e){e&&null!==e.timer&&(clearTimeout(e.timer),e.timer=null)}n.throttle=function(e,t,n){var a=r[e],o=Date.now();if(!a){for(var s in r)r[s].ts<o-6e4&&delete r[s];a=r[e]={ts:0,timer:null}}function u(){n(),a.ts=Date.now(),a.onDone&&(a.onDone(),a.onDone=null)}i(a),o>a.ts+t?u():a.timer=setTimeout((function(){u(),a.timer=null}),t)},n.done=function(e){var t=r[e];return t&&t.timer?new Promise((function(e){var n=t.onDone;t.onDone=function(){n&&n(),e(),t.onDone=null}})):Promise.resolve()},n.clear=function(e){if(e)i(r[e]),delete r[e];else for(var t in r)n.clear(t)}},{}],254:[function(e,t,n){"use strict";var r=e("fast-isnumeric");t.exports=function(e,t){if(e>0)return Math.log(e)/Math.LN10;var n=Math.log(Math.min(t[0],t[1]))/Math.LN10;return r(n)||(n=Math.log(Math.max(t[0],t[1]))/Math.LN10-6),n}},{"fast-isnumeric":15}],255:[function(e,t,n){"use strict";t.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},{}],256:[function(e,t,n){"use strict";t.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},{}],257:[function(e,t,n){"use strict";var r=e("../registry");t.exports=function(e){for(var t,n,i=r.layoutArrayContainers,a=r.layoutArrayRegexes,o=e.split("[")[0],s=0;s<a.length;s++)if((n=e.match(a[s]))&&0===n.index){t=n[0];break}if(t||(t=i[i.indexOf(o)]),!t)return!1;var u=e.substr(t.length);return u?!!(n=u.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:t,index:Number(n[1]),property:n[3]||""}:{array:t,index:"",property:""}}},{"../registry":313}],258:[function(e,t,n){"use strict";var r=e("../lib"),i=r.extendFlat,a=r.isPlainObject,o={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},s={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},u=o.flags.slice().concat(["fullReplot"]),l=s.flags.slice().concat("layoutReplot");function c(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!1;return t}function f(e,t,n){var r=i({},e);for(var o in r){var s=r[o];a(s)&&(r[o]=h(s,t,n,o))}return"from-root"===n&&(r.editType=t),r}function h(e,t,n,r){if(e.valType){var a=i({},e);if(a.editType=t,Array.isArray(e.items)){a.items=new Array(e.items.length);for(var o=0;o<e.items.length;o++)a.items[o]=h(e.items[o],t,"from-root")}return a}return f(e,t,"_"===r.charAt(0)?"nested":"from-root")}t.exports={traces:o,layout:s,traceFlags:function(){return c(u)},layoutFlags:function(){return c(l)},update:function(e,t){var n=t.editType;if(n&&"none"!==n)for(var r=n.split("+"),i=0;i<r.length;i++)e[r[i]]=!0},overrideAll:f}},{"../lib":230}],259:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("gl-mat4/fromQuat"),a=e("../registry"),o=e("../lib"),s=e("../plots/plots"),u=e("../plots/cartesian/axis_ids"),l=e("../components/color"),c=u.cleanId,f=u.getFromTrace,h=a.traceIs;function d(e,t){var n=e[t],r=t.charAt(0);n&&"paper"!==n&&(e[t]=c(n,r,!0))}function p(e){function t(t,n){var r=e[t],i=e.title&&e.title[n];r&&!i&&(e.title||(e.title={}),e.title[n]=e[t],delete e[t])}e&&("string"!==typeof e.title&&"number"!==typeof e.title||(e.title={text:e.title}),t("titlefont","font"),t("titleposition","position"),t("titleside","side"),t("titleoffset","offset"))}function v(e){if(!o.isPlainObject(e))return!1;var t=e.name;return delete e.name,delete e.showlegend,("string"===typeof t||"number"===typeof t)&&String(t)}function g(e,t,n,r){if(n&&!r)return e;if(r&&!n)return t;if(!e.trim())return t;if(!t.trim())return e;var i,a=Math.min(e.length,t.length);for(i=0;i<a&&e.charAt(i)===t.charAt(i);i++);return e.substr(0,i).trim()}function y(e){var t="middle",n="center";return"string"===typeof e&&(-1!==e.indexOf("top")?t="top":-1!==e.indexOf("bottom")&&(t="bottom"),-1!==e.indexOf("left")?n="left":-1!==e.indexOf("right")&&(n="right")),t+" "+n}function m(e,t){return t in e&&"object"===typeof e[t]&&0===Object.keys(e[t]).length}n.clearPromiseQueue=function(e){Array.isArray(e._promises)&&e._promises.length>0&&o.log("Clearing previous rejected promises from queue."),e._promises=[]},n.cleanLayout=function(e){var t,r;e||(e={}),e.xaxis1&&(e.xaxis||(e.xaxis=e.xaxis1),delete e.xaxis1),e.yaxis1&&(e.yaxis||(e.yaxis=e.yaxis1),delete e.yaxis1),e.scene1&&(e.scene||(e.scene=e.scene1),delete e.scene1);var a=(s.subplotsRegistry.cartesian||{}).attrRegex,u=(s.subplotsRegistry.polar||{}).attrRegex,f=(s.subplotsRegistry.ternary||{}).attrRegex,h=(s.subplotsRegistry.gl3d||{}).attrRegex,v=Object.keys(e);for(t=0;t<v.length;t++){var g=v[t];if(a&&a.test(g)){var y=e[g];y.anchor&&"free"!==y.anchor&&(y.anchor=c(y.anchor)),y.overlaying&&(y.overlaying=c(y.overlaying)),y.type||(y.isdate?y.type="date":y.islog?y.type="log":!1===y.isdate&&!1===y.islog&&(y.type="linear")),"withzero"!==y.autorange&&"tozero"!==y.autorange||(y.autorange=!0,y.rangemode="tozero"),delete y.islog,delete y.isdate,delete y.categories,m(y,"domain")&&delete y.domain,void 0!==y.autotick&&(void 0===y.tickmode&&(y.tickmode=y.autotick?"auto":"linear"),delete y.autotick),p(y)}else if(u&&u.test(g))p(e[g].radialaxis);else if(f&&f.test(g)){var b=e[g];p(b.aaxis),p(b.baxis),p(b.caxis)}else if(h&&h.test(g)){var _=e[g],w=_.cameraposition;if(Array.isArray(w)&&4===w[0].length){var x=w[0],T=w[1],k=w[2],O=i([],x),S=[];for(r=0;r<3;++r)S[r]=T[r]+k*O[2+4*r];_.camera={eye:{x:S[0],y:S[1],z:S[2]},center:{x:T[0],y:T[1],z:T[2]},up:{x:0,y:0,z:1}},delete _.cameraposition}p(_.xaxis),p(_.yaxis),p(_.zaxis)}}var A=Array.isArray(e.annotations)?e.annotations.length:0;for(t=0;t<A;t++){var E=e.annotations[t];o.isPlainObject(E)&&(E.ref&&("paper"===E.ref?(E.xref="paper",E.yref="paper"):"data"===E.ref&&(E.xref="x",E.yref="y"),delete E.ref),d(E,"xref"),d(E,"yref"))}var C=Array.isArray(e.shapes)?e.shapes.length:0;for(t=0;t<C;t++){var M=e.shapes[t];o.isPlainObject(M)&&(d(M,"xref"),d(M,"yref"))}var I=Array.isArray(e.images)?e.images.length:0;for(t=0;t<I;t++){var D=e.images[t];o.isPlainObject(D)&&(d(D,"xref"),d(D,"yref"))}var P=e.legend;return P&&(P.x>3?(P.x=1.02,P.xanchor="left"):P.x<-2&&(P.x=-.02,P.xanchor="right"),P.y>3?(P.y=1.02,P.yanchor="bottom"):P.y<-2&&(P.y=-.02,P.yanchor="top")),p(e),"rotate"===e.dragmode&&(e.dragmode="orbit"),l.clean(e),e.template&&e.template.layout&&n.cleanLayout(e.template.layout),e},n.cleanData=function(e){for(var t=0;t<e.length;t++){var r,i=e[t];if("histogramy"===i.type&&"xbins"in i&&!("ybins"in i)&&(i.ybins=i.xbins,delete i.xbins),i.error_y&&"opacity"in i.error_y){var u=l.defaults,f=i.error_y.color||(h(i,"bar")?l.defaultLine:u[t%u.length]);i.error_y.color=l.addOpacity(l.rgb(f),l.opacity(f)*i.error_y.opacity),delete i.error_y.opacity}if("bardir"in i&&("h"!==i.bardir||!h(i,"bar")&&"histogram"!==i.type.substr(0,9)||(i.orientation="h",n.swapXYData(i)),delete i.bardir),"histogramy"===i.type&&n.swapXYData(i),"histogramx"!==i.type&&"histogramy"!==i.type||(i.type="histogram"),"scl"in i&&!("colorscale"in i)&&(i.colorscale=i.scl,delete i.scl),"reversescl"in i&&!("reversescale"in i)&&(i.reversescale=i.reversescl,delete i.reversescl),i.xaxis&&(i.xaxis=c(i.xaxis,"x")),i.yaxis&&(i.yaxis=c(i.yaxis,"y")),h(i,"gl3d")&&i.scene&&(i.scene=s.subplotsRegistry.gl3d.cleanId(i.scene)),!h(i,"pie-like")&&!h(i,"bar-like"))if(Array.isArray(i.textposition))for(r=0;r<i.textposition.length;r++)i.textposition[r]=y(i.textposition[r]);else i.textposition&&(i.textposition=y(i.textposition));var d=a.getModule(i);if(d&&d.colorbar){var b=d.colorbar.container,_=b?i[b]:i;_&&_.colorscale&&("YIGnBu"===_.colorscale&&(_.colorscale="YlGnBu"),"YIOrRd"===_.colorscale&&(_.colorscale="YlOrRd"))}if("surface"===i.type&&o.isPlainObject(i.contours)){var w=["x","y","z"];for(r=0;r<w.length;r++){var x=i.contours[w[r]];o.isPlainObject(x)&&(x.highlightColor&&(x.highlightcolor=x.highlightColor,delete x.highlightColor),x.highlightWidth&&(x.highlightwidth=x.highlightWidth,delete x.highlightWidth))}}if("candlestick"===i.type||"ohlc"===i.type){var T=!1!==(i.increasing||{}).showlegend,k=!1!==(i.decreasing||{}).showlegend,O=v(i.increasing),S=v(i.decreasing);if(!1!==O&&!1!==S){var A=g(O,S,T,k);A&&(i.name=A)}else!O&&!S||i.name||(i.name=O||S)}if(Array.isArray(i.transforms)){var E=i.transforms;for(r=0;r<E.length;r++){var C=E[r];if(o.isPlainObject(C))switch(C.type){case"filter":C.filtersrc&&(C.target=C.filtersrc,delete C.filtersrc),C.calendar&&(C.valuecalendar||(C.valuecalendar=C.calendar),delete C.calendar);break;case"groupby":if(C.styles=C.styles||C.style,C.styles&&!Array.isArray(C.styles)){var M=C.styles,I=Object.keys(M);C.styles=[];for(var D=0;D<I.length;D++)C.styles.push({target:I[D],value:M[I[D]]})}}}}m(i,"line")&&delete i.line,"marker"in i&&(m(i.marker,"line")&&delete i.marker.line,m(i,"marker")&&delete i.marker),l.clean(i),i.autobinx&&(delete i.autobinx,delete i.xbins),i.autobiny&&(delete i.autobiny,delete i.ybins),p(i),i.colorbar&&p(i.colorbar),i.marker&&i.marker.colorbar&&p(i.marker.colorbar),i.line&&i.line.colorbar&&p(i.line.colorbar),i.aaxis&&p(i.aaxis),i.baxis&&p(i.baxis)}},n.swapXYData=function(e){var t;if(o.swapAttrs(e,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(e.z)&&Array.isArray(e.z[0])&&(e.transpose?delete e.transpose:e.transpose=!0),e.error_x&&e.error_y){var n=e.error_y,r="copy_ystyle"in n?n.copy_ystyle:!(n.color||n.thickness||n.width);o.swapAttrs(e,["error_?.copy_ystyle"]),r&&o.swapAttrs(e,["error_?.color","error_?.thickness","error_?.width"])}if("string"===typeof e.hoverinfo){var i=e.hoverinfo.split("+");for(t=0;t<i.length;t++)"x"===i[t]?i[t]="y":"y"===i[t]&&(i[t]="x");e.hoverinfo=i.join("+")}},n.coerceTraceIndices=function(e,t){if(r(t))return[t];if(!Array.isArray(t)||!t.length)return e.data.map((function(e,t){return t}));if(Array.isArray(t)){for(var n=[],i=0;i<t.length;i++)o.isIndex(t[i],e.data.length)?n.push(t[i]):o.warn("trace index (",t[i],") is not a number or is out of bounds");return n}return t},n.manageArrayContainers=function(e,t,n){var i=e.obj,a=e.parts,s=a.length,u=a[s-1],l=r(u);if(l&&null===t){var c=a.slice(0,s-1).join(".");o.nestedProperty(i,c).get().splice(u,1)}else l&&void 0===e.get()?(void 0===e.get()&&(n[e.astr]=null),e.set(t)):e.set(t)};var b=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function _(e){var t=e.search(b);if(t>0)return e.substr(0,t)}n.hasParent=function(e,t){for(var n=_(t);n;){if(n in e)return!0;n=_(n)}return!1};var w=["x","y","z"];n.clearAxisTypes=function(e,t,n){for(var r=0;r<t.length;r++)for(var i=e._fullData[r],a=0;a<3;a++){var s=f(e,i,w[a]);if(s&&"log"!==s.type){var u=s._name,l=s._id.substr(1);if("scene"===l.substr(0,5)){if(void 0!==n[l])continue;u=l+"."+u}var c=u+".type";void 0===n[u]&&void 0===n[c]&&o.nestedProperty(e.layout,c).set(null)}}}},{"../components/color":100,"../lib":230,"../plots/cartesian/axis_ids":280,"../plots/plots":311,"../registry":313,"fast-isnumeric":15,"gl-mat4/fromQuat":21}],260:[function(e,t,n){"use strict";var r=e("./plot_api");n._doPlot=r._doPlot,n.newPlot=r.newPlot,n.restyle=r.restyle,n.relayout=r.relayout,n.redraw=r.redraw,n.update=r.update,n._guiRestyle=r._guiRestyle,n._guiRelayout=r._guiRelayout,n._guiUpdate=r._guiUpdate,n._storeDirectGUIEdit=r._storeDirectGUIEdit,n.react=r.react,n.extendTraces=r.extendTraces,n.prependTraces=r.prependTraces,n.addTraces=r.addTraces,n.deleteTraces=r.deleteTraces,n.moveTraces=r.moveTraces,n.purge=r.purge,n.addFrames=r.addFrames,n.deleteFrames=r.deleteFrames,n.animate=r.animate,n.setPlotConfig=r.setPlotConfig,n.toImage=e("./to_image"),n.validate=e("./validate"),n.downloadImage=e("../snapshot/download");var i=e("./template_api");n.makeTemplate=i.makeTemplate,n.validateTemplate=i.validateTemplate},{"../snapshot/download":315,"./plot_api":262,"./template_api":267,"./to_image":268,"./validate":269}],261:[function(e,t,n){"use strict";var r=e("../lib/is_plain_object"),i=e("../lib/noop"),a=e("../lib/loggers"),o=e("../lib/search").sorterAsc,s=e("../registry");n.containerArrayMatch=e("./container_array_match");var u=n.isAddVal=function(e){return"add"===e||r(e)},l=n.isRemoveVal=function(e){return null===e||"remove"===e};n.applyContainerArrayChanges=function(e,t,n,r,c){var f=t.astr,h=s.getComponentMethod(f,"supplyLayoutDefaults"),d=s.getComponentMethod(f,"draw"),p=s.getComponentMethod(f,"drawOne"),v=r.replot||r.recalc||h===i||d===i,g=e.layout,y=e._fullLayout;if(n[""]){Object.keys(n).length>1&&a.warn("Full array edits are incompatible with other edits",f);var m=n[""][""];if(l(m))t.set(null);else{if(!Array.isArray(m))return a.warn("Unrecognized full array edit value",f,m),!0;t.set(m)}return!v&&(h(g,y),d(e),!0)}var b,_,w,x,T,k,O,S,A=Object.keys(n).map(Number).sort(o),E=t.get(),C=E||[],M=c(y,f).get(),I=[],D=-1,P=C.length;for(b=0;b<A.length;b++)if(x=n[w=A[b]],T=Object.keys(x),k=x[""],O=u(k),w<0||w>C.length-(O?0:1))a.warn("index out of range",f,w);else if(void 0!==k)T.length>1&&a.warn("Insertion & removal are incompatible with edits to the same index.",f,w),l(k)?I.push(w):O?("add"===k&&(k={}),C.splice(w,0,k),M&&M.splice(w,0,{})):a.warn("Unrecognized full object edit value",f,w,k),-1===D&&(D=w);else for(_=0;_<T.length;_++)S=f+"["+w+"].",c(C[w],T[_],S).set(x[T[_]]);for(b=I.length-1;b>=0;b--)C.splice(I[b],1),M&&M.splice(I[b],1);if(C.length?E||t.set(C):t.set(null),v)return!1;if(h(g,y),p!==i){var N;if(-1===D)N=A;else{for(P=Math.max(C.length,P),N=[],b=0;b<A.length&&!((w=A[b])>=D);b++)N.push(w);for(b=D;b<P;b++)N.push(b)}for(b=0;b<N.length;b++)p(e,N[b])}else d(e);return!0}},{"../lib/is_plain_object":231,"../lib/loggers":234,"../lib/noop":239,"../lib/search":249,"../registry":313,"./container_array_match":257}],262:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("fast-isnumeric"),a=e("has-hover"),o=e("../lib"),s=o.nestedProperty,u=e("../lib/events"),l=e("../lib/queue"),c=e("../registry"),f=e("./plot_schema"),h=e("../plots/plots"),d=e("../plots/cartesian/axes"),p=e("../components/drawing"),v=e("../components/color"),g=e("../plots/cartesian/graph_interact").initInteractions,y=e("../constants/xmlns_namespaces"),m=e("../plots/cartesian/select").clearSelect,b=e("./plot_config").dfltConfig,_=e("./manage_arrays"),w=e("./helpers"),x=e("./subroutines"),T=e("./edit_types"),k=e("../plots/cartesian/constants").AX_NAME_PATTERN,O=0,S=5;function A(e,t,i,a){var s;if(e=o.getGraphDiv(e),u.init(e),o.isPlainObject(t)){var l=t;t=l.data,i=l.layout,a=l.config,s=l.frames}if(!1===u.triggerHandler(e,"plotly_beforeplot",[t,i,a]))return Promise.reject();function f(){if(s)return n.addFrames(e,s)}t||i||o.isPlotDiv(e)||o.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",e),D(e,a),i||(i={}),r.select(e).classed("js-plotly-plot",!0),p.makeTester(),Array.isArray(e._promises)||(e._promises=[]);var v=0===(e.data||[]).length&&Array.isArray(t);Array.isArray(t)&&(w.cleanData(t),v?e.data=t:e.data.push.apply(e.data,t),e.empty=!1),e.layout&&!v||(e.layout=w.cleanLayout(i)),h.supplyDefaults(e);var y=e._fullLayout,m=y._has("cartesian");y._replotting=!0,(v||y._shouldCreateBgLayer)&&(Ce(e),y._shouldCreateBgLayer&&delete y._shouldCreateBgLayer),p.initGradients(e),p.initPatterns(e),v&&d.saveShowSpikeInitial(e);var b=!e.calcdata||e.calcdata.length!==(e._fullData||[]).length;b&&h.doCalcdata(e);for(var _=0;_<e.calcdata.length;_++)e.calcdata[_][0].trace=e._fullData[_];e._context.responsive?e._responsiveChartHandler||(e._responsiveChartHandler=function(){o.isHidden(e)||h.resize(e)},window.addEventListener("resize",e._responsiveChartHandler)):o.clearResponsive(e);var T=o.extendFlat({},y._size),k=0;function O(){for(var t=y._basePlotModules,n=0;n<t.length;n++)t[n].drawFramework&&t[n].drawFramework(e);if(!y._glcanvas&&y._has("gl")&&(y._glcanvas=y._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],(function(e){return e.key})),y._glcanvas.enter().append("canvas").attr("class",(function(e){return"gl-canvas gl-canvas-"+e.key.replace("Layer","")})).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"})),y._glcanvas){y._glcanvas.attr("width",y.width).attr("height",y.height);var r=y._glcanvas.data()[0].regl;if(r&&(Math.floor(y.width)!==r._gl.drawingBufferWidth||Math.floor(y.height)!==r._gl.drawingBufferHeight)){var i="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!k)return o.log(i+" Clearing graph and plotting again."),h.cleanPlot([],{},e._fullData,y),h.supplyDefaults(e),y=e._fullLayout,h.doCalcdata(e),k++,O();o.error(i)}}return"h"===y.modebar.orientation?y._modebardiv.style("height",null).style("width","100%"):y._modebardiv.style("width",null).style("height",y.height+"px"),h.previousPromises(e)}function S(){if(h.clearAutoMarginIds(e),x.drawMarginPushers(e),d.allowAutoMargin(e),y._has("pie"))for(var t=e._fullData,n=0;n<t.length;n++){var r=t[n];"pie"===r.type&&r.automargin&&h.allowAutoMargin(e,"pie."+r.uid+".automargin")}return h.doAutoMargin(e),h.previousPromises(e)}function A(){if(h.didMarginChange(T,y._size))return o.syncOrAsync([S,x.layoutStyles],e)}function C(){if(b)return o.syncOrAsync([c.getComponentMethod("shapes","calcAutorange"),c.getComponentMethod("annotations","calcAutorange"),M],e);M()}function M(){e._transitioning||(x.doAutoRangeAndConstraints(e),v&&d.saveRangeInitial(e),c.getComponentMethod("rangeslider","calcAutorange")(e))}function I(){return d.draw(e,v?"":"redraw")}var P=[h.previousPromises,f,O,S,A];function N(e){e._fullLayout._insideTickLabelsAutorange&&v&&d.saveRangeInitial(e,!0)}m&&P.push(C),P.push(x.layoutStyles),m&&P.push(I,(function(e){e._fullLayout._insideTickLabelsAutorange&&te(e,e._fullLayout._insideTickLabelsAutorange).then((function(){e._fullLayout._insideTickLabelsAutorange=void 0}))})),P.push(x.drawData,x.finalDraw,g,h.addLinks,h.rehover,h.redrag,h.doAutoMargin,N,h.previousPromises);var j=o.syncOrAsync(P,e);return j&&j.then||(j=Promise.resolve()),j.then((function(){return E(e),e}))}function E(e){var t=e._fullLayout;t._redrawFromAutoMarginCount?t._redrawFromAutoMarginCount--:e.emit("plotly_afterplot")}function C(e){return o.extendFlat(b,e)}function M(e,t){try{e._fullLayout._paper.style("background",t)}catch(n){o.error(n)}}function I(e,t){M(e,v.combine(t,"white"))}function D(e,t){if(!e._context){e._context=o.extendDeep({},b);var n=r.select("base");e._context._baseUrl=n.size()&&n.attr("href")?window.location.href.split("#")[0]:""}var i,s,u,l=e._context;if(t){for(s=Object.keys(t),i=0;i<s.length;i++)"editable"!==(u=s[i])&&"edits"!==u&&u in l&&("setBackground"===u&&"opaque"===t[u]?l[u]=I:l[u]=t[u]);t.plot3dPixelRatio&&!l.plotGlPixelRatio&&(l.plotGlPixelRatio=l.plot3dPixelRatio);var c=t.editable;if(void 0!==c)for(l.editable=c,s=Object.keys(l.edits),i=0;i<s.length;i++)l.edits[s[i]]=c;if(t.edits)for(s=Object.keys(t.edits),i=0;i<s.length;i++)(u=s[i])in l.edits&&(l.edits[u]=t.edits[u]);l._exportedPlot=t._exportedPlot}l.staticPlot&&(l.editable=!1,l.edits={},l.autosizable=!1,l.scrollZoom=!1,l.doubleClick=!1,l.showTips=!1,l.showLink=!1,l.displayModeBar=!1),"hover"!==l.displayModeBar||a||(l.displayModeBar=!0),"transparent"!==l.setBackground&&"function"===typeof l.setBackground||(l.setBackground=M),l._hasZeroHeight=l._hasZeroHeight||0===e.clientHeight,l._hasZeroWidth=l._hasZeroWidth||0===e.clientWidth;var f=l.scrollZoom,h=l._scrollZoom={};if(!0===f)h.cartesian=1,h.gl3d=1,h.geo=1,h.mapbox=1;else if("string"===typeof f){var d=f.split("+");for(i=0;i<d.length;i++)h[d[i]]=1}else!1!==f&&(h.gl3d=1,h.geo=1,h.mapbox=1)}function P(e){if(e=o.getGraphDiv(e),!o.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);return w.cleanData(e.data),w.cleanLayout(e.layout),e.calcdata=void 0,n._doPlot(e).then((function(){return e.emit("plotly_redraw"),e}))}function N(e,t,r,i){return e=o.getGraphDiv(e),h.cleanPlot([],{},e._fullData||[],e._fullLayout||{}),h.purge(e),n._doPlot(e,t,r,i)}function j(e,t){var n,r,i=t+1,a=[];for(n=0;n<e.length;n++)(r=e[n])<0?a.push(i+r):a.push(r);return a}function L(e,t,n){var r,i;for(r=0;r<t.length;r++){if((i=t[r])!==parseInt(i,10))throw new Error("all values in "+n+" must be integers");if(i>=e.data.length||i<-e.data.length)throw new Error(n+" must be valid indices for gd.data.");if(t.indexOf(i,r+1)>-1||i>=0&&t.indexOf(-e.data.length+i)>-1||i<0&&t.indexOf(e.data.length+i)>-1)throw new Error("each index in "+n+" must be unique.")}}function R(e,t,n){if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if("undefined"===typeof t)throw new Error("currentIndices is a required argument.");if(Array.isArray(t)||(t=[t]),L(e,t,"currentIndices"),"undefined"===typeof n||Array.isArray(n)||(n=[n]),"undefined"!==typeof n&&L(e,n,"newIndices"),"undefined"!==typeof n&&t.length!==n.length)throw new Error("current and new indices must be of equal length.")}function F(e,t,n){var r,i;if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if("undefined"===typeof t)throw new Error("traces must be defined.");for(Array.isArray(t)||(t=[t]),r=0;r<t.length;r++)if("object"!==typeof(i=t[r])||Array.isArray(i)||null===i)throw new Error("all values in traces array must be non-array objects");if("undefined"===typeof n||Array.isArray(n)||(n=[n]),"undefined"!==typeof n&&n.length!==t.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function z(e,t,n,r){var i=o.isPlainObject(r);if(!Array.isArray(e.data))throw new Error("gd.data must be an array");if(!o.isPlainObject(t))throw new Error("update must be a key:value object");if("undefined"===typeof n)throw new Error("indices must be an integer or array of integers");for(var a in L(e,n,"indices"),t){if(!Array.isArray(t[a])||t[a].length!==n.length)throw new Error("attribute "+a+" must be an array of length equal to indices array length");if(i&&(!(a in r)||!Array.isArray(r[a])||r[a].length!==t[a].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function U(e,t,n,r){var a,u,l,c,f,h=o.isPlainObject(r),d=[];for(var p in Array.isArray(n)||(n=[n]),n=j(n,e.data.length-1),t)for(var v=0;v<n.length;v++){if(a=e.data[n[v]],u=(l=s(a,p)).get(),c=t[p][v],!o.isArrayOrTypedArray(c))throw new Error("attribute: "+p+" index: "+v+" must be an array");if(!o.isArrayOrTypedArray(u))throw new Error("cannot extend missing or non-array attribute: "+p);if(u.constructor!==c.constructor)throw new Error("cannot extend array with an array of a different type: "+p);f=h?r[p][v]:r,i(f)||(f=-1),d.push({prop:l,target:u,insert:c,maxp:Math.floor(f)})}return d}function q(e,t,n,r,i){z(e,t,n,r);for(var a=U(e,t,n,r),o={},s={},u=0;u<a.length;u++){var l=a[u].prop,c=a[u].maxp,f=i(a[u].target,a[u].insert,c);l.set(f[0]),Array.isArray(o[l.astr])||(o[l.astr]=[]),o[l.astr].push(f[1]),Array.isArray(s[l.astr])||(s[l.astr]=[]),s[l.astr].push(a[u].target.length)}return{update:o,maxPoints:s}}function B(e,t){var n=new e.constructor(e.length+t.length);return n.set(e),n.set(t,e.length),n}function V(e,t,r,i){function a(e,t,n){var r,i;if(o.isTypedArray(e))if(n<0){var a=new e.constructor(0),s=B(e,t);n<0?(r=s,i=a):(r=a,i=s)}else if(r=new e.constructor(n),i=new e.constructor(e.length+t.length-n),n===t.length)r.set(t),i.set(e);else if(n<t.length){var u=t.length-n;r.set(t.subarray(u)),i.set(e),i.set(t.subarray(0,u),e.length)}else{var l=n-t.length,c=e.length-l;r.set(e.subarray(c)),r.set(t,l),i.set(e.subarray(0,c))}else r=e.concat(t),i=n>=0&&n<r.length?r.splice(0,r.length-n):[];return[r,i]}var s=q(e=o.getGraphDiv(e),t,r,i,a),u=n.redraw(e),c=[e,s.update,r,s.maxPoints];return l.add(e,n.prependTraces,c,V,arguments),u}function H(e,t,r,i){function a(e,t,n){var r,i;if(o.isTypedArray(e))if(n<=0){var a=new e.constructor(0),s=B(t,e);n<0?(r=s,i=a):(r=a,i=s)}else if(r=new e.constructor(n),i=new e.constructor(e.length+t.length-n),n===t.length)r.set(t),i.set(e);else if(n<t.length){var u=t.length-n;r.set(t.subarray(0,u)),i.set(t.subarray(u)),i.set(e,u)}else{var l=n-t.length;r.set(t),r.set(e.subarray(0,l),t.length),i.set(e.subarray(l))}else r=t.concat(e),i=n>=0&&n<r.length?r.splice(n,r.length):[];return[r,i]}var s=q(e=o.getGraphDiv(e),t,r,i,a),u=n.redraw(e),c=[e,s.update,r,s.maxPoints];return l.add(e,n.extendTraces,c,H,arguments),u}function W(e,t,r){e=o.getGraphDiv(e);var i,a,s=[],u=n.deleteTraces,c=W,f=[e,s],h=[e,t];for(F(e,t,r),Array.isArray(t)||(t=[t]),t=t.map((function(e){return o.extendFlat({},e)})),w.cleanData(t),i=0;i<t.length;i++)e.data.push(t[i]);for(i=0;i<t.length;i++)s.push(-t.length+i);if("undefined"===typeof r)return a=n.redraw(e),l.add(e,u,f,c,h),a;Array.isArray(r)||(r=[r]);try{R(e,s,r)}catch(d){throw e.data.splice(e.data.length-t.length,t.length),d}return l.startSequence(e),l.add(e,u,f,c,h),a=n.moveTraces(e,s,r),l.stopSequence(e),a}function Y(e,t){e=o.getGraphDiv(e);var r,i,a=[],s=n.addTraces,u=Y,c=[e,a,t],f=[e,t];if("undefined"===typeof t)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(t)||(t=[t]),L(e,t,"indices"),(t=j(t,e.data.length-1)).sort(o.sorterDes),r=0;r<t.length;r+=1)i=e.data.splice(t[r],1)[0],a.push(i);var h=n.redraw(e);return l.add(e,s,c,u,f),h}function G(e,t,r){var i,a=[],s=[],u=G,c=G,f=[e=o.getGraphDiv(e),r,t],h=[e,t,r];if(R(e,t,r),t=Array.isArray(t)?t:[t],"undefined"===typeof r)for(r=[],i=0;i<t.length;i++)r.push(-t.length+i);for(r=Array.isArray(r)?r:[r],t=j(t,e.data.length-1),r=j(r,e.data.length-1),i=0;i<e.data.length;i++)-1===t.indexOf(i)&&a.push(e.data[i]);for(i=0;i<t.length;i++)s.push({newIndex:r[i],trace:e.data[t[i]]});for(s.sort((function(e,t){return e.newIndex-t.newIndex})),i=0;i<s.length;i+=1)a.splice(s[i].newIndex,0,s[i].trace);e.data=a;var d=n.redraw(e);return l.add(e,u,f,c,h),d}function K(e,t,r,i){e=o.getGraphDiv(e),w.clearPromiseQueue(e);var a={};if("string"===typeof t)a[t]=r;else{if(!o.isPlainObject(t))return o.warn("Restyle fail.",t,r,i),Promise.reject();a=o.extendFlat({},t),void 0===i&&(i=r)}Object.keys(a).length&&(e.changed=!0);var s=w.coerceTraceIndices(e,i),u=Z(e,a,s),c=u.flags;c.calc&&(e.calcdata=void 0),c.clearAxisTypes&&w.clearAxisTypes(e,s,{});var f=[];c.fullReplot?f.push(n._doPlot):(f.push(h.previousPromises),h.supplyDefaults(e),c.markerSize&&(h.doCalcdata(e),re(f)),c.style&&f.push(x.doTraceStyle),c.colorbars&&f.push(x.doColorBars),f.push(E)),f.push(h.rehover,h.redrag),l.add(e,K,[e,u.undoit,u.traces],K,[e,u.redoit,u.traces]);var d=o.syncOrAsync(f,e);return d&&d.then||(d=Promise.resolve()),d.then((function(){return e.emit("plotly_restyle",u.eventData),e}))}function X(e){return void 0===e?null:e}function $(e,t){return t?function(t,n,r){var i=s(t,n),a=i.set;return i.set=function(t){Q((r||"")+n,i.get(),t,e),a(t)},i}:s}function Q(e,t,n,r){if(Array.isArray(t)||Array.isArray(n))for(var i=Array.isArray(t)?t:[],a=Array.isArray(n)?n:[],s=Math.max(i.length,a.length),u=0;u<s;u++)Q(e+"["+u+"]",i[u],a[u],r);else if(o.isPlainObject(t)||o.isPlainObject(n)){var l=o.isPlainObject(t)?t:{},c=o.isPlainObject(n)?n:{},f=o.extendFlat({},l,c);for(var h in f)Q(e+"."+h,l[h],c[h],r)}else void 0===r[e]&&(r[e]=X(t))}function J(e,t,n){for(var r in n)Q(r,s(e,r).get(),n[r],t)}function Z(e,t,n){var r,i=e._fullLayout,a=e._fullData,u=e.data,l=i._guiEditing,p=$(i._preGUI,l),v=o.extendDeepAll({},t);ee(t);var g,y=T.traceFlags(),m={},b={};function _(){return n.map((function(){}))}function x(e){var t=d.id2name(e);-1===g.indexOf(t)&&g.push(t)}function k(e){return"LAYOUT"+e+".autorange"}function O(e){return"LAYOUT"+e+".range"}function S(e){for(var t=e;t<a.length;t++)if(a[t]._input===u[e])return a[t]}function A(r,a,o){if(Array.isArray(r))r.forEach((function(e){A(e,a,o)}));else if(!(r in t)&&!w.hasParent(t,r)){var s;if("LAYOUT"===r.substr(0,6))s=p(e.layout,r.replace("LAYOUT",""));else{var c=n[o];s=$(i._tracePreGUI[S(c)._fullInput.uid],l)(u[c],r)}r in b||(b[r]=_()),void 0===b[r][o]&&(b[r][o]=X(s.get())),void 0!==a&&s.set(a)}}function E(e){return function(t){return a[t][e]}}function C(e){return function(t,r){return!1===t?a[n[r]][e]:null}}for(var M in t){if(w.hasParent(t,M))throw new Error("cannot set "+M+" and a parent attribute simultaneously");var I,D,P,N,j,L,R=t[M];if("autobinx"!==M&&"autobiny"!==M||(M=M.charAt(M.length-1)+"bins",R=Array.isArray(R)?R.map(C(M)):!1===R?n.map(E(M)):null),m[M]=R,"LAYOUT"!==M.substr(0,6)){for(b[M]=_(),r=0;r<n.length;r++)if(I=u[n[r]],D=S(n[r]),N=(P=$(i._tracePreGUI[D._fullInput.uid],l)(I,M)).get(),void 0!==(j=Array.isArray(R)?R[r%R.length]:R)){var F=P.parts[P.parts.length-1],z=M.substr(0,M.length-F.length-1),U=z?z+".":"",q=z?s(D,z).get():D;if((L=f.getTraceValObject(D,P.parts))&&L.impliedEdits&&null!==j)for(var B in L.impliedEdits)A(o.relativeAttr(M,B),L.impliedEdits[B],r);else if("thicknessmode"!==F&&"lenmode"!==F||N===j||"fraction"!==j&&"pixels"!==j||!q){if("type"===M&&("pie"===j!==("pie"===N)||"funnelarea"===j!==("funnelarea"===N))){var V="x",H="y";"bar"!==j&&"bar"!==N||"h"!==I.orientation||(V="y",H="x"),o.swapAttrs(I,["?","?src"],"labels",V),o.swapAttrs(I,["d?","?0"],"label",V),o.swapAttrs(I,["?","?src"],"values",H),"pie"===N||"funnelarea"===N?(s(I,"marker.color").set(s(I,"marker.colors").get()),i._pielayer.selectAll("g.trace").remove()):c.traceIs(I,"cartesian")&&s(I,"marker.colors").set(s(I,"marker.color").get())}}else{var W=i._size,Y=q.orient,G="top"===Y||"bottom"===Y;if("thicknessmode"===F){var K=G?W.h:W.w;A(U+"thickness",q.thickness*("fraction"===j?1/K:K),r)}else{var Q=G?W.w:W.h;A(U+"len",q.len*("fraction"===j?1/Q:Q),r)}}if(b[M][r]=X(N),-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(M)){if("orientation"===M){P.set(j);var J=I.x&&!I.y?"h":"v";if((P.get()||J)===D.orientation)continue}else"orientationaxes"===M&&(I.orientation={v:"h",h:"v"}[D.orientation]);w.swapXYData(I),y.calc=y.clearAxisTypes=!0}else-1!==h.dataArrayContainers.indexOf(P.parts[0])?(w.manageArrayContainers(P,j,b),y.calc=!0):(L?L.arrayOk&&!c.traceIs(D,"regl")&&(o.isArrayOrTypedArray(j)||o.isArrayOrTypedArray(N))?y.calc=!0:T.update(y,L):y.calc=!0,P.set(j))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(M)&&d.swap(e,n),"orientationaxes"===M){var Z=s(e.layout,"hovermode"),te=Z.get();"x"===te?Z.set("y"):"y"===te?Z.set("x"):"x unified"===te?Z.set("y unified"):"y unified"===te&&Z.set("x unified")}if(-1!==["orientation","type"].indexOf(M)){for(g=[],r=0;r<n.length;r++){var ne=u[n[r]];c.traceIs(ne,"cartesian")&&(x(ne.xaxis||"x"),x(ne.yaxis||"y"))}A(g.map(k),!0,0),A(g.map(O),[0,1],0)}}else P=p(e.layout,M.replace("LAYOUT","")),b[M]=[X(P.get())],P.set(Array.isArray(R)?R[0]:R),y.calc=!0}return(y.calc||y.plot)&&(y.fullReplot=!0),{flags:y,undoit:b,redoit:m,traces:n,eventData:o.extendDeepNoArrays([],[v,n])}}function ee(e){var t,n,r,i=o.counterRegex("axis",".title",!1,!1),a=/colorbar\.title$/,s=Object.keys(e);for(t=0;t<s.length;t++)n=s[t],r=e[n],"title"!==n&&!i.test(n)&&!a.test(n)||"string"!==typeof r&&"number"!==typeof r?n.indexOf("titlefont")>-1?u(n,n.replace("titlefont","title.font")):n.indexOf("titleposition")>-1?u(n,n.replace("titleposition","title.position")):n.indexOf("titleside")>-1?u(n,n.replace("titleside","title.side")):n.indexOf("titleoffset")>-1&&u(n,n.replace("titleoffset","title.offset")):u(n,n.replace("title","title.text"));function u(t,n){e[n]=e[t],delete e[t]}}function te(e,t,n){e=o.getGraphDiv(e),w.clearPromiseQueue(e);var r={};if("string"===typeof t)r[t]=n;else{if(!o.isPlainObject(t))return o.warn("Relayout fail.",t,n),Promise.reject();r=o.extendFlat({},t)}Object.keys(r).length&&(e.changed=!0);var i=se(e,r),a=i.flags;a.calc&&(e.calcdata=void 0);var s=[h.previousPromises];a.layoutReplot?s.push(x.layoutReplot):Object.keys(r).length&&(ne(e,a,i)||h.supplyDefaults(e),a.legend&&s.push(x.doLegend),a.layoutstyle&&s.push(x.layoutStyles),a.axrange&&re(s,i.rangesAltered),a.ticks&&s.push(x.doTicksRelayout),a.modebar&&s.push(x.doModeBar),a.camera&&s.push(x.doCamera),a.colorbars&&s.push(x.doColorBars),s.push(E)),s.push(h.rehover,h.redrag),l.add(e,te,[e,i.undoit],te,[e,i.redoit]);var u=o.syncOrAsync(s,e);return u&&u.then||(u=Promise.resolve(e)),u.then((function(){return e.emit("plotly_relayout",i.eventData),e}))}function ne(e,t,n){var r=e._fullLayout;if(!t.axrange)return!1;for(var i in t)if("axrange"!==i&&t[i])return!1;for(var a in n.rangesAltered){var o=d.id2name(a),s=e.layout[o],u=r[o];if(u.autorange=s.autorange,s.range&&(u.range=s.range.slice()),u.cleanRange(),u._matchGroup)for(var l in u._matchGroup)if(l!==a){var c=r[d.id2name(l)];c.autorange=u.autorange,c.range=u.range.slice(),c._input.range=u.range.slice()}}return!0}function re(e,t){var n=t?function(e){var n=[],r=!0;for(var i in t){var a=d.getFromId(e,i);if(n.push(i),-1!==(a.ticklabelposition||"").indexOf("inside")&&a._anchorAxis&&n.push(a._anchorAxis._id),a._matchGroup)for(var o in a._matchGroup)t[o]||n.push(o);a.automargin&&(r=!1)}return d.draw(e,n,{skipTitle:r})}:function(e){return d.draw(e,"redraw")};e.push(m,x.doAutoRangeAndConstraints,n,x.drawData,x.finalDraw)}var ie=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,ae=/^[xyz]axis[0-9]*\.autorange$/,oe=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function se(e,t){var n,r,i,a=e.layout,u=e._fullLayout,l=u._guiEditing,h=$(u._preGUI,l),p=Object.keys(t),v=d.list(e),g=o.extendDeepAll({},t),y={};for(ee(t),p=Object.keys(t),r=0;r<p.length;r++)if(0===p[r].indexOf("allaxes")){for(i=0;i<v.length;i++){var m=v[i]._id.substr(1),b=-1!==m.indexOf("scene")?m+".":"",x=p[r].replace("allaxes",b+v[i]._name);t[x]||(t[x]=t[p[r]])}delete t[p[r]]}var O=T.layoutFlags(),S={},A={};function E(e,n){if(Array.isArray(e))e.forEach((function(e){E(e,n)}));else if(!(e in t)&&!w.hasParent(t,e)){var r=h(a,e);e in A||(A[e]=X(r.get())),void 0!==n&&r.set(n)}}var C,M={};function I(e){var t=d.name2id(e.split(".")[0]);return M[t]=1,t}for(var D in t){if(w.hasParent(t,D))throw new Error("cannot set "+D+" and a parent attribute simultaneously");for(var P=h(a,D),N=t[D],j=P.parts.length-1;j>0&&"string"!==typeof P.parts[j];)j--;var L=P.parts[j],R=P.parts[j-1]+"."+L,F=P.parts.slice(0,j).join("."),z=s(e.layout,F).get(),U=s(u,F).get(),q=P.get();if(void 0!==N){S[D]=N,A[D]="reverse"===L?N:X(q);var B=f.getLayoutValObject(u,P.parts);if(B&&B.impliedEdits&&null!==N)for(var V in B.impliedEdits)E(o.relativeAttr(D,V),B.impliedEdits[V]);if(-1!==["width","height"].indexOf(D))if(N){E("autosize",null);var H="height"===D?"width":"height";E(H,u[H])}else u[D]=e._initialAutoSize[D];else if("autosize"===D)E("width",N?null:u.width),E("height",N?null:u.height);else if(R.match(ie))I(R),s(u,F+"._inputRange").set(null);else if(R.match(ae)){I(R),s(u,F+"._inputRange").set(null);var W=s(u,F).get();W._inputDomain&&(W._input.domain=W._inputDomain.slice())}else R.match(oe)&&s(u,F+"._inputDomain").set(null);if("type"===L){C=z;var Y="linear"===U.type&&"log"===N,G="log"===U.type&&"linear"===N;if(Y||G){if(C&&C.range)if(U.autorange)Y&&(C.range=C.range[1]>C.range[0]?[1,2]:[2,1]);else{var K=C.range[0],Q=C.range[1];Y?(K<=0&&Q<=0&&E(F+".autorange",!0),K<=0?K=Q/1e6:Q<=0&&(Q=K/1e6),E(F+".range[0]",Math.log(K)/Math.LN10),E(F+".range[1]",Math.log(Q)/Math.LN10)):(E(F+".range[0]",Math.pow(10,K)),E(F+".range[1]",Math.pow(10,Q)))}else E(F+".autorange",!0);Array.isArray(u._subplots.polar)&&u._subplots.polar.length&&u[P.parts[0]]&&"radialaxis"===P.parts[1]&&delete u[P.parts[0]]._subplot.viewInitial["radialaxis.range"],c.getComponentMethod("annotations","convertCoords")(e,U,N,E),c.getComponentMethod("images","convertCoords")(e,U,N,E)}else E(F+".autorange",!0),E(F+".range",null);s(u,F+"._inputRange").set(null)}else if(L.match(k)){var J=s(u,D).get(),Z=(N||{}).type;Z&&"-"!==Z||(Z="linear"),c.getComponentMethod("annotations","convertCoords")(e,J,Z,E),c.getComponentMethod("images","convertCoords")(e,J,Z,E)}var te=_.containerArrayMatch(D);if(te){n=te.array,r=te.index;var ne=te.property,re=B||{editType:"calc"};""!==r&&""===ne&&(_.isAddVal(N)?A[D]=null:_.isRemoveVal(N)?A[D]=(s(a,n).get()||[])[r]:o.warn("unrecognized full object value",t)),T.update(O,re),y[n]||(y[n]={});var se=y[n][r];se||(se=y[n][r]={}),se[ne]=N,delete t[D]}else"reverse"===L?(z.range?z.range.reverse():(E(F+".autorange",!0),z.range=[1,0]),U.autorange?O.calc=!0:O.plot=!0):(u._has("scatter-like")&&u._has("regl")&&"dragmode"===D&&("lasso"===N||"select"===N)&&"lasso"!==q&&"select"!==q||u._has("gl2d")?O.plot=!0:B?T.update(O,B):O.calc=!0,P.set(N))}}for(n in y)_.applyContainerArrayChanges(e,h(a,n),y[n],O,h)||(O.plot=!0);for(var le in M){var ce=(C=d.getFromId(e,le))&&C._constraintGroup;if(ce)for(var fe in O.calc=!0,ce)M[fe]||(d.getFromId(e,fe)._constraintShrinkable=!0)}return(ue(e)||t.height||t.width)&&(O.plot=!0),(O.plot||O.calc)&&(O.layoutReplot=!0),{flags:O,rangesAltered:M,undoit:A,redoit:S,eventData:g}}function ue(e){var t=e._fullLayout,n=t.width,r=t.height;return e.layout.autosize&&h.plotAutoSize(e,e.layout,t),t.width!==n||t.height!==r}function le(e,t,r,i){e=o.getGraphDiv(e),w.clearPromiseQueue(e),o.isPlainObject(t)||(t={}),o.isPlainObject(r)||(r={}),Object.keys(t).length&&(e.changed=!0),Object.keys(r).length&&(e.changed=!0);var a=w.coerceTraceIndices(e,i),s=Z(e,o.extendFlat({},t),a),u=s.flags,c=se(e,o.extendFlat({},r)),f=c.flags;(u.calc||f.calc)&&(e.calcdata=void 0),u.clearAxisTypes&&w.clearAxisTypes(e,a,r);var d=[];f.layoutReplot?d.push(x.layoutReplot):u.fullReplot?d.push(n._doPlot):(d.push(h.previousPromises),ne(e,f,c)||h.supplyDefaults(e),u.style&&d.push(x.doTraceStyle),(u.colorbars||f.colorbars)&&d.push(x.doColorBars),f.legend&&d.push(x.doLegend),f.layoutstyle&&d.push(x.layoutStyles),f.axrange&&re(d,c.rangesAltered),f.ticks&&d.push(x.doTicksRelayout),f.modebar&&d.push(x.doModeBar),f.camera&&d.push(x.doCamera),d.push(E)),d.push(h.rehover,h.redrag),l.add(e,le,[e,s.undoit,c.undoit,s.traces],le,[e,s.redoit,c.redoit,s.traces]);var p=o.syncOrAsync(d,e);return p&&p.then||(p=Promise.resolve(e)),p.then((function(){return e.emit("plotly_update",{data:s.eventData,layout:c.eventData}),e}))}function ce(e){return function(t){t._fullLayout._guiEditing=!0;var n=e.apply(null,arguments);return t._fullLayout._guiEditing=!1,n}}var fe=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],he=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function de(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=e.match(r.pattern);if(i)return{head:i[1],attr:r.attr}}}function pe(e,t){var n=s(t,e).get();if(void 0!==n)return n;var r=e.split(".");for(r.pop();r.length>1;)if(r.pop(),void 0!==(n=s(t,r.join(".")+".uirevision").get()))return n;return t.uirevision}function ve(e,t){for(var n=0;n<t.length;n++)if(t[n]._fullInput.uid===e)return n;return-1}function ge(e,t,n){for(var r=0;r<t.length;r++)if(t[r].uid===e)return r;return!t[n]||t[n].uid?-1:n}function ye(e,t){var n=o.isPlainObject(e),r=Array.isArray(e);return n||r?(n&&o.isPlainObject(t)||r&&Array.isArray(t))&&JSON.stringify(e)===JSON.stringify(t):e===t}function me(e,t,n,r){var i,a,u,l,c,f,h,d,p=r._preGUI,v=[],g={};for(i in p){if(c=de(i,fe)){if(a=c.attr||c.head+".uirevision",(l=(u=s(r,a).get())&&pe(a,t))&&l===u&&(null===(f=p[i])&&(f=void 0),ye(d=(h=s(t,i)).get(),f))){void 0===d&&"autorange"===i.substr(i.length-9)&&v.push(i.substr(0,i.length-10)),h.set(X(s(r,i).get()));continue}}else o.warn("unrecognized GUI edit: "+i);delete p[i],"range["===i.substr(i.length-8,6)&&(g[i.substr(0,i.length-9)]=1)}for(var y=0;y<v.length;y++){var m=v[y];if(g[m]){var b=s(t,m).get();b&&delete b.autorange}}var _=r._tracePreGUI;for(var w in _){var x,T=_[w],k=null;for(i in T){if(!k){var O=ve(w,n);if(O<0){delete _[w];break}var S=ge(w,e,(x=n[O]._fullInput).index);if(S<0){delete _[w];break}k=e[S]}if(c=de(i,he)){if(c.attr?l=(u=s(r,c.attr).get())&&pe(c.attr,t):(u=x.uirevision,void 0===(l=k.uirevision)&&(l=t.uirevision)),l&&l===u&&(null===(f=T[i])&&(f=void 0),ye(d=(h=s(k,i)).get(),f))){h.set(X(s(x,i).get()));continue}}else o.warn("unrecognized GUI edit: "+i+" in trace uid "+w);delete T[i]}}}function be(e,t,r,i){var a,s;function u(){return n.addFrames(e,a)}e=o.getGraphDiv(e),w.clearPromiseQueue(e);var l=e._fullData,f=e._fullLayout;if(o.isPlotDiv(e)&&l&&f){if(o.isPlainObject(t)){var d=t;t=d.data,r=d.layout,i=d.config,a=d.frames}var p=!1;if(i){var v=o.extendDeep({},e._context);e._context=void 0,D(e,i),p=Te(v,e._context)}e.data=t||[],w.cleanData(e.data),e.layout=r||{},w.cleanLayout(e.layout),me(e.data,e.layout,l,f),h.supplyDefaults(e,{skipUpdateCalc:!0});var g=e._fullData,y=e._fullLayout,m=void 0===y.datarevision,b=y.transition,_=we(e,f,y,m,b),T=_.newDataRevision,k=_e(e,l,g,m,b,T);if(ue(e)&&(_.layoutReplot=!0),k.calc||_.calc){e.calcdata=void 0;for(var O=Object.getOwnPropertyNames(y),S=0;S<O.length;S++){var A=O[S],C=A.substring(0,5);if("xaxis"===C||"yaxis"===C){var M=y[A]._emptyCategories;M&&M()}}}else h.supplyDefaultsUpdateCalc(e.calcdata,g);var I=[];if(a&&(e._transitionData={},h.createTransitionData(e),I.push(u)),y.transition&&!p&&(k.anim||_.anim))_.ticks&&I.push(x.doTicksRelayout),h.doCalcdata(e),x.doAutoRangeAndConstraints(e),I.push((function(){return h.transitionFromReact(e,k,_,f)}));else if(k.fullReplot||_.layoutReplot||p)e._fullLayout._skipDefaults=!0,I.push(n._doPlot);else{for(var P in _.arrays){var N=_.arrays[P];if(N.length){var j=c.getComponentMethod(P,"drawOne");if(j!==o.noop)for(var L=0;L<N.length;L++)j(e,N[L]);else{var R=c.getComponentMethod(P,"draw");if(R===o.noop)throw new Error("cannot draw components: "+P);R(e)}}}I.push(h.previousPromises),k.style&&I.push(x.doTraceStyle),(k.colorbars||_.colorbars)&&I.push(x.doColorBars),_.legend&&I.push(x.doLegend),_.layoutstyle&&I.push(x.layoutStyles),_.axrange&&re(I),_.ticks&&I.push(x.doTicksRelayout),_.modebar&&I.push(x.doModeBar),_.camera&&I.push(x.doCamera),I.push(E)}I.push(h.rehover,h.redrag),(s=o.syncOrAsync(I,e))&&s.then||(s=Promise.resolve(e))}else s=n.newPlot(e,t,r,i);return s.then((function(){return e.emit("plotly_react",{data:t,layout:r}),e}))}function _e(e,t,n,r,i,a){var o=t.length===n.length;if(!i&&!o)return{fullReplot:!0,calc:!0};var s,u,l=T.traceFlags();function c(e){var t=f.getTraceValObject(u,e);return!u._module.animatable&&t.anim&&(t.anim=!1),t}l.arrays={},l.nChanges=0,l.nChangesAnim=0;var d={getValObject:c,flags:l,immutable:r,transition:i,newDataRevision:a,gd:e},p={};for(s=0;s<t.length;s++)if(n[s]){if(u=n[s]._fullInput,h.hasMakesDataTransform(u)&&(u=n[s]),p[u.uid])continue;p[u.uid]=1,xe(t[s]._fullInput,u,[],d)}return(l.calc||l.plot)&&(l.fullReplot=!0),i&&l.nChanges&&l.nChangesAnim&&(l.anim=l.nChanges===l.nChangesAnim&&o?"all":"some"),l}function we(e,t,n,r,i){var a=T.layoutFlags();function o(e){return f.getLayoutValObject(n,e)}return a.arrays={},a.rangesAltered={},a.nChanges=0,a.nChangesAnim=0,xe(t,n,[],{getValObject:o,flags:a,immutable:r,transition:i,gd:e}),(a.plot||a.calc)&&(a.layoutReplot=!0),i&&a.nChanges&&a.nChangesAnim&&(a.anim=a.nChanges===a.nChangesAnim?"all":"some"),a}function xe(e,t,n,r){var i,a,u,l=r.getValObject,c=r.flags,f=r.immutable,h=r.inArray,d=r.arrayIndex;function p(){var e=i.editType;h&&-1!==e.indexOf("arraydraw")?o.pushUnique(c.arrays[h],d):(T.update(c,i),"none"!==e&&c.nChanges++,r.transition&&i.anim&&c.nChangesAnim++,(ie.test(u)||ae.test(u))&&(c.rangesAltered[n[0]]=1),oe.test(u)&&s(t,"_inputDomain").set(null),"datarevision"===a&&(c.newDataRevision=1))}function v(e){return"data_array"===e.valType||e.arrayOk}for(a in e){if(c.calc&&!r.transition)return;var g=e[a],y=t[a],m=n.concat(a);if(u=m.join("."),"_"!==a.charAt(0)&&"function"!==typeof g&&g!==y){if(("tick0"===a||"dtick"===a)&&"geo"!==n[0]){var b=t.tickmode;if("auto"===b||"array"===b||!b)continue}if(("range"!==a||!t.autorange)&&("zmin"!==a&&"zmax"!==a||"contourcarpet"!==t.type)&&(i=l(m))&&(!i._compareAsJSON||JSON.stringify(g)!==JSON.stringify(y))){var _,w=i.valType,x=v(i),k=Array.isArray(g),O=Array.isArray(y);if(k&&O){var S="_input_"+a,A=e[S],E=t[S];if(Array.isArray(A)&&A===E)continue}if(void 0===y)x&&k?c.calc=!0:p();else if(i._isLinkedToArray){var C=[],M=!1;h||(c.arrays[a]=C);var I=Math.min(g.length,y.length),D=Math.max(g.length,y.length);if(I!==D){if("arraydraw"!==i.editType){p();continue}M=!0}for(_=0;_<I;_++)xe(g[_],y[_],m.concat(_),o.extendFlat({inArray:a,arrayIndex:_},r));if(M)for(_=I;_<D;_++)C.push(_)}else!w&&o.isPlainObject(g)?xe(g,y,m,r):x?k&&O?(f&&(c.calc=!0),(f||r.newDataRevision)&&p()):k!==O?c.calc=!0:p():k&&O&&g.length===y.length&&String(g)===String(y)||p()}}}for(a in t)if(!(a in e)&&"_"!==a.charAt(0)&&"function"!==typeof t[a]){if(v(i=l(n.concat(a)))&&Array.isArray(t[a]))return void(c.calc=!0);p()}}function Te(e,t){var n;for(n in e)if("_"!==n.charAt(0)){var r=e[n],i=t[n];if(r!==i)if(o.isPlainObject(r)&&o.isPlainObject(i)){if(Te(r,i))return!0}else{if(!Array.isArray(r)||!Array.isArray(i))return!0;if(r.length!==i.length)return!0;for(var a=0;a<r.length;a++)if(r[a]!==i[a]){if(!o.isPlainObject(r[a])||!o.isPlainObject(i[a]))return!0;if(Te(r[a],i[a]))return!0}}}}function ke(e,t,n){if(e=o.getGraphDiv(e),!o.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var r=e._transitionData;r._frameQueue||(r._frameQueue=[]);var i=(n=h.supplyAnimationDefaults(n)).transition,a=n.frame;function s(e){return Array.isArray(i)?e>=i.length?i[0]:i[e]:i}function u(e){return Array.isArray(a)?e>=a.length?a[0]:a[e]:a}function l(e,t){var n=0;return function(){if(e&&++n===t)return e()}}return void 0===r._frameWaitingCnt&&(r._frameWaitingCnt=0),new Promise((function(a,c){function f(){if(0!==r._frameQueue.length){for(;r._frameQueue.length;){var t=r._frameQueue.pop();t.onInterrupt&&t.onInterrupt()}e.emit("plotly_animationinterrupted",[])}}function d(t){if(0!==t.length){for(var i=0;i<t.length;i++){var o;o="byname"===t[i].type?h.computeFrame(e,t[i].name):t[i].data;var f=u(i),d=s(i);d.duration=Math.min(d.duration,f.duration);var p={frame:o,name:t[i].name,frameOpts:f,transitionOpts:d};i===t.length-1&&(p.onComplete=l(a,2),p.onInterrupt=c),r._frameQueue.push(p)}"immediate"===n.mode&&(r._lastFrameAt=-1/0),r._animationRaf||g()}}function p(){e.emit("plotly_animated"),window.cancelAnimationFrame(r._animationRaf),r._animationRaf=null}function v(){r._currentFrame&&r._currentFrame.onComplete&&r._currentFrame.onComplete();var t=r._currentFrame=r._frameQueue.shift();if(t){var n=t.name?t.name.toString():null;e._fullLayout._currentFrame=n,r._lastFrameAt=Date.now(),r._timeToNext=t.frameOpts.duration,h.transition(e,t.frame.data,t.frame.layout,w.coerceTraceIndices(e,t.frame.traces),t.frameOpts,t.transitionOpts).then((function(){t.onComplete&&t.onComplete()})),e.emit("plotly_animatingframe",{name:n,frame:t.frame,animation:{frame:t.frameOpts,transition:t.transitionOpts}})}else p()}function g(){e.emit("plotly_animating"),r._lastFrameAt=-1/0,r._timeToNext=0,r._runningTransitions=0,r._currentFrame=null,function e(){r._animationRaf=window.requestAnimationFrame(e),Date.now()-r._lastFrameAt>r._timeToNext&&v()}()}var y,m,b=0;function _(e){return Array.isArray(i)?b>=i.length?e.transitionOpts=i[b]:e.transitionOpts=i[0]:e.transitionOpts=i,b++,e}var x=[],T=void 0===t||null===t,k=Array.isArray(t);if(T||k||!o.isPlainObject(t)){if(T||-1!==["string","number"].indexOf(typeof t))for(y=0;y<r._frames.length;y++)(m=r._frames[y])&&(T||String(m.group)===String(t))&&x.push({type:"byname",name:String(m.name),data:_({name:m.name})});else if(k)for(y=0;y<t.length;y++){var O=t[y];-1!==["number","string"].indexOf(typeof O)?(O=String(O),x.push({type:"byname",name:O,data:_({name:O})})):o.isPlainObject(O)&&x.push({type:"object",data:_(o.extendFlat({},O))})}}else x.push({type:"object",data:_(o.extendFlat({},t))});for(y=0;y<x.length;y++)if("byname"===(m=x[y]).type&&!r._frameHash[m.data.name])return o.warn('animate failure: frame not found: "'+m.data.name+'"'),void c();-1!==["next","immediate"].indexOf(n.mode)&&f(),"reverse"===n.direction&&x.reverse();var S=e._fullLayout._currentFrame;if(S&&n.fromcurrent){var A=-1;for(y=0;y<x.length;y++)if("byname"===(m=x[y]).type&&m.name===S){A=y;break}if(A>0&&A<x.length-1){var E=[];for(y=0;y<x.length;y++)m=x[y],("byname"!==x[y].type||y>A)&&E.push(m);x=E}}x.length>0?d(x):(e.emit("plotly_animated"),a())}))}function Oe(e,t,n){if(e=o.getGraphDiv(e),null===t||void 0===t)return Promise.resolve();if(!o.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var r,i,a,s,u=e._transitionData._frames,c=e._transitionData._frameHash;if(!Array.isArray(t))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+t);var f=u.length+2*t.length,d=[],p={};for(r=t.length-1;r>=0;r--)if(o.isPlainObject(t[r])){var v=t[r].name,g=(c[v]||p[v]||{}).name,y=t[r].name,m=c[g]||p[g];g&&y&&"number"===typeof y&&m&&O<S&&(O++,o.warn('addFrames: overwriting frame "'+(c[g]||p[g]).name+'" with a frame whose name of type "number" also equates to "'+g+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),O===S&&o.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),p[v]={name:v},d.push({frame:h.supplyFrameDefaults(t[r]),index:n&&void 0!==n[r]&&null!==n[r]?n[r]:f+r})}d.sort((function(e,t){return e.index>t.index?-1:e.index<t.index?1:0}));var b=[],_=[],w=u.length;for(r=d.length-1;r>=0;r--){if("number"===typeof(i=d[r].frame).name&&o.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!i.name)for(;c[i.name="frame "+e._transitionData._counter++];);if(c[i.name]){for(a=0;a<u.length&&(u[a]||{}).name!==i.name;a++);b.push({type:"replace",index:a,value:i}),_.unshift({type:"replace",index:a,value:u[a]})}else s=Math.max(0,Math.min(d[r].index,w)),b.push({type:"insert",index:s,value:i}),_.unshift({type:"delete",index:s}),w++}var x=h.modifyFrames,T=h.modifyFrames,k=[e,_],A=[e,b];return l&&l.add(e,x,k,T,A),h.modifyFrames(e,b)}function Se(e,t){if(e=o.getGraphDiv(e),!o.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);var n,r,i=e._transitionData._frames,a=[],s=[];if(!t)for(t=[],n=0;n<i.length;n++)t.push(n);for((t=t.slice()).sort(),n=t.length-1;n>=0;n--)r=t[n],a.push({type:"delete",index:r}),s.unshift({type:"insert",index:r,value:i[r]});var u=h.modifyFrames,c=h.modifyFrames,f=[e,s],d=[e,a];return l&&l.add(e,u,f,c,d),h.modifyFrames(e,a)}function Ae(e){var t=(e=o.getGraphDiv(e))._fullLayout||{},n=e._fullData||[];return h.cleanPlot([],{},n,t),h.purge(e),u.purge(e),t._container&&t._container.remove(),delete e._context,e}function Ee(e){var t=e._fullLayout,n=e.getBoundingClientRect();if(!o.equalDomRects(n,t._lastBBox)){var r=t._invTransform=o.inverseTransformMatrix(o.getFullTransformMatrix(e));t._invScaleX=Math.sqrt(r[0][0]*r[0][0]+r[0][1]*r[0][1]+r[0][2]*r[0][2]),t._invScaleY=Math.sqrt(r[1][0]*r[1][0]+r[1][1]*r[1][1]+r[1][2]*r[1][2]),t._lastBBox=n}}function Ce(e){var t=r.select(e),n=e._fullLayout;if(n._calcInverseTransform=Ee,n._calcInverseTransform(e),n._container=t.selectAll(".plot-container").data([0]),n._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),n._paperdiv=n._container.selectAll(".svg-container").data([0]),n._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),n._glcontainer=n._paperdiv.selectAll(".gl-container").data([{}]),n._glcontainer.enter().append("div").classed("gl-container",!0),n._paperdiv.selectAll(".main-svg").remove(),n._paperdiv.select(".modebar-container").remove(),n._paper=n._paperdiv.insert("svg",":first-child").classed("main-svg",!0),n._toppaper=n._paperdiv.append("svg").classed("main-svg",!0),n._modebardiv=n._paperdiv.append("div"),delete n._modeBar,n._hoverpaper=n._paperdiv.append("svg").classed("main-svg",!0),!n._uid){var i={};r.selectAll("defs").each((function(){this.id&&(i[this.id.split("-")[1]]=1)})),n._uid=o.randstr(i)}n._paperdiv.selectAll(".main-svg").attr(y.svgAttrs),n._defs=n._paper.append("defs").attr("id","defs-"+n._uid),n._clips=n._defs.append("g").classed("clips",!0),n._topdefs=n._toppaper.append("defs").attr("id","topdefs-"+n._uid),n._topclips=n._topdefs.append("g").classed("clips",!0),n._bgLayer=n._paper.append("g").classed("bglayer",!0),n._draggers=n._paper.append("g").classed("draglayer",!0);var a=n._paper.append("g").classed("layer-below",!0);n._imageLowerLayer=a.append("g").classed("imagelayer",!0),n._shapeLowerLayer=a.append("g").classed("shapelayer",!0),n._cartesianlayer=n._paper.append("g").classed("cartesianlayer",!0),n._polarlayer=n._paper.append("g").classed("polarlayer",!0),n._ternarylayer=n._paper.append("g").classed("ternarylayer",!0),n._geolayer=n._paper.append("g").classed("geolayer",!0),n._funnelarealayer=n._paper.append("g").classed("funnelarealayer",!0),n._pielayer=n._paper.append("g").classed("pielayer",!0),n._iciclelayer=n._paper.append("g").classed("iciclelayer",!0),n._treemaplayer=n._paper.append("g").classed("treemaplayer",!0),n._sunburstlayer=n._paper.append("g").classed("sunburstlayer",!0),n._indicatorlayer=n._toppaper.append("g").classed("indicatorlayer",!0),n._glimages=n._paper.append("g").classed("glimages",!0);var s=n._toppaper.append("g").classed("layer-above",!0);n._imageUpperLayer=s.append("g").classed("imagelayer",!0),n._shapeUpperLayer=s.append("g").classed("shapelayer",!0),n._infolayer=n._toppaper.append("g").classed("infolayer",!0),n._menulayer=n._toppaper.append("g").classed("menulayer",!0),n._zoomlayer=n._toppaper.append("g").classed("zoomlayer",!0),n._hoverlayer=n._hoverpaper.append("g").classed("hoverlayer",!0),n._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),e.emit("plotly_framework")}n.animate=ke,n.addFrames=Oe,n.deleteFrames=Se,n.addTraces=W,n.deleteTraces=Y,n.extendTraces=V,n.moveTraces=G,n.prependTraces=H,n.newPlot=N,n._doPlot=A,n.purge=Ae,n.react=be,n.redraw=P,n.relayout=te,n.restyle=K,n.setPlotConfig=C,n.update=le,n._guiRelayout=ce(te),n._guiRestyle=ce(K),n._guiUpdate=ce(le),n._storeDirectGUIEdit=J},{"../components/color":100,"../components/drawing":122,"../constants/xmlns_namespaces":211,"../lib":230,"../lib/events":223,"../lib/queue":245,"../plots/cartesian/axes":276,"../plots/cartesian/constants":283,"../plots/cartesian/graph_interact":286,"../plots/cartesian/select":296,"../plots/plots":311,"../registry":313,"./edit_types":258,"./helpers":259,"./manage_arrays":261,"./plot_config":263,"./plot_schema":264,"./subroutines":266,"@plotly/d3":11,"fast-isnumeric":15,"has-hover":46}],263:[function(e,t,n){"use strict";var r={staticPlot:{valType:"boolean",dflt:!1},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},i={};function a(e,t){for(var n in e){var r=e[n];r.valType?t[n]=r.dflt:(t[n]||(t[n]={}),a(r,t[n]))}}a(r,i),t.exports={configAttributes:r,dfltConfig:i}},{}],264:[function(e,t,n){"use strict";var r=e("../registry"),i=e("../lib"),a=e("../plots/attributes"),o=e("../plots/layout_attributes"),s=e("../plots/frame_attributes"),u=e("../plots/animation_attributes"),l=e("./plot_config").configAttributes,c=e("./edit_types"),f=i.extendDeepAll,h=i.isPlainObject,d=i.isArrayOrTypedArray,p=i.nestedProperty,v=i.valObjectMeta,g="_isSubplotObj",y="_isLinkedToArray",m="_deprecated",b=[g,y,"_arrayAttrRegexps",m];function _(e,t){var n,i,a,s,u=e._basePlotModules;if(u){var l;for(n=0;n<u.length;n++){if((a=u[n]).attrRegex&&a.attrRegex.test(t)){if(a.layoutAttrOverrides)return a.layoutAttrOverrides;!l&&a.layoutAttributes&&(l=a.layoutAttributes)}var c=a.baseLayoutAttrOverrides;if(c&&t in c)return c[t]}if(l)return l}var f=e._modules;if(f)for(n=0;n<f.length;n++)if((s=f[n].layoutAttributes)&&t in s)return s[t];for(i in r.componentsRegistry){if("colorscale"===(a=r.componentsRegistry[i]).name&&0===t.indexOf("coloraxis"))return a.layoutAttributes[t];if(!a.schema&&t===a.name)return a.layoutAttributes}return t in o&&o[t]}function w(e,t,n){if(!e)return!1;if(e._isLinkedToArray)if(x(t[n]))n++;else if(n<t.length)return!1;for(;n<t.length;n++){var r=e[t[n]];if(!h(r))break;if(e=r,n===t.length-1)break;if(e._isLinkedToArray){if(!x(t[++n]))return!1}else if("info_array"===e.valType){var i=t[++n];if(!x(i))return!1;var a=e.items;if(Array.isArray(a)){if(i>=a.length)return!1;if(2===e.dimensions){if(n++,t.length===n)return e;var o=t[n];if(!x(o))return!1;e=a[i][o]}else e=a[i]}else e=a}}return e}function x(e){return e===Math.round(e)&&e>=0}function T(e){var t,i;i=(t=r.modules[e]._module).basePlotModule;var o={type:null},s=f({},a),u=f({},t.attributes);n.crawl(u,(function(e,t,n,r,i){p(s,i).set(void 0),void 0===e&&p(u,i).set(void 0)})),f(o,s),r.traceIs(e,"noOpacity")&&delete o.opacity,r.traceIs(e,"showLegend")||(delete o.showlegend,delete o.legendgroup),r.traceIs(e,"noHover")&&(delete o.hoverinfo,delete o.hoverlabel),t.selectPoints||delete o.selectedpoints,f(o,u),i.attributes&&f(o,i.attributes),o.type=e;var l={meta:t.meta||{},categories:t.categories||{},animatable:Boolean(t.animatable),type:e,attributes:A(o)};if(t.layoutAttributes){var c={};f(c,t.layoutAttributes),l.layoutAttributes=A(c)}return t.animatable||n.crawl(l,(function(e){n.isValObject(e)&&"anim"in e&&delete e.anim})),l}function k(){var e,t,n={};for(e in f(n,o),r.subplotsRegistry)if((t=r.subplotsRegistry[e]).layoutAttributes)if(Array.isArray(t.attr))for(var i=0;i<t.attr.length;i++)I(n,t,t.attr[i]);else I(n,t,"subplot"===t.attr?t.name:t.attr);for(e in r.componentsRegistry){var a=(t=r.componentsRegistry[e]).schema;if(a&&(a.subplots||a.layout)){var s=a.subplots;if(s&&s.xaxis&&!s.yaxis)for(var u in s.xaxis)delete n.yaxis[u]}else"colorscale"===t.name?f(n,t.layoutAttributes):t.layoutAttributes&&D(n,t.layoutAttributes,t.name)}return{layoutAttributes:A(n)}}function O(e){var t=r.transformsRegistry[e],n=f({},t.attributes);return Object.keys(r.componentsRegistry).forEach((function(t){var i=r.componentsRegistry[t];i.schema&&i.schema.transforms&&i.schema.transforms[e]&&Object.keys(i.schema.transforms[e]).forEach((function(t){D(n,i.schema.transforms[e][t],t)}))})),{attributes:A(n)}}function S(){var e={frames:f({},s)};return A(e),e.frames}function A(e){return E(e),C(e),M(e),e}function E(e){function t(e){return{valType:"string",editType:"none"}}function r(e,r,i){n.isValObject(e)?!0!==e.arrayOk&&"data_array"!==e.valType||(i[r+"src"]=t(r)):h(e)&&(e.role="object")}n.crawl(e,r)}function C(e){function t(e,t,n){if(e){var r=e[y];r&&(delete e[y],n[t]={items:{}},n[t].items[r]=e,n[t].role="object")}}n.crawl(e,t)}function M(e){function t(e){for(var n in e)if(h(e[n]))t(e[n]);else if(Array.isArray(e[n]))for(var r=0;r<e[n].length;r++)t(e[n][r]);else e[n]instanceof RegExp&&(e[n]=e[n].toString())}t(e)}function I(e,t,n){var r=p(e,n),i=f({},t.layoutAttributes);i[g]=!0,r.set(i)}function D(e,t,n){var r=p(e,n);r.set(f(r.get()||{},t))}n.IS_SUBPLOT_OBJ=g,n.IS_LINKED_TO_ARRAY=y,n.DEPRECATED=m,n.UNDERSCORE_ATTRS=b,n.get=function(){var e={};r.allTypes.forEach((function(t){e[t]=T(t)}));var t={};return Object.keys(r.transformsRegistry).forEach((function(e){t[e]=O(e)})),{defs:{valObjects:v,metaKeys:b.concat(["description","role","editType","impliedEdits"]),editType:{traces:c.traces,layout:c.layout},impliedEdits:{}},traces:e,layout:k(),transforms:t,frames:S(),animation:A(u),config:A(l)}},n.crawl=function(e,t,r,i){var a=r||0;i=i||"",Object.keys(e).forEach((function(r){var o=e[r];if(-1===b.indexOf(r)){var s=(i?i+".":"")+r;t(o,r,e,a,s),n.isValObject(o)||h(o)&&"impliedEdits"!==r&&n.crawl(o,t,a+1,s)}}))},n.isValObject=function(e){return e&&void 0!==e.valType},n.findArrayAttributes=function(e){var t,r,i=[],o=[],s=[];function u(e,n,r,i){o=o.slice(0,i).concat([n]),s=s.slice(0,i).concat([e&&e._isLinkedToArray]),e&&("data_array"===e.valType||!0===e.arrayOk)&&("colorbar"!==o[i-1]||"ticktext"!==n&&"tickvals"!==n)&&l(t,0,"")}function l(e,t,n){var a=e[o[t]],u=n+o[t];if(t===o.length-1)d(a)&&i.push(r+u);else if(s[t]){if(Array.isArray(a))for(var c=0;c<a.length;c++)h(a[c])&&l(a[c],t+1,u+"["+c+"].")}else h(a)&&l(a,t+1,u+".")}t=e,r="",n.crawl(a,u),e._module&&e._module.attributes&&n.crawl(e._module.attributes,u);var c=e.transforms;if(c)for(var f=0;f<c.length;f++){var p=c[f],v=p._module;v&&(r="transforms["+f+"].",t=p,n.crawl(v.attributes,u))}return i},n.getTraceValObject=function(e,t){var n,i,o=t[0],s=1;if("transforms"===o){if(1===t.length)return a.transforms;var u=e.transforms;if(!Array.isArray(u)||!u.length)return!1;var l=t[1];if(!x(l)||l>=u.length)return!1;i=(n=(r.transformsRegistry[u[l].type]||{}).attributes)&&n[t[2]],s=3}else{var c=e._module;if(c||(c=(r.modules[e.type||a.type.dflt]||{})._module),!c)return!1;if(!(i=(n=c.attributes)&&n[o])){var f=c.basePlotModule;f&&f.attributes&&(i=f.attributes[o])}i||(i=a[o])}return w(i,t,s)},n.getLayoutValObject=function(e,t){return w(_(e,t[0]),t,1)}},{"../lib":230,"../plots/animation_attributes":270,"../plots/attributes":272,"../plots/frame_attributes":306,"../plots/layout_attributes":309,"../registry":313,"./edit_types":258,"./plot_config":263}],265:[function(e,t,n){"use strict";var r=e("../lib"),i=e("../plots/attributes"),a="templateitemname",o={name:{valType:"string",editType:"none"}};function s(e){return e&&"string"===typeof e}function u(e){var t=e.length-1;return"s"!==e.charAt(t)&&r.warn("bad argument to arrayDefaultKey: "+e),e.substr(0,e.length-1)+"defaults"}o[a]={valType:"string",editType:"calc"},n.templatedArray=function(e,t){return t._isLinkedToArray=e,t.name=o.name,t[a]=o[a],t},n.traceTemplater=function(e){var t,n,a={};for(t in e)n=e[t],Array.isArray(n)&&n.length&&(a[t]=0);function o(o){var s={type:t=r.coerce(o,{},i,"type"),_template:null};if(t in a){n=e[t];var u=a[t]%n.length;a[t]++,s._template=n[u]}return s}return{newTrace:o}},n.newContainer=function(e,t,n){var i=e._template,a=i&&(i[t]||n&&i[n]);return r.isPlainObject(a)||(a=null),e[t]={_template:a}},n.arrayTemplater=function(e,t,n){var r=e._template,i=r&&r[u(t)],o=r&&r[t];Array.isArray(o)&&o.length||(o=[]);var l={};function c(e){var t={name:e.name,_input:e},r=t[a]=e[a];if(!s(r))return t._template=i,t;for(var u=0;u<o.length;u++){var c=o[u];if(c.name===r)return l[r]=1,t._template=c,t}return t[n]=e[n]||!1,t._template=!1,t}function f(){for(var e=[],t=0;t<o.length;t++){var n=o[t],r=n.name;if(s(r)&&!l[r]){var i={_template:n,name:r,_input:{_templateitemname:r}};i[a]=n[a],e.push(i),l[r]=1}}return e}return{newItem:c,defaultItems:f}},n.arrayDefaultKey=u,n.arrayEditor=function(e,t,n){var i=(r.nestedProperty(e,t).get()||[]).length,o=n._index,s=o>=i&&(n._input||{})._templateitemname;s&&(o=i);var u,l=t+"["+o+"]";function c(){u={},s&&(u[l]={},u[l][a]=s)}function f(e,t){u[e]=t}function h(e,t){s?r.nestedProperty(u[l],e).set(t):u[l+"."+e]=t}function d(){var e=u;return c(),e}function p(t,n){t&&h(t,n);var i=d();for(var a in i)r.nestedProperty(e,a).set(i[a])}return c(),{modifyBase:f,modifyItem:h,getUpdateObj:d,applyUpdate:p}}},{"../lib":230,"../plots/attributes":272}],266:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../registry"),a=e("../plots/plots"),o=e("../lib"),s=e("../lib/clear_gl_canvases"),u=e("../components/color"),l=e("../components/drawing"),c=e("../components/titles"),f=e("../components/modebar"),h=e("../plots/cartesian/axes"),d=e("../constants/alignment"),p=e("../plots/cartesian/constraints"),v=p.enforce,g=p.clean,y=e("../plots/cartesian/autorange").doAutoRange,m="start",b="middle",_="end";function w(e,t,n){for(var r=0;r<n.length;r++){var i=n[r][0],a=n[r][1];if(!(i[0]>=e[1]||i[1]<=e[0])&&a[0]<t[1]&&a[1]>t[0])return!0}return!1}function x(e){var t,i,s,c,p,v,g=e._fullLayout,y=g._size,m=y.p,b=h.list(e,"",!0);if(g._paperdiv.style({width:e._context.responsive&&g.autosize&&!e._context._hasZeroWidth&&!e.layout.width?"100%":g.width+"px",height:e._context.responsive&&g.autosize&&!e._context._hasZeroHeight&&!e.layout.height?"100%":g.height+"px"}).selectAll(".main-svg").call(l.setSize,g.width,g.height),e._context.setBackground(e,g.paper_bgcolor),n.drawMainTitle(e),f.manage(e),!g._has("cartesian"))return a.previousPromises(e);function _(e,t,n){var r=e._lw/2;return"x"===e._id.charAt(0)?t?"top"===n?t._offset-m-r:t._offset+t._length+m+r:y.t+y.h*(1-(e.position||0))+r%1:t?"right"===n?t._offset+t._length+m+r:t._offset-m-r:y.l+y.w*(e.position||0)+r%1}for(t=0;t<b.length;t++){var x=(c=b[t])._anchorAxis;c._linepositions={},c._lw=l.crispRound(e,c.linewidth,1),c._mainLinePosition=_(c,x,c.side),c._mainMirrorPosition=c.mirror&&x?_(c,x,d.OPPOSITE_SIDE[c.side]):null}var k=[],S=[],A=[],E=1===u.opacity(g.paper_bgcolor)&&1===u.opacity(g.plot_bgcolor)&&g.paper_bgcolor===g.plot_bgcolor;for(i in g._plots)if((s=g._plots[i]).mainplot)s.bg&&s.bg.remove(),s.bg=void 0;else{var C=s.xaxis.domain,M=s.yaxis.domain,I=s.plotgroup;if(w(C,M,A)){var D=I.node(),P=s.bg=o.ensureSingle(I,"rect","bg");D.insertBefore(P.node(),D.childNodes[0]),S.push(i)}else I.select("rect.bg").remove(),A.push([C,M]),E||(k.push(i),S.push(i))}var N,j,L,R,F,z,U,q,B,V,H,W,Y,G=g._bgLayer.selectAll(".bg").data(k);for(G.enter().append("rect").classed("bg",!0),G.exit().remove(),G.each((function(e){g._plots[e].bg=r.select(this)})),t=0;t<S.length;t++)s=g._plots[S[t]],p=s.xaxis,v=s.yaxis,s.bg&&void 0!==p._offset&&void 0!==v._offset&&s.bg.call(l.setRect,p._offset-m,v._offset-m,p._length+2*m,v._length+2*m).call(u.fill,g.plot_bgcolor).style("stroke-width",0);if(!g._hasOnlyLargeSploms)for(i in g._plots){s=g._plots[i],p=s.xaxis,v=s.yaxis;var K,X,$=s.clipId="clip"+g._uid+i+"plot",Q=o.ensureSingleById(g._clips,"clipPath",$,(function(e){e.classed("plotclip",!0).append("rect")}));s.clipRect=Q.select("rect").attr({width:p._length,height:v._length}),l.setTranslate(s.plot,p._offset,v._offset),s._hasClipOnAxisFalse?(K=null,X=$):(K=$,X=null),l.setClipUrl(s.plot,K,e),s.layerClipId=X}function J(e){return"M"+N+","+e+"H"+j}function Z(e){return"M"+p._offset+","+e+"h"+p._length}function ee(e){return"M"+e+","+q+"V"+U}function te(e){return"M"+e+","+v._offset+"v"+v._length}function ne(e,t,n){if(!e.showline||i!==e._mainSubplot)return"";if(!e._anchorAxis)return n(e._mainLinePosition);var r=t(e._mainLinePosition);return e.mirror&&(r+=t(e._mainMirrorPosition)),r}for(i in g._plots){s=g._plots[i],p=s.xaxis,v=s.yaxis;var re="M0,0";T(p,i)&&(F=O(p,"left",v,b),N=p._offset-(F?m+F:0),z=O(p,"right",v,b),j=p._offset+p._length+(z?m+z:0),L=_(p,v,"bottom"),R=_(p,v,"top"),!(Y=!p._anchorAxis||i!==p._mainSubplot)||"allticks"!==p.mirror&&"all"!==p.mirror||(p._linepositions[i]=[L,R]),re=ne(p,J,Z),Y&&p.showline&&("all"===p.mirror||"allticks"===p.mirror)&&(re+=J(L)+J(R)),s.xlines.style("stroke-width",p._lw+"px").call(u.stroke,p.showline?p.linecolor:"rgba(0,0,0,0)")),s.xlines.attr("d",re);var ie="M0,0";T(v,i)&&(H=O(v,"bottom",p,b),U=v._offset+v._length+(H?m:0),W=O(v,"top",p,b),q=v._offset-(W?m:0),B=_(v,p,"left"),V=_(v,p,"right"),!(Y=!v._anchorAxis||i!==v._mainSubplot)||"allticks"!==v.mirror&&"all"!==v.mirror||(v._linepositions[i]=[B,V]),ie=ne(v,ee,te),Y&&v.showline&&("all"===v.mirror||"allticks"===v.mirror)&&(ie+=ee(B)+ee(V)),s.ylines.style("stroke-width",v._lw+"px").call(u.stroke,v.showline?v.linecolor:"rgba(0,0,0,0)")),s.ylines.attr("d",ie)}return h.makeClipPaths(e),a.previousPromises(e)}function T(e,t){return(e.ticks||e.showline)&&(t===e._mainSubplot||"all"===e.mirror||"allticks"===e.mirror)}function k(e,t,n){if(!n.showline||!n._lw)return!1;if("all"===n.mirror||"allticks"===n.mirror)return!0;var r=n._anchorAxis;if(!r)return!1;var i=d.FROM_BL[t];return n.side===t?r.domain[i]===e.domain[i]:n.mirror&&r.domain[1-i]===e.domain[1-i]}function O(e,t,n,r){if(k(e,t,n))return n._lw;for(var i=0;i<r.length;i++){var a=r[i];if(a._mainAxis===n._mainAxis&&k(e,t,a))return a._lw}return 0}function S(e,t){var n=e.title,r=e._size,i=0;switch(t===m?i=n.pad.l:t===_&&(i=-n.pad.r),n.xref){case"paper":return r.l+r.w*n.x+i;case"container":default:return e.width*n.x+i}}function A(e,t){var n=e.title,r=e._size,i=0;if("0em"!==t&&t?t===d.CAP_SHIFT+"em"&&(i=n.pad.t):i=-n.pad.b,"auto"===n.y)return r.t/2;switch(n.yref){case"paper":return r.t+r.h-r.h*n.y+i;case"container":default:return e.height-e.height*n.y+i}}function E(e){var t=e.title,n=b;return o.isRightAnchor(t)?n=_:o.isLeftAnchor(t)&&(n=m),n}function C(e){var t=e.title,n="0em";return o.isTopAnchor(t)?n=d.CAP_SHIFT+"em":o.isMiddleAnchor(t)&&(n=d.MID_SHIFT+"em"),n}n.layoutStyles=function(e){return o.syncOrAsync([a.doAutoMargin,x],e)},n.drawMainTitle=function(e){var t=e._fullLayout,n=E(t),r=C(t);c.draw(e,"gtitle",{propContainer:t,propName:"title.text",placeholder:t._dfltTitle.plot,attributes:{x:S(t,n),y:A(t,r),"text-anchor":n,dy:r}})},n.doTraceStyle=function(e){var t,r=e.calcdata,o=[];for(t=0;t<r.length;t++){var u=r[t],l=u[0]||{},c=l.trace||{},f=c._module||{},h=f.arraysToCalcdata;h&&h(u,c);var d=f.editStyle;d&&o.push({fn:d,cd0:l})}if(o.length){for(t=0;t<o.length;t++){var p=o[t];p.fn(e,p.cd0)}s(e),n.redrawReglTraces(e)}return a.style(e),i.getComponentMethod("legend","draw")(e),a.previousPromises(e)},n.doColorBars=function(e){return i.getComponentMethod("colorbar","draw")(e),a.previousPromises(e)},n.layoutReplot=function(e){var t=e.layout;return e.layout=void 0,i.call("_doPlot",e,"",t)},n.doLegend=function(e){return i.getComponentMethod("legend","draw")(e),a.previousPromises(e)},n.doTicksRelayout=function(e){return h.draw(e,"redraw"),e._fullLayout._hasOnlyLargeSploms&&(i.subplotsRegistry.splom.updateGrid(e),s(e),n.redrawReglTraces(e)),n.drawMainTitle(e),a.previousPromises(e)},n.doModeBar=function(e){var t=e._fullLayout;f.manage(e);for(var n=0;n<t._basePlotModules.length;n++){var r=t._basePlotModules[n].updateFx;r&&r(e)}return a.previousPromises(e)},n.doCamera=function(e){for(var t=e._fullLayout,n=t._subplots.gl3d,r=0;r<n.length;r++){var i=t[n[r]];i._scene.setViewport(i)}},n.drawData=function(e){var t=e._fullLayout;s(e);for(var r=t._basePlotModules,o=0;o<r.length;o++)r[o].plot(e);return n.redrawReglTraces(e),a.style(e),i.getComponentMethod("shapes","draw")(e),i.getComponentMethod("annotations","draw")(e),i.getComponentMethod("images","draw")(e),t._replotting=!1,a.previousPromises(e)},n.redrawReglTraces=function(e){var t=e._fullLayout;if(t._has("regl")){var n,r,i=e._fullData,a=[],s=[];for(t._hasOnlyLargeSploms&&t._splomGrid.draw(),n=0;n<i.length;n++){var u=i[n];!0===u.visible&&0!==u._length&&("splom"===u.type?t._splomScenes[u.uid].draw():"scattergl"===u.type?o.pushUnique(a,u.xaxis+u.yaxis):"scatterpolargl"===u.type&&o.pushUnique(s,u.subplot))}for(n=0;n<a.length;n++)(r=t._plots[a[n]])._scene&&r._scene.draw();for(n=0;n<s.length;n++)(r=t[s[n]]._subplot)._scene&&r._scene.draw()}},n.doAutoRangeAndConstraints=function(e){for(var t,n=h.list(e,"",!0),r={},i=0;i<n.length;i++)if(!r[(t=n[i])._id]){r[t._id]=1,g(e,t),y(e,t);var a=t._matchGroup;if(a)for(var o in a){var s=h.getFromId(e,o);y(e,s,t.range),r[o]=1}}v(e)},n.finalDraw=function(e){i.getComponentMethod("rangeslider","draw")(e),i.getComponentMethod("rangeselector","draw")(e)},n.drawMarginPushers=function(e){i.getComponentMethod("legend","draw")(e),i.getComponentMethod("rangeselector","draw")(e),i.getComponentMethod("sliders","draw")(e),i.getComponentMethod("updatemenus","draw")(e),i.getComponentMethod("colorbar","draw")(e)}},{"../components/color":100,"../components/drawing":122,"../components/modebar":163,"../components/titles":198,"../constants/alignment":205,"../lib":230,"../lib/clear_gl_canvases":218,"../plots/cartesian/autorange":275,"../plots/cartesian/axes":276,"../plots/cartesian/constraints":284,"../plots/plots":311,"../registry":313,"@plotly/d3":11}],267:[function(e,t,n){"use strict";var r=e("../lib"),i=r.isPlainObject,a=e("./plot_schema"),o=e("../plots/plots"),s=e("../plots/attributes"),u=e("./plot_template"),l=e("./plot_config").dfltConfig;function c(e,t){e=r.extendDeep({},e);var n,a,o=Object.keys(e).sort();function s(t,n,r){if(i(n)&&i(t))c(t,n);else if(Array.isArray(n)&&Array.isArray(t)){var o=u.arrayTemplater({_template:e},r);for(a=0;a<n.length;a++){var s=n[a],l=o.newItem(s)._template;l&&c(l,s)}var f=o.defaultItems();for(a=0;a<f.length;a++)n.push(f[a]._template);for(a=0;a<n.length;a++)delete n[a].templateitemname}}for(n=0;n<o.length;n++){var l=o[n],h=e[l];if(l in t?s(h,t[l],l):t[l]=h,f(l)===l)for(var d in t){var p=f(d);d===p||p!==l||d in e||s(h,t[d],l)}}}function f(e){return e.replace(/[0-9]+$/,"")}function h(e,t,n,a,o){var s=o&&n(o);for(var l in e){var c=e[l],d=v(e,l,a),p=v(e,l,o),g=n(p);if(!g){var y=f(l);y!==l&&(g=n(p=v(e,y,o)))}if((!s||s!==g)&&!(!g||g._noTemplating||"data_array"===g.valType||g.arrayOk&&Array.isArray(c)))if(!g.valType&&i(c))h(c,t,n,d,p);else if(g._isLinkedToArray&&Array.isArray(c))for(var m=!1,b=0,_={},w=0;w<c.length;w++){var x=c[w];if(i(x)){var T=x.name;if(T)_[T]||(h(x,t,n,v(c,b,d),v(c,b,p)),b++,_[T]=1);else if(!m){var k=v(e,u.arrayDefaultKey(l),a),O=v(c,b,d);h(x,t,n,O,v(c,b,p));var S=r.nestedProperty(t,O);r.nestedProperty(t,k).set(S.get()),S.set(null),m=!0}}}else r.nestedProperty(t,d).set(c)}}function d(e,t){return a.getLayoutValObject(e,r.nestedProperty({},t).parts)}function p(e,t){return a.getTraceValObject(e,r.nestedProperty({},t).parts)}function v(e,t,n){return n?Array.isArray(e)?n+"["+t+"]":n+"."+t:t}function g(e){for(var t=0;t<e.length;t++)if(i(e[t]))return!0}function y(e){var t;switch(e.code){case"data":t="The template has no key data.";break;case"layout":t="The template has no key layout.";break;case"missing":t=e.path?"There are no templates for item "+e.path+" with name "+e.templateitemname:"There are no templates for trace "+e.index+", of type "+e.traceType+".";break;case"unused":t=e.path?"The template item at "+e.path+" was not used in constructing the plot.":e.dataCount?"Some of the templates of type "+e.traceType+" were not used. The template has "+e.templateCount+" traces, the data only has "+e.dataCount+" of this type.":"The template has "+e.templateCount+" traces of type "+e.traceType+" but there are none in the data.";break;case"reused":t="Some of the templates of type "+e.traceType+" were used more than once. The template has "+e.templateCount+" traces, the data has "+e.dataCount+" of this type."}return e.msg=t,e}n.makeTemplate=function(e){e=r.isPlainObject(e)?e:r.getGraphDiv(e),e=r.extendDeep({_context:l},{data:e.data,layout:e.layout}),o.supplyDefaults(e);var t=e.data||[],n=e.layout||{};n._basePlotModules=e._fullLayout._basePlotModules,n._modules=e._fullLayout._modules;var a={data:{},layout:{}};t.forEach((function(e){var t={};h(e,t,p.bind(null,e));var n=r.coerce(e,{},s,"type"),i=a.data[n];i||(i=a.data[n]=[]),i.push(t)})),h(n,a.layout,d.bind(null,n)),delete a.layout.template;var u=n.template;if(i(u)){var f,v,g,y,m,b,_=u.layout;i(_)&&c(_,a.layout);var w=u.data;if(i(w)){for(v in a.data)if(g=w[v],Array.isArray(g)){for(b=(m=a.data[v]).length,y=g.length,f=0;f<b;f++)c(g[f%y],m[f]);for(f=b;f<y;f++)m.push(r.extendDeep({},g[f]))}for(v in w)v in a.data||(a.data[v]=r.extendDeep([],w[v]))}}return a},n.validateTemplate=function(e,t){var n=r.extendDeep({},{_context:l,data:e.data,layout:e.layout}),a=n.layout||{};i(t)||(t=a.template||{});var s=t.layout,u=t.data,c=[];n.layout=a,n.layout.template=t,o.supplyDefaults(n);var h=n._fullLayout,d=n._fullData,p={};function m(e,t){for(var n in e)if("_"!==n.charAt(0)&&i(e[n])){var r,a=f(n),o=[];for(r=0;r<t.length;r++)o.push(v(e,n,t[r])),a!==n&&o.push(v(e,a,t[r]));for(r=0;r<o.length;r++)p[o[r]]=1;m(e[n],o)}}function b(e,t){for(var n in e)if(-1===n.indexOf("defaults")&&i(e[n])){var r=v(e,n,t);p[r]?b(e[n],r):c.push({code:"unused",path:r})}}if(i(s)?(m(h,["layout"]),b(s,"layout")):c.push({code:"layout"}),i(u)){for(var _,w={},x=0;x<d.length;x++){var T=d[x];w[_=T.type]=(w[_]||0)+1,T._fullInput._template||c.push({code:"missing",index:T._fullInput.index,traceType:_})}for(_ in u){var k=u[_].length,O=w[_]||0;k>O?c.push({code:"unused",traceType:_,templateCount:k,dataCount:O}):O>k&&c.push({code:"reused",traceType:_,templateCount:k,dataCount:O})}}else c.push({code:"data"});function S(e,t){for(var n in e)if("_"!==n.charAt(0)){var r=e[n],a=v(e,n,t);i(r)?(Array.isArray(e)&&!1===r._template&&r.templateitemname&&c.push({code:"missing",path:a,templateitemname:r.templateitemname}),S(r,a)):Array.isArray(r)&&g(r)&&S(r,a)}}if(S({data:d,layout:h},""),c.length)return c.map(y)}},{"../lib":230,"../plots/attributes":272,"../plots/plots":311,"./plot_config":263,"./plot_schema":264,"./plot_template":265}],268:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("./plot_api"),a=e("../plots/plots"),o=e("../lib"),s=e("../snapshot/helpers"),u=e("../snapshot/tosvg"),l=e("../snapshot/svgtoimg"),c=e("../version").version,f={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function h(e,t){var n,h,d,p;function v(e){return!(e in t)||o.validate(t[e],f[e])}if(t=t||{},o.isPlainObject(e)?(n=e.data||[],h=e.layout||{},d=e.config||{},p={}):(e=o.getGraphDiv(e),n=o.extendDeep([],e.data),h=o.extendDeep({},e.layout),d=e._context,p=e._fullLayout||{}),!v("width")&&null!==t.width||!v("height")&&null!==t.height)throw new Error("Height and width should be pixel values.");if(!v("format"))throw new Error("Export format is not "+o.join2(f.format.values,", "," or ")+".");var g={};function y(e,n){return o.coerce(t,g,f,e,n)}var m=y("format"),b=y("width"),_=y("height"),w=y("scale"),x=y("setBackground"),T=y("imageDataOnly"),k=document.createElement("div");k.style.position="absolute",k.style.left="-5000px",document.body.appendChild(k);var O=o.extendFlat({},h);b?O.width=b:null===t.width&&r(p.width)&&(O.width=p.width),_?O.height=_:null===t.height&&r(p.height)&&(O.height=p.height);var S=o.extendFlat({},d,{_exportedPlot:!0,staticPlot:!0,setBackground:x}),A=s.getRedrawFunc(k);function E(){return new Promise((function(e){setTimeout(e,s.getDelay(k._fullLayout))}))}function C(){return new Promise((function(e,t){var n=u(k,m,w),r=k._fullLayout.width,f=k._fullLayout.height;function h(){i.purge(k),document.body.removeChild(k)}if("full-json"===m){var d=a.graphJson(k,!1,"keepdata","object",!0,!0);return d.version=c,d=JSON.stringify(d),h(),e(T?d:s.encodeJSON(d))}if(h(),"svg"===m)return e(T?n:s.encodeSVG(n));var p=document.createElement("canvas");p.id=o.randstr(),l({format:m,width:r,height:f,scale:w,canvas:p,svg:n,promise:!0}).then(e).catch(t)}))}function M(e){return T?e.replace(s.IMAGE_URL_PREFIX,""):e}return new Promise((function(e,t){i.newPlot(k,n,O,S).then(A).then(E).then(C).then((function(t){e(M(t))})).catch((function(e){t(e)}))}))}t.exports=h},{"../lib":230,"../plots/plots":311,"../snapshot/helpers":317,"../snapshot/svgtoimg":319,"../snapshot/tosvg":321,"../version":386,"./plot_api":262,"fast-isnumeric":15}],269:[function(e,t,n){"use strict";var r=e("../lib"),i=e("../plots/plots"),a=e("./plot_schema"),o=e("./plot_config").dfltConfig,s=r.isPlainObject,u=Array.isArray,l=r.isArrayOrTypedArray;function c(e,t,n,i,a,o){o=o||[];for(var f=Object.keys(e),h=0;h<f.length;h++){var d=f[h];if("transforms"!==d){var y=o.slice();y.push(d);var m=e[d],b=t[d],_=g(n,d),w=(_||{}).valType,x="info_array"===w,T="colorscale"===w,k=(_||{}).items;if(v(n,d))if(s(m)&&s(b)&&"any"!==w)c(m,b,_,i,a,y);else if(x&&u(m)){m.length>b.length&&i.push(p("unused",a,y.concat(b.length)));var O,S,A,E,C,M=b.length,I=Array.isArray(k);if(I&&(M=Math.min(M,k.length)),2===_.dimensions)for(S=0;S<M;S++)if(u(m[S])){m[S].length>b[S].length&&i.push(p("unused",a,y.concat(S,b[S].length)));var D=b[S].length;for(O=0;O<(I?Math.min(D,k[S].length):D);O++)A=I?k[S][O]:k,E=m[S][O],C=b[S][O],r.validate(E,A)?C!==E&&C!==+E&&i.push(p("dynamic",a,y.concat(S,O),E,C)):i.push(p("value",a,y.concat(S,O),E))}else i.push(p("array",a,y.concat(S),m[S]));else for(S=0;S<M;S++)A=I?k[S]:k,E=m[S],C=b[S],r.validate(E,A)?C!==E&&C!==+E&&i.push(p("dynamic",a,y.concat(S),E,C)):i.push(p("value",a,y.concat(S),E))}else if(_.items&&!x&&u(m)){var P,N,j=k[Object.keys(k)[0]],L=[];for(P=0;P<b.length;P++){var R=b[P]._index||P;if((N=y.slice()).push(R),s(m[R])&&s(b[P])){L.push(R);var F=m[R],z=b[P];s(F)&&!1!==F.visible&&!1===z.visible?i.push(p("invisible",a,N)):c(F,z,j,i,a,N)}}for(P=0;P<m.length;P++)(N=y.slice()).push(P),s(m[P])?-1===L.indexOf(P)&&i.push(p("unused",a,N)):i.push(p("object",a,N,m[P]))}else!s(m)&&s(b)?i.push(p("object",a,y,m)):l(m)||!l(b)||x||T?d in t?r.validate(m,_)?"enumerated"===_.valType&&(_.coerceNumber&&m!==+b||m!==b)&&i.push(p("dynamic",a,y,m,b)):i.push(p("value",a,y,m)):i.push(p("unused",a,y,m)):i.push(p("array",a,y,m));else i.push(p("schema",a,y))}}return i}function f(e,t){for(var n=e.layout.layoutAttributes,i=0;i<t.length;i++){var a=t[i],o=e.traces[a.type],s=o.layoutAttributes;s&&(a.subplot?r.extendFlat(n[o.attributes.subplot.dflt],s):r.extendFlat(n,s))}return n}t.exports=function(e,t){void 0===e&&(e=[]),void 0===t&&(t={});var n,l,h=a.get(),d=[],v={_context:r.extendFlat({},o)};u(e)?(v.data=r.extendDeep([],e),n=e):(v.data=[],n=[],d.push(p("array","data"))),s(t)?(v.layout=r.extendDeep({},t),l=t):(v.layout={},l={},arguments.length>1&&d.push(p("object","layout"))),i.supplyDefaults(v);for(var g=v._fullData,y=n.length,m=0;m<y;m++){var b=n[m],_=["data",m];if(s(b)){var w=g[m],x=w.type,T=h.traces[x].attributes;T.type={valType:"enumerated",values:[x]},!1===w.visible&&!1!==b.visible&&d.push(p("invisible",_)),c(b,w,T,d,_);var k=b.transforms,O=w.transforms;if(k){u(k)||d.push(p("array",_,["transforms"])),_.push("transforms");for(var S=0;S<k.length;S++){var A=["transforms",S],E=k[S].type;if(s(k[S])){var C=h.transforms[E]?h.transforms[E].attributes:{};C.type={valType:"enumerated",values:Object.keys(h.transforms)},c(k[S],O[S],C,d,_,A)}else d.push(p("object",_,A))}}}else d.push(p("object",_))}return c(l,v._fullLayout,f(h,g),d,"layout"),0===d.length?void 0:d};var h={object:function(e,t){return("layout"===e&&""===t?"The layout argument":"data"===e[0]&&""===t?"Trace "+e[1]+" in the data argument":d(e)+"key "+t)+" must be linked to an object container"},array:function(e,t){return("data"===e?"The data argument":d(e)+"key "+t)+" must be linked to an array container"},schema:function(e,t){return d(e)+"key "+t+" is not part of the schema"},unused:function(e,t,n){var r=s(n)?"container":"key";return d(e)+r+" "+t+" did not get coerced"},dynamic:function(e,t,n,r){return[d(e)+"key",t,"(set to '"+n+"')","got reset to","'"+r+"'","during defaults."].join(" ")},invisible:function(e,t){return(t?d(e)+"item "+t:"Trace "+e[1])+" got defaulted to be not visible"},value:function(e,t,n){return[d(e)+"key "+t,"is set to an invalid value ("+n+")"].join(" ")}};function d(e){return u(e)?"In data trace "+e[1]+", ":"In "+e+", "}function p(e,t,n,i,a){var o,s;n=n||"",u(t)?(o=t[0],s=t[1]):(o=t,s=null);var l=b(n),c=h[e](t,l,i,a);return r.log(c),{code:e,container:o,trace:s,path:n,astr:l,msg:c}}function v(e,t){var n=m(t),r=n.keyMinusId,i=n.id;return!!(r in e&&e[r]._isSubplotObj&&i)||t in e}function g(e,t){return t in e?e[t]:e[m(t).keyMinusId]}var y=r.counterRegex("([a-z]+)");function m(e){var t=e.match(y);return{keyMinusId:t&&t[1],id:t&&t[2]}}function b(e){if(!u(e))return String(e);for(var t="",n=0;n<e.length;n++){var r=e[n];"number"===typeof r?t=t.substr(0,t.length-1)+"["+r+"]":t+=r,n<e.length-1&&(t+=".")}return t}},{"../lib":230,"../plots/plots":311,"./plot_config":263,"./plot_schema":264}],270:[function(e,t,n){"use strict";t.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},{}],271:[function(e,t,n){"use strict";var r=e("../lib"),i=e("../plot_api/plot_template");t.exports=function(e,t,n){var a,o,s=n.name,u=n.inclusionAttr||"visible",l=t[s],c=r.isArrayOrTypedArray(e[s])?e[s]:[],f=t[s]=[],h=i.arrayTemplater(t,s,u);for(a=0;a<c.length;a++){var d=c[a];r.isPlainObject(d)?o=h.newItem(d):(o=h.newItem({}))[u]=!1,o._index=a,!1!==o[u]&&n.handleItemDefaults(d,o,t,n),f.push(o)}var p=h.defaultItems();for(a=0;a<p.length;a++)(o=p[a])._index=f.length,n.handleItemDefaults({},o,t,n,{}),f.push(o);if(r.isArrayOrTypedArray(l)){var v=Math.min(l.length,f.length);for(a=0;a<v;a++)r.relinkPrivateKeys(f[a],l[a])}return f}},{"../lib":230,"../plot_api/plot_template":265}],272:[function(e,t,n){"use strict";var r=e("./font_attributes"),i=e("../components/fx/attributes");t.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:r({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:i.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},{"../components/fx/attributes":131,"./font_attributes":305}],273:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),a=i.dateTime2ms,o=i.incrementMonth,s=e("../../constants/numerical").ONEAVGMONTH;t.exports=function(e,t,n,i){if("date"!==t.type)return i;var u=e[n+"periodalignment"];if(!u)return i;var l,c=e[n+"period"];if(r(c)){if((c=+c)<=0)return i}else if("string"===typeof c&&"M"===c.charAt(0)){var f=+c.substring(1);if(!(f>0&&Math.round(f)===f))return i;l=f}for(var h=t.calendar,d="start"===u,p="end"===u,v=e[n+"period0"],g=a(v,h)||0,y=[],m=i.length,b=0;b<m;b++){var _,w,x,T=i[b];if(l){for(_=Math.round((T-g)/(l*s)),x=o(g,l*_,h);x>T;)x=o(x,-l,h);for(;x<=T;)x=o(x,l,h);w=o(x,-l,h)}else{for(x=g+(_=Math.round((T-g)/c))*c;x>T;)x-=c;for(;x<=T;)x+=c;w=x-c}y[b]=d?w:p?x:(w+x)/2}return y}},{"../../constants/numerical":210,"../../lib":230,"fast-isnumeric":15}],274:[function(e,t,n){"use strict";t.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},{}],275:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("fast-isnumeric"),a=e("../../lib"),o=e("../../constants/numerical").FP_SAFE,s=e("../../registry"),u=e("../../components/drawing"),l=e("./axis_ids"),c=l.getFromId,f=l.isLinked;function h(e,t){var n,r,i=[],o=e._fullLayout,s=p(o,t,0),u=p(o,t,1),l=y(e,t),c=l.min,f=l.max;if(0===c.length||0===f.length)return a.simpleMap(t.range,t.r2l);var h=c[0].val,v=f[0].val;for(n=1;n<c.length&&h===v;n++)h=Math.min(h,c[n].val);for(n=1;n<f.length&&h===v;n++)v=Math.max(v,f[n].val);var g=!1;if(t.range){var m=a.simpleMap(t.range,t.r2l);g=m[1]<m[0]}"reversed"===t.autorange&&(g=!0,t.autorange=!0);var b,_,w,x,T,k,O=t.rangemode,S="tozero"===O,A="nonnegative"===O,E=t._length,C=E/10,M=0;for(n=0;n<c.length;n++)for(b=c[n],r=0;r<f.length;r++)(k=(_=f[r]).val-b.val-d(t,b.val,_.val))>0&&((T=E-s(b)-u(_))>C?k/T>M&&(w=b,x=_,M=k/T):k/E>M&&(w={val:b.val,nopad:1},x={val:_.val,nopad:1},M=k/E));function I(e,t){return Math.max(e,u(t))}if(h===v){var D=h-1,P=h+1;if(S)if(0===h)i=[0,1];else{var N=(h>0?f:c).reduce(I,0),j=h/(1-Math.min(.5,N/E));i=h>0?[0,j]:[j,0]}else i=A?[Math.max(0,D),Math.max(1,P)]:[D,P]}else S?(w.val>=0&&(w={val:0,nopad:1}),x.val<=0&&(x={val:0,nopad:1})):A&&(w.val-M*s(w)<0&&(w={val:0,nopad:1}),x.val<=0&&(x={val:1,nopad:1})),M=(x.val-w.val-d(t,b.val,_.val))/(E-s(w)-u(x)),i=[w.val-M*s(w),x.val+M*u(x)];return g&&i.reverse(),a.simpleMap(i,t.l2r||Number)}function d(e,t,n){var r=0;if(e.rangebreaks)for(var i=e.locateBreaks(t,n),a=0;a<i.length;a++){var o=i[a];r+=o.max-o.min}return r}function p(e,t,n){var r=.05*t._length,i=t._anchorAxis||{};if(-1!==(t.ticklabelposition||"").indexOf("inside")||-1!==(i.ticklabelposition||"").indexOf("inside")){var o="reversed"===t.autorange;if(!o){var s=a.simpleMap(t.range,t.r2l);o=s[1]<s[0]}o&&(n=!n)}var u=0;return f(e,t._id)||(u=g(e,t,n)),r=Math.max(u,r),"domain"===t.constrain&&t._inputDomain&&(r*=(t._inputDomain[1]-t._inputDomain[0])/(t.domain[1]-t.domain[0])),function(e){return e.nopad?0:e.pad+(e.extrapad?r:u)}}t.exports={getAutoRange:h,makePadFn:p,doAutoRange:m,findExtremes:b,concatExtremes:y};var v=3;function g(e,t,n){var i=0,o="x"===t._id.charAt(0);for(var s in e._plots){var l=e._plots[s];if(t._id===l.xaxis._id||t._id===l.yaxis._id){var c=(o?l.yaxis:l.xaxis)||{};if(-1!==(c.ticklabelposition||"").indexOf("inside")&&(!n&&("left"===c.side||"bottom"===c.side)||n&&("top"===c.side||"right"===c.side))){if(c._vals){var f=a.deg2rad(c._tickAngles[c._id+"tick"]||0),h=Math.abs(Math.cos(f)),d=Math.abs(Math.sin(f));if(!c._vals[0].bb){var p=c._id+"tick";c._selections[p].each((function(e){var t=r.select(this);t.select(".text-math-group").empty()&&(e.bb=u.bBox(t.node()))}))}for(var g=0;g<c._vals.length;g++){var y=c._vals[g].bb;if(y){var m=2*v+y.width,b=2*v+y.height;i=Math.max(i,o?Math.max(m*h,b*d):Math.max(b*h,m*d))}}}"inside"===c.ticks&&"inside"===c.ticklabelposition&&(i+=c.ticklen||0)}}}return i}function y(e,t,n){var r,i,a,o=t._id,s=e._fullData,u=e._fullLayout,l=[],f=[];function h(e,t){for(r=0;r<t.length;r++){var n=e[t[r]],s=(n._extremes||{})[o];if(!0===n.visible&&s){for(i=0;i<s.min.length;i++)a=s.min[i],_(l,a.val,a.pad,{extrapad:a.extrapad});for(i=0;i<s.max.length;i++)a=s.max[i],w(f,a.val,a.pad,{extrapad:a.extrapad})}}}if(h(s,t._traceIndices),h(u.annotations||[],t._annIndices||[]),h(u.shapes||[],t._shapeIndices||[]),t._matchGroup&&!n)for(var d in t._matchGroup)if(d!==t._id){var p=c(e,d),v=y(e,p,!0),g=t._length/p._length;for(i=0;i<v.min.length;i++)a=v.min[i],_(l,a.val,a.pad*g,{extrapad:a.extrapad});for(i=0;i<v.max.length;i++)a=v.max[i],w(f,a.val,a.pad*g,{extrapad:a.extrapad})}return{min:l,max:f}}function m(e,t,n){if(t.setScale(),t.autorange){t.range=n?n.slice():h(e,t),t._r=t.range.slice(),t._rl=a.simpleMap(t._r,t.r2l);var r=t._input,i={};i[t._attr+".range"]=t.range,i[t._attr+".autorange"]=t.autorange,s.call("_storeDirectGUIEdit",e.layout,e._fullLayout._preGUI,i),r.range=t.range.slice(),r.autorange=t.autorange}var o=t._anchorAxis;if(o&&o.rangeslider){var u=o.rangeslider[t._name];u&&"auto"===u.rangemode&&(u.range=h(e,t)),o._input.rangeslider[t._name]=a.extendFlat({},u)}}function b(e,t,n){n||(n={}),e._m||e.setScale();var r,a,s,u,l,c,f,h,d,p=[],v=[],g=t.length,y=n.padded||!1,m=n.tozero&&("linear"===e.type||"-"===e.type),b="log"===e.type,x=!1,k=n.vpadLinearized||!1;function O(e){if(Array.isArray(e))return x=!0,function(t){return Math.max(Number(e[t]||0),0)};var t=Math.max(Number(e||0),0);return function(){return t}}var S=O((e._m>0?n.ppadplus:n.ppadminus)||n.ppad||0),A=O((e._m>0?n.ppadminus:n.ppadplus)||n.ppad||0),E=O(n.vpadplus||n.vpad),C=O(n.vpadminus||n.vpad);if(!x){if(h=1/0,d=-1/0,b)for(r=0;r<g;r++)(a=t[r])<h&&a>0&&(h=a),a>d&&a<o&&(d=a);else for(r=0;r<g;r++)(a=t[r])<h&&a>-o&&(h=a),a>d&&a<o&&(d=a);t=[h,d],g=2}var M={tozero:m,extrapad:y};function I(n){s=t[n],i(s)&&(c=S(n),f=A(n),k?(u=e.c2l(s)-C(n),l=e.c2l(s)+E(n)):(h=s-C(n),d=s+E(n),b&&h<d/10&&(h=d/10),u=e.c2l(h),l=e.c2l(d)),m&&(u=Math.min(0,u),l=Math.max(0,l)),T(u)&&_(p,u,f,M),T(l)&&w(v,l,c,M))}var D=Math.min(6,g);for(r=0;r<D;r++)I(r);for(r=g-1;r>=D;r--)I(r);return{min:p,max:v,opts:n}}function _(e,t,n,r){x(e,t,n,r,k)}function w(e,t,n,r){x(e,t,n,r,O)}function x(e,t,n,r,i){for(var a=r.tozero,o=r.extrapad,s=!0,u=0;u<e.length&&s;u++){var l=e[u];if(i(l.val,t)&&l.pad>=n&&(l.extrapad||!o)){s=!1;break}i(t,l.val)&&l.pad<=n&&(o||!l.extrapad)&&(e.splice(u,1),u--)}if(s){var c=a&&0===t;e.push({val:t,pad:c?0:n,extrapad:!c&&o})}}function T(e){return i(e)&&Math.abs(e)<o}function k(e,t){return e<=t}function O(e,t){return e>=t}},{"../../components/drawing":122,"../../constants/numerical":210,"../../lib":230,"../../registry":313,"./axis_ids":280,"@plotly/d3":11,"fast-isnumeric":15}],276:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("fast-isnumeric"),a=e("../../plots/plots"),o=e("../../registry"),s=e("../../lib"),u=s.strTranslate,l=e("../../lib/svg_text_utils"),c=e("../../components/titles"),f=e("../../components/color"),h=e("../../components/drawing"),d=e("./layout_attributes"),p=e("./clean_ticks"),v=e("../../constants/numerical"),g=v.ONEMAXYEAR,y=v.ONEAVGYEAR,m=v.ONEMINYEAR,b=v.ONEMAXQUARTER,_=v.ONEAVGQUARTER,w=v.ONEMINQUARTER,x=v.ONEMAXMONTH,T=v.ONEAVGMONTH,k=v.ONEMINMONTH,O=v.ONEWEEK,S=v.ONEDAY,A=S/2,E=v.ONEHOUR,C=v.ONEMIN,M=v.ONESEC,I=v.MINUS_SIGN,D=v.BADNUM,P={K:"zeroline"},N={K:"gridline",L:"path"},j={K:"tick",L:"path"},L={K:"tick",L:"text"},R=e("../../constants/alignment"),F=R.MID_SHIFT,z=R.CAP_SHIFT,U=R.LINE_SPACING,q=R.OPPOSITE_SIDE,B=3,V=t.exports={};V.setConvert=e("./set_convert");var H=e("./axis_autotype"),W=e("./axis_ids"),Y=W.idSort,G=W.isLinked;V.id2name=W.id2name,V.name2id=W.name2id,V.cleanId=W.cleanId,V.list=W.list,V.listIds=W.listIds,V.getFromId=W.getFromId,V.getFromTrace=W.getFromTrace;var K=e("./autorange");V.getAutoRange=K.getAutoRange,V.findExtremes=K.findExtremes;var X=1e-4;function $(e){var t=(e[1]-e[0])*X;return[e[0]-t,e[1]+t]}V.coerceRef=function(e,t,n,r,i,a){var o=r.charAt(r.length-1),u=n._fullLayout._subplots[o+"axis"],l=r+"ref",c={};return i||(i=u[0]||("string"===typeof a?a:a[0])),a||(a=i),u=u.concat(u.map((function(e){return e+" domain"}))),c[l]={valType:"enumerated",values:u.concat(a?"string"===typeof a?[a]:a:[]),dflt:i},s.coerce(e,t,c,l)},V.getRefType=function(e){return void 0===e?e:"paper"===e?"paper":"pixel"===e?"pixel":/( domain)$/.test(e)?"domain":"range"},V.coercePosition=function(e,t,n,r,i,a){var o,u;if("range"!==V.getRefType(r))o=s.ensureNumber,u=n(i,a);else{var l=V.getFromId(t,r);u=n(i,a=l.fraction2r(a)),o=l.cleanPos}e[i]=o(u)},V.cleanPosition=function(e,t,n){return("paper"===n||"pixel"===n?s.ensureNumber:V.getFromId(t,n).cleanPos)(e)},V.redrawComponents=function(e,t){t=t||V.listIds(e);var n=e._fullLayout;function r(r,i,a,s){for(var u=o.getComponentMethod(r,i),l={},c=0;c<t.length;c++)for(var f=n[V.id2name(t[c])][a],h=0;h<f.length;h++){var d=f[h];if(!l[d]&&(u(e,d),l[d]=1,s))return}}r("annotations","drawOne","_annIndices"),r("shapes","drawOne","_shapeIndices"),r("images","draw","_imgIndices",!0)};var Q=V.getDataConversions=function(e,t,n,r){var i,a="x"===n||"y"===n||"z"===n?n:r;if(Array.isArray(a)){if(i={type:H(r,void 0,{autotypenumbers:e._fullLayout.autotypenumbers}),_categories:[]},V.setConvert(i),"category"===i.type)for(var o=0;o<r.length;o++)i.d2c(r[o])}else i=V.getFromTrace(e,t,a);return i?{d2c:i.d2c,c2d:i.c2d}:"ids"===a?{d2c:Z,c2d:Z}:{d2c:J,c2d:J}};function J(e){return+e}function Z(e){return String(e)}function ee(e,t,n,r,a){var o=0,s=0,u=0,l=0;function c(t){return(1+100*(t-e)/n.dtick)%100<2}for(var f=0;f<t.length;f++)t[f]%1===0?u++:i(t[f])||l++,c(t[f])&&o++,c(t[f]+n.dtick/2)&&s++;var h=t.length-l;if(u===h&&"date"!==n.type)n.dtick<1?e=r-.5*n.dtick:(e-=.5)+n.dtick<r&&(e+=n.dtick);else if(s<.1*h&&(o>.3*h||c(r)||c(a))){var d=n.dtick/2;e+=e+d<r?d:-d}return e}function te(e,t,n,r,i){var a=s.findExactDates(t,i),o=.8;if(a.exactDays>o){var u=Number(n.substr(1));a.exactYears>o&&u%12===0?e=V.tickIncrement(e,"M6","reverse")+1.5*S:a.exactMonths>o?e=V.tickIncrement(e,"M1","reverse")+15.5*S:e-=A;var l=V.tickIncrement(e,n);if(l<=r)return l}return e}function ne(e){return+e.substring(1)}function re(e){var t;function n(){return!(i(e.dtick)||"M"!==e.dtick.charAt(0))}var r=n(),a=V.getTickFormat(e);if(a){var o=e._dtickInit!==e.dtick;/%[fLQsSMX]/.test(a)||(/%[HI]/.test(a)?(t=E,o&&!r&&e.dtick<E&&(e.dtick=E)):/%p/.test(a)?(t=A,o&&!r&&e.dtick<A&&(e.dtick=A)):/%[Aadejuwx]/.test(a)?(t=S,o&&!r&&e.dtick<S&&(e.dtick=S)):/%[UVW]/.test(a)?(t=O,o&&!r&&e.dtick<O&&(e.dtick=O)):/%[Bbm]/.test(a)?(t=T,o&&(r?ne(e.dtick)<1:e.dtick<k)&&(e.dtick="M1")):/%[q]/.test(a)?(t=_,o&&(r?ne(e.dtick)<3:e.dtick<w)&&(e.dtick="M3")):/%[Yy]/.test(a)&&(t=y,o&&(r?ne(e.dtick)<12:e.dtick<m)&&(e.dtick="M12")))}(r=n())&&e.tick0===e._dowTick0&&(e.tick0=e._rawTick0),e._definedDelta=t}function ie(e,t,n){for(var r=0;r<e.length;r++){var i=e[r].value,a=r,o=r+1;r<e.length-1?(a=r,o=r+1):r>0?(a=r-1,o=r):(a=r,o=r);var s,u=e[a].value,l=e[o].value,c=Math.abs(l-u),f=n||c,h=0;f>=m?h=c>=m&&c<=g?c:y:n===_&&f>=w?h=c>=w&&c<=b?c:_:f>=k?h=c>=k&&c<=x?c:T:n===O&&f>=O?h=O:f>=S?h=S:n===A&&f>=A?h=A:n===E&&f>=E&&(h=E),h>=c&&(h=c,s=!0);var d=i+h;if(t.rangebreaks&&h>0){for(var p=84,v=0,C=0;C<p;C++){var M=(C+.5)/p;t.maskBreaks(i*(1-M)+M*d)!==D&&v++}(h*=v/p)||(e[r].drop=!0),s&&c>O&&(h=c)}(h>0||0===r)&&(e[r].periodX=i+h/2)}}function ae(e){var t=e.tickvals,n=e.ticktext,r=new Array(t.length),i=$(s.simpleMap(e.range,e.r2l)),a=Math.min(i[0],i[1]),o=Math.max(i[0],i[1]),u=0;Array.isArray(n)||(n=[]);var l="category"===e.type?e.d2l_noadd:e.d2l;"log"===e.type&&"L"!==String(e.dtick).charAt(0)&&(e.dtick="L"+Math.pow(10,Math.floor(Math.min(e.range[0],e.range[1]))-1));for(var c=0;c<t.length;c++){var f=l(t[c]);f>a&&f<o&&(void 0===n[c]?r[u]=V.tickText(e,f):r[u]=ve(e,f,String(n[c])),u++)}return u<t.length&&r.splice(u,t.length-u),e.rangebreaks&&(r=r.filter((function(t){return e.maskBreaks(t.x)!==D}))),r}V.getDataToCoordFunc=function(e,t,n,r){return Q(e,t,n,r).d2c},V.counterLetter=function(e){var t=e.charAt(0);return"x"===t?"y":"y"===t?"x":void 0},V.minDtick=function(e,t,n,r){-1===["log","category","multicategory"].indexOf(e.type)&&r?void 0===e._minDtick?(e._minDtick=t,e._forceTick0=n):e._minDtick&&((e._minDtick/t+1e-6)%1<2e-6&&((n-e._forceTick0)/t%1+1.000001)%1<2e-6?(e._minDtick=t,e._forceTick0=n):((t/e._minDtick+1e-6)%1>2e-6||((n-e._forceTick0)/e._minDtick%1+1.000001)%1>2e-6)&&(e._minDtick=0)):e._minDtick=0},V.saveRangeInitial=function(e,t){for(var n=V.list(e,"",!0),r=!1,i=0;i<n.length;i++){var a=n[i],o=void 0===a._rangeInitial,s=o||!(a.range[0]===a._rangeInitial[0]&&a.range[1]===a._rangeInitial[1]);(o&&!1===a.autorange||t&&s)&&(a._rangeInitial=a.range.slice(),r=!0)}return r},V.saveShowSpikeInitial=function(e,t){for(var n=V.list(e,"",!0),r=!1,i="on",a=0;a<n.length;a++){var o=n[a],s=void 0===o._showSpikeInitial,u=s||!(o.showspikes===o._showspikes);(s||t&&u)&&(o._showSpikeInitial=o.showspikes,r=!0),"on"!==i||o.showspikes||(i="off")}return e._fullLayout._cartesianSpikesEnabled=i,r},V.autoBin=function(e,t,n,r,a,o){var u,l=s.aggNums(Math.min,null,e),c=s.aggNums(Math.max,null,e);if("category"===t.type||"multicategory"===t.type)return{start:l-.5,end:c+.5,size:Math.max(1,Math.round(o)||1),_dataSpan:c-l};if(a||(a=t.calendar),u="log"===t.type?{type:"linear",range:[l,c]}:{type:t.type,range:s.simpleMap([l,c],t.c2r,0,a),calendar:a},V.setConvert(u),o=o&&p.dtick(o,u.type))u.dtick=o,u.tick0=p.tick0(void 0,u.type,a);else{var f;if(n)f=(c-l)/n;else{var h=s.distinctVals(e),d=Math.pow(10,Math.floor(Math.log(h.minDiff)/Math.LN10)),v=d*s.roundUp(h.minDiff/d,[.9,1.9,4.9,9.9],!0);f=Math.max(v,2*s.stdev(e)/Math.pow(e.length,r?.25:.4)),i(f)||(f=1)}V.autoTicks(u,f)}var g,y=u.dtick,m=V.tickIncrement(V.tickFirst(u),y,"reverse",a);if("number"===typeof y)g=(m=ee(m,e,u,l,c))+(1+Math.floor((c-m)/y))*y;else for("M"===u.dtick.charAt(0)&&(m=te(m,e,y,l,a)),g=m;g<=c;)g=V.tickIncrement(g,y,!1,a);return{start:t.c2r(m,0,a),end:t.c2r(g,0,a),size:y,_dataSpan:c-l}},V.prepTicks=function(e,t){var n=s.simpleMap(e.range,e.r2l,void 0,void 0,t);if(e._dtickInit=e.dtick,e._tick0Init=e.tick0,"auto"===e.tickmode||!e.dtick){var r,i=e.nticks;i||("category"===e.type||"multicategory"===e.type?(r=e.tickfont?s.bigFont(e.tickfont.size||12):15,i=e._length/r):(r="y"===e._id.charAt(0)?40:80,i=s.constrain(e._length/r,4,9)+1),"radialaxis"===e._name&&(i*=2)),"array"===e.tickmode&&(i*=100),e._roughDTick=Math.abs(n[1]-n[0])/i,V.autoTicks(e,e._roughDTick),e._minDtick>0&&e.dtick<2*e._minDtick&&(e.dtick=e._minDtick,e.tick0=e.l2r(e._forceTick0))}"period"===e.ticklabelmode&&re(e),e.tick0||(e.tick0="date"===e.type?"2000-01-01":0),"date"===e.type&&e.dtick<.1&&(e.dtick=.1),pe(e)},V.calcTicks=function(e,t){V.prepTicks(e,t);var n=s.simpleMap(e.range,e.r2l,void 0,void 0,t);if("array"===e.tickmode)return ae(e);var r=$(n),a=r[0],o=r[1],u=n[1]<n[0],l=Math.min(n[0],n[1]),c=Math.max(n[0],n[1]),f="log"===e.type&&!(i(e.dtick)||"L"===e.dtick.charAt(0)),h="period"===e.ticklabelmode;if(e._tmin=V.tickFirst(e,t),e._tmin<a!==u)return[];"category"!==e.type&&"multicategory"!==e.type||(o=u?Math.max(-.5,o):Math.min(e._categories.length-.5,o));var d=e._tmin;e.rangebreaks&&e._tick0Init!==e.tick0&&(d=Xe(d,e),u||(d=V.tickIncrement(d,e.dtick,!u,e.calendar))),h&&(d=V.tickIncrement(d,e.dtick,!u,e.calendar));for(var p,v=Math.max(1e3,e._length||0),g=[],y=null;u?d>=o:d<=o;d=V.tickIncrement(d,e.dtick,u,e.calendar)){if(e.rangebreaks&&!u){if(d<a)continue;if(e.maskBreaks(d)===D&&Xe(d,e)>=c)break}if(g.length>v||d===y)break;y=d;var m=!1;f&&d!==(0|d)&&(m=!0),g.push({minor:m,value:d})}if(h&&ie(g,e,e._definedDelta),e.rangebreaks){var b="y"===e._id.charAt(0),_=1;"auto"===e.tickmode&&(_=e.tickfont?e.tickfont.size:12);var w=NaN;for(p=g.length-1;p>-1;p--)if(g[p].drop)g.splice(p,1);else{g[p].value=Xe(g[p].value,e);var x=e.c2p(g[p].value);(b?w>x-_:w<x+_)?g.splice(u?p+1:p,1):w=x}}Ke(e)&&360===Math.abs(n[1]-n[0])&&g.pop(),e._tmax=(g[g.length-1]||{}).value,e._prevDateHead="",e._inCalcTicks=!0;var T,k,O=[];for(p=0;p<g.length;p++){var S=g[p].minor,A=g[p].value;T=V.tickText(e,A,!1,S),void 0!==(k=g[p].periodX)&&(T.periodX=k,(k>c||k<l)&&(k>c&&(T.periodX=c),k<l&&(T.periodX=l),T.text=" ",e._prevDateHead="")),O.push(T)}return e._inCalcTicks=!1,O};var oe=[2,5,10],se=[1,2,3,6,12],ue=[1,2,5,10,15,30],le=[1,2,3,7,14],ce=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],fe=[-.301,0,.301,.699,1],he=[15,30,45,90,180];function de(e,t,n){return t*s.roundUp(e/t,n)}function pe(e){var t=e.dtick;if(e._tickexponent=0,i(t)||"string"===typeof t||(t=1),"category"!==e.type&&"multicategory"!==e.type||(e._tickround=null),"date"===e.type){var n=e.r2l(e.tick0),r=e.l2r(n).replace(/(^-|i)/g,""),a=r.length;if("M"===String(t).charAt(0))a>10||"01-01"!==r.substr(5)?e._tickround="d":e._tickround=+t.substr(1)%12===0?"y":"m";else if(t>=S&&a<=10||t>=15*S)e._tickround="d";else if(t>=C&&a<=16||t>=E)e._tickround="M";else if(t>=M&&a<=19||t>=C)e._tickround="S";else{var o=e.l2r(n+t).replace(/^-/,"").length;e._tickround=Math.max(a,o)-20,e._tickround<0&&(e._tickround=4)}}else if(i(t)||"L"===t.charAt(0)){var s=e.range.map(e.r2d||Number);i(t)||(t=Number(t.substr(1))),e._tickround=2-Math.floor(Math.log(t)/Math.LN10+.01);var u=Math.max(Math.abs(s[0]),Math.abs(s[1])),l=Math.floor(Math.log(u)/Math.LN10+.01),c=void 0===e.minexponent?3:e.minexponent;Math.abs(l)>c&&(ke(e.exponentformat)&&!Oe(l)?e._tickexponent=3*Math.round((l-1)/3):e._tickexponent=l)}else e._tickround=null}function ve(e,t,n){var r=e.tickfont||{};return{x:t,dx:0,dy:0,text:n||"",fontSize:r.size,font:r.family,fontColor:r.color}}function ge(e,t,n,r){var a=e._tickround,o=n&&e.hoverformat||V.getTickFormat(e);r&&(a=i(a)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[a]);var u,l=s.formatDate(t.x,o,a,e._dateFormat,e.calendar,e._extraFormat),c=l.indexOf("\n");if(-1!==c&&(u=l.substr(c+1),l=l.substr(0,c)),r&&("00:00:00"===l||"00:00"===l?(l=u,u=""):8===l.length&&(l=l.replace(/:00$/,""))),u)if(n)"d"===a?l+=", "+u:l=u+(l?", "+l:"");else if(e._inCalcTicks&&e._prevDateHead===u){var f=$e(e),h=e._realSide||e.side;(!f&&"top"===h||f&&"bottom"===h)&&(l+="<br> ")}else e._prevDateHead=u,l+="<br>"+u;t.text=l}function ye(e,t,n,r,a){var o=e.dtick,u=t.x,l=e.tickformat,c="string"===typeof o&&o.charAt(0);if("never"===a&&(a=""),r&&"L"!==c&&(o="L3",c="L"),l||"L"===c)t.text=Se(Math.pow(10,u),e,a,r);else if(i(o)||"D"===c&&s.mod(u+.01,1)<.1){var f=Math.round(u),h=Math.abs(f),d=e.exponentformat;"power"===d||ke(d)&&Oe(f)?(t.text=0===f?1:1===f?"10":"10<sup>"+(f>1?"":I)+h+"</sup>",t.fontSize*=1.25):("e"===d||"E"===d)&&h>2?t.text="1"+d+(f>0?"+":I)+h:(t.text=Se(Math.pow(10,u),e,"","fakehover"),"D1"===o&&"y"===e._id.charAt(0)&&(t.dy-=t.fontSize/6))}else{if("D"!==c)throw"unrecognized dtick "+String(o);t.text=String(Math.round(Math.pow(10,s.mod(u,1)))),t.fontSize*=.75}if("D1"===e.dtick){var p=String(t.text).charAt(0);"0"!==p&&"1"!==p||("y"===e._id.charAt(0)?t.dx-=t.fontSize/4:(t.dy+=t.fontSize/2,t.dx+=(e.range[1]>e.range[0]?1:-1)*t.fontSize*(u<0?.5:.25)))}}function me(e,t){var n=e._categories[Math.round(t.x)];void 0===n&&(n=""),t.text=String(n)}function be(e,t,n){var r=Math.round(t.x),i=e._categories[r]||[],a=void 0===i[1]?"":String(i[1]),o=void 0===i[0]?"":String(i[0]);n?t.text=o+" - "+a:(t.text=a,t.text2=o)}function _e(e,t,n,r,i){"never"===i?i="":"all"===e.showexponent&&Math.abs(t.x/e.dtick)<1e-6&&(i="hide"),t.text=Se(t.x,e,i,r)}function we(e,t,n,r,i){if("radians"!==e.thetaunit||n)t.text=Se(t.x,e,i,r);else{var a=t.x/180;if(0===a)t.text="0";else{var o=xe(a);if(o[1]>=100)t.text=Se(s.deg2rad(t.x),e,i,r);else{var u=t.x<0;1===o[1]?1===o[0]?t.text="\u03c0":t.text=o[0]+"\u03c0":t.text=["<sup>",o[0],"</sup>","\u2044","<sub>",o[1],"</sub>","\u03c0"].join(""),u&&(t.text=I+t.text)}}}}function xe(e){function t(e,t){return Math.abs(e-t)<=1e-6}function n(e,r){return t(r,0)?e:n(r,e%r)}function r(e){for(var n=1;!t(Math.round(e*n)/n,e);)n*=10;return n}var i=r(e),a=e*i,o=Math.abs(n(a,i));return[Math.round(a/o),Math.round(i/o)]}V.autoTicks=function(e,t){var n;function r(e){return Math.pow(e,Math.floor(Math.log(t)/Math.LN10))}if("date"===e.type){e.tick0=s.dateTick0(e.calendar,0);var a=2*t;if(a>y)t/=y,n=r(10),e.dtick="M"+12*de(t,n,oe);else if(a>T)t/=T,e.dtick="M"+de(t,1,se);else if(a>S){e.dtick=de(t,S,e._hasDayOfWeekBreaks?[1,2,7,14]:le);var o=V.getTickFormat(e),u="period"===e.ticklabelmode;u&&(e._rawTick0=e.tick0),/%[uVW]/.test(o)?e.tick0=s.dateTick0(e.calendar,2):e.tick0=s.dateTick0(e.calendar,1),u&&(e._dowTick0=e.tick0)}else a>E?e.dtick=de(t,E,se):a>C?e.dtick=de(t,C,ue):a>M?e.dtick=de(t,M,ue):(n=r(10),e.dtick=de(t,n,oe))}else if("log"===e.type){e.tick0=0;var l=s.simpleMap(e.range,e.r2l);if(t>.7)e.dtick=Math.ceil(t);else if(Math.abs(l[1]-l[0])<1){var c=1.5*Math.abs((l[1]-l[0])/t);t=Math.abs(Math.pow(10,l[1])-Math.pow(10,l[0]))/c,n=r(10),e.dtick="L"+de(t,n,oe)}else e.dtick=t>.3?"D2":"D1"}else"category"===e.type||"multicategory"===e.type?(e.tick0=0,e.dtick=Math.ceil(Math.max(t,1))):Ke(e)?(e.tick0=0,n=1,e.dtick=de(t,n,he)):(e.tick0=0,n=r(10),e.dtick=de(t,n,oe));if(0===e.dtick&&(e.dtick=1),!i(e.dtick)&&"string"!==typeof e.dtick){var f=e.dtick;throw e.dtick=1,"ax.dtick error: "+String(f)}},V.tickIncrement=function(e,t,n,a){var o=n?-1:1;if(i(t))return s.increment(e,o*t);var u=t.charAt(0),l=o*Number(t.substr(1));if("M"===u)return s.incrementMonth(e,l,a);if("L"===u)return Math.log(Math.pow(10,e)+l)/Math.LN10;if("D"===u){var c="D2"===t?fe:ce,f=e+.01*o,h=s.roundUp(s.mod(f,1),c,n);return Math.floor(f)+Math.log(r.round(Math.pow(10,h),1))/Math.LN10}throw"unrecognized dtick "+String(t)},V.tickFirst=function(e,t){var n=e.r2l||Number,a=s.simpleMap(e.range,n,void 0,void 0,t),o=a[1]<a[0],u=o?Math.floor:Math.ceil,l=$(a)[0],c=e.dtick,f=n(e.tick0);if(i(c)){var h=u((l-f)/c)*c+f;return"category"!==e.type&&"multicategory"!==e.type||(h=s.constrain(h,0,e._categories.length-1)),h}var d=c.charAt(0),p=Number(c.substr(1));if("M"===d){for(var v,g,y,m=0,b=f;m<10;){if(((v=V.tickIncrement(b,c,o,e.calendar))-l)*(b-l)<=0)return o?Math.min(b,v):Math.max(b,v);g=(l-(b+v)/2)/(v-b),y=d+(Math.abs(Math.round(g))||1)*p,b=V.tickIncrement(b,y,g<0?!o:o,e.calendar),m++}return s.error("tickFirst did not converge",e),b}if("L"===d)return Math.log(u((Math.pow(10,l)-f)/p)*p+f)/Math.LN10;if("D"===d){var _="D2"===c?fe:ce,w=s.roundUp(s.mod(l,1),_,o);return Math.floor(l)+Math.log(r.round(Math.pow(10,w),1))/Math.LN10}throw"unrecognized dtick "+String(c)},V.tickText=function(e,t,n,r){var i,a=ve(e,t),o="array"===e.tickmode,u=n||o,l=e.type,c="category"===l?e.d2l_noadd:e.d2l;if(o&&Array.isArray(e.ticktext)){var f=s.simpleMap(e.range,e.r2l),h=(Math.abs(f[1]-f[0])-(e._lBreaks||0))/1e4;for(i=0;i<e.ticktext.length&&!(Math.abs(t-c(e.tickvals[i]))<h);i++);if(i<e.ticktext.length)return a.text=String(e.ticktext[i]),a}function d(r){if(void 0===r)return!0;if(n)return"none"===r;var i={first:e._tmin,last:e._tmax}[r];return"all"!==r&&t!==i}var p=n?"never":"none"!==e.exponentformat&&d(e.showexponent)?"hide":"";if("date"===l?ge(e,a,n,u):"log"===l?ye(e,a,n,u,p):"category"===l?me(e,a):"multicategory"===l?be(e,a,n):Ke(e)?we(e,a,n,u,p):_e(e,a,n,u,p),r||(e.tickprefix&&!d(e.showtickprefix)&&(a.text=e.tickprefix+a.text),e.ticksuffix&&!d(e.showticksuffix)&&(a.text+=e.ticksuffix)),"boundaries"===e.tickson||e.showdividers){var v=function(t){var n=e.l2p(t);return n>=0&&n<=e._length?t:null};a.xbnd=[v(a.x-.5),v(a.x+e.dtick-.5)]}return a},V.hoverLabelText=function(e,t,n){n&&(e=s.extendFlat({},e,{hoverformat:n}));var r=Array.isArray(t)?t[0]:t,i=Array.isArray(t)?t[1]:void 0;if(void 0!==i&&i!==r)return V.hoverLabelText(e,r,n)+" - "+V.hoverLabelText(e,i,n);var a="log"===e.type&&r<=0,o=V.tickText(e,e.c2l(a?-r:r),"hover").text;return a?0===r?"0":I+o:o};var Te=["f","p","n","\u03bc","m","","k","M","G","T"];function ke(e){return"SI"===e||"B"===e}function Oe(e){return e>14||e<-15}function Se(e,t,n,r){var a=e<0,o=t._tickround,u=n||t.exponentformat||"B",l=t._tickexponent,c=V.getTickFormat(t),f=t.separatethousands;if(r){var h={exponentformat:u,minexponent:t.minexponent,dtick:"none"===t.showexponent?t.dtick:i(e)&&Math.abs(e)||1,range:"none"===t.showexponent?t.range.map(t.r2d):[0,e||1]};pe(h),o=(Number(h._tickround)||0)+4,l=h._tickexponent,t.hoverformat&&(c=t.hoverformat)}if(c)return t._numFormat(c)(e).replace(/-/g,I);var d,p=Math.pow(10,-o)/2;if("none"===u&&(l=0),(e=Math.abs(e))<p)e="0",a=!1;else{if(e+=p,l&&(e*=Math.pow(10,-l),o+=l),0===o)e=String(Math.floor(e));else if(o<0){e=(e=String(Math.round(e))).substr(0,e.length+o);for(var v=o;v<0;v++)e+="0"}else{var g=(e=String(e)).indexOf(".")+1;g&&(e=e.substr(0,g+o).replace(/\.?0+$/,""))}e=s.numSeparate(e,t._separators,f)}return l&&"hide"!==u&&(ke(u)&&Oe(l)&&(u="power"),d=l<0?I+-l:"power"!==u?"+"+l:String(l),"e"===u||"E"===u?e+=u+d:"power"===u?e+="\xd710<sup>"+d+"</sup>":"B"===u&&9===l?e+="B":ke(u)&&(e+=Te[l/3+5])),a?I+e:e}function Ae(e,t){var n,r=[],i=function(e,t){var n=e.xbnd[t];null!==n&&r.push(s.extendFlat({},e,{x:n}))};if(t.length){for(n=0;n<t.length;n++)i(t[n],0);i(t[n-1],1)}return r}function Ee(e,t){for(var n=[],r={},i=0;i<t.length;i++){var a=t[i];r[a.text2]?r[a.text2].push(a.x):r[a.text2]=[a.x]}for(var o in r)n.push(ve(e,s.interp(r[o],.5),o));return n}function Ce(e,t){var n,r,i=[],a=t.length&&t[t.length-1].x<t[0].x,o=function(e,t){var n=e.xbnd[t];null!==n&&i.push(s.extendFlat({},e,{x:n}))};if(e.showdividers&&t.length){for(n=0;n<t.length;n++){var u=t[n];u.text2!==r&&o(u,a?1:0),r=u.text2}o(t[n-1],a?0:1)}return i}function Me(e,t){var n,r,i,a;return e._selections[t].size()?(n=1/0,r=-1/0,i=1/0,a=-1/0,e._selections[t].each((function(){var e=Ue(this),t=h.bBox(e.node().parentNode);n=Math.min(n,t.top),r=Math.max(r,t.bottom),i=Math.min(i,t.left),a=Math.max(a,t.right)}))):(n=0,r=0,i=0,a=0),{top:n,bottom:r,left:i,right:a,height:r-n,width:a-i}}function Ie(e){return void 0!==e.periodX?e.periodX:e.x}function De(e){var t=e.ticklabelposition||"",n=function(e){return-1!==t.indexOf(e)},r=n("top"),i=n("left"),a=n("right"),o=n("bottom"),s=n("inside"),u=o||i||r||a;if(!u&&!s)return[0,0];var l=e.side,c=u?(e.tickwidth||0)/2:0,f=B,h=e.tickfont?e.tickfont.size:12;return(o||r)&&(c+=h*z,f+=(e.linewidth||0)/2),(i||a)&&(c+=(e.linewidth||0)/2,f+=B),s&&"top"===l&&(f-=h*(1-z)),(i||r)&&(c=-c),"bottom"!==l&&"right"!==l||(f=-f),[u?c:0,s?f:0]}function Pe(e){return[e.text,e.x,e.axInfo,e.font,e.fontSize,e.fontColor].join("_")}function Ne(e,t,n){var r=t._id+"divider",i=n.vals,a=n.layer.selectAll("path."+r).data(i,Pe);a.exit().remove(),a.enter().insert("path",":first-child").classed(r,1).classed("crisp",1).call(f.stroke,t.dividercolor).style("stroke-width",h.crispRound(e,t.dividerwidth,1)+"px"),a.attr("transform",n.transFn).attr("d",n.path)}function je(e){var t=e.title.font.size,n=(e.title.text.match(l.BR_TAG_ALL)||[]).length;return e.title.hasOwnProperty("standoff")?n?t*(z+n*U):t*z:n?t*(n+1)*U:t}function Le(e,t){var n,r=e._fullLayout,i=t._id,a=i.charAt(0),o=t.title.font.size;if(t.title.hasOwnProperty("standoff"))n=t._depth+t.title.standoff+je(t);else{var s=$e(t);if("multicategory"===t.type)n=t._depth;else{var u=1.5*o;s&&(u=.5*o,"outside"===t.ticks&&(u+=t.ticklen)),n=10+u+(t.linewidth?t.linewidth-1:0)}s||(n+="x"===a?"top"===t.side?o*(t.showticklabels?1:0):o*(t.showticklabels?1.5:.5):"right"===t.side?o*(t.showticklabels?1:.5):o*(t.showticklabels?.5:0))}var l,f,d,p,v=V.getPxPosition(e,t);if("x"===a?(f=t._offset+t._length/2,d="top"===t.side?v-n:v+n):(d=t._offset+t._length/2,f="right"===t.side?v+n:v-n,l={rotate:"-90",offset:0}),"multicategory"!==t.type){var g=t._selections[t._id+"tick"];if(p={selection:g,side:t.side},g&&g.node()&&g.node().parentNode){var y=h.getTranslate(g.node().parentNode);p.offsetLeft=y.x,p.offsetTop=y.y}t.title.hasOwnProperty("standoff")&&(p.pad=0)}return c.draw(e,i+"title",{propContainer:t,propName:t._name+".title.text",placeholder:r._dfltTitle[a],avoid:p,transform:l,attributes:{x:f,y:d,"text-anchor":"middle"}})}function Re(e,t){var n=e.l2p(t);return n>1&&n<e._length-1}function Fe(e,t,n,r){var i=n._mainAxis;if(i){var a=e._fullLayout,o=t._id.charAt(0),s=V.counterLetter(t._id),u=t._offset+(Math.abs(r[0])<Math.abs(r[1])===("x"===o)?0:t._length),l=a._plots[n._mainSubplot];if(!(l.mainplotinfo||l).overlays.length)return d(n,u);for(var c=V.list(e,s),f=0;f<c.length;f++){var h=c[f];if(h._mainAxis===i&&d(h,u))return!0}}function d(e){if(!e.showline||!e.linewidth)return!1;var n=Math.max((e.linewidth+t.zerolinewidth)/2,1);function r(e){return"number"===typeof e&&Math.abs(e-u)<n}if(r(e._mainLinePosition)||r(e._mainMirrorPosition))return!0;var i=e._linepositions||{};for(var a in i)if(r(i[a][0])||r(i[a][1]))return!0}}function ze(e,t){for(var n=e._fullData,r=t._mainSubplot,i=t._id.charAt(0),a=0;a<n.length;a++){var s=n[a];if(!0===s.visible&&s.xaxis+s.yaxis===r){if(o.traceIs(s,"bar-like")&&s.orientation==={x:"h",y:"v"}[i])return!0;if(s.fill&&s.fill.charAt(s.fill.length-1)===i)return!0}}return!1}function Ue(e){var t=r.select(e),n=t.select(".text-math-group");return n.empty()?t.select("text"):n}function qe(e){return e._id+".automargin"}function Be(e){return qe(e)+".mirror"}function Ve(e){return e._id+".rangeslider"}function He(e,t){var n,r,i=[];for(n=0;n<t.length;n++){var a=[],o=e._fullData[t[n]].xaxis,s=e._fullData[t[n]].yaxis;if(o&&s){for(r=0;r<i.length;r++)-1===i[r].x.indexOf(o)&&-1===i[r].y.indexOf(s)||a.push(r);if(a.length){var u,l=i[a[0]];if(a.length>1)for(r=1;r<a.length;r++)u=i[a[r]],We(l.x,u.x),We(l.y,u.y);We(l.x,[o]),We(l.y,[s])}else i.push({x:[o],y:[s]})}}return i}function We(e,t){for(var n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n])}function Ye(e,t,n){var r,i,a=[],o=[],u=e.layout;for(r=0;r<t.length;r++)a.push(V.getFromId(e,t[r]));for(r=0;r<n.length;r++)o.push(V.getFromId(e,n[r]));var l=Object.keys(d),c=["anchor","domain","overlaying","position","side","tickangle","editType"],f=["linear","log"];for(r=0;r<l.length;r++){var h=l[r],p=a[0][h],v=o[0][h],g=!0,y=!1,m=!1;if("_"!==h.charAt(0)&&"function"!==typeof p&&-1===c.indexOf(h)){for(i=1;i<a.length&&g;i++){var b=a[i][h];"type"===h&&-1!==f.indexOf(p)&&-1!==f.indexOf(b)&&p!==b?y=!0:b!==p&&(g=!1)}for(i=1;i<o.length&&g;i++){var _=o[i][h];"type"===h&&-1!==f.indexOf(v)&&-1!==f.indexOf(_)&&v!==_?m=!0:o[i][h]!==v&&(g=!1)}g&&(y&&(u[a[0]._name].type="linear"),m&&(u[o[0]._name].type="linear"),Ge(u,h,a,o,e._fullLayout._dfltTitle))}}for(r=0;r<e._fullLayout.annotations.length;r++){var w=e._fullLayout.annotations[r];-1!==t.indexOf(w.xref)&&-1!==n.indexOf(w.yref)&&s.swapAttrs(u.annotations[r],["?"])}}function Ge(e,t,n,r,i){var a,o=s.nestedProperty,u=o(e[n[0]._name],t).get(),l=o(e[r[0]._name],t).get();for("title"===t&&(u&&u.text===i.x&&(u.text=i.y),l&&l.text===i.y&&(l.text=i.x)),a=0;a<n.length;a++)o(e,n[a]._name+"."+t).set(l);for(a=0;a<r.length;a++)o(e,r[a]._name+"."+t).set(u)}function Ke(e){return"angularaxis"===e._id}function Xe(e,t){for(var n=t._rangebreaks.length,r=0;r<n;r++){var i=t._rangebreaks[r];if(e>=i.min&&e<i.max)return i.max}return e}function $e(e){return-1!==(e.ticklabelposition||"").indexOf("inside")}function Qe(e,t){$e(e._anchorAxis||{})&&e._hideCounterAxisInsideTickLabels&&e._hideCounterAxisInsideTickLabels(t)}V.getTickFormat=function(e){var t,n,r;function i(e){return"string"!==typeof e?e:Number(e.replace("M",""))*T}function a(e,t){var n=["L","D"];if(typeof e===typeof t){if("number"===typeof e)return e-t;var r=n.indexOf(e.charAt(0)),i=n.indexOf(t.charAt(0));return r===i?Number(e.replace(/(L|D)/g,""))-Number(t.replace(/(L|D)/g,"")):r-i}return"number"===typeof e?1:-1}function o(e,t,n){var r=n||function(e){return e},i=t[0],a=t[1];return(!i&&"number"!==typeof i||r(i)<=r(e))&&(!a&&"number"!==typeof a||r(a)>=r(e))}function s(e,t){var n=null===t[0],r=null===t[1],i=a(e,t[0])>=0,o=a(e,t[1])<=0;return(n||i)&&(r||o)}if(e.tickformatstops&&e.tickformatstops.length>0)switch(e.type){case"date":case"linear":for(t=0;t<e.tickformatstops.length;t++)if((r=e.tickformatstops[t]).enabled&&o(e.dtick,r.dtickrange,i)){n=r;break}break;case"log":for(t=0;t<e.tickformatstops.length;t++)if((r=e.tickformatstops[t]).enabled&&s(e.dtick,r.dtickrange)){n=r;break}}return n?n.value:e.tickformat},V.getSubplots=function(e,t){var n=e._fullLayout._subplots,r=n.cartesian.concat(n.gl2d||[]),i=t?V.findSubplotsWithAxis(r,t):r;return i.sort((function(e,t){var n=e.substr(1).split("y"),r=t.substr(1).split("y");return n[0]===r[0]?+n[1]-+r[1]:+n[0]-+r[0]})),i},V.findSubplotsWithAxis=function(e,t){for(var n=new RegExp("x"===t._id.charAt(0)?"^"+t._id+"y":t._id+"$"),r=[],i=0;i<e.length;i++){var a=e[i];n.test(a)&&r.push(a)}return r},V.makeClipPaths=function(e){var t=e._fullLayout;if(!t._hasOnlyLargeSploms){var n,i,a={_offset:0,_length:t.width,_id:""},o={_offset:0,_length:t.height,_id:""},s=V.list(e,"x",!0),u=V.list(e,"y",!0),l=[];for(n=0;n<s.length;n++)for(l.push({x:s[n],y:o}),i=0;i<u.length;i++)0===n&&l.push({x:a,y:u[i]}),l.push({x:s[n],y:u[i]});var c=t._clips.selectAll(".axesclip").data(l,(function(e){return e.x._id+e.y._id}));c.enter().append("clipPath").classed("axesclip",!0).attr("id",(function(e){return"clip"+t._uid+e.x._id+e.y._id})).append("rect"),c.exit().remove(),c.each((function(e){r.select(this).select("rect").attr({x:e.x._offset||0,y:e.y._offset||0,width:e.x._length||1,height:e.y._length||1})}))}},V.draw=function(e,t,n){var r=e._fullLayout;"redraw"===t&&r._paper.selectAll("g.subplot").each((function(e){var t=e[0],n=r._plots[t];if(n){var i=n.xaxis,a=n.yaxis;n.xaxislayer.selectAll("."+i._id+"tick").remove(),n.yaxislayer.selectAll("."+a._id+"tick").remove(),n.xaxislayer.selectAll("."+i._id+"tick2").remove(),n.yaxislayer.selectAll("."+a._id+"tick2").remove(),n.xaxislayer.selectAll("."+i._id+"divider").remove(),n.yaxislayer.selectAll("."+a._id+"divider").remove(),n.gridlayer&&n.gridlayer.selectAll("path").remove(),n.zerolinelayer&&n.zerolinelayer.selectAll("path").remove(),r._infolayer.select(".g-"+i._id+"title").remove(),r._infolayer.select(".g-"+a._id+"title").remove()}}));var i=t&&"redraw"!==t?t:V.listIds(e);return s.syncOrAsync(i.map((function(t){return function(){if(t){var r=V.getFromId(e,t),i=V.drawOne(e,r,n);return r._r=r.range.slice(),r._rl=s.simpleMap(r._r,r.r2l),i}}})))},V.drawOne=function(e,t,n){var r,i,u;n=n||{},t.setScale();var l=e._fullLayout,c=t._id,f=c.charAt(0),h=V.counterLetter(c),d=l._plots[t._mainSubplot];if(d){var p=d[f+"axislayer"],v=t._mainLinePosition,g=t._mainMirrorPosition,y=t._vals=V.calcTicks(t),m=[t.mirror,v,g].join("_");for(r=0;r<y.length;r++)y[r].axInfo=m;t._selections={},t._tickAngles&&(t._prevTickAngles=t._tickAngles),t._tickAngles={},t._depth=null;var b={};if(t.visible){var _,w,x=V.makeTransTickFn(t),T=V.makeTransTickLabelFn(t),k="inside"===t.ticks,O="outside"===t.ticks;if("boundaries"===t.tickson){var S=Ae(t,y);w=V.clipEnds(t,S),_=k?w:S}else w=V.clipEnds(t,y),_=k&&"period"!==t.ticklabelmode?w:y;var A=t._gridVals=w,E=Ce(t,y);if(!l._hasOnlyLargeSploms){var C=t._subplotsWith,M={};for(r=0;r<C.length;r++){i=C[r];var I=(u=l._plots[i])[h+"axis"],D=I._mainAxis._id;if(!M[D]){M[D]=1;var P="x"===f?"M0,"+I._offset+"v"+I._length:"M"+I._offset+",0h"+I._length;V.drawGrid(e,t,{vals:A,counterAxis:I,layer:u.gridlayer.select("."+c),path:P,transFn:x}),V.drawZeroLine(e,t,{counterAxis:I,layer:u.zerolinelayer,path:P,transFn:x})}}}var N=V.getTickSigns(t),j=[];if(t.ticks){var L,R,F,z=V.makeTickPath(t,v,N[2]);if(t._anchorAxis&&t.mirror&&!0!==t.mirror?(L=V.makeTickPath(t,g,N[3]),R=z+L):(L="",R=z),t.showdividers&&O&&"boundaries"===t.tickson){var B={};for(r=0;r<E.length;r++)B[E[r].x]=1;F=function(e){return B[e.x]?L:R}}else F=R;V.drawTicks(e,t,{vals:_,layer:p,path:F,transFn:x}),"allticks"===t.mirror&&(j=Object.keys(t._linepositions||{}))}for(r=0;r<j.length;r++){i=j[r],u=l._plots[i];var H=t._linepositions[i]||[],W=V.makeTickPath(t,H[0],N[0])+V.makeTickPath(t,H[1],N[1]);V.drawTicks(e,t,{vals:_,layer:u[f+"axislayer"],path:W,transFn:x})}var Y=[];if(Y.push((function(){return V.drawLabels(e,t,{vals:y,layer:p,plotinfo:u,transFn:T,labelFns:V.makeLabelFns(t,v)})})),"multicategory"===t.type){var G={x:2,y:10}[f];Y.push((function(){var n={x:"height",y:"width"}[f],r=X()[n]+G+(t._tickAngles[c+"tick"]?t.tickfont.size*U:0);return V.drawLabels(e,t,{vals:Ee(t,y),layer:p,cls:c+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:x,labelFns:V.makeLabelFns(t,v+r*N[4])})})),Y.push((function(){return t._depth=N[4]*(X("tick2")[t.side]-v),Ne(e,t,{vals:E,layer:p,path:V.makeTickPath(t,v,N[4],t._depth),transFn:x})}))}else t.title.hasOwnProperty("standoff")&&Y.push((function(){t._depth=N[4]*(X()[t.side]-v)}));var K=o.getComponentMethod("rangeslider","isVisible")(t);return Y.push((function(){var n,r,i,s,u=t.side.charAt(0),c=q[t.side].charAt(0),d=V.getPxPosition(e,t),p=O?t.ticklen:0;if((t.automargin||K)&&("multicategory"===t.type?n=X("tick2"):(n=X(),"x"===f&&"b"===u&&(t._depth=Math.max(n.width>0?n.bottom-d:0,p)))),t.automargin){r={x:0,y:0,r:0,l:0,t:0,b:0};var v=[0,1];if("x"===f){if("b"===u?r[u]=t._depth:(r[u]=t._depth=Math.max(n.width>0?d-n.top:0,p),v.reverse()),n.width>0){var g=n.right-(t._offset+t._length);g>0&&(r.xr=1,r.r=g);var y=t._offset-n.left;y>0&&(r.xl=0,r.l=y)}}else if("l"===u?r[u]=t._depth=Math.max(n.height>0?d-n.left:0,p):(r[u]=t._depth=Math.max(n.height>0?n.right-d:0,p),v.reverse()),n.height>0){var m=n.bottom-(t._offset+t._length);m>0&&(r.yb=0,r.b=m);var b=t._offset-n.top;b>0&&(r.yt=1,r.t=b)}r[h]="free"===t.anchor?t.position:t._anchorAxis.domain[v[0]],t.title.text!==l._dfltTitle[f]&&(r[u]+=je(t)+(t.title.standoff||0)),t.mirror&&"free"!==t.anchor&&((i={x:0,y:0,r:0,l:0,t:0,b:0})[c]=t.linewidth,t.mirror&&!0!==t.mirror&&(i[c]+=p),!0===t.mirror||"ticks"===t.mirror?i[h]=t._anchorAxis.domain[v[1]]:"all"!==t.mirror&&"allticks"!==t.mirror||(i[h]=[t._counterDomainMin,t._counterDomainMax][v[1]]))}K&&(s=o.getComponentMethod("rangeslider","autoMarginOpts")(e,t)),a.autoMargin(e,qe(t),r),a.autoMargin(e,Be(t),i),a.autoMargin(e,Ve(t),s)})),n.skipTitle||K&&"bottom"===t.side||Y.push((function(){return Le(e,t)})),s.syncOrAsync(Y)}}function X(e){var n=c+(e||"tick");return b[n]||(b[n]=Me(t,n)),b[n]}},V.getTickSigns=function(e){var t=e._id.charAt(0),n={x:"top",y:"right"}[t],r=e.side===n?1:-1,i=[-1,1,r,-r];return"inside"!==e.ticks===("x"===t)&&(i=i.map((function(e){return-e}))),e.side&&i.push({l:-1,t:-1,r:1,b:1}[e.side.charAt(0)]),i},V.makeTransTickFn=function(e){return"x"===e._id.charAt(0)?function(t){return u(e._offset+e.l2p(t.x),0)}:function(t){return u(0,e._offset+e.l2p(t.x))}},V.makeTransTickLabelFn=function(e){var t=De(e),n=t[0],r=t[1];return"x"===e._id.charAt(0)?function(t){return u(n+e._offset+e.l2p(Ie(t)),r)}:function(t){return u(r,n+e._offset+e.l2p(Ie(t)))}},V.makeTickPath=function(e,t,n,r){r=void 0!==r?r:e.ticklen;var i=e._id.charAt(0),a=(e.linewidth||1)/2;return"x"===i?"M0,"+(t+a*n)+"v"+r*n:"M"+(t+a*n)+",0h"+r*n},V.makeLabelFns=function(e,t,n){var r=e.ticklabelposition||"",a=function(e){return-1!==r.indexOf(e)},o=a("top"),u=a("left"),l=a("right"),c=a("bottom")||u||o||l,f=a("inside"),h="inside"===r&&"inside"===e.ticks||!f&&"outside"===e.ticks&&"boundaries"!==e.tickson,d=0,p=0,v=h?e.ticklen:0;if(f?v*=-1:c&&(v=0),h&&(d+=v,n)){var g=s.deg2rad(n);d=v*Math.cos(g)+1,p=v*Math.sin(g)}e.showticklabels&&(h||e.showline)&&(d+=.2*e.tickfont.size);var y,m,b,_,w,x={labelStandoff:d+=(e.linewidth||1)/2*(f?-1:1),labelShift:p},T=0,k=e.side,O=e._id.charAt(0),S=e.tickangle;if("x"===O)_=(w=!f&&"bottom"===k||f&&"top"===k)?1:-1,f&&(_*=-1),y=p*_,m=t+d*_,b=w?1:-.2,90===Math.abs(S)&&(f?b+=F:b=-90===S&&"bottom"===k?z:90===S&&"top"===k?F:.5,T=F/2*(S/90)),x.xFn=function(e){return e.dx+y+T*e.fontSize},x.yFn=function(e){return e.dy+m+e.fontSize*b},x.anchorFn=function(e,t){if(c){if(u)return"end";if(l)return"start"}return i(t)&&0!==t&&180!==t?t*_<0!==f?"end":"start":"middle"},x.heightFn=function(t,n,r){return n<-60||n>60?-.5*r:"top"===e.side!==f?-r:0};else if("y"===O){if(_=(w=!f&&"left"===k||f&&"right"===k)?1:-1,f&&(_*=-1),y=d,m=p*_,b=0,f||90!==Math.abs(S)||(b=-90===S&&"left"===k||90===S&&"right"===k?z:.5),f){var A=i(S)?+S:0;if(0!==A){var E=s.deg2rad(A);T=Math.abs(Math.sin(E))*z*_,b=0}}x.xFn=function(e){return e.dx+t-(y+e.fontSize*b)*_+T*e.fontSize},x.yFn=function(e){return e.dy+m+e.fontSize*F},x.anchorFn=function(e,t){return i(t)&&90===Math.abs(t)?"middle":w?"end":"start"},x.heightFn=function(t,n,r){return"right"===e.side&&(n*=-1),n<-30?-r:n<30?-.5*r:0}}return x},V.drawTicks=function(e,t,n){n=n||{};var r=t._id+"tick",i=n.vals;"period"===t.ticklabelmode&&(i=i.slice()).shift();var a=n.layer.selectAll("path."+r).data(t.ticks?i:[],Pe);a.exit().remove(),a.enter().append("path").classed(r,1).classed("ticks",1).classed("crisp",!1!==n.crisp).call(f.stroke,t.tickcolor).style("stroke-width",h.crispRound(e,t.tickwidth,1)+"px").attr("d",n.path).style("display",null),Qe(t,[j]),a.attr("transform",n.transFn)},V.drawGrid=function(e,t,n){n=n||{};var r=t._id+"grid",i=n.vals,a=n.counterAxis;if(!1===t.showgrid)i=[];else if(a&&V.shouldShowZeroLine(e,t,a))for(var o="array"===t.tickmode,s=0;s<i.length;s++){var u=i[s].x;if(o?!u:Math.abs(u)<t.dtick/100){if(i=i.slice(0,s).concat(i.slice(s+1)),!o)break;s--}}var l=n.layer.selectAll("path."+r).data(i,Pe);l.exit().remove(),l.enter().append("path").classed(r,1).classed("crisp",!1!==n.crisp),t._gw=h.crispRound(e,t.gridwidth,1),l.attr("transform",n.transFn).attr("d",n.path).call(f.stroke,t.gridcolor||"#ddd").style("stroke-width",t._gw+"px").style("display",null),Qe(t,[N]),"function"===typeof n.path&&l.attr("d",n.path)},V.drawZeroLine=function(e,t,n){n=n||n;var r=t._id+"zl",i=V.shouldShowZeroLine(e,t,n.counterAxis),a=n.layer.selectAll("path."+r).data(i?[{x:0,id:t._id}]:[]);a.exit().remove(),a.enter().append("path").classed(r,1).classed("zl",1).classed("crisp",!1!==n.crisp).each((function(){n.layer.selectAll("path").sort((function(e,t){return Y(e.id,t.id)}))})),a.attr("transform",n.transFn).attr("d",n.path).call(f.stroke,t.zerolinecolor||f.defaultLine).style("stroke-width",h.crispRound(e,t.zerolinewidth,t._gw||1)+"px").style("display",null),Qe(t,[P])},V.drawLabels=function(e,t,n){n=n||{};var a=e._fullLayout,o=t._id,c=o.charAt(0),f=n.cls||o+"tick",d=n.vals,p=n.labelFns,v=n.secondary?0:t.tickangle,g=(t._prevTickAngles||{})[f],y=n.layer.selectAll("g."+f).data(t.showticklabels?d:[],Pe),m=[];function b(e,a){e.each((function(e){var o=r.select(this),s=o.select(".text-math-group"),c=p.anchorFn(e,a),f=n.transFn.call(o.node(),e)+(i(a)&&0!==+a?" rotate("+a+","+p.xFn(e)+","+(p.yFn(e)-e.fontSize/2)+")":""),d=l.lineCount(o),v=U*e.fontSize,g=p.heightFn(e,i(a)?+a:0,(d-1)*v);if(g&&(f+=u(0,g)),s.empty()){var y=o.select("text");y.attr({transform:f,"text-anchor":c}),y.style("opacity",1),t._adjustTickLabelsOverflow&&t._adjustTickLabelsOverflow()}else{var m=h.bBox(s.node()).width*{end:-.5,start:.5}[c];s.attr("transform",f+u(m,0))}}))}function _(){return m.length&&Promise.all(m)}y.enter().append("g").classed(f,1).append("text").attr("text-anchor","middle").each((function(t){var n=r.select(this),i=e._promises.length;n.call(l.positionText,p.xFn(t),p.yFn(t)).call(h.font,t.font,t.fontSize,t.fontColor).text(t.text).call(l.convertToTspans,e),e._promises[i]?m.push(e._promises.pop().then((function(){b(n,v)}))):b(n,v)})),Qe(t,[L]),y.exit().remove(),n.repositionOnUpdate&&y.each((function(e){r.select(this).select("text").call(l.positionText,p.xFn(e),p.yFn(e))})),t._adjustTickLabelsOverflow=function(){var n=t.ticklabeloverflow;if(n&&"allow"!==n){var i=-1!==n.indexOf("hide"),o="x"===t._id.charAt(0),u=0,l=o?e._fullLayout.width:e._fullLayout.height;if(-1!==n.indexOf("domain")){var c=s.simpleMap(t.range,t.r2l);u=t.l2p(c[0])+t._offset,l=t.l2p(c[1])+t._offset}var f=Math.min(u,l),d=Math.max(u,l),p=t.side,v=1/0,g=-1/0;for(var m in y.each((function(e){var n=r.select(this);if(n.select(".text-math-group").empty()){var a=h.bBox(n.node()),s=0;o?(a.right>d||a.left<f)&&(s=1):(a.bottom>d||a.top+(t.tickangle?0:e.fontSize/4)<f)&&(s=1);var u=n.select("text");s?i&&u.style("opacity",0):(u.style("opacity",1),v="bottom"===p||"right"===p?Math.min(v,o?a.top:a.left):-1/0,g="top"===p||"left"===p?Math.max(g,o?a.bottom:a.right):1/0)}})),a._plots){var b=a._plots[m];if(t._id===b.xaxis._id||t._id===b.yaxis._id){var _=o?b.yaxis:b.xaxis;_&&(_["_visibleLabelMin_"+t._id]=v,_["_visibleLabelMax_"+t._id]=g)}}}},t._hideCounterAxisInsideTickLabels=function(e){var n="x"===t._id.charAt(0),i=[];for(var o in a._plots){var s=a._plots[o];t._id!==s.xaxis._id&&t._id!==s.yaxis._id||i.push(n?s.yaxis:s.xaxis)}i.forEach((function(n,i){n&&$e(n)&&(e||[P,N,j,L]).forEach((function(e){var o="tick"===e.K&&"text"===e.L&&"period"===t.ticklabelmode,s=a._plots[t._mainSubplot];(e.K===P.K?s.zerolinelayer.selectAll("."+t._id+"zl"):e.K===N.K?s.gridlayer.selectAll("."+t._id):s[t._id.charAt(0)+"axislayer"]).each((function(){var a=r.select(this);e.L&&(a=a.selectAll(e.L)),a.each((function(a){var s=t.l2p(o?Ie(a):a.x)+t._offset,u=r.select(this);s<t["_visibleLabelMax_"+n._id]&&s>t["_visibleLabelMin_"+n._id]?u.style("display","none"):"tick"!==e.K||i||u.style("display",null)}))}))}))}))},b(y,g+1?g:v);var w=null;function x(){if(b(y,v),d.length&&"x"===c&&!i(v)&&("log"!==t.type||"D"!==String(t.dtick).charAt(0))){w=0;var e,r=0,a=[];if(y.each((function(e){r=Math.max(r,e.fontSize);var n=t.l2p(e.x),i=Ue(this),o=h.bBox(i.node());a.push({top:0,bottom:10,height:10,left:n-o.width/2,right:n+o.width/2+2,width:o.width+2})})),"boundaries"!==t.tickson&&!t.showdividers||n.secondary){var o=d.length,u=Math.abs((d[o-1].x-d[0].x)*t._m)/(o-1),l=t.ticklabelposition||"",f=function(e){return-1!==l.indexOf(e)},p=f("top"),g=f("left"),m=f("right"),_=f("bottom")||g||p||m?(t.tickwidth||0)+2*B:0,x=u<2.5*r||"multicategory"===t.type;for(e=0;e<a.length-1;e++)if(s.bBoxIntersect(a[e],a[e+1],_)){w=x?90:30;break}}else{var T=2;for(t.ticks&&(T+=t.tickwidth/2),e=0;e<a.length;e++){var k=d[e].xbnd,O=a[e];if(null!==k[0]&&O.left-t.l2p(k[0])<T||null!==k[1]&&t.l2p(k[1])-O.right<T){w=90;break}}}w&&b(y,w)}}t._selections&&(t._selections[f]=y);var T=[_];t.automargin&&a._redrawFromAutoMarginCount&&90===g?(w=90,T.push((function(){b(y,g)}))):T.push(x),t._tickAngles&&T.push((function(){t._tickAngles[f]=null===w?i(v)?v:0:w}));var k=t._anchorAxis;k&&k.autorange&&$e(t)&&!G(a,t._id)&&(a._insideTickLabelsAutorange||(a._insideTickLabelsAutorange={}),a._insideTickLabelsAutorange[k._name+".autorange"]=k.autorange,T.push((function(){y.each((function(e,n){var r=Ue(this);r.select(".text-math-group").empty()&&(t._vals[n].bb=h.bBox(r.node()))}))})));var O=s.syncOrAsync(T);return O&&O.then&&e._promises.push(O),O},V.getPxPosition=function(e,t){var n,r=e._fullLayout._size,i=t._id.charAt(0),a=t.side;return"free"!==t.anchor?n=t._anchorAxis:"x"===i?n={_offset:r.t+(1-(t.position||0))*r.h,_length:0}:"y"===i&&(n={_offset:r.l+(t.position||0)*r.w,_length:0}),"top"===a||"left"===a?n._offset:"bottom"===a||"right"===a?n._offset+n._length:void 0},V.shouldShowZeroLine=function(e,t,n){var r=s.simpleMap(t.range,t.r2l);return r[0]*r[1]<=0&&t.zeroline&&("linear"===t.type||"-"===t.type)&&!(t.rangebreaks&&t.maskBreaks(0)===D)&&(Re(t,0)||!Fe(e,t,n,r)||ze(e,t))},V.clipEnds=function(e,t){return t.filter((function(t){return Re(e,t.x)}))},V.allowAutoMargin=function(e){for(var t=V.list(e,"",!0),n=0;n<t.length;n++){var r=t[n];r.automargin&&(a.allowAutoMargin(e,qe(r)),r.mirror&&a.allowAutoMargin(e,Be(r))),o.getComponentMethod("rangeslider","isVisible")(r)&&a.allowAutoMargin(e,Ve(r))}},V.swap=function(e,t){for(var n=He(e,t),r=0;r<n.length;r++)Ye(e,n[r].x,n[r].y)}},{"../../components/color":100,"../../components/drawing":122,"../../components/titles":198,"../../constants/alignment":205,"../../constants/numerical":210,"../../lib":230,"../../lib/svg_text_utils":252,"../../plots/plots":311,"../../registry":313,"./autorange":275,"./axis_autotype":277,"./axis_ids":280,"./clean_ticks":282,"./layout_attributes":291,"./set_convert":297,"@plotly/d3":11,"fast-isnumeric":15}],277:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),a=e("../../constants/numerical").BADNUM,o=i.isArrayOrTypedArray,s=i.isDateTime,u=i.cleanNumber,l=Math.round;function c(e,t){return t?r(e):"number"===typeof e}function f(e,t){for(var n=e.length,r=0;r<n;r++)if(c(e[r],t))return!0;return!1}function h(e,t){for(var n=e.length,i=d(n),a=0,o=0,u={},c=0;c<n;c+=i){var f=e[l(c)],h=String(f);u[h]||(u[h]=1,s(f,t)&&a++,r(f)&&o++)}return a>2*o}function d(e){return Math.max(1,(e-1)/1e3)}function p(e,t){for(var n=e.length,r=d(n),i=0,o=0,s={},c=0;c<n;c+=r){var f=e[l(c)],h=String(f);if(!s[h]){s[h]=1;var p=typeof f;"boolean"===p?o++:(t?u(f)!==a:"number"===p)?i++:"string"===p&&o++}}return o>2*i}function v(e){return o(e[0])&&o(e[1])}t.exports=function(e,t,n){var r=e,i=n.noMultiCategory;if(o(r)&&!r.length)return"-";if(!i&&v(r))return"multicategory";if(i&&Array.isArray(r[0])){for(var a=[],s=0;s<r.length;s++)if(o(r[s]))for(var u=0;u<r[s].length;u++)a.push(r[s][u]);r=a}if(h(r,t))return"date";var l="strict"!==n.autotypenumbers;return p(r,l)?"category":f(r,l)?"linear":"-"}},{"../../constants/numerical":210,"../../lib":230,"fast-isnumeric":15}],278:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../registry"),a=e("../../lib"),o=e("../array_container_defaults"),s=e("./layout_attributes"),u=e("./tick_value_defaults"),l=e("./tick_mark_defaults"),c=e("./tick_label_defaults"),f=e("./category_order_defaults"),h=e("./line_grid_defaults"),d=e("./set_convert"),p=e("./constants").WEEKDAY_PATTERN,v=e("./constants").HOUR_PATTERN;function g(e,t,n){function i(n,r){return a.coerce(e,t,s.rangebreaks,n,r)}if(i("enabled")){var o=i("bounds");if(o&&o.length>=2){var u,l,c="";if(2===o.length)for(u=0;u<2;u++)if(l=m(o[u])){c=p;break}var f=i("pattern",c);if(f===p)for(u=0;u<2;u++)(l=m(o[u]))&&(t.bounds[u]=o[u]=l-1);if(f)for(u=0;u<2;u++)switch(l=o[u],f){case p:if(!r(l))return void(t.enabled=!1);if((l=+l)!==Math.floor(l)||l<0||l>=7)return void(t.enabled=!1);t.bounds[u]=o[u]=l;break;case v:if(!r(l))return void(t.enabled=!1);if((l=+l)<0||l>24)return void(t.enabled=!1);t.bounds[u]=o[u]=l}if(!1===n.autorange){var h=n.range;if(h[0]<h[1]){if(o[0]<h[0]&&o[1]>h[1])return void(t.enabled=!1)}else if(o[0]>h[0]&&o[1]<h[1])return void(t.enabled=!1)}}else{var d=i("values");if(!d||!d.length)return void(t.enabled=!1);i("dvalue")}}}t.exports=function(e,t,n,r,v){var y,m=r.letter,b=r.font||{},_=r.splomStash||{},w=n("visible",!r.visibleDflt),x=t._template||{},T=t.type||x.type||"-";"date"===T&&(i.getComponentMethod("calendars","handleDefaults")(e,t,"calendar",r.calendar),r.noTicklabelmode||(y=n("ticklabelmode")));var k="";r.noTicklabelposition&&"multicategory"!==T||(k=a.coerce(e,t,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===y?["outside","inside"]:"x"===m?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),r.noTicklabeloverflow||n("ticklabeloverflow",-1!==k.indexOf("inside")?"hide past domain":"category"===T||"multicategory"===T?"allow":"hide past div"),d(t,v);var O=!t.isValidRange(e.range);O&&r.reverseDflt&&(O="reversed"),!n("autorange",O)||"linear"!==T&&"-"!==T||n("rangemode"),n("range"),t.cleanRange(),f(e,t,n,r),"category"===T||r.noHover||n("hoverformat");var S=n("color"),A=S!==s.color.dflt?S:b.color,E=_.label||v._dfltTitle[m];if(c(e,t,n,T,r,{pass:1}),!w)return t;n("title.text",E),a.coerceFont(n,"title.font",{family:b.family,size:a.bigFont(b.size),color:A}),u(e,t,n,T),c(e,t,n,T,r,{pass:2}),l(e,t,n,r),h(e,t,n,{dfltColor:S,bgColor:r.bgColor,showGrid:r.showGrid,attributes:s}),(t.showline||t.ticks)&&n("mirror"),r.automargin&&n("automargin");var C,M="multicategory"===T;if(r.noTickson||"category"!==T&&!M||!t.ticks&&!t.showgrid||(M&&(C="boundaries"),"boundaries"===n("tickson",C)&&delete t.ticklabelposition),M&&n("showdividers")&&(n("dividercolor"),n("dividerwidth")),"date"===T)if(o(e,t,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:g}),t.rangebreaks.length){for(var I=0;I<t.rangebreaks.length;I++)if(t.rangebreaks[I].pattern===p){t._hasDayOfWeekBreaks=!0;break}if(d(t,v),v._has("scattergl")||v._has("splom"))for(var D=0;D<r.data.length;D++){var P=r.data[D];"scattergl"!==P.type&&"splom"!==P.type||(P.visible=!1,a.warn(P.type+" traces do not work on axes with rangebreaks. Setting trace "+P.index+" to `visible: false`."))}}else delete t.rangebreaks;return t};var y={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function m(e){if("string"===typeof e)return y[e.substr(0,3).toLowerCase()]}},{"../../lib":230,"../../registry":313,"../array_container_defaults":271,"./category_order_defaults":281,"./constants":283,"./layout_attributes":291,"./line_grid_defaults":293,"./set_convert":297,"./tick_label_defaults":298,"./tick_mark_defaults":299,"./tick_value_defaults":300,"fast-isnumeric":15}],279:[function(e,t,n){"use strict";var r=e("../../constants/docs"),i=r.FORMAT_LINK,a=r.DATE_FORMAT_LINK;function o(e,t){return{valType:"string",dflt:"",editType:"none",description:(t?s:u)("hover text",e)+["By default the values are formatted using "+(t?"generic number format":"`"+e+"axis.hoverformat`")+"."].join(" ")}}function s(e,t){return["Sets the "+e+" formatting rule"+(t?"for `"+t+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+i+"."].join(" ")}function u(e,t){return s(e,t)+[" And for dates see: "+a+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}t.exports={axisHoverFormat:o,descriptionOnlyNumbers:s,descriptionWithDates:u}},{"../../constants/docs":207}],280:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("./constants");function a(e,t){if(t&&t.length)for(var n=0;n<t.length;n++)if(t[n][e])return!0;return!1}n.id2name=function(e){if("string"===typeof e&&e.match(i.AX_ID_PATTERN)){var t=e.split(" ")[0].substr(1);return"1"===t&&(t=""),e.charAt(0)+"axis"+t}},n.name2id=function(e){if(e.match(i.AX_NAME_PATTERN)){var t=e.substr(5);return"1"===t&&(t=""),e.charAt(0)+t}},n.cleanId=function(e,t,n){var r=/( domain)$/.test(e);if("string"===typeof e&&e.match(i.AX_ID_PATTERN)&&(!t||e.charAt(0)===t)&&(!r||n)){var a=e.split(" ")[0].substr(1).replace(/^0+/,"");return"1"===a&&(a=""),e.charAt(0)+a+(r&&n?" domain":"")}},n.list=function(e,t,r){var i=e._fullLayout;if(!i)return[];var a,o=n.listIds(e,t),s=new Array(o.length);for(a=0;a<o.length;a++){var u=o[a];s[a]=i[u.charAt(0)+"axis"+u.substr(1)]}if(!r){var l=i._subplots.gl3d||[];for(a=0;a<l.length;a++){var c=i[l[a]];t?s.push(c[t+"axis"]):s.push(c.xaxis,c.yaxis,c.zaxis)}}return s},n.listIds=function(e,t){var n=e._fullLayout;if(!n)return[];var r=n._subplots;return t?r[t+"axis"]:r.xaxis.concat(r.yaxis)},n.getFromId=function(e,t,r){var i=e._fullLayout;return t=void 0===t||"string"!==typeof t?t:t.replace(" domain",""),"x"===r?t=t.replace(/y[0-9]*/,""):"y"===r&&(t=t.replace(/x[0-9]*/,"")),i[n.id2name(t)]},n.getFromTrace=function(e,t,i){var a=e._fullLayout,o=null;if(r.traceIs(t,"gl3d")){var s=t.scene;"scene"===s.substr(0,5)&&(o=a[s][i+"axis"])}else o=n.getFromId(e,t[i+"axis"]||i);return o},n.idSort=function(e,t){var n=e.charAt(0),r=t.charAt(0);return n!==r?n>r?1:-1:+(e.substr(1)||1)-+(t.substr(1)||1)},n.ref2id=function(e){return!!/^[xyz]/.test(e)&&e.split(" ")[0]},n.isLinked=function(e,t){return a(t,e._axisMatchGroups)||a(t,e._axisConstraintGroups)}},{"../../registry":313,"./constants":283}],281:[function(e,t,n){"use strict";function r(e,t){var n,r,i,a=t.dataAttr||e._id.charAt(0),o={};if(t.axData)n=t.axData;else for(n=[],r=0;r<t.data.length;r++){var s=t.data[r];s[a+"axis"]===e._id&&n.push(s)}for(r=0;r<n.length;r++){var u=n[r][a];for(i=0;i<u.length;i++){var l=u[i];null!==l&&void 0!==l&&(o[l]=1)}}return Object.keys(o)}t.exports=function(e,t,n,i){if("category"===t.type){var a,o=e.categoryarray,s=Array.isArray(o)&&o.length>0;s&&(a="array");var u,l=n("categoryorder",a);"array"===l&&(u=n("categoryarray")),s||"array"!==l||(l=t.categoryorder="trace"),"trace"===l?t._initialCategories=[]:"array"===l?t._initialCategories=u.slice():(u=r(t,i).sort(),"category ascending"===l?t._initialCategories=u:"category descending"===l&&(t._initialCategories=u.reverse()))}}},{}],282:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),a=e("../../constants/numerical"),o=a.ONEDAY,s=a.ONEWEEK;n.dtick=function(e,t){var n="log"===t,i="date"===t,a="category"===t,s=i?o:1;if(!e)return s;if(r(e))return(e=Number(e))<=0?s:a?Math.max(1,Math.round(e)):i?Math.max(.1,e):e;if("string"!==typeof e||!i&&!n)return s;var u=e.charAt(0),l=e.substr(1);return(l=r(l)?Number(l):0)<=0||!(i&&"M"===u&&l===Math.round(l)||n&&"L"===u||n&&"D"===u&&(1===l||2===l))?s:e},n.tick0=function(e,t,n,a){return"date"===t?i.cleanDate(e,i.dateTick0(n,a%s===0?1:0)):"D1"!==a&&"D2"!==a?r(e)?Number(e):0:void 0}},{"../../constants/numerical":210,"../../lib":230,"fast-isnumeric":15}],283:[function(e,t,n){"use strict";var r=e("../../lib/regex").counter;t.exports={idRegex:{x:r("x","( domain)?"),y:r("y","( domain)?")},attrRegex:r("[xy]axis"),xAxisMatch:r("xaxis"),yAxisMatch:r("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINSELECT:12,MINZOOM:20,DRAGGERSIZE:20,BENDPX:1.5,REDRAWDELAY:50,SELECTDELAY:100,SELECTID:"-select",DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},{"../../lib/regex":246}],284:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./autorange"),a=e("./axis_ids").id2name,o=e("./layout_attributes"),s=e("./scale_zoom"),u=e("./set_convert"),l=e("../../constants/numerical").ALMOST_EQUAL,c=e("../../constants/alignment").FROM_BL;function f(e,t,n){var i=n.axIds,s=n.layoutOut,u=n.hasImage,l=s._axisConstraintGroups,c=s._axisMatchGroups,f=t._id,v=f.charAt(0),g=((s._splomAxes||{})[v]||{})[f]||{},y=t._id,m="x"===y.charAt(0);function b(n,i){return r.coerce(e,t,o,n,i)}t._matchGroup=null,t._constraintGroup=null,b("constrain",u?"domain":"range"),r.coerce(e,t,{constraintoward:{valType:"enumerated",values:m?["left","center","right"]:["bottom","middle","top"],dflt:m?"center":"middle"}},"constraintoward");var _,w,x=t.type,T=[];for(_=0;_<i.length;_++)(w=i[_])!==y&&s[a(w)].type===x&&T.push(w);var k=d(l,y);if(k){var O=[];for(_=0;_<T.length;_++)k[w=T[_]]||O.push(w);T=O}var S,A,E=T.length;E&&(e.matches||g.matches)&&(S=r.coerce(e,t,{matches:{valType:"enumerated",values:T,dflt:-1!==T.indexOf(g.matches)?g.matches:void 0}},"matches"));var C=u&&!m?t.anchor:void 0;if(E&&!S&&(e.scaleanchor||C)&&(A=r.coerce(e,t,{scaleanchor:{valType:"enumerated",values:T}},"scaleanchor",C)),S){t._matchGroup=p(c,y,S,1);var M=s[a(S)],I=h(s,t)/h(s,M);m!==("x"===S.charAt(0))&&(I=(m?"x":"y")+I),p(l,y,S,I)}else e.matches&&-1!==i.indexOf(e.matches)&&r.warn("ignored "+t._name+'.matches: "'+e.matches+'" to avoid an infinite loop');if(A){var D=b("scaleratio");D||(D=t.scaleratio=1),p(l,y,A,D)}else e.scaleanchor&&-1!==i.indexOf(e.scaleanchor)&&r.warn("ignored "+t._name+'.scaleanchor: "'+e.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function h(e,t){var n=t.domain;return n||(n=e[a(t.overlaying)].domain),n[1]-n[0]}function d(e,t){for(var n=0;n<e.length;n++)if(e[n][t])return e[n];return null}function p(e,t,n,r){var i,a,o,s,u,l=d(e,t);null===l?((l={})[t]=1,u=e.length,e.push(l)):u=e.indexOf(l);var c=Object.keys(l);for(i=0;i<e.length;i++)if(o=e[i],i!==u&&o[n]){var f=o[n];for(a=0;a<c.length;a++)o[s=c[a]]=v(f,v(r,l[s]));return void e.splice(u,1)}if(1!==r)for(a=0;a<c.length;a++){var h=c[a];l[h]=v(r,l[h])}l[n]=1}function v(e,t){var n,r,i="",a="";"string"===typeof e&&(n=(i=e.match(/^[xy]*/)[0]).length,e=+e.substr(n)),"string"===typeof t&&(r=(a=t.match(/^[xy]*/)[0]).length,t=+t.substr(r));var o=e*t;return n||r?n&&r&&i.charAt(0)!==a.charAt(0)?n===r?o:(n>r?i.substr(r):a.substr(n))+o:i+a+e*t:o}function g(e,t){for(var n=t._size,r=n.h/n.w,i={},a=Object.keys(e),o=0;o<a.length;o++){var s=a[o],u=e[s];if("string"===typeof u){var l=u.match(/^[xy]*/)[0],c=l.length;u=+u.substr(c);for(var f="y"===l.charAt(0)?r:1/r,h=0;h<c;h++)u*=f}i[s]=u}return i}function y(e,t){var n=e._inputDomain,r=c[e.constraintoward],i=n[0]+(n[1]-n[0])*r;e.domain=e._input.domain=[i+(n[0]-i)/t,i+(n[1]-i)/t],e.setScale()}n.handleDefaults=function(e,t,n){var i,o,s,l,c,h,d,p,v=n.axIds,g=n.axHasImage,y=t._axisConstraintGroups=[],m=t._axisMatchGroups=[];for(i=0;i<v.length;i++)f(c=e[l=a(v[i])],h=t[l],{axIds:v,layoutOut:t,hasImage:g[l]});function b(e,n){for(i=0;i<e.length;i++)for(s in o=e[i])t[a(s)][n]=o}for(b(m,"_matchGroup"),i=0;i<y.length;i++)for(s in o=y[i])if((h=t[a(s)]).fixedrange){for(var _ in o){var w=a(_);!1===(e[w]||{}).fixedrange&&r.warn("fixedrange was specified as false for axis "+w+" but was overridden because another axis in its constraint group has fixedrange true"),t[w].fixedrange=!0}break}for(i=0;i<y.length;){for(s in o=y[i]){(h=t[a(s)])._matchGroup&&Object.keys(h._matchGroup).length===Object.keys(o).length&&(y.splice(i,1),i--);break}i++}b(y,"_constraintGroup");var x=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],T=!1,k=!1;function O(){p=h[d],"rangebreaks"===d&&(k=h._hasDayOfWeekBreaks)}for(i=0;i<m.length;i++){o=m[i];for(var S=0;S<x.length;S++){var A;for(s in d=x[S],p=null,o)if(c=e[l=a(s)],h=t[l],d in h){if(!h.matches&&(A=h,d in c)){O();break}null===p&&d in c&&O()}if("range"===d&&p&&(T=!0),"autorange"===d&&null===p&&T&&(p=!1),null===p&&d in A&&(p=A[d]),null!==p)for(s in o)(h=t[a(s)])[d]="range"===d?p.slice():p,"rangebreaks"===d&&(h._hasDayOfWeekBreaks=k,u(h,t))}}},n.enforce=function(e){var t,n,r,o,u,c,f,h,d=e._fullLayout,p=d._axisConstraintGroups||[];for(t=0;t<p.length;t++){r=g(p[t],d);var v=Object.keys(r),m=1/0,b=0,_=1/0,w={},x={},T=!1;for(n=0;n<v.length;n++)x[o=v[n]]=u=d[a(o)],u._inputDomain?u.domain=u._inputDomain.slice():u._inputDomain=u.domain.slice(),u._inputRange||(u._inputRange=u.range.slice()),u.setScale(),w[o]=c=Math.abs(u._m)/r[o],m=Math.min(m,c),"domain"!==u.constrain&&u._constraintShrinkable||(_=Math.min(_,c)),delete u._constraintShrinkable,b=Math.max(b,c),"domain"===u.constrain&&(T=!0);if(!(m>l*b)||T)for(n=0;n<v.length;n++)if(c=w[o=v[n]],f=(u=x[o]).constrain,c!==_||"domain"===f)if(h=c/_,"range"===f)s(u,h);else{var k=u._inputDomain,O=(u.domain[1]-u.domain[0])/(k[1]-k[0]),S=(u.r2l(u.range[1])-u.r2l(u.range[0]))/(u.r2l(u._inputRange[1])-u.r2l(u._inputRange[0]));if((h/=O)*S<1){u.domain=u._input.domain=k.slice(),s(u,h);continue}if(S<1&&(u.range=u._input.range=u._inputRange.slice(),h*=S),u.autorange){var A=u.r2l(u.range[0]),E=u.r2l(u.range[1]),C=(A+E)/2,M=C,I=C,D=Math.abs(E-C),P=C-D*h*1.0001,N=C+D*h*1.0001,j=i.makePadFn(d,u,0),L=i.makePadFn(d,u,1);y(u,h);var R,F,z=Math.abs(u._m),U=i.concatExtremes(e,u),q=U.min,B=U.max;for(F=0;F<q.length;F++)(R=q[F].val-j(q[F])/z)>P&&R<M&&(M=R);for(F=0;F<B.length;F++)(R=B[F].val+L(B[F])/z)<N&&R>I&&(I=R);h/=(I-M)/(2*D),M=u.l2r(M),I=u.l2r(I),u.range=u._input.range=A<E?[M,I]:[I,M]}y(u,h)}}},n.getAxisGroup=function(e,t){for(var n=e._axisMatchGroups,r=0;r<n.length;r++)if(n[r][t])return"g"+r;return t},n.clean=function(e,t){if(t._inputDomain){for(var n=!1,r=t._id,i=e._fullLayout._axisConstraintGroups,a=0;a<i.length;a++)if(i[a][r]){n=!0;break}n&&"domain"===t.constrain||(t._input.domain=t.domain=t._inputDomain,delete t._inputDomain)}}},{"../../constants/alignment":205,"../../constants/numerical":210,"../../lib":230,"./autorange":275,"./axis_ids":280,"./layout_attributes":291,"./scale_zoom":295,"./set_convert":297}],285:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("tinycolor2"),a=e("has-passive-events"),o=e("../../registry"),s=e("../../lib"),u=s.strTranslate,l=e("../../lib/svg_text_utils"),c=e("../../components/color"),f=e("../../components/drawing"),h=e("../../components/fx"),d=e("./axes"),p=e("../../lib/setcursor"),v=e("../../components/dragelement"),g=e("../../components/dragelement/helpers"),y=g.selectingOrDrawing,m=g.freeMode,b=e("../../constants/alignment").FROM_TL,_=e("../../lib/clear_gl_canvases"),w=e("../../plot_api/subroutines").redrawReglTraces,x=e("../plots"),T=e("./axis_ids").getFromId,k=e("./select").prepSelect,O=e("./select").clearSelect,S=e("./select").selectOnClick,A=e("./scale_zoom"),E=e("./constants"),C=E.MINDRAG,M=E.MINZOOM,I=!0;function D(e,t,n,a,u,c,p,g){var I,D,P,H,Z,ee,te,ne,re,ie,ae,oe,se,ue,le,ce,fe,he,de,pe,ve,ge,ye,me=e._fullLayout._zoomlayer,be=p+g==="nsew",_e=1===(p+g).length;function we(){if(I=t.xaxis,D=t.yaxis,re=I._length,ie=D._length,te=I._offset,ne=D._offset,(P={})[I._id]=I,(H={})[D._id]=D,p&&g)for(var n=t.overlays,r=0;r<n.length;r++){var i=n[r].xaxis;P[i._id]=i;var a=n[r].yaxis;H[a._id]=a}Z=J(P),ee=J(H),se=j(Z,g),ue=j(ee,p),le=!ue&&!se,oe=$(e,e._fullLayout._axisMatchGroups,P,H);var o=(ae=$(e,e._fullLayout._axisConstraintGroups,P,H,oe)).isSubplotConstrained||oe.isSubplotConstrained;ce=g||o,fe=p||o;var s=e._fullLayout;he=s._has("scattergl"),de=s._has("splom"),pe=s._has("svg")}we();var xe=U(ue+se,e._fullLayout.dragmode,be),Te=N(t,p+g+"drag",xe,n,a,u,c);if(le&&!be)return Te.onmousedown=null,Te.style.pointerEvents="none",Te;var ke,Oe,Se,Ae,Ee,Ce,Me,Ie,De,Pe,Ne={element:Te,gd:e,plotinfo:t};function je(){Ne.plotinfo.selection=!1,O(e)}function Le(e,n){var i=Ne.gd;if(i._fullLayout._activeShapeIndex>=0)i._fullLayout._deactivateShape(i);else{var a=i._fullLayout.clickmode;if(W(i),2!==e||_e||Xe(),be)a.indexOf("select")>-1&&S(n,i,Z,ee,t.id,Ne),a.indexOf("event")>-1&&h.click(i,n,t.id);else if(1===e&&_e){var s=p?D:I,u="s"===p||"w"===g?0:1,c=s._name+".range["+u+"]",f=L(s,u),d="left",v="middle";if(s.fixedrange)return;p?(v="n"===p?"top":"bottom","right"===s.side&&(d="right")):"e"===g&&(d="right"),i._context.showAxisRangeEntryBoxes&&r.select(Te).call(l.makeEditable,{gd:i,immediate:!0,background:i._fullLayout.paper_bgcolor,text:String(f),fill:s.tickfont?s.tickfont.color:"#444",horizontalAlign:d,verticalAlign:v}).on("edit",(function(e){var t=s.d2r(e);void 0!==t&&o.call("_guiRelayout",i,c,t)}))}}}function Re(t,n,r){var a=Te.getBoundingClientRect();ke=n-a.left,Oe=r-a.top,e._fullLayout._calcInverseTransform(e);var o=s.apply3DTransform(e._fullLayout._invTransform)(ke,Oe);ke=o[0],Oe=o[1],Se={l:ke,r:ke,w:0,t:Oe,b:Oe,h:0},Ae=e._hmpixcount?e._hmlumcount/e._hmpixcount:i(e._fullLayout.plot_bgcolor).getLuminance(),Ce=!1,Me="xy",Pe=!1,Ie=q(me,Ae,te,ne,Ee="M0,0H"+re+"V"+ie+"H0V0"),De=B(me,te,ne)}function Fe(t,n){if(e._transitioningWithDuration)return!1;var r=Math.max(0,Math.min(re,ge*t+ke)),i=Math.max(0,Math.min(ie,ye*n+Oe)),a=Math.abs(r-ke),o=Math.abs(i-Oe);function s(){Me="",Se.r=Se.l,Se.t=Se.b,De.attr("d","M0,0Z")}if(Se.l=Math.min(ke,r),Se.r=Math.max(ke,r),Se.t=Math.min(Oe,i),Se.b=Math.max(Oe,i),ae.isSubplotConstrained)a>M||o>M?(Me="xy",a/re>o/ie?(o=a*ie/re,Oe>i?Se.t=Oe-o:Se.b=Oe+o):(a=o*re/ie,ke>r?Se.l=ke-a:Se.r=ke+a),De.attr("d",X(Se))):s();else if(oe.isSubplotConstrained)if(a>M||o>M){Me="xy";var u=Math.min(Se.l/re,(ie-Se.b)/ie),l=Math.max(Se.r/re,(ie-Se.t)/ie);Se.l=u*re,Se.r=l*re,Se.b=(1-u)*ie,Se.t=(1-l)*ie,De.attr("d",X(Se))}else s();else!ue||o<Math.min(Math.max(.6*a,C),M)?a<C||!se?s():(Se.t=0,Se.b=ie,Me="x",De.attr("d",G(Se,Oe))):!se||a<Math.min(.6*o,M)?(Se.l=0,Se.r=re,Me="y",De.attr("d",K(Se,ke))):(Me="xy",De.attr("d",X(Se)));Se.w=Se.r-Se.l,Se.h=Se.b-Se.t,Me&&(Pe=!0),e._dragged=Pe,V(Ie,De,Se,Ee,Ce,Ae),ze(),e.emit("plotly_relayouting",ve),Ce=!0}function ze(){ve={},"xy"!==Me&&"x"!==Me||(R(Z,Se.l/re,Se.r/re,ve,ae.xaxes),Ge("x",ve)),"xy"!==Me&&"y"!==Me||(R(ee,(ie-Se.b)/ie,(ie-Se.t)/ie,ve,ae.yaxes),Ge("y",ve))}function Ue(){ze(),W(e),$e(),Y(e)}Ne.prepFn=function(t,n,r){var i=Ne.dragmode,a=e._fullLayout.dragmode;a!==i&&(Ne.dragmode=a),we(),ge=e._fullLayout._invScaleX,ye=e._fullLayout._invScaleY,le||(be?t.shiftKey?"pan"===a?a="zoom":y(a)||(a="pan"):t.ctrlKey&&(a="pan"):a="pan"),m(a)?Ne.minDrag=1:Ne.minDrag=void 0,y(a)?(Ne.xaxes=Z,Ne.yaxes=ee,k(t,n,r,Ne,a)):(Ne.clickFn=Le,y(i)&&je(),le||("zoom"===a?(Ne.moveFn=Fe,Ne.doneFn=Ue,Ne.minDrag=1,Re(t,n,r)):"pan"===a&&(Ne.moveFn=Ye,Ne.doneFn=$e))),e._fullLayout._redrag=function(){var t=e._dragdata;if(t&&t.element===Te){var n=e._fullLayout.dragmode;y(n)||(we(),Qe([0,0,re,ie]),Ne.moveFn(t.dx,t.dy))}}},v.init(Ne);var qe=[0,0,re,ie],Be=null,Ve=E.REDRAWDELAY,He=t.mainplot?e._fullLayout._plots[t.mainplot]:t;function We(t){if(e._context._scrollZoom.cartesian||e._fullLayout._enablescrollzoom){if(je(),e._transitioningWithDuration)return t.preventDefault(),void t.stopPropagation();we(),clearTimeout(Be);var n=-t.deltaY;if(isFinite(n)||(n=t.wheelDelta/10),isFinite(n)){var r,i=Math.exp(-Math.min(Math.max(n,-20),20)/200),a=He.draglayer.select(".nsewdrag").node().getBoundingClientRect(),o=(t.clientX-a.left)/a.width,u=(a.bottom-t.clientY)/a.height;if(ce){for(g||(o=.5),r=0;r<Z.length;r++)l(Z[r],o,i);Ge("x"),qe[2]*=i,qe[0]+=qe[2]*o*(1/i-1)}if(fe){for(p||(u=.5),r=0;r<ee.length;r++)l(ee[r],u,i);Ge("y"),qe[3]*=i,qe[1]+=qe[3]*(1-u)*(1/i-1)}Qe(qe),Ke(),e.emit("plotly_relayouting",ve),Be=setTimeout((function(){e._fullLayout&&(qe=[0,0,re,ie],$e())}),Ve),t.preventDefault()}else s.log("Did not find wheel motion attributes: ",t)}function l(e,t,n){if(!e.fixedrange){var r=s.simpleMap(e.range,e.r2l),i=r[0]+(r[1]-r[0])*t;e.range=r.map(a)}function a(t){return e.l2r(i+(t-i)*n)}}}function Ye(t,n){if(t*=ge,n*=ye,!e._transitioningWithDuration){if(e._fullLayout._replotting=!0,"ew"===se||"ns"===ue){var r=se?-t:0,i=ue?-n:0;if(oe.isSubplotConstrained){if(se&&ue){var a=(t/re-n/ie)/2;r=-(t=a*re),i=-(n=-a*ie)}ue?r=-i*re/ie:i=-r*ie/re}return se&&(F(Z,t),Ge("x")),ue&&(F(ee,n),Ge("y")),Qe([r,i,re,ie]),Ke(),void e.emit("plotly_relayouting",ve)}var o,s,u="w"===se===("n"===ue)?1:-1;if(se&&ue&&(ae.isSubplotConstrained||oe.isSubplotConstrained)){var l=(t/re+u*n/ie)/2;t=l*re,n=u*l*ie}if("w"===se?t=d(Z,0,t):"e"===se?t=d(Z,1,-t):se||(t=0),"n"===ue?n=d(ee,1,n):"s"===ue?n=d(ee,0,-n):ue||(n=0),o="w"===se?t:0,s="n"===ue?n:0,ae.isSubplotConstrained&&!oe.isSubplotConstrained||oe.isSubplotConstrained&&se&&ue&&u>0){var c;if(oe.isSubplotConstrained||!se&&1===ue.length){for(c=0;c<Z.length;c++)Z[c].range=Z[c]._r.slice(),A(Z[c],1-n/ie);o=(t=n*re/ie)/2}if(oe.isSubplotConstrained||!ue&&1===se.length){for(c=0;c<ee.length;c++)ee[c].range=ee[c]._r.slice(),A(ee[c],1-t/re);s=(n=t*ie/re)/2}}oe.isSubplotConstrained&&ue||Ge("x"),oe.isSubplotConstrained&&se||Ge("y");var f=re-t,h=ie-n;!oe.isSubplotConstrained||se&&ue||(se?(s=o?0:t*ie/re,h=f*ie/re):(o=s?0:n*re/ie,f=h*re/ie)),Qe([o,s,f,h]),Ke(),e.emit("plotly_relayouting",ve)}function d(e,t,n){for(var r,i,a=1-t,o=0;o<e.length;o++){var s=e[o];if(!s.fixedrange){r=s,i=s._rl[a]+(s._rl[t]-s._rl[a])/z(n/s._length);var u=s.l2r(i);!1!==u&&void 0!==u&&(s.range[t]=u)}}return r._length*(r._rl[t]-i)/(r._rl[t]-r._rl[a])}}function Ge(e,t){for(var n=oe.isSubplotConstrained?{x:ee,y:Z}[e]:oe[e+"axes"],r=oe.isSubplotConstrained?{x:Z,y:ee}[e]:[],i=0;i<n.length;i++){var a=n[i],o=a._id,s=oe.xLinks[o]||oe.yLinks[o],u=r[0]||P[s]||H[s];u&&(t?(t[a._name+".range[0]"]=t[u._name+".range[0]"],t[a._name+".range[1]"]=t[u._name+".range[1]"]):a.range=u.range.slice())}}function Ke(){var t,n=[];function r(e){for(t=0;t<e.length;t++)e[t].fixedrange||n.push(e[t]._id)}for(ce&&(r(Z),r(ae.xaxes),r(oe.xaxes)),fe&&(r(ee),r(ae.yaxes),r(oe.yaxes)),ve={},t=0;t<n.length;t++){var i=n[t],a=T(e,i);d.drawOne(e,a,{skipTitle:!0}),ve[a._name+".range[0]"]=a.range[0],ve[a._name+".range[1]"]=a.range[1]}d.redrawComponents(e,n)}function Xe(){if(!e._transitioningWithDuration){var t=e._context.doubleClick,n=[];se&&(n=n.concat(Z)),ue&&(n=n.concat(ee)),oe.xaxes&&(n=n.concat(oe.xaxes)),oe.yaxes&&(n=n.concat(oe.yaxes));var r,i,a,s={};if("reset+autosize"===t)for(t="autosize",i=0;i<n.length;i++)if((r=n[i])._rangeInitial&&(r.range[0]!==r._rangeInitial[0]||r.range[1]!==r._rangeInitial[1])||!r._rangeInitial&&!r.autorange){t="reset";break}if("autosize"===t)for(i=0;i<n.length;i++)(r=n[i]).fixedrange||(s[r._name+".autorange"]=!0);else if("reset"===t)for((se||ae.isSubplotConstrained)&&(n=n.concat(ae.xaxes)),ue&&!ae.isSubplotConstrained&&(n=n.concat(ae.yaxes)),ae.isSubplotConstrained&&(se?ue||(n=n.concat(ee)):n=n.concat(Z)),i=0;i<n.length;i++)(r=n[i]).fixedrange||(r._rangeInitial?(a=r._rangeInitial,s[r._name+".range[0]"]=a[0],s[r._name+".range[1]"]=a[1]):s[r._name+".autorange"]=!0);e.emit("plotly_doubleclick",null),o.call("_guiRelayout",e,s)}}function $e(){Qe([0,0,re,ie]),s.syncOrAsync([x.previousPromises,function(){e._fullLayout._replotting=!1,o.call("_guiRelayout",e,ve)}],e)}function Qe(t){var n,r,i,a,u=e._fullLayout,l=u._plots,c=u._subplots.cartesian;if(de&&o.subplotsRegistry.splom.drag(e),he)for(n=0;n<c.length;n++)if(i=(r=l[c[n]]).xaxis,a=r.yaxis,r._scene){var h=s.simpleMap(i.range,i.r2l),d=s.simpleMap(a.range,a.r2l);r._scene.update({range:[h[0],d[0],h[1],d[1]]})}if((de||he)&&(_(e),w(e)),pe){var v=t[2]/I._length,y=t[3]/D._length;for(n=0;n<c.length;n++){i=(r=l[c[n]]).xaxis,a=r.yaxis;var m,b,x,T,k=(ce||oe.isSubplotConstrained)&&!i.fixedrange&&P[i._id],O=(fe||oe.isSubplotConstrained)&&!a.fixedrange&&H[a._id];if(k?(m=v,x=g||oe.isSubplotConstrained?t[0]:et(i,m)):oe.xaHash[i._id]?(m=v,x=t[0]*i._length/I._length):oe.yaHash[i._id]?(m=y,x="ns"===ue?-t[1]*i._length/D._length:et(i,m,{n:"top",s:"bottom"}[ue])):x=Ze(i,m=Je(i,v,y)),O?(b=y,T=p||oe.isSubplotConstrained?t[1]:et(a,b)):oe.yaHash[a._id]?(b=y,T=t[1]*a._length/D._length):oe.xaHash[a._id]?(b=v,T="ew"===se?-t[0]*a._length/I._length:et(a,b,{e:"right",w:"left"}[se])):T=Ze(a,b=Je(a,v,y)),m||b){m||(m=1),b||(b=1);var S=i._offset-x/m,A=a._offset-T/b;r.clipRect.call(f.setTranslate,x,T).call(f.setScale,m,b),r.plot.call(f.setTranslate,S,A).call(f.setScale,1/m,1/b),m===r.xScaleFactor&&b===r.yScaleFactor||(f.setPointGroupScale(r.zoomScalePts,m,b),f.setTextPointsScale(r.zoomScaleTxt,m,b)),f.hideOutsideRangePoints(r.clipOnAxisFalseTraces,r),r.xScaleFactor=m,r.yScaleFactor=b}}}}function Je(e,t,n){return e.fixedrange?0:ce&&ae.xaHash[e._id]?t:fe&&(ae.isSubplotConstrained?ae.xaHash:ae.yaHash)[e._id]?n:0}function Ze(e,t){return t?(e.range=e._r.slice(),A(e,t),et(e,t)):0}function et(e,t,n){return e._length*(1-t)*b[n||e.constraintoward||"middle"]}return p.length*g.length!==1&&Q(Te,We),Te}function P(e,t,n,r){var i=s.ensureSingle(e.draglayer,t,n,(function(t){t.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",e.id)}));return i.call(p,r),i.node()}function N(e,t,n,i,a,o,s){var u=P(e,"rect",t,n);return r.select(u).call(f.setRect,i,a,o,s),u}function j(e,t){for(var n=0;n<e.length;n++)if(!e[n].fixedrange)return t;return""}function L(e,t){var n,i=e.range[t],a=Math.abs(i-e.range[1-t]);return"date"===e.type?i:"log"===e.type?(n=Math.ceil(Math.max(0,-Math.log(a)/Math.LN10))+3,r.format("."+n+"g")(Math.pow(10,i))):(n=Math.floor(Math.log(Math.abs(i))/Math.LN10)-Math.floor(Math.log(a)/Math.LN10)+4,r.format("."+String(n)+"g")(i))}function R(e,t,n,r,i){for(var a=0;a<e.length;a++){var o=e[a];if(!o.fixedrange)if(o.rangebreaks){var s="y"===o._id.charAt(0),u=s?1-t:t,l=s?1-n:n;r[o._name+".range[0]"]=o.l2r(o.p2l(u*o._length)),r[o._name+".range[1]"]=o.l2r(o.p2l(l*o._length))}else{var c=o._rl[0],f=o._rl[1]-c;r[o._name+".range[0]"]=o.l2r(c+f*t),r[o._name+".range[1]"]=o.l2r(c+f*n)}}if(i&&i.length){var h=(t+(1-n))/2;R(i,h,1-h,r,[])}}function F(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(!r.fixedrange)if(r.rangebreaks){var i=0,a=r._length,o=(r.p2l(i+t)-r.p2l(i)+(r.p2l(a+t)-r.p2l(a)))/2;r.range=[r.l2r(r._rl[0]-o),r.l2r(r._rl[1]-o)]}else r.range=[r.l2r(r._rl[0]-t/r._m),r.l2r(r._rl[1]-t/r._m)]}}function z(e){return 1-(e>=0?Math.min(e,.9):1/(1/Math.max(e,-.3)+3.222))}function U(e,t,n){return e?"nsew"===e?n?"":"pan"===t?"move":"crosshair":e.toLowerCase()+"-resize":"pointer"}function q(e,t,n,r,i){return e.append("path").attr("class","zoombox").style({fill:t>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",u(n,r)).attr("d",i+"Z")}function B(e,t,n){return e.append("path").attr("class","zoombox-corners").style({fill:c.background,stroke:c.defaultLine,"stroke-width":1,opacity:0}).attr("transform",u(t,n)).attr("d","M0,0Z")}function V(e,t,n,r,i,a){e.attr("d",r+"M"+n.l+","+n.t+"v"+n.h+"h"+n.w+"v-"+n.h+"h-"+n.w+"Z"),H(e,t,i,a)}function H(e,t,n,r){n||(e.transition().style("fill",r>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),t.transition().style("opacity",1).duration(200))}function W(e){r.select(e).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function Y(e){I&&e.data&&e._context.showTips&&(s.notifier(s._(e,"Double-click to zoom back out"),"long"),I=!1)}function G(e,t){return"M"+(e.l-.5)+","+(t-M-.5)+"h-3v"+(2*M+1)+"h3ZM"+(e.r+.5)+","+(t-M-.5)+"h3v"+(2*M+1)+"h-3Z"}function K(e,t){return"M"+(t-M-.5)+","+(e.t-.5)+"v-3h"+(2*M+1)+"v3ZM"+(t-M-.5)+","+(e.b+.5)+"v3h"+(2*M+1)+"v-3Z"}function X(e){var t=Math.floor(Math.min(e.b-e.t,e.r-e.l,M)/2);return"M"+(e.l-3.5)+","+(e.t-.5+t)+"h3v"+-t+"h"+t+"v-3h-"+(t+3)+"ZM"+(e.r+3.5)+","+(e.t-.5+t)+"h-3v"+-t+"h"+-t+"v-3h"+(t+3)+"ZM"+(e.r+3.5)+","+(e.b+.5-t)+"h-3v"+t+"h"+-t+"v3h"+(t+3)+"ZM"+(e.l-3.5)+","+(e.b+.5-t)+"h3v"+t+"h"+t+"v3h-"+(t+3)+"Z"}function $(e,t,n,r,i){for(var a,o,u,l,c=!1,f={},h={},d=(i||{}).xaHash,p=(i||{}).yaHash,v=0;v<t.length;v++){var g=t[v];for(a in n)if(g[a]){for(u in g)i&&(d[u]||p[u])||("x"===u.charAt(0)?n:r)[u]||(f[u]=a);for(o in r)i&&(d[o]||p[o])||!g[o]||(c=!0)}for(o in r)if(g[o])for(l in g)i&&(d[l]||p[l])||("x"===l.charAt(0)?n:r)[l]||(h[l]=o)}c&&(s.extendFlat(f,h),h={});var y={},m=[];for(u in f){var b=T(e,u);m.push(b),y[b._id]=b}var _={},w=[];for(l in h){var x=T(e,l);w.push(x),_[x._id]=x}return{xaHash:y,yaHash:_,xaxes:m,yaxes:w,xLinks:f,yLinks:h,isSubplotConstrained:c}}function Q(e,t){if(a){var n=void 0!==e.onwheel?"wheel":"mousewheel";e._onwheel&&e.removeEventListener(n,e._onwheel),e._onwheel=t,e.addEventListener(n,t,{passive:!1})}else void 0!==e.onwheel?e.onwheel=t:void 0!==e.onmousewheel?e.onmousewheel=t:e.isAddedWheelEvent||(e.isAddedWheelEvent=!0,e.addEventListener("wheel",t,{passive:!1}))}function J(e){var t=[];for(var n in e)t.push(e[n]);return t}t.exports={makeDragBox:D,makeDragger:P,makeRectDragger:N,makeZoombox:q,makeCorners:B,updateZoombox:V,xyCorners:X,transitionZoombox:H,removeZoombox:W,showDoubleClickNotifier:Y,attachWheelEventHandler:Q}},{"../../components/color":100,"../../components/dragelement":119,"../../components/dragelement/helpers":118,"../../components/drawing":122,"../../components/fx":140,"../../constants/alignment":205,"../../lib":230,"../../lib/clear_gl_canvases":218,"../../lib/setcursor":250,"../../lib/svg_text_utils":252,"../../plot_api/subroutines":266,"../../registry":313,"../plots":311,"./axes":276,"./axis_ids":280,"./constants":283,"./scale_zoom":295,"./select":296,"@plotly/d3":11,"has-passive-events":47,tinycolor2:65}],286:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../../components/fx"),a=e("../../components/dragelement"),o=e("../../lib/setcursor"),s=e("./dragbox").makeDragBox,u=e("./constants").DRAGGERSIZE;n.initInteractions=function(e){var t=e._fullLayout;if(e._context.staticPlot)r.select(e).selectAll(".drag").remove();else if(t._has("cartesian")||t._has("splom")){Object.keys(t._plots||{}).sort((function(e,n){if((t._plots[e].mainplot&&!0)===(t._plots[n].mainplot&&!0)){var r=e.split("y"),i=n.split("y");return r[0]===i[0]?Number(r[1]||1)-Number(i[1]||1):Number(r[0]||1)-Number(i[0]||1)}return t._plots[e].mainplot?1:-1})).forEach((function(n){var r=t._plots[n],o=r.xaxis,l=r.yaxis;if(!r.mainplot){var c=s(e,r,o._offset,l._offset,o._length,l._length,"ns","ew");c.onmousemove=function(t){e._fullLayout._rehover=function(){e._fullLayout._hoversubplot===n&&e._fullLayout._plots[n]&&i.hover(e,t,n)},i.hover(e,t,n),e._fullLayout._lasthover=c,e._fullLayout._hoversubplot=n},c.onmouseout=function(t){e._dragging||(e._fullLayout._hoversubplot=null,a.unhover(e,t))},e._context.showAxisDragHandles&&(s(e,r,o._offset-u,l._offset-u,u,u,"n","w"),s(e,r,o._offset+o._length,l._offset-u,u,u,"n","e"),s(e,r,o._offset-u,l._offset+l._length,u,u,"s","w"),s(e,r,o._offset+o._length,l._offset+l._length,u,u,"s","e"))}if(e._context.showAxisDragHandles){if(n===o._mainSubplot){var f=o._mainLinePosition;"top"===o.side&&(f-=u),s(e,r,o._offset+.1*o._length,f,.8*o._length,u,"","ew"),s(e,r,o._offset,f,.1*o._length,u,"","w"),s(e,r,o._offset+.9*o._length,f,.1*o._length,u,"","e")}if(n===l._mainSubplot){var h=l._mainLinePosition;"right"!==l.side&&(h-=u),s(e,r,h,l._offset+.1*l._length,u,.8*l._length,"ns",""),s(e,r,h,l._offset+.9*l._length,u,.1*l._length,"s",""),s(e,r,h,l._offset,u,.1*l._length,"n","")}}}));var o=t._hoverlayer.node();o.onmousemove=function(n){n.target=e._fullLayout._lasthover,i.hover(e,n,t._hoversubplot)},o.onclick=function(t){t.target=e._fullLayout._lasthover,i.click(e,t)},o.onmousedown=function(t){e._fullLayout._lasthover.onmousedown(t)},n.updateFx(e)}},n.updateFx=function(e){var t=e._fullLayout,n="pan"===t.dragmode?"move":"crosshair";o(t._draggers,n)}},{"../../components/dragelement":119,"../../components/fx":140,"../../lib/setcursor":250,"./constants":283,"./dragbox":285,"@plotly/d3":11}],287:[function(e,t,n){"use strict";function r(e){var t=e._fullLayout._zoomlayer;t&&t.selectAll(".outline-controllers").remove()}function i(e){var t=e._fullLayout._zoomlayer;t&&t.selectAll(".select-outline").remove(),e._fullLayout._drawing=!1}t.exports={clearOutlineControllers:r,clearSelect:i}},{}],288:[function(e,t,n){"use strict";var r=e("../../lib").strTranslate;function i(e,t){switch(e.type){case"log":return e.p2d(t);case"date":return e.p2r(t,0,e.calendar);default:return e.p2r(t)}}function a(e,t){switch(e.type){case"log":return e.d2p(t);case"date":return e.r2p(t,0,e.calendar);default:return e.r2p(t)}}function o(e){var t="y"===e._id.charAt(0)?1:0;return function(n){return i(e,n[t])}}function s(e){return r(e.xaxis._offset,e.yaxis._offset)}t.exports={p2r:i,r2p:a,axValue:o,getTransform:s}},{"../../lib":230}],289:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../lib"),a=e("./axis_ids");t.exports=function(e){return function(t,n){var o=t[e];if(Array.isArray(o))for(var s=r.subplotsRegistry.cartesian,u=s.idRegex,l=n._subplots,c=l.xaxis,f=l.yaxis,h=l.cartesian,d=n._has("cartesian")||n._has("gl2d"),p=0;p<o.length;p++){var v=o[p];if(i.isPlainObject(v)){var g=a.cleanId(v.xref,"x",!1),y=a.cleanId(v.yref,"y",!1),m=u.x.test(g),b=u.y.test(y);if(m||b){d||i.pushUnique(n._basePlotModules,s);var _=!1;m&&-1===c.indexOf(g)&&(c.push(g),_=!0),b&&-1===f.indexOf(y)&&(f.push(y),_=!0),_&&m&&b&&h.push(g+y)}}}}}},{"../../lib":230,"../../registry":313,"./axis_ids":280}],290:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../../registry"),a=e("../../lib"),o=e("../plots"),s=e("../../components/drawing"),u=e("../get_data").getModuleCalcData,l=e("./axis_ids"),c=e("./constants"),f=e("../../constants/xmlns_namespaces"),h=a.ensureSingle;function d(e,t,n){return a.ensureSingle(e,t,n,(function(e){e.datum(n)}))}function p(e,t,n,a,o){for(var l,f,h,d=c.traceLayerClasses,p=e._fullLayout,v=p._modules,g=[],y=[],m=0;m<v.length;m++){var b=(l=v[m]).name,_=i.modules[b].categories;if(_.svg){var w=l.layerName||b+"layer",x=l.plot;h=(f=u(n,x))[0],n=f[1],h.length&&g.push({i:d.indexOf(w),className:w,plotMethod:x,cdModule:h}),_.zoomScale&&y.push("."+w)}}g.sort((function(e,t){return e.i-t.i}));var T=t.plot.selectAll("g.mlayer").data(g,(function(e){return e.className}));if(T.enter().append("g").attr("class",(function(e){return e.className})).classed("mlayer",!0).classed("rangeplot",t.isRangePlot),T.exit().remove(),T.order(),T.each((function(n){var i=r.select(this),u=n.className;n.plotMethod(e,t,n.cdModule,i,a,o),-1===c.clipOnAxisFalseQuery.indexOf("."+u)&&s.setClipUrl(i,t.layerClipId,e)})),p._has("scattergl")&&(l=i.getModule("scattergl"),h=u(n,l)[0],l.plot(e,t,h)),!e._context.staticPlot&&(t._hasClipOnAxisFalse&&(t.clipOnAxisFalseTraces=t.plot.selectAll(c.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),y.length)){var k=t.plot.selectAll(y.join(",")).selectAll(".trace");t.zoomScalePts=k.selectAll("path.point"),t.zoomScaleTxt=k.selectAll(".textpoint")}}function v(e){var t,n,r,i,a,o,s=e._fullLayout,u=s._subplots.cartesian,l=u.length,c=[],f=[];for(t=0;t<l;t++){r=u[t],a=(i=s._plots[r]).xaxis,o=i.yaxis;var h=a._mainAxis,d=o._mainAxis,p=h._id+d._id,v=s._plots[p];i.overlays=[],p!==r&&v?(i.mainplot=p,i.mainplotinfo=v,f.push(r)):(i.mainplot=void 0,i.mainplotinfo=void 0,c.push(r))}for(t=0;t<f.length;t++)r=f[t],(i=s._plots[r]).mainplotinfo.overlays.push(i);var g=c.concat(f),y=new Array(l);for(t=0;t<l;t++){r=g[t],a=(i=s._plots[r]).xaxis,o=i.yaxis;var m=[r,a.layer,o.layer,a.overlaying||"",o.overlaying||""];for(n=0;n<i.overlays.length;n++)m.push(i.overlays[n].id);y[t]=m}return y}function g(e,t){var n=t.plotgroup,r=t.id,i=c.layerValue2layerClass[t.xaxis.layer],a=c.layerValue2layerClass[t.yaxis.layer],o=e._fullLayout._hasOnlyLargeSploms;if(t.mainplot){var s=t.mainplotinfo,u=s.plotgroup,f=r+"-x",p=r+"-y";t.gridlayer=s.gridlayer,t.zerolinelayer=s.zerolinelayer,h(s.overlinesBelow,"path",f),h(s.overlinesBelow,"path",p),h(s.overaxesBelow,"g",f),h(s.overaxesBelow,"g",p),t.plot=h(s.overplot,"g",r),h(s.overlinesAbove,"path",f),h(s.overlinesAbove,"path",p),h(s.overaxesAbove,"g",f),h(s.overaxesAbove,"g",p),t.xlines=u.select(".overlines-"+i).select("."+f),t.ylines=u.select(".overlines-"+a).select("."+p),t.xaxislayer=u.select(".overaxes-"+i).select("."+f),t.yaxislayer=u.select(".overaxes-"+a).select("."+p)}else if(o)t.xlines=h(n,"path","xlines-above"),t.ylines=h(n,"path","ylines-above"),t.xaxislayer=h(n,"g","xaxislayer-above"),t.yaxislayer=h(n,"g","yaxislayer-above");else{var v=h(n,"g","layer-subplot");t.shapelayer=h(v,"g","shapelayer"),t.imagelayer=h(v,"g","imagelayer"),t.gridlayer=h(n,"g","gridlayer"),t.zerolinelayer=h(n,"g","zerolinelayer"),h(n,"path","xlines-below"),h(n,"path","ylines-below"),t.overlinesBelow=h(n,"g","overlines-below"),h(n,"g","xaxislayer-below"),h(n,"g","yaxislayer-below"),t.overaxesBelow=h(n,"g","overaxes-below"),t.plot=h(n,"g","plot"),t.overplot=h(n,"g","overplot"),t.xlines=h(n,"path","xlines-above"),t.ylines=h(n,"path","ylines-above"),t.overlinesAbove=h(n,"g","overlines-above"),h(n,"g","xaxislayer-above"),h(n,"g","yaxislayer-above"),t.overaxesAbove=h(n,"g","overaxes-above"),t.xlines=n.select(".xlines-"+i),t.ylines=n.select(".ylines-"+a),t.xaxislayer=n.select(".xaxislayer-"+i),t.yaxislayer=n.select(".yaxislayer-"+a)}o||(d(t.gridlayer,"g",t.xaxis._id),d(t.gridlayer,"g",t.yaxis._id),t.gridlayer.selectAll("g").map((function(e){return e[0]})).sort(l.idSort)),t.xlines.style("fill","none").classed("crisp",!0),t.ylines.style("fill","none").classed("crisp",!0)}function y(e,t){if(e){var n={};for(var i in e.each((function(e){var i=e[0];r.select(this).remove(),m(i,t),n[i]=!0})),t._plots)for(var a=t._plots[i].overlays||[],o=0;o<a.length;o++){var s=a[o];n[s.id]&&s.plot.selectAll(".trace").remove()}}}function m(e,t){t._draggers.selectAll("g."+e).remove(),t._defs.select("#clip"+t._uid+e+"plot").remove()}n.name="cartesian",n.attr=["xaxis","yaxis"],n.idRoot=["x","y"],n.idRegex=c.idRegex,n.attrRegex=c.attrRegex,n.attributes=e("./attributes"),n.layoutAttributes=e("./layout_attributes"),n.supplyLayoutDefaults=e("./layout_defaults"),n.transitionAxes=e("./transition_axes"),n.finalizeSubplots=function(e,t){var n,r,i,o=t._subplots,s=o.xaxis,u=o.yaxis,f=o.cartesian,h=f.concat(o.gl2d||[]),d={},p={};for(n=0;n<h.length;n++){var v=h[n].split("y");d[v[0]]=1,p["y"+v[1]]=1}for(n=0;n<s.length;n++)d[r=s[n]]||(i=(e[l.id2name(r)]||{}).anchor,c.idRegex.y.test(i)||(i="y"),f.push(r+i),h.push(r+i),p[i]||(p[i]=1,a.pushUnique(u,i)));for(n=0;n<u.length;n++)p[i=u[n]]||(r=(e[l.id2name(i)]||{}).anchor,c.idRegex.x.test(r)||(r="x"),f.push(r+i),h.push(r+i),d[r]||(d[r]=1,a.pushUnique(s,r)));if(!h.length){for(var g in r="",i="",e)c.attrRegex.test(g)&&("x"===g.charAt(0)?(!r||+g.substr(5)<+r.substr(5))&&(r=g):(!i||+g.substr(5)<+i.substr(5))&&(i=g));r=r?l.name2id(r):"x",i=i?l.name2id(i):"y",s.push(r),u.push(i),f.push(r+i)}},n.plot=function(e,t,n,r){var i,a=e._fullLayout,o=a._subplots.cartesian,s=e.calcdata;if(!Array.isArray(t))for(t=[],i=0;i<s.length;i++)t.push(i);for(i=0;i<o.length;i++){for(var u,l=o[i],c=a._plots[l],f=[],h=0;h<s.length;h++){var d=s[h],v=d[0].trace;v.xaxis+v.yaxis===l&&((-1!==t.indexOf(v.index)||v.carpet)&&(u&&u[0].trace.xaxis+u[0].trace.yaxis===l&&-1!==["tonextx","tonexty","tonext"].indexOf(v.fill)&&-1===f.indexOf(u)&&f.push(u),f.push(d)),u=d)}p(e,c,f,n,r)}},n.clean=function(e,t,n,r){var i,a,o,s=r._plots||{},u=t._plots||{},c=r._subplots||{};if(r._hasOnlyLargeSploms&&!t._hasOnlyLargeSploms)for(o in s)(i=s[o]).plotgroup&&i.plotgroup.remove();var f=r._has&&r._has("gl"),h=t._has&&t._has("gl");if(f&&!h)for(o in s)(i=s[o])._scene&&i._scene.destroy();if(c.xaxis&&c.yaxis){var d=l.listIds({_fullLayout:r});for(a=0;a<d.length;a++){var p=d[a];t[l.id2name(p)]||r._infolayer.selectAll(".g-"+p+"title").remove()}}var v=r._has&&r._has("cartesian"),g=t._has&&t._has("cartesian");if(v&&!g)y(r._cartesianlayer.selectAll(".subplot"),r),r._defs.selectAll(".axesclip").remove(),delete r._axisConstraintGroups,delete r._axisMatchGroups;else if(c.cartesian)for(a=0;a<c.cartesian.length;a++){var b=c.cartesian[a];if(!u[b]){var _="."+b+",."+b+"-x,."+b+"-y";r._cartesianlayer.selectAll(_).remove(),m(b,r)}}},n.drawFramework=function(e){var t=e._fullLayout,n=v(e),i=t._cartesianlayer.selectAll(".subplot").data(n,String);i.enter().append("g").attr("class",(function(e){return"subplot "+e[0]})),i.order(),i.exit().call(y,t),i.each((function(n){var i=n[0],a=t._plots[i];a.plotgroup=r.select(this),g(e,a),a.draglayer=h(t._draggers,"g",i)}))},n.rangePlot=function(e,t,n){g(e,t),p(e,t,n),o.style(e)},n.toSVG=function(e){var t=e._fullLayout._glimages,n=r.select(e).selectAll(".svg-container");function i(){var e=this,n=e.toDataURL("image/png");t.append("svg:image").attr({xmlns:f.svg,"xlink:href":n,preserveAspectRatio:"none",x:0,y:0,width:e.width,height:e.height})}n.filter((function(e,t){return t===n.size()-1})).selectAll(".gl-canvas-context, .gl-canvas-focus").each(i)},n.updateFx=e("./graph_interact").updateFx},{"../../components/drawing":122,"../../constants/xmlns_namespaces":211,"../../lib":230,"../../registry":313,"../get_data":307,"../plots":311,"./attributes":274,"./axis_ids":280,"./constants":283,"./graph_interact":286,"./layout_attributes":291,"./layout_defaults":292,"./transition_axes":301,"@plotly/d3":11}],291:[function(e,t,n){"use strict";var r=e("../font_attributes"),i=e("../../components/color/attributes"),a=e("../../components/drawing/attributes").dash,o=e("../../lib/extend").extendFlat,s=e("../../plot_api/plot_template").templatedArray,u=e("../../plots/cartesian/axis_format_attributes").descriptionWithDates,l=e("../../constants/numerical").ONEDAY,c=e("./constants"),f=c.HOUR_PATTERN,h=c.WEEKDAY_PATTERN;t.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:i.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:r({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[c.idRegex.x.toString(),c.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[c.idRegex.x.toString(),c.idRegex.y.toString()],editType:"calc"},rangebreaks:s("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[h,f,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:l},editType:"calc"}),tickmode:{valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},nticks:{valType:"integer",min:0,dflt:0,editType:"ticks"},tick0:{valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},dtick:{valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},tickvals:{valType:"data_array",editType:"ticks"},ticktext:{valType:"data_array",editType:"ticks"},ticks:{valType:"enumerated",values:["outside","inside",""],editType:"ticks"},tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:{valType:"number",min:0,dflt:5,editType:"ticks"},tickwidth:{valType:"number",min:0,dflt:1,editType:"ticks"},tickcolor:{valType:"color",dflt:i.defaultLine,editType:"ticks"},showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},automargin:{valType:"boolean",dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:o({},a,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:r({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:u("tick label")},tickformatstops:s("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:u("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:i.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:{valType:"boolean",editType:"ticks"},gridcolor:{valType:"color",dflt:i.lightLine,editType:"ticks"},gridwidth:{valType:"number",min:0,dflt:1,editType:"ticks"},zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:i.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:i.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",c.idRegex.x.toString(),c.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",c.idRegex.x.toString(),c.idRegex.y.toString()],editType:"plot"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:r({editType:"ticks"})}}},{"../../components/color/attributes":99,"../../components/drawing/attributes":121,"../../constants/numerical":210,"../../lib/extend":224,"../../plot_api/plot_template":265,"../../plots/cartesian/axis_format_attributes":279,"../font_attributes":305,"./constants":283}],292:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../components/color"),a=e("../../components/fx/helpers").isUnifiedHover,o=e("../../components/fx/hovermode_defaults"),s=e("../../plot_api/plot_template"),u=e("../layout_attributes"),l=e("./layout_attributes"),c=e("./type_defaults"),f=e("./axis_defaults"),h=e("./constraints"),d=e("./position_defaults"),p=e("./axis_ids"),v=p.id2name,g=p.name2id,y=e("./constants").AX_ID_PATTERN,m=e("../../registry"),b=m.traceIs,_=m.getComponentMethod;function w(e,t,n){Array.isArray(e[t])?e[t].push(n):e[t]=[n]}t.exports=function(e,t,n){var m,x,T=t.autotypenumbers,k={},O={},S={},A={},E={},C={},M={},I={},D={},P={};for(m=0;m<n.length;m++){var N=n[m];if(b(N,"cartesian")||b(N,"gl2d")){var j,L;if(N.xaxis)j=v(N.xaxis),w(k,j,N);else if(N.xaxes)for(x=0;x<N.xaxes.length;x++)w(k,v(N.xaxes[x]),N);if(N.yaxis)L=v(N.yaxis),w(k,L,N);else if(N.yaxes)for(x=0;x<N.yaxes.length;x++)w(k,v(N.yaxes[x]),N);"funnel"===N.type?"h"===N.orientation?(j&&(O[j]=!0),L&&(M[L]=!0)):L&&(S[L]=!0):"image"===N.type?(L&&(I[L]=!0),j&&(I[j]=!0)):(L&&(E[L]=!0,C[L]=!0),b(N,"carpet")&&("carpet"!==N.type||N._cheater)||j&&(A[j]=!0)),"carpet"===N.type&&N._cheater&&j&&(O[j]=!0),b(N,"2dMap")&&(D[j]=!0,D[L]=!0),b(N,"oriented")&&(P["h"===N.orientation?L:j]=!0)}}var R=t._subplots,F=R.xaxis,z=R.yaxis,U=r.simpleMap(F,v),q=r.simpleMap(z,v),B=U.concat(q),V=i.background;F.length&&z.length&&(V=r.coerce(e,t,u,"plot_bgcolor"));var H,W,Y,G,K,X=i.combine(V,t.paper_bgcolor);function $(){var e=k[H]||[];K._traceIndices=e.map((function(e){return e._expandedIndex})),K._annIndices=[],K._shapeIndices=[],K._imgIndices=[],K._subplotsWith=[],K._counterAxes=[],K._name=K._attr=H,K._id=W}function Q(e,t){return r.coerce(G,K,l,e,t)}function J(e,t){return r.coerce2(G,K,l,e,t)}function Z(e){return"x"===e?z:F}function ee(t,n){for(var r="x"===t?U:q,i=[],a=0;a<r.length;a++){var o=r[a];o===n||(e[o]||{}).overlaying||i.push(g(o))}return i}var te={x:Z("x"),y:Z("y")},ne=te.x.concat(te.y),re={},ie=[];function ae(){var e=G.matches;y.test(e)&&-1===ne.indexOf(e)&&(re[e]=G.type,ie=Object.keys(re))}var oe=o(e,t),se=a(oe);for(m=0;m<B.length;m++){H=B[m],W=g(H),Y=H.charAt(0),r.isPlainObject(e[H])||(e[H]={}),G=e[H],K=s.newContainer(t,H,Y+"axis"),$();var ue="x"===Y&&!A[H]&&O[H]||"y"===Y&&!E[H]&&S[H],le="y"===Y&&(!C[H]&&M[H]||I[H]),ce={letter:Y,font:t.font,outerTicks:D[H],showGrid:!P[H],data:k[H]||[],bgColor:X,calendar:t.calendar,automargin:!0,visibleDflt:ue,reverseDflt:le,autotypenumbersDflt:T,splomStash:((t._splomAxes||{})[Y]||{})[W]};Q("uirevision",t.uirevision),c(G,K,Q,ce),f(G,K,Q,ce,t);var fe=se&&Y===oe.charAt(0),he=J("spikecolor",se?K.color:void 0),de=J("spikethickness",se?1.5:void 0),pe=J("spikedash",se?"dot":void 0),ve=J("spikemode",se?"across":void 0),ge=J("spikesnap");Q("showspikes",!!fe||!!he||!!de||!!pe||!!ve||!!ge)||(delete K.spikecolor,delete K.spikethickness,delete K.spikedash,delete K.spikemode,delete K.spikesnap),d(G,K,Q,{letter:Y,counterAxes:te[Y],overlayableAxes:ee(Y,H),grid:t.grid}),Q("title.standoff"),ae(),K._input=G}for(m=0;m<ie.length;){W=ie[m++],Y=(H=v(W)).charAt(0),r.isPlainObject(e[H])||(e[H]={}),G=e[H],K=s.newContainer(t,H,Y+"axis"),$();var ye={letter:Y,font:t.font,outerTicks:D[H],showGrid:!P[H],data:[],bgColor:X,calendar:t.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:T,splomStash:((t._splomAxes||{})[Y]||{})[W]};Q("uirevision",t.uirevision),K.type=re[W]||"linear",f(G,K,Q,ye,t),d(G,K,Q,{letter:Y,counterAxes:te[Y],overlayableAxes:ee(Y,H),grid:t.grid}),Q("fixedrange"),ae(),K._input=G}var me=_("rangeslider","handleDefaults"),be=_("rangeselector","handleDefaults");for(m=0;m<U.length;m++)H=U[m],G=e[H],K=t[H],me(e,t,H),"date"===K.type&&be(G,K,t,q,K.calendar),Q("fixedrange");for(m=0;m<q.length;m++){H=q[m],G=e[H],K=t[H];var _e=t[v(K.anchor)];Q("fixedrange",_("rangeslider","isVisible")(_e))}h.handleDefaults(e,t,{axIds:ne.concat(ie).sort(p.idSort),axHasImage:I})}},{"../../components/color":100,"../../components/fx/helpers":136,"../../components/fx/hovermode_defaults":139,"../../lib":230,"../../plot_api/plot_template":265,"../../registry":313,"../layout_attributes":309,"./axis_defaults":278,"./axis_ids":280,"./constants":283,"./constraints":284,"./layout_attributes":291,"./position_defaults":294,"./type_defaults":302}],293:[function(e,t,n){"use strict";var r=e("tinycolor2").mix,i=e("../../components/color/attributes").lightFraction,a=e("../../lib");t.exports=function(e,t,n,o){var s=(o=o||{}).dfltColor;function u(n,r){return a.coerce2(e,t,o.attributes,n,r)}var l=u("linecolor",s),c=u("linewidth");n("showline",o.showLine||!!l||!!c)||(delete t.linecolor,delete t.linewidth);var f=u("gridcolor",r(s,o.bgColor,o.blend||i).toRgbString()),h=u("gridwidth");if(n("showgrid",o.showGrid||!!f||!!h)||(delete t.gridcolor,delete t.gridwidth),!o.noZeroLine){var d=u("zerolinecolor",s),p=u("zerolinewidth");n("zeroline",o.showGrid||!!d||!!p)||(delete t.zerolinecolor,delete t.zerolinewidth)}}},{"../../components/color/attributes":99,"../../lib":230,tinycolor2:65}],294:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib");t.exports=function(e,t,n,a){var o,s,u,l,c=a.counterAxes||[],f=a.overlayableAxes||[],h=a.letter,d=a.grid;d&&(s=d._domains[h][d._axisMap[t._id]],o=d._anchors[t._id],s&&(u=d[h+"side"].split(" ")[0],l=d.domain[h]["right"===u||"top"===u?1:0])),s=s||[0,1],o=o||(r(e.position)?"free":c[0]||"free"),u=u||("x"===h?"bottom":"left"),l=l||0,"free"===i.coerce(e,t,{anchor:{valType:"enumerated",values:["free"].concat(c),dflt:o}},"anchor")&&n("position",l),i.coerce(e,t,{side:{valType:"enumerated",values:"x"===h?["bottom","top"]:["left","right"],dflt:u}},"side");var p=!1;if(f.length&&(p=i.coerce(e,t,{overlaying:{valType:"enumerated",values:[!1].concat(f),dflt:!1}},"overlaying")),!p){var v=n("domain",s);v[0]>v[1]-1/4096&&(t.domain=s),i.noneOrAll(e.domain,t.domain,s)}return n("layer"),t}},{"../../lib":230,"fast-isnumeric":15}],295:[function(e,t,n){"use strict";var r=e("../../constants/alignment").FROM_BL;t.exports=function(e,t,n){void 0===n&&(n=r[e.constraintoward||"center"]);var i=[e.r2l(e.range[0]),e.r2l(e.range[1])],a=i[0]+(i[1]-i[0])*n;e.range=e._input.range=[e.l2r(a+(i[0]-a)*t),e.l2r(a+(i[1]-a)*t)],e.setScale()}},{"../../constants/alignment":205}],296:[function(e,t,n){"use strict";var r=e("polybooljs"),i=e("../../registry"),a=e("../../components/drawing").dashStyle,o=e("../../components/color"),s=e("../../components/fx"),u=e("../../components/fx/helpers").makeEventData,l=e("../../components/dragelement/helpers"),c=l.freeMode,f=l.rectMode,h=l.drawMode,d=l.openMode,p=l.selectMode,v=e("../../components/shapes/draw_newshape/display_outlines"),g=e("../../components/shapes/draw_newshape/helpers").handleEllipse,y=e("../../components/shapes/draw_newshape/newshapes"),m=e("../../lib"),b=e("../../lib/polygon"),_=e("../../lib/throttle"),w=e("./axis_ids").getFromId,x=e("../../lib/clear_gl_canvases"),T=e("../../plot_api/subroutines").redrawReglTraces,k=e("./constants"),O=k.MINSELECT,S=b.filter,A=b.tester,E=e("./handle_outline").clearSelect,C=e("./helpers"),M=C.p2r,I=C.axValue,D=C.getTransform;function P(e,t,n,r,i){var u=c(i),l=f(i),y=d(i),b=h(i),w=p(i),x="drawcircle"===i,T="drawline"===i||x,E=r.gd,C=E._fullLayout,P=C._zoomlayer,j=r.element.getBoundingClientRect(),L=r.plotinfo,R=D(L),B=t-j.left,V=n-j.top;C._calcInverseTransform(E);var H=m.apply3DTransform(C._invTransform)(B,V);B=H[0],V=H[1];var W,Y,Q,J,Z,ee,te,ne=C._invScaleX,re=C._invScaleY,ie=B,ae=V,oe="M"+B+","+V,se=r.xaxes[0]._length,ue=r.yaxes[0]._length,le=r.xaxes.concat(r.yaxes),ce=e.altKey&&!(h(i)&&y);z(e,E,r),u&&(W=S([[B,V]],k.BENDPX));var fe=P.selectAll("path.select-outline-"+L.id).data(b?[0]:[1,2]),he=C.newshape;fe.enter().append("path").attr("class",(function(e){return"select-outline select-outline-"+e+" select-outline-"+L.id})).style(b?{opacity:he.opacity/2,fill:y?void 0:he.fillcolor,stroke:he.line.color,"stroke-dasharray":a(he.line.dash,he.line.width),"stroke-width":he.line.width+"px"}:{}).attr("fill-rule",he.fillrule).classed("cursor-move",!!b).attr("transform",R).attr("d",oe+"Z");var de,pe=P.append("path").attr("class","zoombox-corners").style({fill:o.background,stroke:o.defaultLine,"stroke-width":1}).attr("transform",R).attr("d","M0,0Z"),ve=C._uid+k.SELECTID,ge=[],ye=q(E,r.xaxes,r.yaxes,r.subplot);function me(e,t){return e-t}de=L.fillRangeItems?L.fillRangeItems:l?function(e,t){var n=e.range={};for(Z=0;Z<le.length;Z++){var r=le[Z],i=r._id.charAt(0);n[r._id]=[M(r,t[i+"min"]),M(r,t[i+"max"])].sort(me)}}:function(e,t,n){var r=e.lassoPoints={};for(Z=0;Z<le.length;Z++){var i=le[Z];r[i._id]=n.filtered.map(I(i))}},r.moveFn=function(e,t){ie=Math.max(0,Math.min(se,ne*e+B)),ae=Math.max(0,Math.min(ue,re*t+V));var n=Math.abs(ie-B),i=Math.abs(ae-V);if(l){var a,o,s;if(w){var c=C.selectdirection;switch(a="any"===c?i<Math.min(.6*n,O)?"h":n<Math.min(.6*i,O)?"v":"d":c){case"h":o=x?ue/2:0,s=ue;break;case"v":o=x?se/2:0,s=se}}if(b)switch(C.newshape.drawdirection){case"vertical":a="h",o=x?ue/2:0,s=ue;break;case"horizontal":a="v",o=x?se/2:0,s=se;break;case"ortho":n<i?(a="h",o=V,s=ae):(a="v",o=B,s=ie);break;default:a="d"}"h"===a?((J=T?g(x,[ie,o],[ie,s]):[[B,o],[B,s],[ie,s],[ie,o]]).xmin=T?ie:Math.min(B,ie),J.xmax=T?ie:Math.max(B,ie),J.ymin=Math.min(o,s),J.ymax=Math.max(o,s),pe.attr("d","M"+J.xmin+","+(V-O)+"h-4v"+2*O+"h4ZM"+(J.xmax-1)+","+(V-O)+"h4v"+2*O+"h-4Z")):"v"===a?((J=T?g(x,[o,ae],[s,ae]):[[o,V],[o,ae],[s,ae],[s,V]]).xmin=Math.min(o,s),J.xmax=Math.max(o,s),J.ymin=T?ae:Math.min(V,ae),J.ymax=T?ae:Math.max(V,ae),pe.attr("d","M"+(B-O)+","+J.ymin+"v-4h"+2*O+"v4ZM"+(B-O)+","+(J.ymax-1)+"v4h"+2*O+"v-4Z")):"d"===a&&((J=T?g(x,[B,V],[ie,ae]):[[B,V],[B,ae],[ie,ae],[ie,V]]).xmin=Math.min(B,ie),J.xmax=Math.max(B,ie),J.ymin=Math.min(V,ae),J.ymax=Math.max(V,ae),pe.attr("d","M0,0Z"))}else u&&(W.addPt([ie,ae]),J=W.filtered);r.selectionDefs&&r.selectionDefs.length?(Q=K(r.mergedPolygons,J,ce),J.subtract=ce,Y=F(r.selectionDefs.concat([J]))):(Q=[J],Y=A(J)),v($(Q,y),fe,r),w&&_.throttle(ve,k.SELECTDELAY,(function(){var e;ge=[];var t,n=[];for(Z=0;Z<ye.length;Z++)if(t=(ee=ye[Z])._module.selectPoints(ee,Y),n.push(t),e=X(t,ee),ge.length)for(var i=0;i<e.length;i++)ge.push(e[i]);else ge=e;G(E,ye,te={points:ge}),de(te,J,W),r.gd.emit("plotly_selecting",te)}))},r.clickFn=function(e,t){if(pe.remove(),E._fullLayout._activeShapeIndex>=0)E._fullLayout._deactivateShape(E);else if(!b){var n=C.clickmode;_.done(ve).then((function(){if(_.clear(ve),2===e){for(fe.remove(),Z=0;Z<ye.length;Z++)(ee=ye[Z])._module.selectPoints(ee,!1);G(E,ye),U(r),E.emit("plotly_deselect",null)}else n.indexOf("select")>-1&&N(t,E,r.xaxes,r.yaxes,r.subplot,r,fe),"event"===n&&E.emit("plotly_selected",void 0);s.click(E,t)})).catch(m.error)}},r.doneFn=function(){pe.remove(),_.done(ve).then((function(){_.clear(ve),r.gd.emit("plotly_selected",te),J&&r.selectionDefs&&(J.subtract=ce,r.selectionDefs.push(J),r.mergedPolygons.length=0,[].push.apply(r.mergedPolygons,Q)),r.doneFnCompleted&&r.doneFnCompleted(ge)})).catch(m.error),b&&U(r)}}function N(e,t,n,r,i,a,o){var s,u,l,c,f,h,p,g,y,m=t._hoverdata,b=t._fullLayout.clickmode.indexOf("event")>-1,_=[];if(B(m)){z(e,t,a);var w=V(m,s=q(t,n,r,i));if(w.pointNumbers.length>0?W(s,w):Y(s)&&(h=H(w))){for(o&&o.remove(),y=0;y<s.length;y++)(u=s[y])._module.selectPoints(u,!1);G(t,s),U(a),b&&t.emit("plotly_deselect",null)}else{for(p=e.shiftKey&&(void 0!==h?h:H(w)),l=j(w.pointNumber,w.searchInfo,p),c=F(a.selectionDefs.concat([l])),y=0;y<s.length;y++)if(f=X(s[y]._module.selectPoints(s[y],c),s[y]),_.length)for(var x=0;x<f.length;x++)_.push(f[x]);else _=f;if(G(t,s,g={points:_}),l&&a&&a.selectionDefs.push(l),o){var T=a.mergedPolygons,k=d(a.dragmode);v($(T,k),o,a)}b&&t.emit("plotly_selected",g)}}}function j(e,t,n){return{pointNumber:e,searchInfo:t,subtract:n}}function L(e){return"pointNumber"in e&&"searchInfo"in e}function R(e){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(t,n,r,i){var a=e.searchInfo.cd[0].trace._expandedIndex;return i.cd[0].trace._expandedIndex===a&&r===e.pointNumber},isRect:!1,degenerate:!1,subtract:e.subtract}}function F(e){for(var t=[],n=L(e[0])?0:e[0][0][0],r=n,i=L(e[0])?0:e[0][0][1],a=i,o=0;o<e.length;o++)if(L(e[o]))t.push(R(e[o]));else{var s=b.tester(e[o]);s.subtract=e[o].subtract,t.push(s),n=Math.min(n,s.xmin),r=Math.max(r,s.xmax),i=Math.min(i,s.ymin),a=Math.max(a,s.ymax)}function u(e,n,r,i){for(var a=!1,o=0;o<t.length;o++)t[o].contains(e,n,r,i)&&(a=!1===t[o].subtract);return a}return{xmin:n,xmax:r,ymin:i,ymax:a,pts:[],contains:u,isRect:!1,degenerate:!1}}function z(e,t,n){t._fullLayout._drawing=!1;var r=t._fullLayout,i=n.plotinfo,a=n.dragmode,o=r._lastSelectedSubplot&&r._lastSelectedSubplot===i.id,s=(e.shiftKey||e.altKey)&&!(h(a)&&d(a));o&&s&&i.selection&&i.selection.selectionDefs&&!n.selectionDefs?(n.selectionDefs=i.selection.selectionDefs,n.mergedPolygons=i.selection.mergedPolygons):s&&i.selection||U(n),o||(E(t),r._lastSelectedSubplot=i.id)}function U(e){var t=e.dragmode,n=e.plotinfo,r=e.gd;if(r._fullLayout._activeShapeIndex>=0&&r._fullLayout._deactivateShape(r),h(t)){var a=r._fullLayout._zoomlayer.selectAll(".select-outline-"+n.id);if(a&&r._fullLayout._drawing){var o=y(a,e);o&&i.call("_guiRelayout",r,{shapes:o}),r._fullLayout._drawing=!1}}n.selection={},n.selection.selectionDefs=e.selectionDefs=[],n.selection.mergedPolygons=e.mergedPolygons=[]}function q(e,t,n,r){var i,a,o,s=[],u=t.map((function(e){return e._id})),l=n.map((function(e){return e._id}));for(o=0;o<e.calcdata.length;o++)if(!0===(a=(i=e.calcdata[o])[0].trace).visible&&a._module&&a._module.selectPoints)if(!r||a.subplot!==r&&a.geo!==r)if("splom"===a.type&&a._xaxes[u[0]]&&a._yaxes[l[0]]){var c=h(a._module,i,t[0],n[0]);c.scene=e._fullLayout._splomScenes[a.uid],s.push(c)}else if("sankey"===a.type){var f=h(a._module,i,t[0],n[0]);s.push(f)}else{if(-1===u.indexOf(a.xaxis))continue;if(-1===l.indexOf(a.yaxis))continue;s.push(h(a._module,i,w(e,a.xaxis),w(e,a.yaxis)))}else s.push(h(a._module,i,t[0],n[0]));return s;function h(e,t,n,r){return{_module:e,cd:t,xaxis:n,yaxis:r}}}function B(e){return e&&Array.isArray(e)&&!0!==e[0].hoverOnBox}function V(e,t){var n,r,i=e[0],a=-1,o=[];for(r=0;r<t.length;r++)if(n=t[r],i.fullData._expandedIndex===n.cd[0].trace._expandedIndex){if(!0===i.hoverOnBox)break;void 0!==i.pointNumber?a=i.pointNumber:void 0!==i.binNumber&&(a=i.binNumber,o=i.pointNumbers);break}return{pointNumber:a,pointNumbers:o,searchInfo:n}}function H(e){var t=e.searchInfo.cd[0].trace,n=e.pointNumber,r=e.pointNumbers,i=r.length>0?r[0]:n;return!!t.selectedpoints&&t.selectedpoints.indexOf(i)>-1}function W(e,t){var n,r,i,a=[];for(i=0;i<e.length;i++)(n=e[i]).cd[0].trace.selectedpoints&&n.cd[0].trace.selectedpoints.length>0&&a.push(n);if(1===a.length&&a[0]===t.searchInfo&&(r=t.searchInfo.cd[0].trace).selectedpoints.length===t.pointNumbers.length){for(i=0;i<t.pointNumbers.length;i++)if(r.selectedpoints.indexOf(t.pointNumbers[i])<0)return!1;return!0}return!1}function Y(e){var t,n,r=0;for(n=0;n<e.length;n++)if((t=e[n].cd[0].trace).selectedpoints){if(t.selectedpoints.length>1)return!1;if((r+=t.selectedpoints.length)>1)return!1}return 1===r}function G(e,t,n){var r,a,o,s;for(r=0;r<t.length;r++){var u=t[r].cd[0].trace._fullInput,l=e._fullLayout._tracePreGUI[u.uid]||{};void 0===l.selectedpoints&&(l.selectedpoints=u._input.selectedpoints||null)}if(n){var c=n.points||[];for(r=0;r<t.length;r++)(s=t[r].cd[0].trace)._input.selectedpoints=s._fullInput.selectedpoints=[],s._fullInput!==s&&(s.selectedpoints=[]);for(r=0;r<c.length;r++){var f=c[r],h=f.data,d=f.fullData;f.pointIndices?([].push.apply(h.selectedpoints,f.pointIndices),s._fullInput!==s&&[].push.apply(d.selectedpoints,f.pointIndices)):(h.selectedpoints.push(f.pointIndex),s._fullInput!==s&&d.selectedpoints.push(f.pointIndex))}}else for(r=0;r<t.length;r++)delete(s=t[r].cd[0].trace).selectedpoints,delete s._input.selectedpoints,s._fullInput!==s&&delete s._fullInput.selectedpoints;var p=!1;for(r=0;r<t.length;r++){s=(o=(a=t[r]).cd)[0].trace,i.traceIs(s,"regl")&&(p=!0);var v=a._module,g=v.styleOnSelect||v.style;g&&(g(e,o,o[0].node3),o[0].nodeRangePlot3&&g(e,o,o[0].nodeRangePlot3))}p&&(x(e),T(e))}function K(e,t,n){return n?r.difference({regions:e,inverted:!1},{regions:[t],inverted:!1}).regions:r.union({regions:e,inverted:!1},{regions:[t],inverted:!1}).regions}function X(e,t){if(Array.isArray(e))for(var n=t.cd,r=t.cd[0].trace,i=0;i<e.length;i++)e[i]=u(e[i],r,n);return e}function $(e,t){for(var n=[],r=0;r<e.length;r++){n[r]=[];for(var i=0;i<e[r].length;i++){n[r][i]=[],n[r][i][0]=i?"L":"M";for(var a=0;a<e[r][i].length;a++)n[r][i].push(e[r][i][a])}t||n[r].push(["Z",n[r][0][1],n[r][0][2]])}return n}t.exports={prepSelect:P,clearSelect:E,clearSelectionsCache:U,selectOnClick:N}},{"../../components/color":100,"../../components/dragelement/helpers":118,"../../components/drawing":122,"../../components/fx":140,"../../components/fx/helpers":136,"../../components/shapes/draw_newshape/display_outlines":188,"../../components/shapes/draw_newshape/helpers":189,"../../components/shapes/draw_newshape/newshapes":190,"../../lib":230,"../../lib/clear_gl_canvases":218,"../../lib/polygon":242,"../../lib/throttle":253,"../../plot_api/subroutines":266,"../../registry":313,"./axis_ids":280,"./constants":283,"./handle_outline":287,"./helpers":288,polybooljs:55}],297:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("d3-time-format").utcFormat,a=e("fast-isnumeric"),o=e("../../lib"),s=o.cleanNumber,u=o.ms2DateTime,l=o.dateTime2ms,c=o.ensureNumber,f=o.isArrayOrTypedArray,h=e("../../constants/numerical"),d=h.FP_SAFE,p=h.BADNUM,v=h.LOG_CLIP,g=h.ONEWEEK,y=h.ONEDAY,m=h.ONEHOUR,b=h.ONEMIN,_=h.ONESEC,w=e("./axis_ids"),x=e("./constants"),T=x.HOUR_PATTERN,k=x.WEEKDAY_PATTERN;function O(e){return Math.pow(10,e)}function S(e){return null!==e&&void 0!==e}t.exports=function(e,t){t=t||{};var n=e._id||"x",h=n.charAt(0);function A(t,n){if(t>0)return Math.log(t)/Math.LN10;if(t<=0&&n&&e.range&&2===e.range.length){var r=e.range[0],i=e.range[1];return.5*(r+i-2*v*Math.abs(r-i))}return p}function E(t,n,r,i){if((i||{}).msUTC&&a(t))return+t;var s=l(t,r||e.calendar);if(s===p){if(!a(t))return p;t=+t;var u=Math.floor(10*o.mod(t+.05,1)),c=Math.round(t-u/10);s=l(new Date(c))+u/10}return s}function C(t,n,r){return u(t,n,r||e.calendar)}function M(t){return e._categories[Math.round(t)]}function I(t){if(S(t)){if(void 0===e._categoriesMap&&(e._categoriesMap={}),void 0!==e._categoriesMap[t])return e._categoriesMap[t];e._categories.push("number"===typeof t?String(t):t);var n=e._categories.length-1;return e._categoriesMap[t]=n,n}return p}function D(e,t){for(var n=new Array(t),r=0;r<t;r++){var i=(e[0]||[])[r],a=(e[1]||[])[r];n[r]=P([i,a])}return n}function P(t){if(e._categoriesMap)return e._categoriesMap[t]}function N(e){var t=P(e);return void 0!==t?t:a(e)?+e:void 0}function j(e){return a(e)?+e:P(e)}function L(e,t,n){return r.round(n+t*e,2)}function R(e,t,n){return(e-n)/t}var F=function(t){return a(t)?L(t,e._m,e._b):p},z=function(t){return R(t,e._m,e._b)};if(e.rangebreaks){var U="y"===h;F=function(t){if(!a(t))return p;var n=e._rangebreaks.length;if(!n)return L(t,e._m,e._b);var r=U;e.range[0]>e.range[1]&&(r=!r);for(var i=r?-1:1,o=i*t,s=0,u=0;u<n;u++){var l=i*e._rangebreaks[u].min,c=i*e._rangebreaks[u].max;if(o<l)break;if(!(o>c)){s=o<(l+c)/2?u:u+1;break}s=u+1}var f=e._B[s]||0;return isFinite(f)?L(t,e._m2,f):0},z=function(t){var n=e._rangebreaks.length;if(!n)return R(t,e._m,e._b);for(var r=0,i=0;i<n&&!(t<e._rangebreaks[i].pmin);i++)t>e._rangebreaks[i].pmax&&(r=i+1);return R(t,e._m2,e._B[r])}}e.c2l="log"===e.type?A:c,e.l2c="log"===e.type?O:c,e.l2p=F,e.p2l=z,e.c2p="log"===e.type?function(e,t){return F(A(e,t))}:F,e.p2c="log"===e.type?function(e){return O(z(e))}:z,-1!==["linear","-"].indexOf(e.type)?(e.d2r=e.r2d=e.d2c=e.r2c=e.d2l=e.r2l=s,e.c2d=e.c2r=e.l2d=e.l2r=c,e.d2p=e.r2p=function(t){return e.l2p(s(t))},e.p2d=e.p2r=z,e.cleanPos=c):"log"===e.type?(e.d2r=e.d2l=function(e,t){return A(s(e),t)},e.r2d=e.r2c=function(e){return O(s(e))},e.d2c=e.r2l=s,e.c2d=e.l2r=c,e.c2r=A,e.l2d=O,e.d2p=function(t,n){return e.l2p(e.d2r(t,n))},e.p2d=function(e){return O(z(e))},e.r2p=function(t){return e.l2p(s(t))},e.p2r=z,e.cleanPos=c):"date"===e.type?(e.d2r=e.r2d=o.identity,e.d2c=e.r2c=e.d2l=e.r2l=E,e.c2d=e.c2r=e.l2d=e.l2r=C,e.d2p=e.r2p=function(t,n,r){return e.l2p(E(t,0,r))},e.p2d=e.p2r=function(e,t,n){return C(z(e),t,n)},e.cleanPos=function(t){return o.cleanDate(t,p,e.calendar)}):"category"===e.type?(e.d2c=e.d2l=I,e.r2d=e.c2d=e.l2d=M,e.d2r=e.d2l_noadd=N,e.r2c=function(t){var n=j(t);return void 0!==n?n:e.fraction2r(.5)},e.l2r=e.c2r=c,e.r2l=j,e.d2p=function(t){return e.l2p(e.r2c(t))},e.p2d=function(e){return M(z(e))},e.r2p=e.d2p,e.p2r=z,e.cleanPos=function(e){return"string"===typeof e&&""!==e?e:c(e)}):"multicategory"===e.type&&(e.r2d=e.c2d=e.l2d=M,e.d2r=e.d2l_noadd=N,e.r2c=function(t){var n=N(t);return void 0!==n?n:e.fraction2r(.5)},e.r2c_just_indices=P,e.l2r=e.c2r=c,e.r2l=N,e.d2p=function(t){return e.l2p(e.r2c(t))},e.p2d=function(e){return M(z(e))},e.r2p=e.d2p,e.p2r=z,e.cleanPos=function(e){return Array.isArray(e)||"string"===typeof e&&""!==e?e:c(e)},e.setupMultiCategory=function(r){var i,a,s=e._traceIndices,u=e._matchGroup;if(u&&0===e._categories.length)for(var l in u)if(l!==n){var c=t[w.id2name(l)];s=s.concat(c._traceIndices)}var d=[[0,{}],[0,{}]],p=[];for(i=0;i<s.length;i++){var v=r[s[i]];if(h in v){var g=v[h],y=v._length||o.minRowLength(g);if(f(g[0])&&f(g[1]))for(a=0;a<y;a++){var m=g[0][a],b=g[1][a];S(m)&&S(b)&&(p.push([m,b]),m in d[0][1]||(d[0][1][m]=d[0][0]++),b in d[1][1]||(d[1][1][b]=d[1][0]++))}}}for(p.sort((function(e,t){var n=d[0][1],r=n[e[0]]-n[t[0]];if(r)return r;var i=d[1][1];return i[e[1]]-i[t[1]]})),i=0;i<p.length;i++)I(p[i])}),e.fraction2r=function(t){var n=e.r2l(e.range[0]),r=e.r2l(e.range[1]);return e.l2r(n+t*(r-n))},e.r2fraction=function(t){var n=e.r2l(e.range[0]),r=e.r2l(e.range[1]);return(e.r2l(t)-n)/(r-n)},e.cleanRange=function(t,n){n||(n={}),t||(t="range");var r,i,s=o.nestedProperty(e,t).get();if(i=(i="date"===e.type?o.dfltRange(e.calendar):"y"===h?x.DFLTRANGEY:n.dfltRange||x.DFLTRANGEX).slice(),"tozero"!==e.rangemode&&"nonnegative"!==e.rangemode||(i[0]=0),s&&2===s.length)for("date"!==e.type||e.autorange||(s[0]=o.cleanDate(s[0],p,e.calendar),s[1]=o.cleanDate(s[1],p,e.calendar)),r=0;r<2;r++)if("date"===e.type){if(!o.isDateTime(s[r],e.calendar)){e[t]=i;break}if(e.r2l(s[0])===e.r2l(s[1])){var u=o.constrain(e.r2l(s[0]),o.MIN_MS+1e3,o.MAX_MS-1e3);s[0]=e.l2r(u-1e3),s[1]=e.l2r(u+1e3);break}}else{if(!a(s[r])){if(!a(s[1-r])){e[t]=i;break}s[r]=s[1-r]*(r?10:.1)}if(s[r]<-d?s[r]=-d:s[r]>d&&(s[r]=d),s[0]===s[1]){var l=Math.max(1,Math.abs(1e-6*s[0]));s[0]-=l,s[1]+=l}}else o.nestedProperty(e,t).set(i)},e.setScale=function(n){var r=t._size;if(e.overlaying){var i=w.getFromId({_fullLayout:t},e.overlaying);e.domain=i.domain}var a=n&&e._r?"_r":"range",o=e.calendar;e.cleanRange(a);var s,u,l=e.r2l(e[a][0],o),c=e.r2l(e[a][1],o),f="y"===h;if(f?(e._offset=r.t+(1-e.domain[1])*r.h,e._length=r.h*(e.domain[1]-e.domain[0]),e._m=e._length/(l-c),e._b=-e._m*c):(e._offset=r.l+e.domain[0]*r.w,e._length=r.w*(e.domain[1]-e.domain[0]),e._m=e._length/(c-l),e._b=-e._m*l),e._rangebreaks=[],e._lBreaks=0,e._m2=0,e._B=[],e.rangebreaks&&(e._rangebreaks=e.locateBreaks(Math.min(l,c),Math.max(l,c)),e._rangebreaks.length)){for(s=0;s<e._rangebreaks.length;s++)u=e._rangebreaks[s],e._lBreaks+=Math.abs(u.max-u.min);var d=f;l>c&&(d=!d),d&&e._rangebreaks.reverse();var p=d?-1:1;for(e._m2=p*e._length/(Math.abs(c-l)-e._lBreaks),e._B.push(-e._m2*(f?c:l)),s=0;s<e._rangebreaks.length;s++)u=e._rangebreaks[s],e._B.push(e._B[e._B.length-1]-p*e._m2*(u.max-u.min));for(s=0;s<e._rangebreaks.length;s++)(u=e._rangebreaks[s]).pmin=F(u.min),u.pmax=F(u.max)}if(!isFinite(e._m)||!isFinite(e._b)||e._length<0)throw t._replotting=!1,new Error("Something went wrong with axis scaling")},e.maskBreaks=function(t){var n,r,i,a,u,l=e.rangebreaks||[];l._cachedPatterns||(l._cachedPatterns=l.map((function(t){return t.enabled&&t.bounds?o.simpleMap(t.bounds,t.pattern?s:e.d2c):null}))),l._cachedValues||(l._cachedValues=l.map((function(t){return t.enabled&&t.values?o.simpleMap(t.values,e.d2c).sort(o.sorterAsc):null})));for(var c=0;c<l.length;c++){var f=l[c];if(f.enabled)if(f.bounds){var h=f.pattern;switch(r=(n=l._cachedPatterns[c])[0],i=n[1],h){case k:a=(u=new Date(t)).getUTCDay(),r>i&&(i+=7,a<r&&(a+=7));break;case T:a=(u=new Date(t)).getUTCHours()+(u.getUTCMinutes()/60+u.getUTCSeconds()/3600+u.getUTCMilliseconds()/36e5),r>i&&(i+=24,a<r&&(a+=24));break;case"":a=t}if(a>=r&&a<i)return p}else for(var d=l._cachedValues[c],v=0;v<d.length;v++)if(i=(r=d[v])+f.dvalue,t>=r&&t<i)return p}return t},e.locateBreaks=function(t,n){var r,i,a,u,l=[];if(!e.rangebreaks)return l;var c=e.rangebreaks.slice().sort((function(e,t){return e.pattern===k&&t.pattern===T?-1:t.pattern===k&&e.pattern===T?1:0})),f=function(e,r){if((e=o.constrain(e,t,n))!==(r=o.constrain(r,t,n))){for(var i=!0,a=0;a<l.length;a++){var s=l[a];e<s.max&&r>=s.min&&(e<s.min&&(s.min=e),r>s.max&&(s.max=r),i=!1)}i&&l.push({min:e,max:r})}};for(r=0;r<c.length;r++){var h=c[r];if(h.enabled)if(h.bounds){var d=t,p=n;h.pattern&&(d=Math.floor(d)),a=(i=o.simpleMap(h.bounds,h.pattern?s:e.r2l))[0],u=i[1];var v,w,x=new Date(d);switch(h.pattern){case k:w=g,v=(u-a+(u<a?7:0))*y,d+=a*y-(x.getUTCDay()*y+x.getUTCHours()*m+x.getUTCMinutes()*b+x.getUTCSeconds()*_+x.getUTCMilliseconds());break;case T:w=y,v=(u-a+(u<a?24:0))*m,d+=a*m-(x.getUTCHours()*m+x.getUTCMinutes()*b+x.getUTCSeconds()*_+x.getUTCMilliseconds());break;default:d=Math.min(i[0],i[1]),v=w=(p=Math.max(i[0],i[1]))-d}for(var O=d;O<p;O+=w)f(O,O+v)}else for(var S=o.simpleMap(h.values,e.d2c),A=0;A<S.length;A++)f(a=S[A],u=a+h.dvalue)}return l.sort((function(e,t){return e.min-t.min})),l},e.makeCalcdata=function(t,n,r){var i,a,s,u,l=e.type,c="date"===l&&t[n+"calendar"];if(n in t){if(i=t[n],u=t._length||o.minRowLength(i),o.isTypedArray(i)&&("linear"===l||"log"===l)){if(u===i.length)return i;if(i.subarray)return i.subarray(0,u)}if("multicategory"===l)return D(i,u);for(a=new Array(u),s=0;s<u;s++)a[s]=e.d2c(i[s],0,c,r)}else{var f=n+"0"in t?e.d2c(t[n+"0"],0,c):0,h=t["d"+n]?Number(t["d"+n]):1;for(i=t[{x:"y",y:"x"}[n]],u=t._length||i.length,a=new Array(u),s=0;s<u;s++)a[s]=f+s*h}if(e.rangebreaks)for(s=0;s<u;s++)a[s]=e.maskBreaks(a[s]);return a},e.isValidRange=function(t){return Array.isArray(t)&&2===t.length&&a(e.r2l(t[0]))&&a(e.r2l(t[1]))},e.isPtWithinRange=function(t,n){var r=e.c2l(t[h],null,n),i=e.r2l(e.range[0]),a=e.r2l(e.range[1]);return i<a?i<=r&&r<=a:a<=r&&r<=i},e._emptyCategories=function(){e._categories=[],e._categoriesMap={}},e.clearCalc=function(){var n=e._matchGroup;if(n){var r=null,i=null;for(var a in n){var o=t[w.id2name(a)];if(o._categories){r=o._categories,i=o._categoriesMap;break}}r&&i?(e._categories=r,e._categoriesMap=i):e._emptyCategories()}else e._emptyCategories();if(e._initialCategories)for(var s=0;s<e._initialCategories.length;s++)I(e._initialCategories[s])},e.sortByInitialCategories=function(){var r=[];if(e._emptyCategories(),e._initialCategories)for(var i=0;i<e._initialCategories.length;i++)I(e._initialCategories[i]);r=r.concat(e._traceIndices);var a=e._matchGroup;for(var o in a)if(n!==o){var s=t[w.id2name(o)];s._categories=e._categories,s._categoriesMap=e._categoriesMap,r=r.concat(s._traceIndices)}return r};var q=t._d3locale;"date"===e.type&&(e._dateFormat=q?q.timeFormat:i,e._extraFormat=t._extraFormat),e._separators=t.separators,e._numFormat=q?q.numberFormat:r.format,delete e._minDtick,delete e._forceTick0}},{"../../constants/numerical":210,"../../lib":230,"./axis_ids":280,"./constants":283,"@plotly/d3":11,"d3-time-format":13,"fast-isnumeric":15}],298:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../components/color").contrast,a=e("./layout_attributes"),o=e("../array_container_defaults");function s(e,t,n,r,i){var a=l(e);n("tickprefix")&&n("showtickprefix",a),n("ticksuffix",i.tickSuffixDflt)&&n("showticksuffix",a)}function u(e,t,n,s,u){var f=l(e);if(n("tickprefix")&&n("showtickprefix",f),n("ticksuffix",u.tickSuffixDflt)&&n("showticksuffix",f),n("showticklabels")){var h=u.font||{},d=t.color,p=-1!==(t.ticklabelposition||"").indexOf("inside")?i(u.bgColor):d&&d!==a.color.dflt?d:h.color;if(r.coerceFont(n,"tickfont",{family:h.family,size:h.size,color:p}),n("tickangle"),"category"!==s){var v=n("tickformat");o(e,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:c}),t.tickformatstops.length||delete t.tickformatstops,v||"date"===s||(n("showexponent",f),n("exponentformat"),n("minexponent"),n("separatethousands"))}}}function l(e){var t=["showexponent","showtickprefix","showticksuffix"].filter((function(t){return void 0!==e[t]})),n=function(n){return e[n]===e[t[0]]};if(t.every(n)||1===t.length)return e[t[0]]}function c(e,t){function n(n,i){return r.coerce(e,t,a.tickformatstops,n,i)}n("enabled")&&(n("dtickrange"),n("value"))}t.exports=function(e,t,n,r,i,a){a&&1!==a.pass||s(e,t,n,r,i),a&&2!==a.pass||u(e,t,n,r,i)}},{"../../components/color":100,"../../lib":230,"../array_container_defaults":271,"./layout_attributes":291}],299:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./layout_attributes");t.exports=function(e,t,n,a){var o=r.coerce2(e,t,i,"ticklen"),s=r.coerce2(e,t,i,"tickwidth"),u=r.coerce2(e,t,i,"tickcolor",t.color);n("ticks",a.outerTicks||o||s||u?"outside":"")||(delete t.ticklen,delete t.tickwidth,delete t.tickcolor)}},{"../../lib":230,"./layout_attributes":291}],300:[function(e,t,n){"use strict";var r=e("./clean_ticks"),i=e("../../lib").isArrayOrTypedArray;t.exports=function(e,t,n,a){function o(n){var r=e[n];return void 0!==r?r:(t._template||{})[n]}var s=o("tick0"),u=o("dtick"),l=o("tickvals"),c=n("tickmode",i(l)?"array":u?"linear":"auto");if("auto"===c)n("nticks");else if("linear"===c){var f=t.dtick=r.dtick(u,a);t.tick0=r.tick0(s,a,t.calendar,f)}else"multicategory"!==a&&(void 0===n("tickvals")?t.tickmode="auto":n("ticktext"))}},{"../../lib":230,"./clean_ticks":282}],301:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../../registry"),a=e("../../lib"),o=e("../../components/drawing"),s=e("./axes");t.exports=function(e,t,n,u){var l=e._fullLayout;if(0!==t.length){var c,f,h,d;u&&(c=u());var p=r.ease(n.easing);return e._transitionData._interruptCallbacks.push((function(){return window.cancelAnimationFrame(d),d=null,m()})),f=Date.now(),d=window.requestAnimationFrame(b),Promise.resolve()}function v(e){var t=e.xaxis,n=e.yaxis;l._defs.select("#"+e.clipId+"> rect").call(o.setTranslate,0,0).call(o.setScale,1,1),e.plot.call(o.setTranslate,t._offset,n._offset).call(o.setScale,1,1);var r=e.plot.selectAll(".scatterlayer .trace");r.selectAll(".point").call(o.setPointGroupScale,1,1),r.selectAll(".textpoint").call(o.setTextPointsScale,1,1),r.call(o.hideOutsideRangePoints,e)}function g(t,n){var r=t.plotinfo,i=r.xaxis,u=r.yaxis,l=i._length,c=u._length,f=!!t.xr1,h=!!t.yr1,d=[];if(f){var p=a.simpleMap(t.xr0,i.r2l),v=a.simpleMap(t.xr1,i.r2l),g=p[1]-p[0],y=v[1]-v[0];d[0]=(p[0]*(1-n)+n*v[0]-p[0])/(p[1]-p[0])*l,d[2]=l*(1-n+n*y/g),i.range[0]=i.l2r(p[0]*(1-n)+n*v[0]),i.range[1]=i.l2r(p[1]*(1-n)+n*v[1])}else d[0]=0,d[2]=l;if(h){var m=a.simpleMap(t.yr0,u.r2l),b=a.simpleMap(t.yr1,u.r2l),_=m[1]-m[0],w=b[1]-b[0];d[1]=(m[1]*(1-n)+n*b[1]-m[1])/(m[0]-m[1])*c,d[3]=c*(1-n+n*w/_),u.range[0]=i.l2r(m[0]*(1-n)+n*b[0]),u.range[1]=u.l2r(m[1]*(1-n)+n*b[1])}else d[1]=0,d[3]=c;s.drawOne(e,i,{skipTitle:!0}),s.drawOne(e,u,{skipTitle:!0}),s.redrawComponents(e,[i._id,u._id]);var x=f?l/d[2]:1,T=h?c/d[3]:1,k=f?d[0]:0,O=h?d[1]:0,S=f?d[0]/d[2]*l:0,A=h?d[1]/d[3]*c:0,E=i._offset-S,C=u._offset-A;r.clipRect.call(o.setTranslate,k,O).call(o.setScale,1/x,1/T),r.plot.call(o.setTranslate,E,C).call(o.setScale,x,T),o.setPointGroupScale(r.zoomScalePts,1/x,1/T),o.setTextPointsScale(r.zoomScaleTxt,1/x,1/T)}function y(){for(var n={},r=0;r<t.length;r++){var a=t[r],o=a.plotinfo.xaxis,s=a.plotinfo.yaxis;a.xr1&&(n[o._name+".range"]=a.xr1.slice()),a.yr1&&(n[s._name+".range"]=a.yr1.slice())}return c&&c(),i.call("relayout",e,n).then((function(){for(var e=0;e<t.length;e++)v(t[e].plotinfo)}))}function m(){for(var n={},r=0;r<t.length;r++){var a=t[r],o=a.plotinfo.xaxis,s=a.plotinfo.yaxis;a.xr0&&(n[o._name+".range"]=a.xr0.slice()),a.yr0&&(n[s._name+".range"]=a.yr0.slice())}return i.call("relayout",e,n).then((function(){for(var e=0;e<t.length;e++)v(t[e].plotinfo)}))}function b(){h=Date.now();for(var e=Math.min(1,(h-f)/n.duration),r=p(e),i=0;i<t.length;i++)g(t[i],r);h-f>n.duration?(y(),d=window.cancelAnimationFrame(b)):d=window.requestAnimationFrame(b)}s.redrawComponents(e)}},{"../../components/drawing":122,"../../lib":230,"../../registry":313,"./axes":276,"@plotly/d3":11}],302:[function(e,t,n){"use strict";var r=e("../../registry").traceIs,i=e("./axis_autotype");function a(e,t){if("-"===e.type){var n,a=e._id,l=a.charAt(0);-1!==a.indexOf("scene")&&(a=l);var c=o(t,a,l);if(c)if("histogram"!==c.type||l!=={v:"y",h:"x"}[c.orientation||"v"]){var f=l+"calendar",h=c[f],d={noMultiCategory:!r(c,"cartesian")||r(c,"noMultiCategory")};if("box"===c.type&&c._hasPreCompStats&&l==={h:"x",v:"y"}[c.orientation||"v"]&&(d.noMultiCategory=!0),d.autotypenumbers=e.autotypenumbers,u(c,l)){var p=s(c),v=[];for(n=0;n<t.length;n++){var g=t[n];r(g,"box-violin")&&(g[l+"axis"]||l)===a&&(void 0!==g[p]?v.push(g[p][0]):void 0!==g.name?v.push(g.name):v.push("text"),g[f]!==h&&(h=void 0))}e.type=i(v,h,d)}else if("splom"===c.type){var y=c.dimensions[c._axesDim[a]];y.visible&&(e.type=i(y.values,h,d))}else e.type=i(c[l]||[c[l+"0"]],h,d)}else e.type="linear"}}function o(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if("splom"===i.type&&i._length>0&&(i["_"+n+"axes"]||{})[t])return i;if((i[n+"axis"]||n)===t){if(u(i,n))return i;if((i[n]||[]).length||i[n+"0"])return i}}}function s(e){return{v:"x",h:"y"}[e.orientation||"v"]}function u(e,t){var n=s(e),i=r(e,"box-violin"),a=r(e._fullInput||{},"candlestick");return i&&!a&&t===n&&void 0===e[n]&&void 0===e[n+"0"]}t.exports=function(e,t,n,r){n("autotypenumbers",r.autotypenumbersDflt),"-"===n("type",(r.splomStash||{}).type)&&(a(t,r.data),"-"===t.type?t.type="linear":e.type=t.type)}},{"../../registry":313,"./axis_autotype":277}],303:[function(e,t,n){"use strict";var r=e("../registry"),i=e("../lib");function a(e,t,n){var r,a,o,s=!1;if("data"===t.type)r=e._fullData[null!==t.traces?t.traces[0]:0];else{if("layout"!==t.type)return!1;r=e._fullLayout}return a=i.nestedProperty(r,t.prop).get(),(o=n[t.type]=n[t.type]||{}).hasOwnProperty(t.prop)&&o[t.prop]!==a&&(s=!0),o[t.prop]=a,{changed:s,value:a}}function o(e,t){return Array.isArray(t[0])&&1===t[0].length&&-1!==["string","number"].indexOf(typeof t[0][0])?[{type:"layout",prop:"_currentFrame",value:t[0][0].toString()}]:[]}function s(e,t){var n=[],r=t[0],a={};if("string"===typeof r)a[r]=t[1];else{if(!i.isPlainObject(r))return n;a=r}return l(a,(function(e,t,r){n.push({type:"layout",prop:e,value:r})}),"",0),n}function u(e,t){var n,r,a,o,s=[];if(r=t[0],a=t[1],n=t[2],o={},"string"===typeof r)o[r]=a;else{if(!i.isPlainObject(r))return s;o=r,void 0===n&&(n=a)}return void 0===n&&(n=null),l(o,(function(t,r,i){var a,o;if(Array.isArray(i)){o=i.slice();var u=Math.min(o.length,e.data.length);n&&(u=Math.min(u,n.length)),a=[];for(var l=0;l<u;l++)a[l]=n?n[l]:l}else o=i,a=n?n.slice():null;if(null===a)Array.isArray(o)&&(o=o[0]);else if(Array.isArray(a)){if(!Array.isArray(o)){var c=o;o=[];for(var f=0;f<a.length;f++)o[f]=c}o.length=Math.min(a.length,o.length)}s.push({type:"data",prop:t,traces:a,value:o})}),"",0),s}function l(e,t,n,r){Object.keys(e).forEach((function(a){var o=e[a];if("_"!==a[0]){var s=n+(r>0?".":"")+a;i.isPlainObject(o)?l(o,t,s,r+1):t(s,a,o)}}))}n.manageCommandObserver=function(e,t,r,o){var s={},u=!0;t&&t._commandObserver&&(s=t._commandObserver),s.cache||(s.cache={}),s.lookupTable={};var l=n.hasSimpleAPICommandBindings(e,r,s.lookupTable);if(t&&t._commandObserver){if(l)return s;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,s}if(l){a(e,l,s.cache),s.check=function(){if(u){var t=a(e,l,s.cache);return t.changed&&o&&void 0!==s.lookupTable[t.value]&&(s.disable(),Promise.resolve(o({value:t.value,type:l.type,prop:l.prop,traces:l.traces,index:s.lookupTable[t.value]})).then(s.enable,s.enable)),t.changed}};for(var c=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],f=0;f<c.length;f++)e._internalOn(c[f],s.check);s.remove=function(){for(var t=0;t<c.length;t++)e._removeInternalListener(c[t],s.check)}}else i.log("Unable to automatically bind plot updates to API command"),s.lookupTable={},s.remove=function(){};return s.disable=function(){u=!1},s.enable=function(){u=!0},t&&(t._commandObserver=s),s},n.hasSimpleAPICommandBindings=function(e,t,r){var i,a,o=t.length;for(i=0;i<o;i++){var s,u=t[i],l=u.method,c=u.args;if(Array.isArray(c)||(c=[]),!l)return!1;var f=n.computeAPICommandBindings(e,l,c);if(1!==f.length)return!1;if(a){if((s=f[0]).type!==a.type)return!1;if(s.prop!==a.prop)return!1;if(Array.isArray(a.traces)){if(!Array.isArray(s.traces))return!1;s.traces.sort();for(var h=0;h<a.traces.length;h++)if(a.traces[h]!==s.traces[h])return!1}else if(s.prop!==a.prop)return!1}else a=f[0],Array.isArray(a.traces)&&a.traces.sort();var d=(s=f[0]).value;if(Array.isArray(d)){if(1!==d.length)return!1;d=d[0]}r&&(r[d]=i)}return a},n.executeAPICommand=function(e,t,n){if("skip"===t)return Promise.resolve();var a=r.apiMethodRegistry[t],o=[e];Array.isArray(n)||(n=[]);for(var s=0;s<n.length;s++)o.push(n[s]);return a.apply(null,o).catch((function(e){return i.warn("API call to Plotly."+t+" rejected.",e),Promise.reject(e)}))},n.computeAPICommandBindings=function(e,t,n){var r;switch(Array.isArray(n)||(n=[]),t){case"restyle":r=u(e,n);break;case"relayout":r=s(e,n);break;case"update":r=u(e,[n[0],n[2]]).concat(s(e,[n[1]]));break;case"animate":r=o(e,n);break;default:r=[]}return r}},{"../lib":230,"../registry":313}],304:[function(e,t,n){"use strict";var r=e("../lib/extend").extendFlat;n.attributes=function(e,t){t=t||{};var n={valType:"info_array",editType:(e=e||{}).editType,items:[{valType:"number",min:0,max:1,editType:e.editType},{valType:"number",min:0,max:1,editType:e.editType}],dflt:[0,1]},i=(e.name&&e.name,e.trace,t.description&&t.description,{x:r({},n,{}),y:r({},n,{}),editType:e.editType});return e.noGridCell||(i.row={valType:"integer",min:0,dflt:0,editType:e.editType},i.column={valType:"integer",min:0,dflt:0,editType:e.editType}),i},n.defaults=function(e,t,n,r){var i=r&&r.x||[0,1],a=r&&r.y||[0,1],o=t.grid;if(o){var s=n("domain.column");void 0!==s&&(s<o.columns?i=o._domains.x[s]:delete e.domain.column);var u=n("domain.row");void 0!==u&&(u<o.rows?a=o._domains.y[u]:delete e.domain.row)}var l=n("domain.x",i),c=n("domain.y",a);l[0]<l[1]||(e.domain.x=i.slice()),c[0]<c[1]||(e.domain.y=a.slice())}},{"../lib/extend":224}],305:[function(e,t,n){"use strict";t.exports=function(e){var t=e.editType,n=e.colorEditType;void 0===n&&(n=t);var r={family:{valType:"string",noBlank:!0,strict:!0,editType:t},size:{valType:"number",min:1,editType:t},color:{valType:"color",editType:n},editType:t};return e.arrayOk&&(r.family.arrayOk=!0,r.size.arrayOk=!0,r.color.arrayOk=!0),r}},{}],306:[function(e,t,n){"use strict";t.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},{}],307:[function(e,t,n){"use strict";var r=e("../registry"),i=e("./cartesian/constants").SUBPLOT_PATTERN;n.getSubplotCalcData=function(e,t,n){var i=r.subplotsRegistry[t];if(!i)return[];for(var a=i.attr,o=[],s=0;s<e.length;s++){var u=e[s];u[0].trace[a]===n&&o.push(u)}return o},n.getModuleCalcData=function(e,t){var n,i=[],a=[];if(!(n="string"===typeof t?r.getModule(t).plot:"function"===typeof t?t:t.plot))return[i,e];for(var o=0;o<e.length;o++){var s=e[o],u=s[0].trace;!0===u.visible&&0!==u._length&&(u._module.plot===n?i.push(s):a.push(s))}return[i,a]},n.getSubplotData=function(e,t,n){if(!r.subplotsRegistry[t])return[];var a,o,s,u=r.subplotsRegistry[t].attr,l=[];if("gl2d"===t){var c=n.match(i);o="x"+c[1],s="y"+c[2]}for(var f=0;f<e.length;f++)a=e[f],"gl2d"===t&&r.traceIs(a,"gl2d")?a[u[0]]===o&&a[u[1]]===s&&l.push(a):a[u]===n&&l.push(a);return l}},{"../registry":313,"./cartesian/constants":283}],308:[function(e,t,n){"use strict";function r(e,t){var n,r,i=[0,0,0,0];for(n=0;n<4;++n)for(r=0;r<4;++r)i[r]+=e[4*n+r]*t[n];return i}function i(e,t){return r(e.projection,r(e.view,r(e.model,[t[0],t[1],t[2],1])))}t.exports=i},{}],309:[function(e,t,n){"use strict";var r=e("./font_attributes"),i=e("./animation_attributes"),a=e("../components/color/attributes"),o=e("../components/shapes/draw_newshape/attributes"),s=e("./pad_attributes"),u=e("../lib/extend").extendFlat,l=r({editType:"calc"});l.family.dflt='"Open Sans", verdana, arial, sans-serif',l.size.dflt=12,l.color.dflt=a.defaultLine,t.exports={font:l,title:{text:{valType:"string",editType:"layoutstyle"},font:r({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:u(s({editType:"layoutstyle"}),{}),editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:a.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:a.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:a.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:o.newshape,activeshape:o.activeshape,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:u({},i.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:r({editType:"layoutstyle"})}}},{"../components/color/attributes":99,"../components/shapes/draw_newshape/attributes":185,"../lib/extend":224,"./animation_attributes":270,"./font_attributes":305,"./pad_attributes":310}],310:[function(e,t,n){"use strict";t.exports=function(e){var t=e.editType;return{t:{valType:"number",dflt:0,editType:t},r:{valType:"number",dflt:0,editType:t},b:{valType:"number",dflt:0,editType:t},l:{valType:"number",dflt:0,editType:t},editType:t}}},{}],311:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("d3-time-format").timeFormatLocale,a=e("fast-isnumeric"),o=e("../registry"),s=e("../plot_api/plot_schema"),u=e("../plot_api/plot_template"),l=e("../lib"),c=e("../components/color"),f=e("../constants/numerical").BADNUM,h=e("./cartesian/axis_ids"),d=e("./cartesian/handle_outline").clearSelect,p=e("./animation_attributes"),v=e("./frame_attributes"),g=e("../plots/get_data").getModuleCalcData,y=l.relinkPrivateKeys,m=l._,b=t.exports={};l.extendFlat(b,o),b.attributes=e("./attributes"),b.attributes.type.values=b.allTypes,b.fontAttrs=e("./font_attributes"),b.layoutAttributes=e("./layout_attributes"),b.fontWeight="normal";var _=b.transformsRegistry,w=e("./command");function x(e,t){t.text("");var n=t.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(e._context.linkText+" "+String.fromCharCode(187));if(e._context.sendData)n.on("click",(function(){b.sendDataToCloud(e)}));else{var r=window.location.pathname.split("/"),i=window.location.search;n.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+r[2].split(".")[0]+"/"+r[1]+i})}}b.executeAPICommand=w.executeAPICommand,b.computeAPICommandBindings=w.computeAPICommandBindings,b.manageCommandObserver=w.manageCommandObserver,b.hasSimpleAPICommandBindings=w.hasSimpleAPICommandBindings,b.redrawText=function(e){return e=l.getGraphDiv(e),new Promise((function(t){setTimeout((function(){e._fullLayout&&(o.getComponentMethod("annotations","draw")(e),o.getComponentMethod("legend","draw")(e),o.getComponentMethod("colorbar","draw")(e),t(b.previousPromises(e)))}),300)}))},b.resize=function(e){var t;e=l.getGraphDiv(e);var n=new Promise((function(n,r){e&&!l.isHidden(e)||r(new Error("Resize must be passed a displayed plot div element.")),e._redrawTimer&&clearTimeout(e._redrawTimer),e._resolveResize&&(t=e._resolveResize),e._resolveResize=n,e._redrawTimer=setTimeout((function(){if(!e.layout||e.layout.width&&e.layout.height||l.isHidden(e))n(e);else{delete e.layout.width,delete e.layout.height;var t=e.changed;e.autoplay=!0,o.call("relayout",e,{autosize:!0}).then((function(){e.changed=t,e._resolveResize===n&&(delete e._resolveResize,n(e))}))}}),100)}));return t&&t(n),n},b.previousPromises=function(e){if((e._promises||[]).length)return Promise.all(e._promises).then((function(){e._promises=[]}))},b.addLinks=function(e){if(e._context.showLink||e._context.showSources){var t=e._fullLayout,n=l.ensureSingle(t._paper,"text","js-plot-link-container",(function(e){e.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:c.defaultLine,"pointer-events":"all"}).each((function(){var e=r.select(this);e.append("tspan").classed("js-link-to-tool",!0),e.append("tspan").classed("js-link-spacer",!0),e.append("tspan").classed("js-sourcelinks",!0)}))})),i=n.node(),a={y:t._paper.attr("height")-9};document.body.contains(i)&&i.getComputedTextLength()>=t.width-20?(a["text-anchor"]="start",a.x=5):(a["text-anchor"]="end",a.x=t._paper.attr("width")-7),n.attr(a);var o=n.select(".js-link-to-tool"),s=n.select(".js-link-spacer"),u=n.select(".js-sourcelinks");e._context.showSources&&e._context.showSources(e),e._context.showLink&&x(e,o),s.text(o.text()&&u.text()?" - ":"")}},b.sendDataToCloud=function(e){var t=(window.PLOTLYENV||{}).BASE_URL||e._context.plotlyServerURL;if(t){e.emit("plotly_beforeexport");var n=r.select(e).append("div").attr("id","hiddenform").style("display","none"),i=n.append("form").attr({action:t+"/external",method:"post",target:"_blank"});return i.append("input").attr({type:"text",name:"data"}).node().value=b.graphJson(e,!1,"keepdata"),i.node().submit(),n.remove(),e.emit("plotly_afterexport"),!1}};var T=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],k=["year","month","dayMonth","dayMonthYear"];function O(e,t){var n,r,i=t.length,a=[];for(n=0;n<e.length;n++){var o=e[n]._fullInput;o!==r&&a.push(o),r=o}var s=a.length,u=new Array(i),c={};function f(e,t){u[t]=e,c[e]=1}function h(e,t){if(e&&"string"===typeof e&&!c[e])return f(e,t),!0}for(n=0;n<i;n++){var d=t[n].uid;"number"===typeof d&&(d=String(d)),h(d,n)||n<s&&h(a[n].uid,n)||f(l.randstr(c),n)}return u}function S(){var e,t,n=o.collectableSubplotTypes,r={};if(!n){n=[];var i=o.subplotsRegistry;for(var a in i){var s=i[a].attr;if(s&&(n.push(a),Array.isArray(s)))for(t=0;t<s.length;t++)l.pushUnique(n,s[t])}}for(e=0;e<n.length;e++)r[n[e]]=[];return r}function A(e,t){var n=e._context.locale;n||(n="en-US");var r=!1,i={};function a(e){for(var n=!0,a=0;a<t.length;a++){var o=t[a];i[o]||(e[o]?i[o]=e[o]:n=!1)}n&&(r=!0)}for(var s=0;s<2;s++){for(var u=e._context.locales,l=0;l<2;l++){var c=(u[n]||{}).format;if(c&&(a(c),r))break;u=o.localeRegistry}var f=n.split("-")[0];if(r||f===n)break;n=f}return r||a(o.localeRegistry.en.format),i}function E(e,t){return e.decimal=t.charAt(0),e.thousands=t.charAt(1),{numberFormat:r.locale(e).numberFormat,timeFormat:i(e).utcFormat}}function C(e,t){var n,r=[];t.meta&&(n=t._meta={meta:t.meta,layout:{meta:t.meta}});for(var i=0;i<e.length;i++){var a=e[i];a.meta?r[a.index]=a._meta={meta:a.meta}:t.meta&&(a._meta={meta:t.meta}),t.meta&&(a._meta.layout={meta:t.meta})}r.length&&(n||(n=t._meta={}),n.data=r)}function M(e,t){var n={_fullLayout:t},r="x"===e._id.charAt(0),i=e._mainAxis._anchorAxis,a="",o="",s="";if(i&&(s=i._mainAxis._id,a=r?e._id+s:s+e._id),!a||!t._plots[a]){a="";for(var u=e._counterAxes,l=0;l<u.length;l++){var c=u[l],f=r?e._id+c:c+e._id;o||(o=f);var d=h.getFromId(n,c);if(s&&d.overlaying===s){a=f;break}}}return a||o}function I(e){var t=e.transforms;if(Array.isArray(t)&&t.length)for(var n=0;n<t.length;n++){var r=t[n],i=r._module||_[r.type];if(i&&i.makesData)return!0}return!1}function D(e,t,n,r){for(var i=e.transforms,a=[e],o=0;o<i.length;o++){var s=i[o],u=_[s.type];u&&u.transform&&(a=u.transform(a,{transform:s,fullTrace:e,fullData:t,layout:n,fullLayout:r,transformIndex:o}))}return a}function P(e){return"string"===typeof e&&"px"===e.substr(e.length-2)&&parseFloat(e)}function N(e){var t=e.margin;if(!e._size){var n=e._size={l:Math.round(t.l),r:Math.round(t.r),t:Math.round(t.t),b:Math.round(t.b),p:Math.round(t.pad)};n.w=Math.round(e.width)-n.l-n.r,n.h=Math.round(e.height)-n.t-n.b}e._pushmargin||(e._pushmargin={}),e._pushmarginIds||(e._pushmarginIds={})}b.supplyDefaults=function(e,t){var n=t&&t.skipUpdateCalc,r=e._fullLayout||{};if(r._skipDefaults)delete r._skipDefaults;else{var i,a=e._fullLayout={},s=e.layout||{},u=e._fullData||[],c=e._fullData=[],f=e.data||[],h=e.calcdata||[],p=e._context||{};e._transitionData||b.createTransitionData(e),a._dfltTitle={plot:m(e,"Click to enter Plot title"),x:m(e,"Click to enter X axis title"),y:m(e,"Click to enter Y axis title"),colorbar:m(e,"Click to enter Colorscale title"),annotation:m(e,"new text")},a._traceWord=m(e,"trace");var v=A(e,T);if(a._mapboxAccessToken=p.mapboxAccessToken,r._initialAutoSizeIsDone){var g=r.width,_=r.height;b.supplyLayoutGlobalDefaults(s,a,v),s.width||(a.width=g),s.height||(a.height=_),b.sanitizeMargins(a)}else{b.supplyLayoutGlobalDefaults(s,a,v);var w=!s.width||!s.height,x=a.autosize,M=p.autosizable;w&&(x||M)?b.plotAutoSize(e,s,a):w&&b.sanitizeMargins(a),!x&&w&&(s.width=a.width,s.height=a.height)}a._d3locale=E(v,a.separators),a._extraFormat=A(e,k),a._initialAutoSizeIsDone=!0,a._dataLength=f.length,a._modules=[],a._visibleModules=[],a._basePlotModules=[];var I=a._subplots=S(),D=a._splomAxes={x:{},y:{}},P=a._splomSubplots={};a._splomGridDflt={},a._scatterStackOpts={},a._firstScatter={},a._alignmentOpts={},a._colorAxes={},a._requestRangeslider={},a._traceUids=O(u,f),a._globalTransforms=(e._context||{}).globalTransforms,b.supplyDataDefaults(f,c,s,a);var j=Object.keys(D.x),L=Object.keys(D.y);if(j.length>1&&L.length>1){for(o.getComponentMethod("grid","sizeDefaults")(s,a),i=0;i<j.length;i++)l.pushUnique(I.xaxis,j[i]);for(i=0;i<L.length;i++)l.pushUnique(I.yaxis,L[i]);for(var R in P)l.pushUnique(I.cartesian,R)}if(a._has=b._hasPlotType.bind(a),u.length===c.length)for(i=0;i<c.length;i++)y(c[i],u[i]);b.supplyLayoutModuleDefaults(s,a,c,e._transitionData);var F=a._visibleModules,z=[];for(i=0;i<F.length;i++){var U=F[i].crossTraceDefaults;U&&l.pushUnique(z,U)}for(i=0;i<z.length;i++)z[i](c,a);a._hasOnlyLargeSploms=1===a._basePlotModules.length&&"splom"===a._basePlotModules[0].name&&j.length>15&&L.length>15&&0===a.shapes.length&&0===a.images.length,b.linkSubplots(c,a,u,r),b.cleanPlot(c,a,u,r);var q=!(!r._has||!r._has("gl2d")),B=!(!a._has||!a._has("gl2d")),V=!(!r._has||!r._has("cartesian"))||q,H=!(!a._has||!a._has("cartesian"))||B;V&&!H?r._bgLayer.remove():H&&!V&&(a._shouldCreateBgLayer=!0),r._zoomlayer&&!e._dragging&&d({_fullLayout:r}),C(c,a),y(a,r),o.getComponentMethod("colorscale","crossTraceDefaults")(c,a),a._preGUI||(a._preGUI={}),a._tracePreGUI||(a._tracePreGUI={});var W,Y=a._tracePreGUI,G={};for(W in Y)G[W]="old";for(i=0;i<c.length;i++)G[W=c[i]._fullInput.uid]||(Y[W]={}),G[W]="new";for(W in G)"old"===G[W]&&delete Y[W];N(a),o.getComponentMethod("rangeslider","makeData")(a),n||h.length!==c.length||b.supplyDefaultsUpdateCalc(h,c)}},b.supplyDefaultsUpdateCalc=function(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=(e[n]||[])[0];if(i&&i.trace){var a=i.trace;if(a._hasCalcTransform){var o,s,u,c=a._arrayAttrs;for(o=0;o<c.length;o++)s=c[o],u=l.nestedProperty(a,s).get().slice(),l.nestedProperty(r,s).set(u)}i.trace=r}}},b.createTransitionData=function(e){e._transitionData||(e._transitionData={}),e._transitionData._frames||(e._transitionData._frames=[]),e._transitionData._frameHash||(e._transitionData._frameHash={}),e._transitionData._counter||(e._transitionData._counter=0),e._transitionData._interruptCallbacks||(e._transitionData._interruptCallbacks=[])},b._hasPlotType=function(e){var t,n=this._basePlotModules||[];for(t=0;t<n.length;t++)if(n[t].name===e)return!0;var r=this._modules||[];for(t=0;t<r.length;t++){var i=r[t].name;if(i===e)return!0;var a=o.modules[i];if(a&&a.categories[e])return!0}return!1},b.cleanPlot=function(e,t,n,r){var i,a,o=r._basePlotModules||[];for(i=0;i<o.length;i++){var s=o[i];s.clean&&s.clean(e,t,n,r)}var u=r._has&&r._has("gl"),l=t._has&&t._has("gl");u&&!l&&void 0!==r._glcontainer&&(r._glcontainer.selectAll(".gl-canvas").remove(),r._glcontainer.selectAll(".no-webgl").remove(),r._glcanvas=null);var c=!!r._infolayer;e:for(i=0;i<n.length;i++){var f=n[i].uid;for(a=0;a<e.length;a++)if(f===e[a].uid)continue e;c&&r._infolayer.select(".cb"+f).remove()}},b.linkSubplots=function(e,t,n,r){var i,a,s=r._plots||{},u=t._plots={},c=t._subplots,f={_fullData:e,_fullLayout:t},d=c.cartesian.concat(c.gl2d||[]);for(i=0;i<d.length;i++){var p,v=d[i],g=s[v],y=h.getFromId(f,v,"x"),m=h.getFromId(f,v,"y");for(g?p=u[v]=g:(p=u[v]={}).id=v,y._counterAxes.push(m._id),m._counterAxes.push(y._id),y._subplotsWith.push(v),m._subplotsWith.push(v),p.xaxis=y,p.yaxis=m,p._hasClipOnAxisFalse=!1,a=0;a<e.length;a++){var b=e[a];if(b.xaxis===p.xaxis._id&&b.yaxis===p.yaxis._id&&!1===b.cliponaxis){p._hasClipOnAxisFalse=!0;break}}}var _,w=h.list(f,null,!0);for(i=0;i<w.length;i++){var x=null;(_=w[i]).overlaying&&(x=h.getFromId(f,_.overlaying))&&x.overlaying&&(_.overlaying=!1,x=null),_._mainAxis=x||_,x&&(_.domain=x.domain.slice()),_._anchorAxis="free"===_.anchor?null:h.getFromId(f,_.anchor)}for(i=0;i<w.length;i++)if((_=w[i])._counterAxes.sort(h.idSort),_._subplotsWith.sort(l.subplotSort),_._mainSubplot=M(_,t),_._counterAxes.length&&(_.spikemode&&-1!==_.spikemode.indexOf("across")||_.automargin&&_.mirror&&"free"!==_.anchor||o.getComponentMethod("rangeslider","isVisible")(_))){var T=1,k=0;for(a=0;a<_._counterAxes.length;a++){var O=h.getFromId(f,_._counterAxes[a]);T=Math.min(T,O.domain[0]),k=Math.max(k,O.domain[1])}T<k&&(_._counterDomainMin=T,_._counterDomainMax=k)}},b.clearExpandedTraceDefaultColors=function(e){var t,n,r;function i(e,r,i,a){n[a]=r,n.length=a+1,"color"===e.valType&&void 0===e.dflt&&t.push(n.join("."))}for(n=[],(t=e._module._colorAttrs)||(e._module._colorAttrs=t=[],s.crawl(e._module.attributes,i)),r=0;r<t.length;r++)l.nestedProperty(e,"_input."+t[r]).get()||l.nestedProperty(e,t[r]).set(null)},b.supplyDataDefaults=function(e,t,n,r){var i,a,s,c=r._modules,f=r._visibleModules,h=r._basePlotModules,d=0,p=0;function v(e){t.push(e);var n=e._module;n&&(l.pushUnique(c,n),!0===e.visible&&l.pushUnique(f,n),l.pushUnique(h,e._module.basePlotModule),d++,!1!==e._input.visible&&p++)}r._transformModules=[];var g={},m=[],_=(n.template||{}).data||{},w=u.traceTemplater(_);for(i=0;i<e.length;i++){if(s=e[i],(a=w.newTrace(s)).uid=r._traceUids[i],b.supplyTraceDefaults(s,a,p,r,i),a.index=i,a._input=s,a._expandedIndex=d,a.transforms&&a.transforms.length)for(var x=!1!==s.visible&&!1===a.visible,T=D(a,t,n,r),k=0;k<T.length;k++){var O=T[k],S={_template:a._template,type:a.type,uid:a.uid+k};x&&!1===O.visible&&delete O.visible,b.supplyTraceDefaults(O,S,d,r,i),y(S,O),S.index=i,S._input=s,S._fullInput=a,S._expandedIndex=d,S._expandedInput=O,v(S)}else a._fullInput=a,a._expandedInput=a,v(a);o.traceIs(a,"carpetAxis")&&(g[a.carpet]=a),o.traceIs(a,"carpetDependent")&&m.push(i)}for(i=0;i<m.length;i++)if((a=t[m[i]]).visible){var A=g[a.carpet];a._carpet=A,A&&A.visible?(a.xaxis=A.xaxis,a.yaxis=A.yaxis):a.visible=!1}},b.supplyAnimationDefaults=function(e){var t;e=e||{};var n={};function r(t,r){return l.coerce(e||{},n,p,t,r)}if(r("mode"),r("direction"),r("fromcurrent"),Array.isArray(e.frame))for(n.frame=[],t=0;t<e.frame.length;t++)n.frame[t]=b.supplyAnimationFrameDefaults(e.frame[t]||{});else n.frame=b.supplyAnimationFrameDefaults(e.frame||{});if(Array.isArray(e.transition))for(n.transition=[],t=0;t<e.transition.length;t++)n.transition[t]=b.supplyAnimationTransitionDefaults(e.transition[t]||{});else n.transition=b.supplyAnimationTransitionDefaults(e.transition||{});return n},b.supplyAnimationFrameDefaults=function(e){var t={};function n(n,r){return l.coerce(e||{},t,p.frame,n,r)}return n("duration"),n("redraw"),t},b.supplyAnimationTransitionDefaults=function(e){var t={};function n(n,r){return l.coerce(e||{},t,p.transition,n,r)}return n("duration"),n("easing"),t},b.supplyFrameDefaults=function(e){var t={};function n(n,r){return l.coerce(e,t,v,n,r)}return n("group"),n("name"),n("traces"),n("baseframe"),n("data"),n("layout"),t},b.supplyTraceDefaults=function(e,t,n,r,i){var a,s=r.colorway||c.defaults,u=s[n%s.length];function f(n,r){return l.coerce(e,t,b.attributes,n,r)}var h=f("visible");f("type"),f("name",r._traceWord+" "+i),f("uirevision",r.uirevision);var d=b.getModule(t);if(t._module=d,d){var p=d.basePlotModule,v=p.attr,g=p.attributes;if(v&&g){var y=r._subplots,m="";if(h||"gl2d"!==p.name){if(Array.isArray(v))for(a=0;a<v.length;a++){var _=v[a],w=l.coerce(e,t,g,_);y[_]&&l.pushUnique(y[_],w),m+=w}else m=l.coerce(e,t,g,v);y[p.name]&&l.pushUnique(y[p.name],m)}}}return h&&(f("customdata"),f("ids"),f("meta"),o.traceIs(t,"showLegend")?(l.coerce(e,t,d.attributes.showlegend?d.attributes:b.attributes,"showlegend"),f("legendgroup"),f("legendgrouptitle.text")&&l.coerceFont(f,"legendgrouptitle.font",l.extendFlat({},r.font,{size:Math.round(1.1*r.font.size)})),f("legendrank"),t._dfltShowLegend=!0):t._dfltShowLegend=!1,d&&d.supplyDefaults(e,t,u,r),o.traceIs(t,"noOpacity")||f("opacity"),o.traceIs(t,"notLegendIsolatable")&&(t.visible=!!t.visible),o.traceIs(t,"noHover")||(t.hovertemplate||l.coerceHoverinfo(e,t,r),"parcats"!==t.type&&o.getComponentMethod("fx","supplyDefaults")(e,t,u,r)),d&&d.selectPoints&&f("selectedpoints"),b.supplyTransformDefaults(e,t,r)),t},b.hasMakesDataTransform=I,b.supplyTransformDefaults=function(e,t,n){if(t._length||I(e)){var r=n._globalTransforms||[],i=n._transformModules||[];if(Array.isArray(e.transforms)||0!==r.length)for(var a=e.transforms||[],o=r.concat(a),s=t.transforms=[],u=0;u<o.length;u++){var c,f=o[u],h=f.type,d=_[h],p=!(f._module&&f._module===d),v=d&&"function"===typeof d.transform;d||l.warn("Unrecognized transform type "+h+"."),d&&d.supplyDefaults&&(p||v)?((c=d.supplyDefaults(f,t,n,e)).type=h,c._module=d,l.pushUnique(i,d)):c=l.extendFlat({},f),s.push(c)}}},b.supplyLayoutGlobalDefaults=function(e,t,n){function r(n,r){return l.coerce(e,t,b.layoutAttributes,n,r)}var i=e.template;l.isPlainObject(i)&&(t.template=i,t._template=i.layout,t._dataTemplate=i.data),r("autotypenumbers");var a=l.coerceFont(r,"font");r("title.text",t._dfltTitle.plot),l.coerceFont(r,"title.font",{family:a.family,size:Math.round(1.4*a.size),color:a.color}),r("title.xref"),r("title.yref"),r("title.x"),r("title.y"),r("title.xanchor"),r("title.yanchor"),r("title.pad.t"),r("title.pad.r"),r("title.pad.b"),r("title.pad.l"),r("uniformtext.mode")&&r("uniformtext.minsize"),r("autosize",!(e.width&&e.height)),r("width"),r("height"),r("margin.l"),r("margin.r"),r("margin.t"),r("margin.b"),r("margin.pad"),r("margin.autoexpand"),e.width&&e.height&&b.sanitizeMargins(t),o.getComponentMethod("grid","sizeDefaults")(e,t),r("paper_bgcolor"),r("separators",n.decimal+n.thousands),r("hidesources"),r("colorway"),r("datarevision");var s=r("uirevision");r("editrevision",s),r("selectionrevision",s),o.getComponentMethod("modebar","supplyLayoutDefaults")(e,t),o.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(e,t,r),r("meta"),l.isPlainObject(e.transition)&&(r("transition.duration"),r("transition.easing"),r("transition.ordering")),o.getComponentMethod("calendars","handleDefaults")(e,t,"calendar"),o.getComponentMethod("fx","supplyLayoutGlobalDefaults")(e,t,r)},b.plotAutoSize=function(e,t,n){var r,i,o=e._context||{},s=o.frameMargins,u=l.isPlotDiv(e);if(u&&e.emit("plotly_autosize"),o.fillFrame)r=window.innerWidth,i=window.innerHeight,document.body.style.overflow="hidden";else{var c=u?window.getComputedStyle(e):{};if(r=P(c.width)||P(c.maxWidth)||n.width,i=P(c.height)||P(c.maxHeight)||n.height,a(s)&&s>0){var f=1-2*s;r=Math.round(f*r),i=Math.round(f*i)}}var h=b.layoutAttributes.width.min,d=b.layoutAttributes.height.min;r<h&&(r=h),i<d&&(i=d);var p=!t.width&&Math.abs(n.width-r)>1,v=!t.height&&Math.abs(n.height-i)>1;(v||p)&&(p&&(n.width=r),v&&(n.height=i)),e._initialAutoSize||(e._initialAutoSize={width:r,height:i}),b.sanitizeMargins(n)},b.supplyLayoutModuleDefaults=function(e,t,n,r){var i,a,s,u=o.componentsRegistry,c=t._basePlotModules,f=o.subplotsRegistry.cartesian;for(i in u)(s=u[i]).includeBasePlot&&s.includeBasePlot(e,t);for(var h in c.length||c.push(f),t._has("cartesian")&&(o.getComponentMethod("grid","contentDefaults")(e,t),f.finalizeSubplots(e,t)),t._subplots)t._subplots[h].sort(l.subplotSort);for(a=0;a<c.length;a++)(s=c[a]).supplyLayoutDefaults&&s.supplyLayoutDefaults(e,t,n);var d=t._modules;for(a=0;a<d.length;a++)(s=d[a]).supplyLayoutDefaults&&s.supplyLayoutDefaults(e,t,n);var p=t._transformModules;for(a=0;a<p.length;a++)(s=p[a]).supplyLayoutDefaults&&s.supplyLayoutDefaults(e,t,n,r);for(i in u)(s=u[i]).supplyLayoutDefaults&&s.supplyLayoutDefaults(e,t,n)},b.purge=function(e){var t=e._fullLayout||{};void 0!==t._glcontainer&&(t._glcontainer.selectAll(".gl-canvas").remove(),t._glcontainer.remove(),t._glcanvas=null),t._modeBar&&t._modeBar.destroy(),e._transitionData&&(e._transitionData._interruptCallbacks&&(e._transitionData._interruptCallbacks.length=0),e._transitionData._animationRaf&&window.cancelAnimationFrame(e._transitionData._animationRaf)),l.clearThrottle(),l.clearResponsive(e),delete e.data,delete e.layout,delete e._fullData,delete e._fullLayout,delete e.calcdata,delete e.empty,delete e.fid,delete e.undoqueue,delete e.undonum,delete e.autoplay,delete e.changed,delete e._promises,delete e._redrawTimer,delete e._hmlumcount,delete e._hmpixcount,delete e._transitionData,delete e._transitioning,delete e._initialAutoSize,delete e._transitioningWithDuration,delete e._dragging,delete e._dragged,delete e._dragdata,delete e._hoverdata,delete e._snapshotInProgress,delete e._editing,delete e._mouseDownTime,delete e._legendMouseDownTime,e.removeAllListeners&&e.removeAllListeners()},b.style=function(e){var t,n=e._fullLayout._visibleModules,r=[];for(t=0;t<n.length;t++){var i=n[t];i.style&&l.pushUnique(r,i.style)}for(t=0;t<r.length;t++)r[t](e)},b.sanitizeMargins=function(e){if(e&&e.margin){var t,n=e.width,r=e.height,i=e.margin,a=n-(i.l+i.r),o=r-(i.t+i.b);a<0&&(t=(n-1)/(i.l+i.r),i.l=Math.floor(t*i.l),i.r=Math.floor(t*i.r)),o<0&&(t=(r-1)/(i.t+i.b),i.t=Math.floor(t*i.t),i.b=Math.floor(t*i.b))}},b.clearAutoMarginIds=function(e){e._fullLayout._pushmarginIds={}},b.allowAutoMargin=function(e,t){e._fullLayout._pushmarginIds[t]=1};var j=2,L=2,R=64,F=64;function z(e){var t=h.list(e,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach((function(e){for(var n=0;n<t.length;n++){var r=t[n][e];r&&r()}}))}b.autoMargin=function(e,t,n){var r=e._fullLayout,i=r.width,a=r.height,o=r.margin,s=l.constrain(i-o.l-o.r,j,R),u=l.constrain(a-o.t-o.b,L,F),c=Math.max(0,i-s),f=Math.max(0,a-u),h=r._pushmargin,d=r._pushmarginIds;if(!1!==o.autoexpand){if(n){var p=n.pad;if(void 0===p&&(p=Math.min(12,o.l,o.r,o.t,o.b)),c){var v=(n.l+n.r)/c;v>1&&(n.l/=v,n.r/=v)}if(f){var g=(n.t+n.b)/f;g>1&&(n.t/=g,n.b/=g)}var y=void 0!==n.xl?n.xl:n.x,m=void 0!==n.xr?n.xr:n.x,_=void 0!==n.yt?n.yt:n.y,w=void 0!==n.yb?n.yb:n.y;h[t]={l:{val:y,size:n.l+p},r:{val:m,size:n.r+p},b:{val:w,size:n.b+p},t:{val:_,size:n.t+p}},d[t]=1}else delete h[t],delete d[t];if(!r._replotting)return b.doAutoMargin(e)}},b.doAutoMargin=function(e){var t=e._fullLayout,n=t.width,r=t.height;t._size||(t._size={}),N(t);var i=t._size,s=t.margin,u=l.extendFlat({},i),c=s.l,f=s.r,h=s.t,d=s.b,p=t._pushmargin,v=t._pushmarginIds;if(!1!==t.margin.autoexpand){for(var g in p)v[g]||delete p[g];for(var y in p.base={l:{val:0,size:c},r:{val:1,size:f},t:{val:1,size:h},b:{val:0,size:d}},p){var m=p[y].l||{},_=p[y].b||{},w=m.val,x=m.size,T=_.val,k=_.size;for(var O in p){if(a(x)&&p[O].r){var S=p[O].r.val,A=p[O].r.size;if(S>w){var E=(x*S+(A-n)*w)/(S-w),C=(A*(1-w)+(x-n)*(1-S))/(S-w);E+C>c+f&&(c=E,f=C)}}if(a(k)&&p[O].t){var M=p[O].t.val,I=p[O].t.size;if(M>T){var D=(k*M+(I-r)*T)/(M-T),P=(I*(1-T)+(k-r)*(1-M))/(M-T);D+P>d+h&&(d=D,h=P)}}}}}var U=l.constrain(n-s.l-s.r,j,R),q=l.constrain(r-s.t-s.b,L,F),B=Math.max(0,n-U),V=Math.max(0,r-q);if(B){var H=(c+f)/B;H>1&&(c/=H,f/=H)}if(V){var W=(d+h)/V;W>1&&(d/=W,h/=W)}if(i.l=Math.round(c),i.r=Math.round(f),i.t=Math.round(h),i.b=Math.round(d),i.p=Math.round(s.pad),i.w=Math.round(n)-i.l-i.r,i.h=Math.round(r)-i.t-i.b,!t._replotting&&b.didMarginChange(u,i)){"_redrawFromAutoMarginCount"in t?t._redrawFromAutoMarginCount++:t._redrawFromAutoMarginCount=1;var Y=3*(1+Object.keys(v).length);if(t._redrawFromAutoMarginCount<Y)return o.call("_doPlot",e);t._size=u,l.warn("Too many auto-margin redraws.")}z(e)};var U=["l","r","t","b","p","w","h"];function q(e,t,n){var r=!1;function i(e){var t=Promise.resolve();if(!e)return t;for(;e.length;)t=t.then(e.shift());return t}function a(e){if(e)for(;e.length;)e.shift()}function s(){return e.emit("plotly_transitioning",[]),new Promise((function(i){e._transitioning=!0,t.duration>0&&(e._transitioningWithDuration=!0),e._transitionData._interruptCallbacks.push((function(){r=!0})),n.redraw&&e._transitionData._interruptCallbacks.push((function(){return o.call("redraw",e)})),e._transitionData._interruptCallbacks.push((function(){e.emit("plotly_transitioninterrupted",[])}));var a=0,s=0;function l(){return a++,function(){s++,r||s!==a||u(i)}}n.runFn(l),setTimeout(l())}))}function u(t){if(e._transitionData)return a(e._transitionData._interruptCallbacks),Promise.resolve().then((function(){if(n.redraw)return o.call("redraw",e)})).then((function(){e._transitioning=!1,e._transitioningWithDuration=!1,e.emit("plotly_transitioned",[])})).then(t)}function c(){if(e._transitionData)return e._transitioning=!1,i(e._transitionData._interruptCallbacks)}var f=[b.previousPromises,c,n.prepareFn,b.rehover,s],h=l.syncOrAsync(f,e);return h&&h.then||(h=Promise.resolve()),h.then((function(){return e}))}b.didMarginChange=function(e,t){for(var n=0;n<U.length;n++){var r=U[n],i=e[r],o=t[r];if(!a(i)||Math.abs(o-i)>1)return!0}return!1},b.graphJson=function(e,t,n,r,i,a){(i&&t&&!e._fullData||i&&!t&&!e._fullLayout)&&b.supplyDefaults(e);var o=i?e._fullData:e.data,s=i?e._fullLayout:e.layout,u=(e._transitionData||{})._frames;function c(e,t){if("function"===typeof e)return t?"_function_":null;if(l.isPlainObject(e)){var r,i={};return Object.keys(e).sort().forEach((function(a){if(-1===["_","["].indexOf(a.charAt(0)))if("function"!==typeof e[a]){if("keepdata"===n){if("src"===a.substr(a.length-3))return}else if("keepstream"===n){if("string"===typeof(r=e[a+"src"])&&r.indexOf(":")>0&&!l.isPlainObject(e.stream))return}else if("keepall"!==n&&"string"===typeof(r=e[a+"src"])&&r.indexOf(":")>0)return;i[a]=c(e[a],t)}else t&&(i[a]="_function")})),i}return Array.isArray(e)?e.map((function(e){return c(e,t)})):l.isTypedArray(e)?l.simpleMap(e,l.identity):l.isJSDate(e)?l.ms2DateTimeLocal(+e):e}var f={data:(o||[]).map((function(e){var n=c(e);return t&&delete n.fit,n}))};if(!t&&(f.layout=c(s),i)){var h=s._size;f.layout.computed={margin:{b:h.b,l:h.l,r:h.r,t:h.t}}}return u&&(f.frames=c(u)),a&&(f.config=c(e._context,!0)),"object"===r?f:JSON.stringify(f)},b.modifyFrames=function(e,t){var n,r,i,a=e._transitionData._frames,o=e._transitionData._frameHash;for(n=0;n<t.length;n++)switch((r=t[n]).type){case"replace":i=r.value;var s=(a[r.index]||{}).name,u=i.name;a[r.index]=o[u]=i,u!==s&&(delete o[s],o[u]=i);break;case"insert":o[(i=r.value).name]=i,a.splice(r.index,0,i);break;case"delete":delete o[(i=a[r.index]).name],a.splice(r.index,1)}return Promise.resolve()},b.computeFrame=function(e,t){var n,r,i,a,o=e._transitionData._frameHash;if(!t)throw new Error("computeFrame must be given a string frame name");var s=o[t.toString()];if(!s)return!1;for(var u=[s],l=[s.name];s.baseframe&&(s=o[s.baseframe.toString()])&&-1===l.indexOf(s.name);)u.push(s),l.push(s.name);for(var c={};s=u.pop();)if(s.layout&&(c.layout=b.extendLayout(c.layout,s.layout)),s.data){if(c.data||(c.data=[]),!(r=s.traces))for(r=[],n=0;n<s.data.length;n++)r[n]=n;for(c.traces||(c.traces=[]),n=0;n<s.data.length;n++)void 0!==(i=r[n])&&null!==i&&(-1===(a=c.traces.indexOf(i))&&(a=c.data.length,c.traces[a]=i),c.data[a]=b.extendTrace(c.data[a],s.data[n]))}return c},b.recomputeFrameHash=function(e){for(var t=e._transitionData._frameHash={},n=e._transitionData._frames,r=0;r<n.length;r++){var i=n[r];i&&i.name&&(t[i.name]=i)}},b.extendObjectWithContainers=function(e,t,n){var r,i,a,o,s,u,c,f=l.extendDeepNoArrays({},t||{}),h=l.expandObjectPaths(f),d={};if(n&&n.length)for(a=0;a<n.length;a++)void 0===(i=(r=l.nestedProperty(h,n[a])).get())?l.nestedProperty(d,n[a]).set(null):(r.set(null),l.nestedProperty(d,n[a]).set(i));if(e=l.extendDeepNoArrays(e||{},h),n&&n.length)for(a=0;a<n.length;a++)if(u=l.nestedProperty(d,n[a]).get()){for(c=(s=l.nestedProperty(e,n[a])).get(),Array.isArray(c)||(c=[],s.set(c)),o=0;o<u.length;o++){var p=u[o];c[o]=null===p?null:b.extendObjectWithContainers(c[o],p)}s.set(c)}return e},b.dataArrayContainers=["transforms","dimensions"],b.layoutArrayContainers=o.layoutArrayContainers,b.extendTrace=function(e,t){return b.extendObjectWithContainers(e,t,b.dataArrayContainers)},b.extendLayout=function(e,t){return b.extendObjectWithContainers(e,t,b.layoutArrayContainers)},b.transition=function(e,t,n,r,i,a){var o={redraw:i.redraw},s={},u=[];return o.prepareFn=function(){for(var i=Array.isArray(t)?t.length:0,a=r.slice(0,i),o=0;o<a.length;o++){var c=a[o],f=e._fullData[c]._module;if(f){if(f.animatable){var h=f.basePlotModule.name;s[h]||(s[h]=[]),s[h].push(c)}e.data[a[o]]=b.extendTrace(e.data[a[o]],t[o])}}var d=l.expandObjectPaths(l.extendDeepNoArrays({},n)),p=/^[xy]axis[0-9]*$/;for(var v in d)p.test(v)&&delete d[v].range;b.extendLayout(e.layout,d),delete e.calcdata,b.supplyDefaults(e),b.doCalcdata(e);var g=l.expandObjectPaths(n);if(g){var y=e._fullLayout._plots;for(var m in y){var _=y[m],w=_.xaxis,x=_.yaxis,T=w.range.slice(),k=x.range.slice(),O=null,S=null,A=null,E=null;Array.isArray(g[w._name+".range"])?O=g[w._name+".range"].slice():Array.isArray((g[w._name]||{}).range)&&(O=g[w._name].range.slice()),Array.isArray(g[x._name+".range"])?S=g[x._name+".range"].slice():Array.isArray((g[x._name]||{}).range)&&(S=g[x._name].range.slice()),T&&O&&(w.r2l(T[0])!==w.r2l(O[0])||w.r2l(T[1])!==w.r2l(O[1]))&&(A={xr0:T,xr1:O}),k&&S&&(x.r2l(k[0])!==x.r2l(S[0])||x.r2l(k[1])!==x.r2l(S[1]))&&(E={yr0:k,yr1:S}),(A||E)&&u.push(l.extendFlat({plotinfo:_},A,E))}}return Promise.resolve()},o.runFn=function(t){var r,i,o=e._fullLayout._basePlotModules,c=u.length;if(n)for(i=0;i<o.length;i++)o[i].transitionAxes&&o[i].transitionAxes(e,u,a,t);for(var f in c?((r=l.extendFlat({},a)).duration=0,delete s.cartesian):r=a,s){var h=s[f];e._fullData[h[0]]._module.basePlotModule.plot(e,h,r,t)}},q(e,a,o)},b.transitionFromReact=function(e,t,n,r){var i=e._fullLayout,a=i.transition,o={},s=[];return o.prepareFn=function(){var e=i._plots;for(var a in o.redraw=!1,"some"===t.anim&&(o.redraw=!0),"some"===n.anim&&(o.redraw=!0),e){var u=e[a],c=u.xaxis,f=u.yaxis,h=r[c._name].range.slice(),d=r[f._name].range.slice(),p=c.range.slice(),v=f.range.slice();c.setScale(),f.setScale();var g=null,y=null;c.r2l(h[0])===c.r2l(p[0])&&c.r2l(h[1])===c.r2l(p[1])||(g={xr0:h,xr1:p}),f.r2l(d[0])===f.r2l(v[0])&&f.r2l(d[1])===f.r2l(v[1])||(y={yr0:d,yr1:v}),(g||y)&&s.push(l.extendFlat({plotinfo:u},g,y))}return Promise.resolve()},o.runFn=function(n){for(var r,i,o,u=e._fullData,c=e._fullLayout._basePlotModules,f=[],h=0;h<u.length;h++)f.push(h);function d(){if(e._fullLayout)for(var t=0;t<c.length;t++)c[t].transitionAxes&&c[t].transitionAxes(e,s,r,n)}function p(){if(e._fullLayout)for(var t=0;t<c.length;t++)c[t].plot(e,o,i,n)}s.length&&t.anim?"traces first"===a.ordering?(r=l.extendFlat({},a,{duration:0}),o=f,i=a,setTimeout(d,a.duration),p()):(r=a,o=null,i=l.extendFlat({},a,{duration:0}),setTimeout(p,r.duration),d()):s.length?(r=a,d()):t.anim&&(o=f,i=a,p())},q(e,a,o)},b.doCalcdata=function(e,t){var n,r,i,a,u=h.list(e),l=e._fullData,c=e._fullLayout,d=new Array(l.length),p=(e.calcdata||[]).slice();for(e.calcdata=d,c._numBoxes=0,c._numViolins=0,c._violinScaleGroupStats={},e._hmpixcount=0,e._hmlumcount=0,c._piecolormap={},c._sunburstcolormap={},c._treemapcolormap={},c._iciclecolormap={},c._funnelareacolormap={},i=0;i<l.length;i++)Array.isArray(t)&&-1===t.indexOf(i)&&(d[i]=p[i]);for(i=0;i<l.length;i++)(n=l[i])._arrayAttrs=s.findArrayAttributes(n),n._extremes={};var v=c._subplots.polar||[];for(i=0;i<v.length;i++)u.push(c[v[i]].radialaxis,c[v[i]].angularaxis);for(var g in c._colorAxes){var y=c[g];!1!==y.cauto&&(delete y.cmin,delete y.cmax)}var m=!1;function b(t){if(n=l[t],r=n._module,!0===n.visible&&n.transforms){if(r&&r.calc){var i=r.calc(e,n);i[0]&&i[0].t&&i[0].t._scene&&delete i[0].t._scene.dirty}for(a=0;a<n.transforms.length;a++){var o=n.transforms[a];(r=_[o.type])&&r.calcTransform&&(n._hasCalcTransform=!0,m=!0,r.calcTransform(e,n,o))}}}function w(t,i){if(n=l[t],!!(r=n._module).isContainer===i){var o=[];if(!0===n.visible&&0!==n._length){delete n._indexToPoints;var s=n.transforms||[];for(a=s.length-1;a>=0;a--)if(s[a].enabled){n._indexToPoints=s[a]._indexToPoints;break}r&&r.calc&&(o=r.calc(e,n))}Array.isArray(o)&&o[0]||(o=[{x:f,y:f}]),o[0].t||(o[0].t={}),o[0].trace=n,d[t]=o}}for(H(u,l,c),i=0;i<l.length;i++)w(i,!0);for(i=0;i<l.length;i++)b(i);for(m&&H(u,l,c),i=0;i<l.length;i++)w(i,!0);for(i=0;i<l.length;i++)w(i,!1);W(e);var x=V(u,e);if(x.length){for(c._numBoxes=0,c._numViolins=0,i=0;i<x.length;i++)w(x[i],!0);for(i=0;i<x.length;i++)w(x[i],!1);W(e)}o.getComponentMethod("fx","calc")(e),o.getComponentMethod("errorbars","calc")(e)};var B=/(total|sum|min|max|mean|median) (ascending|descending)/;function V(e,t){var n,r,i,a,s,u=[];function c(e,n,r){var i=n._id.charAt(0);if("histogram2dcontour"===e){var a=n._counterAxes[0],o=h.getFromId(t,a),s="x"===i||"x"===a&&"category"===o.type,u="y"===i||"y"===a&&"category"===o.type;return function(e,t){return 0===e||0===t||s&&e===r[t].length-1||u&&t===r.length-1?-1:("y"===i?t:e)-1}}return function(e,t){return"y"===i?t:e}}var f={min:function(e){return l.aggNums(Math.min,null,e)},max:function(e){return l.aggNums(Math.max,null,e)},sum:function(e){return l.aggNums((function(e,t){return e+t}),null,e)},total:function(e){return l.aggNums((function(e,t){return e+t}),null,e)},mean:function(e){return l.mean(e)},median:function(e){return l.median(e)}};for(n=0;n<e.length;n++){var d=e[n];if("category"===d.type){var p=d.categoryorder.match(B);if(p){var v=p[1],g=p[2],y=d._id.charAt(0),m="x"===y,b=[];for(r=0;r<d._categories.length;r++)b.push([d._categories[r],[]]);for(r=0;r<d._traceIndices.length;r++){var _=d._traceIndices[r],w=t._fullData[_];if(!0===w.visible){var x=w.type;o.traceIs(w,"histogram")&&(delete w._xautoBinFinished,delete w._yautoBinFinished);var T="splom"===x,k="scattergl"===x,O=t.calcdata[_];for(i=0;i<O.length;i++){var S,A,E=O[i];if(T){var C=w._axesDim[d._id];if(!m){var M=w._diag[C][0];M&&(d=t._fullLayout[h.id2name(M)])}var I=E.trace.dimensions[C].values;for(a=0;a<I.length;a++)for(S=d._categoriesMap[I[a]],s=0;s<E.trace.dimensions.length;s++)if(s!==C){var D=E.trace.dimensions[s];b[S][1].push(D.values[a])}}else if(k){for(a=0;a<E.t.x.length;a++)m?(S=E.t.x[a],A=E.t.y[a]):(S=E.t.y[a],A=E.t.x[a]),b[S][1].push(A);E.t&&E.t._scene&&delete E.t._scene.dirty}else if(E.hasOwnProperty("z")){A=E.z;var P=c(w.type,d,A);for(a=0;a<A.length;a++)for(s=0;s<A[a].length;s++)(S=P(s,a))+1&&b[S][1].push(A[a][s])}else for(void 0===(S=E.p)&&(S=E[y]),void 0===(A=E.s)&&(A=E.v),void 0===A&&(A=m?E.y:E.x),Array.isArray(A)||(A=void 0===A?[]:[A]),a=0;a<A.length;a++)b[S][1].push(A[a])}}}d._categoriesValue=b;var N=[];for(r=0;r<b.length;r++)N.push([b[r][0],f[v](b[r][1])]);N.sort((function(e,t){return e[1]-t[1]})),d._categoriesAggregatedValue=N,d._initialCategories=N.map((function(e){return e[0]})),"descending"===g&&d._initialCategories.reverse(),u=u.concat(d.sortByInitialCategories())}}}return u}function H(e,t,n){var r={};function i(e){e.clearCalc(),"multicategory"===e.type&&e.setupMultiCategory(t),r[e._id]=1}l.simpleMap(e,i);for(var a=n._axisMatchGroups||[],o=0;o<a.length;o++)for(var s in a[o])r[s]||i(n[h.id2name(s)])}function W(e){var t,n,r,i=e._fullLayout,a=i._visibleModules,o={};for(n=0;n<a.length;n++){var s=a[n],u=s.crossTraceCalc;if(u){var c=s.basePlotModule.name;o[c]?l.pushUnique(o[c],u):o[c]=[u]}}for(r in o){var f=o[r],h=i._subplots[r];if(Array.isArray(h))for(t=0;t<h.length;t++){var d=h[t],p="cartesian"===r?i._plots[d]:i[d];for(n=0;n<f.length;n++)f[n](e,p,d)}else for(n=0;n<f.length;n++)f[n](e)}}b.rehover=function(e){e._fullLayout._rehover&&e._fullLayout._rehover()},b.redrag=function(e){e._fullLayout._redrag&&e._fullLayout._redrag()},b.generalUpdatePerTraceModule=function(e,t,n,r){var i,a=t.traceHash,o={};for(i=0;i<n.length;i++){var s=n[i],u=s[0].trace;u.visible&&(o[u.type]=o[u.type]||[],o[u.type].push(s))}for(var c in a)if(!o[c]){var f=a[c][0];f[0].trace.visible=!1,o[c]=[f]}for(var h in o){var d=o[h];d[0][0].trace._module.plot(e,t,l.filterVisible(d),r)}t.traceHash=o},b.plotBasePlot=function(e,t,n,r,i){var a=o.getModule(e),s=g(t.calcdata,a)[0];a.plot(t,s,r,i)},b.cleanBasePlot=function(e,t,n,r,i){var a=i._has&&i._has(e),o=n._has&&n._has(e);a&&!o&&i["_"+e+"layer"].selectAll("g.trace").remove()}},{"../components/color":100,"../constants/numerical":210,"../lib":230,"../plot_api/plot_schema":264,"../plot_api/plot_template":265,"../plots/get_data":307,"../registry":313,"./animation_attributes":270,"./attributes":272,"./cartesian/axis_ids":280,"./cartesian/handle_outline":287,"./command":303,"./font_attributes":305,"./frame_attributes":306,"./layout_attributes":309,"@plotly/d3":11,"d3-time-format":13,"fast-isnumeric":15}],312:[function(e,t,n){"use strict";var r=e("../constants/docs");function i(e){var t=e.description?" "+e.description:"",n=e.keys||[];if(n.length>0){for(var r=[],i=0;i<n.length;i++)r[i]="`"+n[i]+"`";t+="Finally, the template string has access to ",t=1===n.length?"variable "+r[0]:"variables "+r.slice(0,-1).join(", ")+" and "+r.slice(-1)+"."}return t}r.FORMAT_LINK,r.DATE_FORMAT_LINK,n.hovertemplateAttrs=function(e,t){e=e||{},i(t=t||{});var n={valType:"string",dflt:"",editType:e.editType||"none"};return!1!==e.arrayOk&&(n.arrayOk=!0),n},n.texttemplateAttrs=function(e,t){e=e||{},i(t=t||{});var n={valType:"string",dflt:"",editType:e.editType||"calc"};return!1!==e.arrayOk&&(n.arrayOk=!0),n}},{"../constants/docs":207}],313:[function(e,t,n){"use strict";var r=e("./lib/loggers"),i=e("./lib/noop"),a=e("./lib/push_unique"),o=e("./lib/is_plain_object"),s=e("./lib/dom").addStyleRule,u=e("./lib/extend"),l=e("./plots/attributes"),c=e("./plots/layout_attributes"),f=u.extendFlat,h=u.extendDeepAll;function d(e){var t=e.name,i=e.categories,a=e.meta;if(n.modules[t])r.log("Type "+t+" already registered");else{n.subplotsRegistry[e.basePlotModule.name]||p(e.basePlotModule);for(var o={},u=0;u<i.length;u++)o[i[u]]=!0,n.allCategories[i[u]]=!0;for(var l in n.modules[t]={_module:e,categories:o},a&&Object.keys(a).length&&(n.modules[t].meta=a),n.allTypes.push(t),n.componentsRegistry)b(l,t);e.layoutAttributes&&f(n.traceLayoutAttributes,e.layoutAttributes);var c=e.basePlotModule,h=c.name;if("mapbox"===h){var d=c.constants.styleRules;for(var v in d)s(".js-plotly-plot .plotly .mapboxgl-"+v,d[v])}"geo"!==h&&"mapbox"!==h||void 0===typeof window||void 0!==window.PlotlyGeoAssets||(window.PlotlyGeoAssets={topojson:{}})}}function p(e){var t=e.name;if(n.subplotsRegistry[t])r.log("Plot type "+t+" already registered.");else for(var i in m(e),n.subplotsRegistry[t]=e,n.componentsRegistry)w(i,e.name)}function v(e){if("string"!==typeof e.name)throw new Error("Component module *name* must be a string.");var t=e.name;for(var r in n.componentsRegistry[t]=e,e.layoutAttributes&&(e.layoutAttributes._isLinkedToArray&&a(n.layoutArrayContainers,t),m(e)),n.modules)b(t,r);for(var i in n.subplotsRegistry)w(t,i);for(var o in n.transformsRegistry)_(t,o);e.schema&&e.schema.layout&&h(c,e.schema.layout)}function g(e){if("string"!==typeof e.name)throw new Error("Transform module *name* must be a string.");var t="Transform module "+e.name,i="function"===typeof e.transform,a="function"===typeof e.calcTransform;if(!i&&!a)throw new Error(t+" is missing a *transform* or *calcTransform* method.");for(var s in i&&a&&r.log([t+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),o(e.attributes)||r.log(t+" registered without an *attributes* object."),"function"!==typeof e.supplyDefaults&&r.log(t+" registered without a *supplyDefaults* method."),n.transformsRegistry[e.name]=e,n.componentsRegistry)_(s,e.name)}function y(e){var t=e.name,r=t.split("-")[0],i=e.dictionary,a=e.format,o=i&&Object.keys(i).length,s=a&&Object.keys(a).length,u=n.localeRegistry,l=u[t];if(l||(u[t]=l={}),r!==t){var c=u[r];c||(u[r]=c={}),o&&c.dictionary===l.dictionary&&(c.dictionary=i),s&&c.format===l.format&&(c.format=a)}o&&(l.dictionary=i),s&&(l.format=a)}function m(e){if(e.layoutAttributes){var t=e.layoutAttributes._arrayAttrRegexps;if(t)for(var r=0;r<t.length;r++)a(n.layoutArrayRegexes,t[r])}}function b(e,t){var r=n.componentsRegistry[e].schema;if(r&&r.traces){var i=r.traces[t];i&&h(n.modules[t]._module.attributes,i)}}function _(e,t){var r=n.componentsRegistry[e].schema;if(r&&r.transforms){var i=r.transforms[t];i&&h(n.transformsRegistry[t].attributes,i)}}function w(e,t){var r=n.componentsRegistry[e].schema;if(r&&r.subplots){var i=n.subplotsRegistry[t],a=i.layoutAttributes,o="subplot"===i.attr?i.name:i.attr;Array.isArray(o)&&(o=o[0]);var s=r.subplots[o];a&&s&&h(a,s)}}function x(e){return"object"===typeof e&&(e=e.type),e}n.modules={},n.allCategories={},n.allTypes=[],n.subplotsRegistry={},n.transformsRegistry={},n.componentsRegistry={},n.layoutArrayContainers=[],n.layoutArrayRegexes=[],n.traceLayoutAttributes={},n.localeRegistry={},n.apiMethodRegistry={},n.collectableSubplotTypes=null,n.register=function(e){if(n.collectableSubplotTypes=null,!e)throw new Error("No argument passed to Plotly.register.");e&&!Array.isArray(e)&&(e=[e]);for(var t=0;t<e.length;t++){var r=e[t];if(!r)throw new Error("Invalid module was attempted to be registered!");switch(r.moduleType){case"trace":d(r);break;case"transform":g(r);break;case"component":v(r);break;case"locale":y(r);break;case"apiMethod":var i=r.name;n.apiMethodRegistry[i]=r.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},n.getModule=function(e){var t=n.modules[x(e)];return!!t&&t._module},n.traceIs=function(e,t){if("various"===(e=x(e)))return!1;var i=n.modules[e];return i||(e&&r.log("Unrecognized trace type "+e+"."),i=n.modules[l.type.dflt]),!!i.categories[t]},n.getTransformIndices=function(e,t){for(var n=[],r=e.transforms||[],i=0;i<r.length;i++)r[i].type===t&&n.push(i);return n},n.hasTransform=function(e,t){for(var n=e.transforms||[],r=0;r<n.length;r++)if(n[r].type===t)return!0;return!1},n.getComponentMethod=function(e,t){var r=n.componentsRegistry[e];return r&&r[t]||i},n.call=function(){var e=arguments[0],t=[].slice.call(arguments,1);return n.apiMethodRegistry[e].apply(null,t)}},{"./lib/dom":222,"./lib/extend":224,"./lib/is_plain_object":231,"./lib/loggers":234,"./lib/noop":239,"./lib/push_unique":244,"./plots/attributes":272,"./plots/layout_attributes":309}],314:[function(e,t,n){"use strict";var r=e("../registry"),i=e("../lib"),a=i.extendFlat,o=i.extendDeep;function s(e){var t;switch(e){case"themes__thumb":t={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":t={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:t={}}return t}function u(e){return["xaxis","yaxis","zaxis"].indexOf(e.slice(0,5))>-1}t.exports=function(e,t){var n,i=e.data,l=e.layout,c=o([],i),f=o({},l,s(t.tileClass)),h=e._context||{};if(t.width&&(f.width=t.width),t.height&&(f.height=t.height),"thumbnail"===t.tileClass||"themes__thumb"===t.tileClass){f.annotations=[];var d=Object.keys(f);for(n=0;n<d.length;n++)u(d[n])&&(f[d[n]].title={text:""});for(n=0;n<c.length;n++){var p=c[n];p.showscale=!1,p.marker&&(p.marker.showscale=!1),r.traceIs(p,"pie-like")&&(p.textposition="none")}}if(Array.isArray(t.annotations))for(n=0;n<t.annotations.length;n++)f.annotations.push(t.annotations[n]);var v=Object.keys(f).filter((function(e){return e.match(/^scene\d*$/)}));if(v.length){var g={};for("thumbnail"===t.tileClass&&(g={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),n=0;n<v.length;n++){var y=f[v[n]];y.xaxis||(y.xaxis={}),y.yaxis||(y.yaxis={}),y.zaxis||(y.zaxis={}),a(y.xaxis,g),a(y.yaxis,g),a(y.zaxis,g),y._scene=null}}var m=document.createElement("div");t.tileClass&&(m.className=t.tileClass);var b={gd:m,td:m,layout:f,data:c,config:{staticPlot:void 0===t.staticPlot||t.staticPlot,plotGlPixelRatio:void 0===t.plotGlPixelRatio?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:h.mapboxAccessToken}};return"transparent"!==t.setBackground&&(b.config.setBackground=t.setBackground||"opaque"),b.gd.defaultLayout=s(t.tileClass),b}},{"../lib":230,"../registry":313}],315:[function(e,t,n){"use strict";var r=e("../lib"),i=e("../plot_api/to_image"),a=e("./filesaver"),o=e("./helpers");function s(e,t){var n;return r.isPlainObject(e)||(n=r.getGraphDiv(e)),(t=t||{}).format=t.format||"png",t.width=t.width||null,t.height=t.height||null,t.imageDataOnly=!0,new Promise((function(s,u){n&&n._snapshotInProgress&&u(new Error("Snapshotting already in progress.")),r.isIE()&&"svg"!==t.format&&u(new Error(o.MSG_IE_BAD_FORMAT)),n&&(n._snapshotInProgress=!0);var l=i(e,t),c=t.filename||e.fn||"newplot";c+="."+t.format.replace("-","."),l.then((function(e){return n&&(n._snapshotInProgress=!1),a(e,c,t.format)})).then((function(e){s(e)})).catch((function(e){n&&(n._snapshotInProgress=!1),u(e)}))}))}t.exports=s},{"../lib":230,"../plot_api/to_image":268,"./filesaver":316,"./helpers":317}],316:[function(e,t,n){"use strict";var r=e("../lib"),i=e("./helpers");function a(e,t,n){var a=document.createElement("a"),o="download"in a;return new Promise((function(s,u){var l,c;if(r.isSafari()){var f="svg"===n?",":";base64,";return i.octetStream(f+encodeURIComponent(e)),s(t)}return r.isIE()?(l=i.createBlob(e,"svg"),window.navigator.msSaveBlob(l,t),l=null,s(t)):o?(l=i.createBlob(e,n),c=i.createObjectURL(l),a.href=c,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a),i.revokeObjectURL(c),l=null,s(t)):void u(new Error("download error"))}))}t.exports=a},{"../lib":230,"./helpers":317}],317:[function(e,t,n){"use strict";var r=e("../registry");n.getDelay=function(e){return e._has&&(e._has("gl3d")||e._has("gl2d")||e._has("mapbox"))?500:0},n.getRedrawFunc=function(e){return function(){r.getComponentMethod("colorbar","draw")(e)}},n.encodeSVG=function(e){return"data:image/svg+xml,"+encodeURIComponent(e)},n.encodeJSON=function(e){return"data:application/json,"+encodeURIComponent(e)};var i=window.URL||window.webkitURL;function a(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}n.createObjectURL=function(e){return i.createObjectURL(e)},n.revokeObjectURL=function(e){return i.revokeObjectURL(e)},n.createBlob=function(e,t){if("svg"===t)return new window.Blob([e],{type:"image/svg+xml;charset=utf-8"});if("full-json"===t)return new window.Blob([e],{type:"application/json;charset=utf-8"});var n=a(window.atob(e));return new window.Blob([n],{type:"image/"+t})},n.octetStream=function(e){document.location.href="data:application/octet-stream"+e},n.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,n.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},{"../registry":313}],318:[function(e,t,n){"use strict";var r=e("./helpers"),i={getDelay:r.getDelay,getRedrawFunc:r.getRedrawFunc,clone:e("./cloneplot"),toSVG:e("./tosvg"),svgToImg:e("./svgtoimg"),toImage:e("./toimage"),downloadImage:e("./download")};t.exports=i},{"./cloneplot":314,"./download":315,"./helpers":317,"./svgtoimg":319,"./toimage":320,"./tosvg":321}],319:[function(e,t,n){"use strict";var r=e("../lib"),i=e("events").EventEmitter,a=e("./helpers");function o(e){var t=e.emitter||new i,n=new Promise((function(i,o){var s=window.Image,u=e.svg,l=e.format||"png";if(r.isIE()&&"svg"!==l){var c=new Error(a.MSG_IE_BAD_FORMAT);return o(c),e.promise?n:t.emit("error",c)}var f,h,d=e.canvas,p=e.scale||1,v=e.width||300,g=e.height||150,y=p*v,m=p*g,b=d.getContext("2d"),_=new s;"svg"===l||r.isSafari()?h=a.encodeSVG(u):(f=a.createBlob(u,"svg"),h=a.createObjectURL(f)),d.width=y,d.height=m,_.onload=function(){var n;switch(f=null,a.revokeObjectURL(h),"svg"!==l&&b.drawImage(_,0,0,y,m),l){case"jpeg":n=d.toDataURL("image/jpeg");break;case"png":n=d.toDataURL("image/png");break;case"webp":n=d.toDataURL("image/webp");break;case"svg":n=h;break;default:var r="Image format is not jpeg, png, svg or webp.";if(o(new Error(r)),!e.promise)return t.emit("error",r)}i(n),e.promise||t.emit("success",n)},_.onerror=function(n){if(f=null,a.revokeObjectURL(h),o(n),!e.promise)return t.emit("error",n)},_.src=h}));return e.promise?n:t}t.exports=o},{"../lib":230,"./helpers":317,events:12}],320:[function(e,t,n){"use strict";var r=e("events").EventEmitter,i=e("../registry"),a=e("../lib"),o=e("./helpers"),s=e("./cloneplot"),u=e("./tosvg"),l=e("./svgtoimg");function c(e,t){var n=new r,c=s(e,{format:"png"}),f=c.gd;function h(){var e=o.getDelay(f._fullLayout);setTimeout((function(){var e=u(f),r=document.createElement("canvas");r.id=a.randstr(),(n=l({format:t.format,width:f._fullLayout.width,height:f._fullLayout.height,canvas:r,emitter:n,svg:e})).clean=function(){f&&document.body.removeChild(f)}}),e)}f.style.position="absolute",f.style.left="-5000px",document.body.appendChild(f);var d=o.getRedrawFunc(f);return i.call("_doPlot",f,c.data,c.layout,c.config).then(d).then(h).catch((function(e){n.emit("error",e)})),n}t.exports=c},{"../lib":230,"../registry":313,"./cloneplot":314,"./helpers":317,"./svgtoimg":319,"./tosvg":321,events:12}],321:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../lib"),a=e("../components/drawing"),o=e("../components/color"),s=e("../constants/xmlns_namespaces"),u=/"/g,l="TOBESTRIPPED",c=new RegExp('("'+l+")|("+l+'")',"g");function f(e){var t=r.select("body").append("div").style({display:"none"}).html(""),n=e.replace(/(&[^;]*;)/gi,(function(e){return"&lt;"===e?"&#60;":"&rt;"===e?"&#62;":-1!==e.indexOf("<")||-1!==e.indexOf(">")?"":t.html(e).text()}));return t.remove(),n}function h(e){return e.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}t.exports=function(e,t,n){var d,p,v=e._fullLayout,g=v._paper,y=v._toppaper,m=v.width,b=v.height;g.insert("rect",":first-child").call(a.setRect,0,0,m,b).call(o.fill,v.paper_bgcolor);var _=v._basePlotModules||[];for(d=0;d<_.length;d++){var w=_[d];w.toSVG&&w.toSVG(e)}if(y){var x=y.node().childNodes,T=Array.prototype.slice.call(x);for(d=0;d<T.length;d++){var k=T[d];k.childNodes.length&&g.node().appendChild(k)}}v._draggers&&v._draggers.remove(),g.node().style.background="",g.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each((function(){var e=r.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){e.style({visibility:null,display:null});var t=this.style.fontFamily;t&&-1!==t.indexOf('"')&&e.style("font-family",t.replace(u,l))}else e.remove()}));var O=[];if(v._gradientUrlQueryParts)for(p in v._gradientUrlQueryParts)O.push(p);if(v._patternUrlQueryParts)for(p in v._patternUrlQueryParts)O.push(p);O.length&&g.selectAll(O.join(",")).each((function(){var e=r.select(this),t=this.style.fill;t&&-1!==t.indexOf("url(")&&e.style("fill",t.replace(u,l));var n=this.style.stroke;n&&-1!==n.indexOf("url(")&&e.style("stroke",n.replace(u,l))})),"pdf"!==t&&"eps"!==t||g.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),g.node().setAttributeNS(s.xmlns,"xmlns",s.svg),g.node().setAttributeNS(s.xmlns,"xmlns:xlink",s.xlink),"svg"===t&&n&&(g.attr("width",n*m),g.attr("height",n*b),g.attr("viewBox","0 0 "+m+" "+b));var S=(new window.XMLSerializer).serializeToString(g.node());return S=(S=h(S=f(S))).replace(c,"'"),i.isIE()&&(S=(S=(S=S.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),S}},{"../components/color":100,"../components/drawing":122,"../constants/xmlns_namespaces":211,"../lib":230,"@plotly/d3":11}],322:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t){for(var n=0;n<e.length;n++)e[n].i=n;r.mergeArray(t.text,e,"tx"),r.mergeArray(t.hovertext,e,"htx");var i=t.marker;if(i){r.mergeArray(i.opacity,e,"mo",!0),r.mergeArray(i.color,e,"mc");var a=i.line;a&&(r.mergeArray(a.color,e,"mlc"),r.mergeArrayCastPositive(a.width,e,"mlw"))}}},{"../../lib":230}],323:[function(e,t,n){"use strict";var r=e("../scatter/attributes"),i=e("../../plots/cartesian/axis_format_attributes").axisHoverFormat,a=e("../../plots/template_attributes").hovertemplateAttrs,o=e("../../plots/template_attributes").texttemplateAttrs,s=e("../../components/colorscale/attributes"),u=e("../../plots/font_attributes"),l=e("./constants"),c=e("../../components/drawing/attributes").pattern,f=e("../../lib/extend").extendFlat,h=u({editType:"calc",arrayOk:!0,colorEditType:"style"}),d=f({},r.marker.line.width,{dflt:0}),p=f({width:d,editType:"calc"},s("marker.line")),v=f({line:p,editType:"calc"},s("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:c});t.exports={x:r.x,x0:r.x0,dx:r.dx,y:r.y,y0:r.y0,dy:r.dy,xperiod:r.xperiod,yperiod:r.yperiod,xperiod0:r.xperiod0,yperiod0:r.yperiod0,xperiodalignment:r.xperiodalignment,yperiodalignment:r.yperiodalignment,xhoverformat:i("x"),yhoverformat:i("y"),text:r.text,texttemplate:o({editType:"plot"},{keys:l.eventDataKeys}),hovertext:r.hovertext,hovertemplate:a({},{keys:l.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:f({},h,{}),insidetextfont:f({},h,{}),outsidetextfont:f({},h,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:f({},r.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:v,offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},selected:{marker:{opacity:r.selected.marker.opacity,color:r.selected.marker.color,editType:"style"},textfont:r.selected.textfont,editType:"style"},unselected:{marker:{opacity:r.unselected.marker.opacity,color:r.unselected.marker.color,editType:"style"},textfont:r.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},{"../../components/colorscale/attributes":107,"../../components/drawing/attributes":121,"../../lib/extend":224,"../../plots/cartesian/axis_format_attributes":279,"../../plots/font_attributes":305,"../../plots/template_attributes":312,"../scatter/attributes":353,"./constants":325}],324:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axes"),i=e("../../plots/cartesian/align_period"),a=e("../../components/colorscale/helpers").hasColorscale,o=e("../../components/colorscale/calc"),s=e("./arrays_to_calcdata"),u=e("../scatter/calc_selection");t.exports=function(e,t){var n,l,c,f,h=r.getFromId(e,t.xaxis||"x"),d=r.getFromId(e,t.yaxis||"y"),p={msUTC:!(!t.base&&0!==t.base)};"h"===t.orientation?(n=h.makeCalcdata(t,"x",p),c=d.makeCalcdata(t,"y"),l=i(t,d,"y",c),f=!!t.yperiodalignment):(n=d.makeCalcdata(t,"y",p),c=h.makeCalcdata(t,"x"),l=i(t,h,"x",c),f=!!t.xperiodalignment);for(var v=Math.min(l.length,n.length),g=new Array(v),y=0;y<v;y++)g[y]={p:l[y],s:n[y]},f&&(g[y].orig_p=c[y]),t.ids&&(g[y].id=String(t.ids[y]));return a(t,"marker")&&o(e,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),a(t,"marker.line")&&o(e,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),s(g,t),u(g,t),g}},{"../../components/colorscale/calc":108,"../../components/colorscale/helpers":111,"../../plots/cartesian/align_period":273,"../../plots/cartesian/axes":276,"../scatter/calc_selection":355,"./arrays_to_calcdata":322}],325:[function(e,t,n){"use strict";t.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},{}],326:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib").isArrayOrTypedArray,a=e("../../constants/numerical").BADNUM,o=e("../../registry"),s=e("../../plots/cartesian/axes"),u=e("../../plots/cartesian/constraints").getAxisGroup,l=e("./sieve.js");function c(e,t){for(var n=t.xaxis,r=t.yaxis,i=e._fullLayout,a=e._fullData,s=e.calcdata,u=[],l=[],c=0;c<a.length;c++){var h=a[c];if(!0===h.visible&&o.traceIs(h,"bar")&&h.xaxis===n._id&&h.yaxis===r._id&&("h"===h.orientation?u.push(s[c]):l.push(s[c]),h._computePh))for(var d=e.calcdata[c],p=0;p<d.length;p++)"function"===typeof d[p].ph0&&(d[p].ph0=d[p].ph0()),"function"===typeof d[p].ph1&&(d[p].ph1=d[p].ph1())}var v={xCat:"category"===n.type||"multicategory"===n.type,yCat:"category"===r.type||"multicategory"===r.type,mode:i.barmode,norm:i.barnorm,gap:i.bargap,groupgap:i.bargroupgap};f(e,n,r,l,v),f(e,r,n,u,v)}function f(e,t,n,r,i){if(r.length){var a,o,s,u;switch(h(n,r),i.mode){case"overlay":d(t,n,r,i);break;case"group":for(a=[],o=[],s=0;s<r.length;s++)void 0===(u=r[s])[0].trace.offset?o.push(u):a.push(u);o.length&&p(e,t,n,o,i),a.length&&d(t,n,a,i);break;case"stack":case"relative":for(a=[],o=[],s=0;s<r.length;s++)void 0===(u=r[s])[0].trace.base?o.push(u):a.push(u);o.length&&v(e,t,n,o,i),a.length&&d(t,n,a,i)}S(r,t)}}function h(e,t){var n,a;for(n=0;n<t.length;n++){var o,s=t[n],u=s[0].trace,l="funnel"===u.type?u._base:u.base,c="h"===u.orientation?u.xcalendar:u.ycalendar,f="category"===e.type||"multicategory"===e.type?function(){return null}:e.d2c;if(i(l)){for(a=0;a<Math.min(l.length,s.length);a++)o=f(l[a],0,c),r(o)?(s[a].b=+o,s[a].hasB=1):s[a].b=0;for(;a<s.length;a++)s[a].b=0}else{o=f(l,0,c);var h=r(o);for(o=h?o:0,a=0;a<s.length;a++)s[a].b=o,h&&(s[a].hasB=1)}}}function d(e,t,n,r){for(var i=0;i<n.length;i++){var a=n[i],o=new l([a],{posAxis:e,sepNegVal:!1,overlapNoMerge:!r.norm});g(e,o,r),r.norm?(T(o),O(t,o,r)):w(t,o)}}function p(e,t,n,r,i){var a=new l(r,{posAxis:t,sepNegVal:!1,overlapNoMerge:!i.norm});y(e,t,a,i),k(a,t),i.norm?(T(a),O(n,a,i)):w(n,a)}function v(e,t,n,r,i){var o=new l(r,{posAxis:t,sepNegVal:"relative"===i.mode,overlapNoMerge:!(i.norm||"stack"===i.mode||"relative"===i.mode)});g(t,o,i),x(n,o,i);for(var s=0;s<r.length;s++)for(var u=r[s],c=0;c<u.length;c++){var f=u[c];f.s!==a&&f.b+f.s===o.get(f.p,f.s)&&(f._outmost=!0)}i.norm&&O(n,o,i)}function g(e,t,n){for(var r=t.minDiff,i=t.traces,a=r*(1-n.gap),o=a*(1-(n.groupgap||0)),s=-o/2,u=0;u<i.length;u++){var l=i[u][0].t;l.barwidth=o,l.poffset=s,l.bargroupwidth=a,l.bardelta=r}t.binWidth=i[0][0].t.barwidth/100,m(t),b(e,t),_(e,t)}function y(e,t,n,r){for(var i=e._fullLayout,a=n.positions,o=n.distinctPositions,s=n.minDiff,l=n.traces,c=l.length,f=a.length!==o.length,h=s*(1-r.gap),d=u(i,t._id)+l[0][0].trace.orientation,p=i._alignmentOpts[d]||{},v=0;v<c;v++){var g,y,w=l[v],x=w[0].trace,T=p[x.alignmentgroup]||{},k=Object.keys(T.offsetGroups||{}).length,O=(g=k?h/k:f?h/c:h)*(1-(r.groupgap||0));y=k?((2*x._offsetIndex+1-k)*g-O)/2:f?((2*v+1-c)*g-O)/2:-O/2;var S=w[0].t;S.barwidth=O,S.poffset=y,S.bargroupwidth=h,S.bardelta=s}n.binWidth=l[0][0].t.barwidth/100,m(n),b(t,n),_(t,n,f)}function m(e){var t,n,a=e.traces;for(t=0;t<a.length;t++){var o,s=a[t],u=s[0],l=u.trace,c=u.t,f=l._offset||l.offset,h=c.poffset;if(i(f)){for(o=Array.prototype.slice.call(f,0,s.length),n=0;n<o.length;n++)r(o[n])||(o[n]=h);for(n=o.length;n<s.length;n++)o.push(h);c.poffset=o}else void 0!==f&&(c.poffset=f);var d=l._width||l.width,p=c.barwidth;if(i(d)){var v=Array.prototype.slice.call(d,0,s.length);for(n=0;n<v.length;n++)r(v[n])||(v[n]=p);for(n=v.length;n<s.length;n++)v.push(p);if(c.barwidth=v,void 0===f){for(o=[],n=0;n<s.length;n++)o.push(h+(p-v[n])/2);c.poffset=o}}else void 0!==d&&(c.barwidth=d,void 0===f&&(c.poffset=h+(p-d)/2))}}function b(e,t){for(var n=t.traces,r=A(e),i=0;i<n.length;i++)for(var a=n[i],o=a[0].t,s=o.poffset,u=Array.isArray(s),l=o.barwidth,c=Array.isArray(l),f=0;f<a.length;f++){var h=a[f],d=h.w=c?l[f]:l;h[r]=h.p+(u?s[f]:s)+d/2}}function _(e,t,n){var r=t.traces,i=t.minDiff/2;s.minDtick(e,t.minDiff,t.distinctPositions[0],n);for(var a=0;a<r.length;a++){var o,u,l,c,f=r[a],h=f[0],d=h.trace,p=[];for(c=0;c<f.length;c++)u=(o=f[c]).p-i,l=o.p+i,p.push(u,l);if(d.width||d.offset){var v=h.t,g=v.poffset,y=v.barwidth,m=Array.isArray(g),b=Array.isArray(y);for(c=0;c<f.length;c++){o=f[c];var _=m?g[c]:g,w=b?y[c]:y;l=(u=o.p+_)+w,p.push(u,l)}}d._extremes[e._id]=s.findExtremes(e,p,{padded:!1})}}function w(e,t){for(var n=t.traces,r=A(e),i=0;i<n.length;i++){for(var a=n[i],o=a[0].trace,u=[],l=!1,c=0;c<a.length;c++){var f=a[c],h=f.b,d=h+f.s;f[r]=d,u.push(d),f.hasB&&u.push(h),f.hasB&&f.b||(l=!0)}o._extremes[e._id]=s.findExtremes(e,u,{tozero:l,padded:!0})}}function x(e,t,n){var r,i,o,u,l,c,f=A(e),h=t.traces;for(u=0;u<h.length;u++)if("funnel"===(i=(r=h[u])[0].trace).type)for(l=0;l<r.length;l++)(c=r[l]).s!==a&&t.put(c.p,-.5*c.s);for(u=0;u<h.length;u++){o="funnel"===(i=(r=h[u])[0].trace).type;var d=[];for(l=0;l<r.length;l++)if((c=r[l]).s!==a){var p;p=o?c.s:c.s+c.b;var v=t.put(c.p,p),g=v+p;c.b=v,c[f]=g,n.norm||(d.push(g),c.hasB&&d.push(v))}n.norm||(i._extremes[e._id]=s.findExtremes(e,d,{tozero:!0,padded:!0}))}}function T(e){for(var t=e.traces,n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;i++){var o=r[i];o.s!==a&&e.put(o.p,o.b+o.s)}}function k(e,t){for(var n=e.traces,r=0;r<n.length;r++){var i=n[r];if(void 0===i[0].trace.base)for(var o=new l([i],{posAxis:t,sepNegVal:!0,overlapNoMerge:!0}),s=0;s<i.length;s++){var u=i[s];if(u.p!==a){var c=o.put(u.p,u.b+u.s);c&&(u.b=c)}}}}function O(e,t,n){var i=t.traces,o=A(e),u="fraction"===n.norm?1:100,l=u/1e9,c=e.l2c(e.c2l(0)),f="stack"===n.mode?u:c;function h(t){return r(e.c2l(t))&&(t<c-l||t>f+l||!r(c))}for(var d=0;d<i.length;d++){for(var p=i[d],v=p[0].trace,g=[],y=!1,m=!1,b=0;b<p.length;b++){var _=p[b];if(_.s!==a){var w=Math.abs(u/t.get(_.p,_.s));_.b*=w,_.s*=w;var x=_.b,T=x+_.s;_[o]=T,g.push(T),m=m||h(T),_.hasB&&(g.push(x),m=m||h(x)),_.hasB&&_.b||(y=!0)}}v._extremes[e._id]=s.findExtremes(e,g,{tozero:y,padded:m})}}function S(e,t){var n,i,a,o=A(t),s={},u=1/0,l=-1/0;for(n=0;n<e.length;n++)for(a=e[n],i=0;i<a.length;i++){var c=a[i].p;r(c)&&(u=Math.min(u,c),l=Math.max(l,c))}var f=1e4/(l-u),h=s.round=function(e){return String(Math.round(f*(e-u)))};for(n=0;n<e.length;n++){(a=e[n])[0].t.extents=s;var d=a[0].t.poffset,p=Array.isArray(d);for(i=0;i<a.length;i++){var v=a[i],g=v[o]-v.w/2;if(r(g)){var y=v[o]+v.w/2,m=h(v.p);s[m]?s[m]=[Math.min(g,s[m][0]),Math.max(y,s[m][1])]:s[m]=[g,y]}v.p0=v.p+(p?d[i]:d),v.p1=v.p0+v.w,v.s0=v.b,v.s1=v.s0+v.s}}}function A(e){return e._id.charAt(0)}t.exports={crossTraceCalc:c,setGroupPositions:f}},{"../../constants/numerical":210,"../../lib":230,"../../plots/cartesian/axes":276,"../../plots/cartesian/constraints":284,"../../registry":313,"./sieve.js":336,"fast-isnumeric":15}],327:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../components/color"),a=e("../../registry"),o=e("../scatter/xy_defaults"),s=e("../scatter/period_defaults"),u=e("./style_defaults"),l=e("../../plots/cartesian/constraints").getAxisGroup,c=e("./attributes"),f=r.coerceFont;function h(e,t,n,l){function f(n,i){return r.coerce(e,t,c,n,i)}if(o(e,t,l,f)){s(e,t,l,f),f("xhoverformat"),f("yhoverformat"),f("orientation",t.x&&!t.y?"h":"v"),f("base"),f("offset"),f("width"),f("text"),f("hovertext"),f("hovertemplate");var h=f("textposition");v(e,t,l,f,h,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),u(e,t,f,n,l);var d=(t.marker.line||{}).color,p=a.getComponentMethod("errorbars","supplyDefaults");p(e,t,d||i.defaultLine,{axis:"y"}),p(e,t,d||i.defaultLine,{axis:"x",inherit:"y"}),r.coerceSelectionMarkerOpacity(t,f)}else t.visible=!1}function d(e,t,n,r){var i=t.orientation,a=t[{v:"x",h:"y"}[i]+"axis"],o=l(n,a)+i,s=n._alignmentOpts||{},u=r("alignmentgroup"),c=s[o];c||(c=s[o]={});var f=c[u];f?f.traces.push(t):f=c[u]={traces:[t],alignmentIndex:Object.keys(c).length,offsetGroups:{}};var h=r("offsetgroup"),d=f.offsetGroups,p=d[h];h&&(p||(p=d[h]={offsetIndex:Object.keys(d).length}),t._offsetIndex=p.offsetIndex)}function p(e,t){var n;function i(e){return r.coerce(n._input,n,c,e)}if("group"===t.barmode)for(var a=0;a<e.length;a++)"bar"===(n=e[a]).type&&d(n._input,n,t,i)}function v(e,t,n,i,a,o){var s=!(!1===(o=o||{}).moduleHasSelected),u=!(!1===o.moduleHasUnselected),l=!(!1===o.moduleHasConstrain),c=!(!1===o.moduleHasCliponaxis),h=!(!1===o.moduleHasTextangle),d=!(!1===o.moduleHasInsideanchor),p=!!o.hasPathbar,v=Array.isArray(a)||"auto"===a,g=v||"inside"===a,y=v||"outside"===a;if(g||y){var m=f(i,"textfont",n.font),b=r.extendFlat({},m),_=!(e.textfont&&e.textfont.color);if(_&&delete b.color,f(i,"insidetextfont",b),p){var w=r.extendFlat({},m);_&&delete w.color,f(i,"pathbar.textfont",w)}y&&f(i,"outsidetextfont",m),s&&i("selected.textfont.color"),u&&i("unselected.textfont.color"),l&&i("constraintext"),c&&i("cliponaxis"),h&&i("textangle"),i("texttemplate")}g&&d&&i("insidetextanchor")}t.exports={supplyDefaults:h,crossTraceDefaults:p,handleGroupingDefaults:d,handleText:v}},{"../../components/color":100,"../../lib":230,"../../plots/cartesian/constraints":284,"../../registry":313,"../scatter/period_defaults":373,"../scatter/xy_defaults":380,"./attributes":323,"./style_defaults":338}],328:[function(e,t,n){"use strict";t.exports=function(e,t,n){return e.x="xVal"in t?t.xVal:t.x,e.y="yVal"in t?t.yVal:t.y,t.xa&&(e.xaxis=t.xa),t.ya&&(e.yaxis=t.ya),"h"===n.orientation?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},{}],329:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("tinycolor2"),a=e("../../lib").isArrayOrTypedArray;n.coerceString=function(e,t,n){if("string"===typeof t){if(t||!e.noBlank)return t}else if(("number"===typeof t||!0===t)&&!e.strict)return String(t);return void 0!==n?n:e.dflt},n.coerceNumber=function(e,t,n){if(r(t)){t=+t;var i=e.min,a=e.max;if(!(void 0!==i&&t<i||void 0!==a&&t>a))return t}return void 0!==n?n:e.dflt},n.coerceColor=function(e,t,n){return i(t).isValid()?t:void 0!==n?n:e.dflt},n.coerceEnumerated=function(e,t,n){return e.coerceNumber&&(t=+t),-1!==e.values.indexOf(t)?t:void 0!==n?n:e.dflt},n.getValue=function(e,t){var n;return Array.isArray(e)?t<e.length&&(n=e[t]):n=e,n},n.getLineWidth=function(e,t){return 0<t.mlw?t.mlw:a(e.marker.line.width)?0:e.marker.line.width}},{"../../lib":230,"fast-isnumeric":15,tinycolor2:65}],330:[function(e,t,n){"use strict";var r=e("../../components/fx"),i=e("../../registry"),a=e("../../components/color"),o=e("../../lib").fillText,s=e("./helpers").getLineWidth,u=e("../../plots/cartesian/axes").hoverLabelText,l=e("../../constants/numerical").BADNUM;function c(e,t,n,r,a){var o=f(e,t,n,r,a);if(o){var s=o.cd,u=s[0].trace,l=s[o.index];return o.color=h(u,l),i.getComponentMethod("errorbars","hoverInfo")(l,u,o),[o]}}function f(e,t,n,i,a){var s,c,f,h,d,p,v,g=e.cd,y=g[0].trace,m=g[0].t,b="closest"===i,_="waterfall"===y.type,w=e.maxHoverDistance,x=e.maxSpikeDistance;"h"===y.orientation?(s=n,c=t,f="y",h="x",d=P,p=M):(s=t,c=n,f="x",h="y",p=P,d=M);var T=y[f+"period"];function k(e){return S(e,-1)}function O(e){return S(e,1)}function S(e,t){return T?e.p+t*Math.abs(e.p-e.orig_p):e[f]+t*e.w/2}var A=b||T?k:function(e){return Math.min(k(e),e.p-m.bardelta/2)},E=b||T?O:function(e){return Math.max(O(e),e.p+m.bardelta/2)};function C(e,t,n){return a.finiteRange&&(n=0),r.inbox(e-s,t-s,n+Math.min(1,Math.abs(t-e)/v)-1)}function M(e){return C(A(e),E(e),w)}function I(e){return C(k(e),O(e),x)}function D(e){var t=e[h];if(_){var n=Math.abs(e.rawS)||0;c>0?t+=n:c<0&&(t-=n)}return t}function P(e){var t=c,n=e.b,i=D(e);return r.inbox(n-t,i-t,w+(i-t)/(i-n)-1)}function N(e){var t=c,n=e.b,i=D(e);return r.inbox(n-t,i-t,x+(i-t)/(i-n)-1)}var j=e[f+"a"],L=e[h+"a"];function R(e){return(d(e)+p(e))/2}v=Math.abs(j.r2c(j.range[1])-j.r2c(j.range[0]));var F=r.getDistanceFunction(i,d,p,R);if(r.getClosest(g,F,e),!1!==e.index&&g[e.index].p!==l){b||(A=function(e){return Math.min(k(e),e.p-m.bargroupwidth/2)},E=function(e){return Math.max(O(e),e.p+m.bargroupwidth/2)});var z=g[e.index],U=y.base?z.b+z.s:z.s;e[h+"0"]=e[h+"1"]=L.c2p(z[h],!0),e[h+"LabelVal"]=U;var q=m.extents[m.extents.round(z.p)];e[f+"0"]=j.c2p(b?A(z):q[0],!0),e[f+"1"]=j.c2p(b?E(z):q[1],!0);var B=void 0!==z.orig_p;return e[f+"LabelVal"]=B?z.orig_p:z.p,e.labelLabel=u(j,e[f+"LabelVal"],y[f+"hoverformat"]),e.valueLabel=u(L,e[h+"LabelVal"],y[h+"hoverformat"]),e.baseLabel=u(L,z.b,y[h+"hoverformat"]),e.spikeDistance=(N(z)+I(z))/2,e[f+"Spike"]=j.c2p(z.p,!0),o(z,y,e),e.hovertemplate=y.hovertemplate,e}}function h(e,t){var n=t.mcc||e.marker.color,r=t.mlcc||e.marker.line.color,i=s(e,t);return a.opacity(n)?n:a.opacity(r)&&i?r:void 0}t.exports={hoverPoints:c,hoverOnBars:f,getTraceColor:h}},{"../../components/color":100,"../../components/fx":140,"../../constants/numerical":210,"../../lib":230,"../../plots/cartesian/axes":276,"../../registry":313,"./helpers":329}],331:[function(e,t,n){"use strict";t.exports={attributes:e("./attributes"),layoutAttributes:e("./layout_attributes"),supplyDefaults:e("./defaults").supplyDefaults,crossTraceDefaults:e("./defaults").crossTraceDefaults,supplyLayoutDefaults:e("./layout_defaults"),calc:e("./calc"),crossTraceCalc:e("./cross_trace_calc").crossTraceCalc,colorbar:e("../scatter/marker_colorbar"),arraysToCalcdata:e("./arrays_to_calcdata"),plot:e("./plot").plot,style:e("./style").style,styleOnSelect:e("./style").styleOnSelect,hoverPoints:e("./hover").hoverPoints,eventData:e("./event_data"),selectPoints:e("./select"),moduleType:"trace",name:"bar",basePlotModule:e("../../plots/cartesian"),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},{"../../plots/cartesian":290,"../scatter/marker_colorbar":371,"./arrays_to_calcdata":322,"./attributes":323,"./calc":324,"./cross_trace_calc":326,"./defaults":327,"./event_data":328,"./hover":330,"./layout_attributes":332,"./layout_defaults":333,"./plot":334,"./select":335,"./style":337}],332:[function(e,t,n){"use strict";t.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},{}],333:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../plots/cartesian/axes"),a=e("../../lib"),o=e("./layout_attributes");t.exports=function(e,t,n){function s(n,r){return a.coerce(e,t,o,n,r)}for(var u=!1,l=!1,c=!1,f={},h=s("barmode"),d=0;d<n.length;d++){var p=n[d];if(r.traceIs(p,"bar")&&p.visible){if(u=!0,"group"===h){var v=p.xaxis+p.yaxis;f[v]&&(c=!0),f[v]=!0}p.visible&&"histogram"===p.type&&"category"!==i.getFromId({_fullLayout:t},p["v"===p.orientation?"xaxis":"yaxis"]).type&&(l=!0)}}u?("overlay"!==h&&s("barnorm"),s("bargap",l&&!c?0:.2),s("bargroupgap")):delete t.barmode}},{"../../lib":230,"../../plots/cartesian/axes":276,"../../registry":313,"./layout_attributes":332}],334:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("fast-isnumeric"),a=e("../../lib"),o=e("../../lib/svg_text_utils"),s=e("../../components/color"),u=e("../../components/drawing"),l=e("../../registry"),c=e("../../plots/cartesian/axes").tickText,f=e("./uniform_text"),h=f.recordMinTextSize,d=f.clearMinTextSize,p=e("./style"),v=e("./helpers"),g=e("./constants"),y=e("./attributes"),m=y.text,b=y.textposition,_=e("../../components/fx/helpers").appendArrayPointValue,w=g.TEXTPAD;function x(e){return e.id}function T(e){if(e.ids)return x}function k(e,t){return e<t?1:-1}function O(e,t,n,r){var i=[],a=[],o=r?t:n,s=r?n:t;return i[0]=o.c2p(e.s0,!0),a[0]=s.c2p(e.p0,!0),i[1]=o.c2p(e.s1,!0),a[1]=s.c2p(e.p1,!0),r?[i,a]:[a,i]}function S(e,t,n,r){var i;return!t.uniformtext.mode&&A(n)?(r&&(i=r()),e.transition().duration(n.duration).ease(n.easing).each("end",(function(){i&&i()})).each("interrupt",(function(){i&&i()}))):e}function A(e){return e&&e.duration>0}function E(e,t,n,o,c,f){var h=t.xaxis,p=t.yaxis,g=e._fullLayout;c||(c={mode:g.barmode,norm:g.barmode,gap:g.bargap,groupgap:g.bargroupgap},d("bar",g));var y=a.makeTraceGroups(o,n,"trace bars").each((function(n){var o=r.select(this),l=n[0].trace,d="waterfall"===l.type,y="funnel"===l.type,m="bar"===l.type||y,b=0;d&&l.connector.visible&&"between"===l.connector.mode&&(b=l.connector.line.width/2);var _="h"===l.orientation,w=A(c),x=a.ensureSingle(o,"g","points"),E=T(l),M=x.selectAll("g.point").data(a.identity,E);M.enter().append("g").classed("point",!0),M.exit().remove(),M.each((function(o,d){var y,x,T=r.select(this),A=O(o,h,p,_),E=A[0][0],M=A[0][1],I=A[1][0],D=A[1][1],P=0===(_?M-E:D-I);if(P&&m&&v.getLineWidth(l,o)&&(P=!1),P||(P=!i(E)||!i(M)||!i(I)||!i(D)),o.isBlank=P,P&&(_?M=E:D=I),b&&!P&&(_?(E-=k(E,M)*b,M+=k(E,M)*b):(I-=k(I,D)*b,D+=k(I,D)*b)),"waterfall"===l.type){if(!P){var N=l[o.dir].marker;y=N.line.width,x=N.color}}else y=v.getLineWidth(l,o),x=o.mc||l.marker.color;function j(e){var t=r.round(y/2%1,2);return 0===c.gap&&0===c.groupgap?r.round(Math.round(e)-t,2):e}function L(e,t,n){return n&&e===t?e:Math.abs(e-t)>=2?j(e):e>t?Math.ceil(e):Math.floor(e)}if(!e._context.staticPlot){var R=s.opacity(x)<1||y>.01?j:L;E=R(E,M,_),M=R(M,E,_),I=R(I,D,!_),D=R(D,I,!_)}var F=S(a.ensureSingle(T,"path"),g,c,f);if(F.style("vector-effect","non-scaling-stroke").attr("d",isNaN((M-E)*(D-I))||P&&e._context.staticPlot?"M0,0Z":"M"+E+","+I+"V"+D+"H"+M+"V"+I+"Z").call(u.setClipUrl,t.layerClipId,e),!g.uniformtext.mode&&w){var z=u.makePointStyleFns(l);u.singlePointStyle(o,F,l,z,e)}C(e,t,T,n,d,E,M,I,D,c,f),t.layerClipId&&u.hideOutsideRangePoint(o,T.select("text"),h,p,l.xcalendar,l.ycalendar)}));var I=!1===l.cliponaxis;u.setClipUrl(o,I?null:t.layerClipId,e)}));l.getComponentMethod("errorbars","plot")(e,y,t,c)}function C(e,t,n,r,i,s,l,c,f,d,v){var g,y=t.xaxis,m=t.yaxis,b=e._fullLayout;function _(t,n,r){return a.ensureSingle(t,"text").text(n).attr({class:"bartext bartext-"+g,"text-anchor":"middle","data-notex":1}).call(u.font,r).call(o.convertToTspans,e)}var x=r[0].trace,T="h"===x.orientation,k=N(b,r,i,y,m);g=j(x,i);var O="stack"===d.mode||"relative"===d.mode,A=r[i],E=!O||A._outmost;if(k&&"none"!==g&&(!A.isBlank&&s!==l&&c!==f||"auto"!==g&&"inside"!==g)){var C=b.font,M=p.getBarColor(r[i],x),I=p.getInsideTextFont(x,i,C,M),L=p.getOutsideTextFont(x,i,C),R=n.datum();T?"log"===y.type&&R.s0<=0&&(s=y.range[0]<y.range[1]?0:y._length):"log"===m.type&&R.s0<=0&&(c=m.range[0]<m.range[1]?m._length:0);var F,z,U,q,B,V=Math.abs(l-s)-2*w,H=Math.abs(f-c)-2*w;if("outside"===g&&(E||A.hasB||(g="inside")),"auto"===g&&(E?(g="inside",F=_(n,k,B=a.ensureUniformFontSize(e,I)),U=(z=u.bBox(F.node())).width,q=z.height,U>0&&q>0&&(U<=V&&q<=H||U<=H&&q<=V||(T?V>=U*(H/q):H>=q*(V/U)))?g="inside":(g="outside",F.remove(),F=null)):g="inside"),!F){var W=(F=_(n,k,B=a.ensureUniformFontSize(e,"outside"===g?L:I))).attr("transform");if(F.attr("transform",""),U=(z=u.bBox(F.node())).width,q=z.height,F.attr("transform",W),U<=0||q<=0)return void F.remove()}var Y,G=x.textangle;(Y="outside"===g?P(s,l,c,f,z,{isHorizontal:T,constrained:"both"===x.constraintext||"outside"===x.constraintext,angle:G}):D(s,l,c,f,z,{isHorizontal:T,constrained:"both"===x.constraintext||"inside"===x.constraintext,angle:G,anchor:x.insidetextanchor})).fontSize=B.size,h(x.type,Y,b),A.transform=Y,S(F,b,d,v).attr("transform",a.getTextTransform(Y))}else n.select("text").remove()}function M(e){return"auto"===e?0:e}function I(e,t){var n=Math.PI/180*t,r=Math.abs(Math.sin(n)),i=Math.abs(Math.cos(n));return{x:e.width*i+e.height*r,y:e.width*r+e.height*i}}function D(e,t,n,r,i,a){var o=!!a.isHorizontal,s=!!a.constrained,u=a.angle||0,l=a.anchor||"end",c="end"===l,f="start"===l,h=((a.leftToRight||0)+1)/2,d=1-h,p=i.width,v=i.height,g=Math.abs(t-e),y=Math.abs(r-n),m=g>2*w&&y>2*w?w:0;g-=2*m,y-=2*m;var b=M(u);"auto"!==u||p<=g&&v<=y||!(p>g||v>y)||(p>y||v>g)&&p<v===g<y||(b+=90);var _=I(i,b),x=1;s&&(x=Math.min(1,g/_.x,y/_.y));var T=i.left*d+i.right*h,O=(i.top+i.bottom)/2,S=(e+w)*d+(t-w)*h,A=(n+r)/2,E=0,C=0;if(f||c){var D=(o?_.x:_.y)/2,P=o?k(e,t):k(n,r);o?f?(S=e+P*m,E=-P*D):(S=t-P*m,E=P*D):f?(A=n+P*m,C=-P*D):(A=r-P*m,C=P*D)}return{textX:T,textY:O,targetX:S,targetY:A,anchorX:E,anchorY:C,scale:x,rotate:b}}function P(e,t,n,r,i,a){var o,s=!!a.isHorizontal,u=!!a.constrained,l=a.angle||0,c=i.width,f=i.height,h=Math.abs(t-e),d=Math.abs(r-n);o=s?d>2*w?w:0:h>2*w?w:0;var p=1;u&&(p=s?Math.min(1,d/f):Math.min(1,h/c));var v=M(l),g=I(i,v),y=(s?g.x:g.y)/2,m=(i.left+i.right)/2,b=(i.top+i.bottom)/2,_=(e+t)/2,x=(n+r)/2,T=0,O=0,S=s?k(t,e):k(n,r);return s?(_=t-S*o,T=S*y):(x=r+S*o,O=-S*y),{textX:m,textY:b,targetX:_,targetY:x,anchorX:T,anchorY:O,scale:p,rotate:v}}function N(e,t,n,r,i){var a,o=t[0].trace;return a=o.texttemplate?L(e,t,n,r,i):o.textinfo?R(t,n,r,i):v.getValue(o.text,n),v.coerceString(m,a)}function j(e,t){var n=v.getValue(e.textposition,t);return v.coerceEnumerated(b,n)}function L(e,t,n,r,i){var o=t[0].trace,s=a.castOption(o,n,"texttemplate");if(!s)return"";var u,l,f,h,d="waterfall"===o.type,p="funnel"===o.type;function v(e){return c(l,l.c2l(e),!0).text}function g(e){return c(h,h.c2l(e),!0).text}"h"===o.orientation?(u="y",l=i,f="x",h=r):(u="x",l=r,f="y",h=i);var y=t[n],m={};m.label=y.p,m.labelLabel=m[u+"Label"]=v(y.p);var b=a.castOption(o,y.i,"text");(0===b||b)&&(m.text=b),m.value=y.s,m.valueLabel=m[f+"Label"]=g(y.s);var w={};_(w,o,y.i),d&&(m.delta=+y.rawS||y.s,m.deltaLabel=g(m.delta),m.final=y.v,m.finalLabel=g(m.final),m.initial=m.final-m.delta,m.initialLabel=g(m.initial)),p&&(m.value=y.s,m.valueLabel=g(m.value),m.percentInitial=y.begR,m.percentInitialLabel=a.formatPercent(y.begR),m.percentPrevious=y.difR,m.percentPreviousLabel=a.formatPercent(y.difR),m.percentTotal=y.sumR,m.percenTotalLabel=a.formatPercent(y.sumR));var x=a.castOption(o,y.i,"customdata");return x&&(m.customdata=x),a.texttemplateString(s,m,e._d3locale,w,m,o._meta||{})}function R(e,t,n,r){var i=e[0].trace,o="h"===i.orientation,s="waterfall"===i.type,u="funnel"===i.type;function l(e){return c(o?r:n,e,!0).text}function f(e){return c(o?n:r,+e,!0).text}var h,d=i.textinfo,p=e[t],v=d.split("+"),g=[],y=function(e){return-1!==v.indexOf(e)};if(y("label")&&g.push(l(e[t].p)),y("text")&&(0===(h=a.castOption(i,p.i,"text"))||h)&&g.push(h),s){var m=+p.rawS||p.s,b=p.v,_=b-m;y("initial")&&g.push(f(_)),y("delta")&&g.push(f(m)),y("final")&&g.push(f(b))}if(u){y("value")&&g.push(f(p.s));var w=0;y("percent initial")&&w++,y("percent previous")&&w++,y("percent total")&&w++;var x=w>1;y("percent initial")&&(h=a.formatPercent(p.begR),x&&(h+=" of initial"),g.push(h)),y("percent previous")&&(h=a.formatPercent(p.difR),x&&(h+=" of previous"),g.push(h)),y("percent total")&&(h=a.formatPercent(p.sumR),x&&(h+=" of total"),g.push(h))}return g.join("<br>")}t.exports={plot:E,toMoveInsideBar:D}},{"../../components/color":100,"../../components/drawing":122,"../../components/fx/helpers":136,"../../lib":230,"../../lib/svg_text_utils":252,"../../plots/cartesian/axes":276,"../../registry":313,"./attributes":323,"./constants":325,"./helpers":329,"./style":337,"./uniform_text":339,"@plotly/d3":11,"fast-isnumeric":15}],335:[function(e,t,n){"use strict";function r(e,t,n,r,i){var a=t.c2p(r?e.s0:e.p0,!0),o=t.c2p(r?e.s1:e.p1,!0),s=n.c2p(r?e.p0:e.s0,!0),u=n.c2p(r?e.p1:e.s1,!0);return i?[(a+o)/2,(s+u)/2]:r?[o,(s+u)/2]:[(a+o)/2,u]}t.exports=function(e,t){var n,i=e.cd,a=e.xaxis,o=e.yaxis,s=i[0].trace,u="funnel"===s.type,l="h"===s.orientation,c=[];if(!1===t)for(n=0;n<i.length;n++)i[n].selected=0;else for(n=0;n<i.length;n++){var f=i[n],h="ct"in f?f.ct:r(f,a,o,l,u);t.contains(h,!1,n,e)?(c.push({pointNumber:n,x:a.c2d(f.x),y:o.c2d(f.y)}),f.selected=1):f.selected=0}return c}},{}],336:[function(e,t,n){"use strict";t.exports=a;var r=e("../../lib").distinctVals,i=e("../../constants/numerical").BADNUM;function a(e,t){this.traces=e,this.sepNegVal=t.sepNegVal,this.overlapNoMerge=t.overlapNoMerge;for(var n=1/0,a=[],o=0;o<e.length;o++){for(var s=e[o],u=0;u<s.length;u++){var l=s[u];l.p!==i&&a.push(l.p)}s[0]&&s[0].width1&&(n=Math.min(s[0].width1,n))}this.positions=a;var c=r(a);this.distinctPositions=c.vals,1===c.vals.length&&n!==1/0?this.minDiff=n:this.minDiff=Math.min(c.minDiff,n);var f=(t.posAxis||{}).type;"category"!==f&&"multicategory"!==f||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}a.prototype.put=function(e,t){var n=this.getLabel(e,t),r=this.bins[n]||0;return this.bins[n]=r+t,r},a.prototype.get=function(e,t){var n=this.getLabel(e,t);return this.bins[n]||0},a.prototype.getLabel=function(e,t){return(t<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?e:Math.round(e/this.binWidth))}},{"../../constants/numerical":210,"../../lib":230}],337:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../../components/color"),a=e("../../components/drawing"),o=e("../../lib"),s=e("../../registry"),u=e("./uniform_text").resizeText,l=e("./attributes"),c=l.textfont,f=l.insidetextfont,h=l.outsidetextfont,d=e("./helpers");function p(e){var t=r.select(e).selectAll("g.barlayer").selectAll("g.trace");u(e,t,"bar");var n=t.size(),i=e._fullLayout;t.style("opacity",(function(e){return e[0].trace.opacity})).each((function(e){("stack"===i.barmode&&n>1||0===i.bargap&&0===i.bargroupgap&&!e[0].trace.marker.line.width)&&r.select(this).attr("shape-rendering","crispEdges")})),t.selectAll("g.points").each((function(t){v(r.select(this),t[0].trace,e)})),s.getComponentMethod("errorbars","style")(t)}function v(e,t,n){a.pointStyle(e.selectAll("path"),t,n),g(e,t,n)}function g(e,t,n){e.selectAll("text").each((function(e){var i=r.select(this),s=o.ensureUniformFontSize(n,_(i,e,t,n));a.font(i,s)}))}function y(e,t,n){var r=t[0].trace;r.selectedpoints?m(n,r,e):(v(n,r,e),s.getComponentMethod("errorbars","style")(n))}function m(e,t,n){a.selectedPointStyle(e.selectAll("path"),t),b(e.selectAll("text"),t,n)}function b(e,t,n){e.each((function(e){var i,s=r.select(this);if(e.selected){i=o.ensureUniformFontSize(n,_(s,e,t,n));var u=t.selected.textfont&&t.selected.textfont.color;u&&(i.color=u),a.font(s,i)}else a.selectedTextStyle(s,t)}))}function _(e,t,n,r){var i=r._fullLayout.font,a=n.textfont;if(e.classed("bartext-inside")){var o=O(t,n);a=x(n,t.i,i,o)}else e.classed("bartext-outside")&&(a=T(n,t.i,i));return a}function w(e,t,n){return k(c,e.textfont,t,n)}function x(e,t,n,r){var a=w(e,t,n);return(void 0===e._input.textfont||void 0===e._input.textfont.color||Array.isArray(e.textfont.color)&&void 0===e.textfont.color[t])&&(a={color:i.contrast(r),family:a.family,size:a.size}),k(f,e.insidetextfont,t,a)}function T(e,t,n){var r=w(e,t,n);return k(h,e.outsidetextfont,t,r)}function k(e,t,n,r){t=t||{};var i=d.getValue(t.family,n),a=d.getValue(t.size,n),o=d.getValue(t.color,n);return{family:d.coerceString(e.family,i,r.family),size:d.coerceNumber(e.size,a,r.size),color:d.coerceColor(e.color,o,r.color)}}function O(e,t){return"waterfall"===t.type?t[e.dir].marker.color:e.mcc||e.mc||t.marker.color}t.exports={style:p,styleTextPoints:g,styleOnSelect:y,getInsideTextFont:x,getOutsideTextFont:T,getBarColor:O,resizeText:u}},{"../../components/color":100,"../../components/drawing":122,"../../lib":230,"../../registry":313,"./attributes":323,"./helpers":329,"./uniform_text":339,"@plotly/d3":11}],338:[function(e,t,n){"use strict";var r=e("../../components/color"),i=e("../../components/colorscale/helpers").hasColorscale,a=e("../../components/colorscale/defaults"),o=e("../../lib").coercePattern;t.exports=function(e,t,n,s,u){var l=n("marker.color",s),c=i(e,"marker");c&&a(e,t,u,n,{prefix:"marker.",cLetter:"c"}),n("marker.line.color",r.defaultLine),i(e,"marker.line")&&a(e,t,u,n,{prefix:"marker.line.",cLetter:"c"}),n("marker.line.width"),n("marker.opacity"),o(n,"marker.pattern",l,c),n("selected.marker.color"),n("unselected.marker.color")}},{"../../components/color":100,"../../components/colorscale/defaults":110,"../../components/colorscale/helpers":111,"../../lib":230}],339:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../../lib");function a(e,t,n){var a=e._fullLayout,o=a["_"+n+"Text_minsize"];if(o){var s,u="hide"===a.uniformtext.mode;switch(n){case"funnelarea":case"pie":case"sunburst":s="g.slice";break;case"treemap":case"icicle":s="g.slice, g.pathbar";break;default:s="g.points > g.point"}t.selectAll(s).each((function(e){var t=e.transform;t&&(t.scale=u&&t.hide?0:o/t.fontSize,r.select(this).select("text").attr("transform",i.getTextTransform(t)))}))}}function o(e,t,n){if(n.uniformtext.mode){var r=u(e),i=n.uniformtext.minsize,a=t.scale*t.fontSize;t.hide=a<i,n[r]=n[r]||1/0,t.hide||(n[r]=Math.min(n[r],Math.max(a,i)))}}function s(e,t){t[u(e)]=void 0}function u(e){return"_"+e+"Text_minsize"}t.exports={recordMinTextSize:o,clearMinTextSize:s,resizeText:a}},{"../../lib":230,"@plotly/d3":11}],340:[function(e,t,n){"use strict";var r=e("../../plots/attributes"),i=e("../../plots/domain").attributes,a=e("../../plots/font_attributes"),o=e("../../components/color/attributes"),s=e("../../plots/template_attributes").hovertemplateAttrs,u=e("../../plots/template_attributes").texttemplateAttrs,l=e("../../lib/extend").extendFlat,c=a({editType:"plot",arrayOk:!0,colorEditType:"plot"});t.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:o.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:l({},r.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:s({},{keys:["label","color","value","percent","text"]}),texttemplate:u({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:l({},c,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:l({},c,{}),outsidetextfont:l({},c,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:l({},c,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:i({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"number",min:-360,max:360,dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:l({},c,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},{"../../components/color/attributes":99,"../../lib/extend":224,"../../plots/attributes":272,"../../plots/domain":304,"../../plots/font_attributes":305,"../../plots/template_attributes":312}],341:[function(e,t,n){"use strict";var r=e("../../plots/plots");n.name="pie",n.plot=function(e,t,i,a){r.plotBasePlot(n.name,e,t,i,a)},n.clean=function(e,t,i,a){r.cleanBasePlot(n.name,e,t,i,a)}},{"../../plots/plots":311}],342:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("tinycolor2"),a=e("../../components/color"),o={};function s(e,t){var n,i,a=[],o=e._fullLayout,s=o.hiddenlabels||[],l=t.labels,c=t.marker.colors||[],f=t.values,h=t._length,d=t._hasValues&&h;if(t.dlabel)for(l=new Array(h),n=0;n<h;n++)l[n]=String(t.label0+n*t.dlabel);var p={},v=u(o["_"+t.type+"colormap"]),g=0,y=!1;for(n=0;n<h;n++){var m,b,_;if(d){if(m=f[n],!r(m))continue;if((m=+m)<0)continue}else m=1;void 0!==(b=l[n])&&""!==b||(b=n);var w=p[b=String(b)];void 0===w?(p[b]=a.length,(_=-1!==s.indexOf(b))||(g+=m),a.push({v:m,label:b,color:v(c[n],b),i:n,pts:[n],hidden:_})):(y=!0,(i=a[w]).v+=m,i.pts.push(n),i.hidden||(g+=m),!1===i.color&&c[n]&&(i.color=v(c[n],b)))}return("funnelarea"===t.type?y:t.sort)&&a.sort((function(e,t){return t.v-e.v})),a[0]&&(a[0].vTotal=g),a}function u(e){return function(t,n){return!!t&&!!(t=i(t)).isValid()&&(t=a.addOpacity(t,t.getAlpha()),e[n]||(e[n]=t),t)}}function l(e,t){var n=(t||{}).type;n||(n="pie");var r=e._fullLayout,i=e.calcdata,a=r[n+"colorway"],s=r["_"+n+"colormap"];r["extend"+n+"colors"]&&(a=c(a,o));for(var u=0,l=0;l<i.length;l++){var f=i[l];if(f[0].trace.type===n)for(var h=0;h<f.length;h++){var d=f[h];!1===d.color&&(s[d.label]?d.color=s[d.label]:(s[d.label]=d.color=a[u%a.length],u++))}}}function c(e,t){var n,r=JSON.stringify(e),a=t[r];if(!a){for(a=e.slice(),n=0;n<e.length;n++)a.push(i(e[n]).lighten(20).toHexString());for(n=0;n<e.length;n++)a.push(i(e[n]).darken(20).toHexString());t[r]=a}return a}t.exports={calc:s,crossTraceCalc:l,makePullColorFn:u,generateExtendedColors:c}},{"../../components/color":100,"fast-isnumeric":15,tinycolor2:65}],343:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),a=e("./attributes"),o=e("../../plots/domain").defaults,s=e("../bar/defaults").handleText;function u(e,t){var n=Array.isArray(e),a=i.isArrayOrTypedArray(t),o=Math.min(n?e.length:1/0,a?t.length:1/0);if(isFinite(o)||(o=0),o&&a){for(var s,u=0;u<o;u++){var l=t[u];if(r(l)&&l>0){s=!0;break}}s||(o=0)}return{hasLabels:n,hasValues:a,len:o}}function l(e,t,n,r){function l(n,r){return i.coerce(e,t,a,n,r)}var c=u(l("labels"),l("values")),f=c.len;if(t._hasLabels=c.hasLabels,t._hasValues=c.hasValues,!t._hasLabels&&t._hasValues&&(l("label0"),l("dlabel")),f){t._length=f,l("marker.line.width")&&l("marker.line.color"),l("marker.colors"),l("scalegroup");var h,d=l("text"),p=l("texttemplate");if(p||(h=l("textinfo",Array.isArray(d)?"text+percent":"percent")),l("hovertext"),l("hovertemplate"),p||h&&"none"!==h){var v=l("textposition");s(e,t,r,l,v,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(v)||"auto"===v||"outside"===v)&&l("automargin"),("inside"===v||"auto"===v||Array.isArray(v))&&l("insidetextorientation")}o(t,r,l);var g=l("hole");if(l("title.text")){var y=l("title.position",g?"middle center":"top center");g||"middle center"!==y||(t.title.position="top center"),i.coerceFont(l,"title.font",r.font)}l("sort"),l("direction"),l("rotation"),l("pull")}else t.visible=!1}t.exports={handleLabelsAndValues:u,supplyDefaults:l}},{"../../lib":230,"../../plots/domain":304,"../bar/defaults":327,"./attributes":340,"fast-isnumeric":15}],344:[function(e,t,n){"use strict";var r=e("../../components/fx/helpers").appendArrayMultiPointValues;t.exports=function(e,t){var n={curveNumber:t.index,pointNumbers:e.pts,data:t._input,fullData:t,label:e.label,color:e.color,value:e.v,percent:e.percent,text:e.text,v:e.v};return 1===e.pts.length&&(n.pointNumber=n.i=e.pts[0]),r(n,t,e.pts),"funnelarea"===t.type&&(delete n.v,delete n.i),n}},{"../../components/fx/helpers":136}],345:[function(e,t,n){"use strict";var r=e("../../lib");function i(e){return-1!==e.indexOf("e")?e.replace(/[.]?0+e/,"e"):-1!==e.indexOf(".")?e.replace(/[.]?0+$/,""):e}n.formatPiePercent=function(e,t){var n=i((100*e).toPrecision(3));return r.numSeparate(n,t)+"%"},n.formatPieValue=function(e,t){var n=i(e.toPrecision(10));return r.numSeparate(n,t)},n.getFirstFilled=function(e,t){if(Array.isArray(e))for(var n=0;n<t.length;n++){var r=e[t[n]];if(r||0===r||""===r)return r}},n.castOption=function(e,t){return Array.isArray(e)?n.getFirstFilled(e,t):e||void 0},n.getRotationAngle=function(e){return("auto"===e?0:e)*Math.PI/180}},{"../../lib":230}],346:[function(e,t,n){"use strict";t.exports={attributes:e("./attributes"),supplyDefaults:e("./defaults").supplyDefaults,supplyLayoutDefaults:e("./layout_defaults"),layoutAttributes:e("./layout_attributes"),calc:e("./calc").calc,crossTraceCalc:e("./calc").crossTraceCalc,plot:e("./plot").plot,style:e("./style"),styleOne:e("./style_one"),moduleType:"trace",name:"pie",basePlotModule:e("./base_plot"),categories:["pie-like","pie","showLegend"],meta:{}}},{"./attributes":340,"./base_plot":341,"./calc":342,"./defaults":343,"./layout_attributes":347,"./layout_defaults":348,"./plot":349,"./style":350,"./style_one":351}],347:[function(e,t,n){"use strict";t.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},{}],348:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./layout_attributes");t.exports=function(e,t){function n(n,a){return r.coerce(e,t,i,n,a)}n("hiddenlabels"),n("piecolorway",t.colorway),n("extendpiecolors")}},{"../../lib":230,"./layout_attributes":347}],349:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../../plots/plots"),a=e("../../components/fx"),o=e("../../components/color"),s=e("../../components/drawing"),u=e("../../lib"),l=u.strScale,c=u.strTranslate,f=e("../../lib/svg_text_utils"),h=e("../bar/uniform_text"),d=h.recordMinTextSize,p=h.clearMinTextSize,v=e("../bar/constants").TEXTPAD,g=e("./helpers"),y=e("./event_data"),m=e("../../lib").isValidTextValue;function b(e,t){var n=e._fullLayout,a=n._size;p("pie",n),k(t,e),U(t,a);var o=u.makeTraceGroups(n._pielayer,t,"trace").each((function(t){var o=r.select(this),h=t[0],p=h.trace;B(t),o.attr("stroke-linejoin","round"),o.each((function(){var v=r.select(this).selectAll("g.slice").data(t);v.enter().append("g").classed("slice",!0),v.exit().remove();var y=[[[],[]],[[],[]]],m=!1;v.each((function(i,a){if(i.hidden)r.select(this).selectAll("path,g").remove();else{i.pointNumber=i.i,i.curveNumber=p.index,y[i.pxmid[1]<0?0:1][i.pxmid[0]<0?0:1].push(i);var o=h.cx,l=h.cy,c=r.select(this),v=c.selectAll("path.surface").data([i]);if(v.enter().append("path").classed("surface",!0).style({"pointer-events":"all"}),c.call(w,e,t),p.pull){var b=+g.castOption(p.pull,i.pts)||0;b>0&&(o+=b*i.pxmid[0],l+=b*i.pxmid[1])}i.cxFinal=o,i.cyFinal=l;var _=p.hole;if(i.v===h.vTotal){var k="M"+(o+i.px0[0])+","+(l+i.px0[1])+M(i.px0,i.pxmid,!0,1)+M(i.pxmid,i.px0,!0,1)+"Z";_?v.attr("d","M"+(o+_*i.px0[0])+","+(l+_*i.px0[1])+M(i.px0,i.pxmid,!1,_)+M(i.pxmid,i.px0,!1,_)+"Z"+k):v.attr("d",k)}else{var S=M(i.px0,i.px1,!0,1);if(_){var A=1-_;v.attr("d","M"+(o+_*i.px1[0])+","+(l+_*i.px1[1])+M(i.px1,i.px0,!1,_)+"l"+A*i.px0[0]+","+A*i.px0[1]+S+"Z")}else v.attr("d","M"+o+","+l+"l"+i.px0[0]+","+i.px0[1]+S+"Z")}H(e,i,h);var E=g.castOption(p.textposition,i.pts),C=c.selectAll("g.slicetext").data(i.text&&"none"!==E?[0]:[]);C.enter().append("g").classed("slicetext",!0),C.exit().remove(),C.each((function(){var c=u.ensureSingle(r.select(this),"text","",(function(e){e.attr("data-notex",1)})),v=u.ensureUniformFontSize(e,"outside"===E?x(p,i,n.font):T(p,i,n.font));c.text(i.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(s.font,v).call(f.convertToTspans,e);var g,y=s.bBox(c.node());if("outside"===E)g=P(y,i);else if(g=O(y,i,h),"auto"===E&&g.scale<1){var b=u.ensureUniformFontSize(e,p.outsidetextfont);c.call(s.font,b),g=P(y=s.bBox(c.node()),i)}var _=g.textPosAngle,w=void 0===_?i.pxmid:V(h.r,_);if(g.targetX=o+w[0]*g.rCenter+(g.x||0),g.targetY=l+w[1]*g.rCenter+(g.y||0),W(g,y),g.outside){var k=g.targetY;i.yLabelMin=k-y.height/2,i.yLabelMid=k,i.yLabelMax=k+y.height/2,i.labelExtraX=0,i.labelExtraY=0,m=!0}g.fontSize=v.size,d(p.type,g,n),t[a].transform=g,c.attr("transform",u.getTextTransform(g))}))}function M(e,t,n,r){var a=r*(t[0]-e[0]),o=r*(t[1]-e[1]);return"a"+r*h.r+","+r*h.r+" 0 "+i.largeArc+(n?" 1 ":" 0 ")+a+","+o}}));var b=r.select(this).selectAll("g.titletext").data(p.title.text?[0]:[]);if(b.enter().append("g").classed("titletext",!0),b.exit().remove(),b.each((function(){var t,n=u.ensureSingle(r.select(this),"text","",(function(e){e.attr("data-notex",1)})),i=p.title.text;p._meta&&(i=u.templateString(i,p._meta)),n.text(i).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(s.font,p.title.font).call(f.convertToTspans,e),t="middle center"===p.title.position?N(h):j(h,a),n.attr("transform",c(t.x,t.y)+l(Math.min(1,t.scale))+c(t.tx,t.ty))})),m&&z(y,p),_(v,p),m&&p.automargin){var k=s.bBox(o.node()),S=p.domain,A=a.w*(S.x[1]-S.x[0]),E=a.h*(S.y[1]-S.y[0]),C=(.5*A-h.r)/a.w,M=(.5*E-h.r)/a.h;i.autoMargin(e,"pie."+p.uid+".automargin",{xl:S.x[0]-C,xr:S.x[1]+C,yb:S.y[0]-M,yt:S.y[1]+M,l:Math.max(h.cx-h.r-k.left,0),r:Math.max(k.right-(h.cx+h.r),0),b:Math.max(k.bottom-(h.cy+h.r),0),t:Math.max(h.cy-h.r-k.top,0),pad:5})}}))}));setTimeout((function(){o.selectAll("tspan").each((function(){var e=r.select(this);e.attr("dy")&&e.attr("dy",e.attr("dy"))}))}),0)}function _(e,t){e.each((function(e){var n=r.select(this);if(e.labelExtraX||e.labelExtraY){var i=n.select("g.slicetext text");e.transform.targetX+=e.labelExtraX,e.transform.targetY+=e.labelExtraY,i.attr("transform",u.getTextTransform(e.transform));var a=e.cxFinal+e.pxmid[0],s="M"+a+","+(e.cyFinal+e.pxmid[1]),l=(e.yLabelMax-e.yLabelMin)*(e.pxmid[0]<0?-1:1)/4;if(e.labelExtraX){var c=e.labelExtraX*e.pxmid[1]/e.pxmid[0],f=e.yLabelMid+e.labelExtraY-(e.cyFinal+e.pxmid[1]);Math.abs(c)>Math.abs(f)?s+="l"+f*e.pxmid[0]/e.pxmid[1]+","+f+"H"+(a+e.labelExtraX+l):s+="l"+e.labelExtraX+","+c+"v"+(f-c)+"h"+l}else s+="V"+(e.yLabelMid+e.labelExtraY)+"h"+l;u.ensureSingle(n,"path","textline").call(o.stroke,t.outsidetextfont.color).attr({"stroke-width":Math.min(2,t.outsidetextfont.size/8),d:s,fill:"none"})}else n.select("path.textline").remove()}))}function w(e,t,n){var i=n[0],o=i.trace,s=i.cx,l=i.cy;"_hasHoverLabel"in o||(o._hasHoverLabel=!1),"_hasHoverEvent"in o||(o._hasHoverEvent=!1),e.on("mouseover",(function(e){var n=t._fullLayout,c=t._fullData[o.index];if(!t._dragging&&!1!==n.hovermode){var f=c.hoverinfo;if(Array.isArray(f)&&(f=a.castHoverinfo({hoverinfo:[g.castOption(f,e.pts)],_module:o._module},n,0)),"all"===f&&(f="label+text+value+percent+name"),c.hovertemplate||"none"!==f&&"skip"!==f&&f){var h=e.rInscribed||0,d=s+e.pxmid[0]*(1-h),p=l+e.pxmid[1]*(1-h),v=n.separators,m=[];if(f&&-1!==f.indexOf("label")&&m.push(e.label),e.text=g.castOption(c.hovertext||c.text,e.pts),f&&-1!==f.indexOf("text")){var b=e.text;u.isValidTextValue(b)&&m.push(b)}e.value=e.v,e.valueLabel=g.formatPieValue(e.v,v),f&&-1!==f.indexOf("value")&&m.push(e.valueLabel),e.percent=e.v/i.vTotal,e.percentLabel=g.formatPiePercent(e.percent,v),f&&-1!==f.indexOf("percent")&&m.push(e.percentLabel);var _=c.hoverlabel,w=_.font;a.loneHover({trace:o,x0:d-h*i.r,x1:d+h*i.r,y:p,text:m.join("<br>"),name:c.hovertemplate||-1!==f.indexOf("name")?c.name:void 0,idealAlign:e.pxmid[0]<0?"left":"right",color:g.castOption(_.bgcolor,e.pts)||e.color,borderColor:g.castOption(_.bordercolor,e.pts),fontFamily:g.castOption(w.family,e.pts),fontSize:g.castOption(w.size,e.pts),fontColor:g.castOption(w.color,e.pts),nameLength:g.castOption(_.namelength,e.pts),textAlign:g.castOption(_.align,e.pts),hovertemplate:g.castOption(c.hovertemplate,e.pts),hovertemplateLabels:e,eventData:[y(e,c)]},{container:n._hoverlayer.node(),outerContainer:n._paper.node(),gd:t}),o._hasHoverLabel=!0}o._hasHoverEvent=!0,t.emit("plotly_hover",{points:[y(e,c)],event:r.event})}})),e.on("mouseout",(function(e){var n=t._fullLayout,i=t._fullData[o.index],s=r.select(this).datum();o._hasHoverEvent&&(e.originalEvent=r.event,t.emit("plotly_unhover",{points:[y(s,i)],event:r.event}),o._hasHoverEvent=!1),o._hasHoverLabel&&(a.loneUnhover(n._hoverlayer.node()),o._hasHoverLabel=!1)})),e.on("click",(function(e){var n=t._fullLayout,i=t._fullData[o.index];t._dragging||!1===n.hovermode||(t._hoverdata=[y(e,i)],a.click(t,r.event))}))}function x(e,t,n){return{color:g.castOption(e.outsidetextfont.color,t.pts)||g.castOption(e.textfont.color,t.pts)||n.color,family:g.castOption(e.outsidetextfont.family,t.pts)||g.castOption(e.textfont.family,t.pts)||n.family,size:g.castOption(e.outsidetextfont.size,t.pts)||g.castOption(e.textfont.size,t.pts)||n.size}}function T(e,t,n){var r=g.castOption(e.insidetextfont.color,t.pts);!r&&e._input.textfont&&(r=g.castOption(e._input.textfont.color,t.pts));var i=g.castOption(e.insidetextfont.family,t.pts)||g.castOption(e.textfont.family,t.pts)||n.family,a=g.castOption(e.insidetextfont.size,t.pts)||g.castOption(e.textfont.size,t.pts)||n.size;return{color:r||o.contrast(t.color),family:i,size:a}}function k(e,t){for(var n,r,i=0;i<e.length;i++)if((r=(n=e[i][0]).trace).title.text){var a=r.title.text;r._meta&&(a=u.templateString(a,r._meta));var o=s.tester.append("text").attr("data-notex",1).text(a).call(s.font,r.title.font).call(f.convertToTspans,t),l=s.bBox(o.node(),!0);n.titleBox={width:l.width,height:l.height},o.remove()}}function O(e,t,n){var r=n.r||t.rpx1,i=t.rInscribed;if(t.startangle===t.stopangle)return{rCenter:1-i,scale:0,rotate:0,textPosAngle:0};var a,o=t.ring,s=1===o&&Math.abs(t.startangle-t.stopangle)===2*Math.PI,u=t.halfangle,l=t.midangle,c=n.trace.insidetextorientation,f="horizontal"===c,h="tangential"===c,d="radial"===c,p="auto"===c,v=[];if(!p){var g,y=function(n,i){if(S(t,n)){var s=Math.abs(n-t.startangle),u=Math.abs(n-t.stopangle),l=s<u?s:u;(a="tan"===i?E(e,r,o,l,0):A(e,r,o,l,Math.PI/2)).textPosAngle=n,v.push(a)}};if(f||h){for(g=4;g>=-4;g-=2)y(Math.PI*g,"tan");for(g=4;g>=-4;g-=2)y(Math.PI*(g+1),"tan")}if(f||d){for(g=4;g>=-4;g-=2)y(Math.PI*(g+1.5),"rad");for(g=4;g>=-4;g-=2)y(Math.PI*(g+.5),"rad")}}if(s||p||f){var m=Math.sqrt(e.width*e.width+e.height*e.height);if((a={scale:i*r*2/m,rCenter:1-i,rotate:0}).textPosAngle=(t.startangle+t.stopangle)/2,a.scale>=1)return a;v.push(a)}(p||d)&&((a=A(e,r,o,u,l)).textPosAngle=(t.startangle+t.stopangle)/2,v.push(a)),(p||h)&&((a=E(e,r,o,u,l)).textPosAngle=(t.startangle+t.stopangle)/2,v.push(a));for(var b=0,_=0,w=0;w<v.length;w++){var x=v[w].scale;if(_<x&&(_=x,b=w),!p&&_>=1)break}return v[b]}function S(e,t){var n=e.startangle,r=e.stopangle;return n>t&&t>r||n<t&&t<r}function A(e,t,n,r,i){t=Math.max(0,t-2*v);var a=e.width/e.height,o=I(a,r,t,n);return{scale:2*o/e.height,rCenter:C(a,o/t),rotate:M(i)}}function E(e,t,n,r,i){t=Math.max(0,t-2*v);var a=e.height/e.width,o=I(a,r,t,n);return{scale:2*o/e.width,rCenter:C(a,o/t),rotate:M(i+Math.PI/2)}}function C(e,t){return Math.cos(t)-e*t}function M(e){return(180/Math.PI*e+720)%180-90}function I(e,t,n,r){var i=e+1/(2*Math.tan(t));return n*Math.min(1/(Math.sqrt(i*i+.5)+i),r/(Math.sqrt(e*e+r/2)+e))}function D(e,t){return e.v!==t.vTotal||t.trace.hole?Math.min(1/(1+1/Math.sin(e.halfangle)),e.ring/2):1}function P(e,t){var n=t.pxmid[0],r=t.pxmid[1],i=e.width/2,a=e.height/2;return n<0&&(i*=-1),r<0&&(a*=-1),{scale:1,rCenter:1,rotate:0,x:i+Math.abs(a)*(i>0?1:-1)/2,y:a/(1+n*n/(r*r)),outside:!0}}function N(e){var t=Math.sqrt(e.titleBox.width*e.titleBox.width+e.titleBox.height*e.titleBox.height);return{x:e.cx,y:e.cy,scale:e.trace.hole*e.r*2/t,tx:0,ty:-e.titleBox.height/2+e.trace.title.font.size}}function j(e,t){var n,r=1,i=1,a=e.trace,o={x:e.cx,y:e.cy},s={tx:0,ty:0};s.ty+=a.title.font.size,n=F(a),-1!==a.title.position.indexOf("top")?(o.y-=(1+n)*e.r,s.ty-=e.titleBox.height):-1!==a.title.position.indexOf("bottom")&&(o.y+=(1+n)*e.r);var u=L(e.r,e.trace.aspectratio),l=t.w*(a.domain.x[1]-a.domain.x[0])/2;return-1!==a.title.position.indexOf("left")?(l+=u,o.x-=(1+n)*u,s.tx+=e.titleBox.width/2):-1!==a.title.position.indexOf("center")?l*=2:-1!==a.title.position.indexOf("right")&&(l+=u,o.x+=(1+n)*u,s.tx-=e.titleBox.width/2),r=l/e.titleBox.width,i=R(e,t)/e.titleBox.height,{x:o.x,y:o.y,scale:Math.min(r,i),tx:s.tx,ty:s.ty}}function L(e,t){return e/(void 0===t?1:t)}function R(e,t){var n=e.trace,r=t.h*(n.domain.y[1]-n.domain.y[0]);return Math.min(e.titleBox.height,r/2)}function F(e){var t,n=e.pull;if(!n)return 0;if(Array.isArray(n))for(n=0,t=0;t<e.pull.length;t++)e.pull[t]>n&&(n=e.pull[t]);return n}function z(e,t){var n,r,i,a,o,s,u,l,c,f,h,d,p;function v(e,t){return e.pxmid[1]-t.pxmid[1]}function y(e,t){return t.pxmid[1]-e.pxmid[1]}function m(e,n){n||(n={});var i,l,c,h,d=n.labelExtraY+(r?n.yLabelMax:n.yLabelMin),p=r?e.yLabelMin:e.yLabelMax,v=r?e.yLabelMax:e.yLabelMin,y=e.cyFinal+o(e.px0[1],e.px1[1]),m=d-p;if(m*u>0&&(e.labelExtraY=m),Array.isArray(t.pull))for(l=0;l<f.length;l++)(c=f[l])===e||(g.castOption(t.pull,e.pts)||0)>=(g.castOption(t.pull,c.pts)||0)||((e.pxmid[1]-c.pxmid[1])*u>0?(m=c.cyFinal+o(c.px0[1],c.px1[1])-p-e.labelExtraY)*u>0&&(e.labelExtraY+=m):(v+e.labelExtraY-y)*u>0&&(i=3*s*Math.abs(l-f.indexOf(e)),(h=c.cxFinal+a(c.px0[0],c.px1[0])+i-(e.cxFinal+e.pxmid[0])-e.labelExtraX)*s>0&&(e.labelExtraX+=h)))}for(r=0;r<2;r++)for(i=r?v:y,o=r?Math.max:Math.min,u=r?1:-1,n=0;n<2;n++){for(a=n?Math.max:Math.min,s=n?1:-1,(l=e[r][n]).sort(i),c=e[1-r][n],f=c.concat(l),d=[],h=0;h<l.length;h++)void 0!==l[h].yLabelMid&&d.push(l[h]);for(p=!1,h=0;r&&h<c.length;h++)if(void 0!==c[h].yLabelMid){p=c[h];break}for(h=0;h<d.length;h++){var b=h&&d[h-1];p&&!h&&(b=p),m(d[h],b)}}}function U(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r][0],a=i.trace,o=a.domain,s=t.w*(o.x[1]-o.x[0]),u=t.h*(o.y[1]-o.y[0]);a.title.text&&"middle center"!==a.title.position&&(u-=R(i,t));var l=s/2,c=u/2;"funnelarea"!==a.type||a.scalegroup||(c/=a.aspectratio),i.r=Math.min(l,c)/(1+F(a)),i.cx=t.l+t.w*(a.domain.x[1]+a.domain.x[0])/2,i.cy=t.t+t.h*(1-a.domain.y[0])-u/2,a.title.text&&-1!==a.title.position.indexOf("bottom")&&(i.cy-=R(i,t)),a.scalegroup&&-1===n.indexOf(a.scalegroup)&&n.push(a.scalegroup)}q(e,n)}function q(e,t){for(var n,r,i,a=0;a<t.length;a++){var o=1/0,s=t[a];for(r=0;r<e.length;r++)if((i=(n=e[r][0]).trace).scalegroup===s){var u;if("pie"===i.type)u=n.r*n.r;else if("funnelarea"===i.type){var l,c;i.aspectratio>1?c=(l=n.r)/i.aspectratio:l=(c=n.r)*i.aspectratio,u=(l*=(1+i.baseratio)/2)*c}o=Math.min(o,u/n.vTotal)}for(r=0;r<e.length;r++)if((i=(n=e[r][0]).trace).scalegroup===s){var f=o*n.vTotal;"funnelarea"===i.type&&(f/=(1+i.baseratio)/2,f/=i.aspectratio),n.r=Math.sqrt(f)}}}function B(e){var t,n,r,i=e[0],a=i.r,o=i.trace,s=g.getRotationAngle(o.rotation),u=2*Math.PI/i.vTotal,l="px0",c="px1";if("counterclockwise"===o.direction){for(t=0;t<e.length&&e[t].hidden;t++);if(t===e.length)return;s+=u*e[t].v,u*=-1,l="px1",c="px0"}for(r=V(a,s),t=0;t<e.length;t++)(n=e[t]).hidden||(n[l]=r,n.startangle=s,s+=u*n.v/2,n.pxmid=V(a,s),n.midangle=s,r=V(a,s+=u*n.v/2),n.stopangle=s,n[c]=r,n.largeArc=n.v>i.vTotal/2?1:0,n.halfangle=Math.PI*Math.min(n.v/i.vTotal,.5),n.ring=1-o.hole,n.rInscribed=D(n,i))}function V(e,t){return[e*Math.sin(t),-e*Math.cos(t)]}function H(e,t,n){var r=e._fullLayout,i=n.trace,a=i.texttemplate,o=i.textinfo;if(!a&&o&&"none"!==o){var s,l=o.split("+"),c=function(e){return-1!==l.indexOf(e)},f=c("label"),h=c("text"),d=c("value"),p=c("percent"),v=r.separators;if(s=f?[t.label]:[],h){var y=g.getFirstFilled(i.text,t.pts);m(y)&&s.push(y)}d&&s.push(g.formatPieValue(t.v,v)),p&&s.push(g.formatPiePercent(t.v/n.vTotal,v)),t.text=s.join("<br>")}function b(e){return{label:e.label,value:e.v,valueLabel:g.formatPieValue(e.v,r.separators),percent:e.v/n.vTotal,percentLabel:g.formatPiePercent(e.v/n.vTotal,r.separators),color:e.color,text:e.text,customdata:u.castOption(i,e.i,"customdata")}}if(a){var _=u.castOption(i,t.i,"texttemplate");if(_){var w=b(t),x=g.getFirstFilled(i.text,t.pts);(m(x)||""===x)&&(w.text=x),t.text=u.texttemplateString(_,w,e._fullLayout._d3locale,w,i._meta||{})}else t.text=""}}function W(e,t){var n=e.rotate*Math.PI/180,r=Math.cos(n),i=Math.sin(n),a=(t.left+t.right)/2,o=(t.top+t.bottom)/2;e.textX=a*r-o*i,e.textY=a*i+o*r,e.noCenter=!0}t.exports={plot:b,formatSliceLabel:H,transformInsideText:O,determineInsideTextFont:T,positionTitleOutside:j,prerenderTitles:k,layoutAreas:U,attachFxHandlers:w,computeTransform:W}},{"../../components/color":100,"../../components/drawing":122,"../../components/fx":140,"../../lib":230,"../../lib/svg_text_utils":252,"../../plots/plots":311,"../bar/constants":325,"../bar/uniform_text":339,"./event_data":344,"./helpers":345,"@plotly/d3":11}],350:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("./style_one"),a=e("../bar/uniform_text").resizeText;t.exports=function(e){var t=e._fullLayout._pielayer.selectAll(".trace");a(e,t,"pie"),t.each((function(e){var t=e[0].trace,n=r.select(this);n.style({opacity:t.opacity}),n.selectAll("path.surface").each((function(e){r.select(this).call(i,e,t)}))}))}},{"../bar/uniform_text":339,"./style_one":351,"@plotly/d3":11}],351:[function(e,t,n){"use strict";var r=e("../../components/color"),i=e("./helpers").castOption;t.exports=function(e,t,n){var a=n.marker.line,o=i(a.color,t.pts)||r.defaultLine,s=i(a.width,t.pts)||0;e.style("stroke-width",s).call(r.fill,t.color).call(r.stroke,o)}},{"../../components/color":100,"./helpers":345}],352:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t){for(var n=0;n<e.length;n++)e[n].i=n;r.mergeArray(t.text,e,"tx"),r.mergeArray(t.texttemplate,e,"txt"),r.mergeArray(t.hovertext,e,"htx"),r.mergeArray(t.customdata,e,"data"),r.mergeArray(t.textposition,e,"tp"),t.textfont&&(r.mergeArrayCastPositive(t.textfont.size,e,"ts"),r.mergeArray(t.textfont.color,e,"tc"),r.mergeArray(t.textfont.family,e,"tf"));var i=t.marker;if(i){r.mergeArrayCastPositive(i.size,e,"ms"),r.mergeArrayCastPositive(i.opacity,e,"mo"),r.mergeArray(i.symbol,e,"mx"),r.mergeArray(i.color,e,"mc");var a=i.line;i.line&&(r.mergeArray(a.color,e,"mlc"),r.mergeArrayCastPositive(a.width,e,"mlw"));var o=i.gradient;o&&"none"!==o.type&&(r.mergeArray(o.type,e,"mgt"),r.mergeArray(o.color,e,"mgc"))}}},{"../../lib":230}],353:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axis_format_attributes").axisHoverFormat,i=e("../../plots/template_attributes").texttemplateAttrs,a=e("../../plots/template_attributes").hovertemplateAttrs,o=e("../../components/colorscale/attributes"),s=e("../../plots/font_attributes"),u=e("../../components/drawing/attributes").dash,l=e("../../components/drawing"),c=e("./constants"),f=e("../../lib/extend").extendFlat;function h(e){return{valType:"any",dflt:0,editType:"calc"}}function d(e){return{valType:"any",editType:"calc"}}function p(e){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}t.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:h("x"),yperiod:h("y"),xperiod0:d("x0"),yperiod0:d("y0"),xperiodalignment:p("x"),yperiodalignment:p("y"),xhoverformat:r("x"),yhoverformat:r("y"),stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:i({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:a({},{keys:c.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:f({},u,{editType:"style"}),simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},marker:f({symbol:{valType:"enumerated",values:l.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:f({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},o("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},o("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:s({editType:"calc",colorEditType:"style",arrayOk:!0})}},{"../../components/colorscale/attributes":107,"../../components/drawing":122,"../../components/drawing/attributes":121,"../../lib/extend":224,"../../plots/cartesian/axis_format_attributes":279,"../../plots/font_attributes":305,"../../plots/template_attributes":312,"./constants":357}],354:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),a=e("../../plots/cartesian/axes"),o=e("../../plots/cartesian/align_period"),s=e("../../constants/numerical").BADNUM,u=e("./subtypes"),l=e("./colorscale_calc"),c=e("./arrays_to_calcdata"),f=e("./calc_selection");function h(e,t){var n,u,h,g,m,b,_=e._fullLayout,w=a.getFromId(e,t.xaxis||"x"),x=a.getFromId(e,t.yaxis||"y"),T=w.makeCalcdata(t,"x"),k=x.makeCalcdata(t,"y"),O=o(t,w,"x",T),S=o(t,x,"y",k),A=t._length,E=new Array(A),C=t.ids,M=y(t,_,w,x),I=!1;v(_,t);var D,P="x",N="y";M?(i.pushUnique(M.traceIndices,t._expandedIndex),(n="v"===M.orientation)?(N="s",D="x"):(P="s",D="y"),m="interpolate"===M.stackgaps):d(e,t,w,x,O,S,p(t,A));var j=!!t.xperiodalignment,L=!!t.yperiodalignment;for(u=0;u<A;u++){var R=E[u]={},F=r(O[u]),z=r(S[u]);F&&z?(R[P]=O[u],R[N]=S[u],j&&(R.orig_x=T[u]),L&&(R.orig_y=k[u])):M&&(n?F:z)?(R[D]=n?O[u]:S[u],R.gap=!0,m?(R.s=s,I=!0):R.s=0):R[P]=R[N]=s,C&&(R.id=String(C[u]))}if(c(E,t),l(e,t),f(E,t),M){for(u=0;u<E.length;)E[u][D]===s?E.splice(u,1):u++;if(i.sort(E,(function(e,t){return e[D]-t[D]||e.i-t.i})),I){for(u=0;u<E.length-1&&E[u].gap;)u++;for((b=E[u].s)||(b=E[u].s=0),h=0;h<u;h++)E[h].s=b;for(g=E.length-1;g>u&&E[g].gap;)g--;for(b=E[g].s,h=E.length-1;h>g;h--)E[h].s=b;for(;u<g;)if(E[++u].gap){for(h=u+1;E[h].gap;)h++;for(var U=E[u-1][D],q=E[u-1].s,B=(E[h].s-q)/(E[h][D]-U);u<h;)E[u].s=q+(E[u][D]-U)*B,u++}}}return E}function d(e,t,n,r,i,o,s){var l=t._length,c=e._fullLayout,f=n._id,h=r._id,d=c._firstScatter[g(t)]===t.uid,p=(y(t,c,n,r)||{}).orientation,v=t.fill;n._minDtick=0,r._minDtick=0;var m={padded:!0},b={padded:!0};s&&(m.ppad=b.ppad=s);var _=l<2||i[0]!==i[l-1]||o[0]!==o[l-1];_&&("tozerox"===v||"tonextx"===v&&(d||"h"===p))?m.tozero=!0:(t.error_y||{}).visible||"tonexty"!==v&&"tozeroy"!==v&&(u.hasMarkers(t)||u.hasText(t))||(m.padded=!1,m.ppad=0),_&&("tozeroy"===v||"tonexty"===v&&(d||"v"===p))?b.tozero=!0:"tonextx"!==v&&"tozerox"!==v||(b.padded=!1),f&&(t._extremes[f]=a.findExtremes(n,i,m)),h&&(t._extremes[h]=a.findExtremes(r,o,b))}function p(e,t){if(u.hasMarkers(e)){var n,r=e.marker,o=1.6*(e.marker.sizeref||1);if(n="area"===e.marker.sizemode?function(e){return Math.max(Math.sqrt((e||0)/o),3)}:function(e){return Math.max((e||0)/o,3)},i.isArrayOrTypedArray(r.size)){var s={type:"linear"};a.setConvert(s);for(var l=s.makeCalcdata(e.marker,"size"),c=new Array(t),f=0;f<t;f++)c[f]=n(l[f]);return c}return n(r.size)}}function v(e,t){var n=g(t),r=e._firstScatter;r[n]||(r[n]=t.uid)}function g(e){var t=e.stackgroup;return e.xaxis+e.yaxis+e.type+(t?"-"+t:"")}function y(e,t,n,r){var i=e.stackgroup;if(i){var a=t._scatterStackOpts[n._id+r._id][i],o="v"===a.orientation?r:n;return"linear"===o.type||"log"===o.type?a:void 0}}t.exports={calc:h,calcMarkerSize:p,calcAxisExpansion:d,setFirstScatter:v,getStackOpts:y}},{"../../constants/numerical":210,"../../lib":230,"../../plots/cartesian/align_period":273,"../../plots/cartesian/axes":276,"./arrays_to_calcdata":352,"./calc_selection":355,"./colorscale_calc":356,"./subtypes":378,"fast-isnumeric":15}],355:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t){r.isArrayOrTypedArray(t.selectedpoints)&&r.tagSelected(e,t)}},{"../../lib":230}],356:[function(e,t,n){"use strict";var r=e("../../components/colorscale/helpers").hasColorscale,i=e("../../components/colorscale/calc"),a=e("./subtypes");t.exports=function(e,t){a.hasLines(t)&&r(t,"line")&&i(e,t,{vals:t.line.color,containerStr:"line",cLetter:"c"}),a.hasMarkers(t)&&(r(t,"marker")&&i(e,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),r(t,"marker.line")&&i(e,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},{"../../components/colorscale/calc":108,"../../components/colorscale/helpers":111,"./subtypes":378}],357:[function(e,t,n){"use strict";t.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},{}],358:[function(e,t,n){"use strict";var r=e("./calc");function i(e,t,n,r,i,o,s){i[r]=!0;var u={i:null,gap:!0,s:0};if(u[s]=n,e.splice(t,0,u),t&&n===e[t-1][s]){var l=e[t-1];u.s=l.s,u.i=l.i,u.gap=l.gap}else o&&(u.s=a(e,t,n,s));t||(e[0].t=e[1].t,e[0].trace=e[1].trace,delete e[1].t,delete e[1].trace)}function a(e,t,n,r){var i=e[t-1],a=e[t+1];return a?i?i.s+(a.s-i.s)*(n-i[r])/(a[r]-i[r]):a.s:i.s}t.exports=function(e,t){var n=t.xaxis,a=t.yaxis,o=n._id+a._id,s=e._fullLayout._scatterStackOpts[o];if(s){var u,l,c,f,h,d,p,v,g,y,m,b,_,w,x,T=e.calcdata;for(var k in s){var O=(y=s[k]).traceIndices;if(O.length){for(m="interpolate"===y.stackgaps,b=y.groupnorm,"v"===y.orientation?(_="x",w="y"):(_="y",w="x"),x=new Array(O.length),u=0;u<x.length;u++)x[u]=!1;d=T[O[0]];var S=new Array(d.length);for(u=0;u<d.length;u++)S[u]=d[u][_];for(u=1;u<O.length;u++){for(h=T[O[u]],l=c=0;l<h.length;l++){for(p=h[l][_];p>S[c]&&c<S.length;c++)i(h,l,S[c],u,x,m,_),l++;if(p!==S[c]){for(f=0;f<u;f++)i(T[O[f]],c,p,f,x,m,_);S.splice(c,0,p)}c++}for(;c<S.length;c++)i(h,l,S[c],u,x,m,_),l++}var A=S.length;for(l=0;l<d.length;l++){for(v=d[l][w]=d[l].s,u=1;u<O.length;u++)(h=T[O[u]])[0].trace._rawLength=h[0].trace._length,h[0].trace._length=A,v+=h[l].s,h[l][w]=v;if(b)for(g=("fraction"===b?v:v/100)||1,u=0;u<O.length;u++){var E=T[O[u]][l];E[w]/=g,E.sNorm=E.s/g}}for(u=0;u<O.length;u++){var C=(h=T[O[u]])[0].trace,M=r.calcMarkerSize(C,C._rawLength),I=Array.isArray(M);if(M&&x[u]||I){var D=M;for(M=new Array(A),l=0;l<A;l++)M[l]=h[l].gap?0:I?D[h[l].i]:D}var P=new Array(A),N=new Array(A);for(l=0;l<A;l++)P[l]=h[l].x,N[l]=h[l].y;r.calcAxisExpansion(e,C,n,a,P,N,M),h[0].t.orientation=y.orientation}}}}}},{"./calc":354}],359:[function(e,t,n){"use strict";t.exports=function(e){for(var t=0;t<e.length;t++){var n=e[t];if("scatter"===n.type){var r=n.fill;if("none"!==r&&"toself"!==r&&(n.opacity=void 0,"tonexty"===r||"tonextx"===r))for(var i=t-1;i>=0;i--){var a=e[i];if("scatter"===a.type&&a.xaxis===n.xaxis&&a.yaxis===n.yaxis){a.opacity=void 0;break}}}}}},{}],360:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../registry"),a=e("./attributes"),o=e("./constants"),s=e("./subtypes"),u=e("./xy_defaults"),l=e("./period_defaults"),c=e("./stack_defaults"),f=e("./marker_defaults"),h=e("./line_defaults"),d=e("./line_shape_defaults"),p=e("./text_defaults"),v=e("./fillcolor_defaults");t.exports=function(e,t,n,g){function y(n,i){return r.coerce(e,t,a,n,i)}var m=u(e,t,g,y);if(m||(t.visible=!1),t.visible){l(e,t,g,y),y("xhoverformat"),y("yhoverformat");var b=c(e,t,g,y),_=!b&&m<o.PTS_LINESONLY?"lines+markers":"lines";y("text"),y("hovertext"),y("mode",_),s.hasLines(t)&&(h(e,t,n,g,y),d(e,t,y),y("connectgaps"),y("line.simplify")),s.hasMarkers(t)&&f(e,t,n,g,y,{gradient:!0}),s.hasText(t)&&(y("texttemplate"),p(e,t,g,y));var w=[];(s.hasMarkers(t)||s.hasText(t))&&(y("cliponaxis"),y("marker.maxdisplayed"),w.push("points")),y("fill",b?b.fillDflt:"none"),"none"!==t.fill&&(v(e,t,n,y),s.hasLines(t)||d(e,t,y));var x=(t.line||{}).color,T=(t.marker||{}).color;"tonext"!==t.fill&&"toself"!==t.fill||w.push("fills"),y("hoveron",w.join("+")||"points"),"fills"!==t.hoveron&&y("hovertemplate");var k=i.getComponentMethod("errorbars","supplyDefaults");k(e,t,x||T||n,{axis:"y"}),k(e,t,x||T||n,{axis:"x",inherit:"y"}),r.coerceSelectionMarkerOpacity(t,y)}}},{"../../lib":230,"../../registry":313,"./attributes":353,"./constants":357,"./fillcolor_defaults":361,"./line_defaults":366,"./line_shape_defaults":368,"./marker_defaults":372,"./period_defaults":373,"./stack_defaults":376,"./subtypes":378,"./text_defaults":379,"./xy_defaults":380}],361:[function(e,t,n){"use strict";var r=e("../../components/color"),i=e("../../lib").isArrayOrTypedArray;t.exports=function(e,t,n,a){var o=!1;if(t.marker){var s=t.marker.color,u=(t.marker.line||{}).color;s&&!i(s)?o=s:u&&!i(u)&&(o=u)}a("fillcolor",r.addOpacity((t.line||{}).color||o||n,.5))}},{"../../components/color":100,"../../lib":230}],362:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axes");t.exports=function(e,t,n){var i={},a={_fullLayout:n},o=r.getFromTrace(a,t,"x"),s=r.getFromTrace(a,t,"y");return i.xLabel=r.tickText(o,o.c2l(e.x),!0).text,i.yLabel=r.tickText(s,s.c2l(e.y),!0).text,i}},{"../../plots/cartesian/axes":276}],363:[function(e,t,n){"use strict";var r=e("../../components/color"),i=e("./subtypes");t.exports=function(e,t){var n,a;if("lines"===e.mode)return(n=e.line.color)&&r.opacity(n)?n:e.fillcolor;if("none"===e.mode)return e.fill?e.fillcolor:"";var o=t.mcc||(e.marker||{}).color,s=t.mlcc||((e.marker||{}).line||{}).color;return(a=o&&r.opacity(o)?o:s&&r.opacity(s)&&(t.mlw||((e.marker||{}).line||{}).width)?s:"")?r.opacity(a)<.3?r.addOpacity(a,.3):a:(n=(e.line||{}).color)&&r.opacity(n)&&i.hasLines(e)&&e.line.width?n:e.fillcolor}},{"../../components/color":100,"./subtypes":378}],364:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../components/fx"),a=e("../../registry"),o=e("./get_trace_color"),s=e("../../components/color"),u=r.fillText;t.exports=function(e,t,n,l){var c=e.cd,f=c[0].trace,h=e.xa,d=e.ya,p=h.c2p(t),v=d.c2p(n),g=[p,v],y=f.hoveron||"",m=-1!==f.mode.indexOf("markers")?3:.5;if(-1!==y.indexOf("points")){var b=function(e){var t=Math.max(3,e.mrc||0),n=1-1/t,r=Math.abs(h.c2p(e.x)-p);return void 0!==e.orig_x&&(r+=h.c2p(e.orig_x)-h.c2p(e.x)),r<t?n*r/t:r-t+n},_=function(e){var t=Math.max(3,e.mrc||0),n=1-1/t,r=Math.abs(d.c2p(e.y)-v);return void 0!==e.orig_y&&(r+=d.c2p(e.orig_y)-d.c2p(e.y)),r<t?n*r/t:r-t+n},w=function(e){var t=Math.max(m,e.mrc||0),n=h.c2p(e.x)-p,r=d.c2p(e.y)-v;return Math.max(Math.sqrt(n*n+r*r)-t,1-m/t)},x=i.getDistanceFunction(l,b,_,w);if(i.getClosest(c,x,e),!1!==e.index){var T=c[e.index],k=h.c2p(T.x,!0),O=d.c2p(T.y,!0),S=T.mrc||1;e.index=T.i;var A=c[0].t.orientation,E=A&&(T.sNorm||T.s),C="h"===A?E:void 0!==T.orig_x?T.orig_x:T.x,M="v"===A?E:void 0!==T.orig_y?T.orig_y:T.y;return r.extendFlat(e,{color:o(f,T),x0:k-S,x1:k+S,xLabelVal:C,y0:O-S,y1:O+S,yLabelVal:M,spikeDistance:w(T),hovertemplate:f.hovertemplate}),u(T,f,e),a.getComponentMethod("errorbars","hoverInfo")(T,f,e),[e]}}if(-1!==y.indexOf("fills")&&f._polygons){var I,D,P,N,j,L,R,F,z,U=f._polygons,q=[],B=!1,V=1/0,H=-1/0,W=1/0,Y=-1/0;for(I=0;I<U.length;I++)(P=U[I]).contains(g)&&(B=!B,q.push(P),W=Math.min(W,P.ymin),Y=Math.max(Y,P.ymax));if(B){var G=((W=Math.max(W,0))+(Y=Math.min(Y,d._length)))/2;for(I=0;I<q.length;I++)for(N=q[I].pts,D=1;D<N.length;D++)(F=N[D-1][1])>G!==(z=N[D][1])>=G&&(L=N[D-1][0],R=N[D][0],z-F&&(j=L+(R-L)*(G-F)/(z-F),V=Math.min(V,j),H=Math.max(H,j)));V=Math.max(V,0),H=Math.min(H,h._length);var K=s.defaultLine;return s.opacity(f.fillcolor)?K=f.fillcolor:s.opacity((f.line||{}).color)&&(K=f.line.color),r.extendFlat(e,{distance:e.maxHoverDistance,x0:V,x1:H,y0:G,y1:G,color:K,hovertemplate:!1}),delete e.index,f.text&&!Array.isArray(f.text)?e.text=String(f.text):e.text=f.name,[e]}}}},{"../../components/color":100,"../../components/fx":140,"../../lib":230,"../../registry":313,"./get_trace_color":363}],365:[function(e,t,n){"use strict";var r=e("./subtypes");t.exports={hasLines:r.hasLines,hasMarkers:r.hasMarkers,hasText:r.hasText,isBubble:r.isBubble,attributes:e("./attributes"),supplyDefaults:e("./defaults"),crossTraceDefaults:e("./cross_trace_defaults"),calc:e("./calc").calc,crossTraceCalc:e("./cross_trace_calc"),arraysToCalcdata:e("./arrays_to_calcdata"),plot:e("./plot"),colorbar:e("./marker_colorbar"),formatLabels:e("./format_labels"),style:e("./style").style,styleOnSelect:e("./style").styleOnSelect,hoverPoints:e("./hover"),selectPoints:e("./select"),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e("../../plots/cartesian"),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},{"../../plots/cartesian":290,"./arrays_to_calcdata":352,"./attributes":353,"./calc":354,"./cross_trace_calc":358,"./cross_trace_defaults":359,"./defaults":360,"./format_labels":362,"./hover":364,"./marker_colorbar":371,"./plot":374,"./select":375,"./style":377,"./subtypes":378}],366:[function(e,t,n){"use strict";var r=e("../../lib").isArrayOrTypedArray,i=e("../../components/colorscale/helpers").hasColorscale,a=e("../../components/colorscale/defaults");t.exports=function(e,t,n,o,s,u){var l=(e.marker||{}).color;s("line.color",n),i(e,"line")?a(e,t,o,s,{prefix:"line.",cLetter:"c"}):s("line.color",!r(l)&&l||n),s("line.width"),(u||{}).noDash||s("line.dash")}},{"../../components/colorscale/defaults":110,"../../components/colorscale/helpers":111,"../../lib":230}],367:[function(e,t,n){"use strict";var r=e("../../constants/numerical"),i=r.BADNUM,a=r.LOG_CLIP,o=a+.5,s=a-.5,u=e("../../lib"),l=u.segmentsIntersect,c=u.constrain,f=e("./constants");t.exports=function(e,t){var n,r,a,h,d,p,v,g,y,m,b,_,w,x,T,k,O,S,A=t.xaxis,E=t.yaxis,C="log"===A.type,M="log"===E.type,I=A._length,D=E._length,P=t.connectGaps,N=t.baseTolerance,j=t.shape,L="linear"===j,R=t.fill&&"none"!==t.fill,F=[],z=f.minTolerance,U=e.length,q=new Array(U),B=0;function V(n){var r=e[n];if(!r)return!1;var a=t.linearized?A.l2p(r.x):A.c2p(r.x),u=t.linearized?E.l2p(r.y):E.c2p(r.y);if(a===i){if(C&&(a=A.c2p(r.x,!0)),a===i)return!1;M&&u===i&&(a*=Math.abs(A._m*D*(A._m>0?o:s)/(E._m*I*(E._m>0?o:s)))),a*=1e3}if(u===i){if(M&&(u=E.c2p(r.y,!0)),u===i)return!1;u*=1e3}return[a,u]}function H(e,t,n,r){var i=n-e,a=r-t,o=.5-e,s=.5-t,u=i*i+a*a,l=i*o+a*s;if(l>0&&l<u){var c=o*a-s*i;if(c*c<u)return!0}}function W(e,t){var n=e[0]/I,r=e[1]/D,i=Math.max(0,-n,n-1,-r,r-1);return i&&void 0!==O&&H(n,r,O,S)&&(i=0),i&&t&&H(n,r,t[0]/I,t[1]/D)&&(i=0),(1+f.toleranceGrowth*i)*N}function Y(e,t){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}var G,K,X,$,Q,J,Z,ee=f.maxScreensAway,te=-I*ee,ne=I*(1+ee),re=-D*ee,ie=D*(1+ee),ae=[[te,re,ne,re],[ne,re,ne,ie],[ne,ie,te,ie],[te,ie,te,re]];function oe(e,t){for(var n=[],r=0,i=0;i<4;i++){var a=ae[i],o=l(e[0],e[1],t[0],t[1],a[0],a[1],a[2],a[3]);o&&(!r||Math.abs(o.x-n[0][0])>1||Math.abs(o.y-n[0][1])>1)&&(o=[o.x,o.y],r&&Y(o,e)<Y(n[0],e)?n.unshift(o):n.push(o),r++)}return n}function se(e){if(e[0]<te||e[0]>ne||e[1]<re||e[1]>ie)return[c(e[0],te,ne),c(e[1],re,ie)]}function ue(e,t){return e[0]===t[0]&&(e[0]===te||e[0]===ne)||e[1]===t[1]&&(e[1]===re||e[1]===ie)||void 0}function le(e,t){var n=[],r=se(e),i=se(t);return r&&i&&ue(r,i)||(r&&n.push(r),i&&n.push(i)),n}function ce(e,t,n){return function(r,i){var a=se(r),o=se(i),s=[];if(a&&o&&ue(a,o))return s;a&&s.push(a),o&&s.push(o);var l=2*u.constrain((r[e]+i[e])/2,t,n)-((a||r)[e]+(o||i)[e]);return l&&((a&&o?l>0===a[e]>o[e]?a:o:a||o)[e]+=l),s}}function fe(e,t){var n=t[0]-e[0],r=(t[1]-e[1])/n;return(e[1]*t[0]-t[1]*e[0])/n>0?[r>0?te:ne,ie]:[r>0?ne:te,re]}function he(e){var t=e[0],n=e[1],r=t===q[B-1][0],i=n===q[B-1][1];if(!r||!i)if(B>1){var a=t===q[B-2][0],o=n===q[B-2][1];r&&(t===te||t===ne)&&a?o?B--:q[B-1]=e:i&&(n===re||n===ie)&&o?a?B--:q[B-1]=e:q[B++]=e}else q[B++]=e}function de(e){q[B-1][0]!==e[0]&&q[B-1][1]!==e[1]&&he([X,$]),he(e),Q=null,X=$=0}function pe(e){if(O=e[0]/I,S=e[1]/D,G=e[0]<te?te:e[0]>ne?ne:0,K=e[1]<re?re:e[1]>ie?ie:0,G||K){if(B)if(Q){var t=Z(Q,e);t.length>1&&(de(t[0]),q[B++]=t[1])}else J=Z(q[B-1],e)[0],q[B++]=J;else q[B++]=[G||e[0],K||e[1]];var n=q[B-1];G&&K&&(n[0]!==G||n[1]!==K)?(Q&&(X!==G&&$!==K?he(X&&$?fe(Q,e):[X||G,$||K]):X&&$&&he([X,$])),he([G,K])):X-G&&$-K&&he([G||X,K||$]),Q=e,X=G,$=K}else Q&&de(Z(Q,e)[0]),q[B++]=e}for("linear"===j||"spline"===j?Z=oe:"hv"===j||"vh"===j?Z=le:"hvh"===j?Z=ce(0,te,ne):"vhv"===j&&(Z=ce(1,re,ie)),n=0;n<U;n++)if(r=V(n)){for(B=0,Q=null,pe(r),n++;n<U;n++){if(!(h=V(n))){if(P)continue;break}if(L&&t.simplify){var ve=V(n+1);if(m=Y(h,r),R&&(0===B||B===U-1)||!(m<W(h,ve)*z)){for(g=[(h[0]-r[0])/m,(h[1]-r[1])/m],d=r,b=m,_=x=T=0,v=!1,a=h,n++;n<e.length;n++){if(p=ve,ve=V(n+1),!p){if(P)continue;break}if(k=(y=[p[0]-r[0],p[1]-r[1]])[0]*g[1]-y[1]*g[0],x=Math.min(x,k),(T=Math.max(T,k))-x>W(p,ve))break;a=p,(w=y[0]*g[0]+y[1]*g[1])>b?(b=w,h=p,v=!1):w<_&&(_=w,d=p,v=!0)}if(v?(pe(h),a!==d&&pe(d)):(d!==r&&pe(d),a!==h&&pe(h)),pe(a),n>=e.length||!p)break;pe(p),r=p}}else pe(h)}Q&&he([X||Q[0],$||Q[1]]),F.push(q.slice(0,B))}return F}},{"../../constants/numerical":210,"../../lib":230,"./constants":357}],368:[function(e,t,n){"use strict";t.exports=function(e,t,n){"spline"===n("line.shape")&&n("line.smoothing")}},{}],369:[function(e,t,n){"use strict";var r={tonextx:1,tonexty:1,tonext:1};t.exports=function(e,t,n){var i,a,o,s,u,l={},c=!1,f=-1,h=0,d=-1;for(a=0;a<n.length;a++)(o=(i=n[a][0].trace).stackgroup||"")?o in l?u=l[o]:(u=l[o]=h,h++):i.fill in r&&d>=0?u=d:(u=d=h,h++),u<f&&(c=!0),i._groupIndex=f=u;var p=n.slice();c&&p.sort((function(e,t){var n=e[0].trace,r=t[0].trace;return n._groupIndex-r._groupIndex||n.index-r.index}));var v={};for(a=0;a<p.length;a++)o=(i=p[a][0].trace).stackgroup||"",!0===i.visible?(i._nexttrace=null,i.fill in r&&(s=v[o],i._prevtrace=s||null,s&&(s._nexttrace=i)),i._ownfill=i.fill&&("tozero"===i.fill.substr(0,6)||"toself"===i.fill||"to"===i.fill.substr(0,2)&&!i._prevtrace),v[o]=i):i._prevtrace=i._nexttrace=i._ownfill=null;return p}},{}],370:[function(e,t,n){"use strict";var r=e("fast-isnumeric");t.exports=function(e){var t=e.marker,n=t.sizeref||1,i=t.sizemin||0,a="area"===t.sizemode?function(e){return Math.sqrt(e/n)}:function(e){return e/n};return function(e){var t=a(e/2);return r(t)&&t>0?Math.max(t,i):0}}},{"fast-isnumeric":15}],371:[function(e,t,n){"use strict";t.exports={container:"marker",min:"cmin",max:"cmax"}},{}],372:[function(e,t,n){"use strict";var r=e("../../components/color"),i=e("../../components/colorscale/helpers").hasColorscale,a=e("../../components/colorscale/defaults"),o=e("./subtypes");t.exports=function(e,t,n,s,u,l){var c=o.isBubble(e),f=(e.line||{}).color;l=l||{},f&&(n=f),u("marker.symbol"),u("marker.opacity",c?.7:1),u("marker.size"),u("marker.color",n),i(e,"marker")&&a(e,t,s,u,{prefix:"marker.",cLetter:"c"}),l.noSelect||(u("selected.marker.color"),u("unselected.marker.color"),u("selected.marker.size"),u("unselected.marker.size")),l.noLine||(u("marker.line.color",f&&!Array.isArray(f)&&t.marker.color!==f?f:c?r.background:r.defaultLine),i(e,"marker.line")&&a(e,t,s,u,{prefix:"marker.line.",cLetter:"c"}),u("marker.line.width",c?1:0)),c&&(u("marker.sizeref"),u("marker.sizemin"),u("marker.sizemode")),l.gradient&&"none"!==u("marker.gradient.type")&&u("marker.gradient.color")}},{"../../components/color":100,"../../components/colorscale/defaults":110,"../../components/colorscale/helpers":111,"./subtypes":378}],373:[function(e,t,n){"use strict";var r=e("../../lib").dateTick0,i=e("../../constants/numerical").ONEWEEK;function a(e,t){return r(t,e%i===0?1:0)}t.exports=function(e,t,n,r,i){if(i||(i={x:!0,y:!0}),i.x){var o=r("xperiod");o&&(r("xperiod0",a(o,t.xcalendar)),r("xperiodalignment"))}if(i.y){var s=r("yperiod");s&&(r("yperiod0",a(s,t.ycalendar)),r("yperiodalignment"))}}},{"../../constants/numerical":210,"../../lib":230}],374:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../../registry"),a=e("../../lib"),o=a.ensureSingle,s=a.identity,u=e("../../components/drawing"),l=e("./subtypes"),c=e("./line_points"),f=e("./link_traces"),h=e("../../lib/polygon").tester;function d(e,t,n){t.each((function(t){var i=o(r.select(this),"g","fills");u.setClipUrl(i,n.layerClipId,e);var a=t[0].trace,l=[];a._ownfill&&l.push("_ownFill"),a._nexttrace&&l.push("_nextFill");var c=i.selectAll("g").data(l,s);c.enter().append("g"),c.exit().each((function(e){a[e]=null})).remove(),c.order().each((function(e){a[e]=o(r.select(this),"path","js-fill")}))}))}function p(e,t,n,f,d,p,g){var y;v(e,t,n,f,d);var m=!!g&&g.duration>0;function b(e){return m?e.transition():e}var _=n.xaxis,w=n.yaxis,x=f[0].trace,T=x.line,k=r.select(p),O=o(k,"g","errorbars"),S=o(k,"g","lines"),A=o(k,"g","points"),E=o(k,"g","text");if(i.getComponentMethod("errorbars","plot")(e,O,n,g),!0===x.visible){var C,M;b(k).style("opacity",x.opacity);var I=x.fill.charAt(x.fill.length-1);"x"!==I&&"y"!==I&&(I=""),f[0][n.isRangePlot?"nodeRangePlot3":"node3"]=k;var D,P,N="",j=[],L=x._prevtrace;L&&(N=L._prevRevpath||"",M=L._nextFill,j=L._polygons);var R,F,z,U,q,B,V,H="",W="",Y=[],G=a.noop;if(C=x._ownFill,l.hasLines(x)||"none"!==x.fill){for(M&&M.datum(f),-1!==["hv","vh","hvh","vhv"].indexOf(T.shape)?(R=u.steps(T.shape),F=u.steps(T.shape.split("").reverse().join(""))):R=F="spline"===T.shape?function(e){var t=e[e.length-1];return e.length>1&&e[0][0]===t[0]&&e[0][1]===t[1]?u.smoothclosed(e.slice(1),T.smoothing):u.smoothopen(e,T.smoothing)}:function(e){return"M"+e.join("L")},z=function(e){return F(e.reverse())},Y=c(f,{xaxis:_,yaxis:w,connectGaps:x.connectgaps,baseTolerance:Math.max(T.width||1,3)/4,shape:T.shape,simplify:T.simplify,fill:x.fill}),V=x._polygons=new Array(Y.length),y=0;y<Y.length;y++)x._polygons[y]=h(Y[y]);Y.length&&(U=Y[0][0],B=(q=Y[Y.length-1])[q.length-1]),G=function(e){return function(t){if(D=R(t),P=z(t),H?I?(H+="L"+D.substr(1),W=P+"L"+W.substr(1)):(H+="Z"+D,W=P+"Z"+W):(H=D,W=P),l.hasLines(x)&&t.length>1){var n=r.select(this);if(n.datum(f),e)b(n.style("opacity",0).attr("d",D).call(u.lineGroupStyle)).style("opacity",1);else{var i=b(n);i.attr("d",D),u.singleLineStyle(f,i)}}}}}var K=S.selectAll(".js-line").data(Y);b(K.exit()).style("opacity",0).remove(),K.each(G(!1)),K.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(u.lineGroupStyle).each(G(!0)),u.setClipUrl(K,n.layerClipId,e),Y.length?(C?(C.datum(f),U&&B&&(I?("y"===I?U[1]=B[1]=w.c2p(0,!0):"x"===I&&(U[0]=B[0]=_.c2p(0,!0)),b(C).attr("d","M"+B+"L"+U+"L"+H.substr(1)).call(u.singleFillStyle)):b(C).attr("d",H+"Z").call(u.singleFillStyle))):M&&("tonext"===x.fill.substr(0,6)&&H&&N?("tonext"===x.fill?b(M).attr("d",H+"Z"+N+"Z").call(u.singleFillStyle):b(M).attr("d",H+"L"+N.substr(1)+"Z").call(u.singleFillStyle),x._polygons=x._polygons.concat(j)):($(M),x._polygons=null)),x._prevRevpath=W,x._prevPolygons=V):(C?$(C):M&&$(M),x._polygons=x._prevRevpath=x._prevPolygons=null),A.datum(f),E.datum(f),re(A,E,f);var X=!1===x.cliponaxis?null:n.layerClipId;u.setClipUrl(A,X,e),u.setClipUrl(E,X,e)}function $(e){b(e).attr("d","M0,0Z")}function Q(e){return e.filter((function(e){return!e.gap&&e.vis}))}function J(e){return e.filter((function(e){return e.vis}))}function Z(e){return e.filter((function(e){return!e.gap}))}function ee(e){return e.id}function te(e){if(e.ids)return ee}function ne(){return!1}function re(t,i,a){var o,c=a[0].trace,f=l.hasMarkers(c),h=l.hasText(c),d=te(c),p=ne,v=ne;if(f||h){var g=s,y=c.stackgroup,x=y&&"infer zero"===e._fullLayout._scatterStackOpts[_._id+w._id][y].stackgaps;c.marker.maxdisplayed||c._needsCull?g=x?J:Q:y&&!x&&(g=Z),f&&(p=g),h&&(v=g)}var T,k=(o=t.selectAll("path.point").data(p,d)).enter().append("path").classed("point",!0);m&&k.call(u.pointStyle,c,e).call(u.translatePoints,_,w).style("opacity",0).transition().style("opacity",1),o.order(),f&&(T=u.makePointStyleFns(c)),o.each((function(t){var i=r.select(this),a=b(i);u.translatePoint(t,a,_,w)?(u.singlePointStyle(t,a,c,T,e),n.layerClipId&&u.hideOutsideRangePoint(t,a,_,w,c.xcalendar,c.ycalendar),c.customdata&&i.classed("plotly-customdata",null!==t.data&&void 0!==t.data)):a.remove()})),m?o.exit().transition().style("opacity",0).remove():o.exit().remove(),(o=i.selectAll("g").data(v,d)).enter().append("g").classed("textpoint",!0).append("text"),o.order(),o.each((function(e){var t=r.select(this),i=b(t.select("text"));u.translatePoint(e,i,_,w)?n.layerClipId&&u.hideOutsideRangePoint(e,t,_,w,c.xcalendar,c.ycalendar):t.remove()})),o.selectAll("text").call(u.textPointStyle,c,e).each((function(e){var t=_.c2p(e.x),n=w.c2p(e.y);r.select(this).selectAll("tspan.line").each((function(){b(r.select(this)).attr({x:t,y:n})}))})),o.exit().remove()}}function v(e,t,n,i,o){var s=n.xaxis,u=n.yaxis,c=r.extent(a.simpleMap(s.range,s.r2c)),f=r.extent(a.simpleMap(u.range,u.r2c)),h=i[0].trace;if(l.hasMarkers(h)){var d=h.marker.maxdisplayed;if(0!==d){var p=i.filter((function(e){return e.x>=c[0]&&e.x<=c[1]&&e.y>=f[0]&&e.y<=f[1]})),v=Math.ceil(p.length/d),g=0;o.forEach((function(e,n){var r=e[0].trace;l.hasMarkers(r)&&r.marker.maxdisplayed>0&&n<t&&g++}));var y=Math.round(g*v/3+Math.floor(g/3)*v/7.1);i.forEach((function(e){delete e.vis})),p.forEach((function(e,t){0===Math.round((t+y)%v)&&(e.vis=!0)}))}}}t.exports=function(e,t,n,i,a,o){var s,u,l=!a,c=!!a&&a.duration>0,h=f(e,t,n);(s=i.selectAll("g.trace").data(h,(function(e){return e[0].trace.uid}))).enter().append("g").attr("class",(function(e){return"trace scatter trace"+e[0].trace.uid})).style("stroke-miterlimit",2),s.order(),d(e,s,t),c?(o&&(u=o()),r.transition().duration(a.duration).ease(a.easing).each("end",(function(){u&&u()})).each("interrupt",(function(){u&&u()})).each((function(){i.selectAll("g.trace").each((function(n,r){p(e,r,t,n,h,this,a)}))}))):s.each((function(n,r){p(e,r,t,n,h,this,a)})),l&&s.exit().remove(),i.selectAll("path:not([d])").remove()}},{"../../components/drawing":122,"../../lib":230,"../../lib/polygon":242,"../../registry":313,"./line_points":367,"./link_traces":369,"./subtypes":378,"@plotly/d3":11}],375:[function(e,t,n){"use strict";var r=e("./subtypes");t.exports=function(e,t){var n,i,a,o,s=e.cd,u=e.xaxis,l=e.yaxis,c=[],f=s[0].trace;if(!r.hasMarkers(f)&&!r.hasText(f))return[];if(!1===t)for(n=0;n<s.length;n++)s[n].selected=0;else for(n=0;n<s.length;n++)i=s[n],a=u.c2p(i.x),o=l.c2p(i.y),null!==i.i&&t.contains([a,o],!1,n,e)?(c.push({pointNumber:i.i,x:u.c2d(i.x),y:l.c2d(i.y)}),i.selected=1):i.selected=0;return c}},{"./subtypes":378}],376:[function(e,t,n){"use strict";var r=["orientation","groupnorm","stackgaps"];t.exports=function(e,t,n,i){var a=n._scatterStackOpts,o=i("stackgroup");if(o){var s=t.xaxis+t.yaxis,u=a[s];u||(u=a[s]={});var l=u[o],c=!1;l?l.traces.push(t):(l=u[o]={traceIndices:[],traces:[t]},c=!0);for(var f={orientation:t.x&&!t.y?"h":"v"},h=0;h<r.length;h++){var d=r[h],p=d+"Found";if(!l[p]){var v=void 0!==e[d],g="orientation"===d;if((v||c)&&(l[d]=i(d,f[d]),g&&(l.fillDflt="h"===l[d]?"tonextx":"tonexty"),v&&(l[p]=!0,!c&&(delete l.traces[0][d],g))))for(var y=0;y<l.traces.length-1;y++){var m=l.traces[y];m._input.fill!==m.fill&&(m.fill=l.fillDflt)}}}return l}}},{}],377:[function(e,t,n){"use strict";var r=e("@plotly/d3"),i=e("../../components/drawing"),a=e("../../registry");function o(e){var t=r.select(e).selectAll("g.trace.scatter");t.style("opacity",(function(e){return e[0].trace.opacity})),t.selectAll("g.points").each((function(t){s(r.select(this),t.trace||t[0].trace,e)})),t.selectAll("g.text").each((function(t){u(r.select(this),t.trace||t[0].trace,e)})),t.selectAll("g.trace path.js-line").call(i.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(i.fillGroupStyle),a.getComponentMethod("errorbars","style")(t)}function s(e,t,n){i.pointStyle(e.selectAll("path.point"),t,n)}function u(e,t,n){i.textPointStyle(e.selectAll("text"),t,n)}function l(e,t,n){var r=t[0].trace;r.selectedpoints?(i.selectedPointStyle(n.selectAll("path.point"),r),i.selectedTextStyle(n.selectAll("text"),r)):(s(n,r,e),u(n,r,e))}t.exports={style:o,stylePoints:s,styleText:u,styleOnSelect:l}},{"../../components/drawing":122,"../../registry":313,"@plotly/d3":11}],378:[function(e,t,n){"use strict";var r=e("../../lib");t.exports={hasLines:function(e){return e.visible&&e.mode&&-1!==e.mode.indexOf("lines")},hasMarkers:function(e){return e.visible&&(e.mode&&-1!==e.mode.indexOf("markers")||"splom"===e.type)},hasText:function(e){return e.visible&&e.mode&&-1!==e.mode.indexOf("text")},isBubble:function(e){return r.isPlainObject(e.marker)&&r.isArrayOrTypedArray(e.marker.size)}}},{"../../lib":230}],379:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t,n,i,a){a=a||{},i("textposition"),r.coerceFont(i,"textfont",n.font),a.noSelect||(i("selected.textfont.color"),i("unselected.textfont.color"))}},{"../../lib":230}],380:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../registry");t.exports=function(e,t,n,a){var o,s=a("x"),u=a("y");if(i.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y"],n),s){var l=r.minRowLength(s);u?o=Math.min(l,r.minRowLength(u)):(o=l,a("y0"),a("dy"))}else{if(!u)return 0;o=r.minRowLength(u),a("x0"),a("dx")}return t._length=o,o}},{"../../lib":230,"../../registry":313}],381:[function(e,t,n){"use strict";var r=e("../plots/cartesian/axes"),i=e("../lib"),a=e("../plot_api/plot_schema"),o=e("./helpers").pointsAccessorFunction,s=e("../constants/numerical").BADNUM;n.moduleType="transform",n.name="aggregate";var u=n.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},l=u.aggregations;function c(e,t,n,a){if(a.enabled){for(var o=a.target,s=i.nestedProperty(t,o),u=s.get(),l=f(a,r.getDataConversions(e,t,o,u)),c=new Array(n.length),h=0;h<n.length;h++)c[h]=l(u,n[h]);s.set(c),"count"===a.func&&i.pushUnique(t._arrayAttrs,o)}}function f(e,t){var n=e.func,r=t.d2c,a=t.c2d;switch(n){case"count":return h;case"first":return d;case"last":return p;case"sum":return function(e,t){for(var n=0,i=0;i<t.length;i++){var o=r(e[t[i]]);o!==s&&(n+=o)}return a(n)};case"avg":return function(e,t){for(var n=0,i=0,o=0;o<t.length;o++){var u=r(e[t[o]]);u!==s&&(n+=u,i++)}return i?a(n/i):s};case"min":return function(e,t){for(var n=1/0,i=0;i<t.length;i++){var o=r(e[t[i]]);o!==s&&(n=Math.min(n,o))}return n===1/0?s:a(n)};case"max":return function(e,t){for(var n=-1/0,i=0;i<t.length;i++){var o=r(e[t[i]]);o!==s&&(n=Math.max(n,o))}return n===-1/0?s:a(n)};case"range":return function(e,t){for(var n=1/0,i=-1/0,o=0;o<t.length;o++){var u=r(e[t[o]]);u!==s&&(n=Math.min(n,u),i=Math.max(i,u))}return i===-1/0||n===1/0?s:a(i-n)};case"change":return function(e,t){var n=r(e[t[0]]),i=r(e[t[t.length-1]]);return n===s||i===s?s:a(i-n)};case"median":return function(e,t){for(var n=[],o=0;o<t.length;o++){var u=r(e[t[o]]);u!==s&&n.push(u)}if(!n.length)return s;n.sort(i.sorterAsc);var l=(n.length-1)/2;return a((n[Math.floor(l)]+n[Math.ceil(l)])/2)};case"mode":return function(e,t){for(var n={},i=0,o=s,u=0;u<t.length;u++){var l=r(e[t[u]]);if(l!==s){var c=n[l]=(n[l]||0)+1;c>i&&(i=c,o=l)}}return i?a(o):s};case"rms":return function(e,t){for(var n=0,i=0,o=0;o<t.length;o++){var u=r(e[t[o]]);u!==s&&(n+=u*u,i++)}return i?a(Math.sqrt(n/i)):s};case"stddev":return function(t,n){var i,a=0,o=0,u=1,l=s;for(i=0;i<n.length&&l===s;i++)l=r(t[n[i]]);if(l===s)return s;for(;i<n.length;i++){var c=r(t[n[i]]);if(c!==s){var f=c-l;a+=f,o+=f*f,u++}}var h="sample"===e.funcmode?u-1:u;return h?Math.sqrt((o-a*a/u)/h):0}}}function h(e,t){return t.length}function d(e,t){return e[t[0]]}function p(e,t){return e[t[t.length-1]]}n.supplyDefaults=function(e,t){var n,r={};function o(t,n){return i.coerce(e,r,u,t,n)}if(!o("enabled"))return r;var s=a.findArrayAttributes(t),c={};for(n=0;n<s.length;n++)c[s[n]]=1;var f=o("groups");if(!Array.isArray(f)){if(!c[f])return r.enabled=!1,r;c[f]=0}var h,d=e.aggregations||[],p=r.aggregations=new Array(d.length);function v(e,t){return i.coerce(d[n],h,l,e,t)}for(n=0;n<d.length;n++){h={_index:n};var g=v("target"),y=v("func");v("enabled")&&g&&(c[g]||"count"===y&&void 0===c[g])?("stddev"===y&&v("funcmode"),c[g]=0,p[n]=h):p[n]={enabled:!1,_index:n}}for(n=0;n<s.length;n++)c[s[n]]&&p.push({target:s[n],func:l.func.dflt,enabled:!0,_index:-1});return r},n.calcTransform=function(e,t,n){if(n.enabled){var r=n.groups,a=i.getTargetArray(t,{target:r});if(a){var s,u,l,f,h={},d={},p=[],v=o(t.transforms,n),g=a.length;for(t._length&&(g=Math.min(g,t._length)),s=0;s<g;s++)void 0===(l=h[u=a[s]])?(h[u]=p.length,f=[s],p.push(f),d[h[u]]=v(s)):(p[l].push(s),d[h[u]]=(d[h[u]]||[]).concat(v(s)));n._indexToPoints=d;var y=n.aggregations;for(s=0;s<y.length;s++)c(e,t,p,y[s]);"string"===typeof r&&c(e,t,p,{target:r,func:"first",enabled:!0}),t._length=p.length}}}},{"../constants/numerical":210,"../lib":230,"../plot_api/plot_schema":264,"../plots/cartesian/axes":276,"./helpers":384}],382:[function(e,t,n){"use strict";var r=e("../lib"),i=e("../registry"),a=e("../plots/cartesian/axes"),o=e("./helpers").pointsAccessorFunction,s=e("../constants/filter_ops"),u=s.COMPARISON_OPS,l=s.INTERVAL_OPS,c=s.SET_OPS;function f(e,t,n){var r=e.operation,i=e.value,a=Array.isArray(i);function o(e){return-1!==e.indexOf(r)}var s,f=function(n){return t(n,0,e.valuecalendar)},h=function(e){return t(e,0,n)};switch(o(u)?s=f(a?i[0]:i):o(l)?s=a?[f(i[0]),f(i[1])]:[f(i),f(i)]:o(c)&&(s=a?i.map(f):[f(i)]),r){case"=":return function(e){return h(e)===s};case"!=":return function(e){return h(e)!==s};case"<":return function(e){return h(e)<s};case"<=":return function(e){return h(e)<=s};case">":return function(e){return h(e)>s};case">=":return function(e){return h(e)>=s};case"[]":return function(e){var t=h(e);return t>=s[0]&&t<=s[1]};case"()":return function(e){var t=h(e);return t>s[0]&&t<s[1]};case"[)":return function(e){var t=h(e);return t>=s[0]&&t<s[1]};case"(]":return function(e){var t=h(e);return t>s[0]&&t<=s[1]};case"][":return function(e){var t=h(e);return t<=s[0]||t>=s[1]};case")(":return function(e){var t=h(e);return t<s[0]||t>s[1]};case"](":return function(e){var t=h(e);return t<=s[0]||t>s[1]};case")[":return function(e){var t=h(e);return t<s[0]||t>=s[1]};case"{}":return function(e){return-1!==s.indexOf(h(e))};case"}{":return function(e){return-1===s.indexOf(h(e))}}}n.moduleType="transform",n.name="filter",n.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(u).concat(l).concat(c),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},n.supplyDefaults=function(e){var t={};function a(i,a){return r.coerce(e,t,n.attributes,i,a)}if(a("enabled")){var o=a("target");if(r.isArrayOrTypedArray(o)&&0===o.length)return t.enabled=!1,t;a("preservegaps"),a("operation"),a("value");var s=i.getComponentMethod("calendars","handleDefaults");s(e,t,"valuecalendar",null),s(e,t,"targetcalendar",null)}return t},n.calcTransform=function(e,t,n){if(n.enabled){var i=r.getTargetArray(t,n);if(i){var s=n.target,u=i.length;t._length&&(u=Math.min(u,t._length));var l=n.targetcalendar,c=t._arrayAttrs,h=n.preservegaps;if("string"===typeof s){var d=r.nestedProperty(t,s+"calendar").get();d&&(l=d)}var p,v,g=f(n,a.getDataToCoordFunc(e,t,s,i),l),y={},m={},b=0;h?(p=function(e){y[e.astr]=r.extendDeep([],e.get()),e.set(new Array(u))},v=function(e,t){var n=y[e.astr][t];e.get()[t]=n}):(p=function(e){y[e.astr]=r.extendDeep([],e.get()),e.set([])},v=function(e,t){var n=y[e.astr][t];e.get().push(n)}),x(p);for(var _=o(t.transforms,n),w=0;w<u;w++)g(i[w])?(x(v,w),m[b++]=_(w)):h&&b++;n._indexToPoints=m,t._length=b}}function x(e,n){for(var i=0;i<c.length;i++)e(r.nestedProperty(t,c[i]),n)}}},{"../constants/filter_ops":208,"../lib":230,"../plots/cartesian/axes":276,"../registry":313,"./helpers":384}],383:[function(e,t,n){"use strict";var r=e("../lib"),i=e("../plot_api/plot_schema"),a=e("../plots/plots"),o=e("./helpers").pointsAccessorFunction;function s(e,t){var n,s,u,l,c,f,h,d,p,v,g=t.transform,y=t.transformIndex,m=e.transforms[y].groups,b=o(e.transforms,g);if(!r.isArrayOrTypedArray(m)||0===m.length)return[e];var _=r.filterUnique(m),w=new Array(_.length),x=m.length,T=i.findArrayAttributes(e),k=g.styles||[],O={};for(n=0;n<k.length;n++)O[k[n].target]=k[n].value;g.styles&&(v=r.keyedContainer(g,"styles","target","value.name"));var S={},A={};for(n=0;n<_.length;n++){S[f=_[n]]=n,A[f]=0,(h=w[n]=r.extendDeepNoArrays({},e))._group=f,h.transforms[y]._indexToPoints={};var E=null;for(v&&(E=v.get(f)),h.name=E||""===E?E:r.templateString(g.nameformat,{trace:e.name,group:f}),d=h.transforms,h.transforms=[],s=0;s<d.length;s++)h.transforms[s]=r.extendDeepNoArrays({},d[s]);for(s=0;s<T.length;s++)r.nestedProperty(h,T[s]).set([])}for(u=0;u<T.length;u++){for(l=T[u],s=0,p=[];s<_.length;s++)p[s]=r.nestedProperty(w[s],l).get();for(c=r.nestedProperty(e,l).get(),s=0;s<x;s++)p[S[m[s]]].push(c[s])}for(s=0;s<x;s++)(h=w[S[m[s]]]).transforms[y]._indexToPoints[A[m[s]]]=b(s),A[m[s]]++;for(n=0;n<_.length;n++)f=_[n],h=w[n],a.clearExpandedTraceDefaultColors(h),h=r.extendDeepNoArrays(h,O[f]||{});return w}n.moduleType="transform",n.name="groupby",n.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},n.supplyDefaults=function(e,t,i){var a,o={};function s(t,i){return r.coerce(e,o,n.attributes,t,i)}if(!s("enabled"))return o;s("groups"),s("nameformat",i._dataLength>1?"%{group} (%{trace})":"%{group}");var u=e.styles,l=o.styles=[];if(u)for(a=0;a<u.length;a++){var c=l[a]={};r.coerce(u[a],l[a],n.attributes.styles,"target");var f=r.coerce(u[a],l[a],n.attributes.styles,"value");r.isPlainObject(f)?c.value=r.extendDeep({},f):f&&delete c.value}return o},n.transform=function(e,t){var n,r,i,a=[];for(r=0;r<e.length;r++)for(n=s(e[r],t),i=0;i<n.length;i++)a.push(n[i]);return a}},{"../lib":230,"../plot_api/plot_schema":264,"../plots/plots":311,"./helpers":384}],384:[function(e,t,n){"use strict";n.pointsAccessorFunction=function(e,t){for(var n,r,i=0;i<e.length&&(n=e[i])!==t;i++)n._indexToPoints&&!1!==n.enabled&&(r=n._indexToPoints);return r?function(e){return r[e]}:function(e){return[e]}}},{}],385:[function(e,t,n){"use strict";var r=e("../lib"),i=e("../plots/cartesian/axes"),a=e("./helpers").pointsAccessorFunction,o=e("../constants/numerical").BADNUM;function s(e,t,n,r){var i,a=new Array(r),o=new Array(r);for(i=0;i<r;i++)a[i]={v:t[i],i:i};for(a.sort(u(e,n)),i=0;i<r;i++)o[i]=a[i].i;return o}function u(e,t){switch(e.order){case"ascending":return function(e,n){var r=t(e.v),i=t(n.v);return r===o?1:i===o?-1:r-i};case"descending":return function(e,n){var r=t(e.v),i=t(n.v);return r===o?1:i===o?-1:i-r}}}n.moduleType="transform",n.name="sort",n.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},n.supplyDefaults=function(e){var t={};function i(i,a){return r.coerce(e,t,n.attributes,i,a)}return i("enabled")&&(i("target"),i("order")),t},n.calcTransform=function(e,t,n){if(n.enabled){var o=r.getTargetArray(t,n);if(o){var u=n.target,l=o.length;t._length&&(l=Math.min(l,t._length));var c,f,h=t._arrayAttrs,d=s(n,o,i.getDataToCoordFunc(e,t,u,o),l),p=a(t.transforms,n),v={};for(c=0;c<h.length;c++){var g=r.nestedProperty(t,h[c]),y=g.get(),m=new Array(l);for(f=0;f<l;f++)m[f]=y[d[f]];g.set(m)}for(f=0;f<l;f++)v[f]=p(d[f]);n._indexToPoints=v,t._length=l}}}},{"../constants/numerical":210,"../lib":230,"../plots/cartesian/axes":276,"./helpers":384}],386:[function(e,t,n){"use strict";n.version="2.2.1"},{}]},{},[8])(8)}()}).call(this,n(45))},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(t){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(r,t);var n=function(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=n.call(this,e)).p=Promise.resolve(),t.resizeHandler=null,t.handlers={},t.syncWindowResize=t.syncWindowResize.bind(f(t)),t.syncEventHandlers=t.syncEventHandlers.bind(f(t)),t.attachUpdateEvents=t.attachUpdateEvents.bind(f(t)),t.getRef=t.getRef.bind(f(t)),t.handleUpdate=t.handleUpdate.bind(f(t)),t.figureCallback=t.figureCallback.bind(f(t)),t.updatePlotly=t.updatePlotly.bind(f(t)),t}return function(e,t,n){t&&u(e.prototype,t);n&&u(e,n)}(r,[{key:"updatePlotly",value:function(t,n,r){var i=this;this.p=this.p.then((function(){if(!i.unmounting){if(!i.el)throw new Error("Missing element reference");return e.react(i.el,{data:i.props.data,layout:i.props.layout,config:i.props.config,frames:i.props.frames})}})).then((function(){i.unmounting||(i.syncWindowResize(t),i.syncEventHandlers(),i.figureCallback(n),r&&i.attachUpdateEvents())})).catch((function(e){i.props.onError&&i.props.onError(e)}))}},{key:"componentDidMount",value:function(){this.unmounting=!1,this.updatePlotly(!0,this.props.onInitialized,!0)}},{key:"componentDidUpdate",value:function(e){this.unmounting=!1;var t=e.frames&&e.frames.length?e.frames.length:0,n=this.props.frames&&this.props.frames.length?this.props.frames.length:0,r=!(e.layout===this.props.layout&&e.data===this.props.data&&e.config===this.props.config&&n===t),i=void 0!==e.revision,a=e.revision!==this.props.revision;(r||i&&(!i||a))&&this.updatePlotly(!1,this.props.onUpdate,!1)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0,this.figureCallback(this.props.onPurge),this.resizeHandler&&v&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.removeUpdateEvents(),e.purge(this.el)}},{key:"attachUpdateEvents",value:function(){var e=this;this.el&&this.el.removeListener&&p.forEach((function(t){e.el.on(t,e.handleUpdate)}))}},{key:"removeUpdateEvents",value:function(){var e=this;this.el&&this.el.removeListener&&p.forEach((function(t){e.el.removeListener(t,e.handleUpdate)}))}},{key:"handleUpdate",value:function(){this.figureCallback(this.props.onUpdate)}},{key:"figureCallback",value:function(e){if("function"===typeof e){var t=this.el;e({data:t.data,layout:t.layout,frames:this.el._transitionData?this.el._transitionData._frames:null},this.el)}}},{key:"syncWindowResize",value:function(t){var n=this;v&&(this.props.useResizeHandler&&!this.resizeHandler?(this.resizeHandler=function(){return e.Plots.resize(n.el)},window.addEventListener("resize",this.resizeHandler),t&&this.resizeHandler()):!this.props.useResizeHandler&&this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null))}},{key:"getRef",value:function(e){this.el=e,this.props.debug&&v&&(window.gd=this.el)}},{key:"syncEventHandlers",value:function(){var e=this;d.forEach((function(t){var n=e.props["on"+t],r=e.handlers[t],i=Boolean(r);n&&!i?e.addEventHandler(t,n):!n&&i?e.removeEventHandler(t):n&&i&&n!==r&&(e.removeEventHandler(t),e.addEventHandler(t,n))}))}},{key:"addEventHandler",value:function(e,t){this.handlers[e]=t,this.el.on(this.getPlotlyEventName(e),this.handlers[e])}},{key:"removeEventHandler",value:function(e){this.el.removeListener(this.getPlotlyEventName(e),this.handlers[e]),delete this.handlers[e]}},{key:"getPlotlyEventName",value:function(e){return"plotly_"+e.toLowerCase()}},{key:"render",value:function(){return a.default.createElement("div",{id:this.props.divId,style:this.props.style,ref:this.getRef,className:this.props.className})}}]),r}(a.Component);return t.propTypes={data:o.default.arrayOf(o.default.object),config:o.default.object,layout:o.default.object,frames:o.default.arrayOf(o.default.object),revision:o.default.number,onInitialized:o.default.func,onPurge:o.default.func,onError:o.default.func,onUpdate:o.default.func,debug:o.default.bool,style:o.default.object,className:o.default.string,useResizeHandler:o.default.bool,divId:o.default.string},d.forEach((function(e){t.propTypes["on"+e]=o.default.func})),t.defaultProps={debug:!1,useResizeHandler:!1,data:[],style:{position:"relative",display:"inline-block"}},t};var i,a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(2)),o=(i=n(7))&&i.__esModule?i:{default:i};function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=["AfterExport","AfterPlot","Animated","AnimatingFrame","AnimationInterrupted","AutoSize","BeforeExport","BeforeHover","ButtonClicked","Click","ClickAnnotation","Deselect","DoubleClick","Framework","Hover","LegendClick","LegendDoubleClick","Relayout","Relayouting","Restyle","Redraw","Selected","Selecting","SliderChange","SliderEnd","SliderStart","SunburstClick","Transitioning","TransitionInterrupted","Unhover"],p=["plotly_restyle","plotly_redraw","plotly_relayout","plotly_relayouting","plotly_doubleclick","plotly_animated","plotly_sunburstclick"],v="undefined"!==typeof window},function(e,t,n){"use strict";n.d(t,"a",(function(){return a.default}));var r,i,a=n(10),o=(n(125),n(126),n(19)),s=n(14),u=n(3),l=n(13),c=(n(23),{Firestore:o.s,GeoPoint:o.b,Timestamp:o.f,Blob:o.k,Transaction:o.g,WriteBatch:o.o,DocumentReference:o.d,DocumentSnapshot:o.i,Query:o.j,QueryDocumentSnapshot:o.h,QuerySnapshot:o.m,CollectionReference:o.p,FieldPath:o.n,FieldValue:o.t,setLogLevel:o.e,CACHE_SIZE_UNLIMITED:o.r});(function(e,t){e.INTERNAL.registerComponent(new s.Component("firestore",(function(e){return function(e,t){return new o.s(e,new o.c(e,t),new o.a)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},c)))})(r=a.default),r.registerVersion("@firebase/firestore","2.3.8"),(i=o.s).prototype.loadBundle=o.q,i.prototype.namedQuery=o.l;var f=n(1),h={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},d=function(e){function t(n,r,i){var a=e.call(this,r)||this;return Object.setPrototypeOf(a,t.prototype),a.code=n,a.details=i,a}return Object(f.__extends)(t,e),t}(Error);var p=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return Object(f.__awaiter)(this,void 0,void 0,(function(){var e;return Object(f.__generator)(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return Object(f.__awaiter)(this,void 0,void 0,(function(){return Object(f.__generator)(this,(function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getContext=function(){return Object(f.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(f.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function v(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var g=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"===typeof e||"object"===typeof e)return v(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"===typeof e||"object"===typeof e?v(e,(function(e){return t.decode(e)})):e},e}();var y=function(){function e(e,t,n,i,a,o){var s=this;void 0===a&&(a="us-central1"),this.app_=e,this.appCheckProvider=i,this.fetchImpl=o,this.serializer=new g,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(s.deleteService())}},this.contextProvider=new p(t,n),this.cancelAllRequests=new Promise((function(e){s.deleteService=function(){return e()}}));try{var u=new URL(a);this.customDomain=u.origin,this.region="us-central1"}catch(r){this.customDomain=null,this.region=a}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return Object(f.__awaiter)(this,void 0,void 0,(function(){var r,i,a;return Object(f.__generator)(this,(function(o){switch(o.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=o.sent())&&(n["X-Firebase-AppCheck"]=r),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 3:return i=o.sent(),[3,5];case 4:return o.sent(),[2,{status:0,json:null}];case 5:a=null,o.label=6;case 6:return o.trys.push([6,8,,9]),[4,i.json()];case 7:return a=o.sent(),[3,9];case 8:return o.sent(),[3,9];case 9:return[2,{status:i.status,json:a}]}}))}))},e.prototype.getAppCheckToken=function(){return Object(f.__awaiter)(this,void 0,void 0,(function(){var e;return Object(f.__generator)(this,(function(t){switch(t.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype.call=function(e,t,n){return Object(f.__awaiter)(this,void 0,void 0,(function(){var i,a,o,s,u,l,c,p,v,g,y;return Object(f.__generator)(this,(function(f){switch(f.label){case 0:return i=this._url(e),t=this.serializer.encode(t),a={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(s=f.sent()).authToken&&(o.Authorization="Bearer "+s.authToken),s.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=s.instanceIdToken),u=n.timeout||7e4,l=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new d("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(u),c=l.timer,p=l.promise,[4,Promise.race([m(c,this.postJSON(i,a,o)),p,m(c,this.cancelAllRequests)])];case 2:if(!(v=f.sent()))throw new d("cancelled","Firebase Functions instance was deleted.");if(g=function(e,t,n){var i=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),a=i,o=void 0;try{var s=t&&t.error;if(s){var u=s.status;if("string"===typeof u){if(!h[u])return new d("internal","internal");i=h[u],a=u}var l=s.message;"string"===typeof l&&(a=l),void 0!==(o=s.details)&&(o=n.decode(o))}}catch(r){}return"ok"===i?null:new d(i,a,o)}(v.status,v.json,this.serializer))throw g;if(!v.json)throw new d("internal","Response is not valid JSON object.");if("undefined"===typeof(y=v.json.data)&&(y=v.json.result),"undefined"===typeof y)throw new d("internal","Response is missing data field.");return[2,{data:this.serializer.decode(y)}]}}))}))},e}();function m(e,t){return Object(f.__awaiter)(this,void 0,void 0,(function(){var n;return Object(f.__generator)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}!function(e,t){var n={Functions:y};e.INTERNAL.registerComponent(new s.Component("functions",(function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),a=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal"),s=e.getProvider("messaging");return new y(i,a,s,o,r,t)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(a.default,fetch.bind(self)),a.default.registerVersion("@firebase/functions","0.6.13");var b,_=n(34),w="0.4.30",x=1e4,T="w:0.4.30",k="FIS_v2",O=36e5,S=((b={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',b["not-registered"]="Firebase Installation is not registered.",b["installation-not-found"]="Firebase Installation not found.",b["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',b["app-offline"]="Could not process request. Application offline.",b["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",b),A=new u.ErrorFactory("installations","Installations",S);function E(e){return e instanceof u.FirebaseError&&e.code.includes("request-failed")}function C(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function M(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function I(e,t){return Object(f.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(f.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,A.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function D(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function P(e,t){var n=t.refreshToken,r=D(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}(n)),r}function N(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){var t;return Object(f.__generator)(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function j(e,t){var n=t.fid;return Object(f.__awaiter)(this,void 0,void 0,(function(){var t,r,i,a,o,s;return Object(f.__generator)(this,(function(u){switch(u.label){case 0:return t=C(e),r=D(e),i={fid:n,authVersion:k,appId:e.appId,sdkVersion:T},a={method:"POST",headers:r,body:JSON.stringify(i)},[4,N((function(){return fetch(t,a)}))];case 1:return(o=u.sent()).ok?[4,o.json()]:[3,3];case 2:return s=u.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:M(s.authToken)}];case 3:return[4,I("Create Installation",o)];case 4:throw u.sent()}}))}))}function L(e){return new Promise((function(t){setTimeout(t,e)}))}var R=/^[cdef][\w-]{21}$/;function F(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,Object(f.__spreadArray)([],Object(f.__read)(t)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return R.test(t)?t:""}catch(n){return""}}function z(e){return e.appName+"!"+e.appId}var U=new Map;function q(e,t){var n=z(e);B(n,t),function(e,t){var n=H();n&&n.postMessage({key:e,fid:t});W()}(n,t)}function B(e,t){var n,r,i=U.get(e);if(i)try{for(var a=Object(f.__values)(i),o=a.next();!o.done;o=a.next()){(0,o.value)(t)}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}var V=null;function H(){return!V&&"BroadcastChannel"in self&&((V=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){B(e.data.key,e.data.fid)}),V}function W(){0===U.size&&V&&(V.close(),V=null)}var Y,G,K="firebase-installations-store",X=null;function $(){return X||(X=Object(_.openDb)("firebase-installations-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(K)}}))),X}function Q(e,t){return Object(f.__awaiter)(this,void 0,void 0,(function(){var n,r,i,a,o;return Object(f.__generator)(this,(function(s){switch(s.label){case 0:return n=z(e),[4,$()];case 1:return r=s.sent(),i=r.transaction(K,"readwrite"),[4,(a=i.objectStore(K)).get(n)];case 2:return o=s.sent(),[4,a.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),o&&o.fid===t.fid||q(e,t.fid),[2,t]}}))}))}function J(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(f.__generator)(this,(function(i){switch(i.label){case 0:return t=z(e),[4,$()];case 1:return n=i.sent(),[4,(r=n.transaction(K,"readwrite")).objectStore(K).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Z(e,t){return Object(f.__awaiter)(this,void 0,void 0,(function(){var n,r,i,a,o,s;return Object(f.__generator)(this,(function(u){switch(u.label){case 0:return n=z(e),[4,$()];case 1:return r=u.sent(),i=r.transaction(K,"readwrite"),[4,(a=i.objectStore(K)).get(n)];case 2:return o=u.sent(),void 0!==(s=t(o))?[3,4]:[4,a.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,a.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||o&&o.fid===s.fid||q(e,s.fid),[2,s]}}))}))}function ee(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(f.__generator)(this,(function(i){switch(i.label){case 0:return[4,Z(e,(function(n){var r=function(e){return re(e||{fid:F(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(A.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return Object(f.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(f.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,j(e,t)];case 1:return n=i.sent(),[2,Q(e,n)];case 2:return E(r=i.sent())&&409===r.customData.serverCode?[4,J(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Q(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:te(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function te(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return Object(f.__generator)(this,(function(a){switch(a.label){case 0:return[4,ne(e)];case 1:t=a.sent(),a.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,L(100)];case 3:return a.sent(),[4,ne(e)];case 4:return t=a.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,ee(e)];case 6:return n=a.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function ne(e){return Z(e,(function(e){if(!e)throw A.create("installation-not-found");return re(e)}))}function re(e){return 1===(t=e).registrationStatus&&t.registrationTime+x<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function ie(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return Object(f.__awaiter)(this,void 0,void 0,(function(){var e,i,a,o,s,u,l;return Object(f.__generator)(this,(function(c){switch(c.label){case 0:return e=function(e,t){var n=t.fid;return C(e)+"/"+n+"/authTokens:generate"}(n,t),i=P(n,t),(a=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",a.getPlatformInfoString()),o={installation:{sdkVersion:T}},s={method:"POST",headers:i,body:JSON.stringify(o)},[4,N((function(){return fetch(e,s)}))];case 1:return(u=c.sent()).ok?[4,u.json()]:[3,3];case 2:return l=c.sent(),[2,M(l)];case 3:return[4,I("Generate Auth Token",u)];case 4:throw c.sent()}}))}))}function ae(e,t){return void 0===t&&(t=!1),Object(f.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(f.__generator)(this,(function(a){switch(a.label){case 0:return[4,Z(e.appConfig,(function(r){if(!se(r))throw A.create("not-registered");var i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+O}(e)}(i))return r;if(1===i.requestStatus)return n=function(e,t){return Object(f.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(f.__generator)(this,(function(i){switch(i.label){case 0:return[4,oe(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,L(100)];case 3:return i.sent(),[4,oe(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,ae(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw A.create("app-offline");var a=function(e){var t={requestStatus:1,requestTime:Date.now()};return Object(f.__assign)(Object(f.__assign)({},e),{authToken:t})}(r);return n=function(e,t){return Object(f.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(f.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,8]),[4,ie(e,t)];case 1:return n=a.sent(),i=Object(f.__assign)(Object(f.__assign)({},t),{authToken:n}),[4,Q(e.appConfig,i)];case 2:return a.sent(),[2,n];case 3:return!E(r=a.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,J(e.appConfig)];case 4:return a.sent(),[3,7];case 5:return i=Object(f.__assign)(Object(f.__assign)({},t),{authToken:{requestStatus:0}}),[4,Q(e.appConfig,i)];case 6:a.sent(),a.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,a),a}))];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return i=a.sent(),[3,4];case 3:i=r.authToken,a.label=4;case 4:return[2,i]}}))}))}function oe(e){return Z(e,(function(e){if(!se(e))throw A.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+x<Date.now()?Object(f.__assign)(Object(f.__assign)({},e),{authToken:{requestStatus:0}}):e}))}function se(e){return void 0!==e&&2===e.registrationStatus}function ue(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){var t;return Object(f.__generator)(this,(function(n){switch(n.label){case 0:return[4,ee(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function le(e,t){return Object(f.__awaiter)(this,void 0,void 0,(function(){var n,r,i,a;return Object(f.__generator)(this,(function(o){switch(o.label){case 0:return n=function(e,t){var n=t.fid;return C(e)+"/"+n}(e,t),r=P(e,t),i={method:"DELETE",headers:r},[4,N((function(){return fetch(n,i)}))];case 1:return(a=o.sent()).ok?[3,3]:[4,I("Delete Installation",a)];case 2:throw o.sent();case 3:return[2]}}))}))}function ce(e,t){var n=e.appConfig;return function(e,t){H();var n=z(e),r=U.get(n);r||(r=new Set,U.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=z(e),r=U.get(n);r&&(r.delete(t),0===r.size&&U.delete(n),W())}(n,t)}}function fe(e){return A.create("missing-app-config-values",{valueName:e})}(Y=a.default).INTERNAL.registerComponent(new s.Component("installations",(function(e){var t=e.getProvider("app").getImmediate(),n={appConfig:function(e){var t,n;if(!e||!e.options)throw fe("App Configuration");if(!e.name)throw fe("App Name");try{for(var r=Object(f.__values)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var a=i.value;if(!e.options[a])throw fe(a)}}catch(o){t={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:e.getProvider("platform-logger")};return{app:t,getId:function(){return function(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(f.__generator)(this,(function(i){switch(i.label){case 0:return[4,ee(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):ae(e).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),Object(f.__awaiter)(this,void 0,void 0,(function(){return Object(f.__generator)(this,(function(n){switch(n.label){case 0:return[4,ue(e.appConfig)];case 1:return n.sent(),[4,ae(e,t)];case 2:return[2,n.sent().token]}}))}))}(n,e)},delete:function(){return function(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){var t,n;return Object(f.__generator)(this,(function(r){switch(r.label){case 0:return[4,Z(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw A.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw A.create("app-offline");case 3:return[4,le(t,n)];case 4:return r.sent(),[4,J(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(e){return ce(n,e)}}}),"PUBLIC")),Y.registerVersion("@firebase/installations",w);var he,de=((G={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',G["only-available-in-window"]="This method is available in a Window context.",G["only-available-in-sw"]="This method is available in a service worker context.",G["permission-default"]="The notification permission was not granted and dismissed instead.",G["permission-blocked"]="The notification permission was not granted and blocked instead.",G["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",G["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",G["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",G["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",G["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",G["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",G["token-update-no-token"]="FCM returned no token when updating the user to push.",G["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",G["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",G["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",G["invalid-vapid-key"]="The public VAPID key must be a string.",G["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",G),pe=new u.ErrorFactory("messaging","Messaging",de),ve="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ge="google.c.a.c_id";function ye(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,Object(f.__spreadArray)([],Object(f.__read)(t)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function me(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(he||(he={}));var be="fcm_token_details_db",_e="fcm_token_object_Store";function we(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){var t,n,r=this;return Object(f.__generator)(this,(function(i){switch(i.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=i.sent(),!t.map((function(e){return e.name})).includes(be))return[2,null];i.label=2;case 2:return n=null,[4,Object(_.openDb)(be,5,(function(t){return Object(f.__awaiter)(r,void 0,void 0,(function(){var r,i,a,o;return Object(f.__generator)(this,(function(s){switch(s.label){case 0:return t.oldVersion<2?[2]:t.objectStoreNames.contains(_e)?[4,(r=t.transaction.objectStore(_e)).index("fcmSenderId").get(e)]:[2];case 1:return i=s.sent(),[4,r.clear()];case 2:if(s.sent(),!i)return[2];if(2===t.oldVersion){if(!(a=i).auth||!a.p256dh||!a.endpoint)return[2];n={token:a.fcmToken,createTime:null!==(o=a.createTime)&&void 0!==o?o:Date.now(),subscriptionOptions:{auth:a.auth,p256dh:a.p256dh,endpoint:a.endpoint,swScope:a.swScope,vapidKey:"string"===typeof a.vapidKey?a.vapidKey:ye(a.vapidKey)}}}else(3===t.oldVersion||4===t.oldVersion)&&(n={token:(a=i).fcmToken,createTime:a.createTime,subscriptionOptions:{auth:ye(a.auth),p256dh:ye(a.p256dh),endpoint:a.endpoint,swScope:a.swScope,vapidKey:ye(a.vapidKey)}});return[2]}}))}))}))];case 3:return i.sent().close(),[4,Object(_.deleteDb)(be)];case 4:return i.sent(),[4,Object(_.deleteDb)("fcm_vapid_details_db")];case 5:return i.sent(),[4,Object(_.deleteDb)("undefined")];case 6:return i.sent(),[2,xe(n)?n:null]}}))}))}function xe(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var Te="firebase-messaging-store",ke=null;function Oe(){return ke||(ke=Object(_.openDb)("firebase-messaging-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(Te)}}))),ke}function Se(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(f.__generator)(this,(function(i){switch(i.label){case 0:return t=Ce(e),[4,Oe()];case 1:return[4,i.sent().transaction(Te).objectStore(Te).get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,we(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,Ae(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function Ae(e,t){return Object(f.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(f.__generator)(this,(function(a){switch(a.label){case 0:return n=Ce(e),[4,Oe()];case 1:return r=a.sent(),[4,(i=r.transaction(Te,"readwrite")).objectStore(Te).put(t,n)];case 2:return a.sent(),[4,i.complete];case 3:return a.sent(),[2,t]}}))}))}function Ee(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(f.__generator)(this,(function(i){switch(i.label){case 0:return t=Ce(e),[4,Oe()];case 1:return n=i.sent(),[4,(r=n.transaction(Te,"readwrite")).objectStore(Te).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Ce(e){return e.appConfig.appId}function Me(e,t){return Object(f.__awaiter)(this,void 0,void 0,(function(){var n,r,i,a,o,s;return Object(f.__generator)(this,(function(u){switch(u.label){case 0:return[4,Ne(e)];case 1:n=u.sent(),r=je(t),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(Pe(e.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return a=u.sent(),[3,6];case 5:throw o=u.sent(),pe.create("token-subscribe-failed",{errorInfo:o});case 6:if(a.error)throw s=a.error.message,pe.create("token-subscribe-failed",{errorInfo:s});if(!a.token)throw pe.create("token-subscribe-no-token");return[2,a.token]}}))}))}function Ie(e,t){return Object(f.__awaiter)(this,void 0,void 0,(function(){var n,r,i,a,o,s;return Object(f.__generator)(this,(function(u){switch(u.label){case 0:return[4,Ne(e)];case 1:n=u.sent(),r=je(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(Pe(e.appConfig)+"/"+t.token,i)];case 3:return[4,u.sent().json()];case 4:return a=u.sent(),[3,6];case 5:throw o=u.sent(),pe.create("token-update-failed",{errorInfo:o});case 6:if(a.error)throw s=a.error.message,pe.create("token-update-failed",{errorInfo:s});if(!a.token)throw pe.create("token-update-no-token");return[2,a.token]}}))}))}function De(e,t){return Object(f.__awaiter)(this,void 0,void 0,(function(){var n,r,i,a,o;return Object(f.__generator)(this,(function(s){switch(s.label){case 0:return[4,Ne(e)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(Pe(e.appConfig)+"/"+t,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw a=i.error.message,pe.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw o=s.sent(),pe.create("token-unsubscribe-failed",{errorInfo:o});case 6:return[2]}}))}))}function Pe(e){return"https://fcmregistrations.googleapis.com/v1/projects/"+e.projectId+"/registrations"}function Ne(e){var t=e.appConfig,n=e.installations;return Object(f.__awaiter)(this,void 0,void 0,(function(){var e;return Object(f.__generator)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function je(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,a={web:{endpoint:r,auth:n,p256dh:t}};return i!==ve&&(a.web.applicationPubKey=i),a}function Le(e,t,n){return Object(f.__awaiter)(this,void 0,void 0,(function(){var r,i,a,o;return Object(f.__generator)(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw pe.create("permission-blocked");return[4,Ue(t,n)];case 1:return r=s.sent(),[4,Se(e)];case 2:return i=s.sent(),a={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:ye(r.getKey("auth")),p256dh:ye(r.getKey("p256dh"))},i?[3,3]:[2,ze(e,a)];case 3:if(function(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,a=t.p256dh===e.p256dh;return n&&r&&i&&a}(i.subscriptionOptions,a))return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,De(e,i.token)];case 5:return s.sent(),[3,7];case 6:return o=s.sent(),console.warn(o),[3,7];case 7:return[2,ze(e,a)];case 8:return Date.now()>=i.createTime+6048e5?[2,Fe({token:i.token,createTime:Date.now(),subscriptionOptions:a},e,t)]:[2,i.token];case 9:return[2]}}))}))}function Re(e,t){return Object(f.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(f.__generator)(this,(function(i){switch(i.label){case 0:return[4,Se(e)];case 1:return(n=i.sent())?[4,De(e,n.token)]:[3,4];case 2:return i.sent(),[4,Ee(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function Fe(e,t,n){return Object(f.__awaiter)(this,void 0,void 0,(function(){var r,i,a;return Object(f.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,5]),[4,Ie(t,e)];case 1:return r=o.sent(),i=Object(f.__assign)(Object(f.__assign)({},e),{token:r,createTime:Date.now()}),[4,Ae(t,i)];case 2:return o.sent(),[2,r];case 3:return a=o.sent(),[4,Re(t,n)];case 4:throw o.sent(),a;case 5:return[2]}}))}))}function ze(e,t){return Object(f.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(f.__generator)(this,(function(i){switch(i.label){case 0:return[4,Me(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,Ae(e,r)];case 2:return i.sent(),[2,r.token]}}))}))}function Ue(e,t){return Object(f.__awaiter)(this,void 0,void 0,(function(){var n;return Object(f.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:me(t)})]}}))}))}function qe(e){return"object"===typeof e&&!!e&&ge in e}function Be(e){return new Promise((function(t){setTimeout(t,e)}))}var Ve=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!==typeof e)throw pe.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return Object(f.__awaiter)(this,void 0,void 0,(function(){var n;return Object(f.__generator)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,Se(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:ve,r.label=2;case 2:return[2,Le(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return Re(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw pe.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw pe.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw pe.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw pe.create("only-available-in-window")},e.prototype.onMessage=function(){throw pe.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw pe.create("only-available-in-window")},e.prototype.onPush=function(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return Object(f.__generator)(this,(function(a){switch(a.label){case 0:return(t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}(e))?[4,Ge()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(n=a.sent())?[2,Ye(n,t)]:(r=!1,t.notification?[4,Ke(He(t))]:[3,3]);case 2:a.sent(),r=!0,a.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(e){var t={from:e.from,collapseKey:e.collapse_key};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}(t),"function"===typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,Be(1e3)]);case 4:return a.sent(),[2]}}))}))},e.prototype.onSubChange=function(e){var t,n;return Object(f.__awaiter)(this,void 0,void 0,(function(){var r;return Object(f.__generator)(this,(function(i){switch(i.label){case 0:return e.newSubscription?[3,2]:[4,Re(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,Se(this.firebaseDependencies)];case 3:return r=i.sent(),[4,Re(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,Le(this.firebaseDependencies,self.registration,null!==(n=null===(t=null===r||void 0===r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:ve)];case 5:return i.sent(),[2]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return Object(f.__awaiter)(this,void 0,void 0,(function(){var r,i,a,o,s;return Object(f.__generator)(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n.FCM_MSG)?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),(i=function(e){var t,n,r,i=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;if(i)return i;return qe(e.data)?self.location.origin:null}(r))?(a=new URL(i,self.location.href),o=new URL(self.location.origin),a.host!==o.host?[2]:[4,We(a)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,Be(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=he.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}}))}))},e}();function He(e){var t,n=Object(f.__assign)({},e.notification);return n.data=((t={}).FCM_MSG=e,t),n}function We(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,a,o,s;return Object(f.__generator)(this,(function(u){switch(u.label){case 0:return[4,Ge()];case 1:t=u.sent();try{for(n=Object(f.__values)(t),r=n.next();!r.done;r=n.next())if(i=r.value,a=new URL(i.url,self.location.href),e.host===a.host)return[2,i]}catch(l){o={error:l}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(o)throw o.error}}return[2,null]}}))}))}function Ye(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=he.PUSH_RECEIVED;try{for(var i=Object(f.__values)(e),a=i.next();!a.done;a=i.next()){a.value.postMessage(t)}}catch(o){n={error:o}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function Ge(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Ke(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}var Xe=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){var t,n;return Object(f.__generator)(this,(function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===he.PUSH_RECEIVED&&("function"===typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),qe(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){return Object(f.__generator)(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw pe.create("permission-blocked");return[4,this.updateVapidKey(null===e||void 0===e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null===e||void 0===e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,Le(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},e.prototype.updateVapidKey=function(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){return Object(f.__generator)(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=ve),[2]}))}))},e.prototype.updateSwReg=function(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){return Object(f.__generator)(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw pe.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},e.prototype.registerDefaultSw=function(){return Object(f.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(f.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=n.sent(),pe.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},e.prototype.deleteToken=function(){return Object(f.__awaiter)(this,void 0,void 0,(function(){return Object(f.__generator)(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,Re(this.firebaseDependencies,this.swRegistration)]}}))}))},e.prototype.requestPermission=function(){return Object(f.__awaiter)(this,void 0,void 0,(function(){var e;return Object(f.__generator)(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?pe.create("permission-blocked"):pe.create("permission-default")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw pe.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw pe.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw pe.create("invalid-sw-registration");if(this.swRegistration)throw pe.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw pe.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw pe.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return Object(f.__awaiter)(this,void 0,void 0,(function(){var n;return Object(f.__generator)(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case he.NOTIFICATION_CLICKED:return"notification_open";case he.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t["google.c.a.c_id"],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}();function $e(e){return pe.create("missing-app-config-values",{valueName:e})}var Qe={isSupported:Je};function Je(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}a.default.INTERNAL.registerComponent(new s.Component("messaging",(function(e){var t=e.getProvider("app").getImmediate(),n={app:t,appConfig:function(e){var t,n;if(!e||!e.options)throw $e("App Configuration Object");if(!e.name)throw $e("App Name");var r=e.options;try{for(var i=Object(f.__values)(["projectId","apiKey","appId","messagingSenderId"]),a=i.next();!a.done;a=i.next()){var o=a.value;if(!r[o])throw $e(o)}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!Je())throw pe.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new Ve(n):new Xe(n)}),"PUBLIC").setServiceProps(Qe));var Ze="firebasestorage.googleapis.com",et=function(e){function t(n,r){var i=e.call(this,tt(n),"Firebase Storage: "+r+" ("+tt(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return Object(f.__extends)(t,e),t.prototype._codeEquals=function(e){return tt(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(u.FirebaseError);function tt(e){return"storage/"+e}function nt(){return new et("unknown","An unknown error occurred, please check the error payload for server response.")}function rt(){return new et("canceled","User canceled the upload/download.")}function it(){return new et("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function at(e){return new et("invalid-argument",e)}function ot(){return new et("app-deleted","The Firebase app was deleted.")}function st(e){return new et("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ut(e,t){return new et("invalid-format","String does not match format '"+e+"': "+t)}function lt(e){throw new et("internal-error","Internal error: "+e)}var ct={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},ft=function(e,t){this.data=e,this.contentType=t||null};function ht(e,t){switch(e){case ct.RAW:return new ft(dt(t));case ct.BASE64:case ct.BASE64URL:return new ft(pt(e,t));case ct.DATA_URL:return new ft(function(e){var t=new vt(e);return t.base64?pt(ct.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(r){throw ut(ct.DATA_URL,"Malformed data URL.")}return dt(t)}(t.rest)}(t),new vt(t).contentType)}throw nt()}function dt(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function pt(e,t){switch(e){case ct.BASE64:var n=-1!==t.indexOf("-"),i=-1!==t.indexOf("_");if(n||i)throw ut(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case ct.BASE64URL:var a=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(a||o)throw ut(e,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(t)}catch(r){throw ut(e,"Invalid character found")}for(var u=new Uint8Array(s.length),l=0;l<s.length;l++)u[l]=s.charCodeAt(l);return u}var vt=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw ut(ct.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1);var r,i};var gt,yt={STATE_CHANGED:"state_changed"},mt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function bt(e){switch(e){case"running":case"pausing":case"canceling":return mt.RUNNING;case"paused":return mt.PAUSED;case"success":return mt.SUCCESS;case"canceled":return mt.CANCELED;case"error":default:return mt.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(gt||(gt={}));var _t=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=gt.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=gt.ABORT,t()})),e.xhr_.addEventListener("error",(function(){e.errorCode_=gt.NETWORK_ERROR,t()})),e.xhr_.addEventListener("load",(function(){t()}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw lt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw lt("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw lt("cannot .getStatus() before sending");try{return this.xhr_.status}catch(r){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw lt("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}();var wt=function(){function e(){}return e.prototype.createConnection=function(){return new _t},e}(),xt=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var i;try{i=e.makeFromUrl(t,n)}catch(r){return new e(t,"")}if(""===i.path)return i;throw new et("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+(n===Ze?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],l=0;l<u.length;l++){var c=u[l],f=c.regex.exec(t);if(f){var h=f[c.indices.bucket],d=f[c.indices.path];d||(d=""),r=new e(h,d),c.postModify(r);break}}if(null==r)throw function(e){return new et("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),Tt=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function kt(e){return"string"===typeof e||e instanceof String}function Ot(e){return St()&&e instanceof Blob}function St(){return"undefined"!==typeof Blob}function At(e,t,n,r){if(r<t)throw at("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw at("Invalid value for '"+e+"'. Expected "+n+" or less.")}function Et(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null===n||void 0===n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function Ct(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}var Mt=function(){function e(e,t,n,r,i,a,o,s,u,l,c){var f=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=o,this.errorCallback_=s,this.progressCallback_=l,this.timeout_=u,this.pool_=c,this.promise_=new Promise((function(e,t){f.resolve_=e,f.reject_=t,f.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var i,a=e.resolve_,o=e.reject_,s=n.connection;if(n.wasSuccessCode)try{var u=e.callback_(s,s.getResponseText());void 0!==u?a(u):a()}catch(r){o(r)}else null!==s?((i=nt()).serverResponse=s.getResponseText(),e.errorCallback_?o(e.errorCallback_(s,i)):o(i)):n.canceled?o(i=e.appDelete_?ot():rt()):o(i=new et("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new It(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=!1,o=0;function s(){return 2===o}var u=!1;function l(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];u||(u=!0,t.apply(null,e))}function c(t){i=setTimeout((function(){i=null,e(h,s())}),t)}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!u)if(e)l.call.apply(l,Object(f.__spreadArray)([null,e],t));else{var i;s()||a?l.call.apply(l,Object(f.__spreadArray)([null,e],t)):(r<64&&(r*=2),1===o?(o=2,i=0):i=1e3*(r+Math.random()),c(i))}}var d=!1;function p(e){d||(d=!0,u||(null!==i?(e||(o=2),clearTimeout(i),c(0)):e||(o=1)))}return c(0),setTimeout((function(){a=!0,p(!0)}),n),p}((function(t,n){if(n)t(!1,new It(!1,null,!0));else{var r=e.pool_.createConnection();e.pendingConnection_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===gt.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new It(o,r))}else{var s=r.getErrorCode()===gt.ABORT;t(!1,new It(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),It=function(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n};function Dt(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Pt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Dt();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(St())return new Blob(e);throw new et("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Nt=function(){function e(e,t){var n=0,r="";Ot(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(Ot(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(St()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(Pt.apply(null,r))}var i=t.map((function(e){return kt(e)?ht(ct.RAW,e).data:e.data_})),a=0;i.forEach((function(e){a+=e.byteLength}));var o=new Uint8Array(a),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)o[s++]=e[t]})),new e(o,!0)},e.prototype.uploadData=function(){return this.data_},e}();function jt(e){var t,n;try{t=JSON.parse(e)}catch(r){return null}return"object"!==typeof(n=t)||Array.isArray(n)?null:t}function Lt(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Rt(e,t){return t}var Ft=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Rt},zt=null;function Ut(){if(zt)return zt;var e=[];e.push(new Ft("bucket")),e.push(new Ft("generation")),e.push(new Ft("metageneration")),e.push(new Ft("name","fullPath",!0));var t=new Ft("name");t.xform=function(e,t){return function(e){return!kt(e)||e.length<2?e:Lt(e)}(t)},e.push(t);var n=new Ft("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Ft("timeCreated")),e.push(new Ft("updated")),e.push(new Ft("md5Hash",null,!0)),e.push(new Ft("cacheControl",null,!0)),e.push(new Ft("contentDisposition",null,!0)),e.push(new Ft("contentEncoding",null,!0)),e.push(new Ft("contentLanguage",null,!0)),e.push(new Ft("contentType",null,!0)),e.push(new Ft("metadata","customMetadata",!0)),zt=e}function qt(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new xt(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Bt(e,t,n){var r=jt(t);return null===r?null:qt(e,r,n)}function Vt(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function Ht(e,t,n){var r=jt(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,a=n.prefixes;i<a.length;i++){var o=a[i].replace(/\/$/,""),s=e._makeStorageReference(new xt(t,o));r.prefixes.push(s)}if(n.items)for(var u=0,l=n.items;u<l.length;u++){var c=l[u];s=e._makeStorageReference(new xt(t,c.name)),r.items.push(s)}return r}(e,t,r)}var Wt=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Yt(e){if(!e)throw nt()}function Gt(e,t){return function(n,r){var i=Bt(e,r,t);return Yt(null!==i),i}}function Kt(e,t){return function(n,r){var i=Bt(e,r,t);return Yt(null!==i),function(e,t,n){var r=jt(t);if(null===r)return null;if(!kt(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var a=encodeURIComponent;return i.split(",").map((function(t){var r=e.bucket,i=e.fullPath;return Et("/b/"+a(r)+"/o/"+a(i),n)+Ct({alt:"media",token:t})}))[0]}(i,r,e.host)}}function Xt(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new et("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new et("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new et("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new et("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function $t(e){var t=Xt(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new et("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function Qt(e,t,n){var r=Et(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,a=new Wt(r,"GET",Gt(e,n),i);return a.errorHandler=$t(t),a}function Jt(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=Et(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,u=new Wt(o,"GET",function(e,t){return function(n,r){var i=Ht(e,t,r);return Yt(null!==i),i}}(e,t.bucket),s);return u.urlParams=a,u.errorHandler=Xt(t),u}function Zt(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var en=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function tn(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){Yt(!1)}return Yt(!!n&&-1!==(t||["active"]).indexOf(n)),n}var nn=262144;function rn(e,t,n,r,i,a,o,s){var u=new en(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new et("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var l=u.total-u.current,c=l;i>0&&(c=Math.min(c,i));var f=u.current,h=f+c,d={"X-Goog-Upload-Command":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},p=r.slice(f,h);if(null===p)throw it();var v=t.maxUploadRetryTime,g=new Wt(n,"POST",(function(e,n){var i,o=tn(e,["active","final"]),s=u.current+c,l=r.size();return i="final"===o?Gt(t,a)(e,n):null,new en(s,l,"final"===o,i)}),v);return g.headers=d,g.body=p.uploadData(),g.progressCallback=s||null,g.errorHandler=Xt(e),g}var an=function(e,t,n){if("function"===typeof e||null!=t||null!=n)this.next=e,this.error=t,this.complete=n;else{var r=e;this.next=r.next,this.error=r.error,this.complete=r.complete}};function on(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var sn=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Ut(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var i=function(e,t,n,i,a){var o=t.bucketOnlyServerUrl(),s=Zt(t,i,a),u={name:s.fullPath},l=Et(o,e.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+i.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},f=Vt(s,n),h=e.maxUploadRetryTime,d=new Wt(l,"POST",(function(e){var t;tn(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(r){Yt(!1)}return Yt(kt(t)),t}),h);return d.urlParams=u,d.headers=c,d.body=f,d.errorHandler=Xt(t),d}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),a=e._ref.storage._makeRequest(i,t,n);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,i){var a=function(e,t,n,i){var a=e.maxUploadRetryTime,o=new Wt(n,"POST",(function(e){var t=tn(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(r){Yt(!1)}n||Yt(!1);var a=Number(n);return Yt(!isNaN(a)),new en(a,i.size(),"final"===t)}),a);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Xt(t),o}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(a,n,i);e._request=o,o.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=nn*this._chunkMultiplier,n=new en(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((function(a,o){var s;try{s=rn(e._ref._location,e._ref.storage,i,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(r){return e._error=r,void e._transition("error")}var u=e._ref.storage._makeRequest(s,a,o);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){nn*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=Qt(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=Zt(t,r,i),l="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Vt(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",c="\r\n--"+s+"--",f=Nt.getBlob(l,r,c);if(null===f)throw it();var h={name:u.fullPath},d=Et(a,e.host),p=e.maxUploadRetryTime,v=new Wt(d,"POST",Gt(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=Xt(t),v}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=rt(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=bt(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,a=new an(t,n,r);return this._addObserver(a),function(){i._removeObserver(a)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(bt(this._state)){case mt.SUCCESS:on(this._resolve.bind(null,this.snapshot))();break;case mt.CANCELED:case mt.ERROR:on(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(bt(this._state)){case mt.RUNNING:case mt.PAUSED:e.next&&on(e.next.bind(e,this.snapshot))();break;case mt.SUCCESS:e.complete&&on(e.complete.bind(e))();break;case mt.CANCELED:case mt.ERROR:e.error&&on(e.error.bind(e,this._error))();break;default:e.error&&on(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),un=function(){function e(e,t){this._service=e,this._location=t instanceof xt?t:xt.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new xt(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return Lt(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new xt(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw st(e)},e}();function ln(e){var t={prefixes:[],items:[]};return cn(e,t).then((function(){return t}))}function cn(e,t,n){return Object(f.__awaiter)(this,void 0,void 0,(function(){var r,i,a;return Object(f.__generator)(this,(function(o){switch(o.label){case 0:return[4,fn(e,{pageToken:n})];case 1:return r=o.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(a=t.items).push.apply(a,r.items),null==r.nextPageToken?[3,3]:[4,cn(e,t,r.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))}function fn(e,t){return Object(f.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(f.__generator)(this,(function(i){switch(i.label){case 0:return null!=t&&"number"===typeof t.maxResults&&At("options.maxResults",1,1e3,t.maxResults),n=t||{},r=Jt(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function hn(e,t){return Object(f.__awaiter)(this,void 0,void 0,(function(){var n;return Object(f.__generator)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=Et(t.fullServerUrl(),e.host),a=Vt(n,r),o=e.maxOperationRetryTime,s=new Wt(i,"PATCH",Gt(e,r),o);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=a,s.errorHandler=$t(t),s}(e.storage,e._location,t,Ut()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function dn(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){var t;return Object(f.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=Et(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,a=new Wt(r,"GET",Kt(e,n),i);return a.errorHandler=$t(t),a}(e.storage,e._location,Ut()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then((function(e){if(null===e)throw new et("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function pn(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){var t;return Object(f.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=Et(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,i=new Wt(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=$t(t),i}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}function vn(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new xt(e._location.bucket,n);return new un(e.storage,r)}function gn(e){return/^[A-Za-z]+:\/\//.test(e)}function yn(e,t){if(e instanceof _n){var n=e;if(null==n._bucket)throw new et("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new un(n,n._bucket);return null!=t?yn(r,t):r}if(void 0!==t){if(t.includes(".."))throw at('`path` param cannot contain ".."');return vn(e,t)}return e}function mn(e,t){if(t&&gn(t)){if(e instanceof _n)return new un(e,t);throw at("To use ref(service, url), the first argument must be a Storage instance.")}return yn(e,t)}function bn(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:xt.makeFromBucketSpec(n,e)}var _n=function(){function e(e,t,n,r,i,a){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=Ze,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?xt.makeFromBucketSpec(i,this._host):bn(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=xt.makeFromBucketSpec(this._url,e):this._bucket=bn(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){At("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){At("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return Object(f.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(f.__generator)(this,(function(n){switch(n.label){case 0:return(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._getAppCheckToken=function(){return Object(f.__awaiter)(this,void 0,void 0,(function(){var e;return Object(f.__generator)(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear(),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new un(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new Tt(ot());var i=function(e,t,n,r,i,a){var o=Ct(e.urlParams),s=e.url+o,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new Mt(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},e.prototype.makeRequestWithTokens=function(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(f.__generator)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=i.sent(),n=t[0],r=t[1],[2,this._makeRequest(e,n,r)]}}))}))},e}();function wn(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new sn(e,new Nt(t),n)}(e=Object(u.getModularInstance)(e),t,n)}function xn(e){return function(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){var t;return Object(f.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=Qt(e.storage,e._location,Ut()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=Object(u.getModularInstance)(e))}function Tn(e,t){return mn(e=Object(u.getModularInstance)(e),t)}var kn=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),On=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new kn(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new kn(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new kn(e,i,i._ref))}:{next:t.next?function(e){return t.next(new kn(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)},e}(),Sn=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new An(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new An(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),An=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){return new e(function(e,t){return vn(e,t)}(this._delegate,t),this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new On(wn(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=ct.RAW),this._throwIfRoot("putString");var r=ht(t,e),i=Object(f.__assign)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new On(new sn(this._delegate,new Nt(r.data,!0),i),this)},e.prototype.listAll=function(){var e,t=this;return(e=this._delegate,ln(e=Object(u.getModularInstance)(e))).then((function(e){return new Sn(e,t.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return fn(e=Object(u.getModularInstance)(e),t)}(this._delegate,e||void 0).then((function(e){return new Sn(e,t.storage)}))},e.prototype.getMetadata=function(){return xn(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return hn(e=Object(u.getModularInstance)(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return e=this._delegate,dn(e=Object(u.getModularInstance)(e));var e},e.prototype.delete=function(){return this._throwIfRoot("delete"),e=this._delegate,pn(e=Object(u.getModularInstance)(e));var e},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw st(e)},e}(),En=function(){function e(e,t){var n=this;this.app=e,this._delegate=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(gn(e))throw at("ref() expected a child path but got a URL, use refFromURL instead.");return new An(Tn(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!gn(e))throw at("refFromURL() expected a full URL but got a child path, use ref() instead.");try{xt.makeFromUrl(e,this._delegate.host)}catch(r){throw at("refFromUrl() expected a valid full URL but got an invalid one.")}return new An(Tn(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t){!function(e,t,n){e.host="http://"+t+":"+n}(this._delegate,e,t)},e}();function Cn(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new En(r,new _n(r,i,o,new wt,n,a.default.SDK_VERSION))}!function(e){var t={TaskState:mt,TaskEvent:yt,StringFormat:ct,Storage:_n,Reference:An};e.INTERNAL.registerComponent(new s.Component("storage",Cn,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.5.6")}(a.default);var Mn,In,Dn,Pn="0.4.16",Nn=Pn,jn="FB-PERF-TRACE-MEASURE",Ln="_wt_",Rn="_fcp",Fn="_fid",zn="@firebase/performance/config",Un="@firebase/performance/configexpire",qn="Performance",Bn=((Mn={})["trace started"]="Trace {$traceName} was started before.",Mn["trace stopped"]="Trace {$traceName} is not running.",Mn["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Mn["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Mn["no window"]="Window is not available.",Mn["no app id"]="App id is not available.",Mn["no project id"]="Project id is not available.",Mn["no api key"]="Api key is not available.",Mn["invalid cc log"]="Attempted to queue invalid cc event",Mn["FB not default"]="Performance can only start when Firebase app instance is the default one.",Mn["RC response not ok"]="RC response is not ok",Mn["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Mn["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Mn["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Mn["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Mn),Vn=new u.ErrorFactory("performance",qn,Bn),Hn=new l.Logger(qn);Hn.logLevel=l.LogLevel.INFO;var Wn,Yn=function(){function e(e){if(this.window=e,!e)throw Vn.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Object(u.isIndexedDBAvailable)()||(Hn.info("IndexedDB is not supported by current browswer"),!1):(Hn.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){this.PerformanceObserver&&new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var i=r[n];t(i)}})).observe({entryTypes:[e]})},e.getInstance=function(){return void 0===In&&(In=new e(Dn)),In},e}();function Gn(e,t){var n=e.length-t.length;if(n<0||n>1)throw Vn.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var Kn,Xn,$n=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=Gn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=Gn("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw Vn.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw Vn.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw Vn.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===Wn&&(Wn=new e),Wn},e}();function Qn(){return Kn}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"}(Xn||(Xn={}));var Jn=["firebase_","google_","ga_"],Zn=new RegExp("^[a-zA-Z]\\w*$");function er(){var e=Yn.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function tr(){switch(Yn.getInstance().document.visibilityState){case"visible":return Xn.VISIBLE;case"hidden":return Xn.HIDDEN;default:return Xn.UNKNOWN}}function nr(){var e=Yn.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var rr="0.0.1",ir=!0,ar="FIREBASE_INSTALLATIONS_AUTH";function or(e){var t=function(){var e=Yn.getInstance().localStorage;if(!e)return;var t=e.getItem(Un);if(!t||(n=t,!(Number(n)>Date.now())))return;var n;var r=e.getItem(zn);if(!r)return;try{return JSON.parse(r)}catch(i){return}}();return t?(ur(t),Promise.resolve()):function(e){return function(){var e=$n.getInstance().installationsService.getToken();return e.then((function(e){})),e}().then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+$n.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+$n.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:ar+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:$n.getInstance().getAppId(),app_version:Nn,sdk_version:rr})});return fetch(r).then((function(e){if(e.ok)return e.json();throw Vn.create("RC response not ok")}))})).catch((function(){Hn.info(sr)}))}(e).then(ur).then((function(e){return function(e){var t=Yn.getInstance().localStorage;if(!e||!t)return;t.setItem(zn,JSON.stringify(e)),t.setItem(Un,String(Date.now()+60*$n.getInstance().configTimeToLive*60*1e3))}(e)}),(function(){}))}var sr="Could not fetch config, will use default configs";function ur(e){if(!e)return e;var t=$n.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=ir,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=lr(t.tracesSamplingRate),t.logNetworkAfterSampling=lr(t.networkRequestsSamplingRate),e}function lr(e){return Math.random()<=e}var cr,fr=1;function hr(){return fr=2,cr=cr||function(){var e=Yn.getInstance().document;return new Promise((function(t){if(e&&"complete"!==e.readyState){var n=function n(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))}().then((function(){return function(){var e=$n.getInstance().installationsService.getId();return e.then((function(e){Kn=e})),e}()})).then((function(e){return or(e)})).then((function(){return dr()}),(function(){return dr()}))}function dr(){fr=3}var pr,vr=1e4,gr=3,yr=[],mr=!1;function br(e){setTimeout((function(){if(0!==gr)return yr.length?void function(){var e=yr.splice(0,1e3),t=e.map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}}));(function(e,t){return function(e){var t=$n.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||Hn.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=vr;isNaN(n)||(r=Math.max(n,r));var i=e.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(yr=Object(f.__spreadArray)(Object(f.__spreadArray)([],t),yr),Hn.info("Retry transport request later.")),gr=3,br(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:$n.getInstance().logSource,log_event:t},e).catch((function(){yr=Object(f.__spreadArray)(Object(f.__spreadArray)([],e),yr),gr--,Hn.info("Tries left: "+gr+"."),br(vr)}))}():br(vr)}),e)}function _r(e){if(!e.eventTime||!e.message)throw Vn.create("invalid cc log");yr=Object(f.__spreadArray)(Object(f.__spreadArray)([],yr),[e])}function wr(e,t){pr||(pr=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];_r({message:e.apply(void 0,t),eventTime:Date.now()})}}(kr)),pr(e,t)}function xr(e){var t=$n.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&Yn.getInstance().requiredApisAvailable()&&(e.isAuto&&tr()!==Xn.VISIBLE||(3===fr?Tr(e):hr().then((function(){return Tr(e)}),(function(){return Tr(e)}))))}function Tr(e){if(Qn()){var t=$n.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return wr(e,1)}),0)}}function kr(e,t){return 0===t?function(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:Or(),network_request_metric:t};return JSON.stringify(n)}(e):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:Or(),trace_metric:t};return JSON.stringify(r)}(e)}function Or(){return{google_app_id:$n.getInstance().getAppId(),app_instance_id:Qn(),web_app_info:{sdk_version:Nn,page_url:Yn.getInstance().getUrl(),service_worker_status:er(),visibility_state:tr(),effective_connection_type:nr()},application_process_state:0}}var Sr=["_fp",Rn,Fn];var Ar=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=Yn.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw Vn.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw Vn.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),xr(this)},e.prototype.record=function(e,t,n){if(e<=0)throw Vn.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw Vn.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=Object(f.__assign)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var a=i[r];isNaN(Number(n.metrics[a]))||(this.counters[a]=Number(Math.floor(n.metrics[a])))}xr(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},e.prototype.putMetric=function(e,t){if(n=e,r=this.name,0===n.length||n.length>100||!(r&&r.startsWith(Ln)&&Sr.indexOf(n)>-1)&&n.startsWith("_"))throw Vn.create("invalid custom metric name",{customMetricName:e});var n,r;this.counters[e]=function(e){var t=Math.floor(e);return t<e&&Hn.info("Metric value should be an Integer, setting the value as : "+t+"."),t}(t)},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n,r=!(0===(n=e).length||n.length>40)&&!Jn.some((function(e){return n.startsWith(e)}))&&!!n.match(Zn),i=function(e){return 0!==e.length&&e.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw Vn.create("invalid attribute name",{attributeName:e});if(!i)throw Vn.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return Object(f.__assign)({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=Yn.getInstance().getUrl();if(i){var a=new e(Ln+i,!0),o=Math.floor(1e3*Yn.getInstance().getTimeOrigin());a.setStartTime(o),t&&t[0]&&(a.setDuration(Math.floor(1e3*t[0].duration)),a.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),a.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),a.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd)));if(n){var s=n.find((function(e){return"first-paint"===e.name}));s&&s.startTime&&a.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(e){return"first-contentful-paint"===e.name}));u&&u.startTime&&a.putMetric(Rn,Math.floor(1e3*u.startTime)),r&&a.putMetric(Fn,Math.floor(1e3*r))}xr(a)}},e.createUserTimingTrace=function(t){xr(new e(t,!1,t))},e}();function Er(e){var t=e;if(t&&void 0!==t.responseStart){var n=Yn.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),i=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,a=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=$n.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return wr(e,0)}),0)}}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:a})}}function Cr(){Qn()&&(setTimeout((function(){return function(){var e=Yn.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout((function(){Ar.createOobTrace(t,n),r=void 0}),5e3);e.onFirstInputDelay((function(e){r&&(clearTimeout(r),Ar.createOobTrace(t,n,e))}))}else Ar.createOobTrace(t,n)}()}),0),setTimeout((function(){return function(){for(var e=Yn.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){Er(r[n])}e.setupObserver("resource",Er)}()}),0),setTimeout((function(){return function(){for(var e=Yn.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){Mr(r[n])}e.setupObserver("measure",Mr)}()}),0))}function Mr(e){var t=e.name;t.substring(0,jn.length)!==jn&&Ar.createUserTimingTrace(t)}var Ir=function(){function e(e){this.app=e,Yn.getInstance().requiredApisAvailable()&&Object(u.validateIndexedDBOpenable)().then((function(e){e&&(mr||(br(5500),mr=!0),hr().then(Cr,Cr))})).catch((function(e){Hn.info("Environment doesn't support IndexedDB: "+e)}))}return e.prototype.trace=function(e){return new Ar(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return $n.getInstance().instrumentationEnabled},set:function(e){$n.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return $n.getInstance().dataCollectionEnabled},set:function(e){$n.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();!function(e){var t=function(e,t){if("[DEFAULT]"!==e.name)throw Vn.create("FB not default");if("undefined"===typeof window)throw Vn.create("no window");return function(e){Dn=e}(window),$n.getInstance().firebaseAppInstance=e,$n.getInstance().installationsService=t,new Ir(e)};e.INTERNAL.registerComponent(new s.Component("performance",(function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("installations").getImmediate();return t(n,r)}),"PUBLIC")),e.registerVersion("@firebase/performance",Pn)}(a.default);var Dr,Pr,Nr="https://www.googletagmanager.com/gtag/js";!function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"}(Dr||(Dr={})),function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(Pr||(Pr={}));var jr,Lr=new l.Logger("@firebase/analytics");function Rr(e,t,n,r,i,a){return Object(f.__awaiter)(this,void 0,void 0,(function(){var o,s,u,l;return Object(f.__generator)(this,(function(c){switch(c.label){case 0:o=r[i],c.label=1;case 1:return c.trys.push([1,7,,8]),o?[4,t[o]]:[3,3];case 2:return c.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=c.sent(),(u=s.find((function(e){return e.measurementId===i})))?[4,t[u.appId]]:[3,6];case 5:c.sent(),c.label=6;case 6:return[3,8];case 7:return l=c.sent(),Lr.error(l),[3,8];case 8:return e(Dr.CONFIG,i,a),[2]}}))}))}function Fr(e,t,n,r,i){return Object(f.__awaiter)(this,void 0,void 0,(function(){var a,o,s,u,l,c,h,d;return Object(f.__generator)(this,(function(f){switch(f.label){case 0:return f.trys.push([0,4,,5]),a=[],i&&i.send_to?(o=i.send_to,Array.isArray(o)||(o=[o]),[4,Promise.all(n)]):[3,2];case 1:for(s=f.sent(),u=function(e){var n=s.find((function(t){return t.measurementId===e})),r=n&&t[n.appId];if(!r)return a=[],"break";a.push(r)},l=0,c=o;l<c.length&&(h=c[l],"break"!==u(h));l++);f.label=2;case 2:return 0===a.length&&(a=Object.values(t)),[4,Promise.all(a)];case 3:return f.sent(),e(Dr.EVENT,r,i||{}),[3,5];case 4:return d=f.sent(),Lr.error(d),[3,5];case 5:return[2]}}))}))}function zr(e,t,n,r,i){var a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=function(e,t,n,r){return function(i,a,o){return Object(f.__awaiter)(this,void 0,void 0,(function(){var s;return Object(f.__generator)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==Dr.EVENT?[3,2]:[4,Fr(e,t,n,a,o)];case 1:return u.sent(),[3,5];case 2:return i!==Dr.CONFIG?[3,4]:[4,Rr(e,t,n,r,a,o)];case 3:return u.sent(),[3,5];case 4:e(Dr.SET,a),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),Lr.error(s),[3,7];case 7:return[2]}}))}))}}(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}var Ur=((jr={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",jr["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",jr["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",jr["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",jr["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",jr["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",jr["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",jr["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',jr["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',jr),qr=new u.ErrorFactory("analytics","Analytics",Ur),Br=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function Vr(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Hr(e){var t;return Object(f.__awaiter)(this,void 0,void 0,(function(){var n,r,i,a,o,s,u;return Object(f.__generator)(this,(function(l){switch(l.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:Vr(r)},a="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(a,i)];case 1:if(200===(o=l.sent()).status||304===o.status)return[3,6];s="",l.label=2;case 2:return l.trys.push([2,4,,5]),[4,o.json()];case 3:return u=l.sent(),(null===(t=u.error)||void 0===t?void 0:t.message)&&(s=u.error.message),[3,5];case 4:return l.sent(),[3,5];case 5:throw qr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:s});case 6:return[2,o.json()]}}))}))}function Wr(e,t,n,r){var i=t.throttleEndTimeMillis,a=t.backoffCount;return void 0===r&&(r=Br),Object(f.__awaiter)(this,void 0,void 0,(function(){var t,o,s,l,c,h,d;return Object(f.__generator)(this,(function(f){switch(f.label){case 0:t=e.appId,o=e.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Yr(n,i)];case 2:return f.sent(),[3,4];case 3:if(s=f.sent(),o)return Lr.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+o+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:t,measurementId:o}];throw s;case 4:return f.trys.push([4,6,,7]),[4,Hr(e)];case 5:return l=f.sent(),r.deleteThrottleMetadata(t),[2,l];case 6:if(!function(e){if(!(e instanceof u.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(c=f.sent())){if(r.deleteThrottleMetadata(t),o)return Lr.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+o+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:t,measurementId:o}];throw c}return h=503===Number(c.customData.httpStatus)?Object(u.calculateBackoffMillis)(a,r.intervalMillis,30):Object(u.calculateBackoffMillis)(a,r.intervalMillis),d={throttleEndTimeMillis:Date.now()+h,backoffCount:a+1},r.setThrottleMetadata(t,d),Lr.debug("Calling attemptFetch again in "+h+" millis"),[2,Wr(e,d,n,r)];case 7:return[2]}}))}))}function Yr(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r(qr.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var Gr=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}();function Kr(e,t,n,r,i,a){return Object(f.__awaiter)(this,void 0,void 0,(function(){var o,s,l,c,h,d,p;return Object(f.__generator)(this,(function(v){switch(v.label){case 0:return(o=function(e,t,n){return void 0===t&&(t=Br),Object(f.__awaiter)(this,void 0,void 0,(function(){var r,i,a,o,s,u,l=this;return Object(f.__generator)(this,(function(c){if(r=e.options,i=r.appId,a=r.apiKey,o=r.measurementId,!i)throw qr.create("no-app-id");if(!a){if(o)return[2,{measurementId:o,appId:i}];throw qr.create("no-api-key")}return s=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new Gr,setTimeout((function(){return Object(f.__awaiter)(l,void 0,void 0,(function(){return Object(f.__generator)(this,(function(e){return u.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,Wr({appId:i,apiKey:a,measurementId:o},s,u,t)]}))}))}(e)).then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Lr.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return Lr.error(e)})),t.push(o),s=function(){return Object(f.__awaiter)(this,void 0,void 0,(function(){var e;return Object(f.__generator)(this,(function(t){switch(t.label){case 0:return Object(u.isIndexedDBAvailable)()?[3,1]:(Lr.warn(qr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,Object(u.validateIndexedDBOpenable)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),Lr.warn(qr.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){return e?r.getId():void 0})),[4,Promise.all([o,s])];case 1:return l=v.sent(),c=l[0],h=l[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(Nr))return r}return null}()||function(e,t){var n=document.createElement("script");n.src=Nr+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}(a,c.measurementId),i("js",new Date),(p={}).origin="firebase",p.update=!0,d=p,null!=h&&(d.firebase_id=h),i(Dr.CONFIG,c.measurementId,d),[2,c.measurementId]}}))}))}var Xr,$r,Qr={},Jr=[],Zr={},ei="dataLayer",ti="gtag",ni=!1;function ri(e){if(ni)throw qr.create("already-initialized");e.dataLayerName&&(ei=e.dataLayerName),e.gtagName&&(ti=e.gtagName)}function ii(e,t){!function(){var e=[];if(Object(u.isBrowserExtension)()&&e.push("This is a browser extension environment."),Object(u.areCookiesEnabled)()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),n=qr.create("invalid-analytics-context",{errorInfo:t});Lr.warn(n.message)}}();var n=e.options.appId;if(!n)throw qr.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw qr.create("no-api-key");Lr.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Qr[n])throw qr.create("already-exists",{id:n});if(!ni){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(ei);var r=zr(Qr,Jr,Zr,ei,ti),i=r.wrappedGtag,a=r.gtagCore;$r=i,Xr=a,ni=!0}return Qr[n]=Kr(e,Jr,Zr,t,Xr,ei),{app:e,logEvent:function(e,t,r){(function(e,t,n,r,i){return Object(f.__awaiter)(this,void 0,void 0,(function(){var a,o;return Object(f.__generator)(this,(function(s){switch(s.label){case 0:return i&&i.global?(e(Dr.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:a=s.sent(),o=Object(f.__assign)(Object(f.__assign)({},r),{send_to:a}),e(Dr.EVENT,n,o),s.label=3;case 3:return[2]}}))}))})($r,Qr[n],e,t,r).catch((function(e){return Lr.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return Object(f.__awaiter)(this,void 0,void 0,(function(){var i;return Object(f.__generator)(this,(function(a){switch(a.label){case 0:return r&&r.global?(e(Dr.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=a.sent(),e(Dr.CONFIG,i,{update:!0,screen_name:n}),a.label=3;case 3:return[2]}}))}))})($r,Qr[n],e,t).catch((function(e){return Lr.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return Object(f.__awaiter)(this,void 0,void 0,(function(){var i;return Object(f.__generator)(this,(function(a){switch(a.label){case 0:return r&&r.global?(e(Dr.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=a.sent(),e(Dr.CONFIG,i,{update:!0,user_id:n}),a.label=3;case 3:return[2]}}))}))})($r,Qr[n],e,t).catch((function(e){return Lr.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return Object(f.__awaiter)(this,void 0,void 0,(function(){var i,a,o,s,u;return Object(f.__generator)(this,(function(l){switch(l.label){case 0:if(!r||!r.global)return[3,1];for(i={},a=0,o=Object.keys(n);a<o.length;a++)s=o[a],i["user_properties."+s]=n[s];return e(Dr.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:u=l.sent(),e(Dr.CONFIG,u,{update:!0,user_properties:n}),l.label=3;case 3:return[2]}}))}))})($r,Qr[n],e,t).catch((function(e){return Lr.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return Object(f.__awaiter)(this,void 0,void 0,(function(){var n;return Object(f.__generator)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(Qr[n],e).catch((function(e){return Lr.error(e)}))},INTERNAL:{delete:function(){return delete Qr[n],Promise.resolve()}}}}var ai="analytics";function oi(){return Object(f.__awaiter)(this,void 0,void 0,(function(){return Object(f.__generator)(this,(function(e){switch(e.label){case 0:if(Object(u.isBrowserExtension)())return[2,!1];if(!Object(u.areCookiesEnabled)())return[2,!1];if(!Object(u.isIndexedDBAvailable)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Object(u.validateIndexedDBOpenable)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}!function(e){e.INTERNAL.registerComponent(new s.Component(ai,(function(e){return ii(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:ri,EventName:Pr,isSupported:oi})),e.INTERNAL.registerComponent(new s.Component("analytics-internal",(function(e){try{return{logEvent:e.getProvider(ai).getImmediate().logEvent}}catch(r){throw qr.create("interop-component-reg-failed",{reason:r})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.14")}(a.default);var si,ui=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,a;return Object(f.__generator)(this,(function(o){switch(o.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=o.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return i=o.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&a.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(a)];case 3:return o.sent(),[2,i]}}))}))},e}(),li=((si={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",si["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",si["registration-api-key"]="Undefined API key. Check Firebase app initialization.",si["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",si["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",si["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",si["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",si["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",si["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",si["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',si["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',si["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",si["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",si),ci=new u.ErrorFactory("remoteconfig","Remote Config",li);var fi=function(){function e(e,t,n,r,i,a){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=a}return e.prototype.fetch=function(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,a,o,s,u,l,c,h,d,p,v,g,y,m,b,_;return Object(f.__generator)(this,(function(f){switch(f.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=f.sent(),n=t[0],r=t[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,o={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===w&&(w=navigator),w.languages&&w.languages[0]||w.language)},u={method:"POST",headers:o,body:JSON.stringify(s)},l=fetch(a,u),c=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),f.label=2;case 2:return f.trys.push([2,5,,6]),[4,Promise.race([l,c])];case 3:return f.sent(),[4,l];case 4:return h=f.sent(),[3,6];case 5:throw d=f.sent(),p="fetch-client-network","AbortError"===d.name&&(p="fetch-timeout"),ci.create(p,{originalErrorMessage:d.message});case 6:if(v=h.status,g=h.headers.get("ETag")||void 0,200!==h.status)return[3,11];b=void 0,f.label=7;case 7:return f.trys.push([7,9,,10]),[4,h.json()];case 8:return b=f.sent(),[3,10];case 9:throw _=f.sent(),ci.create("fetch-client-parse",{originalErrorMessage:_.message});case 10:y=b.entries,m=b.state,f.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===m?v=500:"NO_CHANGE"===m?v=304:"NO_TEMPLATE"!==m&&"EMPTY_CONFIG"!==m||(y={}),304!==v&&200!==v)throw ci.create("fetch-status",{httpStatus:v});return[2,{status:v,eTag:g,config:y}]}var w}))}))},e}(),hi=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),di=["1","true","t","yes","y","on"],pi=function(){function e(e,t){void 0===t&&(t=""),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&di.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),vi=function(){function e(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=l.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=l.LogLevel.SILENT;break;default:this._logger.logLevel=l.LogLevel.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return Object(f.__awaiter)(this,void 0,void 0,(function(){var e,t,n;return Object(f.__generator)(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),t=e[0],n=e[1],t&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},e.prototype.fetch=function(){return Object(f.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r=this;return Object(f.__generator)(this,(function(i){switch(i.label){case 0:e=new hi,setTimeout((function(){return Object(f.__awaiter)(r,void 0,void 0,(function(){return Object(f.__generator)(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return t=i.sent(),n=function(e,t){return e instanceof u.FirebaseError&&-1!==e.code.indexOf(t)}(t,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),t;case 6:return[2]}}))}))},e.prototype.fetchAndActivate=function(){return Object(f.__awaiter)(this,void 0,void 0,(function(){return Object(f.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},e.prototype.getAll=function(){var e=this;return function(e,t){void 0===e&&(e={});void 0===t&&(t={});return Object.keys(Object(f.__assign)(Object(f.__assign)({},e),t))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(t,n){return t[n]=e.getValue(n),t}),{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new pi("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new pi("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new pi("static"))},e}();function gi(e,t){var n=e.target.error||void 0;return ci.create(t,{originalErrorMessage:n&&n.message})}var yi="app_namespace_store";var mi=function(){function e(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t(gi(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(yi,{keyPath:"compositeKey"})}}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return Object(f.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return t=i.sent(),[2,new Promise((function(i,a){var o=t.transaction([yi],"readonly").objectStore(yi),s=n.createCompositeKey(e);try{var u=o.get(s);u.onerror=function(e){a(gi(e,"storage-get"))},u.onsuccess=function(e){var t=e.target.result;i(t?t.value:void 0)}}catch(r){a(ci.create("storage-get",{originalErrorMessage:r&&r.message}))}}))]}}))}))},e.prototype.set=function(e,t){return Object(f.__awaiter)(this,void 0,void 0,(function(){var n,i=this;return Object(f.__generator)(this,(function(a){switch(a.label){case 0:return[4,this.openDbPromise];case 1:return n=a.sent(),[2,new Promise((function(a,o){var s=n.transaction([yi],"readwrite").objectStore(yi),u=i.createCompositeKey(e);try{var l=s.put({compositeKey:u,value:t});l.onerror=function(e){o(gi(e,"storage-set"))},l.onsuccess=function(){a()}}catch(r){o(ci.create("storage-set",{originalErrorMessage:r&&r.message}))}}))]}}))}))},e.prototype.delete=function(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return Object(f.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return t=i.sent(),[2,new Promise((function(i,a){var o=t.transaction([yi],"readwrite").objectStore(yi),s=n.createCompositeKey(e);try{var u=o.delete(s);u.onerror=function(e){a(gi(e,"storage-delete"))},u.onsuccess=function(){i()}}catch(r){a(ci.create("storage-delete",{originalErrorMessage:r&&r.message}))}}))]}}))}))},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),bi=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return Object(f.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i,a;return Object(f.__generator)(this,(function(o){switch(o.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=o.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(i=o.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(a=o.sent())&&(this.activeConfig=a),[2]}}))}))},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}();function _i(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r(ci.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var wi,xi=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return Object(f.__awaiter)(this,void 0,void 0,(function(){var t;return Object(f.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return Object(f.__awaiter)(this,void 0,void 0,(function(){var t,i,a;return Object(f.__generator)(this,(function(o){switch(o.label){case 0:return[4,_i(e.signal,n)];case 1:o.sent(),o.label=2;case 2:return o.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=o.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return o.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof u.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i=o.sent()))throw i;return a={throttleEndTimeMillis:Date.now()+Object(u.calculateBackoffMillis)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(a)];case 6:return o.sent(),[2,this.attemptFetch(e,a)];case 7:return[2]}}))}))},e}(),Ti="@firebase/remote-config";(wi=a.default).INTERNAL.registerComponent(new s.Component("remoteConfig",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"===typeof window)throw ci.create("registration-window");var a=r.options,o=a.projectId,s=a.apiKey,u=a.appId;if(!o)throw ci.create("registration-project-id");if(!s)throw ci.create("registration-api-key");if(!u)throw ci.create("registration-app-id");n=n||"firebase";var c=new mi(u,r.name,n),f=new bi(c),h=new l.Logger(Ti);h.logLevel=l.LogLevel.ERROR;var d=new fi(i,wi.SDK_VERSION,n,o,s,u),p=new xi(d,c),v=new ui(p,c,f,h),g=new vi(r,v,f,c,h);return g.ensureInitialized(),g}),"PUBLIC").setMultipleInstances(!0)),wi.registerVersion(Ti,"0.1.41");n(128);var ki="8.7.1";a.default.registerVersion("firebase",ki,"app"),a.default.SDK_VERSION=ki;console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),a.default.registerVersion("firebase","8.7.1")},function(e,t,n){"use strict";var r=n(54),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var l=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),l=f("react.memo"),c=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=m.prototype=new y;b.constructor=m,r(b,g.prototype),b.isPureReactComponent=!0;var _={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:_.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var O=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+S(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(O,"$&/")+"/"),A(o,t,n,"",(function(e){return e}))):null!=o&&(k(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(O,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=r+S(s=e[l],l);u+=A(s,t,n,c,o)}else if("function"===typeof(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e)))for(e=c.call(e),l=0;!(s=e.next()).done;)u+=A(s=s.value,t,n,c=r+S(s,l++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function E(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function C(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var M={current:null};function I(){var e=M.current;if(null===e)throw Error(d(321));return e}var D={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:_,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:E,forEach:function(e,t,n){E(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return E(e,(function(){t++})),t},toArray:function(e){return E(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error(d(143));return e}},t.Component=g,t.PureComponent=m,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=_.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!x.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){l=Array(c);for(var f=0;f<c;f++)l[f]=arguments[f+2];a.children=l}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return I().useCallback(e,t)},t.useContext=function(e,t){return I().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return I().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return I().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return I().useLayoutEffect(e,t)},t.useMemo=function(e,t){return I().useMemo(e,t)},t.useReducer=function(e,t,n){return I().useReducer(e,t,n)},t.useRef=function(e){return I().useRef(e)},t.useState=function(e){return I().useState(e)},t.version="17.0.2"},function(e,t,n){"use strict";var r=n(2),i=n(54),a=n(83);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function g(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,b);y[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,b);y[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,b);y[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,T=60106,k=60107,O=60108,S=60114,A=60109,E=60110,C=60112,M=60113,I=60120,D=60115,P=60116,N=60121,j=60128,L=60129,R=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var z=Symbol.for;x=z("react.element"),T=z("react.portal"),k=z("react.fragment"),O=z("react.strict_mode"),S=z("react.profiler"),A=z("react.provider"),E=z("react.context"),C=z("react.forward_ref"),M=z("react.suspense"),I=z("react.suspense_list"),D=z("react.memo"),P=z("react.lazy"),N=z("react.block"),z("react.scope"),j=z("react.opaque.id"),L=z("react.debug_trace_mode"),R=z("react.offscreen"),F=z("react.legacy_hidden")}var U,q="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=q&&e[q]||e["@@iterator"])?e:null}function V(e){if(void 0===U)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var H=!1;function W(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function Y(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case T:return"Portal";case S:return"Profiler";case O:return"StrictMode";case M:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case D:return G(e.type);case N:return G(e._render);case P:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function K(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function X(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=X(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=X(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function le(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ge,ye=(ge=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ge(e,t)}))}:ge);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_e=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){_e.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Te=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(e,t){if(t){if(Te[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Oe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ae=null,Ee=null,Ce=null;function Me(e){if(e=ei(e)){if("function"!==typeof Ae)throw Error(o(280));var t=e.stateNode;t&&(t=ni(t),Ae(e.stateNode,e.type,t))}}function Ie(e){Ee?Ce?Ce.push(e):Ce=[e]:Ee=e}function De(){if(Ee){var e=Ee,t=Ce;if(Ce=Ee=null,Me(e),t)for(e=0;e<t.length;e++)Me(t[e])}}function Pe(e,t){return e(t)}function Ne(e,t,n,r,i){return e(t,n,r,i)}function je(){}var Le=Pe,Re=!1,Fe=!1;function ze(){null===Ee&&null===Ce||(je(),De())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ni(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var qe=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){qe=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(ge){qe=!1}function Ve(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var He=!1,We=null,Ye=!1,Ge=null,Ke={onError:function(e){He=!0,We=e}};function Xe(e,t,n,r,i,a,o,s,u){He=!1,We=null,Ve.apply(Ke,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if($e(e)!==e)throw Error(o(188))}function Ze(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,lt=null,ct=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function gt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ei(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=Zr(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Qe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ei(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){mt(e)&&n.delete(t)}function _t(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ei(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&mt(st)&&(st=null),null!==ut&&mt(ut)&&(ut=null),null!==lt&&mt(lt)&&(lt=null),ct.forEach(bt),ft.forEach(bt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,_t)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==lt&&wt(lt,e),ct.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function Tt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kt={animationend:Tt("Animation","AnimationEnd"),animationiteration:Tt("Animation","AnimationIteration"),animationstart:Tt("Animation","AnimationStart"),transitionend:Tt("Transition","TransitionEnd")},Ot={},St={};function At(e){if(Ot[e])return Ot[e];if(!kt[e])return e;var t,n=kt[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return Ot[e]=n[t];return e}f&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete kt.animationend.animation,delete kt.animationiteration.animation,delete kt.animationstart.animation),"TransitionEvent"in window||delete kt.transitionend.transition);var Et=At("animationend"),Ct=At("animationiteration"),Mt=At("animationstart"),It=At("transitionend"),Dt=new Map,Pt=new Map,Nt=["abort","abort",Et,"animationEnd",Ct,"animationIteration",Mt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",It,"transitionEnd","waiting","waiting"];function jt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Dt.set(r,i),l(i,[r])}}(0,a.unstable_now)();var Lt=8;function Rt(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Lt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=Rt(u),i=Lt):0!==(s&=a)&&(r=Rt(s),i=Lt)}else 0!==(a=n&~o)?(r=Rt(a),i=Lt):0!==s&&(r=Rt(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Rt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function zt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=qt(24&~t))?Ut(10,t):e;case 10:return 0===(e=qt(192&~t))?Ut(8,t):e;case 8:return 0===(e=qt(3584&~t))&&(0===(e=qt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=qt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function qt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Yt|0)|0},Wt=Math.log,Yt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Kt=a.unstable_runWithPriority,Xt=!0;function $t(e,t,n,r){Re||je();var i=Jt,a=Re;Re=!0;try{Ne(i,e,t,n,r)}finally{(Re=a)||ze()}}function Qt(e,t,n,r){Kt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Xt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=gt(st,e,t,n,r,i),!0;case"dragenter":return ut=gt(ut,e,t,n,r,i),!0;case"mouseover":return lt=gt(lt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ct.set(a,gt(ct.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,gt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Dr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Se(r);if(null!==(i=Zr(i))){var a=$e(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Qe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Dr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var ln,cn,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),vn=un(pn),gn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(ln=e.screenX-fn.screenX,cn=e.screenY-fn.screenY):cn=ln=0,fn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),yn=un(gn),mn=un(i({},gn,{dataTransfer:0})),bn=un(i({},pn,{relatedTarget:0})),_n=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=un(i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),xn=un(i({},hn,{data:0})),Tn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},On={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=On[e])&&!!t[e]}function An(){return Sn}var En=un(i({},pn,{key:function(e){if(e.key){var t=Tn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Cn=un(i({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),In=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=un(i({},gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Pn=[9,13,27,32],Nn=f&&"CompositionEvent"in window,jn=null;f&&"documentMode"in document&&(jn=document.documentMode);var Ln=f&&"TextEvent"in window&&!jn,Rn=f&&(!Nn||jn&&8<jn&&11>=jn),Fn=String.fromCharCode(32),zn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ie(r),0<(t=Nr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Gn=null;function Kn(e){Sr(e,0)}function Xn(e){if(Q(ti(e)))return e}function $n(e,t){if("change"===e)return t}var Qn=!1;if(f){var Jn;if(f){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Qn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Yn&&(Yn.detachEvent("onpropertychange",nr),Gn=Yn=null)}function nr(e){if("value"===e.propertyName&&Xn(Gn)){var t=[];if(Wn(t,Gn,e,Se(e)),e=Kn,Re)e(t);else{Re=!0;try{Pe(e,t)}finally{Re=!1,ze()}}}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Yn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Gn)}function ar(e,t){if("click"===e)return Xn(t)}function or(e,t){if("input"===e||"change"===e)return Xn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ur=Object.prototype.hasOwnProperty;function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ur.call(t,n[r])||!sr(e[n[r]],t[n[r]]))return!1;return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vr=f&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,mr=null,br=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==J(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&lr(mr,r)||(mr=r,0<(r=Nr(yr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}jt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),jt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),jt(Nt,2);for(var wr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),xr=0;xr<wr.length;xr++)Pt.set(wr[xr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Or(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,l){if(Xe.apply(this,arguments),He){if(!He)throw Error(o(198));var c=We;He=!1,We=null,Ye||(Ye=!0,Ge=c)}}(r,t,void 0,e),e.currentTarget=null}function Sr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Or(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Or(i,s,l),a=u}}}if(Ye)throw e=Ge,Ye=!1,Ge=null,e}function Ar(e,t){var n=ri(t),r=e+"__bubble";n.has(r)||(Ir(t,e,2,!1),n.add(r))}var Er="_reactListening"+Math.random().toString(36).slice(2);function Cr(e){e[Er]||(e[Er]=!0,s.forEach((function(t){kr.has(t)||Mr(t,!1,e,null),Mr(t,!0,e,null)})))}function Mr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&kr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=ri(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Ir(a,e,i,t),o.add(s))}function Ir(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Qt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!qe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=Zr(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Le(e,t,n)}finally{Fe=!1,ze()}}((function(){var r=a,i=Se(n),o=[];e:{var s=Dt.get(e);if(void 0!==s){var u=dn,l=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=En;break;case"focusin":l="focus",u=bn;break;case"focusout":l="blur",u=bn;break;case"beforeblur":case"afterblur":u=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Mn;break;case Et:case Ct:case Mt:u=_n;break;case It:u=In;break;case"scroll":u=vn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var c=0!==(4&t),f=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ue(p,h))&&c.push(Pr(p,v,d)))),f)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(l=n.relatedTarget||n.fromElement)||!Zr(l)&&!l[Qr])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?Zr(l):null)&&(l!==(f=$e(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ti(u),d=null==l?s:ti(l),(s=new c(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,Zr(i)===r&&((c=new c(h,p+"enter",l,n,i)).target=d,c.relatedTarget=f,v=c),f=v,u&&l)e:{for(h=l,p=0,d=c=u;d;d=jr(d))p++;for(d=0,v=h;v;v=jr(v))d++;for(;0<p-d;)c=jr(c),p--;for(;0<d-p;)h=jr(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=jr(c),h=jr(h)}c=null}else c=null;null!==u&&Lr(o,s,u,c,!1),null!==l&&null!==f&&Lr(o,f,l,c,!0)}if("select"===(u=(s=r?ti(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=$n;else if(Hn(s))if(Qn)g=or;else{g=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ar);switch(g&&(g=g(e,r))?Wn(o,g,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=r?ti(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,mr=null);break;case"focusout":mr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":_r(o,n,i)}var m;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Rn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(m=rn()):(tn="value"in(en=i)?en.value:en.textContent,Bn=!0)),0<(y=Nr(r,b)).length&&(b=new xn(b,e,null,n,i),o.push({event:b,listeners:y}),m?b.data=m:null!==(m=qn(n))&&(b.data=m))),(m=Ln?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Nn&&Un(e,t)?(e=rn(),nn=tn=en=null,Bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Nr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=m))}Sr(o,t)}))}function Pr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Nr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ue(e,n))&&r.unshift(Pr(e,a,i)),null!=(a=Ue(e,t))&&r.push(Pr(e,a,i))),e=e.return}return r}function jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Lr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Ue(n,a))&&o.unshift(Pr(n,u,s)):i||null!=(u=Ue(n,a))&&o.push(Pr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Rr(){}var Fr=null,zr=null;function Ur(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function qr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Br="function"===typeof setTimeout?setTimeout:void 0,Vr="function"===typeof clearTimeout?clearTimeout:void 0;function Hr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Wr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Gr=0;var Kr=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Kr,$r="__reactProps$"+Kr,Qr="__reactContainer$"+Kr,Jr="__reactEvents$"+Kr;function Zr(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qr]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[Xr])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ei(e){return!(e=e[Xr]||e[Qr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ti(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ni(e){return e[$r]||null}function ri(e){var t=e[Jr];return void 0===t&&(t=e[Jr]=new Set),t}var ii=[],ai=-1;function oi(e){return{current:e}}function si(e){0>ai||(e.current=ii[ai],ii[ai]=null,ai--)}function ui(e,t){ai++,ii[ai]=e.current,e.current=t}var li={},ci=oi(li),fi=oi(!1),hi=li;function di(e,t){var n=e.type.contextTypes;if(!n)return li;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function vi(){si(fi),si(ci)}function gi(e,t,n){if(ci.current!==li)throw Error(o(168));ui(ci,t),ui(fi,n)}function yi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||li,hi=ci.current,ui(ci,e),ui(fi,fi.current),!0}function bi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=yi(e,t,hi),r.__reactInternalMemoizedMergedChildContext=e,si(fi),si(ci),ui(ci,e)):si(fi),ui(fi,n)}var _i=null,wi=null,xi=a.unstable_runWithPriority,Ti=a.unstable_scheduleCallback,ki=a.unstable_cancelCallback,Oi=a.unstable_shouldYield,Si=a.unstable_requestPaint,Ai=a.unstable_now,Ei=a.unstable_getCurrentPriorityLevel,Ci=a.unstable_ImmediatePriority,Mi=a.unstable_UserBlockingPriority,Ii=a.unstable_NormalPriority,Di=a.unstable_LowPriority,Pi=a.unstable_IdlePriority,Ni={},ji=void 0!==Si?Si:function(){},Li=null,Ri=null,Fi=!1,zi=Ai(),Ui=1e4>zi?Ai:function(){return Ai()-zi};function qi(){switch(Ei()){case Ci:return 99;case Mi:return 98;case Ii:return 97;case Di:return 96;case Pi:return 95;default:throw Error(o(332))}}function Bi(e){switch(e){case 99:return Ci;case 98:return Mi;case 97:return Ii;case 96:return Di;case 95:return Pi;default:throw Error(o(332))}}function Vi(e,t){return e=Bi(e),xi(e,t)}function Hi(e,t,n){return e=Bi(e),Ti(e,t,n)}function Wi(){if(null!==Ri){var e=Ri;Ri=null,ki(e)}Yi()}function Yi(){if(!Fi&&null!==Li){Fi=!0;var e=0;try{var t=Li;Vi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Li=null}catch(n){throw null!==Li&&(Li=Li.slice(e+1)),Ti(Ci,Wi),n}finally{Fi=!1}}}var Gi=w.ReactCurrentBatchConfig;function Ki(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=oi(null),$i=null,Qi=null,Ji=null;function Zi(){Ji=Qi=$i=null}function ea(e){var t=Xi.current;si(Xi),e.type._context._currentValue=t}function ta(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function na(e,t){$i=e,Ji=Qi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(No=!0),e.firstContext=null)}function ra(e,t){if(Ji!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Ji=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Qi){if(null===$i)throw Error(o(308));Qi=t,$i.dependencies={lanes:0,firstContext:t,responders:null}}else Qi=Qi.next=t;return e._currentValue}var ia=!1;function aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ua(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function la(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ca(e,t,n,r){var a=e.updateQueue;ia=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var l=u,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=c:h.next=c,f.lastBaseUpdate=l)}}if(null!==o){for(h=a.baseState,s=0,f=c=l=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:ia=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(c=f=d,l=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(l=h),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=f,Fs|=s,e.lanes=s,e.memoizedState=h}}function fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var ha=(new r.Component).refs;function da(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var pa={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=lu(),i=cu(e),a=sa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),ua(e,a),fu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=lu(),i=cu(e),a=sa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),ua(e,a),fu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lu(),r=cu(e),i=sa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),ua(e,i),fu(e,r,n)}};function va(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function ga(e,t,n){var r=!1,i=li,a=t.contextType;return"object"===typeof a&&null!==a?a=ra(a):(i=pi(t)?hi:ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?di(e,i):li),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=pa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ya(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pa.enqueueReplaceState(t,t.state,null)}function ma(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ha,aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=ra(a):(a=pi(t)?hi:ci.current,i.context=di(e,a)),ca(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(da(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&pa.enqueueReplaceState(i,i.state,null),ca(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var ba=Array.isArray;function _a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===ha&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function wa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function xa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Vu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Gu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_a(e,t,n),r.return=e,r):((r=Hu(n.type,n.key,n.props,null,e.mode,r)).ref=_a(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ku(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Wu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Gu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Hu(t.type,t.key,t.props,null,e.mode,n)).ref=_a(e,null,t),n.return=e,n;case T:return(t=Ku(t,e.mode,n)).return=e,t}if(ba(t)||B(t))return(t=Wu(t,e.mode,n,null)).return=e,t;wa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===k?f(e,t,n.props.children,r,i):l(e,t,n,r):null;case T:return n.key===i?c(e,t,n,r):null}if(ba(n)||B(n))return null!==i?null:f(e,t,n,r,null);wa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===k?f(t,e,r.props.children,i,r.key):l(t,e,r,i);case T:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(ba(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);wa(t,r)}return null}function v(i,o,s,u){for(var l=null,c=null,f=o,v=o=0,g=null;null!==f&&v<s.length;v++){f.index>v?(g=f,f=null):g=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=g);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===c?l=y:c.sibling=y,c=y,f=g}if(v===s.length)return n(i,f),l;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===c?l=f:c.sibling=f,c=f);return l}for(f=r(i,f);v<s.length;v++)null!==(g=p(f,i,v,s[v],u))&&(e&&null!==g.alternate&&f.delete(null===g.key?v:g.key),o=a(g,o,v),null===c?l=g:c.sibling=g,c=g);return e&&f.forEach((function(e){return t(i,e)})),l}function g(i,s,u,l){var c=B(u);if("function"!==typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var f=c=null,v=s,g=s=0,y=null,m=u.next();null!==v&&!m.done;g++,m=u.next()){v.index>g?(y=v,v=null):y=v.sibling;var b=d(i,v,m.value,l);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),s=a(b,s,g),null===f?c=b:f.sibling=b,f=b,v=y}if(m.done)return n(i,v),c;if(null===v){for(;!m.done;g++,m=u.next())null!==(m=h(i,m.value,l))&&(s=a(m,s,g),null===f?c=m:f.sibling=m,f=m);return c}for(v=r(i,v);!m.done;g++,m=u.next())null!==(m=p(v,i,g,m.value,l))&&(e&&null!==m.alternate&&v.delete(null===m.key?g:m.key),s=a(m,s,g),null===f?c=m:f.sibling=m,f=m);return e&&v.forEach((function(e){return t(i,e)})),c}return function(e,r,a,u){var l="object"===typeof a&&null!==a&&a.type===k&&null===a.key;l&&(a=a.props.children);var c="object"===typeof a&&null!==a;if(c)switch(a.$$typeof){case x:e:{for(c=a.key,l=r;null!==l;){if(l.key===c){switch(l.tag){case 7:if(a.type===k){n(e,l.sibling),(r=i(l,a.props.children)).return=e,e=r;break e}break;default:if(l.elementType===a.type){n(e,l.sibling),(r=i(l,a.props)).ref=_a(e,l,a),r.return=e,e=r;break e}}n(e,l);break}t(e,l),l=l.sibling}a.type===k?((r=Wu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Hu(a.type,a.key,a.props,null,e.mode,u)).ref=_a(e,r,a),u.return=e,e=u)}return s(e);case T:e:{for(l=a.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ku(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Gu(a,e.mode,u)).return=e,e=r),s(e);if(ba(a))return v(e,r,a,u);if(B(a))return g(e,r,a,u);if(c&&wa(e,a),"undefined"===typeof a&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ta=xa(!0),ka=xa(!1),Oa={},Sa=oi(Oa),Aa=oi(Oa),Ea=oi(Oa);function Ca(e){if(e===Oa)throw Error(o(174));return e}function Ma(e,t){switch(ui(Ea,t),ui(Aa,e),ui(Sa,Oa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}si(Sa),ui(Sa,t)}function Ia(){si(Sa),si(Aa),si(Ea)}function Da(e){Ca(Ea.current);var t=Ca(Sa.current),n=pe(t,e.type);t!==n&&(ui(Aa,e),ui(Sa,n))}function Pa(e){Aa.current===e&&(si(Sa),si(Aa))}var Na=oi(0);function ja(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var La=null,Ra=null,Fa=!1;function za(e,t){var n=qu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function qa(e){if(Fa){var t=Ra;if(t){var n=t;if(!Ua(e,t)){if(!(t=Wr(n.nextSibling))||!Ua(e,t))return e.flags=-1025&e.flags|2,Fa=!1,void(La=e);za(La,n)}La=e,Ra=Wr(t.firstChild)}else e.flags=-1025&e.flags|2,Fa=!1,La=e}}function Ba(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;La=e}function Va(e){if(e!==La)return!1;if(!Fa)return Ba(e),Fa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!qr(t,e.memoizedProps))for(t=Ra;t;)za(e,t),t=Wr(t.nextSibling);if(Ba(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ra=Wr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ra=null}}else Ra=La?Wr(e.stateNode.nextSibling):null;return!0}function Ha(){Ra=La=null,Fa=!1}var Wa=[];function Ya(){for(var e=0;e<Wa.length;e++)Wa[e]._workInProgressVersionPrimary=null;Wa.length=0}var Ga=w.ReactCurrentDispatcher,Ka=w.ReactCurrentBatchConfig,Xa=0,$a=null,Qa=null,Ja=null,Za=!1,eo=!1;function to(){throw Error(o(321))}function no(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ro(e,t,n,r,i,a){if(Xa=a,$a=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ga.current=null===e||null===e.memoizedState?Mo:Io,e=n(r,i),eo){a=0;do{if(eo=!1,!(25>a))throw Error(o(301));a+=1,Ja=Qa=null,t.updateQueue=null,Ga.current=Do,e=n(r,i)}while(eo)}if(Ga.current=Co,t=null!==Qa&&null!==Qa.next,Xa=0,Ja=Qa=$a=null,Za=!1,t)throw Error(o(300));return e}function io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ja?$a.memoizedState=Ja=e:Ja=Ja.next=e,Ja}function ao(){if(null===Qa){var e=$a.alternate;e=null!==e?e.memoizedState:null}else e=Qa.next;var t=null===Ja?$a.memoizedState:Ja.next;if(null!==t)Ja=t,Qa=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Qa=e).memoizedState,baseState:Qa.baseState,baseQueue:Qa.baseQueue,queue:Qa.queue,next:null},null===Ja?$a.memoizedState=Ja=e:Ja=Ja.next=e}return Ja}function oo(e,t){return"function"===typeof t?t(e):t}function so(e){var t=ao(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Qa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,l=i;do{var c=l.lane;if((Xa&c)===c)null!==u&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var f={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,$a.lanes|=c,Fs|=c}l=l.next}while(null!==l&&l!==i);null===u?a=r:u.next=s,sr(r,t.memoizedState)||(No=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function uo(e){var t=ao(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(No=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function lo(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xa&e)===e)&&(t._workInProgressVersionPrimary=r,Wa.push(t))),e)return n(t._source);throw Wa.push(t),Error(o(350))}function co(e,t,n,r){var i=Ms;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Ga.current,l=u.useState((function(){return lo(i,t,n)})),c=l[1],f=l[0];l=Ja;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var g=$a;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=c;var e=a(t._source);if(!sr(s,e)){e=n(t._source),sr(f,e)||(c(e),e=cu(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Ht(o),l=1<<u;r[u]|=e,o&=~l}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=cu(g);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),sr(p,n)&&sr(v,t)&&sr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:oo,lastRenderedState:f}).dispatch=c=Eo.bind(null,$a,e),l.queue=e,l.baseQueue=null,f=lo(i,t,n),l.memoizedState=l.baseState=f),f}function fo(e,t,n){return co(ao(),e,t,n)}function ho(e){var t=io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:oo,lastRenderedState:e}).dispatch=Eo.bind(null,$a,e),[t.memoizedState,e]}function po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=$a.updateQueue)?(t={lastEffect:null},$a.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function vo(e){return e={current:e},io().memoizedState=e}function go(){return ao().memoizedState}function yo(e,t,n,r){var i=io();$a.flags|=e,i.memoizedState=po(1|t,n,void 0,void 0===r?null:r)}function mo(e,t,n,r){var i=ao();r=void 0===r?null:r;var a=void 0;if(null!==Qa){var o=Qa.memoizedState;if(a=o.destroy,null!==r&&no(r,o.deps))return void po(t,n,a,r)}$a.flags|=e,i.memoizedState=po(1|t,n,a,r)}function bo(e,t){return yo(516,4,e,t)}function _o(e,t){return mo(516,4,e,t)}function wo(e,t){return mo(4,2,e,t)}function xo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function To(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,mo(4,2,xo.bind(null,t,e),n)}function ko(){}function Oo(e,t){var n=ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&no(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function So(e,t){var n=ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&no(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ao(e,t){var n=qi();Vi(98>n?98:n,(function(){e(!0)})),Vi(97<n?97:n,(function(){var n=Ka.transition;Ka.transition=1;try{e(!1),t()}finally{Ka.transition=n}}))}function Eo(e,t,n){var r=lu(),i=cu(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===$a||null!==o&&o===$a)eo=Za=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,sr(u,s))return}catch(l){}fu(e,i,r)}}var Co={readContext:ra,useCallback:to,useContext:to,useEffect:to,useImperativeHandle:to,useLayoutEffect:to,useMemo:to,useReducer:to,useRef:to,useState:to,useDebugValue:to,useDeferredValue:to,useTransition:to,useMutableSource:to,useOpaqueIdentifier:to,unstable_isNewReconciler:!1},Mo={readContext:ra,useCallback:function(e,t){return io().memoizedState=[e,void 0===t?null:t],e},useContext:ra,useEffect:bo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,yo(4,2,xo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return yo(4,2,e,t)},useMemo:function(e,t){var n=io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Eo.bind(null,$a,e),[r.memoizedState,e]},useRef:vo,useState:ho,useDebugValue:ko,useDeferredValue:function(e){var t=ho(e),n=t[0],r=t[1];return bo((function(){var t=Ka.transition;Ka.transition=1;try{r(e)}finally{Ka.transition=t}}),[e]),n},useTransition:function(){var e=ho(!1),t=e[0];return vo(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=io();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},co(r,e,t,n)},useOpaqueIdentifier:function(){if(Fa){var e=!1,t=function(e){return{$$typeof:j,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Gr++).toString(36))),Error(o(355))})),n=ho(t)[1];return 0===(2&$a.mode)&&($a.flags|=516,po(5,(function(){n("r:"+(Gr++).toString(36))}),void 0,null)),t}return ho(t="r:"+(Gr++).toString(36)),t},unstable_isNewReconciler:!1},Io={readContext:ra,useCallback:Oo,useContext:ra,useEffect:_o,useImperativeHandle:To,useLayoutEffect:wo,useMemo:So,useReducer:so,useRef:go,useState:function(){return so(oo)},useDebugValue:ko,useDeferredValue:function(e){var t=so(oo),n=t[0],r=t[1];return _o((function(){var t=Ka.transition;Ka.transition=1;try{r(e)}finally{Ka.transition=t}}),[e]),n},useTransition:function(){var e=so(oo)[0];return[go().current,e]},useMutableSource:fo,useOpaqueIdentifier:function(){return so(oo)[0]},unstable_isNewReconciler:!1},Do={readContext:ra,useCallback:Oo,useContext:ra,useEffect:_o,useImperativeHandle:To,useLayoutEffect:wo,useMemo:So,useReducer:uo,useRef:go,useState:function(){return uo(oo)},useDebugValue:ko,useDeferredValue:function(e){var t=uo(oo),n=t[0],r=t[1];return _o((function(){var t=Ka.transition;Ka.transition=1;try{r(e)}finally{Ka.transition=t}}),[e]),n},useTransition:function(){var e=uo(oo)[0];return[go().current,e]},useMutableSource:fo,useOpaqueIdentifier:function(){return uo(oo)[0]},unstable_isNewReconciler:!1},Po=w.ReactCurrentOwner,No=!1;function jo(e,t,n,r){t.child=null===e?ka(t,null,n,r):Ta(t,e.child,n,r)}function Lo(e,t,n,r,i){n=n.render;var a=t.ref;return na(t,i),r=ro(e,t,n,r,a,i),null===e||No?(t.flags|=1,jo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function Ro(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Bu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Fo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)?ns(e,t,a):(t.flags|=1,(e=Vu(o,r)).ref=t.ref,e.return=t,t.child=e)}function Fo(e,t,n,r,i,a){if(null!==e&&lr(e.memoizedProps,r)&&e.ref===t.ref){if(No=!1,0===(a&i))return t.lanes=e.lanes,ns(e,t,a);0!==(16384&e.flags)&&(No=!0)}return qo(e,t,n,r,a)}function zo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},bu(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},bu(t,e),null;t.memoizedState={baseLanes:0},bu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,bu(t,r);return jo(e,t,i,n),t.child}function Uo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function qo(e,t,n,r,i){var a=pi(n)?hi:ci.current;return a=di(t,a),na(t,i),n=ro(e,t,n,r,a,i),null===e||No?(t.flags|=1,jo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function Bo(e,t,n,r,i){if(pi(n)){var a=!0;mi(t)}else a=!1;if(na(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ga(t,n,r),ma(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=ra(l):l=di(t,l=pi(n)?hi:ci.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&ya(t,o,r,l),ia=!1;var h=t.memoizedState;o.state=h,ca(t,r,o,i),u=t.memoizedState,s!==r||h!==u||fi.current||ia?("function"===typeof c&&(da(t,n,c,r),u=t.memoizedState),(s=ia||va(t,n,s,r,h,u,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,oa(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Ki(t.type,s),o.props=l,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=ra(u):u=di(t,u=pi(n)?hi:ci.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&ya(t,o,r,u),ia=!1,h=t.memoizedState,o.state=h,ca(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||fi.current||ia?("function"===typeof d&&(da(t,n,d,r),p=t.memoizedState),(l=ia||va(t,n,l,r,h,p,u))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Vo(e,t,n,r,a,i)}function Vo(e,t,n,r,i,a){Uo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&bi(t,n,!1),ns(e,t,a);r=t.stateNode,Po.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ta(t,e.child,null,a),t.child=Ta(t,null,s,a)):jo(e,t,s,a),t.memoizedState=r.state,i&&bi(t,n,!0),t.child}function Ho(e){var t=e.stateNode;t.pendingContext?gi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&gi(0,t.context,!1),Ma(e,t.containerInfo)}var Wo,Yo,Go,Ko={dehydrated:null,retryLane:0};function Xo(e,t,n){var r,i=t.pendingProps,a=Na.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),ui(Na,1&a),null===e?(void 0!==i.fallback&&qa(t),e=i.children,a=i.fallback,o?(e=$o(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ko,e):"number"===typeof i.unstable_expectedLoadTime?(e=$o(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ko,t.lanes=33554432,e):((n=Yu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=Jo(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Ko,i):(n=Qo(e,t,i.children,n),t.memoizedState=null,n))}function $o(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Yu(t,i,0,null),n=Wu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function Qo(e,t,n,r){var i=e.child;return e=i.sibling,n=Vu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Jo(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Vu(o,s),null!==e?r=Vu(e,r):(r=Wu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Zo(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ta(e.return,t)}function es(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function ts(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(jo(e,t,r.children,n),0!==(2&(r=Na.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Zo(e,n);else if(19===e.tag)Zo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ui(Na,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ja(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),es(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ja(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}es(t,!0,n,null,a,t.lastEffect);break;case"together":es(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ns(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Vu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Vu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function rs(e,t){if(!Fa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function is(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return pi(t.type)&&vi(),null;case 3:return Ia(),si(fi),si(ci),Ya(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Va(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Pa(t);var a=Ca(Ea.current);if(n=t.type,null!==e&&null!=t.stateNode)Yo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ca(Sa.current),Va(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Xr]=t,r[$r]=s,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Ar(Tr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,s),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ar("invalid",r);break;case"textarea":ue(r,s),Ar("invalid",r)}for(var l in ke(n,s),e=null,s)s.hasOwnProperty(l)&&(a=s[l],"children"===l?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(l)&&null!=a&&"onScroll"===l&&Ar("scroll",r));switch(n){case"input":$(r),re(r,s,!0);break;case"textarea":$(r),ce(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Rr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(l=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Xr]=t,e[$r]=r,Wo(e,t),t.stateNode=e,l=Oe(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),a=r;break;case"iframe":case"object":case"embed":Ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<Tr.length;a++)Ar(Tr[a],e);a=r;break;case"source":Ar("error",e),a=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),a=r;break;case"details":Ar("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Ar("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Ar("invalid",e);break;default:a=r}ke(n,a);var c=a;for(s in c)if(c.hasOwnProperty(s)){var f=c[s];"style"===s?xe(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&me(e,f):"number"===typeof f&&me(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Ar("scroll",e):null!=f&&_(e,s,f,l))}switch(n){case"input":$(e),re(e,r,!1);break;case"textarea":$(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Rr)}Ur(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Go(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Ca(Ea.current),Ca(Sa.current),Va(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return si(Na),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Va(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Na.current)?0===js&&(js=3):(0!==js&&3!==js||(js=4),null===Ms||0===(134217727&Fs)&&0===(134217727&zs)||vu(Ms,Ds))),(r||n)&&(t.flags|=4),null);case 4:return Ia(),null===e&&Cr(t.stateNode.containerInfo),null;case 10:return ea(t),null;case 17:return pi(t.type)&&vi(),null;case 19:if(si(Na),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(l=r.rendering))if(s)rs(r,!1);else{if(0!==js||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=ja(e))){for(t.flags|=64,rs(r,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ui(Na,1&Na.current|2),t.child}e=e.sibling}null!==r.tail&&Ui()>Vs&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=ja(l))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),rs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!Fa)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ui()-r.renderingStartTime>Vs&&1073741824!==n&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ui(),n.sibling=null,t=Na.current,ui(Na,s?1&t|2:1&t),n):null;case 23:case 24:return _u(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function as(e){switch(e.tag){case 1:pi(e.type)&&vi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ia(),si(fi),si(ci),Ya(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Pa(e),null;case 13:return si(Na),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return si(Na),null;case 4:return Ia(),null;case 10:return ea(e),null;case 23:case 24:return _u(),null;default:return null}}function os(e,t){try{var n="",r=t;do{n+=Y(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ss(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Wo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ca(Sa.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Rr)}for(f in ke(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var l=a[f];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var c=r[f];if(l=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&c!==l&&(null!=c||null!=l))if("style"===f)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(f,n)),n=c;else"dangerouslySetInnerHTML"===f?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(f,c)):"children"===f?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(f,""+c):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=c&&"onScroll"===f&&Ar("scroll",e),s||l===c||(s=[])):"object"===typeof c&&null!==c&&c.$$typeof===j?c.toString():(s=s||[]).push(f,c))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Go=function(e,t,n,r){n!==r&&(t.flags|=4)};var us="function"===typeof WeakMap?WeakMap:Map;function ls(e,t,n){(n=sa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gs||(Gs=!0,Ks=r),ss(0,t)},n}function cs(e,t,n){(n=sa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ss(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Xs?Xs=new Set([this]):Xs.add(this),ss(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var fs="function"===typeof WeakSet?WeakSet:Set;function hs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Ru(e,n)}else t.current=null}function ds(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ki(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(o(163))}function ps(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Nu(n,e),Pu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ki(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&fa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}fa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Ur(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(o(163))}function vs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function gs(e,t){if(wi&&"function"===typeof wi.onCommitFiberUnmount)try{wi.onCommitFiberUnmount(_i,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Nu(t,n);else{r=t;try{i()}catch(a){Ru(r,a)}}n=n.next}while(n!==e)}break;case 1:if(hs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Ru(t,a)}break;case 5:hs(t);break;case 4:xs(e,t)}}function ys(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ms(e){return 5===e.tag||3===e.tag||4===e.tag}function bs(e){e:{for(var t=e.return;null!==t;){if(ms(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(me(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ms(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_s(e,n,t):ws(e,n,t)}function _s(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Rr));else if(4!==r&&null!==(e=e.child))for(_s(e,t,n),e=e.sibling;null!==e;)_s(e,t,n),e=e.sibling}function ws(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ws(e,t,n),e=e.sibling;null!==e;)ws(e,t,n),e=e.sibling}function xs(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,l=u;;)if(gs(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===u)break e;for(;null===l.sibling;){if(null===l.return||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(gs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Ts(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[$r]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Oe(e,i),t=Oe(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?xe(n,u):"dangerouslySetInnerHTML"===s?ye(n,u):"children"===s?me(n,u):_(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Bs=Ui(),vs(t.child,!0)),void ks(t);case 19:return void ks(t);case 17:return;case 23:case 24:return void vs(t,null!==t.memoizedState)}throw Error(o(163))}function ks(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new fs),t.forEach((function(t){var r=zu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Os(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ss=Math.ceil,As=w.ReactCurrentDispatcher,Es=w.ReactCurrentOwner,Cs=0,Ms=null,Is=null,Ds=0,Ps=0,Ns=oi(0),js=0,Ls=null,Rs=0,Fs=0,zs=0,Us=0,qs=null,Bs=0,Vs=1/0;function Hs(){Vs=Ui()+500}var Ws,Ys=null,Gs=!1,Ks=null,Xs=null,$s=!1,Qs=null,Js=90,Zs=[],eu=[],tu=null,nu=0,ru=null,iu=-1,au=0,ou=0,su=null,uu=!1;function lu(){return 0!==(48&Cs)?Ui():-1!==iu?iu:iu=Ui()}function cu(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===qi()?1:2;if(0===au&&(au=Rs),0!==Gi.transition){0!==ou&&(ou=null!==qs?qs.pendingLanes:0),e=au;var t=4186112&~ou;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=qi(),0!==(4&Cs)&&98===e?e=Ut(12,au):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),au),e}function fu(e,t,n){if(50<nu)throw nu=0,ru=null,Error(o(185));if(null===(e=hu(e,t)))return null;Vt(e,t,n),e===Ms&&(zs|=t,4===js&&vu(e,Ds));var r=qi();1===t?0!==(8&Cs)&&0===(48&Cs)?gu(e):(du(e,n),0===Cs&&(Hs(),Wi())):(0===(4&Cs)||98!==r&&99!==r||(null===tu?tu=new Set([e]):tu.add(e)),du(e,n)),qs=e}function hu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function du(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Ht(s),l=1<<u,c=a[u];if(-1===c){if(0===(l&r)||0!==(l&i)){c=t,Rt(l);var f=Lt;a[u]=10<=f?c+250:6<=f?c+5e3:-1}}else c<=t&&(e.expiredLanes|=l);s&=~l}if(r=Ft(e,e===Ms?Ds:0),t=Lt,0===r)null!==n&&(n!==Ni&&ki(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ni&&ki(n)}15===t?(n=gu.bind(null,e),null===Li?(Li=[n],Ri=Ti(Ci,Yi)):Li.push(n),n=Ni):14===t?n=Hi(99,gu.bind(null,e)):n=Hi(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),pu.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function pu(e){if(iu=-1,ou=au=0,0!==(48&Cs))throw Error(o(327));var t=e.callbackNode;if(Du()&&e.callbackNode!==t)return null;var n=Ft(e,e===Ms?Ds:0);if(0===n)return null;var r=n,i=Cs;Cs|=16;var a=Tu();for(Ms===e&&Ds===r||(Hs(),wu(e,r));;)try{Su();break}catch(u){xu(e,u)}if(Zi(),As.current=a,Cs=i,null!==Is?r=0:(Ms=null,Ds=0,r=js),0!==(Rs&zs))wu(e,0);else if(0!==r){if(2===r&&(Cs|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(n=zt(e))&&(r=ku(e,n))),1===r)throw t=Ls,wu(e,0),vu(e,n),du(e,Ui()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:Cu(e);break;case 3:if(vu(e,n),(62914560&n)===n&&10<(r=Bs+500-Ui())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){lu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Br(Cu.bind(null,e),r);break}Cu(e);break;case 4:if(vu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Ht(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=Ui()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ss(n/1960))-n)){e.timeoutHandle=Br(Cu.bind(null,e),n);break}Cu(e);break;case 5:Cu(e);break;default:throw Error(o(329))}}return du(e,Ui()),e.callbackNode===t?pu.bind(null,e):null}function vu(e,t){for(t&=~Us,t&=~zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function gu(e){if(0!==(48&Cs))throw Error(o(327));if(Du(),e===Ms&&0!==(e.expiredLanes&Ds)){var t=Ds,n=ku(e,t);0!==(Rs&zs)&&(n=ku(e,t=Ft(e,t)))}else n=ku(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Cs|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(t=zt(e))&&(n=ku(e,t))),1===n)throw n=Ls,wu(e,0),vu(e,t),du(e,Ui()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cu(e),du(e,Ui()),null}function yu(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(Hs(),Wi())}}function mu(e,t){var n=Cs;Cs&=-2,Cs|=8;try{return e(t)}finally{0===(Cs=n)&&(Hs(),Wi())}}function bu(e,t){ui(Ns,Ps),Ps|=t,Rs|=t}function _u(){Ps=Ns.current,si(Ns)}function wu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Vr(n)),null!==Is)for(n=Is.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&vi();break;case 3:Ia(),si(fi),si(ci),Ya();break;case 5:Pa(r);break;case 4:Ia();break;case 13:case 19:si(Na);break;case 10:ea(r);break;case 23:case 24:_u()}n=n.return}Ms=e,Is=Vu(e.current,null),Ds=Ps=Rs=t,js=0,Ls=null,Us=zs=Fs=0}function xu(e,t){for(;;){var n=Is;try{if(Zi(),Ga.current=Co,Za){for(var r=$a.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Za=!1}if(Xa=0,Ja=Qa=$a=null,eo=!1,Es.current=null,null===n||null===n.return){js=1,Ls=t,Is=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ds,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Na.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var g=h.updateQueue;if(null===g){var y=new Set;y.add(l),h.updateQueue=y}else g.add(l);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var m=sa(-1,1);m.tag=2,ua(s,m)}s.lanes|=1;break e}u=void 0,s=t;var b=a.pingCache;if(null===b?(b=a.pingCache=new us,u=new Set,b.set(l,u)):void 0===(u=b.get(l))&&(u=new Set,b.set(l,u)),!u.has(s)){u.add(s);var _=Fu.bind(null,a,l,s);l.then(_,_)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==js&&(js=2),u=os(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,la(h,ls(0,a,t));break e;case 1:a=u;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Xs||!Xs.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,la(h,cs(h,a,t));break e}}h=h.return}while(null!==h)}Eu(n)}catch(T){t=T,Is===n&&null!==n&&(Is=n=n.return);continue}break}}function Tu(){var e=As.current;return As.current=Co,null===e?Co:e}function ku(e,t){var n=Cs;Cs|=16;var r=Tu();for(Ms===e&&Ds===t||wu(e,t);;)try{Ou();break}catch(i){xu(e,i)}if(Zi(),Cs=n,As.current=r,null!==Is)throw Error(o(261));return Ms=null,Ds=0,js}function Ou(){for(;null!==Is;)Au(Is)}function Su(){for(;null!==Is&&!Oi();)Au(Is)}function Au(e){var t=Ws(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?Eu(e):Is=t,Es.current=null}function Eu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=is(n,t,Ps)))return void(Is=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ps)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=as(t)))return n.flags&=2047,void(Is=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Is=t);Is=t=e}while(null!==t);0===js&&(js=5)}function Cu(e){var t=qi();return Vi(99,Mu.bind(null,e,t)),null}function Mu(e,t){do{Du()}while(null!==Qs);if(0!==(48&Cs))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var l=31-Ht(a),c=1<<l;i[l]=0,s[l]=-1,u[l]=-1,a&=~c}if(null!==tu&&0===(24&r)&&tu.has(e)&&tu.delete(e),e===Ms&&(Is=Ms=null,Ds=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Cs,Cs|=32,Es.current=null,Fr=Xt,pr(s=dr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&0!==c.rangeCount){u=c.anchorNode,a=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch(S){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,g=s,y=null;t:for(;;){for(var m;g!==u||0!==a&&3!==g.nodeType||(h=f+a),g!==l||0!==c&&3!==g.nodeType||(d=f+c),3===g.nodeType&&(f+=g.nodeValue.length),null!==(m=g.firstChild);)y=g,g=m;for(;;){if(g===s)break t;if(y===u&&++p===a&&(h=f),y===l&&++v===c&&(d=f),null!==(m=g.nextSibling))break;y=(g=y).parentNode}g=m}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;zr={focusedElem:s,selectionRange:u},Xt=!1,su=null,uu=!1,Ys=r;do{try{Iu()}catch(S){if(null===Ys)throw Error(o(330));Ru(Ys,S),Ys=Ys.nextEffect}}while(null!==Ys);su=null,Ys=r;do{try{for(s=e;null!==Ys;){var b=Ys.flags;if(16&b&&me(Ys.stateNode,""),128&b){var _=Ys.alternate;if(null!==_){var w=_.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:bs(Ys),Ys.flags&=-3;break;case 6:bs(Ys),Ys.flags&=-3,Ts(Ys.alternate,Ys);break;case 1024:Ys.flags&=-1025;break;case 1028:Ys.flags&=-1025,Ts(Ys.alternate,Ys);break;case 4:Ts(Ys.alternate,Ys);break;case 8:xs(s,u=Ys);var x=u.alternate;ys(u),null!==x&&ys(x)}Ys=Ys.nextEffect}}catch(S){if(null===Ys)throw Error(o(330));Ru(Ys,S),Ys=Ys.nextEffect}}while(null!==Ys);if(w=zr,_=dr(),b=w.focusedElem,s=w.selectionRange,_!==b&&b&&b.ownerDocument&&hr(b.ownerDocument.documentElement,b)){null!==s&&pr(b)&&(_=s.start,void 0===(w=s.end)&&(w=_),"selectionStart"in b?(b.selectionStart=_,b.selectionEnd=Math.min(w,b.value.length)):(w=(_=b.ownerDocument||document)&&_.defaultView||window).getSelection&&(w=w.getSelection(),u=b.textContent.length,x=Math.min(s.start,u),s=void 0===s.end?x:Math.min(s.end,u),!w.extend&&x>s&&(u=s,s=x,x=u),u=fr(b,x),a=fr(b,s),u&&a&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((_=_.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),x>s?(w.addRange(_),w.extend(a.node,a.offset)):(_.setEnd(a.node,a.offset),w.addRange(_))))),_=[];for(w=b;w=w.parentNode;)1===w.nodeType&&_.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<_.length;b++)(w=_[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Xt=!!Fr,zr=Fr=null,e.current=n,Ys=r;do{try{for(b=e;null!==Ys;){var T=Ys.flags;if(36&T&&ps(b,Ys.alternate,Ys),128&T){_=void 0;var k=Ys.ref;if(null!==k){var O=Ys.stateNode;switch(Ys.tag){case 5:_=O;break;default:_=O}"function"===typeof k?k(_):k.current=_}}Ys=Ys.nextEffect}}catch(S){if(null===Ys)throw Error(o(330));Ru(Ys,S),Ys=Ys.nextEffect}}while(null!==Ys);Ys=null,ji(),Cs=i}else e.current=n;if($s)$s=!1,Qs=e,Js=t;else for(Ys=r;null!==Ys;)t=Ys.nextEffect,Ys.nextEffect=null,8&Ys.flags&&((T=Ys).sibling=null,T.stateNode=null),Ys=t;if(0===(r=e.pendingLanes)&&(Xs=null),1===r?e===ru?nu++:(nu=0,ru=e):nu=0,n=n.stateNode,wi&&"function"===typeof wi.onCommitFiberRoot)try{wi.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(S){}if(du(e,Ui()),Gs)throw Gs=!1,e=Ks,Ks=null,e;return 0!==(8&Cs)||Wi(),null}function Iu(){for(;null!==Ys;){var e=Ys.alternate;uu||null===su||(0!==(8&Ys.flags)?et(Ys,su)&&(uu=!0):13===Ys.tag&&Os(e,Ys)&&et(Ys,su)&&(uu=!0));var t=Ys.flags;0!==(256&t)&&ds(e,Ys),0===(512&t)||$s||($s=!0,Hi(97,(function(){return Du(),null}))),Ys=Ys.nextEffect}}function Du(){if(90!==Js){var e=97<Js?97:Js;return Js=90,Vi(e,ju)}return!1}function Pu(e,t){Zs.push(t,e),$s||($s=!0,Hi(97,(function(){return Du(),null})))}function Nu(e,t){eu.push(t,e),$s||($s=!0,Hi(97,(function(){return Du(),null})))}function ju(){if(null===Qs)return!1;var e=Qs;if(Qs=null,0!==(48&Cs))throw Error(o(331));var t=Cs;Cs|=32;var n=eu;eu=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(l){if(null===a)throw Error(o(330));Ru(a,l)}}for(n=Zs,Zs=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(l){if(null===a)throw Error(o(330));Ru(a,l)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Cs=t,Wi(),!0}function Lu(e,t,n){ua(e,t=ls(0,t=os(n,t),1)),t=lu(),null!==(e=hu(e,1))&&(Vt(e,1,t),du(e,t))}function Ru(e,t){if(3===e.tag)Lu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Lu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r))){var i=cs(n,e=os(t,e),1);if(ua(n,i),i=lu(),null!==(n=hu(n,1)))Vt(n,1,i),du(n,i);else if("function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Fu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=lu(),e.pingedLanes|=e.suspendedLanes&n,Ms===e&&(Ds&n)===n&&(4===js||3===js&&(62914560&Ds)===Ds&&500>Ui()-Bs?wu(e,0):Us|=n),du(e,t)}function zu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===qi()?1:2:(0===au&&(au=Rs),0===(t=qt(62914560&~au))&&(t=4194304))),n=lu(),null!==(e=hu(e,t))&&(Vt(e,t,n),du(e,n))}function Uu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function qu(e,t,n,r){return new Uu(e,t,n,r)}function Bu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vu(e,t){var n=e.alternate;return null===n?((n=qu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Bu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Wu(n.children,i,a,t);case L:s=8,i|=16;break;case O:s=8,i|=1;break;case S:return(e=qu(12,n,t,8|i)).elementType=S,e.type=S,e.lanes=a,e;case M:return(e=qu(13,n,t,i)).type=M,e.elementType=M,e.lanes=a,e;case I:return(e=qu(19,n,t,i)).elementType=I,e.lanes=a,e;case R:return Yu(n,i,a,t);case F:return(e=qu(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:s=10;break e;case E:s=9;break e;case C:s=11;break e;case D:s=14;break e;case P:s=16,r=null;break e;case N:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=qu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Wu(e,t,n,r){return(e=qu(7,e,r,t)).lanes=n,e}function Yu(e,t,n,r){return(e=qu(23,e,r,t)).elementType=R,e.lanes=n,e}function Gu(e,t,n){return(e=qu(6,e,null,t)).lanes=n,e}function Ku(e,t,n){return(t=qu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function $u(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:T,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Qu(e,t,n,r){var i=t.current,a=lu(),s=cu(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(pi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var l=n.type;if(pi(l)){n=yi(n,l,u);break e}}n=u}else n=li;return null===t.context?t.context=n:t.pendingContext=n,(t=sa(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ua(i,t),fu(i,s,a),s}function Ju(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Zu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function el(e,t){Zu(e,t),(e=e.alternate)&&Zu(e,t)}function tl(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xu(e,t,null!=n&&!0===n.hydrate),t=qu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,aa(t),e[Qr]=n.current,Cr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function nl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function rl(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Ju(o);s.call(e)}}Qu(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tl(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=Ju(o);u.call(e)}}mu((function(){Qu(t,o,e,i)}))}return Ju(o)}function il(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nl(t))throw Error(o(200));return $u(e,t,null,n)}Ws=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||fi.current)No=!0;else{if(0===(n&r)){switch(No=!1,t.tag){case 3:Ho(t),Ha();break;case 5:Da(t);break;case 1:pi(t.type)&&mi(t);break;case 4:Ma(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ui(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Xo(e,t,n):(ui(Na,1&Na.current),null!==(t=ns(e,t,n))?t.sibling:null);ui(Na,1&Na.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return ts(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ui(Na,Na.current),r)break;return null;case 23:case 24:return t.lanes=0,zo(e,t,n)}return ns(e,t,n)}No=0!==(16384&e.flags)}else No=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=di(t,ci.current),na(t,n),i=ro(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,pi(r)){var a=!0;mi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,aa(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&da(t,r,s,e),i.updater=pa,t.stateNode=i,i._reactInternals=t,ma(t,r,e,n),t=Vo(null,t,r,!0,a,n)}else t.tag=0,jo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Bu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===D)return 14}return 2}(i),e=Ki(i,e),a){case 0:t=qo(null,t,i,e,n);break e;case 1:t=Bo(null,t,i,e,n);break e;case 11:t=Lo(null,t,i,e,n);break e;case 14:t=Ro(null,t,i,Ki(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,qo(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 1:return r=t.type,i=t.pendingProps,Bo(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 3:if(Ho(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,oa(e,t),ca(t,r,null,n),(r=t.memoizedState.element)===i)Ha(),t=ns(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Ra=Wr(t.stateNode.containerInfo.firstChild),La=t,a=Fa=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Wa.push(a);for(n=ka(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else jo(e,t,r,n),Ha();t=t.child}return t;case 5:return Da(t),null===e&&qa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,qr(r,i)?s=null:null!==a&&qr(r,a)&&(t.flags|=16),Uo(e,t),jo(e,t,s,n),t.child;case 6:return null===e&&qa(t),null;case 13:return Xo(e,t,n);case 4:return Ma(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ta(t,null,r,n):jo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Lo(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 7:return jo(e,t,t.pendingProps,n),t.child;case 8:case 12:return jo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(ui(Xi,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=sr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!fi.current){t=ns(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&a)){1===u.tag&&((c=sa(-1,n&-n)).tag=2,ua(u,c)),u.lanes|=n,null!==(c=u.alternate)&&(c.lanes|=n),ta(u.return,n),l.lanes|=n;break}c=c.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}jo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,na(t,n),r=r(i=ra(i,a.unstable_observedBits)),t.flags|=1,jo(e,t,r,n),t.child;case 14:return a=Ki(i=t.type,t.pendingProps),Ro(e,t,i,a=Ki(i.type,a),r,n);case 15:return Fo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ki(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pi(r)?(e=!0,mi(t)):e=!1,na(t,n),ga(t,r,i),ma(t,r,i,n),Vo(null,t,r,!0,e,n);case 19:return ts(e,t,n);case 23:case 24:return zo(e,t,n)}throw Error(o(156,t.tag))},tl.prototype.render=function(e){Qu(e,this._internalRoot,null,null)},tl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Qu(null,e,null,(function(){t[Qr]=null}))},tt=function(e){13===e.tag&&(fu(e,4,lu()),el(e,4))},nt=function(e){13===e.tag&&(fu(e,67108864,lu()),el(e,67108864))},rt=function(e){if(13===e.tag){var t=lu(),n=cu(e);fu(e,n,t),el(e,n)}},it=function(e,t){return t()},Ae=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ni(r);if(!i)throw Error(o(90));Q(r),ne(r,i)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Pe=yu,Ne=function(e,t,n,r,i){var a=Cs;Cs|=4;try{return Vi(98,e.bind(null,t,n,r,i))}finally{0===(Cs=a)&&(Hs(),Wi())}},je=function(){0===(49&Cs)&&(function(){if(null!==tu){var e=tu;tu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,du(e,Ui())}))}Wi()}(),Du())},Le=function(e,t){var n=Cs;Cs|=2;try{return e(t)}finally{0===(Cs=n)&&(Hs(),Wi())}};var al={Events:[ei,ti,ni,Ie,De,Du,{current:!1}]},ol={findFiberByHostInstance:Zr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},sl={bundleType:ol.bundleType,version:ol.version,rendererPackageName:ol.rendererPackageName,rendererConfig:ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:ol.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{_i=ul.inject(sl),wi=ul}catch(ge){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=al,t.createPortal=il,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Cs;if(0!==(48&n))return e(t);Cs|=1;try{if(e)return Vi(99,e.bind(null,t))}finally{Cs=n,Wi()}},t.hydrate=function(e,t,n){if(!nl(t))throw Error(o(200));return rl(null,e,t,!0,n)},t.render=function(e,t,n){if(!nl(t))throw Error(o(200));return rl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nl(e))throw Error(o(40));return!!e._reactRootContainer&&(mu((function(){rl(null,null,e,!1,(function(){e._reactRootContainer=null,e[Qr]=null}))})),!0)},t.unstable_batchedUpdates=yu,t.unstable_createPortal=function(e,t){return il(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nl(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return rl(e,t,n,!1,r)},t.version="17.0.2"},function(e,t,n){"use strict";e.exports=n(84)},function(e,t,n){"use strict";var r,i,a,o;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,l=u.now();t.unstable_now=function(){return u.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,f=null,h=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};r=function(e){null!==c?setTimeout(r,0,e):(c=e,setTimeout(h,0))},i=function(e,t){f=setTimeout(e,t)},a=function(){clearTimeout(f)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,y=null,m=-1,b=5,_=0;t.unstable_shouldYield=function(){return t.unstable_now()>=_},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,x=w.port2;w.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();_=e+b;try{y(!0,e)?x.postMessage(null):(g=!1,y=null)}catch(n){throw x.postMessage(null),n}}else g=!1},r=function(e){y=e,g||(g=!0,x.postMessage(null))},i=function(e,n){m=d((function(){e(t.unstable_now())}),n)},a=function(){p(m),m=-1}}function T(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function k(e){return void 0===(e=e[0])?null:e}function O(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>S(o,n))void 0!==u&&0>S(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>S(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var A=[],E=[],C=1,M=null,I=3,D=!1,P=!1,N=!1;function j(e){for(var t=k(E);null!==t;){if(null===t.callback)O(E);else{if(!(t.startTime<=e))break;O(E),t.sortIndex=t.expirationTime,T(A,t)}t=k(E)}}function L(e){if(N=!1,j(e),!P)if(null!==k(A))P=!0,r(R);else{var t=k(E);null!==t&&i(L,t.startTime-e)}}function R(e,n){P=!1,N&&(N=!1,a()),D=!0;var r=I;try{for(j(n),M=k(A);null!==M&&(!(M.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=M.callback;if("function"===typeof o){M.callback=null,I=M.priorityLevel;var s=o(M.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?M.callback=s:M===k(A)&&O(A),j(n)}else O(A);M=k(A)}if(null!==M)var u=!0;else{var l=k(E);null!==l&&i(L,l.startTime-n),u=!1}return u}finally{M=null,I=r,D=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||D||(P=!0,r(R))},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return k(A)},t.unstable_next=function(e){switch(I){case 1:case 2:case 3:var t=3;break;default:t=I}var n=I;I=t;try{return e()}finally{I=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=I;I=e;try{return t()}finally{I=n}},t.unstable_scheduleCallback=function(e,n,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:n,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,T(E,e),null===k(A)&&e===k(E)&&(N?a():N=!0,i(L,o-s))):(e.sortIndex=u,T(A,e),P||D||(P=!0,r(R))),e},t.unstable_wrapCallback=function(e){var t=I;return function(){var n=I;I=t;try{return e.apply(this,arguments)}finally{I=n}}}},function(e,t,n){"use strict";n(54);var r=n(2),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:o.current}}t.jsx=l,t.jsxs=l},function(e,t,n){"use strict";var r=60103,i=60106,a=60107,o=60108,s=60114,u=60109,l=60110,c=60112,f=60113,h=60120,d=60115,p=60116,v=60121,g=60122,y=60117,m=60129,b=60131;if("function"===typeof Symbol&&Symbol.for){var _=Symbol.for;r=_("react.element"),i=_("react.portal"),a=_("react.fragment"),o=_("react.strict_mode"),s=_("react.profiler"),u=_("react.provider"),l=_("react.context"),c=_("react.forward_ref"),f=_("react.suspense"),h=_("react.suspense_list"),d=_("react.memo"),p=_("react.lazy"),v=_("react.block"),g=_("react.server.block"),y=_("react.fundamental"),m=_("react.debug_trace_mode"),b=_("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case f:case h:return e;default:switch(e=e&&e.$$typeof){case l:case c:case p:case d:case u:return e;default:return t}}case i:return t}}}var x=u,T=r,k=c,O=a,S=p,A=d,E=i,C=s,M=o,I=f;t.ContextConsumer=l,t.ContextProvider=x,t.Element=T,t.ForwardRef=k,t.Fragment=O,t.Lazy=S,t.Memo=A,t.Portal=E,t.Profiler=C,t.StrictMode=M,t.Suspense=I,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===c},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===p},t.isMemo=function(e){return w(e)===d},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===s||e===m||e===o||e===f||e===h||e===b||"object"===typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===d||e.$$typeof===u||e.$$typeof===l||e.$$typeof===c||e.$$typeof===y||e.$$typeof===v||e[0]===g)},t.typeOf=w},function(e,t,n){"use strict";e.exports=n(88)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case h:case o:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case d:case y:case g:case l:return e;default:return t}}case a:return t}}}function T(e){return x(e)===h}t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=l,t.Element=i,t.ForwardRef=d,t.Fragment=o,t.Lazy=y,t.Memo=g,t.Portal=a,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return T(e)||x(e)===f},t.isConcurrentMode=T,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return x(e)===d},t.isFragment=function(e){return x(e)===o},t.isLazy=function(e){return x(e)===y},t.isMemo=function(e){return x(e)===g},t.isPortal=function(e){return x(e)===a},t.isProfiler=function(e){return x(e)===u},t.isStrictMode=function(e){return x(e)===s},t.isSuspense=function(e){return x(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===u||e===s||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===g||e.$$typeof===l||e.$$typeof===c||e.$$typeof===d||e.$$typeof===b||e.$$typeof===_||e.$$typeof===w||e.$$typeof===m)},t.typeOf=x},function(e,t,n){"use strict";var r=n(90);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";e.exports=n(93)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case h:case o:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case d:case y:case g:case l:return e;default:return t}}case a:return t}}}function T(e){return x(e)===h}t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=l,t.Element=i,t.ForwardRef=d,t.Fragment=o,t.Lazy=y,t.Memo=g,t.Portal=a,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return T(e)||x(e)===f},t.isConcurrentMode=T,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return x(e)===d},t.isFragment=function(e){return x(e)===o},t.isLazy=function(e){return x(e)===y},t.isMemo=function(e){return x(e)===g},t.isPortal=function(e){return x(e)===a},t.isProfiler=function(e){return x(e)===u},t.isStrictMode=function(e){return x(e)===s},t.isSuspense=function(e){return x(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===u||e===s||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===g||e.$$typeof===l||e.$$typeof===c||e.$$typeof===d||e.$$typeof===b||e.$$typeof===_||e.$$typeof===w||e.$$typeof===m)},t.typeOf=x},function(e,t,n){"use strict";var r=n(24),i=n(63),a=n(95),o=n(69);function s(e){var t=new a(e),n=i(a.prototype.request,t);return r.extend(n,a.prototype,t),r.extend(n,t),n}var u=s(n(66));u.Axios=a,u.create=function(e){return s(o(u.defaults,e))},u.Cancel=n(70),u.CancelToken=n(108),u.isCancel=n(65),u.all=function(e){return Promise.all(e)},u.spread=n(109),u.isAxiosError=n(110),e.exports=u,e.exports.default=u},function(e,t,n){"use strict";var r=n(24),i=n(64),a=n(96),o=n(97),s=n(69);function u(e){this.defaults=e,this.interceptors={request:new a,response:new a}}u.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[o,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},u.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=u},function(e,t,n){"use strict";var r=n(24);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,n){"use strict";var r=n(24),i=n(98),a=n(65),o=n(66);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return s(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(s(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(24);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t,n){"use strict";var r=n(24);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(68);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(24);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(104),i=n(105);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(24),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},function(e,t,n){"use strict";var r=n(24);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(70);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==d(e)&&"function"!==typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(2)),i=f(n(7)),a=f(n(113)),o=f(n(32)),s=f(n(130)),u=f(n(131)),l=f(n(114)),c=n(35);function f(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function d(e){return(d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){return!t||"object"!==d(t)&&"function"!==typeof t?T(e):t}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S="react-date-picker",A=["mousedown","focusin","touchstart"],E=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(f,e);var t,n,i,c=w(f);function f(){var e;m(this,f);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return O(T(e=c.call.apply(c,[this].concat(n))),"state",{}),O(T(e),"onOutsideAction",(function(t){e.wrapper&&!e.wrapper.contains(t.target)&&e.closeCalendar()})),O(T(e),"onChange",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.props.closeCalendar,r=e.props.onChange;n&&e.closeCalendar(),r&&r(t)})),O(T(e),"onFocus",(function(t){var n=e.props,r=n.disabled,i=n.onFocus,a=n.openCalendarOnFocus;i&&i(t),r||a&&e.openCalendar()})),O(T(e),"openCalendar",(function(){e.setState({isOpen:!0})})),O(T(e),"closeCalendar",(function(){e.setState((function(e){return e.isOpen?{isOpen:!1}:null}))})),O(T(e),"toggleCalendar",(function(){e.setState((function(e){return{isOpen:!e.isOpen}}))})),O(T(e),"stopPropagation",(function(e){return e.stopPropagation()})),O(T(e),"clear",(function(){return e.onChange(null)})),e}return t=f,i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.isOpen!==t.isOpenProps?{isOpen:e.isOpen,isOpenProps:e.isOpen}:null}}],(n=[{key:"componentDidMount",value:function(){this.handleOutsideActionListeners()}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.isOpen,r=this.props,i=r.onCalendarClose,a=r.onCalendarOpen;if(n!==t.isOpen){this.handleOutsideActionListeners();var o=n?a:i;o&&o()}}},{key:"componentWillUnmount",value:function(){this.handleOutsideActionListeners(!1)}},{key:"handleOutsideActionListeners",value:function(e){var t=this,n=this.state.isOpen,r=("undefined"!==typeof e?e:n)?"addEventListener":"removeEventListener";A.forEach((function(e){return document[r](e,t.onOutsideAction)}))}},{key:"renderInputs",value:function(){var e=this.props,t=e.autoFocus,n=e.calendarAriaLabel,i=e.calendarIcon,a=e.clearAriaLabel,o=e.clearIcon,s=e.dayAriaLabel,u=e.dayPlaceholder,c=e.disableCalendar,f=e.disabled,h=e.format,d=e.locale,p=e.maxDate,y=e.maxDetail,m=e.minDate,b=e.monthAriaLabel,_=e.monthPlaceholder,w=e.name,x=e.nativeInputAriaLabel,T=e.required,k=e.returnValue,O=e.showLeadingZeros,A=e.value,E=e.yearAriaLabel,C=e.yearPlaceholder,M=this.state.isOpen,I=g([].concat(A),1)[0],D={dayAriaLabel:s,monthAriaLabel:b,nativeInputAriaLabel:x,yearAriaLabel:E},P={dayPlaceholder:u,monthPlaceholder:_,yearPlaceholder:C};return r.default.createElement("div",{className:"".concat(S,"__wrapper")},r.default.createElement(l.default,v({},D,P,{autoFocus:t,className:"".concat(S,"__inputGroup"),disabled:f,format:h,isCalendarOpen:M,locale:d,maxDate:p,maxDetail:y,minDate:m,name:w,onChange:this.onChange,required:T,returnValue:k,showLeadingZeros:O,value:I})),null!==o&&r.default.createElement("button",{"aria-label":a,className:"".concat(S,"__clear-button ").concat(S,"__button"),disabled:f,onClick:this.clear,onFocus:this.stopPropagation,type:"button"},o),null!==i&&!c&&r.default.createElement("button",{"aria-label":n,className:"".concat(S,"__calendar-button ").concat(S,"__button"),disabled:f,onBlur:this.resetValue,onClick:this.toggleCalendar,onFocus:this.stopPropagation,type:"button"},i))}},{key:"renderCalendar",value:function(){var e=this.props.disableCalendar,t=this.state.isOpen;if(null===t||e)return null;var n=this.props,i=n.calendarClassName,a=(n.className,n.onChange,n.value),l=p(n,["calendarClassName","className","onChange","value"]),c="".concat(S,"__calendar");return r.default.createElement(u.default,null,r.default.createElement("div",{className:(0,o.default)(c,"".concat(c,"--").concat(t?"open":"closed"))},r.default.createElement(s.default,v({className:i,onChange:this.onChange,value:a||null},l))))}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,i=t.disabled,a=this.state.isOpen;return r.default.createElement("div",v({className:(0,o.default)(S,"".concat(S,"--").concat(a?"open":"closed"),"".concat(S,"--").concat(i?"disabled":"enabled"),n)},this.eventProps,{onFocus:this.onFocus,ref:function(t){t&&(e.wrapper=t)}}),this.renderInputs(),this.renderCalendar())}},{key:"eventProps",get:function(){return(0,a.default)(this.props)}}])&&b(t.prototype,n),i&&b(t,i),f}(r.PureComponent);t.default=E;var C={xmlns:"http://www.w3.org/2000/svg",width:19,height:19,viewBox:"0 0 19 19",stroke:"black",strokeWidth:2},M=r.default.createElement("svg",v({},C,{className:"".concat(S,"__calendar-button__icon ").concat(S,"__button__icon")}),r.default.createElement("rect",{fill:"none",height:"15",width:"15",x:"2",y:"2"}),r.default.createElement("line",{x1:"6",x2:"6",y1:"0",y2:"4"}),r.default.createElement("line",{x1:"13",x2:"13",y1:"0",y2:"4"})),I=r.default.createElement("svg",v({},C,{className:"".concat(S,"__clear-button__icon ").concat(S,"__button__icon")}),r.default.createElement("line",{x1:"4",x2:"15",y1:"4",y2:"15"}),r.default.createElement("line",{x1:"15",x2:"4",y1:"4",y2:"15"}));E.defaultProps={calendarIcon:M,clearIcon:I,closeCalendar:!0,isOpen:null,openCalendarOnFocus:!0,returnValue:"start"};var D=i.default.oneOfType([i.default.string,i.default.instanceOf(Date)]);E.propTypes={autoFocus:i.default.bool,calendarAriaLabel:i.default.string,calendarClassName:i.default.oneOfType([i.default.string,i.default.arrayOf(i.default.string)]),calendarIcon:i.default.node,className:i.default.oneOfType([i.default.string,i.default.arrayOf(i.default.string)]),clearAriaLabel:i.default.string,clearIcon:i.default.node,closeCalendar:i.default.bool,dayAriaLabel:i.default.string,dayPlaceholder:i.default.string,disableCalendar:i.default.bool,disabled:i.default.bool,format:i.default.string,isOpen:i.default.bool,locale:i.default.string,maxDate:c.isMaxDate,maxDetail:i.default.oneOf(["century","decade","year","month"]),minDate:c.isMinDate,monthAriaLabel:i.default.string,monthPlaceholder:i.default.string,name:i.default.string,nativeInputAriaLabel:i.default.string,onCalendarClose:i.default.func,onCalendarOpen:i.default.func,onChange:i.default.func,onFocus:i.default.func,openCalendarOnFocus:i.default.bool,required:i.default.bool,returnValue:i.default.oneOf(["start","end","range"]),showLeadingZeros:i.default.bool,value:i.default.oneOfType([D,i.default.arrayOf(D)]),yearAriaLabel:i.default.string,yearPlaceholder:i.default.string}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.focusEvents=t.keyboardEvents=t.touchEvents=t.mouseEvents=void 0;var r=["onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"];t.mouseEvents=r;var i=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"];t.touchEvents=i;var a=["onKeyDown","onKeyPress","onKeyUp"];t.keyboardEvents=a;var o=["onFocus","onBlur"];t.focusEvents=o;var s=function(e,t){var n={};return[].concat(r,i,a,o).forEach((function(r){e[r]&&(n[r]=function(n){return t?e[r](n,t(r)):e[r](n)})})),n};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==m(e)&&"function"!==typeof e)return{default:e};var t=y();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(2)),i=g(n(7)),a=n(9),o=g(n(115)),s=g(n(116)),u=g(n(118)),l=g(n(119)),c=g(n(120)),f=g(n(121)),h=n(71),d=n(122),p=n(35),v=n(46);function g(e){return e&&e.__esModule?e:{default:e}}function y(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return y=function(){return e},e}function m(e){return(m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||M(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var i=A(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==m(t)&&"function"!==typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||M(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){if(e){if("string"===typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var D=new Date;D.setFullYear(1,0,1),D.setHours(0,0,0,0);var P=new Date(864e13),N=["century","decade","year","month"],j=[].concat(C(N.slice(1)),["day"]);function L(e,t){return e&&!t||!e&&t||e&&t&&e.getTime()!==t.getTime()}function R(e){return j[N.indexOf(e)]}function F(e,t){if(!e)return null;var n=Array.isArray(e)&&2===e.length?e[t]:e;if(!n)return null;var r=function(e){return e instanceof Date?e:new Date(e)}(n);if(isNaN(r.getTime()))throw new Error("Invalid date: ".concat(e));return r}function z(e,t){var n=e.value,r=e.minDate,i=e.maxDate,a=e.maxDetail,o=F(n,t);if(!o)return null;var s=R(a),u=[d.getBegin,d.getEnd][t](s,o);return(0,v.between)(u,r,i)}var U=function(e){return z(e,0)},q=function(e){return z(e,1)},B=function(e){var t=e.value;return Array.isArray(t)?t:[U,q].map((function(t){return t(e)}))};function V(e){return"true"===e.getAttribute("data-input")}function H(e,t){var n=e;do{n=n[t]}while(n&&!V(n));return n}function W(e){e&&e.focus()}var Y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(p,e);var t,n,i,d=k(p);function p(){var e;w(this,p);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return E(S(e=d.call.apply(d,[this].concat(n))),"state",{year:null,month:null,day:null}),E(S(e),"onClick",(function(e){e.target===e.currentTarget&&W(e.target.children[1])})),E(S(e),"onKeyDown",(function(t){switch(t.key){case"ArrowLeft":case"ArrowRight":case e.divider:t.preventDefault(),W(H(t.target,"ArrowLeft"===t.key?"previousElementSibling":"nextElementSibling"))}})),E(S(e),"onKeyUp",(function(e){var t=e.key,n=e.target;if(!isNaN(parseInt(t,10))){var r=n.value,i=n.getAttribute("max");if(10*r>i||r.length>=i.length){W(H(n,"nextElementSibling"))}}})),E(S(e),"onChange",(function(t){var n=t.target,r=n.name,i=n.value;e.setState(E({},r,i),e.onChangeExternal)})),E(S(e),"onChangeNative",(function(t){var n=e.props.onChange,r=t.target.value;n&&n(function(){if(!r)return null;var e=_(r.split("-"),3),t=e[0],n=e[1],i=e[2],a=parseInt(t,10),o=parseInt(n,10)-1||0,s=parseInt(i,10)||1,u=new Date;return u.setFullYear(a,o,s),u.setHours(0,0,0,0),u}(),!1)})),E(S(e),"onChangeExternal",(function(){var t=e.props.onChange;if(t){var n=[e.dayInput,e.monthInput,e.yearInput].filter(Boolean),r={};if(n.forEach((function(e){r[e.name]=e.value})),n.every((function(e){return!e.value})))t(null,!1);else if(n.every((function(e){return e.value&&e.validity.valid}))){var i=parseInt(r.year,10),a=parseInt(r.month,10)-1||0,o=parseInt(r.day||1,10),s=new Date;s.setFullYear(i,a,o),s.setHours(0,0,0,0),t(e.getProcessedValue(s),!1)}}})),E(S(e),"renderDay",(function(t,n){var i=e.props,a=i.autoFocus,o=i.dayAriaLabel,u=i.dayPlaceholder,l=i.showLeadingZeros,c=e.state,f=c.day,h=c.month,d=c.year;if(t&&t.length>2)throw new Error("Unsupported token: ".concat(t));var p=t&&2===t.length;return r.default.createElement(s.default,b({key:"day"},e.commonInputProps,{ariaLabel:o,autoFocus:0===n&&a,month:h,placeholder:u,showLeadingZeros:p||l,value:f,year:d}))})),E(S(e),"renderMonth",(function(t,n){var i=e.props,a=i.autoFocus,o=i.locale,s=i.monthAriaLabel,c=i.monthPlaceholder,f=i.showLeadingZeros,h=e.state,d=h.month,p=h.year;if(t&&t.length>4)throw new Error("Unsupported token: ".concat(t));if(t.length>2)return r.default.createElement(l.default,b({key:"month"},e.commonInputProps,{ariaLabel:s,autoFocus:0===n&&a,locale:o,placeholder:c,short:3===t.length,value:d,year:p}));var v=t&&2===t.length;return r.default.createElement(u.default,b({key:"month"},e.commonInputProps,{ariaLabel:s,autoFocus:0===n&&a,placeholder:c,showLeadingZeros:v||f,value:d,year:p}))})),E(S(e),"renderYear",(function(t,n){var i=e.props,a=i.autoFocus,o=i.yearAriaLabel,s=i.yearPlaceholder,u=e.state.year;return r.default.createElement(c.default,b({key:"year"},e.commonInputProps,{ariaLabel:o,autoFocus:0===n&&a,placeholder:s,value:u,valueType:e.valueType}))})),e}return t=p,i=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.minDate,r=e.maxDate,i=e.maxDetail,o={};e.isCalendarOpen!==t.isCalendarOpen&&(o.isCalendarOpen=e.isCalendarOpen);var s=U({value:e.value,minDate:n,maxDate:r,maxDetail:i}),u=[s,t.value];return(o.isCalendarOpen||L.apply(void 0,C(u.map((function(e){return U({value:e,minDate:n,maxDate:r,maxDetail:i})}))))||L.apply(void 0,C(u.map((function(e){return q({value:e,minDate:n,maxDate:r,maxDetail:i})})))))&&(s?(o.year=(0,a.getYear)(s).toString(),o.month=(0,a.getMonthHuman)(s).toString(),o.day=(0,a.getDate)(s).toString()):(o.year=null,o.month=null,o.day=null),o.value=s),o}}],(n=[{key:"getProcessedValue",value:function(e){var t=this.props,n=t.minDate,r=t.maxDate,i=t.maxDetail,a=t.returnValue;return function(){switch(a){case"start":return U;case"end":return q;case"range":return B;default:throw new Error("Invalid returnValue.")}}()({value:e,minDate:n,maxDate:r,maxDetail:i})}},{key:"renderCustomInputs",value:function(){var e=this.placeholder,t=this.props.format;return function(e,t,n){var i=[],a=new RegExp(Object.keys(t).map((function(e){return"".concat(e,"+")})).join("|"),"g"),s=e.match(a);return e.split(a).reduce((function(e,a,u){var l=a&&r.default.createElement(o.default,{key:"separator_".concat(u)},a),c=[].concat(C(e),[l]),f=s&&s[u];if(f){var h=t[f]||t[Object.keys(t).find((function(e){return f.match(e)}))];!n&&i.includes(h)?c.push(f):(c.push(h(f,u)),i.push(h))}return c}),[])}(e,{d:this.renderDay,M:this.renderMonth,y:this.renderYear},"undefined"!==typeof t)}},{key:"renderNativeInput",value:function(){var e=this.props,t=e.disabled,n=e.maxDate,i=e.minDate,a=e.name,o=e.nativeInputAriaLabel,s=e.required,u=this.state.value;return r.default.createElement(f.default,{key:"date",ariaLabel:o,disabled:t,maxDate:n||P,minDate:i||D,name:a,onChange:this.onChangeNative,required:s,value:u,valueType:this.valueType})}},{key:"render",value:function(){var e=this.props.className;return r.default.createElement("div",{className:e,onClick:this.onClick},this.renderNativeInput(),this.renderCustomInputs())}},{key:"formatDate",get:function(){var e=this.props.maxDetail,t={year:"numeric"},n=N.indexOf(e);return n>=2&&(t.month="numeric"),n>=3&&(t.day="numeric"),(0,h.getFormatter)(t)}},{key:"divider",get:function(){var e=this.placeholder.match(/[^0-9a-z]/i);return e?e[0]:null}},{key:"placeholder",get:function(){var e=this.props,t=e.format,n=e.locale;if(t)return t;var r=new Date(2017,11,11),i=this.formatDate(n,r),a=["y","M","d"],o=i;return["year","month","day"].forEach((function(e,t){var i,s,u=(i=e,s=r,(0,h.getFormatter)(E({useGrouping:!1},i,"numeric"))(n,s).match(/\d{1,}/)),l=a[t];o=o.replace(u,l)})),o}},{key:"commonInputProps",get:function(){var e=this,t=this.props,n=t.className,r=t.disabled,i=t.isCalendarOpen,a=t.maxDate,o=t.minDate,s=t.required;return{className:n,disabled:r,maxDate:a||P,minDate:o||D,onChange:this.onChange,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,required:s||i,itemRef:function(t,n){e["".concat(n,"Input")]=t}}}},{key:"valueType",get:function(){return R(this.props.maxDetail)}}])&&x(t.prototype,n),i&&x(t,i),p}(r.PureComponent);t.default=Y,Y.defaultProps={maxDetail:"month",name:"date",returnValue:"start"};var G=i.default.oneOfType([i.default.string,i.default.instanceOf(Date)]);Y.propTypes={autoFocus:i.default.bool,className:i.default.string.isRequired,dayAriaLabel:i.default.string,dayPlaceholder:i.default.string,disabled:i.default.bool,format:i.default.string,isCalendarOpen:i.default.bool,locale:i.default.string,maxDate:p.isMaxDate,maxDetail:i.default.oneOf(N),minDate:p.isMinDate,monthAriaLabel:i.default.string,monthPlaceholder:i.default.string,name:i.default.string,nativeInputAriaLabel:i.default.string,onChange:i.default.func,required:i.default.bool,returnValue:i.default.oneOf(["start","end","range"]),showLeadingZeros:i.default.bool,value:i.default.oneOfType([G,i.default.arrayOf(G)]),yearAriaLabel:i.default.string,yearPlaceholder:i.default.string}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=a(n(2)),i=a(n(7));function a(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.children;return r.default.createElement("span",{className:"react-date-picker__inputGroup__divider"},t)}o.propTypes={children:i.default.node}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var r=l(n(2)),i=l(n(7)),a=n(9),o=l(n(55)),s=n(35),u=n(46);function l(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function h(e){var t=e.maxDate,n=e.minDate,i=e.month,s=e.year,l=f(e,["maxDate","minDate","month","year"]),h=i?(0,a.getDaysInMonth)(new Date(s,i-1,1)):31;function d(e){return e&&s===(0,a.getYear)(e).toString()&&i===(0,a.getMonthHuman)(e).toString()}var p=(0,u.safeMin)(h,d(t)&&(0,a.getDate)(t)),v=(0,u.safeMax)(1,d(n)&&(0,a.getDate)(n));return r.default.createElement(o.default,c({max:p,min:v,name:"day"},l))}h.propTypes={ariaLabel:i.default.string,className:i.default.string.isRequired,disabled:i.default.bool,itemRef:i.default.func,maxDate:s.isMaxDate,minDate:s.isMinDate,month:i.default.string,onChange:i.default.func,onKeyDown:i.default.func,onKeyUp:i.default.func,placeholder:i.default.string,required:i.default.bool,showLeadingZeros:i.default.bool,value:i.default.string,year:i.default.string}},function(e,t,n){"use strict";n.r(t),n.d(t,"getFontShorthand",(function(){return i})),n.d(t,"measureText",(function(){return a})),n.d(t,"updateInputWidth",(function(){return o}));var r=["normal","small-caps"];function i(e){var t=window.getComputedStyle(e);if(t.font)return t.font;if(!(""!==t["font-family"]))return"";var n=r.includes(t["font-variant"])?t["font-variant"]:"normal";return"".concat(t["font-style"]," ").concat(n," ").concat(t["font-weight"]," ").concat(t["font-size"]," / ").concat(t["line-height"]," ").concat(t["font-family"])}function a(e,t){var n=(a.canvas||(a.canvas=document.createElement("canvas"))).getContext("2d");if(!n)return null;n.font=t;var r=n.measureText(e).width;return Math.ceil(r)}function o(e){if("undefined"===typeof window)return null;var t=i(e),n=a(e.value||e.placeholder,t);return null===n?null:(e.style.width="".concat(n,"px"),n)}t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var r=l(n(2)),i=l(n(7)),a=n(9),o=l(n(55)),s=n(35),u=n(46);function l(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function h(e){var t=e.maxDate,n=e.minDate,i=e.year,s=f(e,["maxDate","minDate","year"]);function l(e){return e&&i===(0,a.getYear)(e).toString()}var h=(0,u.safeMin)(12,l(t)&&(0,a.getMonthHuman)(t)),d=(0,u.safeMax)(1,l(n)&&(0,a.getMonthHuman)(n));return r.default.createElement(o.default,c({max:h,min:d,name:"month"},s))}h.propTypes={ariaLabel:i.default.string,className:i.default.string.isRequired,disabled:i.default.bool,itemRef:i.default.func,maxDate:s.isMaxDate,minDate:s.isMinDate,onChange:i.default.func,onKeyDown:i.default.func,onKeyUp:i.default.func,placeholder:i.default.string,required:i.default.bool,showLeadingZeros:i.default.bool,value:i.default.string,year:i.default.string}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var r=c(n(2)),i=c(n(7)),a=c(n(32)),o=n(9),s=n(71),u=n(35),l=n(46);function c(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function v(e){var t=e.ariaLabel,n=e.className,i=e.itemRef,u=e.locale,c=e.maxDate,d=e.minDate,v=e.placeholder,g=void 0===v?"--":v,y=e.short,m=e.value,b=e.year,_=p(e,["ariaLabel","className","itemRef","locale","maxDate","minDate","placeholder","short","value","year"]);function w(e){return e&&b===(0,o.getYear)(e).toString()}var x=(0,l.safeMin)(12,w(c)&&(0,o.getMonthHuman)(c)),T=(0,l.safeMax)(1,w(d)&&(0,o.getMonthHuman)(d)),k=h(Array(12)).map((function(e,t){return new Date(2019,t,1)})),O="month",S=y?s.formatShortMonth:s.formatMonth;return r.default.createElement("select",f({"aria-label":t,className:(0,a.default)("".concat(n,"__input"),"".concat(n,"__").concat(O)),"data-input":"true",name:O,ref:function(e){i&&i(e,O)},value:null!==m?m:""},_),!m&&r.default.createElement("option",{value:""},g),k.map((function(e){var t=(0,o.getMonthHuman)(e),n=t<T||t>x;return r.default.createElement("option",{key:t,disabled:n,value:t},S(u,e))})))}v.propTypes={ariaLabel:i.default.string,className:i.default.string.isRequired,disabled:i.default.bool,itemRef:i.default.func,locale:i.default.string,maxDate:u.isMaxDate,minDate:u.isMinDate,onChange:i.default.func,onKeyDown:i.default.func,onKeyUp:i.default.func,placeholder:i.default.string,required:i.default.bool,short:i.default.bool,value:i.default.string,year:i.default.string}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var r=l(n(2)),i=l(n(7)),a=n(9),o=l(n(55)),s=n(35),u=n(46);function l(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function h(e){var t=e.maxDate,n=e.minDate,i=e.placeholder,s=void 0===i?"----":i,l=e.valueType,h=f(e,["maxDate","minDate","placeholder","valueType"]),d=(0,u.safeMin)(275760,t&&(0,a.getYear)(t)),p=(0,u.safeMax)(1,n&&(0,a.getYear)(n)),v="century"===l?10:1;return r.default.createElement(o.default,c({max:d,min:p,name:"year",placeholder:s,step:v},h))}h.propTypes={ariaLabel:i.default.string,className:i.default.string.isRequired,disabled:i.default.bool,itemRef:i.default.func,maxDate:s.isMaxDate,minDate:s.isMinDate,onChange:i.default.func,onKeyDown:i.default.func,onKeyUp:i.default.func,placeholder:i.default.string,required:i.default.bool,value:i.default.string,valueType:s.isValueType}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=s(n(2)),i=s(n(7)),a=n(9),o=n(35);function s(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.ariaLabel,n=e.disabled,i=e.maxDate,o=e.minDate,s=e.name,u=e.onChange,l=e.required,c=e.value,f=e.valueType,h=function(){switch(f){case"decade":case"year":return"number";case"month":return"month";case"day":return"date";default:throw new Error("Invalid valueType.")}}(),d=function(){switch(f){case"century":case"decade":case"year":return a.getYear;case"month":return a.getISOLocalMonth;case"day":return a.getISOLocalDate;default:throw new Error("Invalid valueType.")}}();return r.default.createElement("input",{"aria-label":t,disabled:n,max:i?d(i):null,min:o?d(o):null,name:s,onChange:u,onFocus:function(e){e.stopPropagation()},required:l,style:{visibility:"hidden",position:"absolute",zIndex:"-999"},type:h,value:c?d(c):""})}u.propTypes={ariaLabel:i.default.string,disabled:i.default.bool,maxDate:o.isMaxDate,minDate:o.isMinDate,name:i.default.string,onChange:i.default.func,required:i.default.bool,value:i.default.oneOfType([i.default.string,i.default.instanceOf(Date)]),valueType:o.isValueType}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBegin=function(e,t){switch(e){case"century":return(0,r.getCenturyStart)(t);case"decade":return(0,r.getDecadeStart)(t);case"year":return(0,r.getYearStart)(t);case"month":return(0,r.getMonthStart)(t);case"day":return(0,r.getDayStart)(t);default:throw new Error("Invalid rangeType: ".concat(e))}},t.getEnd=function(e,t){switch(e){case"century":return(0,r.getCenturyEnd)(t);case"decade":return(0,r.getDecadeEnd)(t);case"year":return(0,r.getYearEnd)(t);case"month":return(0,r.getMonthEnd)(t);case"day":return(0,r.getDayEnd)(t);default:throw new Error("Invalid rangeType: ".concat(e))}};var r=n(9)},function(e,t,n){},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(I){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),o=new E(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return M()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=O(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function g(){}function y(){}function m(){}var b={};b[a]=function(){return this};var _=Object.getPrototypeOf,w=_&&_(_(C([])));w&&w!==n&&r.call(w,a)&&(b=w);var x=m.prototype=g.prototype=Object.create(b);function T(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(i,a,o,s){var u=c(e[i],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function O(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function C(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:M}}function M(){return{value:t,done:!0}}return y.prototype=x.constructor=m,m.constructor=y,y.displayName=u(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},T(k.prototype),k.prototype[o]=function(){return this},e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},T(x),u(x,s,"Generator"),x[a]=function(){return this},x.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(u&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";(function(e){var t=n(10);(function(){var n,r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};var i=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof e&&e,t];for(var n=0;n<t.length;++n){var r=t[n];if(r&&r.Math==Math)return r}return globalThis}(this);function a(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function o(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:a(e)}}!function(e,t){if(t){var n=i;e=e.split(".");for(var a=0;a<e.length-1;a++){var o=e[a];o in n||(n[o]={}),n=n[o]}(t=t(a=n[e=e[e.length-1]]))!=a&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var a=i.setTimeout;n.prototype.c=function(e){a(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){a(n)}}:t}var i,a,o=new t((function(e,t){i=e,a=t}));return this.Ra(r(e,i),r(n,a)),o},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=o(e),a=i.next();!a.done;a=i.next())r(a.value).Ra(t,n)}))},t.all=function(e){var n=o(e),i=n.next();return i.done?r([]):new t((function(e,t){function a(t){return function(n){o[t]=n,0==--s&&e(o)}}var o=[],s=0;do{o.push(void 0),s++,r(i.value).Ra(a(o.length-1),t),i=n.next()}while(!i.done)}))},t}));var s=s||{},u=this||self,l=/^[\w+/_-]+[=]{0,2}$/,c=null;function f(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&l.test(e)?e:""}function h(){}function d(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function p(e){var t=d(e);return"array"==t||"object"==t&&"number"==typeof e.length}function v(e){return"function"==d(e)}function g(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function y(e){return Object.prototype.hasOwnProperty.call(e,m)&&e[m]||(e[m]=++b)}var m="closure_uid_"+(1e9*Math.random()>>>0),b=0;function _(e,t,n){return e.call.apply(e.bind,arguments)}function w(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function x(e,t,n){return(x=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:w).apply(null,arguments)}function T(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var k=Date.now;function O(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function S(e){return e}function A(e,t,n){this.code=M+e,this.message=t||I[e]||"",this.a=n||null}function E(e){var t=e&&e.code;return t?new A(t.substring(M.length),e.message,e.serverResponse):null}O(A,Error),A.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},A.prototype.toJSON=function(){return this.w()};var C,M="auth/",I={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},D={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function P(e){for(var t in D)if(D[t].id===e)return{firebaseEndpoint:(e=D[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function N(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function j(e){if(Error.captureStackTrace)Error.captureStackTrace(this,j);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function L(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");j.call(this,n+e[r])}function R(e,t){throw new L("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function F(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function z(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function U(){this.b=this.a=null}C=P("__EID__")?"__EID__":void 0,O(j,Error),j.prototype.name="CustomError",O(L,j),L.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var q=new F((function(){return new V}),(function(e){e.reset()}));function B(){var e=_t,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function V(){this.next=this.b=this.a=null}U.prototype.add=function(e,t){var n=q.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},V.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},V.prototype.reset=function(){this.next=this.b=this.a=null};var H=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},W=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};var Y=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,a="string"===typeof e?e.split(""):e,o=0;o<n;o++)if(o in a){var s=a[o];t.call(void 0,s,o,e)&&(r[i++]=s)}return r},G=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"===typeof e?e.split(""):e,a=0;a<n;a++)a in i&&(r[a]=t.call(void 0,i[a],a,e));return r},K=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function X(e,t){return 0<=H(e,t)}function $(e,t){var n;return(n=0<=(t=H(e,t)))&&Array.prototype.splice.call(e,t,1),n}function Q(e,t){!function(e,t){for(var n="string"===typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function J(e){return Array.prototype.concat.apply([],arguments)}function Z(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var ee,te=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},ne=/&/g,re=/</g,ie=/>/g,ae=/"/g,oe=/'/g,se=/\x00/g,ue=/[\x00&<>"']/;function le(e,t){return-1!=e.indexOf(t)}function ce(e,t){return e<t?-1:e>t?1:0}e:{var fe=u.navigator;if(fe){var he=fe.userAgent;if(he){ee=he;break e}}ee=""}function de(e){return le(ee,e)}function pe(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function ve(e){for(var t in e)return!1;return!0}function ge(e){var t,n={};for(t in e)n[t]=e[t];return n}var ye="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<ye.length;a++)n=ye[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function be(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break e}}catch(o){}i=null}if(i&&"undefined"!=typeof i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(g(e))try{var a=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(o){a="<object could not be stringified>"}else a=void 0===e?"undefined":null===e?"null":typeof e;R("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,a)}}function _e(e,t){this.a=e===ke&&t||"",this.b=Te}function we(e){return e instanceof _e&&e.constructor===_e&&e.b===Te?e.a:(R("expected object of type Const, got '"+e+"'"),"type_error:Const")}_e.prototype.ta=!0,_e.prototype.sa=function(){return this.a},_e.prototype.toString=function(){return"Const{"+this.a+"}"};var xe,Te={},ke={};function Oe(){if(void 0===xe){var e=null,t=u.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:S,createScript:S,createScriptURL:S})}catch(n){u.console&&u.console.error(n.message)}xe=e}else xe=e}return xe}function Se(e,t){this.a=t===Ie?e:""}function Ae(e){return e instanceof Se&&e.constructor===Se?e.a:(R("expected object of type TrustedResourceUrl, got '"+e+"' of type "+d(e)),"type_error:TrustedResourceUrl")}function Ee(e,t){var n=we(e);if(!Me.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=Oe();return new Se(e=t?t.createScriptURL(e):e,Ie)}(e=n.replace(Ce,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof _e?we(e):encodeURIComponent(String(e))})))}Se.prototype.ta=!0,Se.prototype.sa=function(){return this.a.toString()},Se.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ce=/%{(\w+)}/g,Me=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ie={};function De(e,t){this.a=t===ze?e:""}function Pe(e){return e instanceof De&&e.constructor===De?e.a:(R("expected object of type SafeUrl, got '"+e+"' of type "+d(e)),"type_error:SafeUrl")}De.prototype.ta=!0,De.prototype.sa=function(){return this.a.toString()},De.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ne=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,je=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Le=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Re(e){if(e instanceof De)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),Le.test(e))e=new De(e,ze);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(je);e=t&&Ne.test(t[1])?new De(e,ze):null}return e}function Fe(e){return e instanceof De?e:(e="object"==typeof e&&e.ta?e.sa():String(e),Le.test(e)||(e="about:invalid#zClosurez"),new De(e,ze))}var ze={},Ue=new De("about:invalid#zClosurez",ze);function qe(e,t,n){this.a=n===Be?e:""}qe.prototype.ta=!0,qe.prototype.sa=function(){return this.a.toString()},qe.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Be={};function Ve(e,t,n,r){return e=e instanceof De?e:Fe(e),t=t||u,n=n instanceof _e?we(n):n||"",t.open(Pe(e),n,r,void 0)}function He(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function We(e){return ue.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(ne,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(re,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(ie,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(ae,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(oe,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(se,"&#0;"))),e}function Ye(e){return Ye[" "](e),e}Ye[" "]=h;var Ge,Ke=de("Opera"),Xe=de("Trident")||de("MSIE"),$e=de("Edge"),Qe=$e||Xe,Je=de("Gecko")&&!(le(ee.toLowerCase(),"webkit")&&!de("Edge"))&&!(de("Trident")||de("MSIE"))&&!de("Edge"),Ze=le(ee.toLowerCase(),"webkit")&&!de("Edge");function et(){var e=u.document;return e?e.documentMode:void 0}e:{var tt="",nt=function(){var e=ee;return Je?/rv:([^\);]+)(\)|;)/.exec(e):$e?/Edge\/([\d\.]+)/.exec(e):Xe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ze?/WebKit\/(\S+)/.exec(e):Ke?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(nt&&(tt=nt?nt[1]:""),Xe){var rt=et();if(null!=rt&&rt>parseFloat(tt)){Ge=String(rt);break e}}Ge=tt}var it,at={};function ot(e){return function(e,t){var n=at;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=te(String(Ge)).split("."),r=te(String(e)).split("."),i=Math.max(n.length,r.length),a=0;0==t&&a<i;a++){var o=n[a]||"",s=r[a]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=ce(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||ce(0==o[2].length,0==s[2].length)||ce(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t}))}if(u.document&&Xe){var st=et();it=st||(parseInt(Ge,10)||void 0)}else it=void 0;var ut=it;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(fo){}var lt=!Xe||9<=Number(ut);function ct(e){var t=document;return"string"===typeof e?t.getElementById(e):e}function ft(e,t){pe(t,(function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:pt.hasOwnProperty(n)?e.setAttribute(pt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var ht,dt,pt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function vt(e,t,n){function r(n){n&&t.appendChild("string"===typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var a=n[i];if(!p(a)||g(a)&&0<a.nodeType)r(a);else{e:{if(a&&"number"==typeof a.length){if(g(a)){var o="function"==typeof a.item||"string"==typeof a.item;break e}if(v(a)){o="function"==typeof a.item;break e}}o=!1}W(o?Z(a):a,r)}}}function gt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function yt(e){u.setTimeout((function(){throw e}),0)}function mt(e,t){dt||function(){if(u.Promise&&u.Promise.resolve){var e=u.Promise.resolve(void 0);dt=function(){e.then(wt)}}else dt=function(){var e=wt;!v(u.setImmediate)||u.Window&&u.Window.prototype&&!de("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(ht||(ht=function(){var e=u.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!de("Presto")&&(e=function(){var e=gt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=x((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!de("Trident")&&!de("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Hb;n.Hb=null,e()}},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}return function(e){u.setTimeout(e,0)}}()),ht(e)):u.setImmediate(e)}}(),bt||(dt(),bt=!0),_t.add(e,t)}var bt=!1,_t=new U;function wt(){for(var e;e=B();){try{e.a.call(e.b)}catch(t){yt(t)}z(q,e)}bt=!1}function xt(e,t){if(this.a=Tt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=h)try{var n=this;e.call(t,(function(e){Lt(n,kt,e)}),(function(e){if(!(e instanceof Vt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}Lt(n,Ot,e)}))}catch(r){Lt(this,Ot,r)}}var Tt=0,kt=2,Ot=3;function St(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}St.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var At=new F((function(){return new St}),(function(e){e.reset()}));function Et(e,t,n){var r=At.get();return r.g=e,r.b=t,r.f=n,r}function Ct(e){if(e instanceof xt)return e;var t=new xt(h);return Lt(t,kt,e),t}function Mt(e){return new xt((function(t,n){n(e)}))}function It(e,t,n){Rt(e,t,n,null)||mt(T(t,e))}function Dt(e){return new xt((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,a){n--,r[e]=i?{Qb:!0,value:a}:{Qb:!1,reason:a},0==n&&t(r)},a=0;a<e.length;a++)It(e[a],T(i,a,!0),T(i,a,!1));else t(r)}))}function Pt(e,t){if(e.a==Tt)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,a=null,o=n.b;o&&(o.c||(r++,o.a==e&&(i=o),!(i&&1<r)));o=o.next)i||(a=o);i&&(n.a==Tt&&1==r?Pt(n,t):(a?((r=a).next==n.f&&(n.f=r),r.next=r.next.next):zt(n),Ut(n,i,Ot,t)))}e.c=null}else Lt(e,Ot,t)}function Nt(e,t){e.b||e.a!=kt&&e.a!=Ot||Ft(e),e.f?e.f.next=t:e.b=t,e.f=t}function jt(e,t,n,r){var i=Et(null,null,null);return i.a=new xt((function(e,a){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(o){a(o)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Vt?a(t):e(i)}catch(o){a(o)}}:a})),i.a.c=e,Nt(e,i),i.a}function Lt(e,t,n){e.a==Tt&&(e===n&&(t=Ot,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Rt(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Ft(e),t!=Ot||n instanceof Vt||function(e,t){e.g=!0,mt((function(){e.g&&Bt.call(null,t)}))}(e,n)))}function Rt(e,t,n,r){if(e instanceof xt)return Nt(e,Et(t||h,n||null,r)),!0;if(N(e))return e.then(t,n,r),!0;if(g(e))try{var i=e.then;if(v(i))return function(e,t,n,r,i){function a(e){s||(s=!0,r.call(i,e))}function o(e){s||(s=!0,n.call(i,e))}var s=!1;try{t.call(e,o,a)}catch(u){a(u)}}(e,i,t,n,r),!0}catch(a){return n.call(r,a),!0}return!1}function Ft(e){e.h||(e.h=!0,mt(e.gc,e))}function zt(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Ut(e,t,n,r){if(n==Ot&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,qt(t,n,r);else try{t.c?t.g.call(t.f):qt(t,n,r)}catch(i){Bt.call(null,i)}z(At,t)}function qt(e,t,n){t==kt?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}xt.prototype.then=function(e,t,n){return jt(this,v(e)?e:null,v(t)?t:null,n)},xt.prototype.$goog_Thenable=!0,(n=xt.prototype).oa=function(e,t){return(e=Et(e,e,t)).c=!0,Nt(this,e),this},n.o=function(e,t){return jt(this,null,e,t)},n.cancel=function(e){if(this.a==Tt){var t=new Vt(e);mt((function(){Pt(this,t)}),this)}},n.$c=function(e){this.a=Tt,Lt(this,kt,e)},n.ad=function(e){this.a=Tt,Lt(this,Ot,e)},n.gc=function(){for(var e;e=zt(this);)Ut(this,e,this.a,this.i);this.h=!1};var Bt=yt;function Vt(e){j.call(this,e)}function Ht(){0!=Wt&&(Yt[y(this)]=this),this.ya=this.ya,this.pa=this.pa}O(Vt,j),Vt.prototype.name="cancel";var Wt=0,Yt={};function Gt(e){if(!e.ya&&(e.ya=!0,e.Da(),0!=Wt)){var t=y(e);if(0!=Wt&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Yt[t]}}Ht.prototype.ya=!1,Ht.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Kt=Object.freeze||function(e){return e},Xt=!Xe||9<=Number(ut),$t=Xe&&!ot("9"),Qt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",h,t),u.removeEventListener("test",h,t)}catch(n){}return e}();function Jt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function Zt(e,t){if(Jt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Je){e:{try{Ye(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:en[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Jt.prototype.preventDefault=function(){this.defaultPrevented=!0},O(Zt,Jt);var en=Kt({2:"touch",3:"pen",4:"mouse"});Zt.prototype.preventDefault=function(){Zt.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,$t)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},Zt.prototype.g=function(){return this.a};var tn="closure_listenable_"+(1e6*Math.random()|0),nn=0;function rn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=i,this.key=++nn,this.wa=this.Qa=!1}function an(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function on(e){this.src=e,this.a={},this.b=0}function sn(e,t){var n=t.type;n in e.a&&$(e.a[n],t)&&(an(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function un(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.wa&&a.listener==t&&a.capture==!!n&&a.Wa==r)return i}return-1}on.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.a[a])||(e=this.a[a]=[],this.b++);var o=un(e,t,r,i);return-1<o?(t=e[o],n||(t.Qa=!1)):((t=new rn(t,this.src,a,!!r,i)).Qa=n,e.push(t)),t};var ln="closure_lm_"+(1e6*Math.random()|0),cn={};function fn(e,t,n,r,i){if(r&&r.once)dn(e,t,n,r,i);else if(Array.isArray(t))for(var a=0;a<t.length;a++)fn(e,t[a],n,r,i);else n=xn(n),e&&e[tn]?kn(e,t,n,g(r)?!!r.capture:!!r,i):hn(e,t,n,!1,r,i)}function hn(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=g(i)?!!i.capture:!!i,s=_n(e);if(s||(e[ln]=s=new on(e)),!(n=s.add(t,n,r,o,a)).proxy){if(r=function(){var e=bn,t=Xt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Qt||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(gn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function dn(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)dn(e,t[a],n,r,i);else n=xn(n),e&&e[tn]?On(e,t,n,g(r)?!!r.capture:!!r,i):hn(e,t,n,!0,r,i)}function pn(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)pn(e,t[a],n,r,i);else r=g(r)?!!r.capture:!!r,n=xn(n),e&&e[tn]?(e=e.v,(t=String(t).toString())in e.a&&(-1<(n=un(a=e.a[t],n,r,i))&&(an(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.a[t],e.b--)))):e&&(e=_n(e))&&(t=e.a[t.toString()],e=-1,t&&(e=un(t,n,r,i)),(n=-1<e?t[e]:null)&&vn(n))}function vn(e){if("number"!==typeof e&&e&&!e.wa){var t=e.src;if(t&&t[tn])sn(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(gn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=_n(t))?(sn(n,e),0==n.b&&(n.src=null,t[ln]=null)):an(e)}}}function gn(e){return e in cn?cn[e]:cn[e]="on"+e}function yn(e,t,n,r){var i=!0;if((e=_n(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var a=t[e];a&&a.capture==n&&!a.wa&&(a=mn(a,r),i=i&&!1!==a)}return i}function mn(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&vn(e),n.call(r,t)}function bn(e,t){if(e.wa)return!0;if(!Xt){if(!t)e:{t=["window","event"];for(var n=u,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Zt(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(o){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var a=yn(r[i],e,!0,t);n=n&&a}for(i=0;i<r.length;i++)t.b=r[i],a=yn(r[i],e,!1,t),n=n&&a}return n}return mn(e,new Zt(t,this))}function _n(e){return(e=e[ln])instanceof on?e:null}var wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function xn(e){return v(e)?e:(e[wn]||(e[wn]=function(t){return e.handleEvent(t)}),e[wn])}function Tn(){Ht.call(this),this.v=new on(this),this.bc=this,this.hb=null}function kn(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function On(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function Sn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.wa&&o.capture==n){var s=o.listener,u=o.Wa||o.src;o.Qa&&sn(e.v,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function An(e,t,n){if(v(e))n&&(e=x(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=x(e.handleEvent,e)}return 2147483647<Number(t)?-1:u.setTimeout(e,t||0)}function En(e){var t=null;return new xt((function(n,r){-1==(t=An((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw u.clearTimeout(t),e}))}function Cn(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"===typeof e)return e.split("");if(p(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Mn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(p(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function In(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof In)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Dn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Pn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Pn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Pn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}O(Tn,Ht),Tn.prototype[tn]=!0,Tn.prototype.addEventListener=function(e,t,n,r){fn(this,e,t,n,r)},Tn.prototype.removeEventListener=function(e,t,n,r){pn(this,e,t,n,r)},Tn.prototype.dispatchEvent=function(e){var t,n=this.hb;if(n)for(t=[];n;n=n.hb)t.push(n);n=this.bc;var r=e.type||e;if("string"===typeof e)e=new Jt(e,n);else if(e instanceof Jt)e.target=e.target||n;else{var i=e;me(e=new Jt(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var o=e.b=t[a];i=Sn(o,r,!0,e)&&i}if(i=Sn(o=e.b=n,r,!0,e)&&i,i=Sn(o,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=Sn(o=e.b=t[a],r,!1,e)&&i;return i},Tn.prototype.Da=function(){if(Tn.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)an(n[r]);delete t.a[e],t.b--}}this.hb=null},(n=In.prototype).X=function(){Dn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},n.Y=function(){return Dn(this),this.a.concat()},n.clear=function(){this.b={},this.c=this.a.length=0},n.get=function(e,t){return Pn(this.b,e)?this.b[e]:t},n.set=function(e,t){Pn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},n.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Nn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function jn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof jn?(this.i=void 0!==t?t:e.i,Ln(this,e.c),this.l=e.l,this.a=e.a,Rn(this,e.g),this.f=e.f,Fn(this,rr(e.b)),this.h=e.h):e&&(n=String(e).match(Nn))?(this.i=!!t,Ln(this,n[1]||"",!0),this.l=Vn(n[2]||""),this.a=Vn(n[3]||"",!0),Rn(this,n[4]),this.f=Vn(n[5]||"",!0),Fn(this,n[6]||"",!0),this.h=Vn(n[7]||"")):(this.i=!!t,this.b=new Qn(null,this.i))}function Ln(e,t,n){e.c=n?Vn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Rn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Fn(e,t,n){t instanceof Qn?(e.b=t,function(e,t){t&&!e.f&&(Jn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(er(this,t),nr(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=Hn(t,Xn)),e.b=new Qn(t,e.i))}function zn(e,t,n){e.b.set(t,n)}function Un(e,t){return e.b.get(t)}function qn(e){return e instanceof jn?new jn(e):new jn(e,void 0)}function Bn(e,t,n,r){var i=new jn(null,void 0);return e&&Ln(i,e),t&&(i.a=t),n&&Rn(i,n),r&&(i.f=r),i}function Vn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Hn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Wn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Wn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}jn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Hn(t,Yn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(Hn(t,Yn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(Hn(n,"/"==n.charAt(0)?Kn:Gn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Hn(n,$n)),e.join("")},jn.prototype.resolve=function(e){var t=new jn(this),n=!!e.c;n?Ln(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Rn(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(le(i,"./")||le(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var a=[],o=0;o<i.length;){var s=i[o++];"."==s?r&&o==i.length&&a.push(""):".."==s?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),r&&o==i.length&&a.push("")):(a.push(s),r=!0)}r=a.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?Fn(t,rr(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Yn=/[#\/\?@]/g,Gn=/[#\?:]/g,Kn=/[#\?]/g,Xn=/[#\?@]/g,$n=/#/g;function Qn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Jn(e){e.a||(e.a=new In,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Zn(e){var t=Mn(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new Qn(null,void 0);e=Cn(e);for(var r=0;r<t.length;r++){var i=t[r],a=e[r];Array.isArray(a)?nr(n,i,a):n.add(i,a)}return n}function er(e,t){Jn(e),t=ir(e,t),Pn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Pn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Dn(e)))}function tr(e,t){return Jn(e),t=ir(e,t),Pn(e.a.b,t)}function nr(e,t,n){er(e,t),0<n.length&&(e.c=null,e.a.set(ir(e,t),Z(n)),e.b+=n.length)}function rr(e){var t=new Qn;return t.c=e.c,e.a&&(t.a=new In(e.a),t.b=e.b),t}function ir(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function ar(e){var t=[];return sr(new or,e,t),t.join("")}function or(){}function sr(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",a=0;a<t;a++)n.push(i),sr(e,r[a],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&("function"!=typeof(a=t[r])&&(n.push(i),cr(r,n),n.push(":"),sr(e,a,n),i=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":cr(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(n=Qn.prototype).add=function(e,t){Jn(this),this.c=null,e=ir(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},n.clear=function(){this.a=this.c=null,this.b=0},n.forEach=function(e,t){Jn(this),this.a.forEach((function(n,r){W(n,(function(n){e.call(t,n,r,this)}),this)}),this)},n.Y=function(){Jn(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},n.X=function(e){Jn(this);var t=[];if("string"===typeof e)tr(this,e)&&(t=J(t,this.a.get(ir(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=J(t,e[n])}return t},n.set=function(e,t){return Jn(this),this.c=null,tr(this,e=ir(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},n.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},n.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.X(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.c=e.join("&")};var ur={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},lr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function cr(e,t){t.push('"',e.replace(lr,(function(e){var t=ur[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),ur[e]=t),t})),'"')}function fr(){var e=Ir();return Xe&&!!ut&&11==ut||/Edge\/\d+/.test(e)}function hr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function dr(e,t){t=t||u.window;var n="about:blank";e&&(n=Pe(Re(e)||Ue)),t.location.href=n}function pr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<pr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function vr(e){return!!((e=(e||Ir()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function gr(e){e=e||u.window;try{e.close()}catch(t){}}function yr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,a=(window.screen.availWidth-t)/2;for(o in t={width:t,height:n,top:0<i?i:0,left:0<a?a:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ir().toLowerCase(),r&&(t.target=r,le(n,"crios/")&&(t.target="_blank")),Er(Ir())==Sr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof De?n:Re("undefined"!=typeof n.href?n.href:String(n))||Ue,n=e.target||n.target,i=[],e)switch(o){case"width":case"height":case"top":case"left":i.push(o+"="+e[o]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(o+"="+(e[o]?1:0))}var o=i.join(",");if((de("iPhone")&&!de("iPod")&&!de("iPad")||de("iPad")||de("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(be(o=gt(document,"A"),"HTMLAnchorElement"),t=t instanceof De?t:Fe(t),o.href=Pe(t),o.setAttribute("target",n),e.noreferrer&&o.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),o.dispatchEvent(e),o={}):e.noreferrer?(o=Ve("",r,n,o),e=Pe(t),o&&(Qe&&le(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),o.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+We(e)+'">',e=new qe(e=(r=Oe())?r.createHTML(e):e,null,Be),r=o.document)&&(r.write(function(e){return e instanceof qe&&e.constructor===qe?e.a:(R("expected object of type SafeHtml, got '"+e+"' of type "+d(e)),"type_error:SafeHtml")}(e)),r.close())):(o=Ve(t,r,n,o))&&e.noopener&&(o.opener=null),o)try{o.focus()}catch(s){}return o}var mr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,br=/^[^@]+@[^@]+$/;function _r(){var e=null;return new xt((function(t){"complete"==u.document.readyState?t():(e=function(){t()},dn(window,"load",e))})).o((function(t){throw pn(window,"load",e),t}))}function wr(e){return e=e||Ir(),!("file:"!==Lr()&&"ionic:"!==Lr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function xr(){var e=u.window;try{return!(!e||e==e.top)}catch(t){return!1}}function Tr(){return"undefined"!==typeof u.WorkerGlobalScope&&"function"===typeof u.importScripts}function kr(){return t.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":t.default.INTERNAL.hasOwnProperty("node")?"Node":Tr()?"Worker":"Browser"}function Or(){var e=kr();return"ReactNative"===e||"Node"===e}var Sr="Firefox",Ar="Chrome";function Er(e){var t=e.toLowerCase();return le(t,"opera/")||le(t,"opr/")||le(t,"opios/")?"Opera":le(t,"iemobile")?"IEMobile":le(t,"msie")||le(t,"trident/")?"IE":le(t,"edge/")?"Edge":le(t,"firefox/")?Sr:le(t,"silk/")?"Silk":le(t,"blackberry")?"Blackberry":le(t,"webos")?"Webos":!le(t,"safari/")||le(t,"chrome/")||le(t,"crios/")||le(t,"android")?!le(t,"chrome/")&&!le(t,"crios/")||le(t,"edge/")?le(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Ar:"Safari"}var Cr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Mr(e,t){t=t||[];var n,r=[],i={};for(n in Cr)i[Cr[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=kr())?r=Er(i=Ir()):"Worker"===r&&(r=Er(i=Ir())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Ir(){return u.navigator&&u.navigator.userAgent||""}function Dr(e,t){e=e.split("."),t=t||u;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Pr(){try{var e=u.localStorage,t=qr();if(e)return e.setItem(t,"1"),e.removeItem(t),!fr()||!!u.indexedDB}catch(n){return Tr()&&!!u.indexedDB}return!1}function Nr(){return(jr()||"chrome-extension:"===Lr()||wr())&&!Or()&&Pr()&&!Tr()}function jr(){return"http:"===Lr()||"https:"===Lr()}function Lr(){return u.location&&u.location.protocol||null}function Rr(e){return!vr(e=e||Ir())&&Er(e)!=Sr}function Fr(e){return"undefined"===typeof e?null:ar(e)}function zr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Ur(e){if(null!==e)return JSON.parse(e)}function qr(e){return e||Math.floor(1e9*Math.random()).toString()}function Br(e){return"Safari"!=Er(e=e||Ir())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Vr(){var e=u.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Hr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Ir(),t=kr(),this.b=vr(e)||"ReactNative"===t}function Wr(){var e=u.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function Yr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Gr(){return!(!Dr("fireauth.oauthhelper",u)&&!Dr("fireauth.iframe",u))}Hr.prototype.get=function(){var e=u.navigator;return!e||"boolean"!==typeof e.onLine||!jr()&&"chrome-extension:"!==Lr()&&"undefined"===typeof e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Kr,Xr={};function $r(e){Xr[e]||(Xr[e]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e))}try{var Qr={};Object.defineProperty(Qr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Qr,"abcd",{configurable:!0,enumerable:!0,value:2}),Kr=2==Qr.abcd}catch(fo){Kr=!1}function Jr(e,t,n){Kr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Zr(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Jr(e,n,t[n])}function ei(e){var t={};return Zr(t,e),t}function ti(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Jr(t,n,ti(e[n]));return t}function ni(e){var t=e&&(e[si]?"phone":null);if(!(t&&e&&e[oi]))throw new A("internal-error","Internal assert: invalid MultiFactorInfo object");Jr(this,"uid",e[oi]),Jr(this,"displayName",e[ii]||null);var n=null;e[ai]&&(n=new Date(e[ai]).toUTCString()),Jr(this,"enrollmentTime",n),Jr(this,"factorId",t)}function ri(e){try{var t=new ui(e)}catch(n){t=null}return t}ni.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ii="displayName",ai="enrolledAt",oi="mfaEnrollmentId",si="phoneInfo";function ui(e){ni.call(this,e),Jr(this,"phoneNumber",e[si])}function li(e){var t={},n=e[di],r=e[vi],i=e[gi];if(e=ri(e[pi]),!i||i!=fi&&i!=hi&&!n||i==hi&&!r||i==ci&&!e)throw Error("Invalid checkActionCode response!");i==hi?(t[mi]=n||null,t[_i]=n||null,t[yi]=r):(t[mi]=r||null,t[_i]=r||null,t[yi]=n||null),t[bi]=e||null,Jr(this,xi,i),Jr(this,wi,ti(t))}O(ui,ni),ui.prototype.w=function(){var e=ui.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var ci="REVERT_SECOND_FACTOR_ADDITION",fi="EMAIL_SIGNIN",hi="VERIFY_AND_CHANGE_EMAIL",di="email",pi="mfaInfo",vi="newEmail",gi="requestType",yi="email",mi="fromEmail",bi="multiFactorInfo",_i="previousEmail",wi="data",xi="operation";function Ti(e){var t=Un(e=qn(e),ki)||null,n=Un(e,Oi)||null,r=Un(e,Ei)||null;if(r=r&&Mi[r]||null,!t||!n||!r)throw new A("argument-error",ki+", "+Oi+"and "+Ei+" are required in a valid action code URL.");Zr(this,{apiKey:t,operation:r,code:n,continueUrl:Un(e,Si)||null,languageCode:Un(e,Ai)||null,tenantId:Un(e,Ci)||null})}var ki="apiKey",Oi="oobCode",Si="continueUrl",Ai="languageCode",Ei="mode",Ci="tenantId",Mi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ci,signIn:fi,verifyAndChangeEmail:hi,verifyEmail:"VERIFY_EMAIL"};function Ii(e){try{return new Ti(e)}catch(t){return null}}function Di(e){var t=e[Ri];if("undefined"===typeof t)throw new A("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new A("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Pi];if(n&&"object"===typeof n){t=n[Ui];var r=n[Fi];if(n=n[zi],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof r&&"boolean"!==typeof r)throw new A("argument-error",Fi+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new A("argument-error",zi+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof t)throw new A("argument-error",Ui+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new A("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new A("argument-error",Pi+" property must be a non null object when specified.");if(this.f=null,(t=e[Li])&&"object"===typeof t){if("string"===typeof(t=t[qi])&&t.length)this.f=t;else if("undefined"!==typeof t)throw new A("argument-error",qi+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new A("argument-error",Li+" property must be a non null object when specified.");if("undefined"!==typeof(t=e[ji])&&"boolean"!==typeof t)throw new A("argument-error",ji+" property must be a boolean when specified.");if(this.c=!!t,"undefined"!==typeof(e=e[Ni])&&("string"!==typeof e||"string"===typeof e&&!e.length))throw new A("argument-error",Ni+" property must be a non empty string when specified.");this.i=e||null}var Pi="android",Ni="dynamicLinkDomain",ji="handleCodeInApp",Li="iOS",Ri="url",Fi="installApp",zi="minimumVersion",Ui="packageName",qi="bundleId";function Bi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Vi=null;function Hi(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Vi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Vi){Vi={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var a=r[i];void 0===Vi[a]&&(Vi[a]=i)}}}();for(var r=0;;){var i=n(-1),a=n(0),o=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|a>>4),64!=o&&(t(a<<4&240|o>>2),64!=s&&t(o<<6&192|s))}}(e,(function(e){t.push(e)})),t}function Wi(e){var t=Gi(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Yi(e){try{return new Wi(e)}catch(t){return null}}function Gi(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=Hi(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var a=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&a)}else if(239<i&&365>i){a=r[t++];var o=r[t++],s=((7&i)<<18|(63&a)<<12|(63&o)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else a=r[t++],o=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&o)}return JSON.parse(e.join(""))}catch(u){}return null}Wi.prototype.T=function(){return this.f},Wi.prototype.l=function(){return this.c},Wi.prototype.toString=function(){return this.h};var Ki="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Xi=["client_id","response_type","scope","redirect_uri","state"],$i={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Xi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Xi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Xi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Ki},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Qi(e){for(var t in $i)if($i[t].fa==e)return $i[t];return null}function Ji(e){var t={};t["facebook.com"]=ra,t["google.com"]=aa,t["github.com"]=ia,t["twitter.com"]=oa;var n=e&&e[ea];try{if(n)return t[n]?new t[n](e):new na(e);if("undefined"!==typeof e[Zi])return new ta(e)}catch(r){}return null}var Zi="idToken",ea="providerId";function ta(e){var t=e[ea];if(!t&&e[Zi]){var n=Yi(e[Zi]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Jr(this,"providerId",t),Jr(this,"isNewUser",n)}function na(e){ta.call(this,e),Jr(this,"profile",ti((e=Ur(e.rawUserInfo||"{}"))||{}))}function ra(e){if(na.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ia(e){if(na.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Jr(this,"username",this.profile&&this.profile.login||null)}function aa(e){if(na.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function oa(e){if(na.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Jr(this,"username",e.screenName||null)}function sa(e){var t=qn(e),n=Un(t,"link"),r=Un(qn(n),"link");return t=Un(t,"deep_link_id"),Un(qn(t),"link")||t||r||n||e}function ua(e,t){if(!e&&!t)throw new A("internal-error","Internal assert: no raw session string available");if(e&&t)throw new A("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?la:ca}O(na,ta),O(ra,na),O(ia,na),O(aa,na),O(oa,na);var la="enroll",ca="signin";function fa(){}function ha(e,t){return e.then((function(e){if(e[ns]){var n=Yi(e[ns]);if(!n||t!=n.i)throw new A("user-mismatch");return e}throw new A("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==M+"user-not-found"?new A("user-mismatch"):e}))}function da(e,t){if(!t)throw new A("internal-error","failed to construct a credential");this.a=t,Jr(this,"providerId",e),Jr(this,"signInMethod",e)}function pa(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function va(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new da(e.providerId,e.pendingToken)}catch(t){}return null}function ga(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Jr(this,"idToken",t.idToken),t.accessToken&&Jr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Jr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new A("internal-error","failed to construct a credential");Jr(this,"accessToken",t.oauthToken),Jr(this,"secret",t.oauthTokenSecret)}Jr(this,"providerId",e),Jr(this,"signInMethod",n)}function ya(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Zn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function ma(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new ga(e.providerId,t,e.signInMethod)}catch(n){}}return null}function ba(e,t){this.Qc=t||[],Zr(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(Qi(e)||{}).Ja||null,this.pb=null}function _a(e){if("string"!==typeof e||0!=e.indexOf("saml."))throw new A("argument-error",'SAML provider IDs must be prefixed with "saml."');ba.call(this,e,[])}function wa(e){ba.call(this,e,Xi),this.a=[]}function xa(){wa.call(this,"facebook.com")}function Ta(e){if(!e)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return g(e)&&(t=e.accessToken),(new xa).credential({accessToken:t})}function ka(){wa.call(this,"github.com")}function Oa(e){if(!e)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return g(e)&&(t=e.accessToken),(new ka).credential({accessToken:t})}function Sa(){wa.call(this,"google.com"),this.Ca("profile")}function Aa(e,t){var n=e;return g(e)&&(n=e.idToken,t=e.accessToken),(new Sa).credential({idToken:n,accessToken:t})}function Ea(){ba.call(this,"twitter.com",Ki)}function Ca(e,t){var n=e;if(g(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new A("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ga("twitter.com",n,"twitter.com")}function Ma(e,t,n){this.a=e,this.f=t,Jr(this,"providerId","password"),Jr(this,"signInMethod",n===Da.EMAIL_LINK_SIGN_IN_METHOD?Da.EMAIL_LINK_SIGN_IN_METHOD:Da.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ia(e){return e&&e.email&&e.password?new Ma(e.email,e.password,e.signInMethod):null}function Da(){Zr(this,{providerId:"password",isOAuthProvider:!1})}function Pa(e,t){if(!(t=Na(t)))throw new A("argument-error","Invalid email link!");return new Ma(e,t.code,Da.EMAIL_LINK_SIGN_IN_METHOD)}function Na(e){return(e=Ii(e=sa(e)))&&e.operation===fi?e:null}function ja(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new A("internal-error");this.a=e,Jr(this,"providerId","phone"),this.fa="phone",Jr(this,"signInMethod","phone")}function La(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return W(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new ja(t)}return null}function Ra(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function Fa(e){try{this.a=e||t.default.auth()}catch(n){throw new A("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Zr(this,{providerId:"phone",isOAuthProvider:!1})}function za(e,t){if(!e)throw new A("missing-verification-id");if(!t)throw new A("missing-verification-code");return new ja({fb:e,eb:t})}function Ua(e){if(e.temporaryProof&&e.phoneNumber)return new ja({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,a=e&&e.oauthIdToken,o=e&&e.pendingToken;try{switch(t){case"google.com":return Aa(a,n);case"facebook.com":return Ta(n);case"github.com":return Oa(n);case"twitter.com":return Ca(n,r);default:return n||r||a||o?o?0==t.indexOf("saml.")?new da(t,o):new ga(t,{pendingToken:o,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new wa(t).credential({idToken:a,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function qa(e){if(!e.isOAuthProvider)throw new A("invalid-oauth-provider")}function Ba(e,t,n,r,i,a,o){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=a||null,this.h=o||null,this.a=i||null,!this.g&&!this.a)throw new A("invalid-auth-event");if(this.g&&this.a)throw new A("invalid-auth-event");if(this.g&&!this.f)throw new A("invalid-auth-event")}function Va(e){return(e=e||{}).type?new Ba(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&E(e.error),e.postBody,e.tenantId):null}function Ha(){this.b=null,this.a=[]}ua.prototype.Ha=function(){return this.a?Ct(this.a):Ct(this.b)},ua.prototype.w=function(){return this.type==la?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},fa.prototype.ka=function(){},fa.prototype.b=function(){},fa.prototype.c=function(){},fa.prototype.w=function(){},da.prototype.ka=function(e){return ks(e,pa(this))},da.prototype.b=function(e,t){var n=pa(this);return n.idToken=t,Os(e,n)},da.prototype.c=function(e,t){return ha(Ss(e,pa(this)),t)},da.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},ga.prototype.ka=function(e){return ks(e,ya(this))},ga.prototype.b=function(e,t){var n=ya(this);return n.idToken=t,Os(e,n)},ga.prototype.c=function(e,t){return ha(Ss(e,ya(this)),t)},ga.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},ba.prototype.Ka=function(e){return this.Jb=ge(e),this},O(_a,ba),O(wa,ba),wa.prototype.Ca=function(e){return X(this.a,e)||this.a.push(e),this},wa.prototype.Rb=function(){return Z(this.a)},wa.prototype.credential=function(e,t){var n;if(!(n=g(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new A("argument-error","credential failed: must provide the ID token and/or the access token.");return new ga(this.providerId,n,this.providerId)},O(xa,wa),Jr(xa,"PROVIDER_ID","facebook.com"),Jr(xa,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),O(ka,wa),Jr(ka,"PROVIDER_ID","github.com"),Jr(ka,"GITHUB_SIGN_IN_METHOD","github.com"),O(Sa,wa),Jr(Sa,"PROVIDER_ID","google.com"),Jr(Sa,"GOOGLE_SIGN_IN_METHOD","google.com"),O(Ea,ba),Jr(Ea,"PROVIDER_ID","twitter.com"),Jr(Ea,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ma.prototype.ka=function(e){return this.signInMethod==Da.EMAIL_LINK_SIGN_IN_METHOD?su(e,Ns,{email:this.a,oobCode:this.f}):su(e,nu,{email:this.a,password:this.f})},Ma.prototype.b=function(e,t){return this.signInMethod==Da.EMAIL_LINK_SIGN_IN_METHOD?su(e,js,{idToken:t,email:this.a,oobCode:this.f}):su(e,Ks,{idToken:t,email:this.a,password:this.f})},Ma.prototype.c=function(e,t){return ha(this.ka(e),t)},Ma.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Zr(Da,{PROVIDER_ID:"password"}),Zr(Da,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Zr(Da,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),ja.prototype.ka=function(e){return e.gb(Ra(this))},ja.prototype.b=function(e,t){var n=Ra(this);return n.idToken=t,su(e,iu,n)},ja.prototype.c=function(e,t){var n=Ra(this);return n.operation="REAUTH",ha(e=su(e,au,n),t)},ja.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Fa.prototype.gb=function(e,t){var n=this.a.a;return Ct(t.verify()).then((function(r){if("string"!==typeof r)throw new A("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":var i=g(e)?e.session:null,a=g(e)?e.phoneNumber:e;return(i&&i.type==la?i.Ha().then((function(e){return function(e,t){return su(e,$s,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})})):i&&i.type==ca?i.Ha().then((function(t){return function(e,t){return su(e,Qs,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return su(e,Ys,t)}(n,{phoneNumber:a,recaptchaToken:r})).then((function(e){return"function"===typeof t.reset&&t.reset(),e}),(function(e){throw"function"===typeof t.reset&&t.reset(),e}));default:throw new A("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Zr(Fa,{PROVIDER_ID:"phone"}),Zr(Fa,{PHONE_SIGN_IN_METHOD:"phone"}),Ba.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Ba.prototype.T=function(){return this.h},Ba.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Wa,Ya=null;function Ga(e){var t="unauthorized-domain",n=void 0,r=qn(e);e=r.a,"chrome-extension"==(r=r.c)?n=He("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=He("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",A.call(this,t,n)}function Ka(e,t,n){A.call(this,e,n),(e=t||{}).Kb&&Jr(this,"email",e.Kb),e.ea&&Jr(this,"phoneNumber",e.ea),e.credential&&Jr(this,"credential",e.credential),e.$b&&Jr(this,"tenantId",e.$b)}function Xa(e){if(e.code){var t=e.code||"";0==t.indexOf(M)&&(t=t.substring(M.length));var n={credential:Ua(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new A(t,e.message||void 0);return new Ka(t,n,e.message)}return null}function $a(){}function Qa(e){return e.c||(e.c=e.b())}function Ja(){}function Za(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function eo(){}function to(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=x(this.qc,this),this.a.onerror=x(this.Tb,this),this.a.onprogress=x(this.rc,this),this.a.ontimeout=x(this.vc,this)}function no(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function ro(e,t,n){this.reset(e,t,n,void 0,void 0)}O(Ga,A),O(Ka,A),Ka.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&me(e,t),e},Ka.prototype.toJSON=function(){return this.w()},$a.prototype.c=null,O(Ja,$a),Ja.prototype.a=function(){var e=Za(this);return e?new ActiveXObject(e):new XMLHttpRequest},Ja.prototype.b=function(){var e={};return Za(this)&&(e[0]=!0,e[1]=!0),e},Wa=new Ja,O(eo,$a),eo.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new to;throw Error("Unsupported browser")},eo.prototype.b=function(){return{}},(n=to.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},n.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},n.abort=function(){this.a.abort()},n.setRequestHeader=function(){},n.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},n.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,no(this,4)},n.Tb=function(){this.status=500,this.response=this.responseText="",no(this,4)},n.vc=function(){this.Tb()},n.rc=function(){this.status=200,no(this,1)},n.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ro.prototype.a=null;function io(e){this.f=e,this.b=this.c=this.a=null}function ao(e,t){this.name=e,this.value=t}ro.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,r||k(),delete this.a},ao.prototype.toString=function(){return this.name};var oo=new ao("SEVERE",1e3),so=new ao("WARNING",900),uo=new ao("CONFIG",700),lo=new ao("FINE",500);function co(e){return e.c?e.c:e.a?co(e.a):(R("Root logger has no level set."),null)}io.prototype.log=function(e,t,n){if(e.value>=co(this).value)for(v(t)&&(t=t()),e=new ro(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var fo,ho={},po=null;function vo(e){var t;if(po||(po=new io(""),ho[""]=po,po.c=uo),!(t=ho[e])){t=new io(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=vo(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,ho[e]=t}return t}function go(e,t){e&&e.log(lo,t,void 0)}function yo(e){this.f=e}function mo(e){Tn.call(this),this.u=e,this.h=void 0,this.readyState=bo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=vo("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}O(yo,$a),yo.prototype.a=function(){return new mo(this.f)},yo.prototype.b=(fo={},function(){return fo}),O(mo,Tn);var bo=0;function _o(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function wo(e){e.readyState=4,e.g=null,e.c=null,e.m=null,xo(e)}function xo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function To(e){Tn.call(this),this.headers=new In,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=ko,this.u=this.S=!1}(n=mo.prototype).open=function(e,t){if(this.readyState!=bo)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,xo(this)},n.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},n.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,wo(this)),this.readyState=bo},n.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,xo(this)),this.a&&(this.readyState=3,xo(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):"undefined"!==typeof u.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,_o(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},n.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?wo(this):xo(this),3==this.readyState&&_o(this)}},n.tc=function(e){this.a&&(this.response=this.responseText=e,wo(this))},n.sc=function(e){this.a&&(this.response=e,wo(this))},n.Va=function(e){var t=this.i;t&&t.log(so,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&wo(this)},n.setRequestHeader=function(e,t){this.l.append(e,t)},n.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(so,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},n.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(so,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(mo.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),O(To,Tn);var ko="";To.prototype.b=vo("goog.net.XhrIo");var Oo=/^https?$/i,So=["POST","PUT"];function Ao(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():Wa.a(),e.C=e.D?Qa(e.D):Qa(Wa),e.a.onreadystatechange=x(e.Wb,e);try{go(e.b,Lo(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(o){return go(e.b,Lo(e,"Error opening Xhr: "+o.message)),void Co(e,o)}t=r||"";var a=new In(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(p(e)||"string"===typeof e)W(e,t,void 0);else for(var n=Mn(e),r=Cn(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(i,(function(e,t){a.set(t,e)})),i=function(e){e:{for(var t=Eo,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(a.Y()),r=u.FormData&&t instanceof u.FormData,!X(So,n)||i||r||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{Po(e),0<e.g&&(e.u=function(e){return Xe&&ot(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(e.a),go(e.b,Lo(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=x(e.Ma,e)):e.s=An(e.Ma,e.g,e)),go(e.b,Lo(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(o){go(e.b,Lo(e,"Send error: "+o.message)),Co(e,o)}}function Eo(e){return"content-type"==e.toLowerCase()}function Co(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Mo(e),Do(e)}function Mo(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Io(e){if(e.c&&"undefined"!=typeof s)if(e.C[1]&&4==No(e)&&2==jo(e))go(e.b,Lo(e,"Local request error detected and ignored"));else if(e.i&&4==No(e))An(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==No(e)){go(e.b,Lo(e,"Request complete")),e.c=!1;try{var t,n=jo(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.l).match(Nn)[1]||null;if(!a&&u.self&&u.self.location){var o=u.self.location.protocol;a=o.substr(0,o.length-1)}i=!Oo.test(a?a.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var l=2<No(e)?e.a.statusText:""}catch(c){go(e.b,"Can not get status: "+c.message),l=""}e.h=l+" ["+jo(e)+"]",Mo(e)}}finally{Do(e)}}}function Do(e,t){if(e.a){Po(e);var n=e.a,r=e.C[0]?h:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(e=e.b)&&e.log(oo,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Po(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(u.clearTimeout(e.s),e.s=null)}function No(e){return e.a?e.a.readyState:0}function jo(e){try{return 2<No(e)?e.a.status:-1}catch(t){return-1}}function Lo(e,t){return t+" ["+e.P+" "+e.l+" "+jo(e)+"]"}function Ro(e){var t=Ko;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Fo(e,t,n){e.a=!0,e.c=n,e.f=!t,Bo(e)}function zo(e){if(e.a){if(!e.v)throw new Vo(e);e.v=!1}}function Uo(e,t,n,r){e.g.push([t,n,r]),e.a&&Bo(e)}function qo(e){return K(e.g,(function(e){return v(e[1])}))}function Bo(e){if(e.h&&e.a&&qo(e)){var t=e.h,n=Yo[t];n&&(u.clearTimeout(n.a),delete Yo[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),a=i[0],o=i[1];if(i=i[2],a=e.f?o:a)try{var s=a.call(i||e.s,t);void 0!==s&&(e.f=e.f&&(s==t||s instanceof Error),e.c=t=s),(N(t)||"function"===typeof u.Promise&&t instanceof u.Promise)&&(r=!0,e.i=!0)}catch(l){t=l,e.f=!0,qo(e)||(n=!0)}}e.c=t,r&&(s=x(e.m,e,!0),r=x(e.m,e,!1),t instanceof Ro?(Uo(t,s,r),t.C=!0):t.then(s,r)),n&&(t=new Wo(t),Yo[t.a]=t,e.h=t.a)}function Vo(){j.call(this)}function Ho(){j.call(this)}function Wo(e){this.a=u.setTimeout(x(this.c,this),0),this.b=e}(n=To.prototype).Ma=function(){"undefined"!=typeof s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",go(this.b,Lo(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},n.abort=function(){this.a&&this.c&&(go(this.b,Lo(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Do(this))},n.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Do(this,!0)),To.bb.Da.call(this)},n.Wb=function(){this.ya||(this.N||this.i||this.f?Io(this):this.Jc())},n.Jc=function(){Io(this)},n.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ko:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(oo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return go(this.b,"Can not get response: "+t.message),null}},Ro.prototype.cancel=function(e){if(this.a)this.c instanceof Ro&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Ho(this),zo(this),Fo(this,!1,e))}},Ro.prototype.m=function(e,t){this.i=!1,Fo(this,e,t)},Ro.prototype.then=function(e,t,n){var r,i,a=new xt((function(e,t){r=e,i=t}));return Uo(this,r,(function(e){e instanceof Ho?a.cancel():i(e)})),a.then(e,t,n)},Ro.prototype.$goog_Thenable=!0,O(Vo,j),Vo.prototype.message="Deferred has already fired",Vo.prototype.name="AlreadyCalledError",O(Ho,j),Ho.prototype.message="Deferred was canceled",Ho.prototype.name="CanceledError",Wo.prototype.c=function(){throw delete Yo[this.a],this.b};var Yo={};function Go(e){var t={},n=t.document||document,r=Ae(e).toString(),i=gt(document,"SCRIPT"),a={Xb:i,Ma:void 0},o=new Ro(a),s=null,l=null!=t.timeout?t.timeout:5e3;return 0<l&&(s=window.setTimeout((function(){Xo(i,!0);var e=new Jo(Qo,"Timeout reached for loading script "+r);zo(o),Fo(o,!1,e)}),l),a.Ma=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Xo(i,t.xd||!1,s),zo(o),Fo(o,!0,null))},i.onerror=function(){Xo(i,!0,s);var e=new Jo($o,"Error while loading script "+r);zo(o),Fo(o,!1,e)},me(a=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ft(i,a),function(e,t){be(e,"HTMLScriptElement"),e.src=Ae(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=u?t=f(t.document):(null===c&&(c=f(u.document)),t=c),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),o}function Ko(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&Xo(e,!0,this.Ma)}}function Xo(e,t,n){null!=n&&u.clearTimeout(n),e.onload=h,e.onerror=h,e.onreadystatechange=h,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var $o=0,Qo=1;function Jo(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),j.call(this,n),this.code=e}function Zo(e){this.f=e}function es(e,n,r){if(this.c=e,e=n||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||rs,this.g=ge(e.secureTokenHeaders||is),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||as,this.a=ge(e.firebaseHeaders||os),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==kr(),!(r=u.XMLHttpRequest||r&&t.default.INTERNAL.node&&t.default.INTERNAL.node.XMLHttpRequest)&&!Tr())throw new A("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Tr()?this.f=new yo(self):Or()?this.f=new Zo(r):this.f=new eo,this.b=null}O(Jo,j),O(Zo,$a),Zo.prototype.a=function(){return new this.f},Zo.prototype.b=function(){return{}};var ts,ns="idToken",rs=new Hr(3e4,6e4),is={"Content-Type":"application/x-www-form-urlencoded"},as=new Hr(3e4,6e4),os={"Content-Type":"application/json"};function ss(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function us(e,t){t&&(e.l=ls("https://securetoken.googleapis.com/v1/token",t),e.h=ls("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=ls("https://identitytoolkit.googleapis.com/v2/",t))}function ls(e,t){return e=qn(e),t=qn(t.url),e.f=e.a+e.f,Ln(e,t.c),e.a=t.a,Rn(e,t.g),e.toString()}function cs(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function fs(e,t,n,r,i,a,o){(function(){var e=Ir();return!((e=Er(e)!=Ar?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!Xe||!ut||9<ut)})()||Tr()?e=x(e.u,e):(ts||(ts=new xt((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{u[ds]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){Uo(e,null,t,void 0)}(Go(Ee(hs,{onload:ds})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=x(e.s,e)),e(t,n,r,i,a,o)}es.prototype.T=function(){return this.b},es.prototype.u=function(e,t,n,r,i,a){if(Tr()&&("undefined"===typeof u.fetch||"undefined"===typeof u.Headers||"undefined"===typeof u.Request))throw new A("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var o=new To(this.f);if(a){o.g=Math.max(0,a);var s=setTimeout((function(){o.dispatchEvent("timeout")}),a)}kn(o,"complete",(function(){s&&clearTimeout(s);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return go(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(n){e=null}t&&t(e)})),On(o,"ready",(function(){s&&clearTimeout(s),Gt(this)})),On(o,"timeout",(function(){s&&clearTimeout(s),Gt(this),t&&t(null)})),Ao(o,e,n,r,i)};var hs=new _e(ke,"https://apis.google.com/js/client.js?onload=%{onload}"),ds="__fcb"+Math.floor(1e6*Math.random()).toString();function ps(e,t,n,r,i,a,o){var s=qn(t+n);zn(s,"key",e.c),o&&zn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var l in i)i.hasOwnProperty(l)&&zn(s,l,i[l]);return new xt((function(t,n){fs(e,s.toString(),(function(e){e?e.error?n(lu(e,a||{})):t(e):n(new A("network-request-failed"))}),r,u?void 0:ar(zr(i)),e.a,e.v.get())}))}function vs(e){if("string"!==typeof(e=e.email)||!br.test(e))throw new A("invalid-email")}function gs(e){"email"in e&&vs(e)}function ys(e){if(!e[ns]){if(e.mfaPendingCredential)throw new A("multi-factor-auth-required",null,ge(e));throw new A("internal-error")}}function ms(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new A("internal-error")}else{if(!e.sessionInfo)throw new A("missing-verification-id");if(!e.code)throw new A("missing-verification-code")}}es.prototype.s=function(e,t,n,r,i){var a=this;ts.then((function(){window.gapi.client.setApiKey(a.c);var o=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(o),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},es.prototype.Ab=function(){return su(this,Xs,{})},es.prototype.Cb=function(e,t){return su(this,Gs,{idToken:e,email:t})},es.prototype.Db=function(e,t){return su(this,Ks,{idToken:e,password:t})};var bs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function _s(e){if(!e.phoneVerificationInfo)throw new A("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new A("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new A("missing-verification-code")}function ws(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new A("internal-error")}function xs(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(tr(e=new Qn(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function Ts(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Xa(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Xa(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Xa(e)):e.errorMessage&&(t=uu(e.errorMessage)),t)throw t;ys(e)}function ks(e,t){return t.returnIdpCredential=!0,su(e,Js,t)}function Os(e,t){return t.returnIdpCredential=!0,su(e,eu,t)}function Ss(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,su(e,Zs,t)}function As(e){if(!e.oobCode)throw new A("invalid-action-code")}(n=es.prototype).Eb=function(e,t){var n={idToken:e},r=[];return pe(bs,(function(e,i){var a=t[i];null===a?r.push(e):i in t&&(n[i]=a)})),r.length&&(n.deleteAttribute=r),su(this,Gs,n)},n.wb=function(e,t){return me(e={requestType:"PASSWORD_RESET",email:e},t),su(this,Bs,e)},n.xb=function(e,t){return me(e={requestType:"EMAIL_SIGNIN",email:e},t),su(this,zs,e)},n.vb=function(e,t){return me(e={requestType:"VERIFY_EMAIL",idToken:e},t),su(this,Us,e)},n.Fb=function(e,t,n){return me(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),su(this,qs,e)},n.gb=function(e){return su(this,ru,e)},n.ob=function(e,t){return su(this,Ws,{oobCode:e,newPassword:t})},n.Sa=function(e){return su(this,Cs,{oobCode:e})},n.kb=function(e){return su(this,Es,{oobCode:e})};var Es={endpoint:"setAccountInfo",A:As,Z:"email",B:!0},Cs={endpoint:"resetPassword",A:As,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new A("internal-error")},B:!0},Ms={endpoint:"signupNewUser",A:function(e){if(vs(e),!e.password)throw new A("weak-password")},G:ys,V:!0,B:!0},Is={endpoint:"createAuthUri",B:!0},Ds={endpoint:"deleteAccount",O:["idToken"]},Ps={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new A("internal-error")}},Ns={endpoint:"emailLinkSignin",O:["email","oobCode"],A:vs,G:ys,V:!0,B:!0},js={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:vs,G:ys,V:!0},Ls={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:_s,G:ys,B:!0,Na:!0},Rs={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:_s,G:ys,B:!0,Na:!0},Fs={endpoint:"getAccountInfo"},zs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new A("internal-error");vs(e)},Z:"email",B:!0},Us={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new A("internal-error")},Z:"email",B:!0},qs={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new A("internal-error")},Z:"email",B:!0},Bs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new A("internal-error");vs(e)},Z:"email",B:!0},Vs={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Hs={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new A("internal-error")}},Ws={endpoint:"resetPassword",A:As,Z:"email",B:!0},Ys={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Gs={endpoint:"setAccountInfo",O:["idToken"],A:gs,V:!0},Ks={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(gs(e),!e.password)throw new A("weak-password")},G:ys,V:!0},Xs={endpoint:"signupNewUser",G:ys,V:!0,B:!0},$s={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new A("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new A("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},Qs={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},Js={endpoint:"verifyAssertion",A:ws,Za:xs,G:Ts,V:!0,B:!0},Zs={endpoint:"verifyAssertion",A:ws,Za:xs,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new A("user-not-found");if(e.errorMessage)throw uu(e.errorMessage);ys(e)},V:!0,B:!0},eu={endpoint:"verifyAssertion",A:function(e){if(ws(e),!e.idToken)throw new A("internal-error")},Za:xs,G:Ts,V:!0},tu={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new A("invalid-custom-token")},G:ys,V:!0,B:!0},nu={endpoint:"verifyPassword",A:function(e){if(vs(e),!e.password)throw new A("wrong-password")},G:ys,V:!0,B:!0},ru={endpoint:"verifyPhoneNumber",A:ms,G:ys,B:!0},iu={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new A("internal-error");ms(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Xa(e);ys(e)}},au={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ms,G:ys,B:!0},ou={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[ns]^!!e.refreshToken)throw new A("internal-error")},B:!0,Na:!0};function su(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,t.O))return Mt(new A("internal-error"));var r,i=!!t.Na,a=t.Vb||"POST";return Ct(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&"undefined"===typeof n.tenantId&&(n.tenantId=e.b),ps(e,i?e.i:e.h,t.endpoint,a,n,t.Ib,t.mb||!1)})).then((function(e){return r=e,t.Za?t.Za(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new A("internal-error");return r[t.Z]}))}function uu(e){return lu({error:{errors:[{message:e}],code:400,message:e}})}function lu(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new A(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",me(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new A(r[i],t);return!t&&e&&(t=Fr(e)),new A("internal-error",t)}function cu(e){this.b=e,this.a=null,this.sb=function(e){return(pu||(pu=new xt((function(e,t){function n(){Vr(),Dr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Vr(),t(Error("Network Error"))},timeout:hu.get()})}if(Dr("gapi.iframes.Iframe"))e();else if(Dr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Dr("gapi.load")?n():t(Error("Network Error"))},Ct(Go(r=Ee(fu,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw pu=null,e})))).then((function(){return new xt((function(t,n){Dr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(a),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var a=setTimeout((function(){n(Error("Network Error"))}),du.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var fu=new _e(ke,"https://apis.google.com/js/api.js?onload=%{onload}"),hu=new Hr(3e4,6e4),du=new Hr(5e3,15e3),pu=null;function vu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,this.g?e=Bn((e=qn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):e=Bn("https",this.l,null,"/__/auth/iframe"),this.a=e,zn(this.a,"apiKey",this.h),zn(this.a,"appName",this.i),this.b=null,this.c=[]}function gu(e,t,n,r,i,a){this.u=e,this.s=t,this.c=n,this.m=r,this.v=a,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function yu(e){try{return t.default.app(e).auth().Ga()}catch(n){return[]}}function mu(e,t,n,r,i,a){this.s=e,this.g=t,this.b=n,this.f=a,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function bu(e){var t=hr();return function(e){return su(e,Vs,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=qn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var a=e[i],o=n,s=r;if(0==a.indexOf("chrome-extension://")?o=qn(a).a==o&&"chrome-extension"==s:"http"!=s&&"https"!=s?o=!1:mr.test(a)?o=o==a:(a=a.split(".").join("\\."),o=new RegExp("^(.+\\."+a+"|"+a+")$","i").test(o)),o){e=!0;break e}}e=!1}if(!e)throw new Ga(hr())}))}function _u(e){return e.m||(e.m=_r().then((function(){if(!e.u){var t=e.c,n=e.i,r=yu(e.b),i=new vu(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=Z(r||[]),e.u=i.toString()}e.v=new cu(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then((function(){e.a.register("authEvent",t,Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Va(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Ct(n)}return n.status="ERROR",Ct(n)}))}(e)}))),e.m}function wu(e){return e.l||(e.C=e.c?Mr(e.c,yu(e.b)):null,e.l=new es(e.g,P(e.i),e.C),e.f&&us(e.l,e.f)),e.l}function xu(e,t,n,r,i,a,o,s,u,l,c,f){return(e=new gu(e,t,n,r,i,f)).l=a,e.g=o,e.i=s,e.b=ge(u||null),e.f=l,e.zb(c).toString()}function Tu(e){if(this.a=e||t.default.INTERNAL.reactNative&&t.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new A("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function ku(e){this.b=e,this.a={},this.f=x(this.c,this)}vu.prototype.toString=function(){return this.f?zn(this.a,"v",this.f):er(this.a.b,"v"),this.b?zn(this.a,"eid",this.b):er(this.a.b,"eid"),this.c.length?zn(this.a,"fw",this.c.join(",")):er(this.a.b,"fw"),this.a.toString()},gu.prototype.zb=function(e){return this.h=e,this},gu.prototype.toString=function(){if(this.v){var e=qn(this.v.url);e=Bn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=Bn("https",this.u,null,"/__/auth/handler");if(zn(e,"apiKey",this.s),zn(e,"appName",this.c),zn(e,"authType",this.m),this.a.isOAuthProvider){var n=this.a;try{var r=t.default.app(this.c).auth().la()}catch(u){r=null}for(var i in n.pb=r,zn(e,"providerId",this.a.providerId),n=zr((r=this.a).Jb))n[i]=n[i].toString();i=r.Qc,n=ge(n);for(var a=0;a<i.length;a++){var o=i[a];o in n&&delete n[o]}r.qb&&r.pb&&!n[r.qb]&&(n[r.qb]=r.pb),ve(n)||zn(e,"customParameters",Fr(n))}if("function"===typeof this.a.Rb&&((r=this.a.Rb()).length&&zn(e,"scopes",r.join(","))),this.l?zn(e,"redirectUrl",this.l):er(e.b,"redirectUrl"),this.g?zn(e,"eventId",this.g):er(e.b,"eventId"),this.i?zn(e,"v",this.i):er(e.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Un(e,s)&&zn(e,s,this.b[s]);return this.h?zn(e,"tid",this.h):er(e.b,"tid"),this.f?zn(e,"eid",this.f):er(e.b,"eid"),(s=yu(this.c)).length&&zn(e,"fw",s.join(",")),e.toString()},(n=mu.prototype).Pb=function(e,t,n){var r=new A("popup-closed-by-user"),i=new A("web-storage-unsupported"),a=this,o=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return _u(e).then((function(){return function(e,t){return e.sb.then((function(){return new xt((function(n){e.a.send(t.type,t,n,Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(a).then((function(n){n||(e&&gr(e),t(i),o=!0)}))})).o((function(){})).then((function(){if(!o)return function(e){return new xt((function(t){return function n(){En(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!o)return En(n).then((function(){t(r)}))}))},n.Yb=function(){var e=Ir();return!Rr(e)&&!Br(e)},n.Ub=function(){return!1},n.Nb=function(e,t,n,r,i,a,o,s){if(!e)return Mt(new A("popup-blocked"));if(o&&!Rr())return this.ma().o((function(t){gr(e),i(t)})),r(),Ct();this.a||(this.a=bu(wu(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw gr(e),i(t),t}));return r(),t})).then((function(){(qa(n),o)||dr(xu(u.s,u.g,u.b,t,n,null,a,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},n.Ob=function(e,t,n,r){this.a||(this.a=bu(wu(this)));var i=this;return this.a.then((function(){qa(t),dr(xu(i.s,i.g,i.b,e,t,hr(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},n.ma=function(){var e=this;return _u(this).then((function(){return e.v.sb})).o((function(){throw e.a=null,new A("network-request-failed")}))},n.ac=function(){return!0},n.Ea=function(e){this.h.push(e)},n.Ta=function(e){Q(this.h,(function(t){return t==e}))},(n=Tu.prototype).get=function(e){return Ct(this.a.getItem(e)).then((function(e){return e&&Ur(e)}))},n.set=function(e,t){return Ct(this.a.setItem(e,Fr(t)))},n.U=function(e){return Ct(this.a.removeItem(e))},n.ca=function(){},n.ia=function(){};var Ou,Su=[];function Au(e,t,n){ve(e.a)&&e.b.addEventListener("message",e.f),"undefined"===typeof e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Eu(e){this.a=e}function Cu(e){this.c=e,this.b=!1,this.a=[]}function Mu(e,t,n,r){var i,a,o,s,u=n||{},l=null;if(e.b)return Mt(Error("connection_unavailable"));var c=r?800:50,f="undefined"!==typeof MessageChannel?new MessageChannel:null;return new xt((function(n,r){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),o=setTimeout((function(){r(Error("unsupported_event"))}),c),l={messageChannel:f,onMessage:a=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(o),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),"undefined"!==typeof e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(o),clearTimeout(s),r(Error("invalid_response"))))}},e.a.push(l),f.port1.addEventListener("message",a),e.c.postMessage({eventType:t,eventId:i,data:u},[f.port2])):r(Error("connection_unavailable"))})).then((function(t){return Iu(e,l),t})).o((function(t){throw Iu(e,l),t}))}function Iu(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),Q(e.a,(function(e){return e==t}))}}function Du(){if(!Lu())throw new A("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;Tr()&&self?(this.v=function(){var e=Tr()?self:null;if(W(Su,(function(n){n.b==e&&(t=n)})),!t){var t=new ku(e);Su.push(t)}return t}(),Au(this.v,"keyChanged",(function(t,n){return qu(e).then((function(t){return 0<t.length&&W(e.a,(function(e){e(t)})),{keyProcessed:X(t,n.key)}}))})),Au(this.v,"ping",(function(){return Ct(["keyChanged"])}))):function(){var e=u.navigator;return e&&e.serviceWorker?Ct().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):Ct(null)}().then((function(t){(e.h=t)&&(e.g=new Cu(new Eu(t)),Mu(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&X(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function Pu(e){return new xt((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(t){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new xt((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return Pu(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function Nu(e){return e.i||(e.i=Pu(e)),e.i}function ju(e,t){var n=0;return new xt((function r(i,a){Nu(e).then(t).then(i).o((function(t){if(!(3<++n))return Nu(e).then((function(t){return t.close(),e.i=void 0,r(i,a)})).o((function(e){a(e)}));a(t)}))}))}function Lu(){try{return!!u.indexedDB}catch(fo){return!1}}function Ru(e){return e.objectStore("firebaseLocalStorage")}function Fu(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function zu(e){return new xt((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Uu(e,t){return e.g&&e.h&&function(){var e=u.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Mu(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):Ct()}function qu(e){return Nu(e).then((function(e){var t=Ru(Fu(e,!1));return t.getAll?zu(t.getAll()):new xt((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=pr(e.c,n),e.c=n}return r}))}function Bu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Vu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Ct().then((function(){if(Lu()){var e=qr(),r="__sak"+e;return Ou||(Ou=new Du),(n=Ou).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){W(t.a,(function(t){t(e)}))})),e}))}function Hu(){this.a={},this.type="inMemory"}function Wu(){if(!function(){var e="Node"==kr();if(!(e=Yu()||e&&t.default.INTERNAL.node&&t.default.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==kr())throw new A("internal-error","The LocalStorage compatibility library was not found.");throw new A("web-storage-unsupported")}this.a=Yu()||t.default.INTERNAL.node.localStorage,this.type="localStorage"}function Yu(){try{var e=u.localStorage,t=qr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Gu(){this.type="nullStorage"}function Ku(){if(!function(){var e="Node"==kr();if(!(e=Xu()||e&&t.default.INTERNAL.node&&t.default.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==kr())throw new A("internal-error","The SessionStorage compatibility library was not found.");throw new A("web-storage-unsupported")}this.a=Xu()||t.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Xu(){try{var e=u.sessionStorage,t=qr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function $u(){var e={};e.Browser=Zu,e.Node=el,e.ReactNative=tl,e.Worker=nl,this.a=e[kr()]}ku.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];W(r,(function(t){i.push(Ct().then((function(){return t(e.origin,e.data.data)})))})),Dt(i).then((function(r){var i=[];W(r,(function(e){i.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})})),W(i,(function(e){for(var t in e)"undefined"===typeof e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Eu.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Cu.prototype.close=function(){for(;0<this.a.length;)Iu(this,this.a[0]);this.b=!0},(n=Du.prototype).set=function(e,t){var n=this,r=!1;return ju(this,(function(t){return zu((t=Ru(Fu(t,!0))).get(e))})).then((function(i){return ju(n,(function(a){if(a=Ru(Fu(a,!0)),i)return i.value=t,zu(a.put(i));n.b++,r=!0;var o={};return o.fbase_key=e,o.value=t,zu(a.add(o))}))})).then((function(){return n.c[e]=t,Uu(n,e)})).oa((function(){r&&n.b--}))},n.get=function(e){return ju(this,(function(t){return zu(Ru(Fu(t,!1)).get(e))})).then((function(e){return e&&e.value}))},n.U=function(e){var t=this,n=!1;return ju(this,(function(r){return n=!0,t.b++,zu(Ru(Fu(r,!0)).delete(e))})).then((function(){return delete t.c[e],Uu(t,e)})).oa((function(){n&&t.b--}))},n.ca=function(e){0==this.a.length&&function(e){function t(){e.f=setTimeout((function(){e.l=qu(e).then((function(t){0<t.length&&W(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}Bu(e),t()}(this),this.a.push(e)},n.ia=function(e){Q(this.a,(function(t){return t==e})),0==this.a.length&&Bu(this)},(n=Vu.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},n.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},n.U=function(e){return this.b.then((function(t){return t.U(e)}))},n.ca=function(e){this.a.push(e)},n.ia=function(e){Q(this.a,(function(t){return t==e}))},(n=Hu.prototype).get=function(e){return Ct(this.a[e])},n.set=function(e,t){return this.a[e]=t,Ct()},n.U=function(e){return delete this.a[e],Ct()},n.ca=function(){},n.ia=function(){},(n=Wu.prototype).get=function(e){var t=this;return Ct().then((function(){return Ur(t.a.getItem(e))}))},n.set=function(e,t){var n=this;return Ct().then((function(){var r=Fr(t);null===r?n.U(e):n.a.setItem(e,r)}))},n.U=function(e){var t=this;return Ct().then((function(){t.a.removeItem(e)}))},n.ca=function(e){u.window&&fn(u.window,"storage",e)},n.ia=function(e){u.window&&pn(u.window,"storage",e)},(n=Gu.prototype).get=function(){return Ct(null)},n.set=function(){return Ct()},n.U=function(){return Ct()},n.ca=function(){},n.ia=function(){},(n=Ku.prototype).get=function(e){var t=this;return Ct().then((function(){return Ur(t.a.getItem(e))}))},n.set=function(e,t){var n=this;return Ct().then((function(){var r=Fr(t);null===r?n.U(e):n.a.setItem(e,r)}))},n.U=function(e){var t=this;return Ct().then((function(){t.a.removeItem(e)}))},n.ca=function(){},n.ia=function(){};var Qu,Ju,Zu={F:Wu,cb:Ku},el={F:Wu,cb:Ku},tl={F:Tu,cb:Gu},nl={F:Wu,cb:Gu},rl={rd:"local",NONE:"none",td:"session"};function il(){var e=!(Br(Ir())||!xr()),t=Rr(),n=Pr();this.m=e,this.h=t,this.l=n,this.a={},Qu||(Qu=new $u),e=Qu;try{this.g=!fr()&&Gr()||!u.indexedDB?new e.a.F:new Vu(Tr()?new Hu:new e.a.F)}catch(r){this.g=new Hu,this.h=!0}try{this.i=new e.a.cb}catch(r){this.i=new Hu}this.v=new Hu,this.f=x(this.Zb,this),this.b={}}function al(){return Ju||(Ju=new il),Ju}function ol(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function sl(e,t){return"firebase:"+e.name+(t?":"+t:"")}function ul(e,t,n){return n=sl(t,n),"local"==t.F&&(e.b[n]=null),ol(e,t.F).U(n)}function ll(e){e.c&&(clearInterval(e.c),e.c=null)}function cl(e){this.a=e,this.b=al()}(n=il.prototype).get=function(e,t){return ol(this,e.F).get(sl(e,t))},n.set=function(e,t,n){var r=sl(e,n),i=this,a=ol(this,e.F);return a.set(r,t).then((function(){return a.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},n.addListener=function(e,t,n){e=sl(e,t),this.l&&(this.b[e]=u.localStorage.getItem(e)),ve(this.a)&&(ol(this,"local").ca(this.f),this.h||(fr()||!Gr())&&u.indexedDB||!this.l||function(e){ll(e),e.c=setInterval((function(){for(var t in e.a){var n=u.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Zt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Zb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},n.removeListener=function(e,t,n){e=sl(e,t),this.a[e]&&(Q(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),ve(this.a)&&(ol(this,"local").ia(this.f),ll(this))},n.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?ol(this,"local").ia(this.f):ll(this),this.m)if(n=u.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?u.localStorage.setItem(t,r):u.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var a=this;n=function(){"undefined"===typeof e.a.a&&a.b[t]===u.localStorage.getItem(t)||(a.b[t]=u.localStorage.getItem(t),a.nb(t))},Xe&&ut&&10==ut&&u.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else W(e,x(this.nb,this))},n.nb=function(e){this.a[e]&&W(this.a[e],(function(e){e()}))};var fl,hl={name:"authEvent",F:"local"};function dl(){this.a=al()}function pl(e,t){this.b=vl,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===fl&&(fl=u.Int32Array?new Int32Array(xl):xl),this.reset()}O(pl,(function(){this.b=-1}));for(var vl=64,gl=vl-1,yl=[],ml=0;ml<gl;ml++)yl[ml]=0;var bl=J(128,yl);function _l(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var a=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,o=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=a+o|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],l=0|e.a[4],c=0|e.a[5],f=0|e.a[6];for(a=0|e.a[7],t=0;64>t;t++){var h=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;o=(a=a+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0)+((o=(o=l&c^~l&f)+(0|fl[t])|0)+(0|n[t])|0)|0,a=f,f=c,c=l,l=u+o|0,u=s,s=i,i=r,r=o+h|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+l|0,e.a[5]=e.a[5]+c|0,e.a[6]=e.a[6]+f|0,e.a[7]=e.a[7]+a|0}function wl(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"===typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(_l(e),i=0);else{if(!p(t))throw Error("message must be string or array");for(;r<n;){var a=t[r++];if(!("number"==typeof a&&0<=a&&255>=a&&a==(0|a)))throw Error("message must be a byte array");e.f[i++]=a,i==e.b&&(_l(e),i=0)}}e.c=i,e.g+=n}pl.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):Z(this.h)};var xl=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Tl(){pl.call(this,8,kl)}O(Tl,pl);var kl=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ol(e,t,n,r,i,a){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=a,this.h=t+":"+n,this.C=new dl,this.g=new cl(this.h),this.f=null,this.b=[],this.a=this.c=null}function Sl(e){return new A("invalid-cordova-configuration",e)}function Al(e){var t=new Tl;wl(t,e),e=[];var n=8*t.g;56>t.c?wl(t,bl,56-t.c):wl(t,bl,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(_l(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return G(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function El(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function Cl(e){return e.f||(e.f=e.ma().then((function(){return new xt((function(t){e.Ea((function n(r){return t(r),e.Ta(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),Ml(e).then((function(r){var i=n;if(r&&t&&t.url){var a=null;-1!=(i=sa(t.url)).indexOf("/__/auth/callback")&&(a=(a="object"===typeof(a=Ur(Un(a=qn(i),"firebaseError")||null))?E(a):null)?new Ba(r.c,r.b,null,null,a,null,r.T()):new Ba(r.c,r.b,i,r.f,null,null,r.T())),i=a||n}El(e,i)}))}var n=new Ba("unknown",null,null,null,new A("no-auth-event")),r=!1,i=En(500).then((function(){return Ml(e).then((function(){r||El(e,n)}))})),a=u.handleOpenURL;u.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Dr("BuildInfo.packageName",u).toLowerCase()+"://")&&t({url:e}),"function"===typeof a)try{a(e)}catch(n){console.error(n)}},Ya||(Ya=new Ha),function(e){var t=Ya;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"===typeof(e=Dr("universalLinks.subscribe",u))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Ml(e){var t=null;return function(e){return e.b.get(hl,e.a).then((function(e){return Va(e)}))}(e.g).then((function(n){return t=n,ul((n=e.g).b,hl,n.a)})).then((function(){return t}))}function Il(e){this.a=e,this.b=al()}(n=Ol.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(wr(void 0)?_r().then((function(){return new xt((function(e,t){var n=u.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):Mt(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Dr("universalLinks.subscribe",u))throw Sl("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Dr("BuildInfo.packageName",u))throw Sl("cordova-plugin-buildinfo is not installed");if("function"!==typeof Dr("cordova.plugins.browsertab.openUrl",u))throw Sl("cordova-plugin-browsertab is not installed");if("function"!==typeof Dr("cordova.InAppBrowser.open",u))throw Sl("cordova-plugin-inappbrowser is not installed")}),(function(){throw new A("cordova-not-ready")}))},n.Pb=function(e,t){return t(new A("operation-not-supported-in-this-environment")),Ct()},n.Nb=function(){return Mt(new A("operation-not-supported-in-this-environment"))},n.ac=function(){return!1},n.Yb=function(){return!0},n.Ub=function(){return!0},n.Ob=function(e,t,n,r){if(this.c)return Mt(new A("redirect-operation-pending"));var i=this,a=u.document,o=null,s=null,l=null,c=null;return this.c=Ct().then((function(){return qa(t),Cl(i)})).then((function(){return function(e,t,n,r,i){var a=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),o=new Ba(t,r,null,a,new A("no-auth-event"),null,i),s=Dr("BuildInfo.packageName",u);if("string"!==typeof s)throw new A("invalid-cordova-configuration");var l=Dr("BuildInfo.displayName",u),c={};if(Ir().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!Ir().toLowerCase().match(/android/))return Mt(new A("operation-not-supported-in-this-environment"));c.apn=s}l&&(c.appDisplayName=l),a=Al(a),c.sessionId=a;var f=xu(e.v,e.i,e.l,t,n,null,r,e.m,c,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(hl,o.w(),t)})).then((function(){var t=Dr("cordova.plugins.browsertab.isAvailable",u);if("function"!==typeof t)throw new A("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!==typeof(n=Dr("cordova.plugins.browsertab.openUrl",u)))throw new A("invalid-cordova-configuration");n(f)}else{if("function"!==typeof(n=Dr("cordova.InAppBrowser.open",u)))throw new A("invalid-cordova-configuration");t=Ir(),e.a=n(f,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new xt((function(e,t){s=function(){var t=Dr("cordova.plugins.browsertab.close",u);return e(),"function"===typeof t&&t(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(s),l=function(){o||(o=En(2e3).then((function(){t(new A("redirect-cancelled-by-user"))})))},c=function(){Wr()&&l()},a.addEventListener("resume",l,!1),Ir().toLowerCase().match(/android/)||a.addEventListener("visibilitychange",c,!1)})).o((function(e){return Ml(i).then((function(){throw e}))}))})).oa((function(){l&&a.removeEventListener("resume",l,!1),c&&a.removeEventListener("visibilitychange",c,!1),o&&o.cancel(),s&&i.Ta(s),i.c=null}))},n.Ea=function(e){this.b.push(e),Cl(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Ba("unknown",null,null,null,new A("no-auth-event")),e(t))}))},n.Ta=function(e){Q(this.b,(function(t){return t==e}))};var Dl={name:"pendingRedirect",F:"session"};function Pl(e){return ul(e.b,Dl,e.a)}function Nl(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=x(this.s,this),this.b=new Xl,this.C=new ec,this.g=new Il(Gl(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=jl(this.D,this.v,this.m,C,this.J)}function jl(e,n,r,i,a){var o=t.default.SDK_VERSION||null;return wr()?new Ol(e,n,r,o,i,a):new mu(e,n,r,o,i,a)}function Ll(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Rl(e){e.a.Yb()&&Ll(e).o((function(t){var n=new Ba("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));Vl(t)&&e.s(n)})),e.a.Ub()||$l(e.b)}function Fl(e,t){X(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Dl,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?Pl(e.g).then((function(){Ll(e).o((function(t){var n=new Ba("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));Vl(t)&&e.s(n)}))})):Rl(e)})).o((function(){Rl(e)}))}function zl(e,t){Q(e.h,(function(e){return e==t}))}Nl.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=jl(this.D,this.v,this.m,null,this.J),this.i={}},Nl.prototype.s=function(e){if(!e)throw new A("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return $l(this.b),t};var Ul=new Hr(2e3,1e4),ql=new Hr(3e4,6e4);function Bl(e,t,n,r,i,a,o){return e.a.Nb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,a,o)}function Vl(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Hl(e,t,n,r,i){var a;return function(e){return e.b.set(Dl,"pending",e.a)}(e.g).then((function(){return e.a.Ob(t,n,r,i).o((function(t){if(Vl(t))throw new A("operation-not-supported-in-this-environment");return a=t,Pl(e.g).then((function(){throw a}))})).then((function(){return e.a.ac()?new xt((function(){})):Pl(e.g).then((function(){return e.ra()})).then((function(){})).o((function(){}))}))}))}function Wl(e,t,n,r,i){return e.a.Pb(r,(function(e){t.na(n,null,e,i)}),Ul.get())}Nl.prototype.ra=function(){return this.b.ra()};var Yl={};function Gl(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Kl(e,t,n,r){var i=Gl(t,n,r);return Yl[i]||(Yl[i]=new Nl(e,t,n,r)),Yl[i]}function Xl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function $l(e){e.g||(e.g=!0,Zl(e,!1,null,null))}function Ql(e){e.g&&!e.i&&Zl(e,!1,null,null)}function Jl(e,t){if(e.b=function(){return Ct(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Zl(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Mt(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):Jl(e,n):Jl(e,{user:null}),e.f=[],e.c=[]}function ec(){}function tc(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function nc(e,t){this.a=t,Jr(this,"verificationId",e)}function rc(e,t,n,r){return new Fa(e).gb(t,n).then((function(e){return new nc(e,r)}))}function ic(e){var t=Gi(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new A("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Zr(this,{token:e,expirationTime:Yr(1e3*t.exp),authTime:Yr(1e3*t.auth_time),issuedAtTime:Yr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function ac(e,t,n){var r=t&&t[sc];if(!r)throw new A("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=ge(t),this.g=n,this.c=new ua(null,r),this.b=[];var i=this;W(t[oc]||[],(function(e){(e=ri(e))&&i.b.push(e)})),Jr(this,"auth",this.a),Jr(this,"session",this.c),Jr(this,"hints",this.b)}Xl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Xl.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,a=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!a),"unknown"!=n||i||a?e.a?(Zl(this,!0,null,e.a),Ct()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,a=t.i,o=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,o,a).then((function(t){Zl(e,s,t,null)})).o((function(t){Zl(e,s,null,t)}))}(this,e,t):Mt(new A("invalid-auth-event")):(Zl(this,!1,null,null),Ct())}else Mt(new A("invalid-auth-event"))},Xl.prototype.ra=function(){var e=this;return new xt((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new A("timeout");e.a&&e.a.cancel(),e.a=En(ql.get()).then((function(){e.b||(e.g=!0,Zl(e,!0,null,t))}))}(e))}))},ec.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),Ct()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):Mt(new A("invalid-auth-event"))}else Mt(new A("invalid-auth-event"))},nc.prototype.confirm=function(e){return e=za(this.verificationId,e),this.a(e)};var oc="mfaInfo",sc="mfaPendingCredential";function uc(e,t,n,r){A.call(this,"multi-factor-auth-required",r,t),this.b=new ac(e,t,n),Jr(this,"resolver",this.b)}function lc(e,t,n){if(e&&g(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new uc(t,e.serverResponse,n,e.message)}catch(r){}return null}function cc(){}function fc(e){Jr(this,"factorId",e.fa),this.a=e}function hc(e){if(fc.call(this,e),this.a.fa!=Fa.PROVIDER_ID)throw new A("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function dc(e,t){for(var n in Jt.call(this,e),t)this[n]=t[n]}function pc(e,t){this.a=e,this.b=[],this.c=x(this.yc,this),fn(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&W(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[oi]=e.uid),e.displayName&&(r[ii]=e.displayName),e.enrollmentTime&&(r[ai]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[si]=e.phoneNumber);try{t=new ui(r)}catch(i){}e=t}else e=null;e&&n.push(e)})),vc(this,n)}function vc(e,t){e.b=t,Jr(e,"enrolledFactors",t)}function gc(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function yc(e,t){e.stop(),e.b=En(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return function(){var e=u.document,t=null;return Wr()||!e?Ct():new xt((function(n){t=function(){Wr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){yc(e,!0)})).o((function(t){e.i(t)&&yc(e,!1)}))}function mc(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function bc(e,t){"undefined"===typeof t&&(e.b?t=(t=e.b).a-t.g:t=0),e.c=Date.now()+1e3*t}function _c(e,t){e.b=Yi(t[ns]||""),e.a=t.refreshToken,bc(e,"undefined"!==typeof(t=t.expiresIn)?Number(t):void 0)}function wc(e,t){return function(e,t){return new xt((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?fs(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(lu(e)):e.access_token&&e.refresh_token?n(e):r(new A("internal-error")):r(new A("network-request-failed"))}),"POST",Zn(t).toString(),e.g,e.m.get()):r(new A("internal-error"))}))}(e.f,t).then((function(t){return e.b=Yi(t.access_token),e.a=t.refresh_token,bc(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function xc(e,t){this.a=e||null,this.b=t||null,Zr(this,{lastSignInTime:Yr(t||null),creationTime:Yr(e||null)})}function Tc(e,t,n,r,i,a){Zr(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:a||null,providerId:t})}function kc(e,n,r){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var i=t.default.SDK_VERSION?Mr(t.default.SDK_VERSION):null;this.a=new es(this.l,P(C),i),(this.u=e.emulatorConfig||null)&&us(this.a,this.u),this.h=new mc(this.a),Pc(this,n[ns]),_c(this.h,n),Jr(this,"refreshToken",this.h.a),Lc(this,r||{}),Tn.call(this),this.P=!1,this.s&&Nr()&&(this.b=Kl(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(e){return new gc((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.h.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.ba=x(this.ib,this);var a=this;this.za=null,this.Pa=function(e){a.xa(e.h)},this.qa=null,this.Ba=function(e){Oc(a,e.c)},this.$=null,this.aa=[],this.Oa=function(e){Ec(a,e.f)},this.ja=null,this.S=new pc(this,r),Jr(this,"multiFactor",this.S)}function Oc(e,t){e.u=t,us(e.a,t),e.b&&(t=e.b,e.b=Kl(e.s,e.l,e.m,e.u),e.P&&(zl(t,e),Fl(e.b,e)))}function Sc(e,t){e.qa&&pn(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&fn(t,"languageCodeChanged",e.Pa)}function Ac(e,t){e.$&&pn(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&fn(t,"emulatorConfigChanged",e.Ba)}function Ec(e,n){e.aa=n,cs(e.a,t.default.SDK_VERSION?Mr(t.default.SDK_VERSION,e.aa):null)}function Cc(e,t){e.ja&&pn(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&fn(t,"frameworkChanged",e.Oa)}function Mc(e){try{return t.default.app(e.m).auth()}catch(n){throw new A("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Ic(e){e.J||e.D.b||(e.D.start(),pn(e,"tokenChanged",e.ba),fn(e,"tokenChanged",e.ba))}function Dc(e){pn(e,"tokenChanged",e.ba),e.D.stop()}function Pc(e,t){e.Aa=t,Jr(e,"_lat",t)}function Nc(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return Dt(t).then((function(){return e}))}function jc(e){e.b&&!e.P&&(e.P=!0,Fl(e.b,e))}function Lc(e,t){Zr(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new xc(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Rc(){}function Fc(e){return Ct().then((function(){if(e.J)throw new A("app-deleted")}))}function zc(e){return G(e.providerData,(function(e){return e.providerId}))}function Uc(e,t){t&&(qc(e,t.providerId),e.providerData.push(t))}function qc(e,t){Q(e.providerData,(function(e){return e.providerId==t}))}function Bc(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Jr(e,t,n)}function Vc(e,t){e!=t&&(Zr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Jr(e,"metadata",function(e){return new xc(e.a,e.b)}(t.metadata)):Jr(e,"metadata",new xc),W(t.providerData,(function(t){Uc(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.h,t.h),Jr(e,"refreshToken",e.h.a),vc(e.S,t.S.b))}function Hc(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return su(e.a,Fs,{idToken:t}).then(x(e.Kc,e))}(e,t).then((function(){return n||Bc(e,"isAnonymous",!1),t}))}))}function Wc(e,t){t[ns]&&e.Aa!=t[ns]&&(_c(e.h,t),e.dispatchEvent(new dc("tokenChanged")),Pc(e,t[ns]),Bc(e,"refreshToken",e.h.a))}function Yc(e,t){return Hc(e).then((function(){if(X(zc(e),t))return Nc(e).then((function(){throw new A("provider-already-linked")}))}))}function Gc(e,t,n){return ei({user:e,credential:Ua(t),additionalUserInfo:t=Ji(t),operationType:n})}function Kc(e,t){return Wc(e,t),e.reload().then((function(){return e}))}function Xc(e,n,r,i,a){if(!Nr())return Mt(new A("operation-not-supported-in-this-environment"));if(e.i&&!a)return Mt(e.i);var o=Qi(r.providerId),s=qr(e.uid+":::"),u=null;(!Rr()||xr())&&e.s&&r.isOAuthProvider&&(u=xu(e.s,e.l,e.m,n,r,null,s,t.default.SDK_VERSION||null,null,null,e.tenantId,e.u));var l=yr(u,o&&o.va,o&&o.ua);return i=i().then((function(){if(Qc(e),!a)return e.I().then((function(){}))})).then((function(){return Bl(e.b,l,n,r,s,!!u,e.tenantId)})).then((function(){return new xt((function(t,r){e.na(n,null,new A("cancelled-popup-request"),e.g||null),e.f=t,e.C=r,e.g=s,e.c=Wl(e.b,e,n,l,s)}))})).then((function(e){return l&&gr(l),e?ei(e):null})).o((function(e){throw l&&gr(l),e})),Jc(e,i,a)}function $c(e,t,n,r,i){if(!Nr())return Mt(new A("operation-not-supported-in-this-environment"));if(e.i&&!i)return Mt(e.i);var a=null,o=qr(e.uid+":::");return r=r().then((function(){if(Qc(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=o,Nc(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(tf,e.w(),t.a)),t})).then((function(){return Hl(e.b,t,n,o,e.tenantId)})).o((function(t){if(a=t,e.ha)return nf(e.ha);throw a})).then((function(){if(a)throw a})),Jc(e,r,i)}function Qc(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new A("internal-error");throw new A("auth-domain-config-required")}}function Jc(e,t,n){var r=function(e,t,n){return e.i&&!n?(t.cancel(),Mt(e.i)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new dc("userInvalidated")),e.i=t),t}))}(e,t,n);return e.N.push(r),r.oa((function(){$(e.N,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=lc(t.w(),Mc(e),x(e.jc,e))),n||t}))}function Zc(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[ns]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new kc(t,n,e);return e.providerData&&W(e.providerData,(function(e){e&&Uc(i,ei(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function ef(e){this.a=e,this.b=al()}ac.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then((function(e){var n=ge(t.f);return delete n[oc],delete n[sc],me(n,e),t.g(n)}))},O(uc,A),cc.prototype.tb=function(e,t,n){return t.type==la?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),me(n,{phoneVerificationInfo:Ra(e.a)}),su(t,Ls,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return me(n={mfaPendingCredential:n},{phoneVerificationInfo:Ra(e.a)}),su(t,Rs,n)}))}(this,e,t)},O(fc,cc),O(hc,fc),O(dc,Jt),(n=pc.prototype).yc=function(e){vc(this,function(e){var t=[];return W(e.mfaInfo||[],(function(e){(e=ri(e))&&t.push(e)})),t}(e.hd))},n.Sb=function(){return this.a.I().then((function(e){return new ua(e,null)}))},n.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then((function(n){return e.tb(r,n,t)})).then((function(e){return Wc(n.a,e),n.a.reload()}))},n.bd=function(e){var t=this,n="string"===typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return su(r,ou,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=Y(t.b,(function(e){return e.uid!=n}));return vc(t,r),Wc(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},n.w=function(){return{multiFactor:{enrolledFactors:G(this.b,(function(e){return e.w()}))}}},gc.prototype.start=function(){this.a=this.c,yc(this,!0)},gc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},mc.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},mc.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Mt(new A("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?wc(this,{grant_type:"refresh_token",refresh_token:this.a}):Ct(null):Ct({accessToken:this.b.toString(),refreshToken:this.a})},xc.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},O(kc,Tn),kc.prototype.xa=function(e){this.za=e,ss(this.a,e)},kc.prototype.la=function(){return this.za},kc.prototype.Ga=function(){return Z(this.aa)},kc.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Jr(kc.prototype,"providerId","firebase"),(n=kc.prototype).reload=function(){var e=this;return Jc(this,Fc(this).then((function(){return Hc(e).then((function(){return Nc(e)})).then(Rc)})))},n.oc=function(e){return this.I(e).then((function(e){return new ic(e)}))},n.I=function(e){var t=this;return Jc(this,Fc(this).then((function(){return t.h.getToken(e)})).then((function(e){if(!e)throw new A("internal-error");return e.accessToken!=t.Aa&&(Pc(t,e.accessToken),t.dispatchEvent(new dc("tokenChanged"))),Bc(t,"refreshToken",e.refreshToken),e.accessToken})))},n.Kc=function(e){if(!(e=e.users)||!e.length)throw new A("internal-error");Lc(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?G(e,(function(e){return new Tc(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Uc(this,t[n]);Bc(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new dc("userReloaded",{hd:e}))},n.Lc=function(e){return $r("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},n.ub=function(e){var t=this,n=null;return Jc(this,e.c(this.a,this.uid).then((function(e){return Wc(t,e),n=Gc(t,e,"reauthenticate"),t.i=null,t.reload()})).then((function(){return n})),!0)},n.Cc=function(e){return $r("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},n.rb=function(e){var t=this,n=null;return Jc(this,Yc(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Gc(t,e,"link"),Kc(t,e)})).then((function(){return n})))},n.Dc=function(e,t){var n=this;return Jc(this,Yc(this,"phone").then((function(){return rc(Mc(n),e,t,x(n.rb,n))})))},n.Mc=function(e,t){var n=this;return Jc(this,Ct().then((function(){return rc(Mc(n),e,t,x(n.ub,n))})),!0)},n.Cb=function(e){var t=this;return Jc(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return Wc(t,e),t.reload()})))},n.ed=function(e){var t=this;return Jc(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return Wc(t,e),t.reload()})))},n.Db=function(e){var t=this;return Jc(this,this.I().then((function(n){return t.a.Db(n,e)})).then((function(e){return Wc(t,e),t.reload()})))},n.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Fc(this);var t=this;return Jc(this,this.I().then((function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Wc(t,e),Bc(t,"displayName",e.displayName||null),Bc(t,"photoURL",e.photoUrl||null),W(t.providerData,(function(e){"password"===e.providerId&&(Jr(e,"displayName",t.displayName),Jr(e,"photoURL",t.photoURL))})),Nc(t)})).then(Rc))},n.cd=function(e){var t=this;return Jc(this,Hc(this).then((function(n){return X(zc(t),e)?function(e,t,n){return su(e,Ps,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return W(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),W(zc(t),(function(e){n[e]||qc(t,e)})),n[Fa.PROVIDER_ID]||Jr(t,"phoneNumber",null),Nc(t)})):Nc(t).then((function(){throw new A("no-such-provider")}))})))},n.delete=function(){var e=this;return Jc(this,this.I().then((function(t){return su(e.a,Ds,{idToken:t})})).then((function(){e.dispatchEvent(new dc("userDeleted"))}))).then((function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");Sc(e,null),Ac(e,null),Cc(e,null),e.N=[],e.J=!0,Dc(e),Jr(e,"refreshToken",null),e.b&&zl(e.b,e)}))},n.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},n.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?x(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?x(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?x(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?x(this.Mb,this):null},n.Ec=function(e){var t=this;return Xc(this,"linkViaPopup",e,(function(){return Yc(t,e.providerId).then((function(){return Nc(t)}))}),!1)},n.Nc=function(e){return Xc(this,"reauthViaPopup",e,(function(){return Ct()}),!0)},n.Fc=function(e){var t=this;return $c(this,"linkViaRedirect",e,(function(){return Yc(t,e.providerId)}),!1)},n.Oc=function(e){return $c(this,"reauthViaRedirect",e,(function(){return Ct()}),!0)},n.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var a=null;return Jc(this,this.I().then((function(n){return Os(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return a=Gc(i,e,"link"),Kc(i,e)})).then((function(){return a})))},n.Mb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var a=null;return Jc(this,Ct().then((function(){return ha(Ss(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return a=Gc(i,e,"reauthenticate"),Wc(i,e),i.i=null,i.reload()})).then((function(){return a})),!0)},n.vb=function(e){var t=this,n=null;return Jc(this,this.I().then((function(t){return n=t,"undefined"===typeof e||ve(e)?{}:Bi(new Di(e))})).then((function(e){return t.a.vb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},n.Fb=function(e,t){var n=this,r=null;return Jc(this,this.I().then((function(e){return r=e,"undefined"===typeof t||ve(t)?{}:Bi(new Di(t))})).then((function(t){return n.a.Fb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},n.jc=function(e){var t=null,n=this;return Jc(this,e=ha(Ct(e),n.uid).then((function(e){return t=Gc(n,e,"reauthenticate"),Wc(n,e),n.i=null,n.reload()})).then((function(){return t})),!0)},n.toJSON=function(){return this.w()},n.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&me(e,this.metadata.w()),W(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),me(e,this.S.w()),e};var tf={name:"redirectUser",F:"session"};function nf(e){return ul(e.b,tf,e.a)}function rf(e){this.a=e,this.b=al(),this.c=null,this.f=function(e){var t=sf("local"),n=sf("session"),r=sf("none");return function(e,t,n){var r=sl(t,n),i=ol(e,t.F);return e.get(t,n).then((function(a){var o=null;try{o=Ur(u.localStorage.getItem(r))}catch(s){}if(o&&!a)return u.localStorage.removeItem(r),e.set(t,o,n);o&&a&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(of,e.a).then((function(e){return e?sf(e):t}))}))}))})).then((function(t){return e.c=t,af(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(sf("local"),this.a,x(this.g,this))}function af(e,t){var n,r=[];for(n in rl)rl[n]!==t&&r.push(ul(e.b,sf(rl[n]),e.a));return r.push(ul(e.b,of,e.a)),function(e){return new xt((function(t,n){var r=e.length,i=[];if(r)for(var a=function(e,n){r--,i[e]=n,0==r&&t(i)},o=function(e){n(e)},s=0;s<e.length;s++)It(e[s],T(a,s),o);else t(i)}))}(r)}rf.prototype.g=function(){var e=this,t=sf("local");ff(this,(function(){return Ct().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return af(e,"local").then((function(){e.c=t}))}))}))};var of={name:"persistence",F:"session"};function sf(e){return{name:"authUser",F:e}}function uf(e,t){return ff(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function lf(e){return ff(e,(function(){return ul(e.b,e.c,e.a)}))}function cf(e,t,n){return ff(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),Zc(e||{})}))}))}function ff(e,t){return e.f=e.f.then(t,t),e.f}function hf(e){if(this.l=!1,Jr(this,"settings",new tc),Jr(this,"app",e),!wf(this).options||!wf(this).options.apiKey)throw new A("invalid-api-key");e=t.default.SDK_VERSION?Mr(t.default.SDK_VERSION):null,this.a=new es(wf(this).options&&wf(this).options.apiKey,P(C),e),this.P=[],this.s=[],this.N=[],this.Pa=t.default.INTERNAL.createSubscribe(x(this.zc,this)),this.W=void 0,this.ib=t.default.INTERNAL.createSubscribe(x(this.Ac,this)),bf(this,null),this.i=new rf(wf(this).options.apiKey+":"+wf(this).name),this.D=new ef(wf(this).options.apiKey+":"+wf(this).name),this.$=Of(this,function(e){var t=wf(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(tf,e.a).then((function(e){return e&&t&&(e.authDomain=t),Zc(e||{})}))}(e.D,wf(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),nf(e.D)}));return Of(e,t)}(e).then((function(){return cf(e.i,t,e.R)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return uf(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:lf(e.i)}))):null})).then((function(t){bf(e,t||null)}));return Of(e,n)}(this)),this.h=Of(this,function(e){return e.$.then((function(){return yf(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(sf("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=x(this.Zc,this),this.Ba=x(this.da,this),this.qa=x(this.mc,this),this.za=x(this.wc,this),this.Aa=x(this.xc,this),this.b=null,function(e){var t=wf(e).options.authDomain,n=wf(e).options.apiKey;t&&Nr()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=Kl(t,n,wf(e).name,e.R),Fl(e.b,e),xf(e)&&jc(xf(e)),e.m){jc(e.m);var r=e.m;r.xa(e.la()),Sc(r,e),Ec(r=e.m,e.J),Cc(r,e),Oc(r=e.m,e.R),Ac(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=x(this.delete,this),this.INTERNAL.logFramework=x(this.Gc,this),this.u=0,Tn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.R){var e=qn(this.R.url);e=ei({protocol:e.c,host:e.a,port:e.g,options:ei({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.R=null}function df(e){Jt.call(this,"languageCodeChanged"),this.h=e}function pf(e){Jt.call(this,"emulatorConfigChanged"),this.c=e}function vf(e){Jt.call(this,"frameworkChanged"),this.f=e}function gf(e){return e.Oa||Mt(new A("auth-domain-config-required"))}function yf(e){if(!Nr())return Mt(new A("operation-not-supported-in-this-environment"));var t=gf(e).then((function(){return e.b.ra()})).then((function(e){return e?ei(e):null}));return Of(e,t)}function mf(e,t){var n={};return n.apiKey=wf(e).options.apiKey,n.authDomain=wf(e).options.authDomain,n.appName=wf(e).name,e.R&&(n.emulatorConfig=e.R),e.$.then((function(){return function(e,t,n,r){var i=new kc(e,t);return n&&(i.ha=n),r&&Ec(i,r),i.reload().then((function(){return i}))}(n,t,e.D,e.Ga())})).then((function(t){return xf(e)&&t.uid==xf(e).uid?(Vc(xf(e),t),e.da(t)):(bf(e,t),jc(t),e.da(t))})).then((function(){kf(e)}))}function bf(e,t){xf(e)&&(function(e,t){Q(e.W,(function(e){return e==t}))}(xf(e),e.Ba),pn(xf(e),"tokenChanged",e.qa),pn(xf(e),"userDeleted",e.za),pn(xf(e),"userInvalidated",e.Aa),Dc(xf(e))),t&&(t.W.push(e.Ba),fn(t,"tokenChanged",e.qa),fn(t,"userDeleted",e.za),fn(t,"userInvalidated",e.Aa),0<e.u&&Ic(t)),Jr(e,"currentUser",t),t&&(t.xa(e.la()),Sc(t,e),Ec(t,e.J),Cc(t,e),Oc(t,e.R),Ac(t,e))}function _f(e,t){var n=null,r=null;return Of(e,t.then((function(t){return n=Ua(t),r=Ji(t),mf(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=lc(t.w(),e,x(e.kc,e))),n||t})).then((function(){return ei({user:xf(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function wf(e){return e.app}function xf(e){return e.currentUser}function Tf(e){return xf(e)&&xf(e)._lat||null}function kf(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](Tf(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](Tf(e))}}function Of(e,t){return e.P.push(t),t.oa((function(){$(e.P,t)})),t}function Sf(){}function Af(){this.a={},this.b=1e12}rf.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new A("invalid-persistence-type"),n=new A("unsupported-persistence-type");e:{for(r in rl)if(rl[r]==e){var r=!0;break e}r=!1}if(!r||"string"!==typeof e)throw t;switch(kr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Lu()&&"none"!==e)throw n;break;default:if(!Pr()&&"none"!==e)throw n}}(e),ff(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,af(n,e)})).then((function(){if(n.c=sf(e),t)return n.b.set(n.c,t,n.a)})):Ct()}))},O(hf,Tn),O(df,Jt),O(pf,Jt),O(vf,Jt),(n=hf.prototype).yb=function(e){return Of(this,e=this.i.yb(e))},n.xa=function(e){this.aa===e||this.l||(this.aa=e,ss(this.a,this.aa),this.dispatchEvent(new df(this.la())))},n.la=function(){return this.aa},n.fd=function(){var e=u.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},n.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new A("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&!e&&_r().then((function(){var e=u.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),u.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.R={url:e,ec:t},this.settings.jb=!0,us(this.a,this.R),this.dispatchEvent(new pf(this.R))}},n.Gc=function(e){this.J.push(e),cs(this.a,t.default.SDK_VERSION?Mr(t.default.SDK_VERSION,this.J):null),this.dispatchEvent(new vf(this.J))},n.Ga=function(){return Z(this.J)},n.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},n.T=function(){return this.S},n.toJSON=function(){return{apiKey:wf(this).options.apiKey,authDomain:wf(this).options.authDomain,appName:wf(this).name,currentUser:xf(this)&&xf(this).w()}},n.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},n.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?x(this.ic,this):null},n.ic=function(e,t,n,r){var i=this,a={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return _f(i,ks(i.a,a))}))},n.Xc=function(e){if(!Nr())return Mt(new A("operation-not-supported-in-this-environment"));var n=this,r=Qi(e.providerId),i=qr(),a=null;(!Rr()||xr())&&wf(this).options.authDomain&&e.isOAuthProvider&&(a=xu(wf(this).options.authDomain,wf(this).options.apiKey,wf(this).name,"signInViaPopup",e,null,i,t.default.SDK_VERSION||null,null,null,this.T(),this.R));var o=yr(a,r&&r.va,r&&r.ua);return Of(this,r=gf(this).then((function(t){return Bl(t,o,"signInViaPopup",e,i,!!a,n.T())})).then((function(){return new xt((function(e,t){n.na("signInViaPopup",null,new A("cancelled-popup-request"),n.g),n.f=e,n.C=t,n.g=i,n.c=Wl(n.b,n,"signInViaPopup",o,i)}))})).then((function(e){return o&&gr(o),e?ei(e):null})).o((function(e){throw o&&gr(o),e})))},n.Yc=function(e){if(!Nr())return Mt(new A("operation-not-supported-in-this-environment"));var t=this;return Of(this,gf(this).then((function(){return function(e){return ff(e,(function(){return e.b.set(of,e.c.F,e.a)}))}(t.i)})).then((function(){return Hl(t.b,"signInViaRedirect",e,void 0,t.T())})))},n.ra=function(){var e=this;return yf(this).then((function(t){return e.b&&Ql(e.b.b),t})).o((function(t){throw e.b&&Ql(e.b.b),t}))},n.dd=function(e){if(!e)return Mt(new A("null-user"));if(this.S!=e.tenantId)return Mt(new A("tenant-id-mismatch"));var t=this,n={};n.apiKey=wf(this).options.apiKey,n.authDomain=wf(this).options.authDomain,n.appName=wf(this).name;var r=function(e,t,n,r){var i=e.h,a={};return a[ns]=i.b&&i.b.toString(),a.refreshToken=i.a,t=new kc(t||{apiKey:e.l,authDomain:e.s,appName:e.m},a),n&&(t.ha=n),r&&Ec(t,r),Vc(t,e),t}(e,n,t.D,t.Ga());return Of(this,this.h.then((function(){if(wf(t).options.apiKey!=e.l)return r.reload()})).then((function(){return xf(t)&&e.uid==xf(t).uid?(Vc(xf(t),e),t.da(e)):(bf(t,r),jc(r),t.da(r))})).then((function(){kf(t)})))},n.Bb=function(){var e=this;return Of(this,this.h.then((function(){return e.b&&Ql(e.b.b),xf(e)?(bf(e,null),lf(e.i).then((function(){kf(e)}))):Ct()})))},n.Zc=function(){var e=this;return cf(this.i,wf(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=xf(e)&&t){n=xf(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Vc(xf(e),t),xf(e).I();(xf(e)||t)&&(bf(e,t),t&&(jc(t),t.ha=e.D),e.b&&Fl(e.b,e),kf(e))}}))},n.da=function(e){return uf(this.i,e)},n.mc=function(){kf(this),this.da(xf(this))},n.wc=function(){this.Bb()},n.xc=function(){this.Bb()},n.kc=function(e){var t=this;return this.h.then((function(){return _f(t,Ct(e))}))},n.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(xf(t))}))},n.Ac=function(e){var t=this;!function(e,t){e.N.push(t),Of(e,e.h.then((function(){!e.l&&X(e.N,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(Tf(e)))})))}(this,(function(){e.next(xf(t))}))},n.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof e?e(xf(r)):"function"===typeof e.next&&e.next(xf(r))})),this.Pa(e,t,n)},n.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"===typeof e?e(xf(r)):"function"===typeof e.next&&e.next(xf(r))})),this.ib(e,t,n)},n.nc=function(e){var t=this;return Of(this,this.h.then((function(){return xf(t)?xf(t).I(e).then((function(e){return{accessToken:e}})):null})))},n.Tc=function(e){var t=this;return this.h.then((function(){return _f(t,su(t.a,tu,{token:e}))})).then((function(e){var n=e.user;return Bc(n,"isAnonymous",!1),t.da(n),e}))},n.Uc=function(e,t){var n=this;return this.h.then((function(){return _f(n,su(n.a,nu,{email:e,password:t}))}))},n.dc=function(e,t){var n=this;return this.h.then((function(){return _f(n,su(n.a,Ms,{email:e,password:t}))}))},n.ab=function(e){var t=this;return this.h.then((function(){return _f(t,e.ka(t.a))}))},n.Sc=function(e){return $r("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},n.Ab=function(){var e=this;return this.h.then((function(){var t=xf(e);if(t&&t.isAnonymous){var n=ei({providerId:null,isNewUser:!1});return ei({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return _f(e,e.a.Ab()).then((function(t){var n=t.user;return Bc(n,"isAnonymous",!0),e.da(n),t}))}))},n.getUid=function(){return xf(this)&&xf(this).uid||null},n.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&xf(this)&&Ic(xf(this))},n.Pc=function(e){var t=this;W(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&xf(this)&&Dc(xf(this)),this.removeAuthTokenListener(e)},n.addAuthTokenListener=function(e){var t=this;this.s.push(e),Of(this,this.h.then((function(){t.l||X(t.s,e)&&e(Tf(t))})))},n.removeAuthTokenListener=function(e){Q(this.s,(function(t){return t==e}))},n.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(sf("local"),e.a,this.ja),this.b&&(zl(this.b,this),Ql(this.b.b)),Promise.resolve()},n.hc=function(e){return Of(this,function(e,t){return su(e,Is,{identifier:t,continueUri:jr()?hr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},n.Bc=function(e){return!!Na(e)},n.xb=function(e,t){var n=this;return Of(this,Ct().then((function(){var e=new Di(t);if(!e.c)throw new A("argument-error",ji+" must be true when sending sign in link to email");return Bi(e)})).then((function(t){return n.a.xb(e,t)})).then((function(){})))},n.jd=function(e){return this.Sa(e).then((function(e){return e.data.email}))},n.ob=function(e,t){return Of(this,this.a.ob(e,t).then((function(){})))},n.Sa=function(e){return Of(this,this.a.Sa(e).then((function(e){return new li(e)})))},n.kb=function(e){return Of(this,this.a.kb(e).then((function(){})))},n.wb=function(e,t){var n=this;return Of(this,Ct().then((function(){return"undefined"===typeof t||ve(t)?{}:Bi(new Di(t))})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},n.Wc=function(e,t){return Of(this,rc(this,e,t,x(this.ab,this)))},n.Vc=function(e,t){var n=this;return Of(this,Ct().then((function(){var r=t||hr(),i=Pa(e,r);if(!(r=Na(r)))throw new A("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new A("tenant-id-mismatch");return n.ab(i)})))},Sf.prototype.render=function(){},Sf.prototype.reset=function(){},Sf.prototype.getResponse=function(){},Sf.prototype.execute=function(){};var Ef=null;function Cf(e,t){return(t=Mf(t))&&e.a[t]||null}function Mf(e){return(e="undefined"===typeof e?1e12:e)?e.toString():null}function If(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ct(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():fn(this.f,"click",this.i)}function Df(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Pf(){}function Nf(){}Af.prototype.render=function(e,t){return this.a[this.b.toString()]=new If(e,t),this.b++},Af.prototype.reset=function(e){var t=Cf(this,e);e=Mf(e),t&&e&&(t.delete(),delete this.a[e])},Af.prototype.getResponse=function(e){return(e=Cf(this,e))?e.getResponse():null},Af.prototype.execute=function(e){(e=Cf(this,e))&&e.execute()},If.prototype.getResponse=function(){return Df(this),this.b},If.prototype.execute=function(){Df(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()}),6e4)}),500))},If.prototype.delete=function(){Df(this),this.g=!0,clearTimeout(this.a),this.a=null,pn(this.f,"click",this.i)},Jr(Pf,"FACTOR_ID","phone"),Nf.prototype.g=function(){return Ef||(Ef=new Af),Ct(Ef)},Nf.prototype.c=function(){};var jf=null;function Lf(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Rf=new _e(ke,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ff=new Hr(3e4,6e4);Lf.prototype.g=function(e){var t=this;return new xt((function(n,r){var i=setTimeout((function(){r(new A("network-request-failed"))}),Ff.get());!u.grecaptcha||e!==t.f&&!t.b?(u[t.a]=function(){if(u.grecaptcha){t.f=e;var a=u.grecaptcha.render;u.grecaptcha.render=function(e,n){return e=a(e,n),t.b++,e},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new A("internal-error"));delete u[t.a]},Ct(Go(Ee(Rf,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new A("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},Lf.prototype.c=function(){this.b--};var zf=null;function Uf(e,t,n,r,i,a,o){if(Jr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,o?(jf||(jf=new Nf),o=jf):(zf||(zf=new Lf),o=zf),this.m=o,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Vf])throw new A("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Hf],!u.document)throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ct(t)||!this.i&&ct(t).hasChildNodes())throw new A("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new es(e,a||null,i||null),this.u=r||function(){return null};var s=this;this.l=[];var l=this.a[qf];this.a[qf]=function(e){if(Wf(s,e),"function"===typeof l)l(e);else if("string"===typeof l){var t=Dr(l,u);"function"===typeof t&&t(e)}};var c=this.a[Bf];this.a[Bf]=function(){if(Wf(s,null),"function"===typeof c)c();else if("string"===typeof c){var e=Dr(c,u);"function"===typeof e&&e()}}}var qf="callback",Bf="expired-callback",Vf="sitekey",Hf="size";function Wf(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function Yf(e,t){return e.h.push(t),t.oa((function(){$(e.h,t)})),t}function Gf(e){if(e.J)throw new A("internal-error","RecaptchaVerifier instance has been destroyed.")}function Kf(e,n,r){var i=!1;try{this.b=r||t.default.app()}catch(s){throw new A("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new A("invalid-api-key");r=this.b.options.apiKey;var a=this,o=null;try{o=this.b.auth().Ga()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}o=t.default.SDK_VERSION?Mr(t.default.SDK_VERSION,o):null,Uf.call(this,r,e,n,(function(){try{var e=a.b.auth().la()}catch(t){e=null}return e}),o,P(C),i)}function Xf(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,a=!1,o=0;o<t.length;o++)if(t[o].optional)a=!0;else{if(a)throw new A("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(a=t.length,n.length<i||a<n.length)r="Expected "+(i==a?1==i?"1 argument":i+" arguments":i+"-"+a+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(a=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!a){if(t=t[i],0>i||i>=$f.length)throw new A("internal-error","Argument validator received an unsupported number of arguments.");n=$f[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new A("argument-error",e+" failed: "+r)}(n=Uf.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Yf(this,Ct().then((function(){if(jr()&&!Tr())return _r();throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,su(e.s,Hs,{})})).then((function(t){e.a[Vf]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},n.render=function(){Gf(this);var e=this;return Yf(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=ct(t);t=function(e,t,n){var r=arguments,i=document,a=String(r[0]),o=r[1];if(!lt&&o&&(o.name||o.type)){if(a=["<",a],o.name&&a.push(' name="',We(o.name),'"'),o.type){a.push(' type="',We(o.type),'"');var s={};me(s,o),delete s.type,o=s}a.push(">"),a=a.join("")}return a=gt(i,a),o&&("string"===typeof o?a.className=o:Array.isArray(o)?a.className=o.join(" "):ft(a,o)),2<r.length&&vt(i,a,r),a}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},n.verify=function(){Gf(this);var e=this;return Yf(this,this.render().then((function(t){return new xt((function(n){var r=e.g.getResponse(t);if(r)n(r);else{e.l.push((function t(r){r&&(function(e,t){Q(e.l,(function(e){return e==t}))}(e,t),n(r))})),e.i&&e.g.execute(e.c)}}))})))},n.reset=function(){Gf(this),null!==this.c&&this.g.reset(this.c)},n.clear=function(){Gf(this),this.J=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=ct(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},O(Kf,Uf);var $f="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Qf(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"===typeof e}}}function Jf(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"===typeof e}}}function Zf(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:g}}function eh(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"===typeof e}}}function th(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function nh(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function rh(e,t){return g(e)&&"string"===typeof e.type&&e.type===t&&"function"===typeof e.Ha}function ih(e){return g(e)&&"string"===typeof e.uid}function ah(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function oh(e,t){for(var n in t){var r=t[n].name;e[r]=lh(r,e[n],t[n].j)}}function sh(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:T((function(e){return this[e]}),n),set:T((function(e,t,n,r){Xf(e,[n],[r],!0),this[t]=r}),r,n,t[n].lb),enumerable:!0})}}function uh(e,t,n,r){e[t]=lh(t,n,r)}function lh(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Xf(a,n,e),t.apply(this,e)}if(!n)return t;var i,a=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}oh(hf.prototype,{kb:{name:"applyActionCode",j:[Qf("code")]},Sa:{name:"checkActionCode",j:[Qf("code")]},ob:{name:"confirmPasswordReset",j:[Qf("code"),Qf("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Qf("email"),Qf("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Qf("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Qf("emailLink")]},Hc:{name:"onAuthStateChanged",j:[ah(Zf(),eh(),"nextOrObserver"),eh("opt_error",!0),eh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[ah(Zf(),eh(),"nextOrObserver"),eh("opt_error",!0),eh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Qf("email"),ah(Zf("opt_actionCodeSettings",!0),th(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Qf("email"),Zf("actionCodeSettings")]},yb:{name:"setPersistence",j:[Qf("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[nh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[nh()]},Tc:{name:"signInWithCustomToken",j:[Qf("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Qf("email"),Qf("password")]},Vc:{name:"signInWithEmailLink",j:[Qf("email"),Qf("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Qf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[ah({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof kc)}},th(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Qf(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Qf("url"),Zf("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Qf("code")]}}),sh(hf.prototype,{lc:{name:"languageCode",lb:ah(Qf(),th(),"languageCode")},ti:{name:"tenantId",lb:ah(Qf(),th(),"tenantId")}}),hf.Persistence=rl,hf.Persistence.LOCAL="local",hf.Persistence.SESSION="session",hf.Persistence.NONE="none",oh(kc.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Jf("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Jf("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[nh()]},rb:{name:"linkWithCredential",j:[nh()]},Dc:{name:"linkWithPhoneNumber",j:[Qf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[nh()]},ub:{name:"reauthenticateWithCredential",j:[nh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Qf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[ah(Zf("opt_actionCodeSettings",!0),th(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Qf(null,!0)]},cd:{name:"unlink",j:[Qf("provider")]},Cb:{name:"updateEmail",j:[Qf("email")]},Db:{name:"updatePassword",j:[Qf("password")]},ed:{name:"updatePhoneNumber",j:[nh("phone")]},Eb:{name:"updateProfile",j:[Zf("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Qf("email"),ah(Zf("opt_actionCodeSettings",!0),th(null,!0),"opt_actionCodeSettings",!0)]}}),oh(Af.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),oh(Sf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),oh(xt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),sh(tc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Jf("appVerificationDisabledForTesting")}}),oh(nc.prototype,{confirm:{name:"confirm",j:[Qf("verificationCode")]}}),uh(fa,"fromJSON",(function(e){e="string"===typeof e?JSON.parse(e):e;for(var t,n=[ma,Ia,La,va],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[ah(Qf(),Zf(),"json")]),uh(Da,"credential",(function(e,t){return new Ma(e,t)}),[Qf("email"),Qf("password")]),oh(Ma.prototype,{w:{name:"toJSON",j:[Qf(null,!0)]}}),oh(xa.prototype,{Ca:{name:"addScope",j:[Qf("scope")]},Ka:{name:"setCustomParameters",j:[Zf("customOAuthParameters")]}}),uh(xa,"credential",Ta,[ah(Qf(),Zf(),"token")]),uh(Da,"credentialWithLink",Pa,[Qf("email"),Qf("emailLink")]),oh(ka.prototype,{Ca:{name:"addScope",j:[Qf("scope")]},Ka:{name:"setCustomParameters",j:[Zf("customOAuthParameters")]}}),uh(ka,"credential",Oa,[ah(Qf(),Zf(),"token")]),oh(Sa.prototype,{Ca:{name:"addScope",j:[Qf("scope")]},Ka:{name:"setCustomParameters",j:[Zf("customOAuthParameters")]}}),uh(Sa,"credential",Aa,[ah(Qf(),ah(Zf(),th()),"idToken"),ah(Qf(),th(),"accessToken",!0)]),oh(Ea.prototype,{Ka:{name:"setCustomParameters",j:[Zf("customOAuthParameters")]}}),uh(Ea,"credential",Ca,[ah(Qf(),Zf(),"token"),Qf("secret",!0)]),oh(wa.prototype,{Ca:{name:"addScope",j:[Qf("scope")]},credential:{name:"credential",j:[ah(Qf(),ah(Zf(),th()),"optionsOrIdToken"),ah(Qf(),th(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Zf("customOAuthParameters")]}}),oh(ga.prototype,{w:{name:"toJSON",j:[Qf(null,!0)]}}),oh(da.prototype,{w:{name:"toJSON",j:[Qf(null,!0)]}}),uh(Fa,"credential",za,[Qf("verificationId"),Qf("verificationCode")]),oh(Fa.prototype,{gb:{name:"verifyPhoneNumber",j:[ah(Qf(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?rh(e.session,la)&&"string"===typeof e.phoneNumber:e.session&&e.multiFactorHint?rh(e.session,ca)&&ih(e.multiFactorHint):e.session&&e.multiFactorUid?rh(e.session,ca)&&"string"===typeof e.multiFactorUid:!!e.phoneNumber&&"string"===typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]}}),oh(ja.prototype,{w:{name:"toJSON",j:[Qf(null,!0)]}}),oh(A.prototype,{toJSON:{name:"toJSON",j:[Qf(null,!0)]}}),oh(Ka.prototype,{toJSON:{name:"toJSON",j:[Qf(null,!0)]}}),oh(Ga.prototype,{toJSON:{name:"toJSON",j:[Qf(null,!0)]}}),oh(uc.prototype,{toJSON:{name:"toJSON",j:[Qf(null,!0)]}}),oh(ac.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}]}}),oh(pc.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}},Qf("displayName",!0)]},bd:{name:"unenroll",j:[ah({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:ih},Qf(),"multiFactorInfoIdentifier")]}}),oh(Kf.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),uh(Ti,"parseLink",Ii,[Qf("link")]),uh(Pf,"assertion",(function(e){return new hc(e)}),[nh("phone")]),function(){if("undefined"===typeof t.default||!t.default.INTERNAL||!t.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:fi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ci,VERIFY_AND_CHANGE_EMAIL:hi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:hf,AuthCredential:fa,Error:A};uh(e,"EmailAuthProvider",Da,[]),uh(e,"FacebookAuthProvider",xa,[]),uh(e,"GithubAuthProvider",ka,[]),uh(e,"GoogleAuthProvider",Sa,[]),uh(e,"TwitterAuthProvider",Ea,[]),uh(e,"OAuthProvider",wa,[Qf("providerId")]),uh(e,"SAMLAuthProvider",_a,[Qf("providerId")]),uh(e,"PhoneAuthProvider",Fa,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof hf)}}]),uh(e,"RecaptchaVerifier",Kf,[ah(Qf(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),Zf("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof t.default.app.App)}}]),uh(e,"ActionCodeURL",Ti,[]),uh(e,"PhoneMultiFactorGenerator",Pf,[]),t.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new hf(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),t.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:x((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:x(e.nc,e),addAuthTokenListener:x(e.cc,e),removeAuthTokenListener:x(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),t.default.registerVersion("@firebase/auth","0.16.8"),t.default.INTERNAL.extendNamespace({User:kc})}()}).apply("undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}).call(this,n(45))},function(e,t,n){"use strict";(function(e,t){var r=n(10),i=n(14),a=n(3),o=n(1),s=n(13),u="";function l(e){u=e}var c=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Object(a.stringify)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Object(a.jsonEval)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),f=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return Object(a.contains)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),h=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new c(t)}}catch(n){}return new f},d=h("localStorage"),p=h("sessionStorage"),v=new s.Logger("@firebase/database"),g=function(){var e=1;return function(){return e++}}(),y=function(e){var t=Object(a.stringToByteArray)(e),n=new a.Sha1;n.update(t);var r=n.digest();return a.base64.encodeByteArray(r)},m=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=0;i<t.length;i++){var o=t[i];Array.isArray(o)||o&&"object"===typeof o&&"number"===typeof o.length?r+=e.apply(null,o):r+="object"===typeof o?Object(a.stringify)(o):o,r+=" "}return r},b=null,_=!0,w=function(e,t){Object(a.assert)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(v.logLevel=s.LogLevel.VERBOSE,b=v.log.bind(v),t&&p.set("logging_enabled",!0)):"function"===typeof e?b=e:(b=null,p.remove("logging_enabled"))},x=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===_&&(_=!1,null===b&&!0===p.get("logging_enabled")&&w(!0)),b){var n=m.apply(null,e);b(n)}},T=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];x.apply(void 0,Object(o.__spreadArray)([e],Object(o.__read)(t)))}},k=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+m.apply(void 0,Object(o.__spreadArray)([],Object(o.__read)(e)));v.error(n)},O=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+m.apply(void 0,Object(o.__spreadArray)([],Object(o.__read)(e)));throw v.error(n),new Error(n)},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+m.apply(void 0,Object(o.__spreadArray)([],Object(o.__read)(e)));v.warn(n)},A=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},E="[MIN_NAME]",C="[MAX_NAME]",M=function(e,t){if(e===t)return 0;if(e===E||t===C)return-1;if(t===E||e===C)return 1;var n=U(e),r=U(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},I=function(e,t){return e===t?0:e<t?-1:1},D=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Object(a.stringify)(t))},P=function e(t){if("object"!==typeof t||null===t)return Object(a.stringify)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",o=0;o<n.length;o++)0!==o&&(i+=","),i+=Object(a.stringify)(n[o]),i+=":",i+=e(t[n[o]]);return i+="}"},N=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function j(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var L=function(e){Object(a.assert)(!A(e),"Invalid JSON number");var t,n,r,i,o,s=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),s))+s,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var u=[];for(o=52;o;o-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var l=u.join(""),c="";for(o=0;o<64;o+=8){var f=parseInt(l.substr(o,8),2).toString(16);1===f.length&&(f="0"+f),c+=f}return c.toLowerCase()};var R=new RegExp("^-?(0*)\\d{1,10}$"),F=-2147483648,z=2147483647,U=function(e){if(R.test(e)){var t=Number(e);if(t>=F&&t<=z)return t}return null},q=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw S("Exception was thrown by user callback.",e),t}),Math.floor(0))}},B=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},V=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){S('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),H=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(x("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',S(e)},e}(),W=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),Y="5",G=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,K="websocket",X="long_polling",$=function(){function e(e,t,n,r,i,a,o){void 0===i&&(i=!1),void 0===a&&(a=""),void 0===o&&(o=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=a,this.includeNamespaceInQueryParams=o,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=d.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&d.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function Q(e,t,n){var r;if(Object(a.assert)("string"===typeof t,"typeof type must == string"),Object(a.assert)("object"===typeof n,"typeof params must == object"),t===K)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==X)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return j(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var J=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),Object(a.contains)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return Object(a.deepCopy)(this.counters_)},e}(),Z={},ee={};function te(e){var t=e.toString();return Z[t]||(Z[t]=new J),Z[t]}var ne=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&q((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),re="start",ie="close",ae=function(){function e(e,t,n,r,i,a,o){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=a,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=T(e),this.stats_=te(t),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),Q(t,X,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ne(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Object(a.isNodeSdk)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new oe((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object(o.__read)(e,5),i=r[0],a=r[1],s=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===re)n.id=a,n.password=s;else{if(i!==ie)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object(o.__read)(e,2),i=r[0],a=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=Y,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&G.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!Object(a.isNodeSdk)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=Object(a.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Object(a.base64Encode)(t),r=N(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!Object(a.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=Object(a.stringify)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),oe=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(a.isNodeSdk)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=g(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var o="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))o='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){x("frame writing exception"),u.stack&&x(u.stack),x(u)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||x("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;Object(a.isNodeSdk)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){x("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),se=null;"undefined"!==typeof MozWebSocket?se=MozWebSocket:"undefined"!==typeof WebSocket&&(se=WebSocket);var ue=function(){function t(e,n,r,i,a,o,s){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=T(this.connId),this.stats_=te(n),this.connURL=t.connectionURL_(n,o,s,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(e,t,n,r){var i={};return i.v=Y,!Object(a.isNodeSdk)()&&"undefined"!==typeof location&&location.hostname&&G.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),Q(e,K,i)},t.prototype.open=function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,d.set("previous_websocket_failure",!0);try{if(Object(a.isNodeSdk)()){var i=this.nodeAdmin?"AdminNode":"Node",o={headers:{"User-Agent":"Firebase/5/"+u+"/"+e.platform+"/"+i,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(o.headers.Authorization=this.authToken),this.appCheckToken&&(o.headers["X-Firebase-AppCheck"]=this.appCheckToken);var s=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}),l=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;l&&(o.proxy={origin:l}),this.mySock=new se(this.connURL,[],o)}else{o={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new se(this.connURL,[],o)}}catch(f){this.log_("Error instantiating WebSocket.");var c=f.message||f.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(e){r.handleIncomingFrame(e)},this.mySock.onerror=function(e){r.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&r.log_(t),r.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==se&&!t.forceDisallow_},t.previouslyFailed=function(){return d.isInMemoryStorage||!0===d.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){d.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Object(a.jsonEval)(t);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},t.prototype.extractFrameCount_=function(e){if(Object(a.assert)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},t.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(e){this.resetKeepAlive();var t=Object(a.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=N(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),le=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[ae,ue]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=ue&&ue.isAvailable(),a=i&&!ue.previouslyFailed();if(t.webSocketOnly&&(i||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[ue];else{var s=this.transports_=[];try{for(var u=Object(o.__values)(e.ALL_TRANSPORTS),l=u.next();!l.done;l=u.next()){var c=l.value;c&&c.isAvailable()&&s.push(c)}}catch(f){n={error:f}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),ce=function(){function e(e,t,n,r,i,a,o,s,u,l){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=a,this.onReady_=o,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=T("c:"+this.id+":"),this.transportManager_=new le(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=B((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=D("t",e),n=D("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=D("t",e),n=D("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=D("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?k("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):k("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Y!==n&&S("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),B((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):B((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(d.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),fe=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),he=function(){function e(e){this.allowedEvents_=e,this.listeners_={},Object(a.assert)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=Object(o.__spreadArray)([],Object(o.__read)(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){Object(a.assert)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),de=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Object(a.isMobileCordova)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return Object(o.__extends)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Object(a.assert)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(he),pe=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function ve(){return new pe("")}function ge(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ye(e){return e.pieces_.length-e.pieceNum_}function me(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new pe(e.pieces_,t)}function be(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function _e(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function we(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new pe(t,0)}function xe(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof pe)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new pe(n,0)}function Te(e){return e.pieceNum_>=e.pieces_.length}function ke(e,t){var n=ge(e),r=ge(t);if(null===n)return t;if(n===r)return ke(me(e),me(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Oe(e,t){for(var n=_e(e,0),r=_e(t,0),i=0;i<n.length&&i<r.length;i++){var a=M(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function Se(e,t){if(ye(e)!==ye(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ae(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(ye(e)>ye(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Ee=function(e,t){this.errorPrefix_=t,this.parts_=_e(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(a.stringLength)(this.parts_[n]);Ce(this)};function Ce(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Me(e))}function Me(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Ie,De,Pe=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",t="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",t="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return Object(o.__extends)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Object(a.assert)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(he),Ne=1e3,je=function(e){function t(n,r,i,o,s,u,l,c){var f=e.call(this)||this;if(f.repoInfo_=n,f.applicationId_=r,f.onDataUpdate_=i,f.onConnectStatus_=o,f.onServerInfoUpdate_=s,f.authTokenProvider_=u,f.appCheckTokenProvider_=l,f.authOverride_=c,f.id=t.nextPersistentConnectionId_++,f.log_=T("p:"+f.id+":"),f.interruptReasons_={},f.listens=new Map,f.outstandingPuts_=[],f.outstandingGets_=[],f.outstandingPutCount_=0,f.outstandingGetCount_=0,f.onDisconnectRequestQueue_=[],f.connected_=!1,f.reconnectDelay_=Ne,f.maxReconnectDelay_=3e5,f.securityDebugCallback_=null,f.lastSessionId=null,f.establishConnectionTimer_=null,f.visible_=!1,f.requestCBHash_={},f.requestNumber_=0,f.realtime_=null,f.authToken_=null,f.appCheckToken_=null,f.forceTokenRefresh_=!1,f.invalidAuthTokenCount_=0,f.invalidAppCheckTokenCount_=0,f.firstConnection_=!0,f.lastConnectionAttemptTime_=null,f.lastConnectionEstablishedTime_=null,c&&!Object(a.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Pe.getInstance().on("visible",f.onVisible_,f),-1===n.host.indexOf("fblocal")&&de.getInstance().on("online",f.onOnline_,f),f}return Object(o.__extends)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Object(a.stringify)(i)),Object(a.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new a.Deferred,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var o=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[o];void 0!==e&&i===e&&(delete t.outstandingGets_[o],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+o+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(o),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Object(a.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(a.assert)(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(a))===e&&(n.log_("listen response",o),"ok"!==u&&n.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"===typeof e&&Object(a.contains)(e,"w")){var n=Object(a.safeGet)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();S("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||Object(a.isAdmin)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=Object(a.isValidFormat)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(a.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+Object(a.stringify)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):k("Unrecognized action received from server: "+Object(a.stringify)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;Object(a.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ne,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ne,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ne),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,s,u,l,c,f,h,d,p,v,g,y=this;return Object(o.__generator)(this,(function(m){switch(m.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,u=!1,l=null,c=function(){l?l.close():(u=!0,r())},f=function(e){Object(a.assert)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)},this.realtime_={close:c,sendRequest:f},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,m.label=1;case 1:return m.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)])];case 2:return d=o.__read.apply(void 0,[m.sent(),2]),p=d[0],v=d[1],u?x("getToken() completed but was canceled"):(x("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=v&&v.token,l=new ce(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,(function(e){S(e+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")}),s)),[3,4];case 3:return g=m.sent(),this.log_("Failed to get token: "+g),u||(this.repoInfo_.nodeAdmin&&S(g),c()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){x("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){x("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Object(a.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=Ne,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return P(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new pe(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){x("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){x("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=Object(o.__values)(this.listens.values()),a=i.next();!a.done;a=i.next()){var s=a.value;try{for(var u=(n=void 0,Object(o.__values)(s.values())),l=u.next();!l.done;l=u.next()){var c=l.value;this.sendListen_(c)}}catch(d){n={error:d}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(p){e={error:p}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var f=0;f<this.outstandingPuts_.length;f++)this.outstandingPuts_[f]&&this.sendPut_(f);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(f=0;f<this.outstandingGets_.length;f++)this.outstandingGets_[f]&&this.sendGet_(f)},t.prototype.sendConnectStats_=function(){var e={},t="js";Object(a.isNodeSdk)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+u.replace(/\./g,"-")]=1,Object(a.isMobileCordova)()?e["framework.cordova"]=1:Object(a.isReactNative)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=de.getInstance().currentlyOnline();return Object(a.isEmpty)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(fe),Le=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Re=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Le(E,e),r=new Le(E,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Le.MIN},e}(),Fe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Ie},set:function(e){Ie=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return M(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw Object(a.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Le.MIN},t.prototype.maxPost=function(){return new Le(C,Ie)},t.prototype.makePost=function(e,t){return Object(a.assert)("string"===typeof e,"KeyIndex indexValue must always be a string."),new Le(e,Ie)},t.prototype.toString=function(){return".key"},t}(Re),ze=new Fe,Ue=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var a=1;!e.isEmpty();)if(e=e,a=t?n(e.key,t):1,r&&(a*=-1),a<0)e=this.isReverse_?e.left:e.right;else{if(0===a){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),qe=function(){function e(t,n,r,i,a){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Ve.EMPTY_NODE,this.right=null!=a?a:Ve.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Ve.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Ve.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Be=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new qe(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Ve=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,qe.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,qe.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Ue(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Ue(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Ue(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Ue(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new Be,e}();function He(e,t){return M(e.name,t.name)}function We(e,t){return M(e,t)}var Ye,Ge,Ke,Xe=function(e){return"number"===typeof e?"number:"+L(e):"string:"+e},$e=function(e){if(e.isLeafNode()){var t=e.val();Object(a.assert)("string"===typeof t||"number"===typeof t||"object"===typeof t&&Object(a.contains)(t,".sv"),"Priority must be a string or number.")}else Object(a.assert)(e===De||e.isEmpty(),"priority of unexpected type.");Object(a.assert)(e===De||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Qe=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Object(a.assert)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),$e(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return Ye},set:function(e){Ye=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return Te(t)?this:".priority"===ge(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=ge(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(a.assert)(".priority"!==r||1===ye(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(me(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Xe(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?L(this.value_):this.value_,this.lazyHash_=y(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Object(a.assert)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),o=e.VALUE_TYPE_ORDER.indexOf(r);return Object(a.assert)(i>=0,"Unknown leaf type: "+n),Object(a.assert)(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var Je,Ze,et=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?M(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Le.MIN},t.prototype.maxPost=function(){return new Le(C,new Qe("[PRIORITY-POST]",Ke))},t.prototype.makePost=function(e,t){var n=Ge(e);return new Le(t,new Qe("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Re)),tt=Math.log(2),nt=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/tt,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),rt=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new qe(o,a.node,qe.BLACK,null,null);var u=parseInt(s/2,10)+r,l=t(r,u),c=t(u+1,i);return a=e[u],o=n?n(a):a,new qe(o,a.node,qe.BLACK,l,c)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var l=i(a+1,s),c=e[a],f=n?n(c):c;u(new qe(f,c.node,r,null,l))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},l=0;l<t.count;++l){var c=t.nextBitIsOne(),f=Math.pow(2,t.count-(l+1));c?s(f,qe.BLACK):(s(f,qe.BLACK),s(f,qe.RED))}return a}(new nt(e.length));return new Ve(r||t,a)},it={},at=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return Object(a.assert)(it&&et,"ChildrenNode.ts has not been loaded"),Je=Je||new e({".priority":it},{".priority":et})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=Object(a.safeGet)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ve?t:null},e.prototype.hasIndex=function(e){return Object(a.contains)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){Object(a.assert)(t!==ze,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],s=!1,u=n.getIterator(Le.Wrap),l=u.getNext();l;)s=s||t.isDefinedOn(l.node),i.push(l),l=u.getNext();r=s?rt(i,t.getCompare()):it;var c=t.toString(),f=Object(o.__assign)({},this.indexSet_);f[c]=t;var h=Object(o.__assign)({},this.indexes_);return h[c]=r,new e(h,f)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(Object(a.map)(this.indexes_,(function(e,i){var o=Object(a.safeGet)(r.indexSet_,i);if(Object(a.assert)(o,"Missing index implementation for "+i),e===it){if(o.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(Le.Wrap),l=u.getNext();l;)l.name!==t.name&&s.push(l),l=u.getNext();return s.push(t),rt(s,o.getCompare())}return it}var c=n.get(t.name),f=e;return c&&(f=f.remove(new Le(t.name,c))),f.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(Object(a.map)(this.indexes_,(function(e){if(e===it)return e;var r=n.get(t.name);return r?e.remove(new Le(t.name,r)):e})),this.indexSet_)},e}(),ot=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&$e(this.priorityNode_),this.children_.isEmpty()&&Object(a.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Ze||(Ze=new e(new Ve(We),null,at.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Ze},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Ze:t},e.prototype.getChild=function(e){var t=ge(e);return null===t?this:this.getImmediateChild(t).getChild(me(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(Object(a.assert)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Le(t,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),o=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?Ze:this.priorityNode_;return new e(i,s,o)},e.prototype.updateChild=function(e,t){var n=ge(e);if(null===n)return t;Object(a.assert)(".priority"!==ge(e)||1===ye(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(me(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(et,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Xe(this.getPriority().val())+":"),this.forEachChild(et,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":y(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Le(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Le(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Le(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Le.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Le.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===st?-1:0},e.prototype.withIndex=function(t){if(t===ze||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===ze||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(et),r=t.getIterator(et),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===ze?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),st=new(function(e){function t(){return e.call(this,new Ve(We),ot.EMPTY_NODE,at.Default)||this}return Object(o.__extends)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return ot.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(ot));Object.defineProperties(Le,{MIN:{value:new Le(E,ot.EMPTY_NODE)},MAX:{value:new Le(C,st)}}),Fe.__EMPTY_NODE=ot.EMPTY_NODE,Qe.__childrenNodeConstructor=ot,De=st,function(e){Ke=e}(st);function ut(e,t){if(void 0===t&&(t=null),null===e)return ot.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Object(a.assert)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new Qe(e,ut(t));if(e instanceof Array){var n=ot.EMPTY_NODE;return j(e,(function(t,r){if(Object(a.contains)(e,t)&&"."!==t.substring(0,1)){var i=ut(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(ut(t))}var r=[],i=!1;if(j(e,(function(e,t){if("."!==e.substring(0,1)){var n=ut(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Le(e,n)))}})),0===r.length)return ot.EMPTY_NODE;var o=rt(r,He,(function(e){return e.name}),We);if(i){var s=rt(r,et.getCompare());return new ot(o,ut(t),new at({".priority":s},{".priority":et}))}return new ot(o,ut(t),at.Default)}!function(e){Ge=e}(ut);var lt=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,Object(a.assert)(!Te(t)&&".priority"!==ge(t),"Can't create PathIndex with empty path or .priority key"),n}return Object(o.__extends)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?M(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=ut(e),r=ot.EMPTY_NODE.updateChild(this.indexPath_,n);return new Le(t,r)},t.prototype.maxPost=function(){var e=ot.EMPTY_NODE.updateChild(this.indexPath_,st);return new Le(C,e)},t.prototype.toString=function(){return _e(this.indexPath_,0).join("/")},t}(Re),ct=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?M(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Le.MIN},t.prototype.maxPost=function(){return Le.MAX},t.prototype.makePost=function(e,t){var n=ut(e);return new Le(t,n)},t.prototype.toString=function(){return".value"},t}(Re)),ft="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ht=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var o=new Array(8);for(r=7;r>=0;r--)o[r]=ft.charAt(n%64),n=Math.floor(n/64);Object(a.assert)(0===n,"Cannot push at time == 0");var s=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=ft.charAt(t[r]);return Object(a.assert)(20===s.length,"nextPushId: Length should be 20."),s}}(),dt=function(e){if("2147483647"===e)return"-";var t=U(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return C;var a=n[i],o=ft.charAt(ft.indexOf(a)+1);return n[i]=o,n.slice(0,i+1).join("")},pt=function(e){if("-2147483648"===e)return E;var t=U(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=ft.charAt(ft.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function vt(e){return{type:"value",snapshotNode:e}}function gt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function yt(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function mt(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var bt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,o){Object(a.assert)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(yt(t,s)):Object(a.assert)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(gt(t,n)):o.trackChildChange(mt(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(et,(function(e,r){t.hasChild(e)||n.trackChildChange(yt(e,r))})),t.isLeafNode()||t.forEachChild(et,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(mt(t,r,i))}else n.trackChildChange(gt(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?ot.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),_t=function(){function e(t){this.indexedFilter_=new bt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,a){return this.matches(new Le(t,n))||(n=ot.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=ot.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(ot.EMPTY_NODE);var i=this;return t.forEachChild(et,(function(e,t){i.matches(new Le(e,t))||(r=r.updateImmediateChild(e,ot.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),wt=function(){function e(e){this.rangedFilter_=new _t(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,a){return this.rangedFilter_.matches(new Le(t,n))||(n=ot.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=ot.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=ot.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0:this.index_.compare(o,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(o.name,o.node),a++}}else{r=(r=t.withIndex(this.index_)).updatePriority(ot.EMPTY_NODE);var s=void 0,u=void 0,l=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();l=function(e,t){return c(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();a=0;for(var f=!1;i.hasNext();){o=i.getNext();!f&&l(s,o)<=0&&(f=!0),f&&a<this.limit_&&l(o,u)<=0?a++:r=r.updateImmediateChild(o.name,ot.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var o;if(this.reverse_){var s=this.index_.getCompare();o=function(e,t){return s(t,e)}}else o=this.index_.getCompare();var u=e;Object(a.assert)(u.numChildren()===this.limit_,"");var l=new Le(t,n),c=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),f=this.rangedFilter_.matches(l);if(u.hasChild(t)){for(var h=u.getImmediateChild(t),d=r.getChildAfterChild(this.index_,c,this.reverse_);null!=d&&(d.name===t||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:o(d,l);if(f&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(mt(t,n,h)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(yt(t,h));var v=u.updateImmediateChild(t,ot.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(gt(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?e:f&&o(c,l)>=0?(null!=i&&(i.trackChildChange(yt(c.name,c.node)),i.trackChildChange(gt(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(c.name,ot.EMPTY_NODE)):e},e}(),xt=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=et}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return Object(a.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return Object(a.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:E},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return Object(a.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return Object(a.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:C},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return Object(a.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===et},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function Tt(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function kt(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Ot(e,t){var n=e.copy();return n.index_=t,n}function St(e){var t,n={};return e.isDefault()||(e.index_===et?t="$priority":e.index_===ct?t="$value":e.index_===ze?t="$key":(Object(a.assert)(e.index_ instanceof lt,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Object(a.stringify)(t),e.startSet_&&(n.startAt=Object(a.stringify)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Object(a.stringify)(e.indexStartName_))),e.endSet_&&(n.endAt=Object(a.stringify)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Object(a.stringify)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function At(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==et&&(t.i=e.index_.toString()),t}var Et=function(e){function t(t,n,r,i){var a=e.call(this)||this;return a.repoInfo_=t,a.onDataUpdate_=n,a.authTokenProvider_=r,a.appCheckTokenProvider_=i,a.log_=T("p:rest:"),a.listens_={},a}return Object(o.__extends)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(Object(a.assert)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var o=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var u=t.getListenId_(e,r),l={};this.listens_[u]=l;var c=St(e._queryParams);this.restRequest_(s+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&o.onDataUpdate_(s,n,!1,r),Object(a.safeGet)(o.listens_,u)===l)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=St(e._queryParams),r=e._path.toString(),i=new a.Deferred;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var s=Object(o.__read)(i,2),u=s[0],l=s[1];u&&u.accessToken&&(t.auth=u.accessToken),l&&l.token&&(t.ac=l.token);var c=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+Object(a.querystring)(t);r.log_("Sending REST request for "+c);var f=new XMLHttpRequest;f.onreadystatechange=function(){if(n&&4===f.readyState){r.log_("REST Response for "+c+" received. status:",f.status,"response:",f.responseText);var e=null;if(f.status>=200&&f.status<300){try{e=Object(a.jsonEval)(f.responseText)}catch(t){S("Failed to parse JSON response for "+c+": "+f.responseText)}n(null,e)}else 401!==f.status&&404!==f.status&&S("Got unsuccessful REST response for "+c+" Status: "+f.status),n(f.status);n=null}},f.open("GET",c,!0),f.send()}))},t}(fe),Ct=function(){function e(){this.rootNode_=ot.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();function Mt(){return{value:null,children:new Map}}function It(e,t,n){if(Te(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=ge(t);e.children.has(r)||e.children.set(r,Mt()),It(e.children.get(r),t=me(t),n)}}function Dt(e,t){if(Te(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(et,(function(t,n){It(e,new pe(t),n)})),Dt(e,t)}if(e.children.size>0){var r=ge(t);if(t=me(t),e.children.has(r))Dt(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function Pt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Pt(r,new pe(t.toString()+"/"+e),n)}))}var Nt,jt=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=Object(o.__assign)({},e);return this.last_&&j(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),Lt=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new jt(e);var n=1e4+2e4*Math.random();B(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;j(t,(function(t,i){i>0&&Object(a.contains)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),B(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();function Rt(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Nt||(Nt={}));var Ft,zt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Nt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(Te(this.path)){if(null!=this.affectedTree.value)return Object(a.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new pe(t));return new e(ve(),n,this.revert)}return Object(a.assert)(ge(this.path)===t,"operationForChild called for unrelated child."),new e(me(this.path),this.affectedTree,this.revert)},e}(),Ut=function(){function e(e,t){this.source=e,this.path=t,this.type=Nt.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return Te(this.path)?new e(this.source,ve()):new e(this.source,me(this.path))},e}(),qt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Nt.OVERWRITE}return e.prototype.operationForChild=function(t){return Te(this.path)?new e(this.source,ve(),this.snap.getImmediateChild(t)):new e(this.source,me(this.path),this.snap)},e}(),Bt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Nt.MERGE}return e.prototype.operationForChild=function(t){if(Te(this.path)){var n=this.children.subtree(new pe(t));return n.isEmpty()?null:n.value?new qt(this.source,ve(),n.value):new e(this.source,ve(),n)}return Object(a.assert)(ge(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,me(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Vt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(Te(e))return this.isFullyInitialized()&&!this.filtered_;var t=ge(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),Ht=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function Wt(e,t,n,r,i,o){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Object(a.assertionError)("Should only compare child_ events.");var r=new Le(t.childName,t.snapshotNode),i=new Le(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Yt(e,t){return{eventCache:e,serverCache:t}}function Gt(e,t,n,r){return Yt(new Vt(t,n,r),e.serverCache)}function Kt(e,t,n,r){return Yt(e.eventCache,new Vt(t,n,r))}function Xt(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function $t(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Qt=function(){function e(e,t){void 0===t&&(Ft||(Ft=new Ve(I)),t=Ft),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return j(t,(function(e,t){n=n.set(new pe(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:ve(),value:this.value};if(Te(e))return null;var n=ge(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(me(e),t);return null!=i?{path:xe(new pe(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(Te(t))return this;var n=ge(t),r=this.children.get(n);return null!==r?r.subtree(me(t)):new e(null)},e.prototype.set=function(t,n){if(Te(t))return new e(n,this.children);var r=ge(t),i=(this.children.get(r)||new e(null)).set(me(t),n),a=this.children.insert(r,i);return new e(this.value,a)},e.prototype.remove=function(t){if(Te(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ge(t),r=this.children.get(n);if(r){var i=r.remove(me(t)),a=void 0;return a=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&a.isEmpty()?new e(null):new e(this.value,a)}return this},e.prototype.get=function(e){if(Te(e))return this.value;var t=ge(e),n=this.children.get(t);return n?n.get(me(e)):null},e.prototype.setTree=function(t,n){if(Te(t))return n;var r=ge(t),i=(this.children.get(r)||new e(null)).setTree(me(t),n),a=void 0;return a=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,a)},e.prototype.fold=function(e){return this.fold_(ve(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(xe(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,ve(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Te(e))return null;var i=ge(e),a=this.children.get(i);return a?a.findOnPath_(me(e),xe(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,ve(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(Te(t))return this;this.value&&r(n,this.value);var i=ge(t),a=this.children.get(i);return a?a.foreachOnPath_(me(t),xe(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(ve(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(xe(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),Jt=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new Qt(null))},e}();function Zt(e,t,n){if(Te(t))return new Jt(new Qt(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=ke(i,t);return a=a.updateChild(o,n),new Jt(e.writeTree_.set(i,a))}var s=new Qt(n),u=e.writeTree_.setTree(t,s);return new Jt(u)}function en(e,t,n){var r=e;return j(n,(function(e,n){r=Zt(r,xe(t,e),n)})),r}function tn(e,t){if(Te(t))return Jt.empty();var n=e.writeTree_.setTree(t,new Qt(null));return new Jt(n)}function nn(e,t){return null!=rn(e,t)}function rn(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(ke(n.path,t)):null}function an(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(et,(function(e,n){t.push(new Le(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Le(e,n.value))})),t}function on(e,t){if(Te(t))return e;var n=rn(e,t);return new Jt(null!=n?new Qt(n):e.writeTree_.subtree(t))}function sn(e){return e.writeTree_.isEmpty()}function un(e,t){return ln(ve(),e.writeTree_,t)}function ln(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(Object(a.assert)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=ln(xe(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(xe(e,".priority"),r)),n}function cn(e,t){return Tn(t,e)}function fn(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Object(a.assert)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,o=!1,s=e.allWrites.length-1;i&&s>=0;){var u=e.allWrites[s];u.visible&&(s>=n&&hn(u,r.path)?i=!1:Ae(r.path,u.path)&&(o=!0)),s--}if(i){if(o)return function(e){e.visibleWrites=pn(e.allWrites,dn,ve()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=tn(e.visibleWrites,r.path):j(r.children,(function(t){e.visibleWrites=tn(e.visibleWrites,xe(r.path,t))}));return!0}return!1}function hn(e,t){if(e.snap)return Ae(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Ae(xe(e.path,n),t))return!0;return!1}function dn(e){return e.visible}function pn(e,t,n){for(var r=Jt.empty(),i=0;i<e.length;++i){var o=e[i];if(t(o)){var s=o.path,u=void 0;if(o.snap)Ae(n,s)?r=Zt(r,u=ke(n,s),o.snap):Ae(s,n)&&(u=ke(s,n),r=Zt(r,ve(),o.snap.getChild(u)));else{if(!o.children)throw Object(a.assertionError)("WriteRecord should have .snap or .children");if(Ae(n,s))r=en(r,u=ke(n,s),o.children);else if(Ae(s,n))if(Te(u=ke(s,n)))r=en(r,ve(),o.children);else{var l=Object(a.safeGet)(o.children,ge(u));if(l){var c=l.getChild(me(u));r=Zt(r,ve(),c)}}}}}return r}function vn(e,t,n,r,i){if(r||i){var a=on(e.visibleWrites,t);if(!i&&sn(a))return n;if(i||null!=n||nn(a,ve())){return un(pn(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Ae(e.path,t)||Ae(t,e.path))}),t),n||ot.EMPTY_NODE)}return null}var o=rn(e.visibleWrites,t);if(null!=o)return o;var s=on(e.visibleWrites,t);return sn(s)?n:null!=n||nn(s,ve())?un(s,n||ot.EMPTY_NODE):null}function gn(e,t,n,r){return vn(e.writeTree,e.treePath,t,n,r)}function yn(e,t){return function(e,t,n){var r=ot.EMPTY_NODE,i=rn(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(et,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=on(e.visibleWrites,t);return n.forEachChild(et,(function(e,t){var n=un(on(a,new pe(e)),t);r=r.updateImmediateChild(e,n)})),an(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return an(on(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function mn(e,t,n,r){return function(e,t,n,r,i){Object(a.assert)(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=xe(t,n);if(nn(e.visibleWrites,o))return null;var s=on(e.visibleWrites,o);return sn(s)?i.getChild(n):un(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function bn(e,t){return function(e,t){return rn(e.visibleWrites,t)}(e.writeTree,xe(e.treePath,t))}function _n(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=on(e.visibleWrites,t),l=rn(u,ve());if(null!=l)s=l;else{if(null==n)return[];s=un(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var c=[],f=o.getCompare(),h=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=h.getNext();d&&c.length<i;)0!==f(d,r)&&c.push(d),d=h.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,a)}function wn(e,t,n){return function(e,t,n,r){var i=xe(t,n),a=rn(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?un(on(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function xn(e,t){return Tn(xe(e.treePath,t),e.writeTree)}function Tn(e,t){return{treePath:e,writeTree:t}}var kn=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;Object(a.assert)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Object(a.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,mt(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,yt(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,gt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Object(a.assertionError)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,mt(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),On=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),Sn=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Vt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return wn(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:$t(this.viewCache_),i=_n(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();function An(e,t,n,r,i){var o,s,u=new kn;if(n.type===Nt.OVERWRITE){var l=n;l.source.fromUser?o=Mn(e,t,l.path,l.snap,r,i,u):(Object(a.assert)(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered()&&!Te(l.path),o=Cn(e,t,l.path,l.snap,r,i,s,u))}else if(n.type===Nt.MERGE){var c=n;c.source.fromUser?o=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var l=xe(n,r);In(t,ge(l))&&(s=Mn(e,s,l,u,i,a,o))})),r.foreach((function(r,u){var l=xe(n,r);In(t,ge(l))||(s=Mn(e,s,l,u,i,a,o))})),s}(e,t,c.path,c.children,r,i,u):(Object(a.assert)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered(),o=Pn(e,t,c.path,c.children,r,i,s,u))}else if(n.type===Nt.ACK_USER_WRITE){var f=n;o=f.revert?function(e,t,n,r,i,o){var s;if(null!=bn(r,n))return t;var u=new Sn(r,t,i),l=t.eventCache.getNode(),c=void 0;if(Te(n)||".priority"===ge(n)){var f=void 0;if(t.serverCache.isFullyInitialized())f=gn(r,$t(t));else{var h=t.serverCache.getNode();Object(a.assert)(h instanceof ot,"serverChildren would be complete if leaf node"),f=yn(r,h)}f=f,c=e.filter.updateFullNode(l,f,o)}else{var d=ge(n),p=wn(r,d,t.serverCache);null==p&&t.serverCache.isCompleteForChild(d)&&(p=l.getImmediateChild(d)),(c=null!=p?e.filter.updateChild(l,d,p,me(n),u,o):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(l,d,ot.EMPTY_NODE,me(n),u,o):l).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=gn(r,$t(t))).isLeafNode()&&(c=e.filter.updateFullNode(c,s,o))}return s=t.serverCache.isFullyInitialized()||null!=bn(r,ve()),Gt(t,c,s,e.filter.filtersNodes())}(e,t,f.path,r,i,u):function(e,t,n,r,i,a,o){if(null!=bn(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Te(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Cn(e,t,n,u.getNode().getChild(n),i,a,s,o);if(Te(n)){var l=new Qt(null);return u.getNode().forEachChild(ze,(function(e,t){l=l.set(new pe(e),t)})),Pn(e,t,n,l,i,a,s,o)}return t}var c=new Qt(null);return r.foreach((function(e,t){var r=xe(n,e);u.isCompleteForPath(r)&&(c=c.set(e,u.getNode().getChild(r)))})),Pn(e,t,n,c,i,a,s,o)}(e,t,f.path,f.affectedTree,r,i,u)}else{if(n.type!==Nt.LISTEN_COMPLETE)throw Object(a.assertionError)("Unknown operation type: "+n.type);o=function(e,t,n,r,i){var a=t.serverCache,o=Kt(t,a.getNode(),a.isFullyInitialized()||Te(n),a.isFiltered());return En(e,o,n,r,On,i)}(e,t,n.path,r,u)}var h=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=Xt(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(vt(Xt(t)))}}(t,o,h),{viewCache:o,changes:h}}function En(e,t,n,r,i,o){var s=t.eventCache;if(null!=bn(r,n))return t;var u=void 0,l=void 0;if(Te(n))if(Object(a.assert)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=$t(t),f=yn(r,c instanceof ot?c:ot.EMPTY_NODE);u=e.filter.updateFullNode(t.eventCache.getNode(),f,o)}else{var h=gn(r,$t(t));u=e.filter.updateFullNode(t.eventCache.getNode(),h,o)}else{var d=ge(n);if(".priority"===d){Object(a.assert)(1===ye(n),"Can't have a priority with additional path components");var p=s.getNode(),v=mn(r,n,p,l=t.serverCache.getNode());u=null!=v?e.filter.updatePriority(p,v):s.getNode()}else{var g=me(n),y=void 0;if(s.isCompleteForChild(d)){l=t.serverCache.getNode();var m=mn(r,n,s.getNode(),l);y=null!=m?s.getNode().getImmediateChild(d).updateChild(g,m):s.getNode().getImmediateChild(d)}else y=wn(r,d,t.serverCache);u=null!=y?e.filter.updateChild(s.getNode(),d,y,g,i,o):s.getNode()}}return Gt(t,u,s.isFullyInitialized()||Te(n),e.filter.filtersNodes())}function Cn(e,t,n,r,i,a,o,s){var u,l=t.serverCache,c=o?e.filter:e.filter.getIndexedFilter();if(Te(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){var f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{var h=ge(n);if(!l.isCompleteForPath(n)&&ye(n)>1)return t;var d=me(n),p=l.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?c.updatePriority(l.getNode(),p):c.updateChild(l.getNode(),h,p,d,On,null)}var v=Kt(t,u,l.isFullyInitialized()||Te(n),c.filtersNodes());return En(e,v,n,i,new Sn(i,v,a),s)}function Mn(e,t,n,r,i,a,o){var s,u,l=t.eventCache,c=new Sn(i,t,a);if(Te(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=Gt(t,u,!0,e.filter.filtersNodes());else{var f=ge(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Gt(t,u,l.isFullyInitialized(),l.isFiltered());else{var h=me(n),d=l.getNode().getImmediateChild(f),p=void 0;if(Te(h))p=r;else{var v=c.getCompleteChild(f);p=null!=v?".priority"===be(h)&&v.getChild(we(h)).isEmpty()?v:v.updateChild(h,r):ot.EMPTY_NODE}if(d.equals(p))s=t;else s=Gt(t,e.filter.updateChild(l.getNode(),f,p,h,c,o),l.isFullyInitialized(),e.filter.filtersNodes())}}return s}function In(e,t){return e.eventCache.isCompleteForChild(t)}function Dn(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Pn(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,l=t;u=Te(n)?r:new Qt(null).setTree(n,r);var c=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var u=Dn(0,t.serverCache.getNode().getImmediateChild(n),r);l=Cn(e,l,new pe(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!c.hasChild(n)&&!u){var f=Dn(0,t.serverCache.getNode().getImmediateChild(n),r);l=Cn(e,l,new pe(n),f,i,a,o,s)}})),l}var Nn,jn=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new bt(r.getIndex()),a=(n=r).loadsAllData()?new bt(n.getIndex()):n.hasLimit()?new wt(n):new _t(n);this.processor_=function(e){return{filter:e}}(a);var o=t.serverCache,s=t.eventCache,u=i.updateFullNode(ot.EMPTY_NODE,o.getNode(),null),l=a.updateFullNode(ot.EMPTY_NODE,s.getNode(),null),c=new Vt(u,o.isFullyInitialized(),i.filtersNodes()),f=new Vt(l,s.isFullyInitialized(),a.filtersNodes());this.viewCache_=Yt(f,c),this.eventGenerator_=new Ht(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function Ln(e,t){var n=$t(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Te(t)&&!n.getImmediateChild(ge(t)).isEmpty())?n.getChild(t):null}function Rn(e){return 0===e.eventRegistrations_.length}function Fn(e,t,n){var r=[];if(n){Object(a.assert)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var o=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){o=o.concat(e.eventRegistrations_.slice(s+1));break}}else o.push(u)}e.eventRegistrations_=o}else e.eventRegistrations_=[];return r}function zn(e,t,n,r){t.type===Nt.MERGE&&null!==t.source.queryId&&(Object(a.assert)($t(e.viewCache_),"We should always have a full cache before handling merges"),Object(a.assert)(Xt(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,o,s=e.viewCache_,u=An(e.processor_,s,t,n,r);return i=e.processor_,o=u.viewCache,Object(a.assert)(o.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Object(a.assert)(o.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Object(a.assert)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,Un(e,u.changes,u.viewCache.eventCache.getNode(),null)}function Un(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Wt(e,i,"child_removed",t,r,n),Wt(e,i,"child_added",t,r,n),Wt(e,i,"child_moved",a,r,n),Wt(e,i,"child_changed",t,r,n),Wt(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var qn,Bn=function(){this.views=new Map};function Vn(e,t,n,r){var i,s,u=t.source.queryId;if(null!==u){var l=e.views.get(u);return Object(a.assert)(null!=l,"SyncTree gave us an op for an invalid query."),zn(l,t,n,r)}var c=[];try{for(var f=Object(o.__values)(e.views.values()),h=f.next();!h.done;h=f.next()){l=h.value;c=c.concat(zn(l,t,n,r))}}catch(d){i={error:d}}finally{try{h&&!h.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}return c}function Hn(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var s=gn(n,i?r:null),u=!1;s?u=!0:r instanceof ot?(s=yn(n,r),u=!1):(s=ot.EMPTY_NODE,u=!1);var l=Yt(new Vt(s,u,!1),new Vt(r,i,!1));return new jn(t,l)}return o}function Wn(e,t,n,r,i,a){var o=Hn(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(et,(function(e,t){r.push(gt(e,t))})),n.isFullyInitialized()&&r.push(vt(n.getNode())),Un(e,r,n.getNode(),t)}(o,n)}function Yn(e,t,n,r){var i,s,u=t._queryIdentifier,l=[],c=[],f=Qn(e);if("default"===u)try{for(var h=Object(o.__values)(e.views.entries()),d=h.next();!d.done;d=h.next()){var p=Object(o.__read)(d.value,2),v=p[0],g=p[1];c=c.concat(Fn(g,n,r)),Rn(g)&&(e.views.delete(v),g.query._queryParams.loadsAllData()||l.push(g.query))}}catch(y){i={error:y}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}else(g=e.views.get(u))&&(c=c.concat(Fn(g,n,r)),Rn(g)&&(e.views.delete(u),g.query._queryParams.loadsAllData()||l.push(g.query)));return f&&!Qn(e)&&l.push(new(Object(a.assert)(Nn,"Reference.ts has not been loaded"),Nn)(t._repo,t._path)),{removed:l,events:c}}function Gn(e){var t,n,r=[];try{for(var i=Object(o.__values)(e.views.values()),a=i.next();!a.done;a=i.next()){var s=a.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Kn(e,t){var n,r,i=null;try{for(var a=Object(o.__values)(e.views.values()),s=a.next();!s.done;s=a.next()){var u=s.value;i=i||Ln(u,t)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i}function Xn(e,t){if(t._queryParams.loadsAllData())return Jn(e);var n=t._queryIdentifier;return e.views.get(n)}function $n(e,t){return null!=Xn(e,t)}function Qn(e){return null!=Jn(e)}function Jn(e){var t,n;try{for(var r=Object(o.__values)(e.views.values()),i=r.next();!i.done;i=r.next()){var a=i.value;if(a.query._queryParams.loadsAllData())return a}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var Zn=1,er=function(e){this.listenProvider_=e,this.syncPointTree_=new Qt(null),this.pendingWriteTree_={visibleWrites:Jt.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function tr(e,t,n,r,i){return function(e,t,n,r,i){Object(a.assert)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Zt(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?lr(e,new qt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function nr(e,t,n,r){!function(e,t,n,r){Object(a.assert)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=en(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=Qt.fromObject(n);return lr(e,new Bt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function rr(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(fn(e.pendingWriteTree_,t)){var i=new Qt(null);return null!=r.snap?i=i.set(ve(),!0):j(r.children,(function(e){i=i.set(new pe(e),!0)})),lr(e,new zt(r.path,i,n))}return[]}function ir(e,t,n){return lr(e,new qt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function ar(e,t,n,r){var i=t._path,a=e.syncPointTree_.get(i),o=[];if(a&&("default"===t._queryIdentifier||$n(a,t))){var s=Yn(a,t,n,r);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;o=s.events;var l=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),c=e.syncPointTree_.findOnPath(i,(function(e,t){return Qn(t)}));if(l&&!c){var f=e.syncPointTree_.subtree(i);if(!f.isEmpty())for(var h=function(e){return e.fold((function(e,t,n){if(t&&Qn(t))return[Jn(t)];var r=[];return t&&(r=Gn(t)),j(n,(function(e,t){r=r.concat(t)})),r}))}(f),d=0;d<h.length;++d){var p=h[d],v=p.query,g=hr(e,p);e.listenProvider_.startListening(mr(v),dr(e,v),g.hashFn,g.onComplete)}}if(!c&&u.length>0&&!r)if(l){e.listenProvider_.stopListening(mr(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(pr(t));e.listenProvider_.stopListening(mr(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=pr(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}(e,u)}return o}function or(e,t,n){var r=t._path,i=null,o=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=ke(e,r);i=i||Kn(t,n),o=o||Qn(t)}));var s,u=e.syncPointTree_.get(r);(u?(o=o||Qn(u),i=i||Kn(u,ve())):(u=new Bn,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i)?s=!0:(s=!1,i=ot.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=Kn(t,ve());n&&(i=i.updateImmediateChild(e,n))})));var l=$n(u,t);if(!l&&!t._queryParams.loadsAllData()){var c=pr(t);Object(a.assert)(!e.queryToTagMap.has(c),"View does not exist, but we have a tag");var f=Zn++;e.queryToTagMap.set(c,f),e.tagToQueryMap.set(f,c)}var h=Wn(u,t,n,cn(e.pendingWriteTree_,r),i,s);if(!l&&!o){var d=Xn(u,t);h=h.concat(function(e,t,n){var r=t._path,i=dr(e,t),o=hr(e,n),s=e.listenProvider_.startListening(mr(t),i,o.hashFn,o.onComplete),u=e.syncPointTree_.subtree(r);if(i)Object(a.assert)(!Qn(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var l=u.fold((function(e,t,n){if(!Te(e)&&t&&Qn(t))return[Jn(t).query];var r=[];return t&&(r=r.concat(Gn(t).map((function(e){return e.query})))),j(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<l.length;++c){var f=l[c];e.listenProvider_.stopListening(mr(f),dr(e,f))}return s}(e,t,d))}return h}function sr(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Kn(n,ke(e,t));if(r)return r}));return vn(r,t,i,n,!0)}function ur(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=ke(e,n);r=r||Kn(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Kn(i,ve()):(i=new Bn,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new Vt(r,!0,!1):null;return function(e){return Xt(e.viewCache_)}(Hn(i,t,cn(e.pendingWriteTree_,t._path),a?o.getNode():ot.EMPTY_NODE,a))}function lr(e,t){return cr(t,e.syncPointTree_,null,cn(e.pendingWriteTree_,ve()))}function cr(e,t,n,r){if(Te(e.path))return fr(e,t,n,r);var i=t.get(ve());null==n&&null!=i&&(n=Kn(i,ve()));var a=[],o=ge(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var l=n?n.getImmediateChild(o):null,c=xn(r,o);a=a.concat(cr(s,u,l,c))}return i&&(a=a.concat(Vn(i,e,r,n))),a}function fr(e,t,n,r){var i=t.get(ve());null==n&&null!=i&&(n=Kn(i,ve()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=xn(r,t),u=e.operationForChild(t);u&&(a=a.concat(fr(u,i,o,s)))})),i&&(a=a.concat(Vn(i,e,r,n))),a}function hr(e,t){var n=t.query,r=dr(e,n);return{hashFn:function(){return(function(e){return e.viewCache_.serverCache.getNode()}(t)||ot.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=vr(e,n);if(r){var i=gr(r),a=i.path,o=i.queryId,s=ke(a,t);return yr(e,a,new Ut(Rt(o),s))}return[]}(e,n._path,r):function(e,t){return lr(e,new Ut({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return ar(e,n,null,i)}}}function dr(e,t){var n=pr(t);return e.queryToTagMap.get(n)}function pr(e){return e._path.toString()+"$"+e._queryIdentifier}function vr(e,t){return e.tagToQueryMap.get(t)}function gr(e){var t=e.indexOf("$");return Object(a.assert)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new pe(e.substr(0,t))}}function yr(e,t,n){var r=e.syncPointTree_.get(t);return Object(a.assert)(r,"Missing sync point for query tag that we're tracking"),Vn(r,n,cn(e.pendingWriteTree_,t),null)}function mr(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Object(a.assert)(qn,"Reference.ts has not been loaded"),qn)(e._repo,e._path):e}var br=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),_r=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=xe(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return sr(this.syncTree_,this.path_)},e}(),wr=function(e,t,n){return e&&"object"===typeof e?(Object(a.assert)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?xr(e[".sv"],t,n):"object"===typeof e[".sv"]?Tr(e[".sv"],t):void Object(a.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},xr=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:Object(a.assert)(!1,"Unexpected server value: "+e)}},Tr=function(e,t,n){e.hasOwnProperty("increment")||Object(a.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&Object(a.assert)(!1,"Unexpected increment value: "+r);var i=t.node();if(Object(a.assert)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i.getValue();return"number"!==typeof o?r:o+r},kr=function(e,t,n,r){return Sr(t,new _r(n,e),r)},Or=function(e,t,n){return Sr(e,new br(t),n)};function Sr(e,t,n){var r,i=e.getPriority().val(),a=wr(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=wr(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new Qe(s,ut(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new Qe(a))),u.forEachChild(et,(function(e,i){var a=Sr(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var Ar=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function Er(e,t){for(var n=t instanceof pe?t:new pe(t),r=e,i=ge(n);null!==i;){var o=Object(a.safeGet)(r.node.children,i)||{children:{},childCount:0};r=new Ar(i,r,o),i=ge(n=me(n))}return r}function Cr(e){return e.node.value}function Mr(e,t){e.node.value=t,jr(e)}function Ir(e){return e.node.childCount>0}function Dr(e,t){j(e.node.children,(function(n,r){t(new Ar(n,e,r))}))}function Pr(e,t,n,r){n&&!r&&t(e),Dr(e,(function(e){Pr(e,t,!0,r)})),n&&r&&t(e)}function Nr(e){return new pe(null===e.parent?e.name:Nr(e.parent)+"/"+e.name)}function jr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Cr(e)&&!Ir(e)}(n),i=Object(a.contains)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,jr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,jr(e))}(e.parent,e.name,e)}var Lr=/[\[\].#$\/\u0000-\u001F\u007F]/,Rr=/[\[\].#$\u0000-\u001F\u007F]/,Fr=10485760,zr=function(e){return"string"===typeof e&&0!==e.length&&!Lr.test(e)},Ur=function(e){return"string"===typeof e&&0!==e.length&&!Rr.test(e)},qr=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!A(e)||e&&"object"===typeof e&&Object(a.contains)(e,".sv")},Br=function(e,t,n,r){r&&void 0===t||Vr(Object(a.errorPrefix)(e,"value"),t,n)},Vr=function e(t,n,r){var i=r instanceof pe?new Ee(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Me(i));if("function"===typeof n)throw new Error(t+"contains a function "+Me(i)+" with contents = "+n.toString());if(A(n))throw new Error(t+"contains "+n.toString()+" "+Me(i));if("string"===typeof n&&n.length>Fr/3&&Object(a.stringLength)(n)>Fr)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+Me(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var o=!1,s=!1;if(j(n,(function(n,r){if(".value"===n)o=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!zr(n)))throw new Error(t+" contains an invalid key ("+n+") "+Me(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Object(a.stringLength)(t),Ce(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Object(a.stringLength)(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),o&&s)throw new Error(t+' contains ".value" child '+Me(i)+" in addition to actual children.")}},Hr=function(e,t,n,r){if(!r||void 0!==t){var i=Object(a.errorPrefix)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var o=[];j(t,(function(e,t){var r=new pe(e);if(Vr(i,t,xe(n,r)),".priority"===be(r)&&!qr(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=_e(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!zr(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Oe);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&Ae(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,o)}},Wr=function(e,t,n){if(!n||void 0!==t){if(A(t))throw new Error(Object(a.errorPrefix)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!qr(t))throw new Error(Object(a.errorPrefix)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Yr=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(a.errorPrefix)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Gr=function(e,t,n,r){if((!r||void 0!==n)&&!zr(n))throw new Error(Object(a.errorPrefix)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Kr=function(e,t,n,r){if((!r||void 0!==n)&&!Ur(n))throw new Error(Object(a.errorPrefix)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Xr=function(e,t){if(".info"===ge(t))throw new Error(e+" failed = Can't modify data under /.info/")},$r=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!zr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Ur(e)}(n))throw new Error(Object(a.errorPrefix)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Qr=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(Object(a.errorPrefix)(e,t)+"must be a boolean.")},Jr=function(){this.eventLists_=[],this.recursionDepth_=0};function Zr(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||Se(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function ei(e,t,n){Zr(e,n),ni(e,(function(e){return Se(e,t)}))}function ti(e,t,n){Zr(e,n),ni(e,(function(e){return Ae(e,t)||Ae(t,e)}))}function ni(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(ri(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function ri(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();b&&x("event: "+n.toString()),q(r)}}}var ii="repo_interrupt",ai=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Jr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Mt(),this.transactionQueueTree_=new Ar,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function oi(e,t,n){if(e.stats_=te(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Et(e.repoInfo_,(function(t,n,r,i){li(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return ci(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(a.stringify)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new je(e.repoInfo_,t,(function(t,n,r,i){li(e,t,n,r,i)}),(function(t){ci(e,t)}),(function(t){!function(e,t){j(t,(function(t,n){fi(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return ee[n]||(ee[n]=t()),ee[n]}(e.repoInfo_,(function(){return new Lt(e.stats_,e.server_)})),e.infoData_=new Ct,e.infoSyncTree_=new er({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=ir(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),fi(e,"connected",!1),e.serverSyncTree_=new er({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);ti(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function si(e){var t=e.infoData_.getNode(new pe(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function ui(e){return(t=(t={timestamp:si(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function li(e,t,n,r,i){e.dataUpdateCount++;var o=new pe(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var u=Object(a.map)(n,(function(e){return ut(e)}));s=function(e,t,n,r){var i=vr(e,r);if(i){var a=gr(i),o=a.path,s=a.queryId,u=ke(o,t),l=Qt.fromObject(n);return yr(e,o,new Bt(Rt(s),u,l))}return[]}(e.serverSyncTree_,o,u,i)}else{var l=ut(n);s=function(e,t,n,r){var i=vr(e,r);if(null!=i){var a=gr(i),o=a.path,s=a.queryId,u=ke(o,t);return yr(e,o,new qt(Rt(s),u,n))}return[]}(e.serverSyncTree_,o,l,i)}else if(r){var c=Object(a.map)(n,(function(e){return ut(e)}));s=function(e,t,n){var r=Qt.fromObject(n);return lr(e,new Bt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,c)}else{var f=ut(n);s=ir(e.serverSyncTree_,o,f)}var h=o;s.length>0&&(h=xi(e,o)),ti(e.eventQueue_,h,s)}function ci(e,t){fi(e,"connected",t),!1===t&&function(e){mi(e,"onDisconnectEvents");var t=ui(e),n=Mt();Pt(e.onDisconnect_,ve(),(function(r,i){var a=kr(r,i,e.serverSyncTree_,t);It(n,r,a)}));var r=[];Pt(n,ve(),(function(t,n){r=r.concat(ir(e.serverSyncTree_,t,n));var i=Ai(e,t);xi(e,i)})),e.onDisconnect_=Mt(),ti(e.eventQueue_,ve(),r)}(e)}function fi(e,t,n){var r=new pe("/.info/"+t),i=ut(n);e.infoData_.updateSnapshot(r,i);var a=ir(e.infoSyncTree_,r,i);ti(e.eventQueue_,r,a)}function hi(e){return e.nextWriteId_++}function di(e,t,n,r,i){mi(e,"set",{path:t.toString(),value:n,priority:r});var a=ui(e),o=ut(n,r),s=sr(e.serverSyncTree_,t),u=Or(o,s,a),l=hi(e),c=tr(e.serverSyncTree_,t,u,l,!0);Zr(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||S("set at "+t+" failed: "+n);var o=rr(e.serverSyncTree_,l,!a);ti(e.eventQueue_,t,o),bi(e,i,n,r)}));var f=Ai(e,t);xi(e,f),ti(e.eventQueue_,f,[])}function pi(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&Dt(e.onDisconnect_,t),bi(e,n,r,i)}))}function vi(e,t,n,r){var i=ut(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,a){"ok"===n&&It(e.onDisconnect_,t,i),bi(e,r,n,a)}))}function gi(e,t,n){var r;r=".info"===ge(t._path)?ar(e.infoSyncTree_,t,n):ar(e.serverSyncTree_,t,n),ei(e.eventQueue_,t._path,r)}function yi(e){e.persistentConnection_&&e.persistentConnection_.interrupt(ii)}function mi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),x.apply(void 0,Object(o.__spreadArray)([r],Object(o.__read)(t)))}function bi(e,t,n,r){t&&q((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function _i(e,t,n){return sr(e.serverSyncTree_,t,n)||ot.EMPTY_NODE}function wi(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||Si(e,t),Cr(t)){var n=ki(e,t);Object(a.assert)(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=_i(e,t,r),o=i,s=i.hash(),u=0;u<n.length;u++){var l=n[u];Object(a.assert)(0===l.status,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;var c=ke(t,l.path);o=o.updateChild(c,l.currentOutputSnapshotRaw)}var f=o.val(!0),h=t;e.server_.put(h.toString(),f,(function(r){mi(e,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(rr(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);Si(e,Er(e.transactionQueueTree_,t)),wi(e,e.transactionQueueTree_),ti(e.eventQueue_,t,i);for(s=0;s<a.length;s++)q(a[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{S("transaction at "+h.toString()+" failed: "+r);for(s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}xi(e,t)}}),s)}(e,Nr(t),n)}else Ir(t)&&Dr(t,(function(t){wi(e,t)}))}function xi(e,t){var n=Ti(e,t),r=Nr(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],o=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=function(s){var u,l,c=t[s],f=ke(n,c.path),h=!1;if(Object(a.assert)(null!==f,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,u=c.abortReason,i=i.concat(rr(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=25)h=!0,u="maxretry",i=i.concat(rr(e.serverSyncTree_,c.currentWriteId,!0));else{var d=_i(e,c.path,o);c.currentInputSnapshot=d;var p=t[s].update(d.val());if(void 0!==p){Vr("transaction failed: Data returned ",p,c.path);var v=ut(p);"object"===typeof p&&null!=p&&Object(a.contains)(p,".priority")||(v=v.updatePriority(d.getPriority()));var g=c.currentWriteId,y=ui(e),m=Or(v,d,y);c.currentOutputSnapshotRaw=v,c.currentOutputSnapshotResolved=m,c.currentWriteId=hi(e),o.splice(o.indexOf(g),1),i=(i=i.concat(tr(e.serverSyncTree_,c.path,m,c.currentWriteId,c.applyLocally))).concat(rr(e.serverSyncTree_,g,!0))}else h=!0,u="nodata",i=i.concat(rr(e.serverSyncTree_,c.currentWriteId,!0))}ti(e.eventQueue_,n,i),i=[],h&&(t[s].status=2,l=t[s].unwatcher,setTimeout(l,Math.floor(0)),t[s].onComplete&&("nodata"===u?r.push((function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)})):r.push((function(){return t[s].onComplete(new Error(u),!1,null)}))))},u=0;u<t.length;u++)s(u);Si(e,e.transactionQueueTree_);for(u=0;u<r.length;u++)q(r[u]);wi(e,e.transactionQueueTree_)}(e,ki(e,n),r),r}function Ti(e,t){var n,r=e.transactionQueueTree_;for(n=ge(t);null!==n&&void 0===Cr(r);)r=Er(r,n),n=ge(t=me(t));return r}function ki(e,t){var n=[];return Oi(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Oi(e,t,n){var r=Cr(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Dr(t,(function(t){Oi(e,t,n)}))}function Si(e,t){var n=Cr(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Mr(t,n.length>0?n:void 0)}Dr(t,(function(t){Si(e,t)}))}function Ai(e,t){var n=Nr(Ti(e,t)),r=Er(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Ei(e,t)})),Ei(e,r),Pr(r,(function(t){Ei(e,t)})),n}function Ei(e,t){var n=Cr(t);if(n){for(var r=[],i=[],o=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(Object(a.assert)(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(Object(a.assert)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(rr(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Mr(t,void 0):n.length=o+1,ti(e.eventQueue_,Nr(t),i);for(s=0;s<r.length;s++)q(r[s])}}var Ci=function(e,t){var n=Mi(e),r=n.namespace;"firebase.com"===n.domain&&O(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||O("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new $(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new pe(n.pathString)}},Mi=function(e){var t="",n="",r="",i="",a="",s=!0,u="https",l=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(u=e.substring(0,c-1),e=e.substring(c+2));var f=e.indexOf("/");-1===f&&(f=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(f,h)),f<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(f,h)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=Object(o.__values)(e.split("&")),a=i.next();!a.done;a=i.next()){var s=a.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):S("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(l){t={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,h)));(c=t.indexOf(":"))>=0?(s="https"===u||"wss"===u,l=parseInt(t.substring(c+1),10)):c=t.length;var p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),a=r}"ns"in d&&(a=d.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:a}},Ii=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(a.stringify)(this.snapshot.exportVal())},e}(),Di=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Pi=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return Object(a.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),Ni=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new a.Deferred;return pi(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){Xr("OnDisconnect.remove",this._path);var e=new a.Deferred;return vi(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){Xr("OnDisconnect.set",this._path),Br("OnDisconnect.set",e,this._path,!1);var t=new a.Deferred;return vi(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){Xr("OnDisconnect.setWithPriority",this._path),Br("OnDisconnect.setWithPriority",e,this._path,!1),Wr("OnDisconnect.setWithPriority",t,!1);var n=new a.Deferred;return function(e,t,n,r,i){var a=ut(n,r);e.server_.onDisconnectPut(t.toString(),a.val(!0),(function(n,r){"ok"===n&&It(e.onDisconnect_,t,a),bi(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){Xr("OnDisconnect.update",this._path),Hr("OnDisconnect.update",e,this._path,!1);var t=new a.Deferred;return function(e,t,n,r){if(Object(a.isEmpty)(n))return x("onDisconnect().update() called with empty data.  Don't do anything."),void bi(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,a){"ok"===i&&j(n,(function(n,r){var i=ut(r);It(e.onDisconnect_,xe(t,n),i)})),bi(0,r,i,a)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),ji=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return Te(this._path)?null:be(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new zi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=At(this._queryParams),t=P(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return At(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=Object(a.getModularInstance)(t))instanceof e))return!1;var n=this._repo===t._repo,r=Se(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function Li(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Ri(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===ze){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==E)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==C)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===et){if(null!=t&&!qr(t)||null!=n&&!qr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(a.assert)(e.getIndex()instanceof lt||e.getIndex()===ct,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Fi(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var zi=function(e){function t(t,n){return e.call(this,t,n,new xt,!1)||this}return Object(o.__extends)(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=we(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(ji),Ui=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new pe(t),r=Vi(this.ref,t);return new e(this._node.getChild(n),r,et)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Vi(n.ref,r),et))}))},e.prototype.hasChild=function(e){var t=new pe(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function qi(e,t){return(e=Object(a.getModularInstance)(e))._checkNotDeleted("ref"),void 0!==t?Vi(e._root,t):e._root}function Bi(e,t){(e=Object(a.getModularInstance)(e))._checkNotDeleted("refFromURL");var n=Ci(t,e._repo.repoInfo_.nodeAdmin);$r("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||O("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),qi(e,n.path.toString())}function Vi(e,t){var n,r,i,o;return null===ge((e=Object(a.getModularInstance)(e))._path)?(n="child",r="path",o=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Kr(n,r,i,o)):Kr("child","path",t,!1),new zi(e._repo,xe(e._path,t))}function Hi(e,t){e=Object(a.getModularInstance)(e),Xr("push",e._path),Br("push",t,e._path,!0);var n,r=si(e._repo),i=ht(r),o=Vi(e,i),s=Vi(e,i);return n=null!=t?Yi(s,t).then((function(){return s})):Promise.resolve(s),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),o}function Wi(e){return Xr("remove",e._path),Yi(e,null)}function Yi(e,t){e=Object(a.getModularInstance)(e),Xr("set",e._path),Br("set",t,e._path,!1);var n=new a.Deferred;return di(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Gi(e,t){e=Object(a.getModularInstance)(e),Xr("setPriority",e._path),Wr("setPriority",t,!1);var n=new a.Deferred;return di(e._repo,xe(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function Ki(e,t,n){if(Xr("setWithPriority",e._path),Br("setWithPriority",t,e._path,!1),Wr("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new a.Deferred;return di(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function Xi(e,t){Hr("update",t,e._path,!1);var n=new a.Deferred;return function(e,t,n,r){mi(e,"update",{path:t.toString(),value:n});var i=!0,a=ui(e),o={};if(j(n,(function(n,r){i=!1,o[n]=kr(xe(t,n),ut(r),e.serverSyncTree_,a)})),i)x("update() called with empty data.  Don't do anything."),bi(0,r,"ok",void 0);else{var s=hi(e),u=nr(e.serverSyncTree_,t,o,s);Zr(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||S("update at "+t+" failed: "+n);var o=rr(e.serverSyncTree_,s,!a),u=o.length>0?xi(e,t):t;ti(e.eventQueue_,u,o),bi(0,r,n,i)})),j(n,(function(n){var r=Ai(e,xe(t,n));xi(e,r)})),ti(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function $i(e){return function(e,t){var n=ur(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=ut(n).withIndex(t._queryParams.getIndex()),i=ir(e.serverSyncTree_,t._path,r);return ei(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return mi(e,"get for query "+Object(a.stringify)(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=Object(a.getModularInstance)(e))._repo,e).then((function(t){return new Ui(t,new zi(e._repo,e._path),e._queryParams.getIndex())}))}var Qi=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new Ii("value",this,new Ui(e.snapshotNode,new zi(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Di(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),Ji=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Di(this,e,t):null},e.prototype.createEvent=function(e,t){Object(a.assert)(null!=e.childName,"Child events should have a childName.");var n=Vi(new zi(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Ii(e.type,this,new Ui(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function Zi(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,s=function(t,n){gi(e._repo,e,l),o(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new Pi(n,a||void 0),l="value"===t?new Qi(u):new Ji(t,u);return function(e,t,n){var r;r=".info"===ge(t._path)?or(e.infoSyncTree_,t,n):or(e.serverSyncTree_,t,n),ei(e.eventQueue_,t._path,r)}(e._repo,e,l),function(){return gi(e._repo,e,l)}}function ea(e,t,n,r){return Zi(e,"value",t,n,r)}function ta(e,t,n,r){return Zi(e,"child_added",t,n,r)}function na(e,t,n,r){return Zi(e,"child_changed",t,n,r)}function ra(e,t,n,r){return Zi(e,"child_moved",t,n,r)}function ia(e,t,n,r){return Zi(e,"child_removed",t,n,r)}function aa(e,t,n){var r=null,i=n?new Pi(n):null;"value"===t?r=new Qi(i):t&&(r=new Ji(t,i)),gi(e._repo,e,r)}var oa=function(){},sa=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(o.__extends)(t,e),t.prototype._apply=function(e){Br("endAt",this._value,e._path,!0);var t=kt(e._queryParams,this._value,this._key);if(Fi(t),Ri(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ji(e._repo,e._path,t,e._orderByCalled)},t}(oa);function ua(e,t){return Gr("endAt","key",t,!0),new sa(e,t)}var la=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(o.__extends)(t,e),t.prototype._apply=function(e){Br("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===ze?("string"===typeof t&&(t=pt(t)),r=kt(e,t,n)):r=kt(e,t,null==n?E:pt(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(Fi(t),Ri(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ji(e._repo,e._path,t,e._orderByCalled)},t}(oa);function ca(e,t){return Gr("endBefore","key",t,!0),new la(e,t)}var fa=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(o.__extends)(t,e),t.prototype._apply=function(e){Br("startAt",this._value,e._path,!0);var t=Tt(e._queryParams,this._value,this._key);if(Fi(t),Ri(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ji(e._repo,e._path,t,e._orderByCalled)},t}(oa);function ha(e,t){return void 0===e&&(e=null),Gr("startAt","key",t,!0),new fa(e,t)}var da=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(o.__extends)(t,e),t.prototype._apply=function(e){Br("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;e.index_===ze?("string"===typeof t&&(t=dt(t)),r=Tt(e,t,n)):r=Tt(e,t,null==n?C:dt(n));return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Fi(t),Ri(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ji(e._repo,e._path,t,e._orderByCalled)},t}(oa);function pa(e,t){return Gr("startAfter","key",t,!0),new da(e,t)}var va=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Object(o.__extends)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ji(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)},t}(oa);function ga(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new va(e)}var ya=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Object(o.__extends)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ji(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)},t}(oa);function ma(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new ya(e)}var ba=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return Object(o.__extends)(t,e),t.prototype._apply=function(e){Li(e,"orderByChild");var t=new pe(this._path);if(Te(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new lt(t),r=Ot(e._queryParams,n);return Ri(r),new ji(e._repo,e._path,r,!0)},t}(oa);function _a(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Kr("orderByChild","path",e,!1),new ba(e)}var wa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype._apply=function(e){Li(e,"orderByKey");var t=Ot(e._queryParams,ze);return Ri(t),new ji(e._repo,e._path,t,!0)},t}(oa);function xa(){return new wa}var Ta=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype._apply=function(e){Li(e,"orderByPriority");var t=Ot(e._queryParams,et);return Ri(t),new ji(e._repo,e._path,t,!0)},t}(oa);function ka(){return new Ta}var Oa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype._apply=function(e){Li(e,"orderByValue");var t=Ot(e._queryParams,ct);return Ri(t),new ji(e._repo,e._path,t,!0)},t}(oa);function Sa(){return new Oa}var Aa=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(o.__extends)(t,e),t.prototype._apply=function(e){if(Br("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new sa(this._value,this._key)._apply(new fa(this._value,this._key)._apply(e))},t}(oa);function Ea(e,t){return Gr("equalTo","key",t,!0),new Aa(e,t)}function Ca(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=Object(a.getModularInstance)(e);try{for(var u=Object(o.__values)(r),l=u.next();!l.done;l=u.next()){var c=l.value;s=c._apply(s)}}catch(f){t={error:f}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s}!function(e){Object(a.assert)(!Nn,"__referenceConstructor has already been defined"),Nn=e}(zi),function(e){Object(a.assert)(!qn,"__referenceConstructor has already been defined"),qn=e}(zi);var Ma={},Ia=!1;function Da(t,n,r,i,a){var o=i||t.options.databaseURL;void 0===o&&(t.options.projectId||O("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),x("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var s,u=Ci(o,a),l=u.repoInfo,c=void 0;"undefined"!==typeof e&&(c=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_DATABASE_EMULATOR_HOST),c?(s=!0,o="http://"+c+"?ns="+l.namespace,l=(u=Ci(o,a)).repoInfo):s=!u.repoInfo.secure;var f=a&&s?new W(W.OWNER):new H(t.name,t.options,n);$r("Invalid Firebase Database URL",u),Te(u.path)||O("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=Ma[t.name];i||(i={},Ma[t.name]=i);var a=i[e.toURLString()];a&&O("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new ai(e,Ia,n,r),i[e.toURLString()]=a,a}(l,t,f,new V(t.name,r));return new Pa(h,t)}var Pa=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(oi(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new zi(this._repo,ve())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return this._checkNotDeleted("delete"),function(e,t){var n=Ma[t];n&&n[e.key]===e||O("Database "+t+"("+e.repoInfo_+") has already been deleted."),yi(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null,Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&O("Cannot call "+e+" on a deleted database.")},e}();function Na(e,t,n,r){void 0===r&&(r={}),(e=Object(a.getModularInstance)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&O("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,o=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&O('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new W(W.OWNER);else if(r.mockUserToken){var s=Object(a.createMockUserToken)(r.mockUserToken,e.app.options.projectId);o=new W(s)}!function(e,t,n,r){e.repoInfo_=new $(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,o)}function ja(e){(e=Object(a.getModularInstance)(e))._checkNotDeleted("goOffline"),yi(e._repo)}function La(e){var t;(e=Object(a.getModularInstance)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(ii)}var Ra={".sv":"timestamp"};var Fa=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function za(e,t,n){var r;if(e=Object(a.getModularInstance)(e),Xr("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,o=new a.Deferred,s=ea(e,(function(){}));return function(e,t,n,r,i,o){mi(e,"transaction on "+t);var s={path:t,update:n,onComplete:r,status:null,order:g(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=_i(e,t,void 0);s.currentInputSnapshot=u;var l=s.update(u.val());if(void 0===l)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Vr("transaction failed: Data returned ",l,s.path),s.status=0;var c=Er(e.transactionQueueTree_,t),f=Cr(c)||[];f.push(s),Mr(c,f);var h=void 0;"object"===typeof l&&null!==l&&Object(a.contains)(l,".priority")?(h=Object(a.safeGet)(l,".priority"),Object(a.assert)(qr(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(sr(e.serverSyncTree_,t)||ot.EMPTY_NODE).getPriority().val();var d=ui(e),p=ut(l,h),v=Or(p,u,d);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=v,s.currentWriteId=hi(e);var y=tr(e.serverSyncTree_,t,v,s.currentWriteId,s.applyLocally);ti(e.eventQueue_,t,y),wi(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?o.reject(t):(i=new Ui(r,new zi(e._repo,e._path),et),o.resolve(new Fa(n,i)))}),s,i),o.promise}var Ua=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){Object(a.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),Object(a.validateCallback)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){Object(a.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),Object(a.validateCallback)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){Object(a.validateArgCount)("OnDisconnect.set",1,2,arguments.length),Object(a.validateCallback)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){Object(a.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(a.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if(Object(a.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,S("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(a.validateCallback)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),qa=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return Object(a.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Ba=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return Object(a.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return Object(a.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return Object(a.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return Object(a.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return Object(a.validateArgCount)("DataSnapshot.child",0,1,arguments.length),t=String(t),Kr("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return Object(a.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),Kr("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return Object(a.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return Object(a.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),Object(a.validateCallback)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return Object(a.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return Object(a.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return Object(a.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new Ha(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Va=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var o,s=this;Object(a.validateArgCount)("Query.on",2,4,arguments.length),Object(a.validateCallback)("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),l=function(e,t){n.call(u.context,new Ba(s.database,e),t)};l.userCallback=n,l.context=u.context;var c=null===(o=u.cancel)||void 0===o?void 0:o.bind(u.context);switch(t){case"value":return ea(this._delegate,l,c),n;case"child_added":return ta(this._delegate,l,c),n;case"child_removed":return ia(this._delegate,l,c),n;case"child_changed":return na(this._delegate,l,c),n;case"child_moved":return ra(this._delegate,l,c),n;default:throw new Error(Object(a.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if(Object(a.validateArgCount)("Query.off",0,3,arguments.length),Yr("Query.off",e,!0),Object(a.validateCallback)("Query.off","callback",t,!0),Object(a.validateContextObject)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,aa(this._delegate,e,r)}else aa(this._delegate,e)},e.prototype.get=function(){var e=this;return $i(this._delegate).then((function(t){return new Ba(e.database,t)}))},e.prototype.once=function(t,n,r,i){var o=this;Object(a.validateArgCount)("Query.once",1,4,arguments.length),Object(a.validateCallback)("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),u=new a.Deferred,l=function(e,t){var r=new Ba(o.database,e);n&&n.call(s.context,r,t),u.resolve(r)};l.userCallback=n,l.context=s.context;var c=function(e){s.cancel&&s.cancel.call(s.context,e),u.reject(e)};switch(t){case"value":ea(this._delegate,l,c,{onlyOnce:!0});break;case"child_added":ta(this._delegate,l,c,{onlyOnce:!0});break;case"child_removed":ia(this._delegate,l,c,{onlyOnce:!0});break;case"child_changed":na(this._delegate,l,c,{onlyOnce:!0});break;case"child_moved":ra(this._delegate,l,c,{onlyOnce:!0});break;default:throw new Error(Object(a.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},e.prototype.limitToFirst=function(t){return Object(a.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new e(this.database,Ca(this._delegate,ga(t)))},e.prototype.limitToLast=function(t){return Object(a.validateArgCount)("Query.limitToLast",1,1,arguments.length),new e(this.database,Ca(this._delegate,ma(t)))},e.prototype.orderByChild=function(t){return Object(a.validateArgCount)("Query.orderByChild",1,1,arguments.length),new e(this.database,Ca(this._delegate,_a(t)))},e.prototype.orderByKey=function(){return Object(a.validateArgCount)("Query.orderByKey",0,0,arguments.length),new e(this.database,Ca(this._delegate,xa()))},e.prototype.orderByPriority=function(){return Object(a.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new e(this.database,Ca(this._delegate,ka()))},e.prototype.orderByValue=function(){return Object(a.validateArgCount)("Query.orderByValue",0,0,arguments.length),new e(this.database,Ca(this._delegate,Sa()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),Object(a.validateArgCount)("Query.startAt",0,2,arguments.length),new e(this.database,Ca(this._delegate,ha(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),Object(a.validateArgCount)("Query.startAfter",0,2,arguments.length),new e(this.database,Ca(this._delegate,pa(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),Object(a.validateArgCount)("Query.endAt",0,2,arguments.length),new e(this.database,Ca(this._delegate,ua(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),Object(a.validateArgCount)("Query.endBefore",0,2,arguments.length),new e(this.database,Ca(this._delegate,ca(t,n)))},e.prototype.equalTo=function(t,n){return Object(a.validateArgCount)("Query.equalTo",1,2,arguments.length),new e(this.database,Ca(this._delegate,Ea(t,n)))},e.prototype.toString=function(){return Object(a.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return Object(a.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(Object(a.validateArgCount)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Object(a.validateCallback)(e,"cancel",r.cancel,!0),r.context=n,Object(a.validateContextObject)(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(Object(a.errorPrefix)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new Ha(this.database,new zi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Ha=function(e){function t(t,n){var r=e.call(this,t,new ji(n._repo,n._path,new xt,!1))||this;return r.database=t,r._delegate=n,r}return Object(o.__extends)(t,e),t.prototype.getKey=function(){return Object(a.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return Object(a.validateArgCount)("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new t(this.database,Vi(this._delegate,e))},t.prototype.getParent=function(){Object(a.validateArgCount)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return Object(a.validateArgCount)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){Object(a.validateArgCount)("Reference.set",1,2,arguments.length),Object(a.validateCallback)("Reference.set","onComplete",t,!0);var n=Yi(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if(Object(a.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,S("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Xr("Reference.update",this._delegate._path),Object(a.validateCallback)("Reference.update","onComplete",t,!0);var i=Xi(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){Object(a.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),Object(a.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var r=Ki(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){Object(a.validateArgCount)("Reference.remove",0,1,arguments.length),Object(a.validateCallback)("Reference.remove","onComplete",e,!0);var t=Wi(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;Object(a.validateArgCount)("Reference.transaction",1,3,arguments.length),Object(a.validateCallback)("Reference.transaction","transactionUpdate",e,!1),Object(a.validateCallback)("Reference.transaction","onComplete",t,!0),Qr("Reference.transaction","applyLocally",n,!0);var i=za(this._delegate,e,{applyLocally:n}).then((function(e){return new qa(e.committed,new Ba(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){Object(a.validateArgCount)("Reference.setPriority",1,2,arguments.length),Object(a.validateCallback)("Reference.setPriority","onComplete",t,!0);var n=Gi(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;Object(a.validateArgCount)("Reference.push",0,2,arguments.length),Object(a.validateCallback)("Reference.push","onComplete",n,!0);var i=Hi(this._delegate,e),o=i.then((function(e){return new t(r.database,e)}));n&&o.then((function(){return n(null)}),(function(e){return n(e)}));var s=new t(this.database,i);return s.then=o.then.bind(o),s.catch=o.catch.bind(o,void 0),s},t.prototype.onDisconnect=function(){return Xr("Reference.onDisconnect",this._delegate._path),new Ua(new Ni(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Va),Wa=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),Na(this._delegate,e,t,n)},e.prototype.ref=function(e){if(Object(a.validateArgCount)("database.ref",0,1,arguments.length),e instanceof Ha){var t=Bi(this._delegate,e.toString());return new Ha(this,t)}t=qi(this._delegate,e);return new Ha(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";Object(a.validateArgCount)(t,1,1,arguments.length);var n=Bi(this._delegate,e);return new Ha(this,n)},e.prototype.goOffline=function(){return Object(a.validateArgCount)("database.goOffline",0,0,arguments.length),ja(this._delegate)},e.prototype.goOnline=function(){return Object(a.validateArgCount)("database.goOnline",0,0,arguments.length),La(this._delegate)},e.ServerValue={TIMESTAMP:Ra,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}();var Ya=Object.freeze({__proto__:null,forceLongPolling:function(){ue.forceDisallow(),ae.forceAllow()},forceWebSockets:function(){ae.forceDisallow()},isWebSocketsAvailable:function(){return ue.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!==typeof console){var n;t?(e.statsListener_||(e.statsListener_=new jt(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);j(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n,r;e.stats_.incrementCounter(t),n=e.statsReporter_,r=t,n.statsToReport_[r]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,a=e.customAuthImpl,o=e.namespace,s=e.nodeAdmin,u=void 0!==s&&s;l(r);var c=new i.Provider("auth-internal",new i.ComponentContainer("database-standalone"));return c.setComponent(new i.Component("auth-internal",(function(){return a}),"PRIVATE")),{instance:new Wa(Da(t,c,void 0,n,u),t),namespace:o}}}),Ga=je;je.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},je.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Ka=ce,Xa=$,$a=Object.freeze({__proto__:null,DataConnection:Ga,RealTimeConnection:Ka,hijackHash:function(e){var t=je.prototype.put;return je.prototype.put=function(n,r,i,a){void 0!==a&&(a=e()),t.call(this,n,r,i,a)},function(){je.prototype.put=t}},ConnectionTarget:Xa,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){Ia=e}(e)}}),Qa=Wa.ServerValue;!function(e){l(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new i.Component("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Wa(Da(r,i,a,n),r)}),"PUBLIC").setServiceProps({Reference:Ha,Query:Va,Database:Wa,DataSnapshot:Ba,enableLogging:w,INTERNAL:Ya,ServerValue:Qa,TEST_ACCESS:$a}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.10.7"),Object(a.isNodeSdk)()&&(t.exports=n)}(r.default)}).call(this,n(50),n(127)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";var r=n(10),i=n(14),a=n(1),o=n(3),s=n(13);function u(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var l,c=u(r),f=((l={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",l["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",l["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",l["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",l["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",l["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",l["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",l["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",l["recaptcha-error"]="ReCAPTCHA error.",l),h=new o.ErrorFactory("appCheck","AppCheck",f),d=new Map,p={activated:!1,tokenObservers:[]},v={enabled:!1};function g(e){return d.get(e)||p}function y(e,t){d.set(e,t)}function m(){return v}function b(){return self.grecaptcha}function _(e){if(!g(e).activated)throw h.create("use-before-activation",{appName:e.name})}var w="https://www.google.com/recaptcha/api.js";function x(e,t){var n=g(e),r=new o.Deferred;y(e,a.__assign(a.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var u=b();return u?u.ready((function(){k(e,t,u,i),r.resolve(u)})):function(e){var t=document.createElement("script");t.src=""+w,t.onload=e,document.head.appendChild(t)}((function(){var n=b();if(!n)throw new Error("no recaptcha");n.ready((function(){k(e,t,n,i),r.resolve(n)}))})),r.promise}function T(e){return a.__awaiter(this,void 0,void 0,(function(){var t;return a.__generator(this,(function(n){switch(n.label){case 0:return _(e),[4,g(e).reCAPTCHAState.initialized.promise];case 1:return t=n.sent(),[2,new Promise((function(n,r){var i=g(e).reCAPTCHAState;t.ready((function(){n(t.execute(i.widgetId,{action:"fire_app_check"}))}))}))]}}))}))}function k(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),o=g(e);y(e,a.__assign(a.__assign({},o),{reCAPTCHAState:a.__assign(a.__assign({},o.reCAPTCHAState),{widgetId:i})}))}var O="https://content-firebaseappcheck.googleapis.com/v1beta",S=3e4,A=96e4,E=function(){function e(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t;return a.__generator(this,(function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new o.Deferred,[4,(r=this.getNextRun(e),new Promise((function(e){setTimeout(e,r)})))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new o.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch((function(){})),[3,7];case 6:return t=n.sent(),this.retryPolicy(t)?this.process(!1).catch((function(){})):this.stop(),[3,7];case 7:return[2]}var r}))}))},e.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t},e}();function C(e,t){var n=e.url,r=e.body;return a.__awaiter(this,void 0,void 0,(function(){var e,i,o,s,u,l,c,f,d,p;return a.__generator(this,(function(a){switch(a.label){case 0:e={"Content-Type":"application/json"},(i=t.getImmediate({optional:!0}))&&(e["X-Firebase-Client"]=i.getPlatformInfoString()),o={method:"POST",body:JSON.stringify(r),headers:e},a.label=1;case 1:return a.trys.push([1,3,,4]),[4,fetch(n,o)];case 2:return s=a.sent(),[3,4];case 3:throw u=a.sent(),h.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(200!==s.status)throw h.create("fetch-status-error",{httpStatus:s.status});a.label=5;case 5:return a.trys.push([5,7,,8]),[4,s.json()];case 6:return l=a.sent(),[3,8];case 7:throw c=a.sent(),h.create("fetch-parse-error",{originalErrorMessage:c.message});case 8:if(!(f=l.ttl.match(/^([\d.]+)(s)$/))||!f[2]||isNaN(Number(f[1])))throw h.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+l.ttl});return d=1e3*Number(f[1]),p=Date.now(),[2,{token:l.attestationToken,expireTimeMillis:p+d,issuedAtTimeMillis:p}]}}))}))}function M(e,t){var n=e.options,r=n.projectId,i=n.appId,a=n.apiKey;return{url:O+"/projects/"+r+"/apps/"+i+":exchangeRecaptchaToken?key="+a,body:{recaptcha_token:t}}}function I(e,t){var n=e.options,r=n.projectId,i=n.appId,a=n.apiKey;return{url:O+"/projects/"+r+"/apps/"+i+":exchangeDebugToken?key="+a,body:{debug_token:t}}}var D="firebase-app-check-store",P="debug-token",N=null;function j(){return N||(N=new Promise((function(e,t){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){var n;t(h.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(D,{keyPath:"compositeKey"})}}}catch(r){t(h.create("storage-open",{originalErrorMessage:r.message}))}})))}function L(e){return F(z(e))}function R(e,t){return a.__awaiter(this,void 0,void 0,(function(){var n,r,i,o;return a.__generator(this,(function(a){switch(a.label){case 0:return[4,j()];case 1:return n=a.sent(),r=n.transaction(D,"readwrite"),i=r.objectStore(D),o=i.put({compositeKey:e,value:t}),[2,new Promise((function(e,t){o.onsuccess=function(t){e()},r.onerror=function(e){var n;t(h.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function F(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n,r,i;return a.__generator(this,(function(a){switch(a.label){case 0:return[4,j()];case 1:return t=a.sent(),n=t.transaction(D,"readonly"),r=n.objectStore(D),i=r.get(e),[2,new Promise((function(e,t){i.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)},n.onerror=function(e){var n;t(h.create("storage-get",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function z(e){return e.options.appId+"-"+e.name}var U=new s.Logger("@firebase/app-check");function q(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n;return a.__generator(this,(function(r){switch(r.label){case 0:if(!o.isIndexedDBAvailable())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,L(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),U.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}}))}))}function B(e,t){return o.isIndexedDBAvailable()?function(e,t){return R(z(e),t)}(e,t).catch((function(e){U.warn("Failed to write token to indexeddb. Error: "+e)})):Promise.resolve()}function V(){return a.__awaiter(this,void 0,void 0,(function(){var e,t;return a.__generator(this,(function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,F(P)];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:(t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),(r=t,R(P,r)).catch((function(e){return U.warn("Failed to persist debug token to indexeddb. Error: "+e)})),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}var r}))}))}function H(){return a.__awaiter(this,void 0,void 0,(function(){var e;return a.__generator(this,(function(t){if((e=m()).enabled&&e.token)return[2,e.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")}))}))}var W={error:"UNKNOWN_ERROR"};function Y(e){return o.base64.encodeString(JSON.stringify(e),!1)}function G(e,t,n){return void 0===n&&(n=!1),a.__awaiter(this,void 0,void 0,(function(){var r,i,s,u,l,c,f,d,p,v,b,w,x,k;return a.__generator(this,(function(O){switch(O.label){case 0:return _(e),r=g(e),i=r.token,s=void 0,i?[3,2]:[4,q(e)];case 1:(u=O.sent())&&Q(u)&&(i=u,y(e,a.__assign(a.__assign({},r),{token:i})),$(e,{token:i.token})),O.label=2;case 2:return!n&&i&&Q(i)?[2,{token:i.token}]:m().enabled?(c=C,f=I,d=[e],[4,H()]):[3,6];case 3:return[4,c.apply(void 0,[f.apply(void 0,d.concat([O.sent()])),t])];case 4:return l=O.sent(),[4,B(e,l)];case 5:return O.sent(),y(e,a.__assign(a.__assign({},r),{token:l})),[2,{token:l.token}];case 6:return O.trys.push([6,12,,13]),r.customProvider?[4,r.customProvider.getToken()]:[3,8];case 7:return p=O.sent(),v=o.issuedAtTime(p.token),b=null!==v&&v<Date.now()&&v>0?1e3*v:Date.now(),i=a.__assign(a.__assign({},p),{issuedAtTimeMillis:b}),[3,11];case 8:return[4,T(e).catch((function(e){throw h.create("recaptcha-error")}))];case 9:return w=O.sent(),[4,C(M(e,w),t)];case 10:i=O.sent(),O.label=11;case 11:return[3,13];case 12:return x=O.sent(),U.error(x),s=x,[3,13];case 13:return i?[3,14]:(k=function(e){return{token:Y(W),error:e}}(s),[3,16]);case 14:return k={token:i.token},y(e,a.__assign(a.__assign({},r),{token:i})),[4,B(e,i)];case 15:O.sent(),O.label=16;case 16:return $(e,k),[2,k]}}))}))}function K(e,t,n,r,i){var o=g(e),s={next:r,error:i,type:n},u=a.__assign(a.__assign({},o),{tokenObservers:a.__spreadArray(a.__spreadArray([],o.tokenObservers),[s])});if(!u.tokenRefresher){var l=function(e,t){var n=this;return new E((function(){return a.__awaiter(n,void 0,void 0,(function(){var n;return a.__generator(this,(function(r){switch(r.label){case 0:return g(e).token?[3,2]:[4,G(e,t)];case 1:return n=r.sent(),[3,4];case 2:return[4,G(e,t,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}}))}))}),(function(){return!0}),(function(){var t=g(e);if(t.token){var n=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5,r=t.token.expireTimeMillis-3e5;return n=Math.min(n,r),Math.max(0,n-Date.now())}return 0}),S,A)}(e,t);u.tokenRefresher=l}if(u.tokenRefresher.isRunning()||!0!==o.isTokenAutoRefreshEnabled||u.tokenRefresher.start(),o.token&&Q(o.token)){var c=o.token;Promise.resolve().then((function(){return r({token:c.token})})).catch((function(){}))}y(e,u)}function X(e,t){var n=g(e),r=n.tokenObservers.filter((function(e){return e.next!==t}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),y(e,a.__assign(a.__assign({},n),{tokenObservers:r}))}function $(e,t){for(var n=0,r=g(e).tokenObservers;n<r.length;n++){var i=r[n];try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(a){}}}function Q(e){return e.expireTimeMillis-Date.now()>0}function J(e,t){return{app:e,activate:function(t,n){return function(e,t,n){var r=g(e);if(r.activated)throw h.create("already-activated",{appName:e.name});var i=a.__assign(a.__assign({},r),{activated:!0});"string"===typeof t?i.siteKey=t:i.customProvider=t,i.isTokenAutoRefreshEnabled=void 0===n?e.automaticDataCollectionEnabled:n,y(e,i),i.siteKey&&x(e,i.siteKey).catch((function(){}))}(e,t,n)},setTokenAutoRefreshEnabled:function(t){return function(e,t){var n=g(e);n.tokenRefresher&&(!0===t?n.tokenRefresher.start():n.tokenRefresher.stop()),y(e,a.__assign(a.__assign({},n),{isTokenAutoRefreshEnabled:t}))}(e,t)},getToken:function(n){return function(e,t,n){return a.__awaiter(this,void 0,void 0,(function(){var r;return a.__generator(this,(function(i){switch(i.label){case 0:return[4,G(e,t,n)];case 1:if((r=i.sent()).error)throw r.error;return[2,{token:r.token}]}}))}))}(e,t,n)},onTokenChanged:function(n,r,i){return function(e,t,n,r,i){var a=function(){},o=function(){};return a=null!=n.next?n.next.bind(n):n,null!=n.error?o=n.error.bind(n):r&&(o=r),K(e,t,"EXTERNAL",a,o),function(){return X(e,a)}}(e,t,n,r)},INTERNAL:{delete:function(){for(var t=0,n=g(e).tokenObservers;t<n.length;t++){var r=n[t];X(e,r.next)}return Promise.resolve()}}}}var Z="app-check-internal";!function(e){e.INTERNAL.registerComponent(new i.Component("appCheck",(function(e){return J(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider(Z).initialize()}))),e.INTERNAL.registerComponent(new i.Component(Z,(function(e){return function(e,t){return{getToken:function(n){return G(e,t,n)},addTokenListener:function(n){return K(e,t,"INTERNAL",n)},removeTokenListener:function(t){return X(e,t)}}}(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion("@firebase/app-check","0.2.0")}(c.default),function(){var e=o.getGlobal();if("string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){var t=m();t.enabled=!0;var n=new o.Deferred;t.token=n,"string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(V())}}()},,function(e,t,n){"use strict";n.r(t),n.d(t,"Calendar",(function(){return un})),n.d(t,"CenturyView",(function(){return Be})),n.d(t,"DecadeView",(function(){return Ze})),n.d(t,"YearView",(function(){return ft})),n.d(t,"MonthView",(function(){return It}));var r,i=n(2),a=n.n(i),o=n(7),s=n.n(o),u=n(32),l=n(47),c=n(9);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d,p={ARABIC:"Arabic",HEBREW:"Hebrew",ISO_8601:"ISO 8601",US:"US"},v=(h(r={},p.US,["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"]),h(r,p.ARABIC,["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]),h(r,p.HEBREW,["he","he-IL"]),r),g=(d=Array(7),function(e){if(Array.isArray(e))return f(e)}(d)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(d)||function(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e,t){return t}));function y(e){return function(t,n){return function(e){return function(t,n){return n.toLocaleString(t||Object(l.default)(),e)}}(e)(t,function(e){var t=new Date(e);return new Date(t.setHours(12))}(n))}}y({day:"numeric",month:"numeric",year:"numeric"});var m=y({day:"numeric"}),b=y({day:"numeric",month:"long",year:"numeric"}),_=y({month:"long"}),w=y({month:"long",year:"numeric"}),x=y({weekday:"short"}),T=y({weekday:"long"}),k=y({year:"numeric"}),O=g[0],S=g[5],A=g[6];function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.ISO_8601,n=e.getDay();switch(t){case p.ISO_8601:return(n+6)%7;case p.ARABIC:return(n+1)%7;case p.HEBREW:case p.US:return n;default:throw new Error("Unsupported calendar type.")}}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.ISO_8601,n=Object(c.getYear)(e),r=Object(c.getMonth)(e),i=e.getDate()-E(e,t);return new Date(n,r,i)}function M(e,t){switch(e){case"century":return Object(c.getCenturyStart)(t);case"decade":return Object(c.getDecadeStart)(t);case"year":return Object(c.getYearStart)(t);case"month":return Object(c.getMonthStart)(t);case"day":return Object(c.getDayStart)(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function I(e,t){switch(e){case"century":return Object(c.getNextCenturyStart)(t);case"decade":return Object(c.getNextDecadeStart)(t);case"year":return Object(c.getNextYearStart)(t);case"month":return Object(c.getNextMonthStart)(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function D(e,t){switch(e){case"century":return Object(c.getCenturyEnd)(t);case"decade":return Object(c.getDecadeEnd)(t);case"year":return Object(c.getYearEnd)(t);case"month":return Object(c.getMonthEnd)(t);case"day":return Object(c.getDayEnd)(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function P(e,t){switch(e){case"century":return Object(c.getCenturyRange)(t);case"decade":return Object(c.getDecadeRange)(t);case"year":return Object(c.getYearRange)(t);case"month":return Object(c.getMonthRange)(t);case"day":return Object(c.getDayRange)(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function N(e,t,n){var r=[t,n].sort((function(e,t){return e-t}));return[M(e,r[0]),D(e,r[1])]}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k,n=arguments.length>2?arguments[2]:void 0;return n.map((function(n){return t(e,n)})).join(" \u2013 ")}function L(e,t,n){return j(e,t,Object(c.getDecadeRange)(n))}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.ISO_8601,n=e.getDay();switch(t){case p.ARABIC:case p.HEBREW:return n===S||n===A;case p.ISO_8601:case p.US:return n===A||n===O;default:throw new Error("Unsupported calendar type.")}}function F(e){return(F="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var z=Object.values(p),U=["century","decade","year","month"],q=s.a.oneOf(z),B=s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)]),V=function(e,t,n){var r=e[t];if(!r)return null;if(!(r instanceof Date))return new Error("Invalid prop `".concat(t,"` of type `").concat(F(r),"` supplied to `").concat(n,"`, expected instance of `Date`."));var i=e.maxDate;return i&&r>i?new Error("Invalid prop `".concat(t,"` of type `").concat(F(r),"` supplied to `").concat(n,"`, minDate cannot be larger than maxDate.")):null},H=function(e,t,n){var r=e[t];if(!r)return null;if(!(r instanceof Date))return new Error("Invalid prop `".concat(t,"` of type `").concat(F(r),"` supplied to `").concat(n,"`, expected instance of `Date`."));var i=e.minDate;return i&&r<i?new Error("Invalid prop `".concat(t,"` of type `").concat(F(r),"` supplied to `").concat(n,"`, maxDate cannot be smaller than minDate.")):null},W=s.a.oneOfType([s.a.func,s.a.shape({current:s.a.any})]),Y=s.a.oneOfType([s.a.instanceOf(Date),s.a.arrayOf(s.a.instanceOf(Date))]),G=s.a.arrayOf(s.a.oneOf(U)),K=function(e,t,n){var r=e[t],i=e.views||U;return void 0!==r&&-1===i.indexOf(r)?new Error("Invalid prop `".concat(t,"` of value `").concat(r,"` supplied to `").concat(n,"`, expected one of [").concat(i.map((function(e){return'"'.concat(e,'"')})).join(", "),"].")):null};K.isRequired=function(e,t,n){var r=e[t];return r?K(e,t,n):new Error("The prop `".concat(t,"` is marked as required in `").concat(n,"`, but its value is `").concat(r,"`."))};var X={activeStartDate:s.a.instanceOf(Date).isRequired,hover:s.a.instanceOf(Date),locale:s.a.string,maxDate:H,minDate:V,onClick:s.a.func,onMouseOver:s.a.func,tileClassName:s.a.oneOfType([s.a.func,B]),tileContent:s.a.oneOfType([s.a.func,s.a.node]),value:Y,valueType:s.a.string},$={activeStartDate:s.a.instanceOf(Date).isRequired,classes:s.a.arrayOf(s.a.string).isRequired,date:s.a.instanceOf(Date).isRequired,locale:s.a.string,maxDate:H,minDate:V,onClick:s.a.func,onMouseOver:s.a.func,style:s.a.objectOf(s.a.oneOfType([s.a.string,s.a.number])),tileClassName:s.a.oneOfType([s.a.func,B]),tileContent:s.a.oneOfType([s.a.func,s.a.node]),tileDisabled:s.a.func},Q="react-calendar__navigation";function J(e){var t=e.activeStartDate,n=e.drillUp,r=e.formatMonthYear,i=void 0===r?w:r,o=e.formatYear,s=void 0===o?k:o,u=e.locale,f=e.maxDate,h=e.minDate,d=e.navigationAriaLabel,p=void 0===d?"":d,v=e.navigationLabel,g=e.next2AriaLabel,y=void 0===g?"":g,m=e.next2Label,b=void 0===m?"\xbb":m,_=e.nextAriaLabel,x=void 0===_?"":_,T=e.nextLabel,O=void 0===T?"\u203a":T,S=e.prev2AriaLabel,A=void 0===S?"":S,E=e.prev2Label,C=void 0===E?"\xab":E,M=e.prevAriaLabel,D=void 0===M?"":M,P=e.prevLabel,N=void 0===P?"\u2039":P,R=e.setActiveStartDate,F=e.showDoubleView,z=e.view,U=e.views.indexOf(z)>0,q="century"!==z,B=function(e,t){switch(e){case"century":return Object(c.getPreviousCenturyStart)(t);case"decade":return Object(c.getPreviousDecadeStart)(t);case"year":return Object(c.getPreviousYearStart)(t);case"month":return Object(c.getPreviousMonthStart)(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(z,t),V=q&&function(e,t){switch(e){case"decade":return Object(c.getPreviousDecadeStart)(t,-100);case"year":return Object(c.getPreviousYearStart)(t,-10);case"month":return Object(c.getPreviousMonthStart)(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(z,t),H=I(z,t),W=q&&function(e,t){switch(e){case"decade":return Object(c.getNextDecadeStart)(t,100);case"year":return Object(c.getNextYearStart)(t,10);case"month":return Object(c.getNextMonthStart)(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}(z,t),Y=function(){if(B.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"century":return Object(c.getPreviousCenturyEnd)(t);case"decade":return Object(c.getPreviousDecadeEnd)(t);case"year":return Object(c.getPreviousYearEnd)(t);case"month":return Object(c.getPreviousMonthEnd)(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(z,t);return h&&h>=e}(),G=q&&function(){if(V.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"decade":return Object(c.getPreviousDecadeEnd)(t,-100);case"year":return Object(c.getPreviousYearEnd)(t,-10);case"month":return Object(c.getPreviousMonthEnd)(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(z,t);return h&&h>=e}(),K=f&&f<=H,X=q&&f&&f<=W;function $(e){var t=function(){switch(z){case"century":return function(e,t,n){return j(e,t,Object(c.getCenturyRange)(n))}(u,s,e);case"decade":return L(u,s,e);case"year":return s(u,e);case"month":return i(u,e);default:throw new Error("Invalid view: ".concat(z,"."))}}();return v?v({date:e,label:t,locale:u||Object(l.getUserLocale)(),view:z}):t}return a.a.createElement("div",{className:Q,style:{display:"flex"}},null!==C&&q&&a.a.createElement("button",{"aria-label":A,className:"".concat(Q,"__arrow ").concat(Q,"__prev2-button"),disabled:G,onClick:function(){R(V)},type:"button"},C),null!==N&&a.a.createElement("button",{"aria-label":D,className:"".concat(Q,"__arrow ").concat(Q,"__prev-button"),disabled:Y,onClick:function(){R(B)},type:"button"},N),function(){var e="".concat(Q,"__label");return a.a.createElement("button",{"aria-label":p,className:e,disabled:!U,onClick:n,style:{flexGrow:1},type:"button"},a.a.createElement("span",{className:"".concat(e,"__labelText ").concat(e,"__labelText--from")},$(t)),F&&a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"".concat(e,"__divider")}," ","\u2013"," "),a.a.createElement("span",{className:"".concat(e,"__labelText ").concat(e,"__labelText--to")},$(H))))}(),null!==O&&a.a.createElement("button",{"aria-label":x,className:"".concat(Q,"__arrow ").concat(Q,"__next-button"),disabled:K,onClick:function(){R(H)},type:"button"},O),null!==b&&q&&a.a.createElement("button",{"aria-label":y,className:"".concat(Q,"__arrow ").concat(Q,"__next2-button"),disabled:X,onClick:function(){R(W)},type:"button"},b))}function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ie(e){return"".concat(e,"%")}function ae(e){var t=e.children,n=e.className,r=e.direction,i=e.count,o=e.offset,s=e.style,u=e.wrap,l=re(e,["children","className","direction","count","offset","style","wrap"]);return a.a.createElement("div",Z({className:n,style:te({display:"flex",flexDirection:r,flexWrap:u?"wrap":"no-wrap"},s)},l),a.a.Children.map(t,(function(e,t){return a.a.cloneElement(e,te(te({},e.props),{},{style:{flexBasis:ie(100/i),maxWidth:ie(100/i),overflow:"hidden",marginLeft:o&&0===t?ie(100*o/i):null}}))})))}function oe(e){return function(e){if(Array.isArray(e))return se(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return se(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ue(e,t){return t[0]<=e&&t[1]>=e}function le(e,t){return e[0]<=t[0]&&e[1]>=t[1]}function ce(e,t){return ue(e[0],t)||ue(e[1],t)}function fe(e,t,n){var r=[];if(ce(t,e)){r.push(n);var i=ue(e[0],t),a=ue(e[1],t);i&&r.push("".concat(n,"Start")),a&&r.push("".concat(n,"End")),i&&a&&r.push("".concat(n,"BothEnds"))}return r}function he(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value,n=e.valueType,r=e.date,i=e.dateType,a=e.hover,o="react-calendar__tile",s=[o];if(!r)return s;if(!Array.isArray(r)&&!i)throw new Error("getTileClasses(): Unable to get tile activity classes because one or more required arguments were not passed.");var u=new Date,l=Array.isArray(r)?r:P(i,r);if(ue(u,l)&&s.push("".concat(o,"--now")),!t)return s;if(!Array.isArray(t)&&!n)throw new Error("getTileClasses(): Unable to get tile activity classes because one or more required arguments were not passed.");var c=Array.isArray(t)?t:P(n,t);le(c,l)?s.push("".concat(o,"--active")):ce(c,l)&&s.push("".concat(o,"--hasActive"));var f=fe(c,l,"".concat(o,"--range"));if(s.push.apply(s,oe(f)),a){var h=a>c[1]?[c[1],a]:[a,c[0]],d=fe(h,l,"".concat(o,"--hover"));s.push.apply(s,oe(d))}return s}function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ge(){return(ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ye(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function me(e){for(var t=e.className,n=e.count,r=void 0===n?3:n,i=e.dateTransform,o=e.dateType,s=e.end,u=e.hover,l=e.offset,c=e.start,f=e.step,h=void 0===f?1:f,d=e.tile,p=e.value,v=e.valueType,g=ye(e,["className","count","dateTransform","dateType","end","hover","offset","start","step","tile","value","valueType"]),y=[],m=c;m<=s;m+=h){var b=i(m);y.push(a.a.createElement(d,ge({key:b.getTime(),classes:he({value:p,valueType:v,date:b,dateType:o,hover:u}),date:b,point:m},g)))}return a.a.createElement(ae,{className:t,count:r,offset:l,wrap:!0},y)}function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){Ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function we(e){return(we="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(e,t){return(ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ee(e);if(t){var i=Ee(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Se(this,n)}}function Se(e,t){return!t||"object"!==we(t)&&"function"!==typeof t?Ae(e):t}function Ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Me(e,t){var n=e.activeStartDate,r=e.date,i=e.view;return"function"===typeof t?t({activeStartDate:n,date:r,view:i}):t}J.propTypes={activeStartDate:s.a.instanceOf(Date).isRequired,drillUp:s.a.func.isRequired,formatMonthYear:s.a.func,formatYear:s.a.func,locale:s.a.string,maxDate:s.a.instanceOf(Date),minDate:s.a.instanceOf(Date),navigationAriaLabel:s.a.string,navigationLabel:s.a.func,next2AriaLabel:s.a.string,next2Label:s.a.node,nextAriaLabel:s.a.string,nextLabel:s.a.node,prev2AriaLabel:s.a.string,prev2Label:s.a.node,prevAriaLabel:s.a.string,prevLabel:s.a.node,setActiveStartDate:s.a.func.isRequired,showDoubleView:s.a.bool,view:K.isRequired,views:G.isRequired},ae.propTypes={children:s.a.node,className:s.a.string,count:s.a.number.isRequired,direction:s.a.string,offset:s.a.number,style:s.a.objectOf(s.a.oneOfType([s.a.string,s.a.number])),wrap:s.a.bool},me.propTypes=pe(pe({},X),{},{activeStartDate:s.a.instanceOf(Date),count:s.a.number,dateTransform:s.a.func.isRequired,dateType:s.a.string,offset:s.a.number,step:s.a.number,tile:s.a.func.isRequired});var Ie=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ke(e,t)}(o,e);var t,n,r,i=Oe(o);function o(){var e;xe(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ce(Ae(e=i.call.apply(i,[this].concat(n))),"state",{}),e}return t=o,r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.tileClassName,r=e.tileContent,i={};return n!==t.tileClassNameProps&&(i.tileClassName=Me(e,n),i.tileClassNameProps=n),r!==t.tileContentProps&&(i.tileContent=Me(e,r),i.tileContentProps=r),i}}],(n=[{key:"render",value:function(){var e=this.props,t=e.activeStartDate,n=e.children,r=e.classes,i=e.date,o=e.formatAbbr,s=e.locale,l=e.maxDate,c=e.maxDateTransform,f=e.minDate,h=e.minDateTransform,d=e.onClick,p=e.onMouseOver,v=e.style,g=e.tileDisabled,y=e.view,m=this.state,b=m.tileClassName,_=m.tileContent;return a.a.createElement("button",{className:Object(u.default)(r,b),disabled:f&&h(f)>i||l&&c(l)<i||g&&g({activeStartDate:t,date:i,view:y}),onClick:d&&function(e){return d(i,e)},onFocus:p&&function(){return p(i)},onMouseOver:p&&function(){return p(i)},style:v,type:"button"},o?a.a.createElement("abbr",{"aria-label":o(s,i)},n):n,_)}}])&&Te(t.prototype,n),r&&Te(t,r),o}(i.Component);function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){Ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Le(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}Ie.propTypes=_e(_e({},$),{},{children:s.a.node.isRequired,formatAbbr:s.a.func,maxDateTransform:s.a.func.isRequired,minDateTransform:s.a.func.isRequired});function Re(e){var t=e.classes,n=e.formatYear,r=void 0===n?k:n,i=Le(e,["classes","formatYear"]),o=i.date,s=i.locale;return a.a.createElement(Ie,je({},i,{classes:[].concat(t,"react-calendar__century-view__decades__decade"),maxDateTransform:c.getDecadeEnd,minDateTransform:c.getDecadeStart,view:"century"}),L(s,r,o))}function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ue(){return(Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function qe(e){var t=function(e){var t=Object(c.getCenturyStart)(e);return Object(c.getYear)(t)}(e.activeStartDate),n=t+99;return a.a.createElement(me,Ue({},e,{className:"react-calendar__century-view__decades",dateTransform:c.getDecadeStart,dateType:"decade",end:n,start:t,step:10,tile:Re}))}function Be(e){return a.a.createElement("div",{className:"react-calendar__century-view"},a.a.createElement(qe,e))}function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){We(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ye(){return(Ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ge(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}Re.propTypes=Pe(Pe({},$),{},{formatYear:s.a.func}),qe.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},X);function Ke(e){var t=e.classes,n=e.formatYear,r=void 0===n?k:n,i=Ge(e,["classes","formatYear"]),o=i.date,s=i.locale;return a.a.createElement(Ie,Ye({},i,{classes:[].concat(t,"react-calendar__decade-view__years__year"),maxDateTransform:c.getYearEnd,minDateTransform:c.getYearStart,view:"decade"}),r(s,o))}function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qe(){return(Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Je(e){var t=function(e){var t=Object(c.getDecadeStart)(e);return Object(c.getYear)(t)}(e.activeStartDate),n=t+9;return a.a.createElement(me,Qe({},e,{className:"react-calendar__decade-view__years",dateTransform:function(e){var t=new Date;return t.setFullYear(e,0,1),t.setHours(0,0,0,0),t},dateType:"year",end:n,start:t,tile:Ke}))}function Ze(e){return a.a.createElement("div",{className:"react-calendar__decade-view"},a.a.createElement(Je,e))}function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){nt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rt(){return(rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function it(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}Ke.propTypes=He(He({},$),{},{formatYear:s.a.func}),Je.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){$e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},X);function at(e){var t=e.classes,n=e.formatMonth,r=void 0===n?_:n,i=e.formatMonthYear,o=void 0===i?w:i,s=it(e,["classes","formatMonth","formatMonthYear"]),u=s.date,l=s.locale;return a.a.createElement(Ie,rt({},s,{classes:[].concat(t,"react-calendar__year-view__months__month"),formatAbbr:o,maxDateTransform:c.getMonthEnd,minDateTransform:c.getMonthStart,view:"year"}),r(l,u))}function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lt(){return(lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ct(e){var t=e.activeStartDate,n=Object(c.getYear)(t);return a.a.createElement(me,lt({},e,{className:"react-calendar__year-view__months",dateTransform:function(e){var t=new Date;return t.setFullYear(n,e,1),t.setHours(0,0,0,0),t},dateType:"month",end:11,start:0,tile:at}))}function ft(e){return a.a.createElement("div",{className:"react-calendar__year-view"},a.a.createElement(ct,e))}function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){pt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vt(){return(vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function gt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}at.propTypes=tt(tt({},$),{},{formatMonth:s.a.func,formatMonthYear:s.a.func}),ct.propTypes=st(st({},X),{},{locale:s.a.string});var yt="react-calendar__month-view__days__day";function mt(e){var t=e.formatDay,n=void 0===t?m:t,r=e.formatLongDate,i=void 0===r?b:r,o=e.calendarType,s=e.classes,u=e.currentMonthIndex,l=gt(e,["formatDay","formatLongDate","calendarType","classes","currentMonthIndex"]),f=l.date,h=l.locale;return a.a.createElement(Ie,vt({},l,{classes:[].concat(s,yt,R(f,o)?"".concat(yt,"--weekend"):null,f.getMonth()!==u?"".concat(yt,"--neighboringMonth"):null),formatAbbr:i,maxDateTransform:c.getDayEnd,minDateTransform:c.getDayStart,view:"month"}),n(h,f))}function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wt(){return(wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Tt(e){var t=e.activeStartDate,n=e.calendarType,r=e.showFixedNumberOfWeeks,i=e.showNeighboringMonth,o=xt(e,["showFixedNumberOfWeeks","showNeighboringMonth"]),s=Object(c.getYear)(t),u=Object(c.getMonth)(t),l=r||i,f=E(t,n),h=l?0:f,d=1+(l?-f:0),p=function(){if(r)return d+42-1;var e=Object(c.getDaysInMonth)(t);if(i){var a=new Date;return a.setFullYear(s,u,e),a.setHours(0,0,0,0),e+(7-E(a,n)-1)}return e}();return a.a.createElement(me,wt({},o,{className:"react-calendar__month-view__days",count:7,currentMonthIndex:u,dateTransform:function(e){var t=new Date;return t.setFullYear(s,u,e),t.setHours(0,0,0,0),t},dateType:"day",end:p,offset:h,start:d,tile:mt}))}mt.propTypes=dt(dt({},$),{},{currentMonthIndex:s.a.number.isRequired,formatDay:s.a.func,formatLongDate:s.a.func}),Tt.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){_t(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({calendarType:q.isRequired,showFixedNumberOfWeeks:s.a.bool,showNeighboringMonth:s.a.bool},X);var kt="react-calendar__month-view__weekdays";function Ot(e){for(var t=e.calendarType,n=e.formatShortWeekday,r=void 0===n?x:n,i=e.locale,o=e.onMouseLeave,s=new Date,u=Object(c.getMonthStart)(s),l=Object(c.getYear)(u),f=Object(c.getMonth)(u),h=[],d=1;d<=7;d+=1){var p=new Date(l,f,d-E(u,t)),v=T(i,p);h.push(a.a.createElement("div",{key:d,className:"".concat(kt,"__weekday")},a.a.createElement("abbr",{"aria-label":v,title:v},r(i,p).replace(".",""))))}return a.a.createElement(ae,{className:kt,count:7,onFocus:o,onMouseOver:o},h)}function St(){return(St=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function At(e){var t=e.date,n=e.onClickWeekNumber,r=e.weekNumber,i={className:"react-calendar__tile",style:{flexGrow:1}},o=a.a.createElement("span",null,r);return n?a.a.createElement("button",St({},i,{onClick:function(e){return n(r,t,e)},type:"button"}),o):a.a.createElement("div",i,o)}function Et(e){var t=e.activeStartDate,n=e.calendarType,r=e.onClickWeekNumber,i=e.onMouseLeave,o=e.showFixedNumberOfWeeks,s=function(){if(o)return 6;var e=Object(c.getDaysInMonth)(t)-(7-E(t,n));return 1+Math.ceil(e/7)}(),u=function(){for(var e=Object(c.getYear)(t),r=Object(c.getMonth)(t),i=Object(c.getDate)(t),a=[],o=0;o<s;o+=1)a.push(C(new Date(e,r,i+7*o),n));return a}(),l=u.map((function(e){return function(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.ISO_8601)===p.US?p.US:p.ISO_8601,r=C(e,n),i=Object(c.getYear)(e)+1;do{t=C(new Date(i,0,n===p.ISO_8601?4:1),n),i-=1}while(e-t<0);return Math.round((r-t)/6048e5)+1}(e,n)}));return a.a.createElement(ae,{className:"react-calendar__month-view__weekNumbers",count:s,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0}},l.map((function(e,t){return a.a.createElement(At,{key:e,date:u[t],onClickWeekNumber:r,weekNumber:e})})))}function Ct(){return(Ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Mt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function It(e){var t=e.activeStartDate,n=e.locale,r=e.onMouseLeave,i=e.showFixedNumberOfWeeks,o=e.calendarType,s=void 0===o?function(e){return Object.keys(v).find((function(t){return v[t].includes(e)}))||p.ISO_8601}(n):o,l=e.formatShortWeekday,c=e.onClickWeekNumber,f=e.showWeekNumbers,h=Mt(e,["calendarType","formatShortWeekday","onClickWeekNumber","showWeekNumbers"]);var d="react-calendar__month-view";return a.a.createElement("div",{className:Object(u.default)(d,f?"".concat(d,"--weekNumbers"):"")},a.a.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},f?a.a.createElement(Et,{activeStartDate:t,calendarType:s,onClickWeekNumber:c,onMouseLeave:r,showFixedNumberOfWeeks:i}):null,a.a.createElement("div",{style:{flexGrow:1,width:"100%"}},a.a.createElement(Ot,{calendarType:s,formatShortWeekday:l,locale:n,onMouseLeave:r}),a.a.createElement(Tt,Ct({calendarType:s},h)))))}function Dt(){return(Dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Pt(e){return(Pt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lt(e,t){return(Lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ut(e);if(t){var i=Ut(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ft(this,n)}}function Ft(e,t){return!t||"object"!==Pt(t)&&"function"!==typeof t?zt(e):t}function zt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ut(e){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(n),!0).forEach((function(t){Vt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ht(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Ot.propTypes={calendarType:q.isRequired,formatShortWeekday:s.a.func,locale:s.a.string,onMouseLeave:s.a.func},At.propTypes={date:s.a.instanceOf(Date).isRequired,onClickWeekNumber:s.a.func,weekNumber:s.a.node.isRequired},Et.propTypes={activeStartDate:s.a.instanceOf(Date).isRequired,calendarType:q.isRequired,onClickWeekNumber:s.a.func,onMouseLeave:s.a.func,showFixedNumberOfWeeks:s.a.bool},It.propTypes={activeStartDate:s.a.instanceOf(Date).isRequired,calendarType:q,formatShortWeekday:s.a.func,locale:s.a.string,onClickWeekNumber:s.a.func,onMouseLeave:s.a.func,showFixedNumberOfWeeks:s.a.bool,showWeekNumbers:s.a.bool};var Yt=new Date;Yt.setFullYear(1,0,1),Yt.setHours(0,0,0,0);var Gt=new Date(864e13),Kt="react-calendar",Xt=["century","decade","year","month"],$t=[].concat(function(e){return function(e){if(Array.isArray(e))return Wt(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Wt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Xt.slice(1)),["day"]);function Qt(e,t){return Xt.slice(Xt.indexOf(e),Xt.indexOf(t)+1)}function Jt(e,t,n){return function(e,t,n){return-1!==Qt(t,n).indexOf(e)}(e,t,n)?e:n}function Zt(e){return $t[Xt.indexOf(e)]}function en(e,t){if(!e)return null;var n=Array.isArray(e)&&2===e.length?e[t]:e;if(!n)return null;var r=function(e){return e instanceof Date?e:new Date(e)}(n);if(isNaN(r.getTime()))throw new Error("Invalid date: ".concat(e));return r}function tn(e,t){var n=e.value,r=e.minDate,i=e.maxDate,a=e.maxDetail,o=en(n,t);if(!o)return null;var s=Zt(a);return function(e,t,n){return t&&t>e?t:n&&n<e?n:e}([M,D][t](s,o),r,i)}var nn=function(e){return tn(e,0)},rn=function(e){return tn(e,1)},an=function(e){var t=e.value;return Array.isArray(t)?t:[nn,rn].map((function(t){return t(e)}))};function on(e){var t=e.maxDate,n=e.maxDetail,r=e.minDate,i=e.minDetail,a=e.value;return M(Jt(e.view,i,n),nn({value:a,minDate:r,maxDate:t,maxDetail:n})||new Date)}var sn=function(e){return e&&1===[].concat(e).length},un=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lt(e,t)}(o,e);var t,n,r,i=Rt(o);function o(){var e;Nt(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Vt(zt(e=i.call.apply(i,[this].concat(n))),"state",{activeStartDate:e.props.defaultActiveStartDate,value:e.props.defaultValue,view:e.props.defaultView}),Vt(zt(e),"setStateAndCallCallbacks",(function(t,n,r){var i=zt(e),a=i.activeStartDate,o=i.view,s=e.props,u=s.allowPartialRange,l=s.onActiveStartDateChange,c=s.onChange,f=s.onViewChange,h=s.selectRange,d={activeStartDate:a,view:o};e.setState(t,(function(){var i={activeStartDate:t.activeStartDate||e.activeStartDate,value:t.value||e.value,view:t.view||e.view};function a(e){return e in t&&(Pt(t[e])!==Pt(d[e])||(t[e]instanceof Date?t[e].getTime()!==d[e].getTime():t[e]!==d[e]))}(a("activeStartDate")&&l&&l(i),a("view")&&f&&f(i),a("value"))&&(c&&(h&&sn(t.value)?u&&c([t.value],n):c(t.value,n)));r&&r(i)}))})),Vt(zt(e),"setActiveStartDate",(function(t){e.setStateAndCallCallbacks({activeStartDate:t})})),Vt(zt(e),"drillDown",(function(t,n){if(e.drillDownAvailable){e.onClickTile(t,n);var r=zt(e),i=r.view,a=r.views,o=e.props.onDrillDown,s=a[a.indexOf(i)+1];e.setStateAndCallCallbacks({activeStartDate:t,view:s},void 0,o)}})),Vt(zt(e),"drillUp",(function(){if(e.drillUpAvailable){var t=zt(e),n=t.activeStartDate,r=t.view,i=t.views,a=e.props.onDrillUp,o=i[i.indexOf(r)-1],s=M(o,n);e.setStateAndCallCallbacks({activeStartDate:s,view:o},void 0,a)}})),Vt(zt(e),"onChange",(function(t,n){var r,i=e.props.selectRange;if(e.onClickTile(t,n),i){var a=zt(e),o=a.value,s=a.valueType;r=sn(o)?N(s,o,t):M(s,t)}else r=e.getProcessedValue(t);var u=on(Bt(Bt({},e.props),{},{value:r}));n.persist(),e.setStateAndCallCallbacks({activeStartDate:u,value:r},n)})),Vt(zt(e),"onClickTile",(function(t,n){var r=zt(e).view,i=e.props,a=i.onClickDay,o=i.onClickDecade,s=i.onClickMonth,u=i.onClickYear,l=function(){switch(r){case"century":return o;case"decade":return u;case"year":return s;case"month":return a;default:throw new Error("Invalid view: ".concat(r,"."))}}();l&&l(t,n)})),Vt(zt(e),"onMouseOver",(function(t){e.setState((function(e){return e.hover&&e.hover.getTime()===t.getTime()?null:{hover:t}}))})),Vt(zt(e),"onMouseLeave",(function(){e.setState({hover:null})})),e}return t=o,(n=[{key:"getProcessedValue",value:function(e){var t=this.props,n=t.minDate,r=t.maxDate,i=t.maxDetail,a=t.returnValue;return function(){switch(a){case"start":return nn;case"end":return rn;case"range":return an;default:throw new Error("Invalid returnValue.")}}()({value:e,minDate:n,maxDate:r,maxDetail:i})}},{key:"renderContent",value:function(e){var t=this.activeStartDate,n=this.onMouseOver,r=this.valueType,i=this.value,o=this.view,s=this.props,u=s.calendarType,l=s.locale,c=s.maxDate,f=s.minDate,h=s.selectRange,d=s.tileClassName,p=s.tileContent,v=s.tileDisabled,g=this.hover,y={activeStartDate:e?I(o,t):M(o,t),hover:g,locale:l,maxDate:c,minDate:f,onClick:this.drillDownAvailable?this.drillDown:this.onChange,onMouseOver:h?n:null,tileClassName:d,tileContent:p,tileDisabled:v,value:i,valueType:r};switch(o){case"century":var m=this.props.formatYear;return a.a.createElement(Be,Dt({formatYear:m},y));case"decade":var b=this.props.formatYear;return a.a.createElement(Ze,Dt({formatYear:b},y));case"year":var _=this.props,w=_.formatMonth,x=_.formatMonthYear;return a.a.createElement(ft,Dt({formatMonth:w,formatMonthYear:x},y));case"month":var T=this.props,k=T.formatDay,O=T.formatLongDate,S=T.formatShortWeekday,A=T.onClickWeekNumber,E=T.showDoubleView,C=T.showFixedNumberOfWeeks,D=T.showNeighboringMonth,P=T.showWeekNumbers,N=this.onMouseLeave;return a.a.createElement(It,Dt({calendarType:u,formatDay:k,formatLongDate:O,formatShortWeekday:S,onClickWeekNumber:A,onMouseLeave:h?N:null,showFixedNumberOfWeeks:C||E,showNeighboringMonth:D,showWeekNumbers:P},y));default:throw new Error("Invalid view: ".concat(o,"."))}}},{key:"renderNavigation",value:function(){if(!this.props.showNavigation)return null;var e=this.activeStartDate,t=this.view,n=this.views,r=this.props,i=r.formatMonthYear,o=r.formatYear,s=r.locale,u=r.maxDate,l=r.minDate,c=r.navigationAriaLabel,f=r.navigationLabel,h=r.next2AriaLabel,d=r.next2Label,p=r.nextAriaLabel,v=r.nextLabel,g=r.prev2AriaLabel,y=r.prev2Label,m=r.prevAriaLabel,b=r.prevLabel,_=r.showDoubleView;return a.a.createElement(J,{activeStartDate:e,drillUp:this.drillUp,formatMonthYear:i,formatYear:o,locale:s,maxDate:u,minDate:l,navigationAriaLabel:c,navigationLabel:f,next2AriaLabel:h,next2Label:d,nextAriaLabel:p,nextLabel:v,prev2AriaLabel:g,prev2Label:y,prevAriaLabel:m,prevLabel:b,setActiveStartDate:this.setActiveStartDate,showDoubleView:_,view:t,views:n})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.inputRef,r=e.selectRange,i=e.showDoubleView,o=this.onMouseLeave,s=this.value,l=[].concat(s);return a.a.createElement("div",{className:Object(u.default)(Kt,r&&1===l.length&&"".concat(Kt,"--selectRange"),i&&"".concat(Kt,"--doubleView"),t),ref:n},this.renderNavigation(),a.a.createElement("div",{className:"".concat(Kt,"__viewContainer"),onBlur:r?o:null,onMouseLeave:r?o:null},this.renderContent(),i&&this.renderContent(!0)))}},{key:"activeStartDate",get:function(){var e=this.props.activeStartDate,t=this.state.activeStartDate;return e||t||function(e){var t=e.activeStartDate,n=e.defaultActiveStartDate,r=e.defaultValue,i=e.defaultView,a=e.maxDetail,o=e.minDetail,s=e.value,u=e.view,l=Ht(e,["activeStartDate","defaultActiveStartDate","defaultValue","defaultView","maxDetail","minDetail","value","view"]),c=Jt(u,o,a),f=t||n;return f?M(c,f):on(Bt({maxDetail:a,minDetail:o,value:s||r,view:u||i},l))}(this.props)}},{key:"value",get:function(){var e=this.props,t=e.selectRange,n=e.value,r=this.state.value;return t&&sn(r)?r:void 0!==n?n:r}},{key:"valueType",get:function(){return Zt(this.props.maxDetail)}},{key:"view",get:function(){var e=this.props,t=e.minDetail,n=e.maxDetail,r=e.view,i=this.state.view;return Jt(r||i,t,n)}},{key:"views",get:function(){var e=this.props;return Qt(e.minDetail,e.maxDetail)}},{key:"hover",get:function(){var e=this.props.selectRange,t=this.state.hover;return e?t:null}},{key:"drillDownAvailable",get:function(){var e=this.view,t=this.views;return t.indexOf(e)<t.length-1}},{key:"drillUpAvailable",get:function(){var e=this.view;return this.views.indexOf(e)>0}}])&&jt(t.prototype,n),r&&jt(t,r),o}(i.Component);un.defaultProps={maxDate:Gt,maxDetail:"month",minDate:Yt,minDetail:"century",returnValue:"start",showNavigation:!0,showNeighboringMonth:!0};var ln=s.a.instanceOf(Date),cn=s.a.oneOfType([s.a.string,Y]);un.propTypes={activeStartDate:ln,allowPartialRange:s.a.bool,calendarType:q,className:B,defaultActiveStartDate:ln,defaultValue:cn,defaultView:K,formatDay:s.a.func,formatLongDate:s.a.func,formatMonth:s.a.func,formatMonthYear:s.a.func,formatShortWeekday:s.a.func,formatYear:s.a.func,inputRef:W,locale:s.a.string,maxDate:H,maxDetail:s.a.oneOf(Xt),minDate:V,minDetail:s.a.oneOf(Xt),navigationAriaLabel:s.a.string,navigationLabel:s.a.func,next2AriaLabel:s.a.string,next2Label:s.a.node,nextAriaLabel:s.a.string,nextLabel:s.a.node,onActiveStartDateChange:s.a.func,onChange:s.a.func,onClickDay:s.a.func,onClickDecade:s.a.func,onClickMonth:s.a.func,onClickWeekNumber:s.a.func,onClickYear:s.a.func,onDrillDown:s.a.func,onDrillUp:s.a.func,onViewChange:s.a.func,prev2AriaLabel:s.a.string,prev2Label:s.a.node,prevAriaLabel:s.a.string,prevLabel:s.a.node,returnValue:s.a.oneOf(["start","end","range"]),selectRange:s.a.bool,showDoubleView:s.a.bool,showFixedNumberOfWeeks:s.a.bool,showNavigation:s.a.bool,showNeighboringMonth:s.a.bool,showWeekNumbers:s.a.bool,tileClassName:s.a.oneOfType([s.a.func,B]),tileContent:s.a.oneOfType([s.a.func,s.a.node]),tileDisabled:s.a.func,value:cn,view:K};t.default=un},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return I}));var r=n(2),i=n.n(r),a=n(38),o=n(7),s=n.n(o),u=function(e){return e.getBoundingClientRect()},l=function(e,t){return{get collidedTop(){return u(e).top<u(t).top},get collidedBottom(){return u(e).bottom>u(t).bottom},get collidedLeft(){return u(e).left<u(t).left},get collidedRight(){return u(e).right>u(t).right},get overflowTop(){return u(t).top-u(e).top},get overflowBottom(){return u(e).bottom-u(t).bottom},get overflowLeft(){return u(t).left-u(e).left},get overflowRight(){return u(e).right-u(t).right}}},c=function(e){},f=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.apply(void 0,["warn"].concat(t))};function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==T(t)&&"function"!==typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){return(T="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var k="undefined"!==typeof window,O=k&&"CSS"in window&&"supports"in window.CSS&&CSS.supports("display","contents"),S=k&&"MutationObserver"in window;function A(e){return e[0].toUpperCase()+e.slice(1)}function E(e){if(e){for(var t=e.parentElement;t;){if(window.getComputedStyle(t).overflow.split(" ").every((function(e){return"auto"===e||"scroll"===e})))return t;t=t.parentElement}return document.documentElement}}function C(e){var t=e.axis,n=e.container,r=e.element,i=e.invertAxis,a=e.secondary,o=e.scrollContainer,s=e.spacing,u=window.getComputedStyle(r),c=n.parentElement,h=l(c,o),d=l(c,document.documentElement),p="x"===t,v=p?"left":"top",g=p?"right":"bottom",y=p?"width":"height",m="overflow".concat(A(v)),b="overflow".concat(A(g)),_="scroll".concat(A(v)),w=A(y),x="offset".concat(w),k="client".concat(w),O="min-".concat(y),S=o[x]-o[k],E="object"===T(s)?s[v]:s,C=-Math.max(h[m],d[m]+document.documentElement[_])-E,M="object"===T(s)?s[g]:s,I=-Math.max(h[b],d[b]-document.documentElement[_])-M-S;a&&(C+=c[k],I+=c[k]);var D=r[x];function P(){r.style[v]="unset",r.style[g]=a?"0":"100%"}function N(){r.style[v]=a?"0":"100%",r.style[g]="unset"}function j(e,t){var n=D<=e;return n&&t(),n}function L(){return j(C,P)}function R(){return j(I,N)}(i?L()||R():R()||L())||function(){var e=C>I,t=u[O]&&parseInt(u[O],10);function n(e){t&&e<t&&f("<Fit />'s child will not fit anywhere with its current ".concat(O," of ").concat(t,"px."));var n=Math.max(e,t||0);f("<Fit />'s child needed to have its ".concat(y," decreased to ").concat(n,"px.")),r.style[y]="".concat(n,"px")}e?(n(C),P()):(n(I),N())}()}function M(e){var t=e.invertAxis,n=e.invertSecondaryAxis,r=b(e,["invertAxis","invertSecondaryAxis"]);!function(e){C(e)}(w(w({},r),{},{invertAxis:t})),function(e){C(w(w({},e),{},{axis:"x"===e.axis?"y":"x",secondary:!0}))}(w(w({},r),{},{invertAxis:n}))}var I=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(s,e);var t,n,r,o=v(s);function s(){var e;h(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return x(y(e=o.call.apply(o,[this].concat(n))),"onMutation",(function(){e.fit()})),x(y(e),"mutationObserver",S&&new MutationObserver(e.onMutation)),x(y(e),"fit",(function(){var t=y(e),n=t.scrollContainer,r=t.container,i=t.element;if(i){var a=i.clientWidth,o=i.clientHeight;if(e.elementWidth!==a||e.elementHeight!==o){e.elementWidth=a,e.elementHeight=o;var s=r.parentElement;if(s){"absolute"!==window.getComputedStyle(i).position&&(f("<Fit />'s child does not have absolute position. You should apply `position: absolute` to it."),i.style.position="absolute");var u=window.getComputedStyle(s).position;"relative"!==u&&"absolute"!==u&&(f("<Fit />'s parent does not have relative position. You should apply `position: relative` to it."),s.style.position="relative");var l=e.props;M({container:r,element:i,invertAxis:l.invertAxis,invertSecondaryAxis:l.invertSecondaryAxis,axis:l.mainAxis,scrollContainer:n,spacing:l.spacing})}}}})),e}return t=s,(n=[{key:"componentDidMount",value:function(){if(!O){var e=Object(a.findDOMNode)(this);this.container=e,this.element=e,this.scrollContainer=E(e)}this.fit(),S&&this.mutationObserver.observe(this.element,{attributes:!0,attributeFilter:["class","style"]})}},{key:"render",value:function(){var e=this,t=this.props.children,n=i.a.Children.only(t);return O?i.a.createElement("span",{ref:function(t){e.container=t;var n=t&&t.firstChild;e.element=n,e.scrollContainer=E(n)},style:{display:"contents"}},n):n}}])&&d(t.prototype,n),r&&d(t,r),s}(r.Component);I.propTypes={children:s.a.node,invertAxis:s.a.bool,invertSecondaryAxis:s.a.bool,mainAxis:s.a.oneOf(["x","y"]),spacing:s.a.oneOfType([s.a.number,s.a.shape({bottom:s.a.number.isRequired,left:s.a.number.isRequired,right:s.a.number.isRequired,top:s.a.number.isRequired})])},I.defaultProps={mainAxis:"y",spacing:8}}]]);
//# sourceMappingURL=2.723652ef.chunk.js.map