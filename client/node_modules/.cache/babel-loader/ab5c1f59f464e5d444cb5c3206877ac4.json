{"ast":null,"code":"import _slicedToArray from\"/Users/jonathaningram/Desktop/testing1/Sprint6/ProjectTitan/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/jonathaningram/Desktop/testing1/Sprint6/ProjectTitan/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9;import React,{useState,useRef,useEffect,useCallback}from'react';import{useSpring,animated}from'react-spring';import styled from'styled-components';import{MdClose}from'react-icons/md';import Axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Background=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 0px;\\n  height: 0px;\\n  position: fixed;\\n  display: flex;\\n  align-items: center;\\n  z-index: 10;\\n\"])));var ModalWrapper=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  top: 200px;\\n  width: 485px;\\n  height: 100%;\\n  box-shadow: 0 5px 16px rgba(0, 0, 0, 0.2);\\n  background: grey;\\n  position: relative;\\n  border-radius: 10px;\\n\"])));var ModalContent=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: left;\\n  align-items: left;\\n  line-height: 1.8;\\n  p {\\n    margin-bottom: 1rem;\\n  }\\n  form {\\n    text-align: left;\\n    color: lightblue;\\n  }\\n  header {\\n    \\n    font-size: 20pt;\\n    text-align: left;\\n  }\\n\"])));var CloseModalButton=styled(MdClose)(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  cursor: pointer;\\n  position: absolute;\\n  top: 0px;\\n  right: 20px;\\n  width: 20px;\\n  height: 40px;\\n  padding: 0;\\n  z-index: 10;\\n\"])));var InputStyle=styled.input(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\nmargin-bottom: 20px;\\nwidth: 40%;\\n\"])));var Submit=styled.button(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\nmargin-top: 20px;\\nwidth: 50%;\\nposition: relative;\\nleft: 20%;\\n\"])));var TR=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\npadding-right: 10px;\\nfont-size: 17px;\\n\"])));var Menu=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  display: flex;\\n  width: 100%;\\n  overflow-x: auto;\\n\"])));var Form=styled.form(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\nwidth: 11%;\\n\"])));export var ParkwideModal=function ParkwideModal(_ref){var showModal=_ref.showModal,setShowModal=_ref.setShowModal,ride=_ref.ride;var modalRef=useRef();var animation=useSpring({config:{duration:250},opacity:showModal?1:0,transform:showModal?\"translateY(0%)\":\"translateY(100%)\"});var closeModal=function closeModal(e){if(modalRef.current===e.target){setShowModal(false);}};var keyPress=useCallback(function(e){if(e.key==='Escape'&&showModal){setShowModal(false);console.log('I pressed');}},[setShowModal,showModal]);useEffect(function(){document.addEventListener('keydown',keyPress);return function(){return document.removeEventListener('keydown',keyPress);};},[keyPress]);//states\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),startingTime=_useState2[0],setStartingTime=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),endingTime=_useState4[0],setEndingTime=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),timeValue=_useState6[0],setTime=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),typeState=_useState8[0],setTypeState=_useState8[1];useEffect(function(){var typeState=[{id:1,type:\"Wait Time\"},{id:2,type:\"Throughput\"},{id:3,type:\"Available Seats\"},{id:4,type:\"Available Down\"}];setTypeState(typeState.map(function(d){return{select:false,id:d.id,type:d.type};}));},[]);//state to get all attractions\n//send the attraction data to the backend running on port 3001\n//specifically /addAttraction\nvar submitInterval=function submitInterval(){Axios.post('http://18.204.6.173:3001/addParkInterval',{ride_name:ride,timeValue:timeValue,typeState:typeState.map(function(d,i){if(d.select===true){var checkData={isChecked:true,id:d.id,type:d.type};//[d.id, d.type, d.select]                    \nreturn checkData;}else{var _checkData={isChecked:false,id:d.id,type:d.type};//[d.id, d.type, d.select]                    \nreturn _checkData;}}),startingTime:startingTime,endingTime:endingTime}).then(function(){alert('successful insert');}).then(function(){console.log(\"Successfully sent to port 3001\");});};var emptyBoxArray=[];var changeInputColor=function changeInputColor(emptyBoxArray){for(var index=0;index<emptyBoxArray.length;index++){var element=emptyBoxArray[index];console.log(document.getElementById(element));document.getElementById(element).style.backgroundColor=\"pink\";if(element=='dataID'){document.getElementById(\"collectDataID\").style.color=\"red\";}if(element=='timeValueID'){document.getElementById(\"timeID\").style.color=\"red\";}if(element=='startingTimeID'){document.getElementById(\"startingID\").style.color=\"red\";}if(element=='endingTimeID'){document.getElementById(\"endingID\").style.color=\"red\";}}};var checkArray=[];var checkEmpty=function checkEmpty(){var empty=false;if(timeValue==''){alert(\"Time Value is empty\");emptyBoxArray.push('timeValueID');empty=true;}else if(timeValue<=0){alert(\"Time Value must be greater than 0\");emptyBoxArray.push('timeValueID');empty=true;}typeState.map(function(d){if(d.select===false){checkArray.push(d.type);}});if(checkArray.length==typeState.length){alert(\"No checkboxes are selected\");emptyBoxArray.push('dataID');empty=true;}if(startingTime==''){alert(\"Starting Time is empty\");emptyBoxArray.push('startingTimeID');empty=true;}if(endingTime==''){alert(\"Ending Time is empty\");emptyBoxArray.push('endingTimeID');empty=true;}return empty;};return/*#__PURE__*/_jsx(_Fragment,{children:showModal?/*#__PURE__*/_jsx(Background,{onClick:closeModal,ref:modalRef,children:/*#__PURE__*/_jsx(animated.div,{style:animation,children:/*#__PURE__*/_jsxs(ModalWrapper,{showModal:showModal,children:[/*#__PURE__*/_jsxs(ModalContent,{children:[/*#__PURE__*/_jsx(\"header\",{children:\"Add an Interval\"}),/*#__PURE__*/_jsx(\"form\",{id:\"timeID\",children:\"Time Value:\"}),/*#__PURE__*/_jsx(InputStyle,{id:\"timeValueID\",type:\"number\",name:\"Time\",onChange:function onChange(e){setTime(e.target.value);}}),/*#__PURE__*/_jsx(\"form\",{id:\"collectDataID\",children:\"Collect:            \"}),/*#__PURE__*/_jsx(Menu,{children:typeState.map(function(d,i){return/*#__PURE__*/_jsxs(TR,{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"input\",{id:\"dataID\",class:\"checkbox\",onChange:function onChange(event){var checked=event.target.checked;setTypeState(typeState.map(function(data){if(d.id===data.id){data.select=checked;var checkID=d.id;console.log(checkID);}return data;}));},type:\"checkbox\",checked:d.select})}),/*#__PURE__*/_jsx(\"td\",{children:d.type})]},d.id);})}),/*#__PURE__*/_jsx(\"form\",{id:\"startingID\",children:\"Starting:\"}),/*#__PURE__*/_jsx(InputStyle,{id:\"startingTimeID\",type:\"time\",name:\"startingTime\",onChange:function onChange(e){setStartingTime(e.target.value);}}),/*#__PURE__*/_jsx(\"form\",{id:\"endingID\",children:\"Ending:\"}),/*#__PURE__*/_jsx(InputStyle,{id:\"endingTimeID\",type:\"time\",name:\"endingTime\",onChange:function onChange(e){setEndingTime(e.target.value);}}),/*#__PURE__*/_jsx(Submit,{onClick:function onClick(){if(checkEmpty()==true){changeInputColor(emptyBoxArray);}else{setShowModal(function(prev){return!prev;});submitInterval();setTimeout(function(){window.location.reload();},1);}},children:\"Submit\"})]}),/*#__PURE__*/_jsx(CloseModalButton,{\"aria-label\":\"Close modal\",onClick:function onClick(){return setShowModal(function(prev){return!prev;});}})]})})}):null});};","map":{"version":3,"sources":["/Users/jonathaningram/Desktop/testing1/Sprint6/ProjectTitan/client/src/components/Interval/ParkwideModal.js"],"names":["React","useState","useRef","useEffect","useCallback","useSpring","animated","styled","MdClose","Axios","Background","div","ModalWrapper","ModalContent","CloseModalButton","InputStyle","input","Submit","button","TR","Menu","Form","form","ParkwideModal","showModal","setShowModal","ride","modalRef","animation","config","duration","opacity","transform","closeModal","e","current","target","keyPress","key","console","log","document","addEventListener","removeEventListener","startingTime","setStartingTime","endingTime","setEndingTime","timeValue","setTime","typeState","setTypeState","id","type","map","d","select","submitInterval","post","ride_name","i","checkData","isChecked","then","alert","emptyBoxArray","changeInputColor","index","length","element","getElementById","style","backgroundColor","color","checkArray","checkEmpty","empty","push","value","event","checked","data","checkID","prev","setTimeout","window","location","reload"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { useSpring, animated } from 'react-spring';\nimport styled from 'styled-components';\nimport { MdClose } from 'react-icons/md';\nimport Axios from 'axios';\n\n\nconst Background = styled.div`\n  width: 0px;\n  height: 0px;\n  position: fixed;\n  display: flex;\n  align-items: center;\n  z-index: 10;\n`;\n\nconst ModalWrapper = styled.div`\n  top: 200px;\n  width: 485px;\n  height: 100%;\n  box-shadow: 0 5px 16px rgba(0, 0, 0, 0.2);\n  background: grey;\n  position: relative;\n  border-radius: 10px;\n`;\n\n\nconst ModalContent = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: left;\n  align-items: left;\n  line-height: 1.8;\n  p {\n    margin-bottom: 1rem;\n  }\n  form {\n    text-align: left;\n    color: lightblue;\n  }\n  header {\n    \n    font-size: 20pt;\n    text-align: left;\n  }\n`;\n\nconst CloseModalButton = styled(MdClose)`\n  cursor: pointer;\n  position: absolute;\n  top: 0px;\n  right: 20px;\n  width: 20px;\n  height: 40px;\n  padding: 0;\n  z-index: 10;\n`;\n\nconst InputStyle = styled.input`\nmargin-bottom: 20px;\nwidth: 40%;\n`\nconst Submit = styled.button`\nmargin-top: 20px;\nwidth: 50%;\nposition: relative;\nleft: 20%;\n`\nconst TR = styled.div`\npadding-right: 10px;\nfont-size: 17px;\n`\n\nconst Menu = styled.div`\n  display: flex;\n  width: 100%;\n  overflow-x: auto;\n`;\n\nconst Form = styled.form`\nwidth: 11%;\n`\nexport const ParkwideModal = ({ showModal, setShowModal, ride }) => {\n  const modalRef = useRef();\n\n  const animation = useSpring({\n    config: {\n      duration: 250\n    },\n    opacity: showModal ? 1 : 0,\n    transform: showModal ? `translateY(0%)` : `translateY(100%)`\n  });\n\n  const closeModal = e => {\n    if (modalRef.current === e.target) {\n      setShowModal(false);\n    }\n  };\n\n  const keyPress = useCallback(\n    e => {\n      if (e.key === 'Escape' && showModal) {\n        setShowModal(false);\n        console.log('I pressed');\n      }\n    },\n    [setShowModal, showModal]\n  );\n\n  useEffect(() => {\n      document.addEventListener('keydown', keyPress);\n      return () => document.removeEventListener('keydown', keyPress);\n    },\n    [keyPress]\n  );\n\n  //states\n  const [startingTime, setStartingTime] = useState('');\n  const [endingTime, setEndingTime] = useState('');\n  const [timeValue, setTime] = useState('');\n  const [typeState, setTypeState] = useState([]);\n\n  useEffect(() => {\n    let typeState = [\n      { id: 1, type: \"Wait Time\"},\n      { id: 2, type: \"Throughput\"},\n      { id: 3, type: \"Available Seats\"},\n      { id: 4, type: \"Available Down\"},\n    ];\n    setTypeState(\n      typeState.map(d => {\n        return {\n          select: false,\n          id: d.id,\n          type: d.type,\n        };\n      })\n    );\n  }, []);\n  //state to get all attractions\n  //send the attraction data to the backend running on port 3001\n  //specifically /addAttraction\n  \n  const submitInterval = () =>{\n    Axios.post('http://18.204.6.173:3001/addParkInterval', {\n                  ride_name: ride,\n                  timeValue: timeValue,\n                  typeState: typeState.map((d, i)=>  {\n                  if (d.select === true) {\n\n                    const checkData = {\n                      isChecked: true,\n                      id: d.id,\n                      type: d.type\n                    }\n                    //[d.id, d.type, d.select]                    \n\n                    return checkData;\n                  }\n                  else {\n                    const checkData = {\n                      isChecked: false,\n                      id: d.id,\n                      type: d.type\n                    }\n                    //[d.id, d.type, d.select]                    \n\n                    return checkData;\n                  }\n                  }),\n                  startingTime: startingTime,\n                  endingTime: endingTime}).then(() =>{\n                    alert('successful insert');\n                }).then( () => {\n                  console.log(\"Successfully sent to port 3001\");\n                });\n  };\n\n  var emptyBoxArray = [];\n  const changeInputColor = (emptyBoxArray) => {\n    for (let index = 0; index < emptyBoxArray.length; index++) {\n      var element = emptyBoxArray[index];\n      console.log(document.getElementById(element));\n      document.getElementById(element).style.backgroundColor = \"pink\";\n      if(element == 'dataID'){\n        document.getElementById(\"collectDataID\").style.color = \"red\";\n      }\n      if(element == 'timeValueID'){\n        document.getElementById(\"timeID\").style.color = \"red\";\n      }\n      if(element == 'startingTimeID'){\n        document.getElementById(\"startingID\").style.color = \"red\";\n      }\n      if(element == 'endingTimeID'){\n        document.getElementById(\"endingID\").style.color = \"red\";\n      }\n    }\n  }\nvar checkArray = [];\n  const checkEmpty = () => {\n    var empty = false;\n    if(timeValue == '') {\n      alert(\"Time Value is empty\");\n      emptyBoxArray.push('timeValueID');\n      empty = true;\n    }\n    else if(timeValue <= 0){\n    alert(\"Time Value must be greater than 0\");\n    emptyBoxArray.push('timeValueID');\n    empty = true;\n    }\n    typeState.map((d)=>  {\n    if (d.select === false) {\n        checkArray.push(d.type)\n    }})\n    if(checkArray.length == typeState.length) {\n      alert(\"No checkboxes are selected\");\n      emptyBoxArray.push('dataID');\n      empty = true;\n    }\n    if(startingTime == '') {\n      alert(\"Starting Time is empty\");\n      emptyBoxArray.push('startingTimeID');\n      empty = true;\n    }\n    if(endingTime == '') {\n      alert(\"Ending Time is empty\");\n      emptyBoxArray.push('endingTimeID');\n      empty = true;\n    }\n    return empty;\n  }\n  return (\n    <>\n      {showModal ? (\n        <Background onClick={closeModal} ref={modalRef}>\n          <animated.div style={animation}>\n            <ModalWrapper showModal={showModal}>\n              <ModalContent>\n\n                <header>Add an Interval</header>\n                {/* <form> Ride Name</form>\n                <InputStyle type='text' name='Name' onChange={(e) => {\n                  setRideName(e.target.value);\n                }}></InputStyle> */}\n                <form id='timeID' >Time Value:</form>\n                <InputStyle id='timeValueID' type='number' name='Time' onChange={(e) => {\n                  setTime(e.target.value);\n                }}></InputStyle>\n                <form id='collectDataID' >Collect:            </form>\n                  <Menu>\n                {typeState.map((d, i) => ( \n                <TR key={d.id}>\n             <th>\n     \n                <input \n                  id = 'dataID'\n                  class=\"checkbox\"\n                  onChange={event => {\n                    let checked = event.target.checked;\n                    setTypeState(\n                      typeState.map(data => {\n                        if (d.id === data.id) {\n                          data.select = checked;\n                          var checkID = d.id;\n                          console.log(checkID);\n                        }\n                        return data;\n                      })\n                    );\n                  }}\n                  type=\"checkbox\"\n                  checked={d.select}\n                ></input>\n                  </th>\n              <td>{d.type}</td>\n\n            </TR>\n                ))}\n                </Menu>\n\n                <form id='startingID'>Starting:</form>\n\n                <InputStyle id='startingTimeID' type='time' name='startingTime' onChange={(e) => {\n                  setStartingTime(e.target.value);\n                }}></InputStyle>\n\n                <form id='endingID'>Ending:</form>\n                <InputStyle id='endingTimeID' type='time' name='endingTime' onChange={(e) => {\n                  setEndingTime(e.target.value);\n                }}></InputStyle>\n\n<Submit \n                onClick={() => {\n\n                                  if(checkEmpty() == true){\n                                    changeInputColor(emptyBoxArray);\n                                  }\n                                  else {\n                                    setShowModal(prev => !prev);\n                                    submitInterval();\n                                    setTimeout(function(){\n                                      window.location.reload(); \n                                    }, 1);\n                                  }\n\n                               }}>Submit</Submit>\n              \n                \n\n\n              </ModalContent>\n              <CloseModalButton\n                aria-label='Close modal'\n                onClick={() => setShowModal(prev => !prev)}\n              />\n\n            </ModalWrapper>\n          </animated.div>\n        </Background>\n      ) : null}\n    </>\n  );\n};"]},"metadata":{},"sourceType":"module"}