{"ast":null,"code":"import _slicedToArray from\"/Users/jonathaningram/Desktop/testing1/Sprint6/ProjectTitan/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/jonathaningram/Desktop/testing1/Sprint6/ProjectTitan/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14,_templateObject15;import styled from'styled-components';import plus from'./plusSign.png';import{ParkwideModal}from'./ParkwideModal';import{GlobalStyle}from'../../globalStyles';import Axios from'axios';import React,{useState,useRef,useEffect,useCallback}from'react';import{MdClose}from'react-icons/md';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Label1=styled.h1(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\nmargin-left: .8%;\\nmargin-top: .9%;\\nfont-size: 175%;\\ntext-align: left;\\nfont-weight: normal;\\n\"])));var Container=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\nposition: absolute;\\nmargin-top: 20px;\\ntop: 300px;\\nwidth: 100%;\\nheight: 50%;\\nborder-bottom: 2px solid black;\\nborder-top: 2px solid black;\\n\"])));var IntervalContainer=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\nposition: absolute;\\nbottom: 0%;\\nleft: 0%;\\nheight: 90%;\\nwidth: 95%;\\nborder-top: 2px solid black;\\nborder-right: 2px solid black;\\noverflow: hidden;\\noverflow-x: scroll;\\nwhite-space: nowrap;\\n\"])));var IntervalCard=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\nwidth: 20%;;\\nheight: 100%;\\nborder-right: 2px solid black;\\ndisplay: inline-block;\\noverflow: hidden;\\n\"])));var CardTime=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\nposition: absolute;\\ntop: 0%;\\nheight: 15%;\\nwidth: 20%;\\nborder-bottom: 2px solid black;\\ntext-align: center;\\npadding-top: 1%;\\nfont-size: 18px;\\nfont-weight: bold;\\noverflow: hidden;\\n\"])));var CardCollect=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\nposition: absolute;\\ntop: 15%;\\nheight: 30%;\\nwidth: 20%;\\nborder-bottom: 2px solid black;\\ntext-align: left;\\nfont-size: 120%;\\nfont-weight: bold;\\noverflow: hidden;\\n\"])));var CardFrom=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\nposition: absolute;\\ntop: 45%;\\nheight: 15%;\\nwidth: 20%;\\nborder-bottom: 2px solid black;\\ntext-align: left;\\nfont-size: 120%;\\nfont-weight: bold;\\noverflow: hidden;\\n\"])));var CardStarting=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\nposition: absolute;\\ntop: 60%;\\nheight: 20%;\\nwidth: 20%;\\nborder-bottom: 2px solid black;\\ntext-align: left;\\nfont-size: 120%;\\nfont-weight: bold;\\noverflow: hidden;\\n\"])));var CardEnding=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\nposition: absolute;\\ntop: 80%;\\nheight: 20%;\\nwidth: 20%;\\ntext-align: left;\\nfont-size: 120%;\\nfont-weight: bold;\\noverflow: hidden;\\n\"])));var Image=styled.img(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\ndisplay:flex;\\nheight: 70px;\\n\"])));var Button=styled.button(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\ndisplay: inline-block;\\nbackground: transparent;\\nposition: absolute;\\nleft: 7%;\\ntop: 42%;\\nborder: none;\\n\"])));var DeleteButton=styled(MdClose)(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n  cursor: pointer;\\n  position: absolute;\\n  top: 0px;\\n  right: 15px;\\n  width: 20px;\\n  height: 30px;\\n  padding: 0;\\n  \\n\"])));var Variables=styled.li(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\nfont-size: 14px;\\nmargin-left: 5%;\\noverflow: hidden;\\n\"])));var InputVariables=styled.input(_templateObject14||(_templateObject14=_taggedTemplateLiteral([\"\\nwidth: 70px;\\n\"])));var SubmitButton=styled.button(_templateObject15||(_templateObject15=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  bottom: 0px;\\n  left: 80%;\\n  height: 20px;\\n  font-size: 10px;\\n  overflow: hidden;\\n\"])));var ParkwideIntervals=function ParkwideIntervals(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showModal=_useState2[0],setShowModal=_useState2[1];var openModal=function openModal(){setShowModal(function(prev){return!prev;});};var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),parkIntervalList=_useState4[0],setParkIntervalList=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),rideSelect=_useState6[0],setRideSelect=_useState6[1];var deleteInterval=function deleteInterval(id){Axios.delete(\"http://18.204.6.173:3001/deleteParkInterval/\".concat(id));};//edit info\nvar _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),WaitTime=_useState8[0],setWaitTime=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),Throughput=_useState10[0],setThroughput=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),AvailableSeats=_useState12[0],setAvailableSeats=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),AvailableDown=_useState14[0],setAvailableDown=_useState14[1];var editParkInterval=function editParkInterval(id){Axios.put('http://18.204.6.173:3001/editParkInterval',{id:id,WaitTime:WaitTime,Throughput:Throughput,AvailableSeats:AvailableSeats,AvailableDown:AvailableDown}).then(function(){alert('successful insert');}).then(function(){console.log(\"Successfully sent to port 3001\");});};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Label1,{children:\"Parkwide Intervals\"}),/*#__PURE__*/_jsxs(IntervalContainer,{children:[/*#__PURE__*/_jsxs(IntervalCard,{children:[/*#__PURE__*/_jsxs(Button,{onClick:openModal,children:[\" \",/*#__PURE__*/_jsx(Image,{src:plus,Image:true}),\" \"]}),/*#__PURE__*/_jsx(ParkwideModal,{showModal:showModal,setShowModal:setShowModal}),/*#__PURE__*/_jsx(GlobalStyle,{})]}),useEffect(function(){Axios.get('http://18.204.6.173:3001/getParkInterval').then(function(res){setParkIntervalList(res.data);}).catch(function(err){return console.log(err);});},[]),parkIntervalList.map(function(val,key){var id=val.id;var emptyArrayTest=\"emptyArray\".concat(id);emptyArrayTest=[];var checkWait=function checkWait(){if(val.checkedWaitTime==true){if(WaitTime==''){console.log(\"waitTime\".concat(id));emptyArrayTest.push(\"waitTime\".concat(id));}else if(WaitTime<0){emptyArrayTest.push(\"waitTime\".concat(id));}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Variables,{children:[\"Wait Time \",\"\\xA0\",\" \",\"\\xA0\",\" \",\"\\xA0\",\" \",\"\\xA0\",\" \",\"\\xA0\",/*#__PURE__*/_jsx(InputVariables,{id:\"waitTime\".concat(id),type:\"text\",onChange:function onChange(e){setWaitTime(e.target.value);}})]})});}};var checkThroughput=function checkThroughput(){if(val.checkedThroughput==true){if(Throughput==''){emptyArrayTest.push(\"throughput\".concat(id));}else if(Throughput<0){emptyArrayTest.push(\"throughput\".concat(id));}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Variables,{children:[\"Throughput \",\"\\xA0\",\" \",\"\\xA0\",\" \",\"\\xA0\",\" \",/*#__PURE__*/_jsx(InputVariables,{id:\"throughput\".concat(id),type:\"text\",onChange:function onChange(e){setThroughput(e.target.value);}})]})});}};var checkAvailable=function checkAvailable(){if(val.checkedAvailableSeats==true){if(AvailableSeats==''){emptyArrayTest.push(\"available\".concat(id));}else if(AvailableSeats<0){emptyArrayTest.push(\"available\".concat(id));}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Variables,{children:[\"Available Seats \",/*#__PURE__*/_jsx(InputVariables,{id:\"available\".concat(id),type:\"text\",onChange:function onChange(e){setAvailableSeats(e.target.value);}})]})});}};var checkDown=function checkDown(){if(val.checkedAvailableDown==true){if(AvailableDown==''){emptyArrayTest.push(\"down\".concat(id));}else if(AvailableDown<0){emptyArrayTest.push(\"down\".concat(id));}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Variables,{children:[\"Available Down \",/*#__PURE__*/_jsx(InputVariables,{id:\"down\".concat(id),type:\"text\",onChange:function onChange(e){setAvailableDown(e.target.value);}})]})});}};return/*#__PURE__*/_jsxs(IntervalCard,{children:[/*#__PURE__*/_jsxs(CardTime,{children:[\"Every \",val.timeValue,\" Minutes\",/*#__PURE__*/_jsx(DeleteButton,{onClick:function onClick(){console.log(id);deleteInterval(id);setTimeout(function(){window.location.reload();},10);}})]}),/*#__PURE__*/_jsxs(CardCollect,{children:[checkWait(),checkThroughput(),checkAvailable(),checkDown(),/*#__PURE__*/_jsx(SubmitButton,{onClick:function onClick(){console.log(id);var wait=\"waitTime\".concat(id);var throughput=\"throughput\".concat(id);var seats=\"available\".concat(id);var down=\"down\".concat(id);var refresh=0;console.log(emptyArrayTest);if(emptyArrayTest.includes(wait)){document.getElementById(wait).style.background='pink';alert(\"Error! Wait time has invalid input.\");refresh=1;}if(emptyArrayTest.includes(throughput)){document.getElementById(throughput).style.background='pink';alert(\"Error! Throughput has invalid input.\");refresh=1;}if(emptyArrayTest.includes(seats)){document.getElementById(seats).style.background='pink';alert(\"Error! Available Seats has invalid input.\");refresh=1;}if(emptyArrayTest.includes(down)){document.getElementById(down).style.background='pink';alert(\"Error! Available Down has invalid input.\");refresh=1;}if(refresh==0){setTimeout(function(){window.location.reload();},2);editParkInterval(id);}},children:\"Submit\"})]}),/*#__PURE__*/_jsxs(CardFrom,{children:[\"From \",/*#__PURE__*/_jsx(\"ul\",{children:\"Reported Down Rides\"})]}),/*#__PURE__*/_jsxs(CardStarting,{children:[\"Starting\",/*#__PURE__*/_jsx(\"ul\",{children:\"At Park Opening\"}),\"  \",/*#__PURE__*/_jsxs(\"ul\",{children:[\" \",val.startingTime,\" \"]}),\" \"]}),/*#__PURE__*/_jsxs(CardEnding,{children:[\"Ending\",/*#__PURE__*/_jsx(\"ul\",{children:\"At Park Closing \"}),\" \",/*#__PURE__*/_jsx(\"ul\",{children:val.endingTime})]})]});})]})]});};export default ParkwideIntervals;","map":{"version":3,"sources":["/Users/jonathaningram/Desktop/testing1/Sprint6/ProjectTitan/client/src/components/Interval/ParkwideIntervals.js"],"names":["styled","plus","ParkwideModal","GlobalStyle","Axios","React","useState","useRef","useEffect","useCallback","MdClose","Label1","h1","Container","div","IntervalContainer","IntervalCard","CardTime","CardCollect","CardFrom","CardStarting","CardEnding","Image","img","Button","button","DeleteButton","Variables","li","InputVariables","input","SubmitButton","ParkwideIntervals","showModal","setShowModal","openModal","prev","parkIntervalList","setParkIntervalList","rideSelect","setRideSelect","deleteInterval","id","delete","WaitTime","setWaitTime","Throughput","setThroughput","AvailableSeats","setAvailableSeats","AvailableDown","setAvailableDown","editParkInterval","put","then","alert","console","log","get","res","data","catch","err","map","val","key","emptyArrayTest","checkWait","checkedWaitTime","push","e","target","value","checkThroughput","checkedThroughput","checkAvailable","checkedAvailableSeats","checkDown","checkedAvailableDown","timeValue","setTimeout","window","location","reload","wait","throughput","seats","down","refresh","includes","document","getElementById","style","background","startingTime","endingTime"],"mappings":"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","sourcesContent":["import styled from 'styled-components';\nimport plus from './plusSign.png'\nimport { ParkwideModal } from './ParkwideModal';\nimport { GlobalStyle } from '../../globalStyles';\nimport Axios from 'axios'\nimport React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { MdClose } from 'react-icons/md';\n\nconst Label1 = styled.h1`\nmargin-left: .8%;\nmargin-top: .9%;\nfont-size: 175%;\ntext-align: left;\nfont-weight: normal;\n`\n\nconst Container = styled.div`\nposition: absolute;\nmargin-top: 20px;\ntop: 300px;\nwidth: 100%;\nheight: 50%;\nborder-bottom: 2px solid black;\nborder-top: 2px solid black;\n`\n\nconst IntervalContainer = styled.div`\nposition: absolute;\nbottom: 0%;\nleft: 0%;\nheight: 90%;\nwidth: 95%;\nborder-top: 2px solid black;\nborder-right: 2px solid black;\noverflow: hidden;\noverflow-x: scroll;\nwhite-space: nowrap;\n`\n\n\nconst IntervalCard = styled.div`\nwidth: 20%;;\nheight: 100%;\nborder-right: 2px solid black;\ndisplay: inline-block;\noverflow: hidden;\n`\nconst CardTime = styled.div`\nposition: absolute;\ntop: 0%;\nheight: 15%;\nwidth: 20%;\nborder-bottom: 2px solid black;\ntext-align: center;\npadding-top: 1%;\nfont-size: 18px;\nfont-weight: bold;\noverflow: hidden;\n`\nconst CardCollect = styled.div`\nposition: absolute;\ntop: 15%;\nheight: 30%;\nwidth: 20%;\nborder-bottom: 2px solid black;\ntext-align: left;\nfont-size: 120%;\nfont-weight: bold;\noverflow: hidden;\n`\n\nconst CardFrom = styled.div`\nposition: absolute;\ntop: 45%;\nheight: 15%;\nwidth: 20%;\nborder-bottom: 2px solid black;\ntext-align: left;\nfont-size: 120%;\nfont-weight: bold;\noverflow: hidden;\n`\n\nconst CardStarting = styled.div`\nposition: absolute;\ntop: 60%;\nheight: 20%;\nwidth: 20%;\nborder-bottom: 2px solid black;\ntext-align: left;\nfont-size: 120%;\nfont-weight: bold;\noverflow: hidden;\n`\n\nconst CardEnding = styled.div`\nposition: absolute;\ntop: 80%;\nheight: 20%;\nwidth: 20%;\ntext-align: left;\nfont-size: 120%;\nfont-weight: bold;\noverflow: hidden;\n`\n\nconst Image = styled.img`\ndisplay:flex;\nheight: 70px;\n`\n\nconst Button = styled.button`\ndisplay: inline-block;\nbackground: transparent;\nposition: absolute;\nleft: 7%;\ntop: 42%;\nborder: none;\n`\nconst DeleteButton = styled(MdClose)`\n  cursor: pointer;\n  position: absolute;\n  top: 0px;\n  right: 15px;\n  width: 20px;\n  height: 30px;\n  padding: 0;\n  \n`\nconst Variables = styled.li`\nfont-size: 14px;\nmargin-left: 5%;\noverflow: hidden;\n`\nconst InputVariables = styled.input`\nwidth: 70px;\n`\n\nconst SubmitButton = styled.button`\n  position: absolute;\n  bottom: 0px;\n  left: 80%;\n  height: 20px;\n  font-size: 10px;\n  overflow: hidden;\n`\nconst ParkwideIntervals = () => {\n    const [showModal, setShowModal] = useState(false);\n\n    const openModal = () => {\n    setShowModal(prev => !prev);\n    };\n\n    const [parkIntervalList, setParkIntervalList] = useState([]);\n    const [rideSelect, setRideSelect] = useState('');\n\n    const deleteInterval = (id) => {\n        Axios.delete(`http://18.204.6.173:3001/deleteParkInterval/${id}`);\n        };\n    \n    //edit info\n    const [WaitTime, setWaitTime] = useState('');\n    const [Throughput, setThroughput] = useState('');\n    const [AvailableSeats, setAvailableSeats] = useState('');\n    const [AvailableDown, setAvailableDown] = useState('');\n\n    const editParkInterval = (id) =>{\n        Axios.put('http://18.204.6.173:3001/editParkInterval', {\n\n            id: id,\n            WaitTime: WaitTime,\n            Throughput: Throughput,\n            AvailableSeats: AvailableSeats,\n            AvailableDown: AvailableDown\n                        \n            }).then(() =>{\n            alert('successful insert');\n\n        }).then( () => {\n            console.log(\"Successfully sent to port 3001\");\n        });\n        };\n        \n    return (\n        <Container>\n            <Label1>Parkwide Intervals</Label1>\n            <IntervalContainer>\n            \n            <IntervalCard>\n\n            <Button onClick={openModal}> <Image src={plus} Image/> </Button>\n                <ParkwideModal showModal={showModal} setShowModal={setShowModal} />\n                    <GlobalStyle /> \n\n            </IntervalCard>\n            {useEffect(() => {\n                Axios.get('http://18.204.6.173:3001/getParkInterval').then(res => {\n                setParkIntervalList(res.data)\n                }).catch(err => console.log(err));\n                }, [])}\n            {parkIntervalList.map((val, key) => {\n                    var id = val.id;\n                    var emptyArrayTest = `emptyArray${id}`;\n                    emptyArrayTest = [];\n\n                    const checkWait = () => {\n                        if (val.checkedWaitTime == true){\n                        if (WaitTime == ''){\n                            console.log(`waitTime${id}`)\n                            emptyArrayTest.push(`waitTime${id}`)\n                        }\n                        else if(WaitTime < 0) {\n                            emptyArrayTest.push(`waitTime${id}`)\n                        }\n                            return (\n                                <div>\n                                    <Variables>Wait Time {'\\u00A0'} {'\\u00A0'} {'\\u00A0'} {'\\u00A0'} {'\\u00A0'}<InputVariables id={`waitTime${id}`} type=\"text\" onChange={(e) => {\n                                setWaitTime(e.target.value)}}></InputVariables></Variables>\n                                </div>\n                            );\n                        }\n\n                    }\n\n                    const checkThroughput = () => {\n                        if (val.checkedThroughput == true){\n                        if (Throughput == ''){\n                            emptyArrayTest.push(`throughput${id}`)\n                        }\n                        else if(Throughput < 0) {\n                            emptyArrayTest.push(`throughput${id}`)\n                        }\n\n                        return (\n                            <div>\n                                <Variables>Throughput {'\\u00A0'} {'\\u00A0'} {'\\u00A0'} <InputVariables id={`throughput${id}`} type=\"text\" onChange={(e) => {\n                                setThroughput(e.target.value)}}></InputVariables></Variables>\n                            </div>\n                        );\n\n                        }\n                    }\n\n                    const checkAvailable = () => {\n                        if (val.checkedAvailableSeats == true){\n                        if (AvailableSeats == ''){\n                            emptyArrayTest.push(`available${id}`)\n                        }\n                        else if (AvailableSeats < 0){\n                            emptyArrayTest.push(`available${id}`)\n                        }\n\n\n                            return (\n                                <div>\n                                    <Variables>Available Seats <InputVariables id={`available${id}`} type=\"text\" onChange={(e) => {\n                                setAvailableSeats(e.target.value)}}></InputVariables></Variables>\n                                </div>\n                            );\n                        }\n                    }\n\n                    const checkDown = () => {\n                        if (val.checkedAvailableDown == true){\n                            if (AvailableDown == ''){\n                                emptyArrayTest.push(`down${id}`)\n                            }\n                            else if (AvailableDown < 0){\n                                emptyArrayTest.push(`down${id}`)\n                            }\n\n                            return (\n                                <div>\n                                    <Variables>Available Down <InputVariables id={`down${id}`} type=\"text\" onChange={(e) => {\n                                setAvailableDown(e.target.value)}}></InputVariables></Variables>\n                                </div>\n                            );\n                        }\n                    }\n\n                        return (\n                            <IntervalCard>\n                            <CardTime>Every {val.timeValue} Minutes\n                            \n                            <DeleteButton\n                             onClick={() => {console.log(id); deleteInterval(id);\n                                  setTimeout(function(){\n                                    window.location.reload(); \n                                   }, 10);\n                               }}/></CardTime>\n \n                        <CardCollect>\n                                {checkWait()}\n                                {checkThroughput()}\n                                {checkAvailable()}\n                                {checkDown()}\n                                <SubmitButton  onClick={() =>{\n                                    console.log(id)\n\n                                    var wait = `waitTime${id}`;\n                                    var throughput = `throughput${id}`;\n                                    var seats = `available${id}`;\n                                    var down = `down${id}`;\n\n                                    var refresh = 0;\n                                    console.log(emptyArrayTest);\n                                    if(emptyArrayTest.includes(wait)){\n                                        document.getElementById(wait).style.background = 'pink';\n                                        alert(\"Error! Wait time has invalid input.\")\n                                        refresh = 1;\n                                    }\n                                    if(emptyArrayTest.includes(throughput)){\n                                        document.getElementById(throughput).style.background = 'pink';\n                                        alert(\"Error! Throughput has invalid input.\")\n                                        refresh = 1;\n                                    }\n                                    if(emptyArrayTest.includes(seats)){\n                                        document.getElementById(seats).style.background = 'pink';\n                                        alert(\"Error! Available Seats has invalid input.\")\n                                        refresh = 1;\n                                    }\n                                    if(emptyArrayTest.includes(down)){\n                                        document.getElementById(down).style.background = 'pink';\n                                        alert(\"Error! Available Down has invalid input.\")\n                                        refresh = 1;\n                                    }\n                                    if (refresh == 0){\n                                        setTimeout(function(){\n                                            window.location.reload(); \n                                           }, 2);\n                                           editParkInterval(id);\n                                    }\n\n                                }}>Submit</SubmitButton>\n                            \n                        </CardCollect>\n                            <CardFrom>From <ul>Reported Down Rides</ul></CardFrom>\n                            <CardStarting>Starting<ul>At Park Opening</ul>  <ul> {val.startingTime} </ul> </CardStarting>\n                            <CardEnding>Ending<ul>At Park Closing </ul> <ul>{val.endingTime}</ul></CardEnding>\n                            </IntervalCard>\n                        );\n                    })}\n\n\n\n            </IntervalContainer>\n        </Container>\n    )\n}\n\nexport default ParkwideIntervals"]},"metadata":{},"sourceType":"module"}